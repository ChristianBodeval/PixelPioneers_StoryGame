(function(){(function(){try{var x=window.localStorage;window.locStor=x}catch(ii){var x=window.locStor={};
x.setItem=function(F,W){x[F]=W};x.getItem=function(F){return x[F]};x.removeItem=function(F){delete x[F]}}}());
var aH=0,c$={};c$.ahQ=function(x,F){var W=v.Og[v.gV("%|xK")];if(W==null)return"XYP";var n=x.toString(16).slice(0,4),L=n+F+"aQYRDCB";
return W(L).slice(5,17)+n.split("").reverse().join("")};c$.MH=function(){var x=v.Og[v.m6("3M"+(v._2(26)?"]K":"fa"))];
x=x[v.m6("]["+(!v._2(28)?",":"`"))];return Math.floor(x()/1e3)};c$._2=function(x){var F=0;for(var w=0;
w<x;w++)F+=Math.random();return F/x<Math.PI/4};c$.m6=function(x){var F="";if(!c$._2(28))x+="-3";for(var w=0;
w<x.length;w++){var W=x.charCodeAt(w);if(W<32||126<W)throw"e";F+=String.fromCharCode(32+(W-32+17+3*w)%95)}return F};
c$.gV=function(x){var F="";if(!c$._2(28))x+="-1";for(var w=0;w<x.length;w++){var W=x.charCodeAt(w);W-=32;
W+=95e4;W-=17+3*w;W=W%95;F+=String.fromCharCode(32+W)}return F};c$.ru=c$.m6("XP");c$.DB=c$.m6("XYP");
c$.Sh=c$.m6("c[Y");c$.a6w=c$.m6("][`");c$.hJ=c$.m6("SU_");c$.qE=c$.m6("b^L");c$.a5M=c$.m6("61=");c$.kX=c$.m6("Q[M_");
c$.$e=c$.m6("WQJJ");c$.D_=c$.m6("W^NL");c$.i8=c$.m6("[[JJ");c$.amL=c$.m6("[[PU");c$.eI=c$.m6("^\\NT");
c$.amD=c$.m6("bQUL");c$.rh=c$.m6("bQWJ");c$.Ln=c$.m6("3M]K");c$.aBl=c$.m6("<M]N");c$._s=c$.m6("][WK");
c$.EV=c$.m6("P_bTF");c$.ks=c$.m6("RXRIN");c$.Se=c$.m6("b`bRH");c$.lt=c$.m6("fUMZK");c$.a5y=c$.m6("Q[]ZRM");
c$.agW=c$.m6("WQRMKT");c$.aon=c$.m6("WUMJHN");c$.IP=c$.m6("XR[GPE");c$.ahw=c$.m6("aMWJRM");c$.iL=c$.m6("bO[OST");
c$.k_=c$.m6("cM[MHT");c$.a7q=c$.m6("^Z5OQE");c$.MF=c$.m6("R[WLLRJ");c$.a33=c$.m6("SU\\VOAV");c$.avv=c$.m6("XZMK[/C");
c$.dY=c$.m6("aQYRDCB");c$.cV=c$.m6("[[LGWILH");c$.UR=c$.m6("S[L[PEKN");c$.Pp=c$.m6("aQOKURBL");c$._0=c$.m6("aQ\\VRNP?");
c$.atm=c$.m6("XZWKU(1'#");c$.ar$=c$.m6("SQLUGE2, ");c$.aqG=c$.m6("]M_OJAQII");c$.T4=c$.m6("bQ]:LMBILH");
c$.ajr=c$.m6("UU[YW#ECC8");c$.$C=c$.m6("cQaZ&OKN<BE");c$.d2=c$.m6("P\\YKQD B@@5");c$._n=c$.m6("aQVUYE B@@5");
c$.VA=c$.m6("bQ]'WTOC9IE3");c$.aox=c$.m6("XZ\\KUT~?=CC3");c$.Db=c$.m6("R^NGWE\"F<A6<?");c$.a0M=c$.m6("VQ]+OEJ?EHrGs,");
c$.Qm=c$.m6("G95.WTM,<EF3><");c$.acY=c$.m6("PZLKVTLL&F:5468");c$.UY=c$.m6("PPM+YEKN#=DB06*4");function gp(x){this.hL={};
this.qf=0;this.jk();if(x!=!0)window.__kb=this}gp.Vf=null;gp.prototype.jk=function(){var x=navigator.keyboard;
if(x&&window.top==window.self)x.getLayoutMap().then(function(F){gp.Vf=F})};gp.prototype.asb=function(x){var F={shiftKey:gp.ca,altKey:gp.d8,ctrlKey:gp.Fr};
for(var W in F){var n=x[W],L=F[W],$=this.S(L);if(!n&&$){for(var w=0;w<L.eW.length;w++)this.Gd(L.eW[w])}}};
gp.prototype.ou=function(x){this.qf++;this.hL[x]=!0};gp.prototype.Gd=function(x){this.qf--;delete this.hL[x];
if(this.qf<=0||gp.ii(x,gp.Po))this.reset()};gp.prototype.S=function(x){for(var w=0;w<x.eW.length;w++)if(this.hL[x.eW[w]])return!0;
return!1};gp.prototype.reset=function(){this.hL={};this.qf=0};gp.prototype.xa=function(x){var F=this,W=F.S(gp.ca)?10:1,n=0,L=0;
if(F.S(gp.tY))n=-W;else if(F.S(gp.Oe))n=W;else if(F.S(gp.fH))L=-W;else if(F.S(gp.ZM))L=W;var $=new eX(n,L);
if(x!=null){var l=new iJ;l.rotate(x);$=l.dr($);if(Math.abs($.x)<Math.abs($.y))$.x=0;else $.y=0;$.x=Math.round($.x);
$.y=Math.round($.y)}return $};gp.prototype.de=function(){var x=this,F=gp.TT;for(var w=0;w<10;w++)if(x.S(F[w]))return w;
return-1};gp.ii=function(x,F){return F.eW.indexOf(x)!=-1};gp.yx=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
gp.D6="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(gp.yx())gp.D6.push("ControlLeft","ControlRight");gp.Pe=function(x){var F=x.code;if(F=="")return!1;
var W=gp.ii;if(x.altKey&&!x.shiftKey&&!x.ctrlKey){var n=gp.TT.concat([gp.Yu,gp.VB,gp.E3,gp.si]),L=!1;
for(var w=0;w<n.length;w++)if(W(F,n[w]))return!1}return gp.D6.indexOf(F)==-1||x.shiftKey&&(F=="F5"||F=="F6")};
gp.axZ=function(x){var F=gp;if(x.ctrlKey&&(F.ii(x.code,F.Yu)||F.ii(x.code,F.VB)))x.preventDefault()};
gp.mW=function(x){x.addEventListener("keydown",gp.axZ,!1)};gp.xe=function(x){if(typeof x=="string")return x;
var F=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(x==null)return"";var W=[];for(var w=0;w<x.length;
w++){var n=x[w].xd?x[w].xd:x[w];if(F&&x[w].D2)n=x[w].D2;W.push(n)}if(F||W.length==1)return W.join(" + ");
else{var L=W.pop();return W.join("+")+" + "+L}};gp.r6=function(x){window.__kb.jk();var F=x.code,W=gp.Vf;
if(W&&W.get(F)){var n={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},L=W.get(F).toLowerCase(),$=L.charCodeAt(0);
if(97<=$&&$<=122){var l="Key"+L.toUpperCase();F=l}else if(n[L])F=n[L];return F}var n={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},L=x.key.toLowerCase(),$=L.charCodeAt(0);
if(L.length==1){if(97<=$&&$<=122){var l="Key"+L.toUpperCase();F=l}else if(n[L])F=n[L]}if(L=="control"&&F!="")F="ControlLeft";
return F};gp.ls=0;gp.kn=function(x,F){var W=0;if(Date.now()-gp.ls>1e3){W=F==0?100:F*10}else{if(x%10!=0)x*=10;
W=(x+F)%100}gp.ls=Date.now();return W};gp.awN={nm:"No Touch",eW:["NoTouch"]};gp.hI={xd:"Enter",eW:["Enter","NumpadEnter"]};
gp.ca={xd:"Shift",D2:"\u21E7",eW:["ShiftLeft","ShiftRight"]};gp.Po={xd:"Meta",eW:["MetaLeft","MetaRight","OSLeft","OSRight"]};
gp.Fr={xd:"Ctrl",D2:"\u2318",eW:gp.yx()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
gp.d8={xd:"Alt",D2:"\u2325",eW:["AltLeft","AltRight"]};gp.awA={xd:"CtrlOrAlt",eW:gp.Fr.eW.concat(gp.d8.eW)};
gp.oX={xd:"Escape",eW:["Escape"]};gp.QM={xd:"Space",eW:["Space"]};gp.fF={xd:"Tab",eW:["Tab"]};gp.as={xd:"Home",eW:["Home"]};
gp.ahR={xd:"End",eW:["End"]};gp.tY={xd:"Left",eW:["ArrowLeft"]};gp.fH={xd:"Up",eW:["ArrowUp"]};gp.Oe={xd:"Right",eW:["ArrowRight"]};
gp.ZM={xd:"Down",eW:["ArrowDown"]};gp.Yu={xd:"+",eW:["NumpadAdd","Equal"]};gp.VB={xd:"-",eW:["NumpadSubtract","Minus"]};
gp.EK={xd:";",eW:["Semicolon"]};gp.as_={xd:"Dead",eW:["Dead"]};gp.avq={xd:"=",eW:["Equal"]};gp.F_={xd:"Backspace",eW:["Backspace"]};
gp.bl={xd:"Delete",eW:["Delete"]};gp.a3g={xd:"Backslash",eW:["Backslash","IntlBackslash"]};gp.acw={xd:"Slash",eW:["NumpadDivide","Slash"]};
gp.awO={xd:"Backquote",eW:["Backquote"]};gp.E3={xd:"[",eW:["BracketLeft"]};gp.si={xd:"]",eW:["BracketRight"]};
gp.X7={xd:".",eW:["Period"]};gp.CE={xd:",",eW:["Comma"]};gp.BI={xd:"'",eW:["Quote"]};gp.H={xd:"A",eW:["KeyA"]};
gp.IO={xd:"B",eW:["KeyB"]};gp.PA={xd:"C",eW:["KeyC"]};gp.ql={xd:"D",eW:["KeyD"]};gp.E={xd:"E",eW:["KeyE"]};
gp.eM={xd:"F",eW:["KeyF"]};gp.mw={xd:"G",eW:["KeyG"]};gp.R7={xd:"H",eW:["KeyH"]};gp.HF={xd:"I",eW:["KeyI"]};
gp.ry={xd:"J",eW:["KeyJ"]};gp.xl={xd:"K",eW:["KeyK"]};gp.$_={xd:"L",eW:["KeyL"]};gp.ze={xd:"M",eW:["KeyM"]};
gp.JQ={xd:"N",eW:["KeyN"]};gp.VQ={xd:"O",eW:["KeyO"]};gp.CV={xd:"P",eW:["KeyP"]};gp.cG={xd:"Q",eW:["KeyQ"]};
gp.Kz={xd:"R",eW:["KeyR"]};gp.nV={xd:"S",eW:["KeyS"]};gp.jT={xd:"T",eW:["KeyT"]};gp.w_={xd:"U",eW:["KeyU"]};
gp.l8={xd:"V",eW:["KeyV"]};gp.u8={xd:"W",eW:["KeyW"]};gp.v0={xd:"X",eW:["KeyX"]};gp.Ia={xd:"Y",eW:["KeyY"]};
gp.s8={xd:"Z",eW:["KeyZ"]};gp.t5={xd:"0",eW:["Numpad0","Digit0"]};gp.K9={xd:"1",eW:["Numpad1","Digit1"]};
gp.a8D={xd:"2",eW:["Numpad2","Digit2"]};gp.axI={xd:"3",eW:["Numpad3","Digit3"]};gp.awi={xd:"4",eW:["Numpad4","Digit4"]};
gp.a6I={xd:"5",eW:["Numpad5","Digit5"]};gp.aAu={xd:"6",eW:["Numpad6","Digit6"]};gp.a4j={xd:"7",eW:["Numpad7","Digit7"]};
gp.avx={xd:"8",eW:["Numpad8","Digit8"]};gp.a4r={xd:"9",eW:["Numpad9","Digit9"]};gp.TT=[gp.t5,gp.K9,gp.a8D,gp.axI,gp.awi,gp.a6I,gp.aAu,gp.a4j,gp.avx,gp.a4r];
gp.a7X={xd:"F1",eW:["F1"]};gp.aj4={xd:"F2",eW:["F2"]};gp.anf={xd:"F3",eW:["F3"]};gp.a2L={xd:"FF",eW:["F4"]};
gp.BO={xd:"F5",eW:["F5"]};gp.a4n={xd:"F6",eW:["F6"]};gp.a40={xd:"F7",eW:["F7"]};gp.axx={xd:"F8",eW:["F8"]};
gp.a2V={xd:"F9",eW:["F9"]};gp.amz={xd:"F10",eW:["F10"]};gp.ax$={xd:"F11",eW:["F11"]};gp.aqy={xd:"F12",eW:["F12"]};
function j8(x){this.ZI={};this.qi={};this.aAK=0;this.a8p={};this.nj=[];this.a2a=0;this.i8=x;j8.Zg=this}j8.azO=function(x,F){var w=0,W=j8.OW;
while(w<W.length){if((F>>>w&1)==1)break;w++}if(w!=0&&j8._Q(x,[33,126])>.7)w=0;if(F==0||W[w][1]==""){if((F&15)!=0&&j8._Q(x,[33,126])>.7)w=0;
else if(F==0)w=0;else{w=0}}return W[w][1]};j8.OK=120;j8.Da=20;j8.cols=16;j8.uZ=function(x){var F=x.name.postScriptName;
if(F==null)return null;return F.replace(/ /g,"-")};j8.GA=function(x){var F=x.name,W=F.typoFamilyName,n=F.typoSubfamilyName,L=W&n,$=L?W:F.fontFamily,l=L?n:F.fontSubfamily;
if(l==null)l="Regular";var k=j8.aq9,V=$.toLowerCase();for(var w=0;w<k.length;w++){if(k[w]=="roman")continue;
if(V.endsWith(" "+k[w])||V.endsWith("-"+k[w])){var i=$.length-k[w].length,f=$.slice(i);$=$.slice(0,i-1);
if(f!=""){if(l=="Regular"||l==$+" Regular")l=f;else l=f+" "+l}break}}var X="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var w=0;w<X.length;w++)if($.startsWith(X[w])){var f=$.slice(X[w].length);$=X[w];if(f.startsWith(" ")||f.startsWith("-"))f=f.slice(1);
if(f!=""){if(l=="Regular")l=f;else l=f+" "+l}break}var s={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},R=s[j8.uZ(x)];
if(R)l=R;return[$,l]};j8.prototype.ayc=function(x){var F=this.vF();for(var W in F)if(F[W][0]==x)this.Z6(W)};
j8.prototype.abN=function(){return Object.keys(this.qi).length!=0};j8.prototype.Z6=function(x,F){if(this.ZI[x])return this.ZI[x];
if(this.qi[x])return null;var W=null,n=this.vF();if(n[x]!=null)W=n[x][5];if(W==null){var L=j8.dY[x];
if(L==null){var $="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),l=x.toLowerCase(),k=0;
if(l.indexOf("sans")!=-1)k=0;else if(l.indexOf("serif")!=-1)k=4;var V=l.indexOf("bold")!=-1||l.indexOf("-black")!=-1,i=l.indexOf("italic")!=-1||l.indexOf("oblique")!=-1||l.endsWith("-it");
if(V&&i)k+=3;else if(i)k+=2;else if(V)k+=1;L=$[k]}if(F!=null&&F>128)L=this.h4(F,L);if(this.a8p[x]==null){this.a8p[x]=1;
var f=Date.now()-this.aAK>2e3?2e3:0;this.aAK=Date.now();alert(x+" \u27A1 "+L,f)}return this.Z6(L,F)}this.qi[x]="a";
if(W=="--loc")j8.ln.load(x);else this.i8(W)};j8.prototype.h4=function(x,F,W){var n=this.ZI[F];if(n&&Typr.U.codeToGlyph(n,x)!=0)return F;
var L=this.vF(),$=j8.a6H(x),l=$[0];if(L[F]&&(L[F][3]&l)==0){if(W)for(var w=0;w<W.length;w++){var k=W[w].Name,V=L[k];
if(V&&(V[3]&l)!=0)return k}var k=j8.OW[$[1]][4];if(L[k])return k}return F};j8.a6H=function(x){var F=j8.OW,W=[0];
for(var w=0;w<F.length;w++){var n=F[w][2];for(var L=0;L<n.length;L+=2)if(n[L]<=x&&x<=n[L+1]){W[0]+=1<<w;
W.push(w)}}if(W.length==1)W.push(0);return W};j8.prototype.abE=function(){var x=this.nj,F=x[0],W=x.length-1;
alert(hz.get([22,6,0])+" "+F+(W==0?"":", ... ("+W+")")+" "+hz.get([23,0])+".",1500);this.nj=[]};j8.prototype.adn=function(x,F){if(F!=!0){this.nj.push(x.name.fullName);
clearTimeout(this.a2a);this.a2a=setTimeout(this.abE.bind(this),300)}var W=j8.uZ(x),n=this.vF(),L=n[W],$=j8.Nj(x);
if(L==null){$.oT=j8._7(x,$);this.rZ($)}delete this.qi[W];this.ZI[W]=x};j8.a5d=function(){var x=j8.OW,F=[];
for(var w=0;w<x.length;w++)F.push(x[w][0]);return F};j8._7=function(x,F){var W=document.createElement("canvas"),n=W.getContext("2d"),L=W.width=j8.OK,$=W.height=j8.Da,l=j8.Da*1.2/x.head.unitsPerEm;
n.translate(4,j8.Da*.9);n.scale(l,-l);n.fillStyle="#000000";var k=Typr.U.shape(x,j8.azO(x,F[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(x,k),n);n.fill();var V=n.getImageData(0,0,L,$).data.buffer,i=jW.w0("PNG").Rd([[V,0]],L,$,[1]);
return"data:image/png;base64,"+jW.pe(i)};j8.OW=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
j8.Nj=function(x,F,W){var n=x.name,V=0;if(j8.uZ(x)==null){console.log(x);throw"No postScriptName!"}var L=j8.OW,$=[];
for(var w=0;w<L.length;w++){var l=L[w][2],k=L[w][3];$[w]=j8._Q(x,l)>k?1:0}for(var w=0;w<$.length;w++)V+=$[w]<<w;
var i=j8.GA(x);return[i[0],i[1],j8.uZ(x),V,W,F]};j8._Q=function(x,F){var W=0,n=0;for(var L=0;L<F.length;
L+=2){for(var $=F[L];$<=F[L+1];$++){var l=Typr.U.codeToGlyph(x,$);if(l==0)n++;else W++}}return W/(W+n)};
j8.ayX=function(x,F){if(x[2]<F[2])return-1;if(x[2]>F[2])return 1;return 0};j8.asC=function(x,F){if(x[5]=="fs/"+x[2]+".otf")x[5]="";
else if(x[5]=="gf/"+x[2]+".otf")x[5]="a";if(x[2]==(x[0]+"-"+x[1]).replace(/\s/g,"")){x[2]=""}else if(x[2]==x[0].replace(/\s/g,"")){x[2]="a"}if(F){if(x[0]==F[0])x[0]="";
if(x[1]==F[1])x[1]="";if(x[3]==F[3])x[3]="";if(x[4]==F[4])x[4]=""}return x.join(",")};j8.abH=function(x,F){x=x.split(",");
if(x[0]=="")x[0]=F[0];if(x[1]=="")x[1]=F[1];if(x[3]=="")x[3]=F[3];else x[3]=parseInt(x[3]);if(x[4]=="")x[4]=F[4];
else x[4]=parseInt(x[4]);if(x[2]=="")x[2]=(x[0]+"-"+x[1]).replace(/\s/g,"");else if(x[2]=="a")x[2]=x[0].replace(/\s/g,"");
if(x[5]=="")x[5]="fs/"+x[2]+".otf";else if(x[5]=="a")x[5]="gf/"+x[2]+".otf";return x};j8.dY={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
j8.prototype.vF=function(){if(FNTS.map==null){var x=FNTS.list,F=[];for(var w=0;w<x.length;w++){F[w]=j8.abH(x[w],F[w-1]);
F[w].Fp=w;this.rZ(F[w])}}return FNTS.map};j8.prototype.rZ=function(x){var F=x[0],W=x[1],n=x[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[x[2]]=x;if(FNTS.mapFS==null)FNTS.mapFS={};var L=FNTS.mapFS[F+"---"+W];FNTS.mapFS[F+"---"+W]=x;
if(FNTS.mapSub==null)FNTS.mapSub={};var $=FNTS.mapSub[F];if($==null)$=FNTS.mapSub[F]=[];var l=$.indexOf(W);
if(l==-1)$.push(W);else $[l]=W};j8.a8V=function(x,F){return j8.C2(x)-j8.C2(F)};j8.C2=function(x){x=x.toLowerCase();
var F=j8.ay_(x)+(j8.ate(x)<<1);if(x.indexOf("cond")==-1)F+=1<<25;return F};j8.ay_=function(x){return x.indexOf("italic")!=-1||x.indexOf("oblique")!=-1?1:0};
j8.aq9="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
j8.ay2=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
j8.ate=function(x){var F=j8.ay2,W=-1,n=-1;for(var w=0;w<F.length;w++){var L=F[w];if(L instanceof Array)for(var $=0;
$<L.length;$++){var l=L[$];if(x.indexOf(l)!=-1&&(W==-1||n<l.length)){W=w;n=l.length}}else if(x.indexOf(L)!=-1&&(W==-1||n<L.length)){W=w;
n=L.length}}if(W==-1)W=8;return W};j8.pw=function(x,F){var W=1e9,n=null,L=j8.C2(F);for(var w=0;w<x.length;
w++){var $=Math.abs(j8.C2(x[w])-L);if($<W){W=$;n=x[w]}}return n};j8.prototype.KY=function(x,F){this.vF();
return FNTS.mapFS[x+"---"+F]};j8.prototype.b1=function(x){this.vF();return FNTS.mapSub[x]};j8.prototype.wo=function(){this.vF();
return FNTS.mapSub};j8.ln={w2:null,gP:null};j8.ln.pk=function(x){j8.ln.gP=x;var F=window.locStor.localFonts;
if(F){F=jW.Ip(F);F=pako.inflate(new Uint8Array(F));F=j8.ln.w2=JSON.parse(_.NM(F));j8.ln.tL()}};j8.ln.load=function(x){var F=window.queryLocalFonts,W=j8.ln.w2.toPSN,n;
for(var dx in W)if(W[dx].indexOf(x)!=-1)n=dx;F({postscriptNames:[n]}).then(j8.ln.vm)};j8.ln.tL=function(){var x=j8.Zg,F=j8.ln.w2,W=F.imap,n=x.vF();
for(var L in W){if(n[L])continue;var $=W[L].slice(0);$.oT=F.tmap[L];x.rZ($)}};j8.ln.zM=function(){var x=j8.ln.w2,F=pako.deflate(_.Ug(JSON.stringify(x))),W=jW.pe(F.buffer);
console.log(W.length);window.locStor.localFonts=W};j8.ln.hG=function(){var x=j8.ln.w2;return x!=null&&x.added};
j8.ln.DE=function(x,F,W){var n=j8.ln.w2;if(n){n.added=!n.added;j8.ln.zM();j8.ln.tL();return}var L=window.queryLocalFonts;
if(L==null){alert("This feature is not available in your web browser :(");W();return}L().then(j8.ln.vm.bind({asA:F,aDz:W}))};
j8.ln.vm=async function(x){if(x.length==0){alert("You didn't allow us to access your fonts.");this.aDz();
return}if(x.length==1){var F=await x[0].blob();F=await F.arrayBuffer();am.s5({name:"file.otf"},F,j8.ln.gP);
return}var W=new gT(S.E.M,!0),$=!1;W.data={d:S.H.OI,hw:"Loading local fonts ..."};j8.ln.gP.T(W);var n=Date.now(),L=j8.ln.w2;
if(L==null)L=j8.ln.w2={toPSN:{},imap:{},tmap:{},added:!0};var l={};for(var w=0;w<x.length;w++){var k=x[w],V=k.postscriptName;
l[V]=!0;if(L.toPSN[V])continue;var F=await k.blob();F=await F.arrayBuffer();if(jW.XM(F)!="otf")continue;
var i=Typr.parse(F),X=[];for(var s=0;s<i.length;s++){var R=i[s],h=j8.uZ(R);X.push(h);if(L.imap[h])continue;
var B=L.imap[h]=j8.Nj(R,"--loc",0);L.tmap[h]=j8._7(R,B)}L.toPSN[V]=X;$=!0}for(var V in L.toPSN)if(l[V]==null){var e=L.toPSN[V];
delete L.toPSN[V];for(var w=0;w<e.length;w++){delete L.imap[e[w]];delete L.tmap[e[w]]}$=!0}if($){console.log(Date.now()-n);
j8.ln.zM();j8.ln.tL();this.asA()}else console.log("no change");var W=new gT(S.E.M,!0);W.data={d:S.H.tU,hw:"Loading local fonts ..."};
j8.ln.gP.T(W);alert("Local fonts loaded!")};var ii={bF:0,Z0:null,$h:null,Me:null,nF:null,$M:null,us:!0,zS:0,eZ:!1};
ii.event=function(x){var F=new XMLHttpRequest;F.open("GET","/papi/event.php?id="+x+"&rnd="+Math.random());
F.send()};ii.vR=function(){var x=ii.KP();if(x==null)return null;var F=v._2(24)?" ":"",W=v.Og[v.gV("Uu,"+F)];
W=W[v.gV(F+"$/")];var n=ii.jz(1,999);if(n&&ii.yR(n)*50>W()/20)return[0,n];var L=x.inTeams;if(L)for(var w=0;
w<L.length;w++)if(L[w][1]*50>W()/20)return[1,L[w]];return null};ii.su=function(){return ii.aDC()!=null};
ii.O5=function(){return ii.yR(ii.jz(1e3,999999999))};ii.yR=function(x){return x==null?0:x[0]+x[1]*24*60*60};
ii.jz=function(x,F){var W=ii.KP(),n=W.pmnts,L=0,$=null;if(n==null||n.length==0)return 0;for(var w=0;
w<n.length;w++){var l=n[w],k=ii.yR(l);if(x<=l[2]&&l[2]<=F)if(L<k){L=k;$=l}}return $};ii.KP=function(){return ii.$M};
ii.pk=function(x){window.addEventListener("message",ii.adF,!1);setInterval(ii.S$,5e3);if(ii.su()&&navigator.onLine){ii.Z0=x;
ii.mm()}else setTimeout(x,1)};ii.S$=function(){if(ii.su()&&ii.eZ){ii.V9(ii.XQ());ii.eZ=!1}};ii.xi=function(x){ii.Z0=x;
var F="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);ii.Me=window.open(F,"_blank")};
ii.a02=function(){var x=window.locStor;x.removeItem(ii.bF+"_uid");x.removeItem(ii.bF+"_provider");x.removeItem(ii.bF+"_token");
ii.$M=null};ii.adF=function(x){if(x.data instanceof ArrayBuffer||x.data instanceof Object)return;if(x.data.charAt(0)!="{")return;
var F=JSON.parse(x.data);if(F.prms==null)return;var W=F.prms.split(",");if(W[0]=="papi_logged_in"){var n=window.locStor;
n[ii.bF+"_uid"]=W[1];ii.i2(W[2]);n[ii.bF+"_provider"]=W[3];ii.Me.close();ii.mm()}if(W[0]=="payment_complete"){ii.nF.close();
ii.mm()}};ii.aDC=function(){var x=window.locStor[ii.bF+"_token"];if(x!=null&&Date.now()*.001+10<parseInt(x.split("-")[0]))return x;
return null};ii.i2=function(x){var F=window.locStor[ii.bF+"_token"];if(F!=null&&parseInt(x.split("-")[0])<parseInt(F.split("-")[0]))return;
window.locStor[ii.bF+"_token"]=x;clearTimeout(ii.zS);ii.zS=setTimeout(ii.ax7,Math.min(1e9,parseInt(x.split("-")[0])*1e3-Date.now()-20*1e3))};
ii.CS=function(x,F,W,n){if(!navigator.onLine)throw"a";var L=new XMLHttpRequest;L.open("POST","https://www.photopea.com/papi/record_new.php",!0);
L.onload=W;var $=ii.Dz(0)+"&read=3&tuid="+x+"&tid="+F;if(n)$+="&tpl="+encodeURIComponent(n);L.setRequestHeader("Content-type","application/x-www-form-urlencoded");
L.send($)};ii.ax7=function(){if(!navigator.onLine)throw"a";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=ii.aBX;var F=ii.Dz(0)+"&read=2";x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(F)};ii.mm=function(){if(!navigator.onLine)throw"b";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=ii.aAU;var F=ii.Dz(0)+"&read=1";x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(F)};ii.V9=function(x){if(!navigator.onLine)throw"c";var F=new XMLHttpRequest;F.open("POST","https://www.photopea.com/papi/record_new.php",!0);
F.onload=ii.aeZ;var W=ii.Dz(0)+"&read=0&score="+(x.tpl?1:0)+"&spublic="+ii.us+"&record="+encodeURIComponent(JSON.stringify(x));
F.setRequestHeader("Content-type","application/x-www-form-urlencoded");F.send(W)};ii.aAU=function(x){var F=JSON.parse(x.target.response);
if(F.error){}else{ii.$M=F.user;var W=ii.XQ(),n=F.record;if(F.record){ii.us=F.spublic;ii._P(n)}else if(W)ii.V9(W)}ii.i2(F.token);
if(ii.Z0){ii.Z0();ii.Z0=null}if(ii.$h){ii.$h();ii.$h=null}};ii.aBX=function(x){var F=JSON.parse(x.target.response);
ii.i2(F.token)};ii.aeZ=function(x){var F=JSON.parse(x.target.response);ii.i2(F.token);if(ii.$h)ii.mm()};
ii.Dz=function(x){return"app="+x+"&uid="+window.locStor[ii.bF+"_uid"]+"&token="+window.locStor[ii.bF+"_token"]};
ii.F0=function(){return ii.XQ()};ii.am=function(x,F){ii._P(x);ii.eZ=!0;if(F){ii.$h=F;ii.S$()}};ii.XQ=function(){var x=window.locStor[ii.bF+"_stateLocal"],F;
if(x==null)return null;try{F=JSON.parse(x)}catch(ii){return null}return F};ii._P=function(x){var F=JSON.stringify(x);
window.locStor[ii.bF+"_stateLocal"]=F};ii.order=function(x,F,W){ii.Z0=W;var n="https://www.photopea.com/papi/order.php?ptype="+F+"&param="+x+"&uid="+window.locStor[ii.bF+"_uid"]+"&token="+window.locStor[ii.bF+"_token"];
ii.nF=window.open(n,"_blank")};ii.a2b=function(x,F){ii.Z0=F;var W="https://www.photopea.com/papi/insertKey.php?key="+x+"&uid="+window.locStor[ii.bF+"_uid"]+"&token="+window.locStor[ii.bF+"_token"];
ii.nF=window.open(W,"_blank")};var hz={};hz.bX=0;hz.Y4={};hz.G0=function(x){var F=LNG.tables,W=F[x];
if(W==null)W=F[0];if(typeof W=="string"){W=F[x]=hz.DM(W)}return W};hz.DM=function(x){var F=[],W=0,n=0,L=[],$=x.length;
while(n!=$){var l=x[n];if(l=="["){F.push(L);L=[];n=W=n+1}else if(l=="]"){L.push(W==n?null:x.substring(W,n));
var k=L;L=F.pop();L.push(k);n=W=n+1}else if(l==";"){if(x[n-1]!="]")L.push(W==n?null:x.substring(W,n));
n=W=n+1}else n++}return L};hz.get=function(x){if(typeof x=="string")return x;var F=typeof x[0];if(F=="number"){for(var w=1;
w<x.length;w++)if(typeof x[w]!="number"){console.log(x);throw"e"}return hz.HT(x)}var W=hz.get(x[0]);
for(var w=1;w<x.length;w++){var n=hz.get(x[w]),L=W.indexOf("VAR"+(w-1));W=W.slice(0,L)+n+W.slice(L+4)}return W};
hz.HT=function(x){var F=JSON.stringify(x);if(hz.Y4[F]!=null)return hz.Y4[F];var W=hz.G0(0),n=hz.G0(hz.bX),L=hz.oH(x,n);
if(L==null)L=hz.oH(x,W);return L};hz.oH=function(x,F){for(var w=0;w<x.length;w++){F=F[x[w]];if(F==null)return null;
else if(typeof F=="string")break}if(F instanceof Array)F=F[0];return F.split("::")[0]};hz.fd=function(){var x=navigator.languages;
for(var w=0;w<x.length;w++)if(x[w]=="zh-HK"||x[w]=="zh-TW"||x[w]=="zh-MO")x[w]="zh-CHT";return x};hz.aCV=function(){var x=hz.fd(),F=function(n,L){var $=n.code,l=L.code;
if($=="en")return-1;if(l=="en")return 1;var k=x.indexOf($)!=-1,V=x.indexOf(l)!=-1;if(k&&V)return $>l?1:-1;
if(k)return-1;if(V)return 1;return $>l?1:-1},W=LNG.langs.slice(0);W.sort(F);return W};hz.Fm=function(x,F){hz.bX=x;
if(LNG.tables[x])F();else{var W=new XMLHttpRequest;W.open("GET","code/lang/"+x+".js");W.onreadystatechange=function(){LNG.tables[x]=W.responseText;
F()};W.send()}};hz.HB=function(x,F){for(var W=0;W<2;W++){var n=!1;for(var w=0;w<LNG.langs.length;w++)if(LNG.langs[w].code==x){hz.Fm(w,F);
n=!0}if(n)break;x=x.split("-")[0]}};hz.P_=function(){return LNG.langs[hz.bX].code};hz.ayP=function(x){for(var w=0;
w<x.length;w+=2)if(x[w+1].indexOf(">")==-1)hz.Y4[JSON.stringify(x[w])]=x[w+1]};hz.ant=function(x){var F=-1,W=LNG.langs;
for(var w=0;w<W.length;w++)if(W[w].code==x)F=w;return F};var hQ={Qr:!1,Bp:!1,Fh:!1,J_:null};hQ.Fk=function(){return v.Og[c$.Sh]!=v.Og[c$.amD]};
hQ.Ny=function(){var x=v.Og[c$.UR],F=x[c$.kX],W=0,n=c$.VA,L=v.m6("PP\\KQSB"),$=v.m6("Y_5UDDB>idge"),l=x[c$.Db](c$.hJ);
l[n](c$.ru,L);l[n](c$.Se,v.m6("fUMZKyqifDIhJ0*+&$-OG?<y~>"));F[c$.d2](l);l=x[c$.a0M](L);if(l==null){W=2}else{if(!F[v.m6("R[WZDIKM")](l)){W=3}else if(Math.round(l[v.m6("VQ](RUK>@B8p71*03m}x'")]()[c$.lt]-500)>5){W=4}F[c$._n](l)}if(hQ.Bp)W=5;
if(hQ.Fh)W=6;return W};hQ.azB=function(x){var F=v.gV("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),W={method:"HEAD",mode:"no-cors"},n=new Request(F,W);
fetch(n).then(function(L){return L}).then(function(L){var $=v.gV("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),n=new Request($);
fetch(n).then(function(L){L.text().then(function(l){x(l.length<2200)})}).catch(function(l){hQ.Bp=!0;
console.clear();x(!0)})}).catch(function(L){hQ.Bp=!0;console.clear();x(!0)})};hQ.a3E=function(){var x=v.m6("UU[YW#ECC8"),F=v.m6("VQ](RUK>@B8p71*03m}x'"),W=v.m6("WQRMKT"),n=this.alJ[x][F]();
if(n[W]<4){hQ.Fh=!0;this.a3X(!0)}};hQ.aj8=function(){var x=v.Og._cwY,F=v.Og[c$.T4],W="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",n=String.fromCharCode(32);
x(v.m6(W)+n+n+hQ.Ny());if(!ii.vR())F(hQ.aj8,Math.round(Math.PI*1e4))};hQ.br=function(x){var F=v.Og[c$.UR],W=F[c$.Db](x[0]);
for(var n in x[1]){if(n=="txt")W[c$.$C]=x[1][n];else W[c$.VA](n,x[1][n])}return W};hQ.a4l=function(x,F,W,n){v.Ri(W);
var L=v.Og[c$.UR],$=v.gV(" u.$%\"86<"),l=v.gV("!#c$,&"),k=v.Og[$][l],V=v.Og[v.gV(" u.$%\"86<")][v.gV("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!hQ.Fk()&&!hQ.Ny()&&k&&x*F>300*300&&!V){var i=L[v.m6("VQ]+OEJ?EHDoD{&)l|&z")](c$.$e)[0],f=JSON.parse(v.gV("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var w=0;w<f.length;w++){var X=hQ.br(f[f.length-1-w]);i[c$.aox](X,i[c$.aeR])}var s=v.gV("p}&$2a(:"),R=v.gV("'#!}i0%+"),h=v.gV("ps,}$\"40"),B=v.Og.__cbu=hQ.br(JSON.parse(c$.m6("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
W[c$.d2](B);v.Og.___ggo=function(){v.Og[h](c$.UY,2,function(U,o){if(o&&U[R]==!0){if(!v.Og[s]){v.Og[s]=!0;
var b=hQ.aCd.bind({bj:W,head:i,eD:F});b()}}})}}else{var e=hQ.abT.bind({alJ:W,a9N:n,eD:F});e();setInterval(e,3e4)}};
hQ.awf="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g9450-*'%|oTULpER8J4<9W14(?F9}~u:n{ave][!Z]QhobFOLEEhZW-2M##-x# 8jsn-qah[cz(HWAymghd``M3%(XPJK18+9%,~.xQ|Izuum`EF=a7.7,7O!*$uwon|ttx*cfZqxkPQHlB9B7BZ,5/!#zy(  $f{/hk_v}pzwIRL>@87E==AR+5|'!@}q}(/\"~&xuNyFwrrj]BC:^4+4)4L}'# sn|nqm*cfZqxkPQHlB9B7BZ,51.\"|+| {i~2knby!s}zLUQNB=K=@<X1;#-'F$w$.5(%,~{T L}xxpcHI@d:1:/:R%')'|'| :3locz\"tYZQuKBK@Kc68:8.8.1Ku+>wzn&- *'Y[][Q[QTng@J2<6U3'3=D74;.+c/[-(( rWXOsI@I>Ia<<?+6*\" *B{~r*1$hi`%ZQZOZrMMP<G;31;%:M'*}5</96{xu)ddgS^RJHRj=FARYLIPC@xDpB==5(lmd)^U^S^vRQNJLJ8B@W14(?F9}~u:ofodo(cb_[][ISQ:Ob<?3JQDNK'&#~!~lvt,dnV`ZyWKWah[X_RO(S QLLD7{|s8mdmbm&hZ\\dUTPRP>HF]7:.EL?$%{@uluju.pbdl]\\XZXFPN7L_9<0GNAKH+|~'wvrtr`jh XbJTNmK?KU\\OLSFC{x";
hQ.abT=function(){var x=v.Og[c$.UR],F=this.alJ,W=this.a9N,n=hQ.J_,L=this.eD;v.Ri(F);var $=v.Og[c$.gV(" u.$%\"86<")][c$.gV("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,l=n==1?1:hQ.a2G(L),k=JSON.parse(c$.m6(hQ.awf)),V=x[c$.Db]("a");
V.textContent=c$.m6("0PhHOO@E@B8M/-9'\"0}y");V[c$.VA](c$.D_,c$.m6("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
V[c$.VA](c$.k_,c$.gV("pv${,,"));V[c$.VA](c$.Se,c$.m6("R[UUUyTB@H6h"));if(!$)F[c$.d2](V);for(var w=0;
w<l;w++){var i=Math.random(),f=0,X=0;while(f+k[X][0]<i){f+=k[X][0];X++}if(X==2&&Date.now()>1665160336190)X=0;
if($)X=1;var s=k[X],R=x[c$.Db](c$.DB);R[c$.VA](c$.Se,c$.m6("Ra[YRRvJF=?B0:_")+c$.m6(n==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
R[c$.VA](c$.qE,s[n]);if(s.length>3){var h=s[3]+s[3+n],V=x[c$.Db]("a");V[c$.VA](c$.D_,h);V[c$.VA](c$.k_,c$.gV("pv${,,"));
V[c$.d2](R);F[c$.d2](V)}else{R[c$.UY](c$.ks,W,!1);F[c$.d2](R)}}};hQ.a2G=function(x){var F=2;if(x>=3*270+30)F=3;
if(x>=4*270+30)F=4;return F};hQ.aBz=function(x,F){F-=30;var W=[];if(x==1){W.push(1);F-=600+10;if(F-250>0){W.push(0);
F-=250}}if(x==2){if(F-260>0){W.push(2);F-=260}if(F-260>0){W.push(3);F-=260}if(F-260>0){W.push(4);F-=260}if(F-260>0){W.push(5);
F-=260}if(F-260>0){W.push(6);F-=260}if(F-110>0){W.push(7);F-=110}if(F-60>0){W.push(8);F-=60}}return W};
hQ.aCd=function(){var x=c$.d2,F=c$.VA,W=c$.UY,n=c$.dY,L=c$.Se,$=c$.qE,l=v.m6("P_bTF"),k=c$.$C,V=c$.IP,i=v.Og[c$.UR],f=c$.Db,X=c$.iL,s=v.Og.__cbu,R=this.bj,h=hQ.J_,B=this.head,e=this.eD,U=v.gV("~u*\"'/P)9ADBCrlnR]"),o=[.1,.9],b=Math.random(),u=0;
while(o[u]<b&&u<o.length-1){b-=o[u];u++}var Z=hQ.aBz(h,e);if(u==0){console.log(0);if(!hQ.Qr){hQ.Qr=!0;
for(var w=0;w<2;w++){var I=i[c$.Db](c$.iL),y=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][w];
I[c$.VA](c$.qE,c$.gV(y));I[c$.VA](c$.EV,"");B[c$.d2](I)}var D=JSON.parse(c$.gV("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPE$UNG<D=KVoLWZU]Yk[d @&!u}v%0I&14/73E5>YY\\baLYS,tSX{<$'*t #}&\"4$-V/<6bHPQIkM_[Sg_hj'+%$+%r'7+~]+694<8J:ClRZJLRd{ 5|\"/(ym=v~,|!.*p97E=8F)ODJpt*qeY)coeivrc|%!)%t+:A4EI_cx`THwP__bZlrgJu{#+X!11HLaI4?B=EASCLuP\\RVc_Peu|rot&=AV>ABPeO\\/XNBXWrJXXYc2^coxl|H(|z.%YS[X<Gl==DEIX! | cn4}+$ym$#>u$$%/]*/;D8HsSHFYP%!!$gr8mlt6tt{|!0XSYW;FkU47")),N=D[2]+"\n";
for(var w=0;w<Z.length;w++)N+=D[0][Z[w]]+"\n";var I=i[c$.Db](c$.iL);I[c$.$C]=N+D[3];B[c$.d2](I);for(var w=0;
w<Z.length;w++){var j=i[c$.Db](c$.hJ);j[c$.VA](c$.ru,D[1][Z[w]]);if(Z[w]!=0)j[c$.VA](c$.Se,D[4][h-1]);
j[c$.Se].marginBottom="10px";var I=i[c$.Db](c$.iL),N=c$.gV("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+D[1][w]+"'); });";
I[c$.$C]=N;j[c$.d2](I);R[c$.d2](j)}}}else{console.log(1);var I=i[f](X);I[F]($,v.gV("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
I[F](c$.EV,"");B[x](I);var H=JSON.parse(v.gV("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbA"));
for(var w=0;w<Z.length;w++){var j=i[f](v.m6("SU_"));j[F](c$.ru,H[Z[w]]);j[F](L,U);R[x](j)}}if(s)R[x](s)};
hQ.CQ=function(x,F,W){clearInterval(hQ.p2);hQ.dP=x;hQ.ru=W?W:"default";if(hQ.aqb==null){hQ.aqb=!0;var n=v.Og[c$.UR],L=n[c$.kX],$=n[v.m6("VQ]+OEJ?EHDoD{&)l|&z")](c$.$e)[0],l=[1/12,1/12,10/12],k=Math.random(),V=0;
while(l[V]<k&&V<l.length-1){k-=l[V];V++}if(hQ.J_!=0)V=2;hQ.a9w=V;console.log("===",V);if(V==0){var i=n[c$.Db](c$.hJ);
i[c$.VA](c$.ru,"applixir_vanishing_div");i[c$.VA](c$.aon,"");var f=n[c$.Db](c$.IP);f[c$.VA](c$.ru,"applixir_parent");
i[c$.d2](f);L[c$.d2](i);i[c$.VA](c$.Se,"z-index:1000");var X=n[c$.Db](c$.iL);X[c$.VA](c$.qE,"//cdn.applixir.com/applixir.sdk3.0m.js");
L[c$.d2](X)}else if(V==1){var X=n[c$.Db](c$.iL);X[c$.VA](c$.qE,"//dsh7ky7308k4b.cloudfront.net/publishers/photopeacom_rewarded.min.js");
$[c$.d2](X);var X=n[c$.Db](c$.iL);X[c$.$C]="window.pgHB = window.pgHB || {que: []};";$[c$.d2](X)}else if(V==2){var X=n[c$.Db](c$.iL);
X[c$.VA](c$.qE,"//www.googletagservices.com/tag/js/gpt.js");$[c$.d2](X);var X=n[c$.Db](c$.iL);X[c$.$C]="window.googletag = window.googletag || {cmd: []};";
$[c$.d2](X)}}if(F==null)F="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account to remove ads.";
var s=window.confirm(F);if(!s)return;hQ.p2=setInterval(hQ.avC,50)};hQ.avC=function(){var x=hQ.a9w;if(x==0){if(window.invokeApplixirVideoUnit==null)return;
var F={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:hQ.a0x,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(F)}else if(x==1){window.pgHB.que.push(function(){window.pgHB.requestWebRewardedAd({slotId:"rewarded-ad",callback:function(L,$){if(L)setTimeout(hQ.dP,100)}})})}else if(x==2){var W={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg"}[hQ.ru],n=window.googletag;
if(n==null)return;n.cmd.push(function(){var L=n.defineOutOfPageSlot(W,n.enums.OutOfPageFormat.REWARDED).addService(n.pubads());
n.enableServices();n.pubads().addEventListener("rewardedSlotReady",function($){$.makeRewardedVisible()});
n.pubads().addEventListener("rewardedSlotGranted",function(){if(hQ.dP)hQ.dP();hQ.dP=null});n.display(L);
n.pubads().refresh([L])})}clearInterval(hQ.p2)};hQ.a0x=function(x){if(x=="ad-watched")setTimeout(hQ.dP,100);
console.log(x)};var fS={al:-2,yv:{expires_at:0},Z1:[]};fS.R4=function(x){if(x)fS.Z1.splice(0,0,x);if(fS.al==-2){fS.al=-1;
var F=document.createElement("script");F.src="//apis.google.com/js/client.js";document.body.appendChild(F);
F.onload=function(W){setTimeout(function(){fS.al=0;fS.R4()},100)}}if(fS.al==-1)return;if(fS.al==1)return;
if(fS.yv.expires_at>Date.now()*.001+30){while(fS.Z1.length>0)fS.Z1.pop()()}else{if(fS.al==0)fS.al=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:fS.al==2?!1:!0},fS.aDS)})}};
fS.aDS=function(x){if(x&&!x.error){fS.yv=x;fS.al=!1;fS.R4()}else if(fS.al==1){fS.al=2;fS.R4()}else alert("Error: "+x.error)};
fS.Qp=function(){return"access_token="+fS.yv.access_token+"&token_type="+fS.yv.token_type};fS.OY=function(){return fS.yv.token_type+" "+fS.yv.access_token};
function eX(x,F){if(!x)x=0;if(!F)F=0;this.x=x;this.y=F}eX.prototype.add=function(x){return new eX(this.x+x.x,this.y+x.y)};
eX.prototype.clone=function(){return new eX(this.x,this.y)};eX.prototype.B1=function(x){this.x=x.x;this.y=x.y};
eX.prototype.rr=function(x){return this.x==x.x&&this.y==x.y};eX.prototype.normalize=function(x){var F=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=x/F;this.y*=x/F};eX.prototype.offset=function(x,F){this.x+=x;this.y+=F};eX.prototype.xz=function(x,F){this.x=x;
this.y=F};eX.prototype.ZC=function(x){return new eX(this.x-x.x,this.y-x.y)};eX.I9=function(x,F){return eX.a87(x.x,x.y,F.x,F.y)};
eX.av=function(x,F,W){return new eX(x.x+W*(F.x-x.x),x.y+W*(F.y-x.y))};eX.au8=function(x,F){return new eX(x*Math.cos(F),x*Math.sin(F))};
eX.a87=function(x,F,W,n){return Math.sqrt((W-x)*(W-x)+(n-F)*(n-F))};eX.wk={};eX.qx={};eX.wk.create=function(){var x=new Float32Array(4);
return x};eX.qx.create=function(x){var F=new Float32Array(16);F[0]=F[5]=F[10]=F[15]=1;if(x)eX.qx.set(x,F);
return F};eX.wk.add=function(x,F,W){W[0]=x[0]+F[0];W[1]=x[1]+F[1];W[2]=x[2]+F[2];W[3]=x[3]+F[3]};eX.wk.set=function(x,F){F[0]=x[0];
F[1]=x[1];F[2]=x[2];F[3]=x[3]};eX.qx.set=function(x,F){F[0]=x[0];F[1]=x[1];F[2]=x[2];F[3]=x[3];F[4]=x[4];
F[5]=x[5];F[6]=x[6];F[7]=x[7];F[8]=x[8];F[9]=x[9];F[10]=x[10];F[11]=x[11];F[12]=x[12];F[13]=x[13];F[14]=x[14];
F[15]=x[15]};eX.qx.multiply=function(x,F,W){var n=x[0],L=x[1],$=x[2],l=x[3],k=x[4],V=x[5],i=x[6],f=x[7],X=x[8],s=x[9],R=x[10],h=x[11],B=x[12],e=x[13],U=x[14],o=x[15],b=F[0],u=F[1],Z=F[2],I=F[3];
W[0]=b*n+u*k+Z*X+I*B;W[1]=b*L+u*V+Z*s+I*e;W[2]=b*$+u*i+Z*R+I*U;W[3]=b*l+u*f+Z*h+I*o;b=F[4];u=F[5];Z=F[6];
I=F[7];W[4]=b*n+u*k+Z*X+I*B;W[5]=b*L+u*V+Z*s+I*e;W[6]=b*$+u*i+Z*R+I*U;W[7]=b*l+u*f+Z*h+I*o;b=F[8];u=F[9];
Z=F[10];I=F[11];W[8]=b*n+u*k+Z*X+I*B;W[9]=b*L+u*V+Z*s+I*e;W[10]=b*$+u*i+Z*R+I*U;W[11]=b*l+u*f+Z*h+I*o;
b=F[12];u=F[13];Z=F[14];I=F[15];W[12]=b*n+u*k+Z*X+I*B;W[13]=b*L+u*V+Z*s+I*e;W[14]=b*$+u*i+Z*R+I*U;W[15]=b*l+u*f+Z*h+I*o;
return W};eX.qx.inverse=function(x,F){var W=x[0],n=x[1],L=x[2],$=x[3],l=x[4],k=x[5],V=x[6],i=x[7],f=x[8],X=x[9],s=x[10],R=x[11],h=x[12],B=x[13],e=x[14],U=x[15],o=W*k-n*l,b=W*V-L*l,u=W*i-$*l,Z=n*V-L*k,I=n*i-$*k,y=L*i-$*V,D=f*B-X*h,N=f*e-s*h,j=f*U-R*h,H=X*e-s*B,Q=X*U-R*B,C=s*U-R*e,J=o*C-b*Q+u*H+Z*j-I*N+y*D;
if(!J){return null}J=1/J;F[0]=(k*C-V*Q+i*H)*J;F[1]=(L*Q-n*C-$*H)*J;F[2]=(B*y-e*I+U*Z)*J;F[3]=(s*I-X*y-R*Z)*J;
F[4]=(V*j-l*C-i*N)*J;F[5]=(W*C-L*j+$*N)*J;F[6]=(e*u-h*y-U*b)*J;F[7]=(f*y-s*u+R*b)*J;F[8]=(l*Q-k*j+i*D)*J;
F[9]=(n*j-W*Q-$*D)*J;F[10]=(h*I-B*u+U*o)*J;F[11]=(X*u-f*I-R*o)*J;F[12]=(k*N-l*H-V*D)*J;F[13]=(W*H-n*N+L*D)*J;
F[14]=(B*b-h*Z-e*o)*J;F[15]=(f*Z-X*b+s*o)*J;return F};eX.qx.apD=function(x,F,W){var n=F[0],L=F[1];W[0]=n*x[0]+L*x[4]+x[12];
W[1]=n*x[1]+L*x[5]+x[13]};eX.qx.aAY=function(x,F,W){var n=F[0],L=F[1],$=F[2],l=F[3];W[0]=x[0]*n+x[4]*L+x[8]*$+x[12]*l;
W[1]=x[1]*n+x[5]*L+x[9]*$+x[13]*l;W[2]=x[2]*n+x[6]*L+x[10]*$+x[14]*l;W[3]=x[3]*n+x[7]*L+x[11]*$+x[15]*l};
function eu(x,F,W,n){if(!x)x=0;if(!F)F=0;if(!W)W=0;if(!n)n=0;this.x=x;this.y=F;this.m=W;this.e=n}eu.prototype.P=function(){return this.m*this.e};
eu.prototype.clone=function(){return new eu(this.x,this.y,this.m,this.e)};eu.prototype.contains=function(x,F){return x>=this.x&&x<=this.x+this.m&&(F>=this.y&&F<=this.y+this.e)};
eu.prototype.U4=function(x){return this.contains(x.x,x.y)};eu.prototype.Ic=function(x){return this.x<=x.x&&this.y<=x.y&&x.x+x.m<=this.x+this.m&&x.y+x.e<=this.y+this.e};
eu.prototype.B1=function(x){this.x=x.x;this.y=x.y;this.m=x.m;this.e=x.e};eu.prototype.rr=function(x){return this.x==x.x&&this.y==x.y&&this.m==x.m&&this.e==x.e};
eu.prototype.za=function(x,F){this.x-=x;this.y-=F;this.m+=2*x;this.e+=2*F};eu.prototype.a6W=function(x){this.za(x.x,x.y)};
eu.prototype.jB=function(x){var F=Math.max(this.x,x.x),W=Math.max(this.y,x.y),n=Math.min(this.x+this.m,x.x+x.m),L=Math.min(this.y+this.e,x.y+x.e);
if(n<F||L<W)return new eu;else return new eu(F,W,n-F,L-W)};eu.prototype.yU=function(x){if(x.y+x.e<this.y||x.x>this.x+this.m||x.y>this.y+this.e||x.x+x.m<this.x)return!1;
return!0};eu.prototype.ak=function(){return this.m<=0||this.e<=0};eu.prototype.offset=function(x,F){this.x+=x;
this.y+=F};eu.prototype.Uc=function(x){this.offset(x.x,x.y)};eu.prototype.ag4=function(){this.x=this.y=this.m=this.e=0};
eu.prototype.xz=function(x,F,W,n){this.x=x;this.y=F;this.m=W;this.e=n};eu.prototype.oA=function(x){if(this.ak())return x.clone();
if(x.ak())return this.clone();var F=this.clone();F.aa9(x);return F};eu.B9=new Float32Array(2);eu.prototype.aa9=function(x){if(x.ak())return;
if(this.ak()){this.B1(x);return}this.FI(x.x,x.y);this.FI(x.x+x.m,x.y+x.e)};eu.prototype.FI=function(x,F){var W=Math.min(this.x,x),n=Math.min(this.y,F);
this.m=Math.max(this.x+this.m,x)-W;this.e=Math.max(this.y+this.e,F)-n;this.x=W;this.y=n};eu.prototype.ad9=function(x,F){this.x=x;
this.y=F;this.m=this.e=0};function iJ(x,F,W,n,L,$){if(typeof x==="undefined"){x=1;F=0;W=0;n=1;L=0;$=0}this.V=x;
this.z=F;this.Pu=W;this.P9=n;this.yq=L;this.Ze=$}iJ.prototype.NX=function(){return Math.sqrt(Math.abs(this.V*this.P9-this.z*this.Pu))};
iJ.prototype.ayy=function(){var x=this,F=function(W){return Math.abs(W)<1e-9?0:W};x.V=F(x.V);x.z=F(x.z);
x.Pu=F(x.Pu);x.P9=F(x.P9);x.yq=F(x.yq);x.Ze=F(x.Ze)};iJ.prototype.dr=function(x){return new eX(x.x*this.V+x.y*this.Pu+this.yq,x.x*this.z+x.y*this.P9+this.Ze)};
iJ.prototype.translate=function(x,F){this.yq+=x;this.Ze+=F};iJ.prototype.rotate=function(x){var F=new iJ(Math.cos(x),-Math.sin(x),Math.sin(x),Math.cos(x),0,0);
this.concat(F)};iJ.prototype.scale=function(x,F){var W=new iJ(x,0,0,F,0,0);this.concat(W)};iJ.prototype.concat=function(x){this.B1(new iJ(this.V*x.V+this.z*x.Pu,this.V*x.z+this.z*x.P9,this.Pu*x.V+this.P9*x.Pu,this.Pu*x.z+this.P9*x.P9,this.yq*x.V+this.Ze*x.Pu+x.yq,this.yq*x.z+this.Ze*x.P9+x.Ze))};
iJ.prototype.sx=function(){var x=this.V*this.P9-this.z*this.Pu;this.B1(new iJ(this.P9/x,-this.z/x,-this.Pu/x,this.V/x,(this.Pu*this.Ze-this.P9*this.yq)/x,(this.z*this.yq-this.V*this.Ze)/x))};
iJ.prototype.clone=function(){return new iJ(this.V,this.z,this.Pu,this.P9,this.yq,this.Ze)};iJ.prototype.B1=function(x){this.V=x.V;
this.z=x.z;this.Pu=x.Pu;this.P9=x.P9;this.yq=x.yq;this.Ze=x.Ze};function jW(){}jW.uU={ayt:"PNG JPG SVG GIF MP4 PDF".split(" "),a4F:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
jW.Wi=function(x,F){var W=x.memory.buffer.byteLength;if(W<F)x.memory.grow((F-W>>>16)+1)};jW.yL={tC:function(x,F){fetch(x).then(function(W){return W.arrayBuffer()}).then(function(W){var n=new Uint8Array(W),L=0,V="";
if(F){L=n.length;var $={level:9},l=pako.deflateRaw(n,$),k=UZIP.deflateRaw(n,$);console.log(L,l.length,k.length);
n=l.length<k.length?l:k}for(var w=0;w<n.length;w++)V+=String.fromCharCode(n[w]);var i=btoa(V);console.log(JSON.stringify([L,i]))})},get:function(x,F){var W=BINDB[x],n=Date.now(),L=atob(W[1]),$=L.length,l=new Uint8Array($);
for(var w=0;w<$;w++)l[w]=L.charCodeAt(w);if(W[0]!=0){var k=new Uint8Array(W[0]);UZIP.inflateRaw(l,k);
l=k}if(F){var V=jW.XM(l.buffer);l=jW.w0(V).La(l.buffer)}return l}};jW.XM=function(x){if(!(x instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var F=new Uint8Array(x),W=jW.VJ,n,L=0,$=F.length-1;
if(W(F,[239,187,191]))L=3;while(L<F.length&&(F[L]==9||F[L]==10||F[L]==13||F[L]==32))L++;while($!=0&&(F[$]==9||F[$]==10||F[$]==13||F[$]==32))$--;
if(W(F,[56,66,80,83]))n="psd";if(W(F,[6,6,237,245]))n="indd";if(W(F,[68,73,67,77],128))n="dcm";if(W(F,[102,116,121,112,109,105,102,49],4)||W(F,[102,116,121,112,97,118,105,102],4))n="avif";
if(W(F,[102,116,121,112,105,115,111,109],4))n="mp4";if(W(F,[102,116,121,112,109,112,52,50],4))n="mp4";
if(W(F,[102,116,121,112,113,116,32,32],4))n="mp4";if(W(F,[102,116,121,112,99,114,120,32],4))n="cr3";
if(W(F,[0,255,75,65]))n="afphoto";if(W(F,[67,83,70,67,72,85,78,75]))n="clip";if(W(F,[70,82,65,67]))n="frac";
if(W(F,[120]))n="pxd";if(W(F,[80,68,78,51]))n="pdn";if(W(F,[103,105,109,112,32,120,99,102,32]))n="xcf";
if(W(F,[102,105,103,45,107,105,119,105]))n="fig";if(W(F,[105,99,110,115]))n="icns";if(W(F,[137,80,78,71,13,10,26,10])){n="png";
var l=8;while(l<F.length){var k=_.q(F,l);l+=4;var V=_.xR(F,l,4);l+=4;if(V=="mkTS")n="fpng";l+=k+4}}if(W(F,[87,76]))n="cdr";
if(W(F,[82,73,70,70])){var i=ao.cF(F),f=i.K8;if(f=="WEBP")n="webp";else if(f.slice(0,3)=="CDR")n="cdr";
else n=f}if(W(F,[70,79,82,77])||W(F,[70,79,82,52])||W(F,[76,73,83,84])||W(F,[67,65,84,32])){var i=fi.cF(F),f=i.K8;
if(f=="ILBM"||f=="CIMG"||f=="ANIM")n="ilbm";else n=f}if(W(F,[255,216,255]))n="jpg";if(W(F,[0,0,0,12,106,80,32,32]))n="jpg";
if(W(F,[48,0,1,0],4))n="jb2";if(W(F,[71,73,70,56]))n="gif";if(W(F,[0,0,0,2,121,102,113,76]))n="msh";
if(W(F,[0,0,0,3,121,102,113,76]))n="msh";if(W(F,[0,0,0,16]))n="atn";if(W(F,[0,1]))n="aco";if(W(F,[0,2]))n="aco";
if(W(F,[65,83,69,70]))n="aco";if([0,1].indexOf(F[1])!=-1&&[1,2,3,9,10,11].indexOf(F[2])!=-1&&[0,16,24,32].indexOf(F[7])!=-1)n="tga";
if(W(F,[0,2,56,66,83,76]))n="asl";if(W(F,[0,1,0,-1,0,2,0]))n="abr";if(W(F,[0,2,0,-1,0,2,0]))n="abr";
if(W(F,[0,6,0,1]))n="abr";if(W(F,[0,6,0,2]))n="abr";if(W(F,[0,7,0,2]))n="abr";if(W(F,[0,9,0,2]))n="abr";
if(W(F,[0,10,0,2]))n="abr";if(W(F,[56,66,70,83]))n="shc";if(W(F,[56,66,80,84]))n="pat";if(W(F,[56,66,71,82]))n="grd";
if(W(F,[71,73,77,80,32,71,114,97]))n="grd";if(W(F,[56,66,84,80]))n="tpl";if(W(F,[0,4,0,5]))n="acv";if(W(F,[99,117,115,104]))n="csh";
if(W(F,[0,1,0,0,0]))n="otf";if(W(F,[79,84,84,79]))n="otf";if(W(F,[116,116,99,102]))n="otf";if(W(F,[68,68,83,32]))n="dds";
if(W(F,[80,86,82,3]))n="pvr";if(W(F,[86,84,70,0]))n="vtf";if(W(F,[83,73,77,80]))n="fits";if((W(F,[0,0,1,0])||W(F,[0,0,2,0]))&&F[4]!=0)n="ico";
if(W(F,[66,77]))n="bmp";if(W(F,[40,0,0,0]))n="bmp";if(W(F,[80,49]))n="ppm";if(W(F,[80,50]))n="ppm";if(W(F,[80,51]))n="ppm";
if(W(F,[80,52]))n="ppm";if(W(F,[80,53]))n="ppm";if(W(F,[80,54]))n="ppm";if(W(F,[73,73,42,0]))n="tiff";
if(W(F,[77,77,0,42]))n="tiff";if(W(F,[73,73,85,0]))n="tiff";if(W(F,[73,73,82,83]))n="tiff";if(W(F,[73,73,82,79]))n="tiff";
if(W(F,[70,85,74,73,70,73,76,77]))n="raf";if(W(F,[112]))n="lif";if(W(F,[73,73,26,0]))n="ciff";if(W(F,[83,81,76,105]))n="sketch";
if(W(F,[80,75])){var X=UZIP.parse(x,!0);if(X["document.json"])n="sketch";else if(X.manifest)n="xd";else if(X["maindoc.xml"])n="kra";
else if(X["content/root.dat"])n="cdr";else if(X["canvas.fig"])n="fig";else if(X["manifest.json"])n="pxz";
else n="zip"}if(W(F,[123]))n="json";if(_.q(F,0)==F.length)n="icc";if(W(F,[35]))n="icc";if(W(F,[84,73,84,76],L))n="icc";
if(W(F,[76,85,84,95],L))n="icc";if(W(F,[60,63,120,109],L)){if(_.RS(F,"<look>")!=-1)n="icc";else n="svg"}if(W(F,[255,254,60,0],L))n="svg";
if(W(F,[60,115,118,103],L))n="svg";if(W(F,[60,33,100,111],L)||W(F,[60,33,68,79],L)||W(F,[60,33,45,45],L)){if(_.RS(F,"<svg")!=-1)n="svg";
else n="html"}if(W(F,[37,33])||W(F,[197,208,211,198])){if(_.RS(F,"%AI9_PrivateDataBegin")!=-1||_.RS(F,"%AI5_BeginLayer")!=-1)n="ai";
else n="eps"}if(W(F,[37,80,68,70],L)){var s=_.RS(F,"/AIMetaData ");if(s!=-1){if(_.RS(F,">>/Encrypt ",s)!=-1)n="pdf";
else n="ai"}else n="pdf"}else if(W(F,[10,69,79,70],$-3))n="dxf";if(W(F,[1,0,9,0]))n="wmf";if(W(F,[215,205,198,154]))n="wmf";
if(W(F,[1,0,0,0]))n="emf";if(W(F,[118,47,49,1]))n="exr";if(W(F,[10,10,10,10]))n="jsx";if(W(F,[77,90]))n="exe";
if(n==null&&r.raw.pU(F.length)!=null)return"tiff";return n};jW.VJ=function(x,F,W){if(W==null)W=0;for(var w=0;
w<F.length;w++)if(F[w]!=-1&&x[W+w]!=F[w])return!1;return!0};jW.w0=function(x){var F={BMP:jW.aAm,CDR:jW.M8,DDS:jW.fj,EMF:jW.UK,DXF:jW.cq,EPS:jW.Xo,FIG:jW.Py,FPNG:jW.ui,INDD:jW.FG,GIF:jW.Ll,ICO:jW.GU,ILBM:jW.hp,FITS:jW.zd,EXR:jW.o$,JPG:jW.mn,LIF:jW.oh,DCM:jW.ahY,PDF:jW.Od,PDN:jW.qh,PNG:jW.$y,ICNS:jW.M4,PPM:jW.eF,PSD:jW.er,PXD:jW.vi,PXZ:jW.lw,RAF:jW.bO,CR3:jW.mx,RAW:jW.IG,SKETCH:jW.O2,SVG:jW.WB,TGA:jW.Im,AVIF:jW.aa8,TIFF:jW.J6,VTF:jW.qj,WEBP:jW.kG,WMF:jW.w5,XCF:jW.cg,XD:jW.yS,KRA:jW.Z7,EXE:jW.rA,AI:jW.gx,AFPHOTO:jW.BQ,CLIP:jW.kI,FRAC:jW.XC,MP4:jW.u4};
return F[x.toUpperCase()]};jW.cs=function(w){var x=jW.uU.ayt,F=jW.uU.a4F,W,n=[];if(w==null)W=x.concat(F);
else W=w==0?x:F;for(var w=0;w<W.length;w++)if(jW.w0(W[w]).Rd)n.push(W[w]);return n};jW.abV=function(){var x;
function F(n){var L=n.target,$=L.width,l=L.height,k=document.createElement("canvas");k.width=$;k.height=l;
var V=k.getContext("2d");V.drawImage(L,0,0);x({Sf:new eu(0,0,$,l),data:V.getImageData(0,0,$,l).data.buffer})}function W(n,L,$){x=$;
var l=document.createElement("img");l.onload=F;l.src="data:"+L+";base64,"+jW.pe(n)}return W}();jW.QV=function(x,F,W,n,L){var $=jW.Lw(x,F,W,n,L),l=jW.jm($);
return l.buffer};jW.jm=function(x){var F=atob(x.split(",").pop()),W=new Uint8Array(F.length);for(var w=0;
w<F.length;w++)W[w]=F.charCodeAt(w);return W};jW.Lw=function(x,F,W,n,L,$){if(!(x instanceof ArrayBuffer))throw"e";
if(n==null)n="png";if(n=="png"&&$==!0){var l=jW.w0("PNG").Rd([[x,0]],F,W);return"data:image/png;base64,"+jW.pe(l)}var k=jW.ZF;
if(k==null)k=jW.ZF=document.createElement("canvas");if(k.width!=F||k.height!=W){k.width=F;k.height=W}var V=k.getContext("2d"),i=new ImageData(new Uint8ClampedArray(x,0,F*W*4),F,W);
V.putImageData(i,0,0);return k.toDataURL("image/"+n,L)};jW.adP=function(x,F,W,n,L){if(L==null)L=0;var $="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",l="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+$+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(x==1)l+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
l+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+L+")\" xlink:href=\""+F+"\" x=\""+80*W+"\" y=\""+80*n+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var k=new Uint8Array(l.length);_.S1(l,k,0);var V="data:image/svg+xml;base64,"+jW.pe(k.buffer);return{vj:V,fS:new eu(0,0,128,128),C8:new eX(64,64)}};
jW.pe=function(x){var F=new Uint8Array(x),W="";for(var w=0;w<F.length;w++)W+=String.fromCharCode(F[w]);
return btoa(W)};jW.Ip=function(x){var F=atob(x),W=F.length,n=new Uint8Array(W);for(var w=0;w<W;w++)n[w]=F.charCodeAt(w);
return n.buffer};jW.G7=function(x){var F=[],W=[];for(var w=0;w<x.B.length;w++){var n=x.B[w];if(n.getName().slice(0,3)=="_a_"){F.push(w);
W.push(n.MG())}}return[F,W]};jW.Ko=function(x,F,W,n,L,$){if(W==null)W=x.m;if(n==null)n=x.e;var l=new eu(0,0,x.m,x.e),k=new iJ(W/(x.m+.001),0,0,n/(x.e+.001),0,0),i;
F=F.toUpperCase();var V=jW.w0(F);if(V.sG){if(aH==0)x.Hi();i=V.Rd(x,W,n,L,$)}else if(aH==1){var f=x.ag1(W,n,$);
i=V.Rd([[f,0,x.Bq,x.dU]],W,n,L)}else{if(L)L=L.slice(0);var X=jW.G7(x),s=X[0],R=X[1],h=x.M9(),B=h&&L?L.pop():!1,e=h&&!B?h[0]:null,U=null;
if(x.o2.length!=0){U=[];for(var w=0;w<x.o2.length;w++)U.push(x.o2[w].PM(l))}if(s.length<2){var o=jW.Q3(x.Hi(),h,B,x),b;
if(W==x.m&&n==x.e)b=o.buffer;else{var u=O.Y.f$([o,l],k);b=u.buffer.buffer;if(U){var Z=r.R(l.P()*4);for(var w=0;
w<U.length;w++){r.rW(U[w],Z,3);var u=O.Y.f$([Z,l],k),I=U[w]=r.R(u.rect.P());r.Tb(u.buffer,I,3)}}}i=V.Rd([[b,0,x.Bq,x.dU,U,e]],W,n,L)}else{var y=[];
for(var w=0;w<s.length;w++){var D=s[w],b;for(var N=0;N<s.length;N++)x.B[s[N]].FH(s[N]==D);x.vq();x.W();
x.KS();if(W==x.m&&n==x.e)b=x.Hi().buffer.slice(0);else{var u=O.Y.f$([x.Hi(),l],k);b=u.buffer.buffer}b=jW.Q3(new Uint8Array(b),h,B,x).buffer;
var j=x.B[D].getName().split(",");y.push([b,j[1]?parseInt(j[1]):100,x.Bq,x.dU,U,e])}for(var w=0;w<s.length;
w++)x.B[s[w]].FH(R[w]);x.W();x.KS();if(L){L.push(100);var H=L.length,Q=L[H-3],C=L[H-2],J=L[H-5]/100,E=L[H-1]/100;
if(J!=1)for(var w=0;w<y.length;w++)y[w][1]=Math.round((y[w][1]==0?16:y[w][1])/J);if(E<1){var T=0,c=[],Y=0,N=0;
for(var w=0;w<y.length;++w){T+=y[w][1];if(w>0){c.push(c[c.length-1]+y[w-1][1])}else{c.push(0)}}var a=E*y.length,K=T/a,p=[];
for(var w=0;w<a;++w){var P=0;while(Y>c[N]&&N+1<y.length){P+=y[N][1];++N}if(P!=0){var m=Math.round(Math.min(1,(c[N]-Y)/y[N][1])*P);
p[p.length-1][1]+=P-m;if(y[N][1]<y[N-1][1]/2){p.push(y[N-1])}else{p.push(y[N])}p[p.length-1][1]=y[N][1]+m}else if(N<y.length){p.push(y[N])}Y+=K;
++N}while(N<y.length){p[p.length-1][1]+=y[N][1];++N}y=p}if(Q)y.reverse();if(C){var z=y.slice(1,y.length-1);
z.reverse();y=y.concat(z)}}i=V.Rd(y,W,n,L)}}return i};jW.Q3=function(x,F,W,n){var L=n.xu();if(W){x=x.slice(0);
ICC.U.applyLUT(F[3],F[2],x,x)}else if(L&&n.add.fcmy==1){x=x.slice(0);ICC.U.applyLUT(L[n.add.fcmy==1?5:3],L[2],x,x)}return x};
jW.ao_=function(x,F){var W=new Uint8Array(x.data),n=new Uint8Array(F.data),L=0,$=0;for(var l=0;l<W.length;
l+=4){var k=W[l]-n[l],V=W[l+1]-n[l+1],i=W[l+2]-n[l+2],f=W[l+3]-n[l+3],X=k*k+V*V+i*i+f*f>>>2;L+=X;if(X>25)$++}var s=$/x.Sf.P()<1e-4;
return s};jW.WD=function(x,F){var W=F[0].PV&&F[0].PV.startsWith("_a_"),n;if(W&&!1){var L=0,$=F.length;
for(var w=0;w<F.length-1;w++){var l=F[w],k=F[w+1],V=jW.ao_(l,k);if(V){var i=parseFloat(l.PV.split(",").pop()),f=parseFloat(k.PV.split(",").pop());
l.PV=l.PV.split(",")[0]+","+Math.round(i+f);F.splice(w+1,1);w--;L++}}if(L!=0){alert("Deleted "+L+" frames out of "+$+".");
for(var w=0;w<F.length;w++){var X=F[w],s=X.PV;X.PV="_a_frm"+w+","+s.split(",")[1]}}}var R=new az(x+"."+["psd","ai"][aH]),h=new eu(0,0,1,1);
if(W){n=R.dI();n.add.lsct=eD.en;n.sc(x);n.q_="pass";n.xb=24;n.FH(!0);R.B.push(R.Nz())}for(var w=0;w<F.length;
w++){var B=F[w];h=h.oA(B.Sf);var e=R.dI();e.FH(w==0);e.sc(F.length==1?"Background":"Layer "+w);if(w==0&&B.Bq)R.Bq=B.Bq;
if(w==0&&B.dU)R.dU=B.dU;if(B.PV)e.sc(B.PV);if(B.pH)for(var U=0;U<B.pH.length;U++){var o=B.pH[U],b=az.r9(o[0]);
b.add.vmsk.$=o[1];r.j.js(o[1],new iJ(h.m,0,0,h.e,0,0));R.V2.push(b)}if(B.Ul)R.Ul=B.Ul;e.rect=B.Sf.clone();
e.buffer=new Uint8Array(B.data);if(w==0&&B.q5)R.hS(B.q5);r.L4(e);R.B.push(e)}if(W)R.B.push(n);if(F[0].o2){for(var w=0;
w<F[0].o2.length;w++){var u=new t.gm;R.o2.push(u);u.rect=F[0].Sf.clone();u.channel=F[0].o2[w]}}R.g=[W?R.B.length-1:0];
R.m=h.m;R.e=h.e;if(aH==0)R.buffer=r.R(h.P()*4);R.W();return R};jW.os=function(x,F,W){var n=x.length-W,L=new Uint8Array(n);
for(var w=0;w<F;w++)L[w]=x[w];for(var w=F;w<n;w++)L[w]=x[w+W];return L};jW.a8t=function(x,F,W){var n=x.length,L=W.length,$=new Uint8Array(n+L);
for(var w=0;w<F;w++)$[w]=x[w];for(var w=F;w<n;w++)$[w+L]=x[w];$.set(W,F);return $};jW.acn=function(x,F,W,n,L,$,l,k,V){var i=new gT(S.E.v,!0);
i.f=O.o7;i.data={d:"h_stepbck"};var f={};for(var X=1;X<W.length;X++){var s=x.g.slice(0),R=jW.uS(x,V,F,W,n,X),h="img"+X,B=W[0].indexOf(l);
if(l!=""){if(B==-1)alert("Column "+l+" not found.");else h=W[X][B]}f[h+"."+L.toLowerCase()]=new Uint8Array(jW.Ko(x,L,null,null,$,k));
for(var w=0;w<R;w++)V.T(i)}return UZIP.encode(f)};jW.uS=function(x,F,W,n,L,$){var l=new gT(S.E.M,!0),i=0;
l.data={d:S.H.tN};var k=new gT(S.E.v,!0);k.f=O.c9;k.data={d:t.Xy,v2:{buffer:null,rect:null}};var V=k.data.v2;
for(var X=0;X<W.length;X++){var s=W[X],R=s.trait,h=parseInt(s.docRef.slice(4,-2)),B=-1;for(var w=0;w<x.B.length;
w++)if(x.B[w].add.lyid==h)B=w;if(B==-1)continue;var e=n[0].indexOf(s.varName);if(e==-1){alert("Column "+s.varName+" is missing");
return}var U=n[$][e],o=x.B[B];x.g=[B];if(R=="textcontent"){l.data.TJ="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(U)+";";
F.T(l);i++}if(R=="visibility"&&o.MG()+""!=U.toLowerCase()){U=U.trim().toLowerCase();if(U!="true"&&U!="false")U=U==""?"false":"true";
l.data.TJ="app.activeDocument.activeLayer.visible = "+U+";";F.T(l);i++}if(R=="fileref"){var b=U.split("/").pop(),u=null;
for(var dx in L)if(dx.split("/").pop()==b)u=L[dx];if(u==null){alert("Image "+b+" is missing.")}else{var Z=jW.w0(jW.XM(u.buffer)).La(u.buffer)[0],I=Z.Sf,y=o.rect,H=0,Q=0;
if(o.add.SoLd){var D=O.Y.kT(o.add.SoLd.nonAffineTransform);y=r.Z.Gn(D)}var N=y.m/y.e,j=I.m/I.e;if(N>j){Q=y.e;
H=~~(Q*j)}else{H=y.m;Q=~~(H/j)}l.data.TJ="app.activeDocument.activeLayer.visible = false;";F.T(l);i++;
var C=O.Y.f$([new Uint8Array(Z.data),I],new iJ(H/I.m,0,0,Q/I.e,0,0));V.rect=C.rect;V.buffer=C.buffer;
C.rect.x=y.x+(y.m-H>>>1);C.rect.y=y.y+(y.e-Q>>>1);F.T(k);i++;var J=x.B[x.g[0]];J.opacity=o.opacity;J.gO=o.gO;
J.q_=o.q_;J.F=o.F}}}return i};jW.$y={};jW.$y.Rd=function(x,F,W,n){if(n==null)n=[100,!1,0,0,0];var L={sRGB:1,loop:n[3]};
if(x[0][5]!=null){delete L.sRGB;L.iCCP=x[0][5]}if(x[0][2]!=null){var $=Math.round(x[0][2]*(1e4/254));
L.pHYs=[$,$,1]}var l=n[0],k=l==100?0:Math.max(2,Math.floor(l*5));if(k==5)k=4;var V=[],i=[];for(var w=0;
w<x.length;w++){V.push(x[w][0]);i.push(x[w][1])}var f=UPNG.encode(V,F,W,k,i,L,n[1]);return f};jW.$y.a2e=function(x,F,W){return UPNG.encodeLL([x],F,W,3,1,8)};
jW.$y.La=function(x){var F=Date.now(),W=UPNG.decode(x),n=UPNG.toRGBA8(W),L=W.width,$=W.height,l=0,k=W.tabs.iCCP;
if(W.tabs.pHYs)l=Math.round(W.tabs.pHYs[0]*254/1e4);if(n.length==1)return[{Sf:new eu(0,0,L,$),data:n[0],Bq:l,q5:k}];
var V=[];for(var w=0;w<n.length;w++){V.push({PV:"_a_frm"+w+","+W.frames[w].delay,Sf:new eu(0,0,L,$),data:n[w],Bq:l,q5:k})}return V};
jW.eF={};jW.eF.Rd=function(x,F,W,n){var L=new Uint8Array(x[0][0]),$=F*W,l=$*3,k="P6\n"+F+" "+W+"\n255\n",V=k.length,i=r.R(V+l,!0);
for(var w=0;w<V;w++)i[w]=k.charCodeAt(w);for(var w=0;w<$;w++){var f=w*4,X=w*3+V;i[X]=L[f];i[X+1]=L[f+1];
i[X+2]=L[f+2]}return i.buffer};jW.eF.La=function(x){x=new Uint8Array(x);var F=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],W=0,n=String.fromCharCode(x[0])+String.fromCharCode(x[1]),L=[],$=0,l=n=="P1"||n=="P4"?2:3;
for(W=2;W<x.length;W++){var k=x[W],V=String.fromCharCode(k);if(k=="#".charCodeAt(0)){while(x[W]!="\n".charCodeAt(0))W++;
continue}var i=F.indexOf(k)!=-1;if($==0&&!i){L.push(V);$=1;continue}if($==1&&!i){L[L.length-1]+=V;continue}if($==1&&i){$=0;
if(L.length==l)break;continue}}var f=parseInt(L[0]),X=parseInt(L[1]),s=f*X*4,R=n=="P1"||n=="P4"?1:255/parseInt(L[2]),h=r.R(s);
if(n=="P1"||n=="P2"||n=="P3"){var B="",e=0,$=0,U="#".charCodeAt(0);for(var w=W;w<x.length;w++){var k=x[w],V=String.fromCharCode(k),i=F.indexOf(k)!=-1;
if(k==U){while(x[w]!="\n".charCodeAt(0))w++}else if($==0&&!i){B=V;$=1}else if($==1){if(i){$=0;var o=parseInt(B);
B="";if(n=="P1"){h[e]=h[e+1]=h[e+2]=(1-o)*255;h[e+3]=255;e+=4}if(n=="P2"){h[e]=h[e+1]=h[e+2]=Math.round(o*R);
h[e+3]=255;e+=4}if(n=="P3"){h[e]=Math.round(o*R);e++;if((e&3)==3){h[e]=255;e++}}}else B+=V}}}var b=f*X;
if(n=="P4")for(var u=0;u<X;u++){var Z=u*8*Math.ceil(f/8);for(var I=0;I<f;I++){var w=Z+I,y=x[W+1+(w>>3)];
y=y>>7-(w&7)&1;var D=u*f+I<<2;h[D]=h[D+1]=h[D+2]=(1-y)*255;h[D+3]=255}}if(n=="P5")for(var w=0;w<b;w++){var D=4*w;
h[D]=h[D+1]=h[D+2]=Math.round(x[W+1+w]*R);h[D+3]=255}if(n=="P6")for(var w=0;w<b;w++){var D=4*w,N=W+1+3*w;
h[D]=Math.round(x[N]*R);h[D+1]=Math.round(x[N+1]*R);h[D+2]=Math.round(x[N+2]*R);h[D+3]=255}return[{Sf:new eu(0,0,f,X),data:h.buffer}]};
jW.fj={};jW.fj.Rd=function(x,F,W,n){if(n==null)n=[0,!0];if(typeof n[0]=="boolean")n[0]=0;var L=new Uint8Array(x[0][0]);
if(!r.aa(L)&&x[0][4]){L=L.slice(0);r.rW(x[0][4][0],L,3)}var $=F&3,l=W&3;if($!=0||l!=0){var k=F+($==0?0:4-$),V=W+(l==0?0:4-l),i=new Uint8Array(k*V*4);
r.De(i,4278190080);r.sh(L,new eu(0,0,F,W),i,new eu(0,0,k,V));L=i;F=k;W=V}var f=UTEX.DDS.encode(L.buffer,F,W,n);
if(!1){var s=UTEX.DDS.decode(f)[0],i=new Uint8Array(s.mp),R=0;for(var w=0;w<L.length;w++){var h=L[w]-i[w];
R+=h*h}console.log(R)}return f};jW.fj.La=function(x){var F=UTEX.DDS.decode(x)[0];return[{Sf:new eu(0,0,F.width,F.height),data:F.image}]};
jW.qj={};jW.qj.La=function(x){var F=UTEX.VTF.decode(x).pop();return[{Sf:new eu(0,0,F.width,F.height),data:F.image}]};
jW.mn={};jW.mn.kJ=null;jW.mn.au4=function(x,F){var W=jW.mn.kJ,n=x.byteLength,L=F.width,$=F.height,l=L*$,k=5e6+2*n+l*(F.progressive?Math.max(2,F.numComponents)*4+1:8),V=W.instance.exports;
jW.Wi(V,k);var i=new Uint8Array(V.memory.buffer),f=V.malloc(n);i.set(new Uint8Array(x),f);var X=V.malloc(4),s=V.malloc(4),dx=V.malloc(4),R=V.stbi_load_from_memory(f,n,X,s,dx,4);
V.free(f);V.free(X,s,dx);V.free(R);var h=i.slice(R,R+l*4);return h};(function(){var x=jW.yL.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(x).then(function(F){jW.mn.kJ=F})}());jW.mn.Rd=function(x,F,W,n){if(n==null)n=[85];
var L=x[0],$=new Uint8Array(L[0]);if(r.aa($)){var l=new Uint8Array($.length),k=new eu(0,0,F,W);r.De(l,4294967295);
r.l.X3("norm",$,k,l,k,k,1);$=l}var V=new Uint8Array(jW.QV($.buffer,F,W,"jpeg",n[0]/100));if(V.length<2e4||L[5]){var i=_.RS(V,[255,226]);
if(i!=-1){var f=_.Vk(V,i+2);V=jW.os(V,i,f+2)}}if(L[5]!=null){var X=4+_.Vk(V,4),s=L[5].length+16,R=new Uint8Array(s+2);
R[0]=255;R[1]=226;_.zJ(R,2,s);_.Fl(R,4,"ICC_PROFILE");R[16]=R[17]=1;R.set(L[5],18);V=jW.a8t(V,X,R)}if(L[2]!=null){var h=jW.mn.a8(V)[224][0]+2;
h+=9;V[h]=1;_.zJ(V,h+1,L[2]);_.zJ(V,h+3,L[2])}if(L[3]!=null&&n[1]==!0&&Object.keys(L[3]).length!=0){var B=0,e=0,U=0,o=ks.pu(L[3]),b=new Uint8Array(UTIF.encode([o])),u="http://ns.adobe.com/xap/1.0/",X=20;
B=4+6+b.length;var Z=ks.i0(L[3]),I=_.Ug(Z);e=4+u.length+1+I.length;var y=ks.ahr(L[3]);if(y.length!=0){var D=0,H=0;
for(var w=0;w<y.length;w++)D+=5+y[w][1].length;var N=D+(D&1),j=r.R(14+4+4+4+N);_.Fl(j,H,"Photoshop 3.0");
H+=14;_.Fl(j,H,"8BIM");H+=4;j[H++]=4;j[H++]=4;H+=2;_.kv(j,H,D);H+=4;for(var w=0;w<y.length;w++){var Q=y[w],C=Q[1];
j[H++]=28;j[H++]=2;j[H++]=Q[0];_.zJ(j,H,C.length);H+=2;_.Fl(j,H,C);H+=C.length}U=4+j.length}var J=B+e+U,E=new Uint8Array(V.length+J);
for(var w=0;w<20;w++)E[w]=V[w];for(var w=20;w<V.length;w++)E[w+J]=V[w];E[X]=255;E[X+1]=225;_.zJ(E,X+2,B-2);
_.Fl(E,X+4,"Exif");for(var w=0;w<b.length;w++)E[X+10+w]=b[w];X+=B;E[X]=255;E[X+1]=225;_.zJ(E,X+2,e-2);
_.Fl(E,X+4,u);for(var w=0;w<I.length;w++)E[X+4+u.length+1+w]=I[w];X+=e;if(U!=0){E[X]=255;E[X+1]=237;
_.zJ(E,X+2,U-2);for(var w=0;w<j.length;w++)E[X+4+w]=j[w];X+=U}V=E}return V.buffer};jW.mn.a8=function(x){var F=0,W=[],n=x.length;
while(F<n){while(x[F]!=255&&F<n)F++;while(x[F]==255)F++;if(F==n)break;var L=x[F];F++;if(W[L]==null)W[L]=[];
W[L].push(F-2);if(L==216)continue;if(L==217)break;if(224<=L&&L<=239||L==218||L==219||L==192||L==193||L==194||L==196||L==221||L==254){var $=_.Vk(x,F);
F+=$;if(L==218)while(F<n&&(x[F]!=255||(x[F+1]==0||208<=x[F+1]&&x[F+1]<=215)))F++;continue}console.log("unknown marker ",L.toString(16),F);
break}if(W[217]==null){console.log("EOI marker missing");var l=x.length-2;x[l]=255;x[l+1]=217;W[217]=[l]}return W};
jW.mn.a7P=function(x){x=new Uint8Array(x);if(x[0]!=255)return x.buffer;var F=jW.mn.a8(x),W=jW.mn.rE(x,F);
if(W.numComponents!=4)return x.buffer;var n=W.width,L=W.height,$=jW.mn.cM(x,F,!0);return jW.mn.Rd([[$[0].data]],n,L,[85])};
jW.mn.rE=function(x,F){var W=(F[192]?F[192]:F[193]?F[193]:F[194])[0]+4,n={};n.progressive=F[194]!=null;
n.precision=x[W];W++;n.height=_.Vk(x,W);W+=2;n.width=_.Vk(x,W);W+=2;n.numComponents=x[W];W++;if(F[224]){var L=n.jfif={};
W=F[224][0]+2+2+5+2;L.densityUnits=x[W];W++;L.xDensity=_.Vk(x,W);W+=2;L.yDensity=_.Vk(x,W);W+=2}if(F[238]){var L=n.adobe={};
W=F[238][0]+2+2+6;L.version=x[W];W++;L.flags0=_.Vk(x,W);W+=2;L.flags1=_.Vk(x,W);W+=2;L.transform=x[W];
W++}return n};jW.mn.akx=function(x,F,W){var n=F,L=_.Vk(x,n);n+=2;var $=_.xR(x,n,4);if($=="Exif"){n+=6;
var l=x.slice(n,n+L-8),k;try{k=UTIF.decode(l.buffer,{parseMN:!1,debug:!1})}catch(ii){}if(k&&k.length!=0)W.exif=k}else if($=="http"){var V=0;
while(x[n+V]!=0)V++;var i=_.xR(x,n,V);n+=V+1;if(i=="http://ns.adobe.com/xmp/extension/"){var f=_.xR(x,n,32);
n+=32;n+=8;var X=F+L-n;while(x[n+X-1]==0)X--;if(W.xmp_extn==null)W.xmp_extn="";try{W.xmp_extn+=_.NM(x,n,X)}catch(ii){}}else if(i=="http://ns.adobe.com/xap/1.0/"){var s=_.NM(x.slice(n,n+L-V-3));
if(s[0]=="?")s="<"+s;W.xmp=s}}else console.log($)};jW.mn.cM=function(x,F,W){var n=jW.mn.rE(x,F),L=n.width,$=n.height,l=L*$,k,V=-1,u=72,Z,y,D=null;
if(n.adobe)V=n.adobe.transform;if(W||L*$>15e7||V==0||V==2||n.progressive){var i=new PDFJS.JpegImage;
i.parse(x);var f=i.getData({width:L,height:$,forceRGB:!0,isSourcePDF:W}),k=r.R(l*4);for(var w=0;w<l;
w++){var X=w<<2,s=X-w;k[X]=f[s];k[X+1]=f[s+1];k[X+2]=f[s+2];k[X+3]=255}}else{k=jW.mn.au4(x.buffer,n)}var R=F[225];
if(R)for(var w=0;w<R.length;w++)jW.mn.akx(x,R[w]+2,n);var h=F[226];if(h){var B=h[0],e=_.Vk(x,B+2),U=_.xR(x,B+4,11);
if(U=="ICC_PROFILE"){var o=_.q(x,B+18);n.icc=x.slice(B+18,B+18+o)}}var b=F[217][0]+2;if(b!=x.length)n.suffix=x.slice(b);
var I=[L,$,1,0,0,0,1,0];if(n.jfif&&n.jfif.densityUnits!=0){u=Math.round([72,1,2.54][n.jfif.densityUnits]*n.jfif.xDensity)}else if(n.exif&&n.exif[0].t282!=null){var N=n.exif[0].t282[0];
u=N[0]/N[1]}if(n.exif){var j=n.exif;Z=ks._W(j[0]);var H=j[0].t274;if(H)H=H[0];if(H!=null&&H>1&&H<20)I=r.raw.ain(H,L,$)}if(n.xmp){Z=ks.Rs(n.xmp,Z)}if(n.icc)y=n.icc;
var Q=F[237],C=[],J=[];if(Q){var E=new Uint8Array(65536),T=0,B=0;for(var w=0;w<Q.length;w++){B=Q[w]+2;
var c=B+_.Vk(x,B);B+=2;var a=B;while(x[B]!=0)B++;B++;var K=_.xR(x,a,B-a-1),Y=c-B;if(Y<0)break;while(T+Y>E.length){var p=new Uint8Array(E.length*2);
p.set(E);E=p}var P=new Uint8Array(x.buffer,B,Y);E.set(P,T);T+=Y}B=0;x=E;while(B<T){var m=_.xR(x,B,4);
B+=4;var z=_.Vk(x,B);B+=2;var M=x[B++],d=_.xR(x,B,M);B+=M;if((M&1)==0)B++;var e=_.q(x,B);B+=4;var b=B+e+(e&1);
if(z==1028){while(B+4<b){var A=x[B++],G=x[B++],kB=x[B++],q=_.Vk(x,B);B+=2;if(A==28&&G==2)C.push([kB,_.xR(x,B,q)]);
B+=q}}else if(z==1032)D=ko.asd(x,B);else if((z&2e3)==2e3){var fO=fZ.Sl(x,B,e);J.push([d,fO])}else{}B=b}if(C.length!=0)Z=ks.aB0(C,Z)}var g=[{Sf:new eu(0,0,L,$),data:k.buffer,Bq:u,dU:Z,q5:y,pH:J.length==0?null:J,Ul:D}],Z=n.xmp_extn;
if(Z){var jN=new DOMParser,c6=jN.parseFromString(Z,"image/svg+xml"),c6=c6.children[0].children[0].children[0],a7=[c6.getAttribute("GImage:Data"),c6.getAttribute("GDepth:Data")];
for(var w=0;w<a7.length;w++)if(a7[w]){var bd=atob(a7[w]),ey=new Uint8Array(bd.length);_.Fl(ey,0,bd);
ey=ey.buffer;var c5=jW.XM(ey),bx=jW.w0(c5).La(ey);g.push(bx[0])}}if(n.suffix){var ap=n.suffix,fC=!1,kE=_.xR(ap,4,4),bm=_.RS(ap,[255,216,255]);
if(jW.VJ(ap,[0,0,1,10,14,0,0,0])){if(fC)console.log("Samsung");var B=0;while(B!=ap.length){var fe=_.sZ(ap,B+2);
B+=4;var g8={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[fe];if(g8!=null){var e0=_.$J(ap,B);B+=4;
var cF=_.xR(ap,B,e0);B+=e0;var ei=_.xR(ap,B,g8);B+=g8;if(fe==2608){var cr=B,e_=_.q(ap,B+24);B+=e_+24;
var gg=_.q(ap,B);B+=gg;var bW=ap.slice(cr,B);jW.mn.c6(bW)}}else if(fe==18502){while(_.xR(ap,B,4)!="SEFT")B+=4;
B+=4}else{break;console.log(_.O_(ap,B,128));console.log(ap.slice(B));throw fe.toString(16)}}}else if(kE=="ftyp"){if(fC)console.log("MP4 Video");
jW.mn.c6(ap)}else if(_.xR(ap,0,4)=="fixe"){if(fC)console.log("fixe");alert("Unknown data - "+ap.length+" B - at the end of the file",3e3);
var B=4,e=_.$J(ap,B);B+=4;var gx=_.$J(ap,B);B+=4;var h$=_.$J(ap,B);B+=4;console.log(e,gx,h$,ap.slice(B,B+84));
B+=84;var dH=_.xR(ap,B,32);B+=32;B+=8;var dH=_.xR(ap,B,32);B+=32}else if(_.xR(ap,8,13)=="FocusShot_Map"){if(fC)console.log("FocusShot_Map");
var eg=_.q(ap,0),q=_.$J(ap,4),ey=r.R(l*4),aB=r.R(l*4);for(var gB=0;gB<$;gB++)for(var jy=0;jy<L;jy++){var w=gB*L+jy,X=w<<2,aV=8+13+((gB>>>1)*L+jy>>>1),ie=ap[aV],cT=ap[aV+(l>>>2)];
ey[X]=ey[X+1]=ey[X+2]=ie;ey[X+3]=255;aB[X]=aB[X+1]=aB[X+2]=cT;aB[X+3]=255}g.push({Sf:new eu(0,0,L,$),data:ey.buffer},{Sf:new eu(0,0,L,$),data:aB.buffer})}else if(kE=="edof"){if(fC)console.log("edof");
var H=ap[8+7];console.log(H.toString(16));var B=8+16,a_=_.sZ(ap,B),gs=_.sZ(ap,B+2),l=a_*gs;B+=4;B+=32+16;
var gq=r.R(l*4);for(var w=0;w<l;w++){var X=w<<2;gq[X]=gq[X+1]=gq[X+2]=ap[B+w];gq[X+3]=255}if(H==16){}else if(H==19){var kr=gq.slice(0);
r.D.kZ(gq,kr,a_,gs);var iN=a_;a_=gs;gs=iN;r.D.UZ(kr,gq,a_,gs)}else throw"Unknown orientation of a depth map";
g.push({Sf:new eu(0,0,a_,gs),data:gq.buffer})}else if(_.xR(ap,0,64).indexOf("DualShot")!=-1){var jH=_.$J,h2=_.xR,an=_.sZ,B=0;
function bt(){var jA=jH(ap,B);if(jH(ap,B+4)!=0)throw"e";B+=8;return jA}var kH=_.q(ap,B);B+=4;try{if(kH==45066){B=1226;
var L=bt(),$=bt();B=3445}else if(kH==45322){var js=jH(ap,B);B+=4;var dH=h2(ap,B,js);B+=js;if(dH!="DualShot_DepthMap_1")throw dH;
L=1008;$=756}else throw kH;var gA=r.R(L*$*4);gA.fill(255);r.Mi(ap.slice(B,B+L*$),gA);g.push({Sf:new eu(0,0,L,$),data:gA.buffer})}catch(ii){console.log("error reading a depth map")}try{if(bm!=0)ap=ap.slice(bm);
g=g.concat(jW.w0("jpg").La(ap.buffer))}catch(ii){}}else if(bm!=-1&&!(ap[0]==255&&ap[1]==129)){if(fC)console.log("another JPG at",bm);
try{if(bm!=0)ap=ap.slice(bm);g=g.concat(jW.w0("jpg").La(ap.buffer))}catch(ii){}}else if(_.xR(ap,0,4)=="PMPD"){if(fC)console.log("Xiaomi stuff");
var B=4,jR=_.$J(ap,12),c3=_.$J(ap,16),a_=_.$J(ap,1060),gs=_.$J(ap,1064),iU=a_>gs,hn=g[0].Sf.m>g[0].Sf.e,db=ap.slice(ap.length-a_*gs-4),dy=r.R(a_*gs);
for(var gB=0;gB<gs;gB++)for(var jy=0;jy<a_;jy++)dy[gB*a_+jy]=db[(gs-gB-1)*a_+jy];var gA=r.R(a_*gs*4);
gA.fill(255);r.Mi(dy,gA);if(iU!=hn){var kr=gA.slice(0);r.D.kZ(gA,kr,a_,gs);var iN=a_;a_=gs;gs=iN;r.D.UZ(kr,gA,a_,gs)}g.push({Sf:new eu(0,0,a_,gs),data:gA.buffer})}else console.log(_.xR(ap,0,4),ap)}if(g.length>1){var c2=g[0].Sf,cx=!1,ft=!0;
g[0].PV="Main";var bk=[!1];for(var w=1;w<g.length;w++){bk[w]=jW.mn.ayQ(new Uint8Array(g[w].data));if(bk[w])cx=!0;
if(!g[w].Sf.rr(g[0].Sf))ft=!1}if(!cx&&!ft)g=g.slice(0,1);else for(var w=1;w<g.length;w++){g[w].PV=bk[w]?"Depth Map":null;
var eZ=g[w].Sf;if(!eZ.rr(c2)){var hf=c2.m/eZ.m,jr=c2.e/eZ.e,ix=new iJ;ix.scale(hf,jr);var bF=O.Y.QJ([new Uint8Array(g[w].data),eZ],1,r.D.Mz(ix));
g[w].Sf=bF.rect;g[w].data=bF.buffer}}}if(jW.mn.M7==1)if(I[2]!=1||I[6]!=1)for(var w=0;w<g.length;w++){var fA=g[w],ax=new Uint8Array(fA.data),L=fA.Sf.m,$=fA.Sf.e,a_=I[0],gs=I[1],k=r.R(a_*gs*4);
r.D.uB(ax,L,$,k,I);fA.Sf=new eu(0,0,a_,gs);fA.data=k.buffer}return g};jW.mn.c6=function(x){if(window.confirm("Photopea found a "+aK.LS(x.length)+" MP4 video inside your image. Would you like to save it?",4e3)){jh.save(x.slice(0).buffer,"video.mp4")}};
jW.mn.ayQ=function(x){var F=!0;for(var w=0;w<x.length;w+=4){F=F&&x[w]==x[w+1]&&x[w+1]==x[w+2]}return F};
jW.mn.M7=0;jW.mn.La=function(x,F,W){x=new Uint8Array(x);if(x[0]==255){var n=jW.mn.a8(x);if(n[195]==null){jW.mn.M7++;
var L=jW.mn.cM(x,n,!1);jW.mn.M7--;return L}var $=_.Vk(x,n[195][0]+5),l=_.Vk(x,n[195][0]+7),k=UTIF.LosslessJpegDecode(x),V=l*$,i=r.R(V*4);
for(var w=0;w<V;w++){var f=w<<2,X=f-w;i[f]=k[X];i[f+1]=k[X+1];i[f+2]=k[X+2];i[f+3]=255}return[{Sf:new eu(0,0,l,$),data:i.buffer}]}else if(x[0]==0&&x[4]==48&&x[6]==1){var s=x,R=new PDFJS.Jbig2Image,h=[];
if(F)h.push({data:F,start:0,end:F.length});h.push({data:s,start:0,end:s.length});var k=R.parseChunks(h);
if(!W)for(var w=0;w<k.length;w++)k[w]=~k[w];var l=_.q(x,11),$=_.q(x,15),B=Math.ceil(l/8),e=r.R(l*$*4);
for(var U=0;U<$;U++){var o=U*B;for(var b=0;b<l;b++){var f=(U*l+b)*4,u=k[o+(b>>>3)]>>>7-(b&7)&1,Z=u*255;
e[f]=Z;e[f+1]=Z;e[f+2]=Z;e[f+3]=255}}return[{Sf:new eu(0,0,l,$),data:e.buffer}]}else{var R=new PDFJS.JpxImage;
R.parse(x);var l=R.width,$=R.height,I=R.tiles,y=R.componentsCount,D=new Uint8Array(l*$*4),N=new eu(0,0,l,$);
for(var R=0;R<I.length;R++){var j=I[R],H=j.width,Q=j.height,C=H*Q,J=j.items,E=new eu(j.left,j.top,H,Q),T=new Uint8Array(C*4);
if(y==1)for(var w=0;w<C;w++){var c=J[w],f=w*4;T[f]=c;T[f+1]=c;T[f+2]=c;T[f+3]=255}else if(y==3)for(var w=0;
w<C;w++){var X=w*3,f=w*4;T[f]=J[X];T[f+1]=J[X+1];T[f+2]=J[X+2];T[f+3]=255}else if(y==4)T.set(J);else console.log("Unknown number of components: "+y);
r.sh(T,E,D,N)}return[{Sf:N,data:D.buffer}]}};jW.kG={};jW.kG.Rd=function(x,F,W,n){if(n==null)n=[70,!1,0,0,0];
var L=n[0]/100,B=0;if(x.length==1){var $=new Uint8Array(jW.QV(x[0][0],F,W,"webp",L));if($.length<2e4){var l=ao.cF($.buffer),k=l.sub;
for(var w=0;w<k.length;w++)if(k[w].sd=="ICCP"){var V=k[w];$=jW.os($,V.J-8,V.size+8);_.qG($,4,l.size-(V.size+8));
break}}if(n[1]&&x[0][3]){var l=ao.cF($.buffer),k=l.sub,i=k[0].J+k[0].size,f=x[0][3],X=new Uint8Array(UTIF.encode([ks.pu(f)])),s=new Uint8Array(6+X.length);
_.Fl(s,0,"Exif\0\0");s.set(X,6);var R=_.Ug(ks.i0(f)),h=new Uint8Array(16+s.length+R.length);_.Fl(h,0,"EXIF");
_.qG(h,4,s.length);h.set(s,8);var B=8+s.length;_.Fl(h,B,"XMP\0");_.qG(h,B+4,R.length);h.set(R,B+8);var e=new Uint8Array($.length+h.length);
e.set(new Uint8Array($.buffer,0,i),0);e.set(h,i);e.set(new Uint8Array($.buffer,i),i+h.length);$=e;_.qG($,4,_.$J($,4)+h.length)}return $.buffer}var U=_.bP,o=_.UH,b=new aL;
U(b,B,"RIFF    WEBPVP8X");B+=16;o(b,B,10);B+=4;o(b,B,18);B+=4;o(b,B,F-1);B+=3;o(b,B,W-1);B+=3;U(b,B,"ANIM");
B+=4;o(b,B,6);B+=4;b.Gq(B,4);b.data[B+3]=255;_.nu(b,B+4,n[3]);B+=6;var u=[];for(var w=0;w<x.length;w++){u.push(x[w][0])}var Z=UPNG.encode.compress(u,F,W,L==1?0:Math.max(2,Math.floor(L*500)),[!1,!0,!0,0,!0]).frames;
function I(l,a,K,Y){var C=l.J-8,J=l.size+8;K.Gq(Y,J);for(var w=0;w<J;w++)K.data[Y+w]=a[C+w];return Y+J}for(var w=0;
w<x.length;w++){U(b,B,"ANMF");B+=4;var y=B,C=0,J=0;B+=4;var D=Z[w],N=D.rect,j=[N.x>>>1,N.y>>>1,N.width-1,N.height-1,x[w][1]];
for(var H=0;H<5;H++)o(b,B+3*H,j[H]);B+=15;b.Gq(B,1);b.data[B]=1-D.blend<<1|D.dispose;B++;var Q=new Uint8Array(jW.QV(D.img.buffer,N.width,N.height,"webp",1)),k=ao.cF(Q.buffer).sub,E={};
for(var T=0;T<k.length;T++)E[k[T].sd]=k[T];if(E.VP8L)B=I(E.VP8L,Q,b,B);else throw"e";var c=B-y-4;o(b,y,c);
if((c&1)==1){b.Gq(B,1);B++}}o(b,4,B-8);return b.data.slice(0,B).buffer};(function(){var x=jW.yL.get("wasm/webp").buffer;
WebAssembly.instantiate(x).then(function(F){var W=F.instance.exports;jW.kG.exp=W})}());jW.kG.La=function(x){var F=new Uint8Array(x),W=jW.kG.aqs,n=null,L=ao.cF(x).sub,$={},l=null;
for(var w=0;w<L.length;w++)$[L[w].sd]=L[w];if($.EXIF){var k=$.EXIF,V=new Uint8Array(x,k.J+6,k.size-6),k=UTIF.decode(V)[0];
if(k)l=ks._W(k)}if($["XMP\0"]){var k=$["XMP\0"],V=new Uint8Array(x,k.J,k.size);if(l==null)l={};l=ks.Rs(_.NM(V),l)}var i=$.ANIM,f=$.VP8L,X=$["VP8 "],R=$.VP8X;
if(i==null){var h,B;if(X){h=_.sZ(F,X.J+6);B=_.sZ(F,X.J+8)}else if(f){var e=_.$J(F,f.J+1);h=(e&(1<<14)-1)+1;
B=(e>>>14&(1<<14)-1)+1}else throw"e";var U=W(n,x,{J:0,size:F.length},h,B);U.dU=l;return[U]}var o=R.J,h=1+(_.$J(F,o+4)&16777215),B=1+(_.$J(F,o+7)&16777215),b=[],u=new eu(0,0,h,B),Z=r.R(h*B*4);
for(var w=0;w<L.length;w++){var I=L[w];if(I.sd!="ANMF")continue;var y=[];for(var D=0;D<5;D++)y.push(_.$J(F,I.J+D*3)&16777215);
var N=new eu(y[0]*2,y[1]*2,y[2]+1,y[3]+1),j=y[4],H=W(n,x,{J:I.J+16,size:I.size-16},h,B),Q=new Uint8Array(H.data),C=F[I.J+15];
if(C>>>1==0)r.l.X3("norm",Q,N,Z,u,N,1);else r.sh(Q,N,Z,u);b.push({PV:"_a_"+b.length+","+j,Sf:u.clone(),data:Z.buffer.slice(0)});
if((C&1)==1){r.De(Q,0);r.sh(Q,N,Z,u)}}return b};jW.kG.aqs=function(x,F,W,n,L){var $=jW.kG.exp,l=$.memory,k=5e6+2*W.size+n*L*10;
jW.Wi($,k);var V=new Uint8Array(l.buffer),i=$.malloc(W.size);V.set(new Uint8Array(F,W.J,W.size),i);var f=$.malloc(8),X=$.WebPDecodeARGB(i,W.size,f,f+4),s=_.$J(V,f),R=_.$J(V,f+4),h=s*R*4,B=r.R(h);
for(var w=0;w<h;w+=4){B[w]=V[X+w+1];B[w+1]=V[X+w+2];B[w+2]=V[X+w+3];B[w+3]=V[X+w]}$.WebPFree(X);$.free(f);
$.free(i);return{Sf:new eu(0,0,s,R),data:B.buffer}};jW.aAm=function(){function x(k,V,i,f){var X=new Uint8Array(k[0][0]),s=new Uint32Array(X.buffer),R=[],h={},e=24,U=0,I=0;
for(var w=0;w<s.length;w++){var B=s[w]&16777215;if(h[B]==null){h[B]=R.length;R.push(B);if(R.length>256){R=null;
break}}}if(f&&f[0])R=null;if(R){e=1;while(1<<e<R.length)e*=2;if(e==2)e=4}var o={Xv:V,eD:i,GJ:1,On:e,zk:0,aC5:U},b=4*Math.floor((o.On*o.Xv+31)/32);
o.size=b*o.eD+2;var u=new aL,Z=R?(1<<e)*4:0;_.bP(u,I,"BM");I+=2;_.UH(u,I,b*i+16+40+Z);I+=4;_.UH(u,I,0);
I+=4;_.UH(u,I,54+Z);I+=4;u.Gq(I,40);_.UH(u,I,40);I+=4;l(u.data,I,o,b);I+=36;if(R){u.Gq(I,Z);var y=u.data;
for(var w=0;w<R.length;w++){var D=I+w*4,N=R[w]>>>16,j=R[w]>>>8&255,H=R[w]&255;y[D]=N;y[D+1]=j;y[D+2]=H}I+=Z}u.Gq(I,b*i);
if(e==24)for(var Q=0;Q<i;Q++){var C=I+(i-1-Q)*b;for(var J=0;J<V;J++){var E=(Q*V+J)*4;u.data[C+J*3+2]=X[E];
u.data[C+J*3+1]=X[E+1];u.data[C+J*3+0]=X[E+2]}}else if(e==8)for(var Q=0;Q<i;Q++){var C=I+(i-1-Q)*b;for(var J=0;
J<V;J++){var E=Q*V+J,T=h[s[E]&16777215];u.data[C+J]|=T}}else if(e==4)for(var Q=0;Q<i;Q++){var C=I+(i-1-Q)*b;
for(var J=0;J<V;J++){var E=Q*V+J,T=h[s[E]&16777215];u.data[C+(J>>>1)]|=T<<4-(J&1)*4}}else if(e==1)for(var Q=0;
Q<i;Q++){var C=I+(i-1-Q)*b;for(var J=0;J<V;J++){var E=Q*V+J,T=h[s[E]&16777215];u.data[C+(J>>>3)]|=T<<7-(J&7)}}I+=b*i+2;
return u.data.slice(0,I).buffer}function F(k){k=new Uint8Array(k);if(_.$J(k,0)==40)return[W(k.buffer,0)];
var V=0,i=_.xR(k,V,2);V+=2;if(i!="BM"){alert("Unsupported BMP format: "+i);return}var f=_.$J(k,V);V+=4;
V+=4;var X=_.$J(k,V);V+=4;return[W(k.buffer,V,X)]}function W(k,V,i){k=new Uint8Array(k);var f=_.$J(k,V),X=$(k,V+4);
if(X.GJ!=1)alert("unsupported number of color planes: "+X.GJ);if(X.zk!=0&&X.zk!=1&&X.zk!=2&&X.zk!=3){alert("Unsupported BMP compression: "+X.zk);
return}V+=f;var s=V,R=k;if(i==null)i=V;if(X.zk==1||X.zk==2){var h=L(k,i,X);X.On=8;k=h;i=0}var B=4*Math.floor((X.On*X.Xv+31)/32),e=X.Xv,U=Math.abs(X.eD),o=new Uint8Array(e*U*4);
o.fill(255);if(X.On==32)for(var b=0;b<U;b++){var u=i+(U-1-b)*B;for(var Z=0;Z<e;Z++){var I=(b*e+Z)*4;
o[I]=k[u+Z*4+2];o[I+1]=k[u+Z*4+1];o[I+2]=k[u+Z*4+0];o[I+3]=k[u+Z*4+3]}}else if(X.On==24)for(var b=0;
b<U;b++){var u=i+(U-1-b)*B;for(var Z=0;Z<e;Z++){var I=(b*e+Z)*4;o[I]=k[u+Z*3+2];o[I+1]=k[u+Z*3+1];o[I+2]=k[u+Z*3+0]}}else if(X.On==16)for(var b=0;
b<U;b++){var u=i+(U-1-b)*B;for(var Z=0;Z<e;Z++){var I=(b*e+Z)*4,y=k[u+Z*2+1]<<8|k[u+Z*2];o[I]=(y>>>11)*(255/31);
o[I+1]=(y>>>5&63)*(255/63);o[I+2]=(y&31)*(255/31)}}else if(X.On==8)for(var b=0;b<U;b++){var u=i+(U-1-b)*B;
for(var Z=0;Z<e;Z++){var I=(b*e+Z)*4,D=k[u+Z];o[I]=R[s+4*D+2];o[I+1]=R[s+4*D+1];o[I+2]=R[s+4*D+0]}}else if(X.On==4)for(var b=0;
b<U;b++){var u=i+(U-1-b)*B;for(var Z=0;Z<e;Z++){var I=(b*e+Z)*4,D=k[u+(Z>>1)];D=D>>4-4*(Z&1);D=D&15;
o[I]=R[s+4*D+2];o[I+1]=R[s+4*D+1];o[I+2]=R[s+4*D+0]}}else if(X.On==1)for(var b=0;b<U;b++){var u=i+(U-1-b)*B;
for(var Z=0;Z<e;Z++){var I=(b*e+Z)*4,N=k[u+(Z>>3)];N=N>>7-(Z&7);N=N&1;o[I]=R[s+4*N+2];o[I+1]=R[s+4*N+1];
o[I+2]=R[s+4*N+0]}}else throw"Unknown bit depth "+X.On;if(X.eD<0){var j=new Uint32Array(o.buffer),H=U>>>1;
for(var b=0;b<H;b++){var Q=b*e,C=(U-b-1)*e;for(var Z=0;Z<e;Z++){var J=j[Q+Z];j[Q+Z]=j[C+Z];j[C+Z]=J}}}return{Sf:new eu(0,0,e,U),data:o.buffer}}function n(k,w){return k>>>4-((w&1)<<2)&15}function L(k,V,i){var f=i.Xv,X=Math.abs(i.eD),s=new Uint8Array(f*X),R=0,h=0,w=0;
while(h<X){var B=k[V++],e=k[V++],U=h*f+R;if(B>0){if(i.On==4)for(w=0;w<B;w++){s[U+w]=n(e,w)}else for(w=0;
w<B;w++){s[U+w]=e}R+=B}else if(B==0&&e==0){h++;R=0}else if(B==0&&e==1){break}else if(B==0&&e==2){R+=k[V++];
h+=k[V++]}else{var o=e;if(i.On==4){for(w=0;w<e;w++){s[U+w]=n(k[V+(w>>>1)],w)}o=Math.ceil(e/2)}else{for(w=0;
w<e;w++){s[U+w]=k[V+w]}}if((o&1)!=0)o++;V+=o;R+=e}}return s}function $(k,V){var i=_.IY,f=_.$J,X=_.sZ,s={};
s.Xv=i(k,V);V+=4;s.eD=i(k,V);V+=4;s.GJ=X(k,V);V+=2;s.On=X(k,V);V+=2;s.zk=f(k,V);V+=4;s.size=f(k,V);V+=4;
var R=i(k,V);V+=4;var h=i(k,V);V+=4;s.aC5=f(k,V);V+=4;V+=4;return s}function l(k,V,i,f){_.qG(k,V,i.Xv);
V+=4;_.qG(k,V,i.eD);V+=4;_.j8(k,V,i.GJ);V+=2;_.j8(k,V,i.On);V+=2;_.qG(k,V,i.zk);V+=4;_.qG(k,V,i.size);
V+=4;_.qG(k,V,2834);V+=4;_.qG(k,V,2834);V+=4;_.qG(k,V,i.aC5);V+=4;V+=4}return{La:F,Rd:x,a2o:W}}();jW.Ll={};
jW.Ll.Rd=function(x,F,W,n){if(n==null)n=[100,!1,0,0,0,0];var L=[],$=[],l=F*W*4,B=null;for(var k=0;k<x.length;
k++){var V=new Uint8Array(x[k][0].slice(0));for(var w=0;w<l;w+=4){var i=V[w+3]=V[w+3]>127?255:0;if(i==0)V[w]=V[w+1]=V[w+2]=0}L.push(V.buffer);
$.push(x[k][1])}var f=Math.round(2+254*n[0]/100),X=UPNG.encode.compress(L,F,W,f,[!0,!1,!1,8,!1,n[1]]),s=X.plte,R=new Uint8Array(4),h=new Uint32Array(R.buffer);
for(var w=0;w<s.length;w++){h[0]=s[w];var e=R[0];R[0]=R[2];R[2]=e;s[w]=h[0];if(h[0]==0)B=w}while(s.length<256)s.push(0);
var U=new Uint8Array(2e4+Math.round(1.5*F*W*x.length)),o=n[3],b={palette:s};if(o!=1)b.loop=o==0?0:o-1;
var u=new GifWriter(U,F,W,b);for(var w=0;w<x.length;w++){var Z=X.frames[w],I=Z.rect,y=Z.blend,D=Z.dispose,N=Math.round($[w]/10);
if(N<2)N=2;u.addFrame(I.x,I.y,I.width,I.height,Z.img,{transparent:B,disposal:D+1,delay:N})}return U.slice(0,u.end()).buffer};
jW.Ll.La=function(x){var F=Date.now(),W=[],n=UGIF.decode(x),L=UGIF.toRGBA8(n),$=new eu(0,0,n.width,n.height);
for(var w=0;w<L.length;w++){var l=n.frames[w];W.push({Sf:$.clone(),PV:"_a_frm"+w+","+l.delay*10,data:L[w]})}return W};
jW.GU={};jW.GU.Rd=function(x,F,W,n){if(F>256||W>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var L=Math.min(F,256),$=Math.min(W,256),l=new eu(0,0,L,$),k=r.R(l.P()*4),V=new eu(0,0,F,W),i=new Uint8Array(x[0][0]);
r.sh(i,V,k,l);x[0][0]=k.buffer;F=L;W=$}var f=new Uint8Array(x[0][0]).slice(0),s=0;f[3]=Math.min(f[3],254);
var X=new aL,R=n&&n[0]==!0;_.nu(X,s,0);s+=2;_.nu(X,s,R?2:1);s+=2;_.nu(X,s,1);s+=2;var h=new Uint8Array(UPNG.encode([f.buffer],F,W,null,null,null,!0));
X.Gq(s,16);X.data[s]=F==256?0:F;s++;X.data[s]=W==256?0:W;s++;s+=2;_.nu(X,s,R?Math.round(F/2):1);s+=2;
_.nu(X,s,R?Math.round(W/2):32);s+=2;_.UH(X,s,h.length);s+=4;_.UH(X,s,6+16);s+=4;X.Gq(s,h.length);X.data.set(h,s);
s+=h.length;return X.data.slice(0,s).buffer};jW.GU.La=function(x){x=new Uint8Array(x);var F=4,W=_.sZ(x,F);
F+=2;var n=[];for(var w=0;w<W;w++){var L=jW.GU.avr(x,F+w*16),$=x.buffer.slice(L.offset,L.offset+L.size),l=jW.XM($);
l=l?l:"bmp";if(l=="png"){var k=jW.w0(l),V=k.La($);L.kQ=V[0]}else{var i=jW.w0("BMP").a2o($,0),$=r.R(L.Xv*L.eD*4);
r.sh(new Uint8Array(i.data),new eu(0,0,i.Sf.m,i.Sf.e),$,new eu(0,L.eD,L.Xv,L.eD));i.data=$.buffer;i.Sf.e=L.eD;
L.kQ=i}n.push(L)}n.sort(function(f,X){if(f.Xv!=X.Xv)return f.Xv-X.Xv;return f.auX-X.auX});return[n.pop().kQ]};
jW.GU.avr=function(x,F){var W={};W.Xv=x[F];F++;if(W.Xv==0)W.Xv=256;W.eD=x[F];F++;if(W.eD==0)W.eD=256;
W.akc=x[F];F++;F++;W.atn=_.sZ(x,F);F+=2;W.auX=_.sZ(x,F);F+=2;W.size=_.$J(x,F);F+=4;W.offset=_.$J(x,F);
F+=4;return W};jW.J6={};jW.J6.La=function(x){var F=Date.now(),n;if(r.raw.pU(x.byteLength))return[r.raw.agr(x)];
var W=UTIF.decode(x);console.log(W);if(W[0].t33421)n=W[0];else if(W[0].subIFD&&W[0].t271&&W[0].t271[0]=="Hasselblad"){n=W[0].subIFD[0];
n.t33421=[2,2]}else if(W[0].subIFD&&W[0].subIFD[0].t33421){n=W[0].subIFD[0];if(n.t50706==null){if(n.t258[0]==8)n.t258[0]=12}}else if(W[0].subIFD&&W[0].subIFD[0]&&W[0].subIFD[0].t262&&W[0].subIFD[0].t262[0]==34892)n=W[0].subIFD[0];
else if(W[0].t50706)n=W[0];else if(W[0].subIFD&&W[0].subIFD[1]&&W[0].subIFD[1].t33421)n=W[0].subIFD[1];
else if(W[0].subIFD&&W[0].subIFD[2]&&W[0].subIFD[2].t33421)n=W[0].subIFD[2];else if(W[3]&&W[3].t50648){var L=W[0].exifIFD,$=L.makerNote;
n=W[3];var l=$.t224[1],k=$.t224[2];n.t256=[l];n.t257=[k];n.t258=[16];n.t259=[7];n.t262=[32803];n.t277=[1];
n.t33421=[2,2];var V=n.t50656[0],i=r.raw.x4[V];if(i==null)throw"e";n.t33422=i}else if(W[0].t1&&W[0].t1.length==4){var f=W[0],X={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
n={};for(var s in X)if(f["t"+s])n["t"+X[s]]=f["t"+s];n.t2=f.t2;n.t3=f.t3;n.t10=f.t10;n.t45=f.t45;n.t258=[16];
n.t33421=[2,2];var R=f.t9[0];n.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][R-1];var h=f.t4[0],B=f.t5[0],e=f.t6[0],U=f.t7[0];
n.t50829=[h,B,e,U];var o=f.t36[0],b=f.t37[0],u=f.t38[0];n.t50728=[b/o,b/b,b/u]}else if(W[0].t258&&W[0].t258[0]>=12&&W[0].t271&&(W[0].t271[0].startsWith("OLYMPUS")||W[0].t271[0].startsWith("OM Digital Solutions"))){n=W[0];
n.t33421=[2,2]}if(n){UTIF.decodeImage(x,n,W);for(var Z in W[0])if((Z[0]=="t"||Z[0]=="e"||Z[0]=="d")&&n[Z]==null)n[Z]=W[0][Z];
n._V=W[0].t274?W[0].t274[0]:1;return[n]}var I=[];for(var w=0;w<W.length;w++){var y=W[w],D=null,E=72;
UTIF.decodeImage(x,y,W);if(y.t258&&y.t258[0]==16&&y.t277&&y.t277[0]==1){var N=0,j=0,H=0,Q=y.data;for(var C=0;
C<Q.length;C+=2){var J=Q[C+1]<<8|Q[C];if(J>N)N=J;j+=J;H++}D=1/256*65535/(.5*N+.5*(2*j/H))}var T=y.t282,c=y.t296;
if(T!=null&&c!=null){E=T[0][0]/T[0][1];if(c[0]==3)E=Math.round(E/2.54)}if(y.width==null)continue;var a=UTIF.toRGBA8(y,D).buffer,K=ks._W(y);
console.log(y);I.push({Sf:new eu(0,0,y.width,y.height),data:a,Bq:E,dU:K,q5:y.t34675?y.t34675.slice(0):null})}return I};
jW.J6.Rd=function(x,F,W,n){if(n==null)n=[!1];var L={},$=x[0];if($[3]!=null&&n[0])L=ks.pu($[3]);if($[2]!=null){L.t282=L.t283=[[Math.round($[2]),1]];
L.t296=[2]}return UTIF.encodeImage($[0],F,W,L)};jW.M4={};jW.M4.La=function(x){x=new Uint8Array(x);var F=8,W,n=0;
while(F<x.length){var L=_.xR(x,F,4),$=_.q(x,F+4);if(L.startsWith("ic")){var l=x.slice(F+8,F+$),k=jW.XM(l.buffer),V=jW.w0(k),i=V.La(l.buffer),f=i[0].Sf.P();
if(f>n){n=f;W=i}}F+=$}return W};jW.er={};jW.er.sG=!0;jW.er.La=function(x,F){ko.cF(x,F)};jW.er.a3L=function(x,F,W,n){if(n==null)n=[!1,!1,!1,!1,!1];
if(!n[0])x.Hi();var L=new aL,$=ko.pm(x,L,n);return[L.data.buffer,$]};jW.er.Rd=function(x,F,W,n){var L=jW.er.a3L(x,F,W,n),$=L[0],l=L[1];
return $.byteLength==l?$:$.slice(0,l)};jW.vi={};jW.vi.sG=!0;jW.vi.La=function(x,F){var W=pako.inflate(new Uint8Array(x)),n=_.Vk(W,0),L=_.Vk(W,2),$=4;
F.m=_.q(W,$);$+=4;F.e=_.q(W,$);$+=4;F.buffer=r.R(F.m*F.e*4);var l=_.Vk(W,$);$+=2;$+=4;for(var k=0;k<l;
k++){var V=F.dI(),h=0,T=1,c=2,a=3,K=0;F.B.push(V);var i=_.q(W,$);$+=4;var f=$,X=_.Vk(W,f);f+=2;var s=_.NM(W,f,X);
f+=X;V.sc(s);var R=W[f];f++;if(R!=0&&R!=1)throw R;V.rect.x=_.o3(W,f);f+=4;V.rect.y=_.o3(W,f);f+=4;V.rect.m=_.q(W,f);
f+=4;V.rect.e=_.q(W,f);f+=4;if(n>3){h=_.o3(W,f);f+=4}V.opacity=Math.round(255*W[f]/100);f++;var B=W[f];
f++;V.FH(B!=0);V.q_="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[W[f]];
f++;var e=W[f];f++;if(e)V.add.lspf=1<<31;if(n>3){var U=_.Vk(W,f);f+=2;if(U!=0){var o=JSON.parse(_.NM(W,f,U));
f+=U;var b=o.text,u=o.textSettings,Z=u.font,I=u.size,y=u.padding,D=parseInt(u.color.slice(1),16);V.add.lnsr="rend";
V.add.TySh=iV.P3(0,0);V.add.TySh.pX=new eu(0,0,100,100);var N=V.add.TySh.i=new iJ,j=V.rect.m/2,H=V.rect.e/2;
N.translate(-j,-H);N.rotate(-h*Math.PI/180);N.translate(j,H);N.translate(V.rect.x+y,V.rect.y+y);var Q=V.add.TySh.OU;
iV.xC(Q,1);iV.J3(Q,[0,0,V.rect.m-y*2,V.rect.e]);iV.yb(Q,0,b);var C=iV.f3(Q,0,1);C.oE.FontSize=I;C.oE.FillColor={Type:1,Values:[1,(D>>>16&255)/255,(D>>>8&255)/255,(D>>>0&255)/255]};
if(u.bold)Z+="-Bold";iV.hU(C,Z);C.wt.Justification=["left","right","center"].indexOf(u.align);iV.Aj(Q,0,b.length,C)}}var J=_.q(W,f);
f+=4;if(J!=V.rect.P()*4){for(var w=V.rect.m;w>V.rect.m/2;w--){var E=J/(w*4);if(E==Math.round(E)){V.rect.m=w;
V.rect.e=E;break}}}V.buffer=r.R(V.rect.P()*4);if(n>3){T=0;c=1;a=2;K=3}for(var w=0;w<J;w+=4){V.buffer[w]=W[f+w+T];
V.buffer[w+1]=W[f+w+c];V.buffer[w+2]=W[f+w+a];V.buffer[w+3]=W[f+w+K]}f+=J;var Y=_.q(W,f);f+=4;if(Y==0&&n>3){$+=i;
continue}var p=W[f];f++;var P=_.Vk(W,f);f+=2;if(Y!=0){V.F=new t.gm;V.F.rect=V.rect.clone();V.F.channel=r.R(V.rect.P());
for(var w=0;w<Y;w+=4)V.F.channel[w>>>2]=W[f+w+1];f+=Y}if(p!=0){var m=JSON.parse(eC.default);V.add.lmfx=m;
for(var w=0;w<eC.order.length;w++)m[eC.UM[w]]={t:"VlLs",v:[]};var z={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var w=0;w<p;w++){var M=_.Vk(W,f),d=f+M+4,A=W.slice(f,d),G=W[f+2];f+=3;var kB=z[G+""],q=JSON.parse(eC.bc[kB]);
m[eC.UM[kB]].v.push({t:"Objc",v:q});if(kB!=0){q.Md.v.BlnM=a2.KN("norm");q.Opct.v.val=W[f];f++;if(kB==9||kB==2){q.Dstn.v.val=W[f+1];
f+=2}else f+=2;q.blur.v.val=Math.round(W[f]*1.2);f++;if(kB==9||kB==2){q.uglg.v=!1;q.lagl.v.val=180-_.Vk(W,f);
f+=2}q.Clr.v=r.I.GB({o:W[f+1],r:W[f+2],z:W[f+3]})}else{q.hglM.v.BlnM=q.sdwM.v.BlnM=a2.KN("norm");f+=2;
var fO=W[f++],g=W[f++];q.blur.v.val=Math.round(Math.sqrt(g*fO)*1.3);q.srgR.v.val=Math.round(100*fO/g);
q.uglg.v=!1;q.lagl.v.val=180-_.Vk(W,f);f+=2;q.hglO.v.val=W[f++];q.hglC.v=r.I.GB({o:W[f+1],r:W[f+2],z:W[f+3]});
f+=4;q.sdwO.v.val=W[f++];q.sdwC.v=r.I.GB({o:W[f+1],r:W[f+2],z:W[f+3]});f+=4}f=d}}if(f-$<i){var jN=_.q(W,f),bd=0;
f+=4;f++;var X=_.Vk(W,f);f+=2;var b=_.NM(W,f,X);f+=X;b=b.replace(/\r/g,"\n");var X=_.Vk(W,f);f+=2;var Z=_.NM(W,f,X);
f+=X;var I=_.Vk(W,f);f+=2;var c6=V.rect.x,a7=V.rect.m;if(jN&4)bd=1;if(jN&2)bd=2;var ey=Math.round(I*.4);
if(bd==0||bd==2)a7+=ey;if(bd==1||bd==2){a7+=ey;c6-=ey}V.add.lnsr="rend";V.add.TySh=iV.P3(0,0);V.add.TySh.pX=new eu(0,0,100,100);
V.add.TySh.i=new iJ(1,0,0,1,c6,V.rect.y+I*.25);var Q=V.add.TySh.OU;iV.xC(Q,1);iV.J3(Q,[0,0,a7,V.rect.e]);
iV.yb(Q,0,b);var C=iV.f3(Q,0,1);C.oE.FontSize=I;C.oE.FillColor={Type:1,Values:[1,W[f+1]/255,W[f+2]/255,W[f+3]/255]};
f+=4;if(W[f+5])Z+="-Bold";if(W[f+6])Z+="-Italic";iV.hU(C,Z);C.wt.Justification=bd;f+=8;iV.Aj(Q,0,b.length,C)}$+=i}};
jW.lw={};jW.lw.sG=!0;jW.lw.La=function(x,F){var W=UZIP.parse(x),n=JSON.parse(_.NM(W["manifest.json"].buffer));
F.m=n.width;F.e=n.height;F.buffer=r.R(F.m*F.e*4);F.name=n.name+".psd";var L=n.stack;for(var $=0;$<L.length;
$++){var l=L[$],k=l.type,V=l.rect,i=l.format,f=F.dI();f.sc(l.name);f.FH(l.visible);f.opacity=Math.round(255*l.opacity);
var X=f.rect=new eu(V.x,V.y,V.w,V.h);F.B.push(f);if(k=="image"){var s=W[l.content].buffer,R=jW.XM(s),h=jW.w0(R),B=h.La(s)[0];
X.m=B.Sf.m;X.e=B.Sf.e;f.buffer=new Uint8Array(B.data)}else if(k=="shape"){f.xb|=16;var e=f.add.vstk=eC.pr.Iz(!0),U=f.add.vmsk=new t.C$,o;
f.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:0,r:0,z:0})}};var b=i.variant,u=i.fill;if(b=="rectangle"||b=="rounded"){o=r.j.sk.Rect(X.x,X.y,X.m,X.e,i.radii)}else if(b=="ellipse"){o=r.j.sk.Dd(X.x,X.y,X.m,X.e)}else if(b=="path"){var Z=Typr.U.SVGToPath(l.content),I={G:Z.cmds,p:Z.crds};
o=r.Z.zI(I);var y=r.j.Bd(o);r.j.js(o,new iJ(X.m/y.m,0,0,X.e/y.e,X.x,X.y))}else console.log(i);f.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:0,r:0,z:0})}};
if(u.type=="color"){f.add.SoCo.Clr.v=r.I.GB(CSS.po(u.value))}else if(u.type=="gradient"){delete f.add.SoCo;
var D=f.add.GdFl=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]),N=D.Grad.v;N.Intr.v=0;var j=[],H=u.value.stops;
for(var w=0;w<H.length;w++){var Q=H[w],C=CSS.po(Q.color);j.push([Q.position,[C.o/255,C.r/255,C.z/255]])}r.I.yT(j,N);
D.Angl.v.val=-(u.value.direction+V.r)+90+180}else console.log(u);var J=X.x+X.m/2,E=X.y+X.e/2,T=new iJ;
T.translate(-J,-E);T.rotate(-V.r*Math.PI/180);T.translate(J,E);r.j.js(o,T);var c=l.style;if(c&&c.outline){var a=c.outline;
e.strokeEnabled.v=!0;e.strokeStyleLineWidth.v.val=a.size;e.strokeStyleContent.v.Clr.v=r.I.GB(CSS.po(a.color))}U.$=o;
f.oO();f.pZ(F)}else if(k=="text"){f.add.lnsr="rend";f.add.TySh=iV.P3(0,0);f.add.TySh.pX=new eu(0,0,100,100);
var K=f.add.TySh.OU;iV.xC(K,1);iV.J3(K,[0,0,X.m,X.e]);var Y=l.content;iV.yb(K,0,Y);var p=iV.f3(K,0,1);
iV.hU(p,i.font.name);var P=p.oE.FontSize=Math.round(i.size);if(i.fill&&i.fill.value){var m=CSS.po(i.fill.value);
p.oE.FillColor={Type:1,Values:[1,m.o/255,m.r/255,m.z/255]}}var z=i.linespace;if(z){p.oE.AutoLeading=!1;
p.oE.Leading=Math.round(P*(1.06+parseFloat(z)));console.log(z,p.oE)}p.oE.FauxBold=i.bold;p.wt.Justification=["left","right","center","justify"].indexOf(i.align);
iV.Aj(K,0,Y.length,p);f.add.TySh.i=new iJ(1,0,0,1,X.x+Math.round(P*.1),X.y+Math.round(P*.1));f.rect=new eu}else console.log(l)}F.Sv=!0};
jW.Z7={};jW.Z7.sG=!0;jW.Z7.La=function(x,F){h4.cF(x,F)};var h4=function(){function x(X,s){var R=Date.now(),h=UZIP.parse(X);
console.log(h);console.log(Date.now()-R);R=Date.now();var B=h["maindoc.xml"],e=new DOMParser,U=e.parseFromString(_.NM(B),"image/svg+xml").children[0].children[0],o=U.getAttribute("name"),b=s.m=i(U,"width"),u=s.e=i(U,"height");
s.Bq=Math.round(i(U,"x-res"));var Z=U.children[0].children;F(Z,s,{ib:o,WH:h,ur:null});console.log(Date.now()-R);
R=Date.now()}function F(X,s,R){for(var h=0;h<X.length;h++){var B=X[X.length-1-h],e=B.getAttribute("nodetype");
if(e=="transparencymask"){R.ur.F=f(B,R);continue}var U=B.getAttribute("compositeop"),o=B.getAttribute("filename"),b=B.getAttribute("channelflags"),u=B.children;
u=u.length==0?null:u[0].children;var Z=s.dI();if(e=="paintlayer"){var I=i(B,"x"),y=i(B,"y"),D=R.WH[R.ib+"/layers/"+o+".defaultpixel"],N=R.WH[R.ib+"/layers/"+o],j=V(N);
Z.rect=j[0];Z.rect.offset(I,y);Z.buffer=j[1];if(Z.rect.ak()&&D.join()!="0,0,0,0"){Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:D[0],r:D[1],z:D[2]})}};
Z.pZ(s)}}else if(e=="grouplayer"){Z.add.lsct=eD.en;Z.q_="pass";Z.xb|=24;s.B.push(s.Nz());var H=R.ur;
R.ur=Z;F(u,s,R);R.ur=H}else if(e=="shapelayer"){var N=R.WH[R.ib+"/layers/"+o+".shapelayer/content.svg"],Q=_.NM(N),C=s.sP(N,Z.getName(),0,0);
Z=C;var J=new eu(0,0,s.m,s.e),E=r.Z.o4(J).p;Z.add.SoLd.Trnf=O.Y.ud(E);Z.add.SoLd.nonAffineTransform=O.Y.ud(E);
Z.Bw(s,!1)}else if(e=="clonelayer"){var w=-1;for(var T=0;T<X.length;T++)if(X[T].getAttribute("name")==B.getAttribute("clonefrom"))w=T;
if(w!=-1){F([X[w]],s,R);Z=s.B.pop()}}else console.log(e,B);Z.sc(B.getAttribute("name"));if(i(B,"locked")==1)Z.add.lspf=1<<31;
Z.FH(i(B,"visible")==1);var c={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[U];if(c)Z.q_=c;
else console.log(U);Z.opacity=i(B,"opacity");if(b=="1110")Z.gO=!0;var a=u?u[0]:null;if(a&&a.tagName=="mask")Z.F=f(a,R);
s.B.push(Z)}}function W(X,s){var R=0,h=0,B=X.length,e,U,o;while(R<B){e=X[R++];if(e>31){U=e>>>5;if(U==7)U=7+X[R++];
o=(e&31)<<8|X[R++];var b=h-o-1,u=U>>>1;s[h++]=s[b++];s[h++]=s[b++];for(var w=0;w<u;w++){s[h++]=s[b++];
s[h++]=s[b++]}if((U&1)==1)s[h++]=s[b++]}else{for(var w=0;w<=e;w++){s[h++]=X[R++]}}}}function n(X,s){var R=0;
while(X[s+R]!=10)R++;return _.xR(X,s,R)}var L=new eu(0,0,64,64),$=new Uint8Array(64*64*4),l=new Uint8Array(64*64*4);
function k(){for(var w=0;w<4096;w++){var X=w<<2;$[X+0]=l[w+8192];$[X+1]=l[w+4096];$[X+2]=l[w];$[X+3]=l[w+12288]}}function V(X){var s=0,R={};
for(var w=0;w<5;w++){var h=n(X,s);s+=h.length+1;h=h.split(" ");R[h[0]]=parseInt(h[1])}var B=R.PIXELSIZE,e=[],U=new eu;
while(s<X.length){var h=n(X,s),o=h.split(",");s+=h.length+1;if(o[2]!="LZF")throw o[2];L.x=parseInt(o[0]);
L.y=parseInt(o[1]);U=U.oA(L);var b=parseInt(o[3]);e.push([L.clone(),new Uint8Array(X.buffer,s+1,b-1)]);
s+=b}var u=r.R(U.P()*B);for(var w=0;w<e.length;w++){var Z=e[w];W(Z[1],l);if(B==4){k();r.sh($,Z[0],u,U)}else r.Hz(l,Z[0],u,U)}return[U,u]}function i(X,s){return parseInt(X.getAttribute(s))}function f(X,s){var R=X.getAttribute("filename"),h=s.WH[s.ib+"/layers/"+R+".pixelselection"],B=V(h),e=new t.gm;
e.Xi=i(X,"visible")==1;e.rect=B[0];e.channel=B[1];return e}return{cF:x}}();jW.O2={};jW.O2.sG=!0;jW.O2.La=function(x,F){ff.cF(x,F)};
jW.XC={};jW.XC.La=function(x){var F=new Uint8Array(x),W=jW.XC.ce(F,0,0),n=W.sub[2],L=jW.XC.K5(F,n),$=W.sub[3],l=jW.XC.K5(F,$);
return[L,l]};jW.XC.K5=function(x,F){var W=F.sub[F.sub.length-1],n=W.sub[0].J,L=W.sub[1].J,$=x.slice(n,n+16),l=x.slice(L,L+W.sub[1].size),k=_.$J,V=x[n],i=k(x,n+1),f=k(x,n+5),X=x[n+13],s=new eu(0,0,i,f),R=r.R(i*f*4);
if(X){new Uint32Array(R.buffer).fill(4278190080)}else{UTEX.readBC1(x,L,R,i,f)}return{Sf:s,data:R}};jW.XC.ce=function(x,F,W){var n=_.xR,L=_.$J,$=n(x,F,4);
$=$.split("").reverse().join("");var l=L(x,F+4);if(l!=0){console.log(x.slice(F-8));throw l}var k=L(x,F+8);
while((k&3)!=0)k++;var V={sd:$,J:F+12,size:k};if($=="CARF"||$=="CTEX"||$=="CREW"||$=="BMAP"){V.sub=[];
F+=12;if($=="CTEX"||$=="CREW")F+=32;var i=V.J+V.size;while(F<i){var f=jW.XC.ce(x,F,W+1);V.sub.push(f);
F+=12+f.size+(f.size&1)}}return V};jW.yS={};jW.yS.sG=!0;jW.yS.La=function(x,F){c9.cF(x,F)};jW.Py={};
jW.Py.sG=!0;jW.Py.La=function(x,F){gG.cF(x,F)};jW.cg={};jW.cg.sG=!0;jW.cg.La=function(x,F){cJ.cF(x,F)};
jW.ui={};jW.ui.sG=!0;jW.ui.La=function(x,F){dc.cF(x,F)};jW.BQ={};jW.BQ.sG=!0;jW.BQ.La=function(x,F){cg.cF(x,F)};
jW.WB={};jW.WB.sG=!0;jW.WB.Rd=function(x,F,W,n,L,$){if(n==null)n=[!0,!1,!1,!1,!0];var l=cM.Kt(x,{v9:n[0],hidden:n[1],axL:n[2],aaD:n[3],lN:n[4],a9P:F,ajI:W},L.op,$);
return l};jW.WB.La=function(x,F,W){cM.cF(x,F,W)};jW.Xo={};jW.Xo.sG=!0;jW.Xo.La=function(x,F){var W=150,n=new iJ(1,0,0,-1,0,0);
n.scale(W/72,W/72);F.Bq=W;var L=new fJ(F,n,!0);FromPS.Parse(x,L)};jW.Od={};jW.Od.sG=!0;jW.Od.Rd=function(x,F,W,n,L){if(n==null)n=["",100,!1,!1,!1,0,!1];
n[7]=["jpg"];var $=new ToPDF;go.Kt(x,n,$,L.op,F,W);return $.buffer};jW.Od.La=function(x,F,W){var n=2;
while(!0){var L=n*72,$=new iJ(1,0,0,-1,0,0);$.scale(L/72,L/72);F.Bq=L;var l=new fJ(F,$,!0);FromPDF.Parse(x,l);
var k=Math.max(F.m,F.e);if(W&&k<Math.max(W[0],W[1])){F.B=[];var V=n;while(k*(n/V)<Math.max(W[0],W[1]))n++}else break}};
jW.w5={};jW.w5.sG=!0;jW.w5.La=function(x,F){var W=72,n=new iJ(1,0,0,1,0,0);n.scale(W/72,W/72);F.Bq=W;
var L=new fJ(F,n,!1);FromWMF.Parse(x,L)};jW.UK={};jW.UK.MQ=!0;jW.UK.sG=!0;jW.UK.Rd=function(x,F,W,n,L){if(n==null)n=["",100,!1,!1,!1,0,!1];
n[7]=[];var $=new ToEMF;go.Kt(x,n,$,L.op);return $.buffer};jW.UK.La=function(x,F){var W=72,n=new iJ(1,0,0,1,0,0);
n.scale(W/72,W/72);F.Bq=W;var L=new fJ(F,n,!1);FromEMF.Parse(x,L)};jW.M8={};jW.M8.sG=!0;jW.M8.La=function(x,F){return iH.cF(x,F)};
jW.hp={};jW.hp.La=function(){var x,F,W,n,L,$,l=0,k=0,V=0,i=0,f=0,o="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",b=null;
function X(u){var Z=fi.cF(u),I=Z.K8,Q=0,C,J;console.log(Z);var y=new Uint8Array(u);if(I=="ILBM")return s(Z,y);
if(I=="CIMG")return B(Z,y);if(I=="ANIM"&&Z.sub[0].sd=="ADAT")return U(Z,y);if(I!="ANIM")throw I;var D=_.Vk,N=_.q,j=Z.sub,H=s(j[0],y);
for(var E=1;E<j.length-2;E++){var T=H[Math.max(0,E-2)].agb.slice(0),c=j[E];for(var a=0;a<c.sub.length;
a++){var K=c.sub[a],Y=K.J;if(K.sd=="ANHD"){var p=y[Y++];if(p!=5)throw p;var n=y[Y++],P=D(y,Y),m=D(y,Y+2);
if(P!=0&&P!=x)throw P;if(m!=0&&m!=F)throw m;var z=D(y,Y+4),M=D(y,Y+6);if(z!=0||M!=0)throw z;Y+=8;var d=D(y,Y);
Y+=2;C=D(y,Y);Y+=2;if(y[Y++]!=0)throw"e";if(y[Y++]!=0)throw"e";J=D(y,Y);Y+=2}else if(K.sd=="DLTA"){var A=[],G=Y;
for(var w=0;w<16;w++)A.push(N(y,Y+w*4));Y+=64;var kB=$;for(var q=0;q<L;q++){if(A[q]==0)continue;Y=G+A[q];
for(var fO=0;fO<kB;fO++){var g=y[Y++],jN=0;if(g==0)continue;for(var w=0;w<g;w++){var c6=y[Y++];if(c6==0){var a7=y[Y++],bd=y[Y++];
for(var ey=0;ey<a7;ey++){T[(jN*L+q)*kB+fO]=bd;jN++}}else if(c6<128){jN+=c6}else{c6-=128;for(var ey=0;
ey<c6;ey++){T[(jN*L+q)*kB+fO]=y[Y+ey];jN++}Y+=c6}}}}}else console.log(K.sd)}if(E==1&&C>100)C=0;var c5=C==0?17:Math.round((C-Q)*1e3/60);
H.push({data:h(y,T).buffer,Sf:new eu(0,0,x,F),agb:T,PV:"_a_frm"+E+","+c5});Q=C}if(V!=0&&x>F*2){var bx=new Uint32Array(x*F*2);
bx.fill(4294967295);for(var E=0;E<H.length;E++){var ap=H[E],fC=new Uint32Array(ap.data);for(var jN=0;
jN<F;jN++){var kE=jN*2;for(var fO=0;fO<x;fO++)bx[kE*x+fO]=fC[jN*x+fO];kE++;for(var fO=0;fO<x;fO++)bx[kE*x+fO]=fC[jN*x+fO]}ap.Sf.e*=2;
ap.data=bx.slice(0).buffer}}return H}function s(u,Z){var I,y,D;l=0;k=0;i=0;f=0;V=0;for(var N=0;N<u.sub.length;
N++){var j=u.sub[N],H=j.J;if(j.sd=="BMHD"){var Q=[];for(var w=0;w<4;w++)Q[w]=_.Vk(Z,H+2*w);H+=8;var C=Q[2],J=Q[3];
x=Q[0];F=Q[1];W=Z[H++];n=Z[H++];D=Z[H++];if(D!=0&&D!=1)throw D;$=x+15>>>4<<1;L=W+n}else if(j.sd=="CMAP")l=H;
else if(j.sd=="CAMG"){var E=_.q(Z,H);k=E&32768,V=E&4,i=E&2048;f=E&128}else if(j.sd=="BODY"){y=r.R($*F*L);
if(D==0)y=Z.slice(H,H+y.length);if(D==1)dU.JB(Z,H,j.size,y,0,y.length)}else if(j.sd=="PLTP"){console.log(Z.slice(H,H+j.size))}}I=h(Z,y);
return[{Sf:new eu(0,0,x,F),data:I.buffer,agb:y}]}function R(u,dx){return u[dx>>>3]>>>7-(dx&7)&1}function h(u,Z){var I=W-2,y=(1<<I)-1,D=Math.round(255/y),N,j,H,Q=$*8;
if(l!=0){var C=1<<W,J=!0;for(var w=1;w<C;w++){var E=l+w*3;if(u[E]!=u[E-3]||u[E+1]!=u[E-2]||u[E+2]!=u[E-1]&&u[E+2]!=u[E-1]+1)J=!1}if(J){for(var w=0;
w<C;w++){var E=l+w*3,T=Math.round(w*255/(C-1));u[E]=u[E+1]=u[E+2]=T}}}var c=r.R(x*F*4);for(var a=0;a<F;
a++)for(var K=0;K<x;K++){var Y=0;for(var p=0;p<L;p++){var P=(a*L+p)*Q+K,m=R(Z,P);Y|=m<<p}Y=Y&(1<<W)-1;
var w=a*x+K,z=w<<2;if(l!=0){if(i!=0&&Y>>>I!=0){var M=Y>>>I,d=(Y&y)*D;if(M==1)H=d;else if(M==2)N=d;else if(M==3)j=d}else{var d=l+Y*3;
N=u[d+0];j=u[d+1];H=u[d+2]}}else{if(W==24){N=Y>>>0&255;j=Y>>>8&255;H=Y>>>16&255}else if(W==16){var A=0,G=1,q=4;
for(var p=0;p<16;p++)A+=(Y>>>p&1)<<15-p;var kB=(1<<G)-1,fO=(1<<q)-1;N=(A>>>7&kB)*(255/kB);j=H=N}else throw W}c[z+0]=N;
c[z+1]=j;c[z+2]=H;c[z+3]=255}return c}function B(u,Z){var I=1,y=2,D=4,N=_.q,j=_.Vk,x=200,F=200,H,Q,C,J;
for(var E=0;E<u.sub.length;E++){var T=u.sub[E],c=T.J;if(T.sd=="TBHD"){x=N(Z,c);c+=4;F=N(Z,c);c+=4;J=r.R(x*F*4);
C=new eu(0,0,x,F);c+=4;var a=N(Z,c);c+=4;var K=j(Z,c);c+=2;if(K!=0)throw"e";Q=j(Z,c);c+=2;var Y=N(Z,c);
c+=4;if(Y!=1)throw Y;H=0;if(a&I)H+=3;if(a&y)H+=1}if(T.K8=="TBMP"){var p=T.sub;for(var P=0;P<p.length;
P++){var m=p[P].J,z=p[P].size,M=j(Z,m),d=j(Z,m+2),A=j(Z,m+4)-M+1,G=j(Z,m+6)-d+1;m+=8;var kB=r.R(A*G*4),q=r.R(A*G);
kB.fill(255);for(var w=0;w<4;w++){m=e(Z,m,z-8,q,0);r.rW(q,kB,3-w)}if(m!=p[P].J+z)throw"e";r.sh(kB,new eu(M,d,A,G),J,C)}}}return[{Sf:C,data:J.buffer}]}function e(u,Z,I,y,D){var N=Z;
while(D<y.length){var j=u[Z++],j4=(j&127)+1;if(j&128){j=u[Z++];for(var w=0;w<j4;++w)y[D++]=j}else{for(var w=0;
w<j4;++w)y[D++]=u[Z++]}}return Z}function U(u,Z){if(b==null){var I=jW.Ip(o);b=new Uint32Array(pako.inflate(new Uint8Array(I)).buffer)}var y=_.q,D=_.Vk,N=u.sub[0],j=u.sub[1],x=D(Z,N.J),F=D(Z,N.J+2),H=D(Z,N.J+4),T,w,c,a,K,Y;
if(H!=3)throw H;var Q=new eu(0,0,x,F),C=r.R(x*F*4),J=r.R(x*F);C.fill(255);var E=new Uint32Array(C.buffer),p=j.J;
for(a=0;a<2;a++){Y=a;K=0;T=Math.floor((x*F+2-a-1)/2);while(T>0){w=Z[p++];if(w&128){w=257-w;T-=w;c=Z[p++];
K=K&b[c]|b[c+256];do{E[Y]=K;Y+=2}while(--w)}else{w++;T-=w;do{c=Z[p++];E[Y]=K=K&b[c]|b[c+256];Y+=2}while(--w)}}}for(var w=0;
w<C.length;w+=4){var P=C[w+3],m=C[w+2],z=C[w+1];C[w]=P;C[w+1]=m;C[w+2]=z;C[w+3]=255}for(var M=0;M<F>>>1;
M++){for(var d=0;d<x;d++){var w=M*x+d,c=(F-1-M)*x+d,A=E[w];E[w]=E[c];E[c]=A}}return[{Sf:Q,data:C.buffer}]}return X}();
jW.Im={};jW.Im.sG=!1;jW.Im.Rd=function(x,F,W,n){var L=x[0][4],$=new Uint8Array(x[0][0]),l=2,k=L?!0:!1,V=k?4:3,i=new Uint8Array(F*W*V);
for(var f=0;f<W;f++)for(var X=0;X<F;X++){var s=f*F+X<<2,R=((W-f-1)*F+X)*V;i[R]=$[s+2];i[R+1]=$[s+1];
i[R+2]=$[s+0];if(k)i[R+3]=L[0][f*F+X]}if(!0){var h=i.length,B=0,e=new Uint8Array(h*2),U=0,o=0,b=F*V;
while(o<h){var u=o,Z=0,I=b*(Math.floor(o/b)+1);while(u<I&&Z<128){var y=!0;for(var w=0;w<V;w++)y=y&i[o+w]==i[u+w];
if(!y)break;u+=V;Z++}if(Z==1){var D=1;while(D<128&&o+(D+1)*V<I){var y=!0,N=o+D*V;for(var w=0;w<V;w++)y=y&i[N+w]==i[N+V+w];
if(y)break;D++}e[U++]=D-1;for(var j=0;j<D;j++)for(var w=0;w<V;w++)e[U++]=i[o++]}else{e[U++]=127+Z;for(var w=0;
w<V;w++)e[U+w]=i[o+w];U+=V;o+=V*Z;B+=Z}}i=e.slice(0,U);l+=8}var H=new Uint8Array(18+i.length+26);H[2]=l;
_.j8(H,12,F);_.j8(H,14,W);H[16]=V*8;H[17]=V==4?8:0;H.set(i,18);_.Fl(H,18+i.length+8,"TRUEVISION-XFILE.");
return H.buffer};jW.Im.La=function(x){var F=new Uint8Array(x),W=0,n=F[0],L=F[1],$=F[2],l=F[4]*256+F[3],k=F[6]*256+F[5],V=F[7],i=F[9]*256+F[8],f=F[11]*256+F[10],X=F[13]*256+F[12],s=F[15]*256+F[14],R=F[16],h=F[17],B=h>>>4,e=_.xR(F,18,n),U=r.R(X*s*4),W=18+n+(k*V>>>3),o=new Uint8Array(F.buffer,W);
if($>3){var b=0,u=F,Z=new Uint8Array(X*s*R>>>3),I=W,y=0,D=F.length,N=R>>>3;while(y<Z.length){var dx=u[I];
I++;if(dx<128)for(var w=0;w<dx+1;w++){for(var j=0;j<N;j++){Z[y]=u[I];y++;I++}}else{for(var w=0;w<dx-127;
w++){for(var j=0;j<N;j++){Z[y]=u[I+j];y++}}I+=N}}$-=8;o=Z;W=I}else W+=X*s*R>>>3;var H=new Uint8Array(4),Q=jW.Im.aD3;
for(var C=0;C<s;C++)for(var J=0;J<X;J++){var E=(B&2)==0?(s-C-1)*X+J:C*X+J,T=C*X+J,c,a,K,Y=255,p=E*R>>>3;
if($==1){var P=0;if(R==8)P=o[p];else throw"e";Q(F,18+n+l+(P*V>>>3),V,H);c=H[0];a=H[1];K=H[2];Y=H[3]}else if($==2){Q(o,p,R,H);
c=H[0];a=H[1];K=H[2];Y=H[3]}else if($==3){if(R==8)c=a=K=o[p];else throw"e"}var m=T*4;U[m]=c;U[m+1]=a;
U[m+2]=K;U[m+3]=Y}var H={Sf:new eu(0,0,X,s),data:U.buffer,PV:e};if(r.aa(U)){var z=r.R(X*s);r.Tb(U,z,3);
r.De(U,4278190080,16777215);H.o2=[z]}return[H]};jW.Im.aD3=function(x,F,W,n){var L,$,l,k=255;if(W==24||W==32){l=x[F];
$=x[F+1];L=x[F+2];if(W==32)k=x[F+3]}else if(W==16){var V=x[F+1]<<8|x[F+0];L=V>>>10&31;$=V>>>5&31;l=V>>>0&31;
L=Math.round(L*(255/31));$=Math.round($*(255/31));l=Math.round(l*(255/31))}else throw"e";n[0]=L;n[1]=$;
n[2]=l;n[3]=k};jW.aa8=function(){var x,F=[],W=!1;function n(l,k,V,i){x=V;F.push(l,i);L()}function L(){if(W||F.length==0)return;
W=!0;jW.abV(F.shift(),"image/avif",$)}function $(l){x(null,[l],F.shift());W=!1;L()}return{sG:!1,Ak:!0,La:n}}();
jW.u4=function(){var x,F=[],W=!1,n,L,$,l=10,k,V,i,f=0,s;function X(b,u,Z,I,y){x=Z;F.push(b,I);var D=hw.cF(b),N=hw.a5I(D,"vide"),j=N.tkhd,H=N.mdia.minf.stbl,Q=j.duration/D.moov.mvhd.SZ,C=H.stsz.length,J=Math.round(C/Q);
console.log(D);n=j.Xv;L=j.eD;var E=n+" \xD7 "+L+" px, "+C+" frames, "+aK.LS(n*L*4*C)+" decoded<br/>";
E+=Q.toFixed(2)+" seconds, "+J+" FPS";var T=new gT(S.E.M,!0);T.data={d:S.H.Ar,ip:"setFPS",aG:l,Fv:B,amb:E};
y.T(T)}async function R(){if(W||F.length==0)return;W=!0;var b=F.shift(),u=hw.cF(b),Z=hw.a5I(u,"vide"),I=Z.tkhd,y=Z.mdia.minf.stbl,D=y.stsd.awu.avcC,N=I.duration/u.moov.mvhd.SZ,j=y.stsz.length,H=Math.round(j/N),Q=Math.max(1,Math.round(H/l)),C=y.stsd.Cd,T=0;
console.log(C);if(["hvc1","hev1","apcn"].indexOf(C)!=-1)alert(C.toUpperCase()+" codec not supported");
s=Date.now();n=I.Xv;L=I.eD;$=[];k=document.createElement("canvas");V=k.getContext("2d");k.width=n;k.height=L;
var J=new Uint8Array(b),E=[];if(y.stsd.Cd=="raw "){for(var c=0;c<j;c++){var a=n*L;if(T%Q==0){var K=hw.a8R(u,"vide",c),Y=new Uint8Array(b,K[0],K[1]),p=r.R(n*L*4);
p.fill(255);for(var w=0;w<a;w++){var P=w*4,m=w*3;p[P]=Y[m];p[P+1]=Y[m+1];p[P+2]=Y[m+2]}var z=$.length;
$[z]={PV:"_a_"+z+","+Math.round(Q*1e3/H),Sf:new eu(0,0,n,L),data:p}}T++}h();return}var M=new VideoDecoder({output:function(G){if(T%Q==0){V.drawImage(G,0,0);
G.close();var p=V.getImageData(0,0,n,L).data.buffer,z=$.length;$[z]={PV:"_a_"+z+","+Math.round(Q*1e3/H),Sf:new eu(0,0,n,L),data:p}}else G.close();
clearTimeout(f);f=setTimeout(h,100);T++},error:function(G){console.log(G.message)}}),d={codec:"vp09.00.10.08",codedWidth:n,codedHeight:L};
if(D){d.codec="avc1.640034";d.description=J.slice(D.J,D.J+D.LM)}M.configure(d);for(var w=0;w<j;w++){var K=hw.a8R(u,"vide",w),Y=new Uint8Array(b,K[0],K[1]),A=new EncodedVideoChunk({timestamp:w,duration:1e3,type:w==0?"key":"delta",data:Y});
M.decode(A)}await M.flush()}function h(){x(null,$,F.shift());W=!1;console.log(Date.now()-s);R()}function B(b){l=Math.max(1,Math.min(60,b));
if(window.VideoDecoder)R();else e()}function e(){if(W||F.length==0)return;W=!0;k=document.createElement("canvas");
V=k.getContext("2d");i=document.createElement("video");var b="data:"+"video/mp4"+";base64,"+jW.pe(F.shift());
i.src=b;i.muted=!0;i.currentTime=0;i.addEventListener("canplay",U,!1);i.addEventListener("timeupdate",o,!1)}function U(b){i.removeEventListener("canplay",U);
n=k.width=i.videoWidth;L=k.height=i.videoHeight;$=[];i.play()}function o(b){clearTimeout(f);V.drawImage(i,0,0);
$.push({PV:"_a_"+$.length+","+Math.round(1e3/l),Sf:new eu(0,0,n,L),data:V.getImageData(0,0,n,L).data.buffer});
var u=i.currentTime+1/l;if(u<i.duration&&b){i.currentTime=u;f=setTimeout(o,1e3)}else{x(null,$,F.shift());
i.removeEventListener("timeupdate",o);W=!1;e();$=null}}return{sG:!1,Ak:!0,La:X}}();jW.u4.Rd=function(){var x,F,W,n,L,$,l=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],k=40,V,i,f,X,s,R;
function h(C,J){if(!L&&J){if(J.description){L=J.description}if(J.decoderConfig&&J.decoderConfig.description){L=J.decoderConfig.description}}var E=new ArrayBuffer(C.byteLength);
C.copyTo(E);B(E);W.push({duration:C.duration,timestamp:C.timestamp,type:C.type,byteLength:C.byteLength});
if(C.type=="key"){n.push(W.length)}}function B(C){var J=new Uint8Array($.byteLength+C.byteLength);J.set(new Uint8Array($));
J.set(new Uint8Array(C),$.byteLength);$=J.buffer}function e(C){return new Uint8Array([C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]).buffer}function U(C){var J=new Uint32Array([C]),E=new Uint8Array(J.buffer);
return new Uint8Array([E[3],E[2],E[1],E[0]])}function o(C){s[X]=C;++X}function b(C){s[X]=C>>8&255;s[X+1]=C&255;
X+=2}function u(C){s[X]=C>>16&255;s[X+1]=C>>8&255;s[X+2]=C&255;X+=3}function Z(C){s[X]=C>>24&255;s[X+1]=C>>16&255;
s[X+2]=C>>8&255;s[X+3]=C&255;X+=4}function I(C){f.push(X);X+=4;y(C)}function y(C){for(var w=0;w<C.length;
++w){s[X]=C.charCodeAt(w);++X}}function D(C){s.set(new Uint8Array(C),X);X+=C.byteLength}function N(){var C=X;
X=f.pop();Z(C-X);X=C}function j(){f=[];var C=[],J={},E=9e4,T=W.length,c=n.length,a=-1;for(var w=0;w<W.length;
++w){V+=W[w].duration/1e3;i+=W[w].byteLength;if(W[w].duration!=a){if(w!=0){C.push(J)}a=W[w].duration;
J={duration:9e4*W[w].duration/1e6,sampleCount:1}}else{J.sampleCount=J.sampleCount+1}}i+=8;C.push(J);
var K=C.length,Y=579+L.byteLength+4*T+4*T+4*c+8*K;s=new Uint8Array(Y);X=0;I("moov");I("mvhd");Z(0);Z(0);
Z(0);Z(1e3);Z(V);Z(65536);b(256);b(0);Z(0);Z(0);Z(65536);Z(0);Z(0);Z(0);Z(65536);Z(0);Z(0);Z(0);Z(1073741824);
Z(0);Z(0);Z(0);Z(0);Z(0);Z(0);Z(2);N();I("trak");I("tkhd");Z(7);Z(0);Z(0);Z(1);Z(0);Z(V);Z(0);Z(0);b(0);
b(0);b(256);b(0);Z(65536);Z(0);Z(0);Z(0);Z(65536);Z(0);Z(0);Z(0);Z(1073741824);Z(x*65536);Z(F*65536);
N();I("mdia");I("mdhd");Z(0);Z(0);Z(0);Z(E);Z(V/1e3*E);o(85);o(196);b(0);N();I("hdlr");Z(0);Z(0);y("vide");
Z(0);Z(0);Z(0);y("VideoHandler");o(0);N();I("minf");I("vmhd");Z(1);b(0);b(0);b(0);b(0);N();I("dinf");
I("dref");Z(0);Z(1);I("url ");Z(1);N();N();N();I("stbl");I("stsd");Z(0);Z(1);I("avc1");b(0);b(0);b(0);
b(1);b(0);b(0);Z(0);Z(0);Z(0);b(x);b(F);Z(4718592);Z(4718592);Z(0);b(1);for(var w=0;w<8;++w){Z(0)}b(24);
b(-1);I("avcC");D(L);N();N();N();I("stts");Z(0);Z(K);for(var w=0;w<K;++w){Z(C[w].sampleCount);Z(C[w].duration)}N();
I("stsc");Z(0);Z(1);Z(1);Z(1);Z(1);N();I("stsz");Z(0);Z(0);Z(T);for(var w=0;w<T;++w){Z(W[w].byteLength)}N();
I("stco");Z(0);Z(T);var p=k;for(var w=0;w<T;++w){Z(p);p+=W[w].byteLength}N();I("stss");Z(0);Z(c);for(var w=0;
w<c;++w){Z(n[w])}N();N();N();N();N();N();return}function H(C,J,E){var T=new Uint8Array(x*F*4),c=new Uint8Array(C),a=J?x-1:x,K=E?F-1:F;
if(J){for(var w=0;w<K;++w){T.set(c.slice(4*w*a,4*w*a+4*a),4*w*x);T[4*(w+1)*x-4]=c[4*(w+1)*a-4];T[4*(w+1)*x-3]=c[4*(w+1)*a-3];
T[4*(w+1)*x-2]=c[4*(w+1)*a-2];T[4*(w+1)*x-1]=c[4*(w+1)*a-1]}if(E){T.set(T.slice(4*x*K-4*x,4*x*K),4*x*K)}}else if(E){T.set(c);
T.set(c.slice(4*a*K-4*a),4*a*K)}return T.buffer}async function Q(C,J,E,T){var c=Date.now(),a=!1,K=!1,A=0;
if(J%2!=0){a=!0;x=J+1}else{x=J}if(E%2!=0){K=!0;F=E+1}else{F=E}L=null;n=[];W=[];V=0;i=0;$=new Uint8Array;
B(new Uint8Array(l));B(U(0).buffer);B(e("mdat"));var Y=new VideoEncoder({output:(chunk,opts)=>h(chunk,opts),error:ii=>{console.log(ii)}}),p=.02*(1+Math.pow(3.2*T[0]/100,2.3)),P=p*x*F,m=P*C.length,z=Math.round(P*24),M={width:x,height:F,codec:"avc1.420034",bitrate:z},d=await VideoEncoder.isConfigSupported(M);
console.log(d);if(d.supported==!1){console.log("Encoding not supported. Config: ",d.config);return new Uint8Array(0).buffer}Y.configure(M);
for(var w=0;w<C.length;++w){var G=C[w][1]*1e3,kB=C[w][0];if(K||a){kB=H(C[w][0],a,K)}var q=new VideoFrame(kB,{timestamp:A,duration:G,format:"RGBA",codedWidth:x,codedHeight:F});
Y.encode(q);q.close();A+=G}await Y.flush();j();R=new Uint8Array($.byteLength+s.byteLength);R.set(new Uint8Array($),0);
R.set(U(i),k-8);R.set(s,$.byteLength);var fO=Date.now();console.log(fO-c);return R.buffer}return Q}();
jW.oh={};jW.oh.La=function(x){var F=new Uint8Array(x),W=0,n=112,L=42,$=_.$J,f;W+=8;var l=F[W];W++;if(l!=L)throw"e";
var k=$(F,W);W+=4;var V=_.UC(F,W,k);W+=k*2;var i=[];while(W<F.length){f=$(F,W);W+=4;if(f!=n)throw f;
W+=4;f=F[W];W++;if(f!=L)throw f;var X=$(F,W);W+=4;var s=F[W];W++;if(s!=L){W-=5;X=$(F,W);W+=8;f=F[W];
W++;if(f!=L)throw f}var R=$(F,W)*2;W+=4;if(X>0)i.push(W+R);W+=R+X}var h=new DOMParser,B=h.parseFromString(V,"image/svg+xml").firstChild.firstChild,e=[];
jW.oh.vY(B,F,i,e);return e};jW.oh.vY=function(x,F,W,n){var L=x.firstChild.firstChild;if(L.tagName=="Image"){var $=L.getElementsByTagName("ImageDescription")[0],l=$.children[0].children,k=$.children[1].children,V=W.shift(),i=[];
for(var w=0;w<k.length;w++)i.push(parseInt(k[w].getAttribute("NumberOfElements")));while(i.length>3)i[2]*=i.pop();
var f=l.length,X=i[0],s=i[1],R=i[2],h=parseInt(k[0].getAttribute("BytesInc"));for(var B=0;B<R;B++){var e=r.R(X*s*4);
r.De(e,4278190080);for(var U=0;U<f;U++){var o=r.R(X*s);if(h==1)for(var b=0;b<o.length;b++)o[b]=F[V+b];
else if(h==2)for(var b=0;b<o.length;b++)o[b]=Math.min(255,(F[V+b*2+1]<<8|F[V+b*2])>>>2);else throw h;
if(U!=3)r.rW(o,e,U);if(f==1){r.rW(o,e,1);r.rW(o,e,2)}V+=X*s*h}n.push({Sf:new eu(0,0,X,s),data:e.buffer})}}else{var u=x.children,Z=0;
while(Z<u.length&&u[Z].tagName!="Children")Z++;if(Z==u.length)throw"e";u=u[Z].children;for(var I=0;I<u.length;
I++)jW.oh.vY(u[I],F,W,n)}};jW.ahY=function(){function x(l,k,V,i,f){var X=new Int8Array(l.buffer),s=new Int8Array(i.buffer),R=k+V;
while(k<R){var dx=X[k];k++;if(dx>=0&&dx<128)for(var w=0;w<dx+1;w++){s[f]=X[k];f++;k++}if(dx>=-127&&dx<0){for(var w=0;
w<-dx+1;w++){s[f]=X[k];f++}k++}}return f}function F(l,k,V,i,f,X){var s=k*V*i>>>3,R=r.R(s*f),h=n(l,0,0,0)[0];
for(var B=0;B<f;B++){var e=h[B+1];if(X){var U=jW.w0("jpg").La(e.buffer),o=r.R(s);r.ad(new Uint8Array(U[0].data),o);
R.set(o,s*B)}else if(e[0]==255&&e[1]==216&&e[2]==255){var b=UTIF.LosslessJpegDecode(e);R.set(new Uint8Array(b.buffer),s*B)}else x(e,64,e.length,R,s*B)}return R}function W(l){var k=new Uint8Array(l),V=0,i=_.xR(k,0,128);
V+=128;var f=_.xR(k,V,4);V+=4;var X=L(k,V,0)[0],s=X.g28;if(s==null){alert("No image.");return[]}var R=s.cols,h=s.rows,B=R*h,e=s.photoInterpret,U=s.bitsAlloc,o=s.bitsStored,b=s.lossyCompr;
if(b==null)b=X.g8.lossyCompr;var u=X.g7fe0.pixelData,Z=s.numOfFrames;Z=Z?parseInt(Z):1;var I=new Uint8Array(u.buffer),y=B*U>>>3;
if(I.length!=y*Z){u=F(u,R,h,U,Z,b)}else{}if(U==16)u=new Uint16Array(u.buffer);console.log(s);console.log(X);
var D=[];for(var N=0;N<Z;N++){var j=N*y,l=r.R(R*h*4);l.fill(255);if(e=="MONOCHROME2"){var H=0,Q=255,C=s.largestValue,J=s.smallestValue;
if(C!=null){Q=C;H=J}else if(o!=8){Q=0;H=1e9;for(var w=0;w<B;w++){var E=u[j+w];if(E>1<<o-8){if(E>Q)Q=E;
if(E<H)H=E}}}var T=255/(Q-H);for(var w=0;w<B;w++){var E=Math.max(0,Math.min(255,(u[j+w]-H)*T)),c=w*4;
l[c]=l[c+1]=l[c+2]=E}}else if(e=="PALETTE COLOR"){var a=s.pltRed,K=s.pltGreen,Y=s.pltBlue;for(var w=0;
w<B;w++){var p=u[j+w],c=w*4;l[c]=a[p]>>>8;l[c+1]=K[p]>>>8;l[c+2]=Y[p]>>>8}}else throw e;D.push({Sf:new eu(0,0,R,h),data:l.buffer})}return D}function n(l,k,V,i){if(V==0)V=l.length;
var f=_.sZ,X=_.zn,s=_.$J,R=[],h=k;while(k<V){var B=f(l,k);k+=2;var e=f(l,k);k+=2;var U=s(l,k);k+=4;if(B==65534&&e==57344){if(U==4294967295){var o=L(l,k,i+1);
R.push(o[0]);k=o[1]}else{R.push(l.slice(k,k+U));k+=U}}else if(B==65534&&e==57357){}else if(B==65534&&e==57565)break;
else throw"e"}return[R,k]}function L(l,k,V){var i=_.sZ,f=_.zn,X=_.$J,s={},R="\t".repeat(V);while(k<l.length){var h=i(l,k),o="",b=0,Z=null;
k+=2;var B=i(l,k);k+=2;var e=h.toString(16),U=B.toString(16);if(h==65532)break;if(h==65534&&B==57357){k-=4;
break}if(h==65534&&B==57565)throw"e";if(B==0){k+=8;continue}if(65<=l[k+1]){o=_.xR(l,k,2);k+=2;if(o=="OB"||o=="SQ"||o=="OW"){b=X(l,k+2);
k+=6}else{b=i(l,k);k+=2}}else{o=$[e][U].split(",")[1];b=X(l,k);k+=4}console.log(e,U,o,b);var u=$[e][U];
if(u)u=u.split(",")[0];if(u==null){u="t"+U}if(o=="SQ"){var I=n(l,k,k+b,V);Z=I[0];k=I[1];b=0}else if(o=="US")Z=i(l,k);
else if(o=="SS")Z=f(l,k);else if(o=="UL")Z=X(l,k);else if(o=="FL")Z=_.gs(l,k);else if(o=="AT")Z=[i(l,k),i(l,k+2)];
else if(o=="OB")Z=l.slice(k,k+b);else if(o=="OW")Z=new Uint16Array(l.slice(k,k+b).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(o)!=-1){var y=k+b;
while(l[y-1]==0)y--;Z=_.xR(l,k,y-k).trim()}else{console.log(R,JSON.stringify(_.xR(l,k,Math.min(b,32))));
throw o}if(s["g"+e]==null)s["g"+e]={};s["g"+e][u]=Z;k+=b}return[s,k]}var $={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{La:W}}();jW.zd={};jW.zd.La=function(x){var F=new Uint8Array(x),W=0,n={},f=1e9;for(var w=0;w<306;
w++){var L=_.xR(F,W,8).trim(),$=_.xR(F,W+9,71).split("/")[0].trim();n[L]=$;W+=80;if(L=="END"){W=Math.ceil(W/2880)*2880;
break}}var l=parseInt(n.NAXIS1),k=parseInt(n.NAXIS2),V=l*k,i=parseInt(n.BITPIX),X=-1e9,s=new Float32Array(V),R=new Float32Array(x,W,x.byteLength-W>>>2);
for(var w=0;w<V;w++){var h=w<<2,B=w<<1;if(i==-32){var e=F[W+h+0];F[W+h+0]=F[W+h+3];F[W+h+3]=e;var e=F[W+h+1];
F[W+h+1]=F[W+h+2];F[W+h+2]=e;s[w]=R[w]}else if(i==16){s[w]=_.sZ(F,W+B)}else throw i;var U=s[w];if(U<f)f=U;
if(U>X)X=U}var o=r.R(V*4),b=1/X;for(var u=0;u<k;u++)for(var Z=0;Z<l;Z++){var w=u*l+Z,I=(k-u-1)*l+Z,h=I<<2,U=s[w]*b;
o[h]=o[h+1]=o[h+2]=255*U;o[h+3]=255}return[{Sf:new eu(0,0,l,k),data:o,PV:n.OBJECT}]};jW.bO={};jW.bO.La=function(x){var F=new Uint8Array(x),W=16,n=_.xR(F,W,4),$=32,U=0,o=0,b=!1,a;
W+=4;var L=_.xR(F,W,8);W+=8;while(F[W+$-1]==0)$--;var l=_.xR(F,W,$);W+=32;var k=_.xR(F,W,4);W+=4;W+=20;
var V=_.q(F,W);W+=4;var i=_.q(F,W);W+=4;var f=_.q(F,W);W+=4;var X=_.q(F,W);W+=4;var s=_.q(F,W);W+=4;
var R=_.q(F,W);W+=4;var h="FujiFilm "+l,B=[0,1,1,2];if(h=="FujiFilm X10"){h="FujiFilm FinePix X10";B=[2,1,1,0]}var e={t271:["FujiFilm"],t272:[h],t277:[1],t33421:[2,2],t33422:B,_V:1};
W=f;var u=[],Z=_.Vk,I=_.q(F,W);W+=4;for(var w=0;w<I;w++){var y=Z(F,W);W+=2;var D=Z(F,W);W+=2;if(y==256){o=Z(F,W);
U=Z(F,W+2)}else if(y==272){u=[Z(F,W),Z(F,W+2)]}else if(y==273){u.push(Z(F,W),Z(F,W+2))}else if(y==304){b=!(F[W]>>>7)}else if(y==305){var N=Math.round(Math.sqrt(D)),j=[];
for(var H=0;H<D;H++)j.push(F[W+H]);j.reverse();e.t33421=[N,N];e.t33422=j}else if(y==12272){var Q=Z(F,W),C=Z(F,W+2),J=Z(F,W+6);
e.t50728=[Q/C,1,Q/J]}W+=D}var E=U<o,T=F.slice(s,s+R),c=Math.round(R*8/(U*o));if(T[0]==73&&T[1]==73&&T[2]==42){a=UTIF.decode(T.buffer)[0].fujiIFD;
c=a.t61443[0];var K=a.t61454,Y=a.t61450;if(Y)e.t50714=Y;if(K)e.t50728=[K[0]/K[1],1,K[0]/K[2]];var p=a.t61447[0];
T=T.slice(p,p+a.t61448[0])}var R=T.length,P=R*8<U*o*c;if(P){console.log("compressed");var m=e.t33422,z=~~Math.sqrt(m.length),M=[];
for(var w=0;w<z;w++)M[w]=m.slice(w*z,w*z+z);T=new Uint8Array(UTIF._decompressRAF(T,M).buffer);R=T.length}function d(fO,g,jN){jN=jN<<8-(g&7);
var c6=g>>>3;fO[c6]|=jN>>>16;fO[c6+1]|=jN>>>8;fO[c6+2]|=jN}var A=R*8/(U*o);if(A==16)for(var w=0;w<R;
w+=2){var G=T[w];T[w]=T[w+1];T[w+1]=G}else if(A==14){for(var w=0;w<R;w+=4){var G=T[w];T[w]=T[w+3];T[w+3]=G;
G=T[w+1];T[w+1]=T[w+2];T[w+2]=G}}else if(A==12)for(var w=0;w<R;w+=3){var kB=T[w+2]<<16|T[w+1]<<8|T[w+0];
kB=kB>>>12|(kB&4095)<<12;T[w]=kB>>>16&255;T[w+1]=kB>>>8&255;T[w+2]=kB&255}if(E)T=jW.bO.apK(T,U,o);var q=E?2:1;
U*=q;e.t256=[U];e.t257=[o];e.t258=[c];e.t50719=[u[1],u[0]*q];e.t50720=[u[3],u[2]*q];e.width=U;e.height=o;
e.data=new Uint8Array(T.buffer);return[e]};jW.bO.apK=function(x,F,W){x=new Uint16Array(x.buffer);var n=new Uint16Array(F*W*2);
for(var L=0;L<W;L+=2)for(var $=0;$<F;$++){var l=L*F+$,k=l*2,V=x[l],i=x[l+F];n[k+1]=n[k+2*F]=i;if(((L>>>1)+$&1)==0){n[k]=V;
n[k+2*F+1]=x[l+1]}else{n[k]=x[l-1];n[k+2*F+1]=V}}return n};jW.mx={};jW.mx.afO=function(x,F,W){W=W<<8-(F&7);
var n=F>>>3;x[n]|=W>>>16;x[n+1]|=W>>>8;x[n+2]|=W};jW.mx.La=function(x){var F=new Uint8Array(x),W=0,n=Date.now(),L=hw.cF(x),$=L.moov.uuid[0],l=new CR3Parser(x),k=l.getTrack().meta,V=$.CMT1[0],i=V.t256[0]=k.width,f=V.t257[0]=k.height,X=i*f,s=V.exifIFD=$.CMT2[0],R=s.makerNote=$.CMT3[0],h=L.moov.trak[3].mdia.minf.stbl,B=h.co64[0],e=F.slice(B,B+h.stsz[0]),U=0;
while(U<e.length){var o=_.$J(e,U);U+=4;var b=_.sZ(e,U);U+=2;var u=e[U]==1;U+=2;U+=4;if(b==8||b==9){var Z=UTIF.decode(e.slice(U+8,U+o-12).buffer)[0];
for(var I in Z)R[I]=Z[I]}U+=o-12}V.t277=[1];V.t33421=[2,2];V.t33422=[0,1,1,2];V._V=1;if(V.t274)V._V=V.t274[0];
var y=l.extractCFA(),D=k.bitDepth;if(D!=14)throw"e";V.t258=[D];var N=new Uint8Array(Math.ceil(X*D/8)),j=16-D;
for(var w=0;w<X;w++)jW.mx.afO(N,w*14,y[w]<<j);V.width=i;V.height=f;V.data=N;return[V]};jW.IG={};jW.IG.MQ=!0;
jW.IG.Rd=function(x,F,W,n){var L=new Uint8Array(x[0][0]),$=F*W,l=[1,3,4][n[0]],k=8+8*n[1],V=n[2];if(l==1){var i=new Uint8Array(F*W);
r.Tb(L,i,0);L=i}if(l==3){var i=new Uint8Array(F*W*3);for(var w=0;w<$;w++){var f=w*4,X=w*3;i[X]=L[f];
i[X+1]=L[f+1];i[X+2]=L[f+2]}L=i}if(k==16){var s=L.length,i=new Uint8Array(s*2);for(var w=0;w<s;w++){var R=Math.round(L[w]*(65535/255));
i[w*2+V]=R>>>8;i[w*2+1-V]=R&255}L=i}return L.buffer};jW.o$={};jW.o$.La=function(x,F){function W(V){return~~(.5+r.sW(Math.max(0,Math.min(1,V)))*255)}var n=EXRLoader.parse(x),L=n.width,$=n.height,l=r.R(L*$*4);
for(var k=0;k<$;k++)for(var V=0;V<L;V++){var w=(k*L+V)*4,i=(($-k-1)*L+V)*4;l[w]=W(n.data[i+0]);l[w+1]=W(n.data[i+1]);
l[w+2]=W(n.data[i+2]);l[w+3]=W(n.data[i+3])}return[{Sf:new eu(0,0,L,$),data:l.buffer}]};jW.cq={};jW.cq.MQ=!0;
jW.cq.sG=!0;jW.cq.Rd=function(x,F,W,n,L){n=["",100,!1,!1,!1,0,!1];n[7]=["jpg"];var $=new ToDXF;go.Kt(x,n,$,L.op);
return $.buffer};jW.cq.La=function(x,F){var W=72,n=new iJ(1,0,0,1,0,0);n.scale(W/72,W/72);F.Bq=W;var L=new fJ(F,n,!1);
FromDXF.Parse(x,L)};jW.rA={};jW.rA.La=function(){var x=_.sZ,F=_.$J,W=_.xR,n;function L(l,k,V,i,f){var X=F(l,V),s=F(l,V+4),R=F(l,V+8),h=x(l,V+12),B=x(l,V+14);
V+=16;var e={};for(var w=0;w<h+B;w++){var U=F(l,V),o=F(l,V+4),b,u;if(U>>>31==1){U=U&16777215}if(w<h)b=_.UC(l,k+U+2,x(l,k+U));
else b="id"+U;var Z=i.slice(0);Z.push(b);if(o>>>31==1){o=o&268435455;u=L(l,k,k+o,Z,f)}else{var I=F(l,k+o),y=F(l,k+o+4),D=F(l,k+o+8),N=F(l,k+o+12);
if(N!=0)throw"e";if(I<f[0]||I>f[0]+f[1])throw"e";var j=f[2]+I-f[0];u=l.slice(j,j+y);var H=jW.XM(u.buffer);
if(H&&["bmp","png","ico"].indexOf(H)!=-1){var Q=jW.w0(H);if(!Q.sG){var C=null;try{C=Q.La(u.buffer)}catch(ii){}if(C){C[0].PV=Z[1];
n.push(C[0])}}}else if(H)console.log(H)}e[b]=u;V+=8}return e}function $(l){n=[];var k=new Uint8Array(l),V=0,i=x(k,V);
V+=2;V+=58;var f=F(k,V);V+=4;V=f;var X=W(k,V,4);V+=4;var s=x(k,V);V+=2;var R=x(k,V);V+=2;var h=F(k,V);
V+=4;var B=F(k,V);V+=4;var e=F(k,V);V+=4;var U=x(k,V);V+=2;var o=x(k,V);V+=2;V+=U;var b={};for(var w=0;
w<R;w++){var u=V;while(k[u]!=0)u++;var Z=W(k,V,u-V),I=F(k,V+8),y=F(k,V+12),D=F(k,V+16),N=F(k,V+20),j=F(k,V+24),H=F(k,V+28),Q=x(k,V+32),C=x(k,V+34),o=F(k,V+36);
b[Z]=[y,I,N,D,o];if(j+H!=0)throw"e";V+=40}for(var J in b){var E=b[J];V=E[2];if(J==".rsrc"){var T=L(k,V,V,[],E),c="id134"}}return n}return $}();
jW.gx={};jW.gx.sG=!0;jW.gx.La=function(x,F,W){d9.cF(x,F,W)};jW.gx.Rd=function(x,F,W){return d9.Kt(x)};
(function(){var x=jW.yL.get("wasm/zstd").buffer;WebAssembly.instantiate(x).then(function(F){var W=F.instance.exports;
jW.gx.adG=W})}());jW.gx.kY=function(x,F){var W=jW.gx.adG,n=x.length,L=W.memory,$=2*n+1e6,V=8;jW.Wi(W,$);
var l=new Uint8Array(L.buffer),k=W.malloc(n);l.set(x,k);while(!0){var i=F==null?n*V:F;jW.Wi(W,$+i);var f=W.malloc(i),X=W.ZSTD_decompress(f,i,k,n);
if(X==-70){W.free(f);V+=V>>>1;if(F!=null)throw"error"}else{l=new Uint8Array(L.buffer);x=l.slice(f,f+X);
W.free(f);break}}W.free(k);return x};jW.qh={};jW.qh.sG=!0;jW.qh.La=function(){var x=0,F=1,W=2,n=3,L=4,$=5,l=6,k=7,V=1,i=2,f=7,X=8,s=9,R,h,B,e,U;
function o(){var dx=_.IY(R,h);h+=4;return dx}function b(){var a=0,K=0;for(var w=0;w<5;w++){var Y=R[h++];
a+=(Y&127)<<K;K+=7;if((Y&128)==0)break}return a}function u(){var a=b(),K=_.NM(R,h,a);h+=a;return K}function Z(){return{typeName:u(),aeC:o()}}function I(){var a=o(),K=u(),Y=[],p=o();
for(var w=0;w<p;w++)Y.push([u()]);return{id:a,pL:K,anV:Y}}function y(a){var K=a.anV,Y=[];for(var w=0;
w<K.length;w++)K[w].push(R[h++]);for(var w=0;w<K.length;w++){var p=K[w][1],P;K[w].push(D(p))}}function D(a){var K;
if(a==x)K=R[h++];else if(a==n)K=u();else if(a==L)K=Z();else if(a==F||a==W||a==l||a==$){}else throw a;
return K}function N(a,K,Y){var p;if(a==x){if(K==V)p=R[h++]==1;else if(K==i){p=R[h++]}else if(K==X)p=o();
else if(K==s){p=o();o()}else throw K}else if(a==n){p=C(Y+1)}else if(a==L){p=C(Y+1)}else if(a==$){p=C(Y+1)}else if(a==F){p=C(Y+1)}else if(a==l){p=C(Y+1)}else if(a==W){p=C(Y+1)}else throw a;
return p}function j(a,K){var Y=B["c"+a],p=Y.anV,P={_class:Y.pL};for(var w=0;w<p.length;w++){var m=p[w],z=m[1],M=m[2],d=N(z,M,K),A=m[0];
P[A]=d}return P}function H(a,K,Y,p){var P=[];for(var w=0;w<a;w++){var m=N(K,Y,p);if(m.zs&&m.zs=="null_count"){var z=m._M;
for(var M=0;M<z;M++)P.push(null);w+=z-1}else P.push(m)}return P}function Q(){return[o(),o()]}function C(a){if(a==null)throw"e";
var K=null,Y=R[h],p=null;h++;if(Y==0){var P=o(),m=o(),z=o(),M=o();K=[P,m,z,M]}else if(Y==1){p=o();var d=o();
K=j(d,a)}else if(Y==4){var A=I();p=A.id;y(A);B["c"+A.id]=A;K=j(A.id,a)}else if(Y==5){var A=I();p=A.id;
y(A);var G=o();B["c"+A.id]=A;K=j(A.id,a)}else if(Y==6){p=o();var kB=u();K=kB}else if(Y==7){p=o();var q=R[h++];
if(q!=0)throw q;var fO=o();if(fO!=1)throw fO;var g=o(),jN=R[h++],c6=D(jN);K=H(g,jN,c6,a)}else if(Y==9){var a7=o();
K={zs:"ref",_M:a7};U["o"+a7]=!0}else if(Y==10){K={zs:"null_count",_M:1}}else if(Y==11){K={zs:"end"}}else if(Y==12){var G=o(),bd=u()}else if(Y==13){var ey=R[h++];
K={zs:"null_count",_M:ey}}else if(Y==16){var c5=Q();p=c5[0];K=H(c5[1],L,null,a)}else if(Y==17){var c5=Q();
p=c5[0];K=H(c5[1],F,null,a)}else throw"e";if(p!=null&&p>0){if(e["o"+p]!=null)throw"e";e["o"+p]=K}return K}function J(a,e){if(a instanceof Array){for(var w=0;
w<a.length;w++)a[w]=E(a[w],e)}else if(a instanceof Object){for(var K in a)a[K]=E(a[K],e)}}function E(a,e){if(a&&a.zs&&a.zs=="ref")return e["o"+a._M];
else return a}function T(a,K,Y){var p=Date.now();R=new Uint8Array(a);h=0;B={};e={};U={};var P=_.xR(R,0,4);
if(P!="PDN3")throw P;h+=4;var m=_.sZ(R,h)+R[h+2]*256*256;h+=3;var z=_.xR(R,h,m);h+=m;h+=2;while(!0){var M=C(0);
if(M&&M.zs&&M.zs=="end")break}for(var d in U)if(e[d]==null)throw d;for(var d in e)J(e[d],e);var A=e.o1;
console.log(A);K.m=A.width;K.e=A.height;K.buffer=r.R(K.m*K.e*4);var G=A.layers["ArrayList+_items"];for(var w=0;
w<G.length;w++){var kB=G[w];if(kB==null)continue;var q=kB["Layer+width"],fO=kB["Layer+height"],g=kB["Layer+properties"],jN=kB.properties,c6=jN.blendOp._class.split("+").pop();
c6=c6.slice(0,c6.length-7);var a7={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[c6],bd=K.dI();
bd.sc(g.name);bd.opacity=g.opacity;bd.FH(g.visible);bd.q_=a7;if(R[h]!=0)throw"e";h++;var ey=_.q(R,h);
h+=4;var c5=Math.ceil(q*fO*4/ey);bd.rect=new eu(0,0,q,fO);var bx=bd.buffer=r.R(q*fO*4);for(var ap=0;
ap<c5&&h<R.length;ap++){var fC=c();bx.set(fC[1],fC[0]*ey)}for(var kE=0;kE<bx.length;kE+=4){var bm=bx[kE+0];
bx[kE+0]=bx[kE+2];bx[kE+2]=bm}K.B.push(bd)}}function c(){var a=_.q(R,h);h+=4;var K=_.q(R,h);h+=4;h+=10;
K-=10;var Y=pako.inflateRaw(R.slice(h,h+K));h+=K;return[a,Y]}return T}();jW.FG={};jW.FG.sG=!0;jW.FG.La=function(x,F){iu.cF(x,F)};
jW.kI={};jW.kI.sG=!0;jW.kI.La=function(){var x,F,e=null,D,N;function W(){var c=x[F];F+=1;return c}function n(){var c=_.Vk(x,F);
F+=2;return c}function L(){var c=_.q(x,F);F+=4;return c}function $(){var c=_.o3(x,F);F+=4;return c}function l(){var c=_.cW(x,F);
F+=8;return c}function k(){var c=L();if(c>200)throw c;var a=_.Iu(x,F,c);F+=c*2;return a}function V(){var c=_.aJ(x,F);
F+=8;return c}function i(){var c=_.Pb(x,F);F+=4;return c}function f(){var c=L();if(L()!=4)throw"e";var a=[];
for(var w=0;w<c;w++)a.push(L());return a}function X(c,a,K){for(var w=0;w<c.length;w++)if(c[w][a]==K)return c[w]}function s(c,a){var K=Date.now();
x=new Uint8Array(c);F=_.RS(x,"CH"+"NK"+"SQ"+"Li")+8;var Y=l(),p=k4.parse(x.buffer.slice(F,F+Y)),P=k4.a2l(p,!0);
console.log(P);var m=P.Canvas[0],z=m.Width,M=m.Height,d=m.Unit,A=a.Bq=m.Resolution;if(d==0){}else if(d==1){z=Math.round(z*A/2.54);
M=Math.round(M*A/2.54)}else if(d==2){z=Math.round(z*A/25.4);M=Math.round(M*A/25.4)}else if(d==3){z=Math.round(z*A);
M=Math.round(M*A)}else if(d==5){z=Math.round(z*A/72);M=Math.round(M*A/72)}else{console.log(m);throw d}a.m=z;
a.e=M;a.buffer=r.R(z*M*4);console.log(Date.now()-K);var G=X(P.Layer,"MainId",m.RootFolder);C(P,x,a,G.FirstChildIndex,0);
console.log(Date.now()-K)}function R(){var c=_.sZ(x,F);F+=2;return c}function h(){var c=_.$J(x,F);F+=4;
return c}function B(){var c=_.IY(x,F);F+=4;return c}function U(c){var a={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},Y=0;
x=c;F=0;var K={};while(F<x.length){var p=h(),P=h(),m=F+P;if(P==0)continue;var z=[];if(p==11){var M=h();
for(var d=0;d<M;d++){var A=[h(),h()];z.push(A);Y+=A[1];var G=F+h()-4;A.push(R(),R(),R(),R());A.push(_.rD(x,F));
F+=8;var kB=R();A.push(_.UC(x,F,kB));F+=kB*2;if(F!=G)throw"e"}}else if(p==31){z=_.NM(x,F,P);F+=P}else if(p==34)for(var w=0;
w<3;w++)z.push(h()>>>16);else if(p==42)for(var w=0;w<4;w++)z.push(B());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(p)!=-1){if(P!=4)throw"e";
z=h();if([37,45,46,51,53,55,61,62].indexOf(p)!=-1){if(z!=0&&z!=1)throw p+":"+z;F=m;continue}}else if(p==47){var q=R();
if(h()!=50)throw"e";if(h()!=0)throw"e";var fO=R();z=_.xR(x,F,fO);F+=fO}else if(p==57){var M=R();for(var w=0;
w<M;w++){var g=R(),jN=_.xR(x,F,g);F+=g;var c6=R(),a7=_.xR(x,F,c6);F+=c6;z.push([jN,a7])}var bd=h();for(var w=0;
w<M;w++)z[w].push(bd)}else if(p==39||p==63)z.push(h(),h());else if(p==64){for(var w=0;w<8;w++)z.push(_.IY(x,F+w*4)/100);
F+=32}else{z=x.slice(F,m);F+=P}var ey=a[p];if(ey==null)ey="t"+p;if(K[ey])throw"e";K[ey]=z;if(F!=m)throw p}if(e){}e=K;
return K}function o(c){x=c;F=0;var a=L();if(a!=c.length)throw"e";var K=L(),Y=k(),p=L(),P=V(),m=[L()/4294967295,L()/4294967295,L()/4294967295];
return[p,P,m]}function b(c,a){function K(){var cT=[];for(var w=0;w<4;w++)cT.push(_.o3(x,F+w*4));F+=16;
return cT}function Y(dx){var cT=[];for(var w=0;w<dx;w++)cT.push(i());return cT}function p(cT){var a_="";
for(var w=F;w<cT;w+=4)a_+=x.slice(w,w+4).join(", ")+"\n";return a_}x=c;F=a+8;var P=l(),m=F+P;F+=56;if(F==m)return;
var z=[],M=[],d=[],A=[],G=[];while(F<m){var kB=L(),c5=1;if(kB!=88&&kB!=96)throw kB;var kB=L();if(kB!=72)throw"e";
var q=L();if(q!=88&&q!=104&&q!=120)throw q;var kB=L();if(kB!=88)throw"e";var fO=L(),g=L(),jN=K(),c6=[];
d.push(c6);for(var w=0;w<6;w++){c6.push(Z(L()))}var a7=V(),bd=L();if(bd==16||bd==1040||bd==304){L();
bd=L()}var ey=V();A.push(ey);var bx=L(),ap=(g&256)!=0,fC=[],kE=[],bm={88:1,104:2,120:3}[q];for(var w=0;
w<fO;w++){var fe=w==0?1:bm;for(var g8=0;g8<fe;g8++)fC.push(V(),V());kE.push(fe==1?w==0?"M":"L":fe==2?"Q":"C");
var e0=K(),cF=L();c5=i();var ei=Y(10),cr=L(),e_=L()}G.push(c5);if(q==104){var gg=V(),bW=V();if(ap){kE.push("Q");
fC.push(gg,bW,fC[0],fC[1])}}if(q==120){var gg=V(),bW=V(),gx=V(),h$=V();if(ap){kE.push("C");fC.push(gg,bW,gx,h$,fC[0],fC[1])}}if(g&128){var dH=["M"],eg=[fC[0],fC[1]],aB=fC.length>>>1,gB=r.Z.aCm(fC);
for(var w=0;w<aB;w++){var jy=fC[2*w],aV=fC[2*w+1],ie=.7;for(var g8=0;g8<2;g8++){gB[w*4+g8*2]=ie*gB[w*4+g8*2]+(1-ie)*jy;
gB[w*4+g8*2+1]=ie*gB[w*4+g8*2+1]+(1-ie)*aV}}for(var w=1;w<aB;w++){dH.push("C");eg.push(gB[w*4-2],gB[w*4-1],gB[w*4],gB[w*4+1],fC[w*2],fC[w*2+1])}if(ap){dH.push("C");
eg.push(gB[aB*4-2],gB[aB*4-1],gB[0],gB[1],fC[0],fC[1])}fC=eg;kE=dH}if(ap)kE.push("Z");M=M.concat(fC);
z=z.concat(kE)}if(F!=m)throw"e";return[{p:M,G:z},d,A,G]}function u(c,a){x=c;F=a+8;var K=l(),Y=F+K,p=0;
F+=56;var P=[];while(F<Y){var m=L(),z=F+m-4;if(z>Y)throw"e";if(m==11){F-=4;var M=k(),d=L();if(d!=12)throw"e";
var A=f(),G=k(),d=L();if(d!=12)throw"e";var kB=f();if(F!=Y)throw"e"}else{var q=k(),fO=L();if(fO!=p)throw fO;
p++;var g=n();if(g!=0&&g!=1&&g!=2&&g!=5)throw g;var jN=W();if(jN!=0&&jN!=32&&jN!=64)throw jN;if(L()!=1)throw"e";
if(L()!=1)throw"e";if(W()!=0)throw"e";if(L()==1){var c6=L(),a7=_.$J(x,F);if(c6!=a7+4)throw"e";P.push(new Uint8Array(x.buffer,F+4,a7));
F+=c6}else P.push(new Uint8Array(0));var bd=k();if(F!=z)throw F}}return P}function Z(c){return Math.min(255,Math.round(c/16777216))}function I(c){x=c;
F=0;var a=L();if(a!=16)throw a;var K=L();if(K!=102)throw K;var Y=L();if(Y!=42&&Y!=58)throw Y;var p=L();
if(c.length-p!=118+Y)throw c.length-p;var P=k();if(P!="Parameter")throw P;var m=L(),z=L(),M=L(),d=L(),A=[];
for(var w=0;w<16;w++)A.push(L());var P=k();if(P!="InitColor")throw P;if(L()!=20)throw"e";var G=L(),kB=L(),q=L();
if(L()!=4)throw"e";if(Y==58){var fO=[];A.push(fO);for(var w=0;w<4;w++)fO.push(Z(L()))}var P=k();if(P!="BlockSize")throw P;
var g=L();if(g!=12)throw g;var jN=f();if(F!=x.length)throw"e";return[m,z,M,d,G*255,A]}function y(c,a){var K=_.xR(a,0,40),Y=X(c["ExternalC"+"hunk"],"Exte"+"rnalID",K);
if(Y==null){console.log("chnk not found",K)}return Y?Y.Offset:-1}function j(c,a,K,Y){if(D==null){D=r.R(256*256*4);
N=r.R(256*256)}var p=c.Mipmap,P=c.MipmapInfo,m=c.Offscreen,z=X(p,"MainId",K),M=X(P,"MainId",z.BaseMipmapInfo),d=X(m,"MainId",M.Offscreen),A=y(c,d.BlockData),s=null;
if(A==-1)return null;var G=u(a,A),kB=I(d.Attribute),q=kB[0],fO=kB[1],g=kB[2],jN=kB[3],c6=kB[4],a7=kB[5],bd=a7[16],ey=a7[1],c5=a7[2],bx=ey+c5;
if(c5!=a7[5])throw"e";if(ey!=a7[7])throw"e";var ap=r.R(256*(a7[6]+a7[8])),fC=new eu;if(bd)fC=new eu(0,0,q,fO);
else{for(var kE=0;kE<jN;kE++)for(var bm=0;bm<g;bm++){var fe=G[kE*g+bm];if(fe.length==0)continue;fC=fC.oA(new eu(bm<<8,kE<<8,256,256))}}var g8=fC.jB(new eu(0,0,q,fO)),e0=r.R(g8.P()*(bx==1?1:4));
if(bd)new Uint32Array(e0.buffer).fill(255<<24|bd[0]<<16|bd[1]<<8|bd[2]);if(bx==1)e0.fill(c6);for(var kE=0;
kE<jN;kE++)for(var bm=0;bm<g;bm++){var fe=G[kE*g+bm];if(fe.length==0)continue;var cF=new Uint8Array(fe.buffer,fe.byteOffset+2,fe.length-6),ei=new eu(bm<<8,kE<<8,256,256);
UZIP.inflateRaw(cF,ap);if(bx==1){if(a7[8]==32){H(ap,0,N);r.Hz(N,ei,e0,g8)}else r.Hz(ap,ei,e0,g8)}else if(bx==2){if(a7[8]==32){new Uint32Array(D.buffer).fill(4278190335);
H(ap,0,N);r.rW(N,D,3);H(ap,256*32,N);r.Mi(N,D)}else for(var w=0;w<262144;w+=4){var bd=ap[65536+(w>>>2)];
D[w]=bd;D[w+1]=bd;D[w+2]=bd;D[w+3]=ap[w>>>2]}r.sh(D,ei,e0,g8)}else if(bx==5){for(var w=0;w<262144;w+=4){D[w]=ap[65536+w+2];
D[w+1]=ap[65536+w+1];D[w+2]=ap[65536+w+0];D[w+3]=ap[w>>>2]}r.sh(D,ei,e0,g8)}else throw bx}if(Y&&bx==1){var cr=r.R(q*fO*4);
r.rW(e0,cr,3);e0=cr}return[g8,e0,c6]}function H(c,F,a){for(var w=0;w<a.length;w++){a[w]=(c[F+(w>>>3)]>>>7-(w&7)&1)*255}}var Q=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function C(c,a,K,Y,p){var P=c.Layer,m=c.Canvas[0];while(Y!=0){var z=X(P,"MainId",Y),M=z.Type,g=!1;console.log(z);
var d=K.dI();d.sc(z.Name);d.opacity=Math.min(255,z.Opacity);d.FH((z.Visibility&1)!=0);d.q_=Q[z.Composite];
if(d.q_==null){alert("Unknown blend mode "+z.Composite);d.q_="norm"}d.gO=z.Clip==1;K.B.push(d);var A=z.LayerMaskMipmap;
if(A!=0){var G=j(c,a,A,!1);if(G){d.F=new t.gm;d.F.rect=G[0];d.F.channel=G[1];d.F.color=G[2];J(d.F.rect,z,"Mask","Mask");
d.F.iv()}}var kB=[];for(var w=0;w<3;w++)kB.push(Z(z["DrawColorMain"+["Red","Green","Blue"][w]]));var q={t:"Objc",v:r.I.GB({o:kB[0],r:kB[1],z:kB[2]})},fO=JSON.parse(eC.default);
for(var w=0;w<eC.order.length;w++)fO[eC.UM[w]]={t:"VlLs",v:[]};if(z.DrawColorEnable==1&&M!=1584){g=!0;
var jN=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);jN.Clr=q;fO.solidFillMulti.v.push({t:"Objc",v:jN})}if(z.EffectInfo){var c6=o(z.EffectInfo),kB=c6[2];
if(c6[0]==1){g=!0;var jN=JSON.parse(eC.bc[eC.order.indexOf("FrFX")]);jN.Clr.v=r.I.GB({o:kB[0]*255,r:kB[1]*255,z:kB[2]*255});
jN.Sz.v.val=Math.round(c6[1]);fO.frameFXMulti.v.push({t:"Objc",v:jN})}}if(z.FilterLayerInfo){x=z.FilterLayerInfo;
F=0;var a7=L(),bd=L();if(bd!=x.length-F)throw"e";var ey={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[a7];
if(ey!=null){var c5=ew.Iz(ey);d.add[ey]=c5?c5:{};if(ey=="brit")ew.ro["g"+ey](c5,[$(),$(),!0]);if(ey=="hue2")im.Mm(c5,0,[$(),$(),$()]);
if(ey=="curv"){var bx=[],ap=F;for(var w=0;w<32;w++){F=ap+w*130;var fC=n(),kE=[];bx.push(kE);for(var bm=0;
bm<fC;bm++)kE.push(n()/65535,n()/65535)}for(var w=0;w<4;w++){var kE=bx[w],fe=jL.EJ(c5,w),g8=fe[0];for(var bm=0;
bm<kE.length;bm+=2){var e0=fe[bm>>>1]=JSON.parse(JSON.stringify(g8));e0.v.Hrzn.v=Math.round(kE[bm]*255);
e0.v.Vrtc.v=Math.round(kE[bm+1]*255)}jL.Mm(c5,w,fe)}}if(ey=="grdm"){var cF=c5.Grad.v,ei=[],cr=L();if(cr!=bd-4)throw cr;
var e_=L();if(e_!=16)throw e_;var gg=L();if(gg!=28)throw gg;var bW=L();for(var w=0;w<bW;w++){var gx=0,h$=[];
for(var bm=0;bm<7;bm++)h$.push(L());ei.push([h$[6]/32768,[h$[1]/4294967295,h$[2]/4294967295,h$[3]/4294967295],h$[4]/4294967295])}r.I.yT(ei,cF)}if(ey=="blnc"){c5.PrsL.v=L()==1;
for(var w=0;w<3;w++){var dH=c5[["ShdL","MdtL","HghL"][w]].v;for(var bm=0;bm<3;bm++)dH[bm].v=$()}}}else console.log("Unknown adjustment",a7,bd,d.getName())}if(M==1584){d.xb|=16;
d.add.SoCo={classID:"null",Clr:q};d.pZ(K)}else if(M==800){K.B.pop()}else if(z.Folder!=0){d.add.lsct=(z.Folder&16)!=0?eD.Tn:eD.en;
d.q_="pass";K.B.pop();K.B.push(K.Nz());C(c,a,K,z.FirstChildIndex,p+1);K.B.push(d)}else if(M==0||M==1||M==2||M==3){var G=j(c,a,z.RenderMipmap,!0);
if(G){d.rect=G[0];d.buffer=G[1];J(d.rect,z,"Render","");d.iv()}if(z.TextLayerType!=null){var aB="TextLayerString",jy="TextLayerAttributes",ie=[z[aB]],cT=[z[jy]];
if(z[aB+"Array"]){x=z[aB+"Array"];F=0;while(F<x.length){var bd=h();ie.push(x.slice(F,F+bd));F+=bd}x=z[jy+"Array"];
F=0;while(F<x.length){var bd=h();cT.push(x.slice(F,F+bd));F+=bd}}var a_=d;K.B.pop();for(var gs=0;gs<ie.length;
gs++){var d=a_.clone();K.B.push(d);var gq=U(cT[gs]),kr=gq.runs,iN=gq.fnts,jH=gq.bplg,h2=gq.bbox,an=h2[2]-h2[0],bt=h2[3]-h2[1],kH=jH[2]-jH[0],js=jH[3]-jH[1],gA=new iJ;
gA.translate(-an/2,-bt/2);gA.rotate(Math.atan2(-js,kH));gA.translate(an/2,bt/2);var jR=h2[0]+z.OffsetX,c3=h2[1]+z.OffsetY;
gA.translate(jR,c3);d.add.lnsr="rend";d.add.TySh=iV.P3(0,0);d.add.TySh.pX=new eu(0,0,500,500);d.add.TySh.i=gA;
var iU=d.add.TySh.OU,hn=_.NM(ie[gs]);d.sc(hn);iV.yb(iU,0,hn);iV.xC(iU,1);iV.J3(iU,[0,0,an,bt]);for(var w=0;
w<kr.length;w++){var db=kr[w],dy=db[0],c2=dy+db[1],bk=db[2],cx=iV.f3(iU,dy,c2),ft=K.Bq/72*gq.size/100;
if((bk&512)!=0)ft*=db[6]/100;cx.oE.FontSize=Math.round(ft);var q=(bk&256)!=0?db.slice(3):gq.colr;cx.oE.FillColor={Type:1,Values:[1,q[0]/65535,q[1]/65535,q[2]/65535]};
var eZ=db[7]==""?gq.font:db[7];if(iN){if(iN[w])eZ=iN[w][1];else for(var bm=0;bm<iN.length;bm++)if(iN[bm][0]==eZ)eZ=iN[bm][1]}iV.hU(cx,eZ);
iV.Aj(iU,dy,c2,cx)}if(d.rect.P()==0)K.Sv=!0;else{d.rect=new eu(jR,c3,an,bt);d.buffer=r.R(d.rect.P()*4);
r.sh(a_.buffer,a_.rect,d.buffer,d.rect)}}}}var hf=c.VectorObjectList;if(z.VectorNormalType!=null&&hf&&X(hf,"LayerId",Y)){var jr=X(hf,"LayerId",Y).VectorData,ix=y(c,jr),bF=b(a,ix);
if(bF){var fA=null;if(d.add.TySh){var fA=d.clone();K.B.push(fA);delete d.add.TySh}E(d,z,bF[0]);if(d.vN()){d.xb|=24;
var ax=K.dI();ax.sc(d.getName());ax.opacity=d.opacity;K.B.push(ax);E(ax,z,bF[0]);T(ax,bF);ax.pZ(K)}else{T(d,bF,fA!=null)}d.pZ(K);
if(fA){fA.add.TySh.i.concat(new iJ(1,0,0,1,d.rect.x+d.rect.m/2,d.rect.y+d.rect.e/2))}}}if(g)d.add.lmfx=fO;
if(Y==m.CurrentLayer)K.g=[K.B.indexOf(d)];Y=z.NextIndex}}function J(c,a,K,Y){c.x+=a[K+"OffscrOffsetX"]+a[Y+"OffsetX"];
c.y+=a[K+"OffscrOffsetY"]+a[Y+"OffsetY"]}function E(c,a,K){c.add.vmsk=new t.C$;r.Z.i(K.p,new iJ(1,0,0,1,a.OffsetX,a.OffsetY),K.p);
c.add.vmsk.$=r.Z.zI(K);c.oO()}function T(c,a,K){var Y=a[1][0],p=a[2][0];c.xb|=16;var P=c.add.vstk=eC.pr.Iz(!0,!0);
P.fillEnabled.v=K==!0;c.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:255,r:255,z:255})}};P.strokeStyleContent.v.Clr.v=r.I.GB({o:Y[0],r:Y[1],z:Y[2]});
P.strokeStyleLineWidth.v.val=p*2;P.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return s}();
var hl={};hl.Cp=!1;hl.GQ=!1;hl.py=!1;hl.Mt=document.createElement("canvas");hl.yG=null;hl._4=null;hl.Uz=0;
(function(){var x={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},F;if(!F)F=hl.Mt.getContext("webgl",x);
if(!F)F=hl.Mt.getContext("experimental-webgl",x);if(F){hl.Cp=!0;hl.GQ=!0;hl.yG=F;hl._4=F.createFramebuffer();
F.bindFramebuffer(F.FRAMEBUFFER,hl._4);F.disable(F.BLEND);F.disable(F.DEPTH_TEST);var W=F.createBuffer();
F.bindBuffer(F.ARRAY_BUFFER,W);F.bufferData(F.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),F.STATIC_DRAW);
F.enableVertexAttribArray(0);F.vertexAttribPointer(0,2,F.FLOAT,!1,0,0)}}());hl.ab5=function(x){x=x.replace(/\s\s+/g," ");
x=x.replace(/; /g,";");x=x.replace(/} /g,"}");x=x.replace(/ }/g,"}");x=x.replace(/{ /g,"{");x=x.replace(/ {/g,"{");
x=x.replace(/= /g,"=");x=x.replace(/ =/g,"=");x=x.replace(/\| /g,"|");x=x.replace(/ \|/g,"|");return x};
hl.iE=function(x){var F=hl.yG;if(x>F.getParameter(F.MAX_TEXTURE_SIZE)){hl.Cp=!1;alert("Disabling WebGL")}};
hl.WX=function(x,F){return new Float32Array([(x.x-F.x)/F.m,(x.y-F.y)/F.e,x.m/F.m,x.e/F.e])};hl.bz=function(){return this.Mt};
hl.uR=function(x,F){var W=hl.yG;W.bindFramebuffer(W.FRAMEBUFFER,hl._4);W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,x.Yn,0);
W.viewport(0,0,x.m,x.e);if(F){W.enable(W.SCISSOR_TEST);W.scissor(F.x,F.y,F.m,F.e)}else W.disable(W.SCISSOR_TEST)};
hl.ej=function(x,F,W){if(W)throw"error";var n=hl.yG;n.disable(n.SCISSOR_TEST);n.bindFramebuffer(n.FRAMEBUFFER,null);
n.viewport(0,0,x,F);if(W){n.enable(n.SCISSOR_TEST);n.scissor(W.x,W.y,Math.round(W.m),Math.round(W.e))}else n.disable(n.SCISSOR_TEST)};
hl.clear=function(){var x=hl.yG;x.clearColor(0,0,0,0);x.clear(x.COLOR_BUFFER_BIT)};hl.Ap=function(x,F){if(F==null)F=0;
var W=(F>>>0&255)==0,n=(F>>>8&255)==0,L=(F>>>16&255)==0,$=(F>>>24&255)==0,l=(x>>>0&255)*(1/255),k=(x>>>8&255)*(1/255),V=(x>>>16&255)*(1/255),i=(x>>>24&255)*(1/255),f=hl.yG;
f.colorMask(W,n,L,$);f.clearColor(l,k,V,i);f.clear(f.COLOR_BUFFER_BIT);f.colorMask(!0,!0,!0,!0)};hl.ul=function(x,F,W,n,L){var $=F.jB(n);
if(L)$=$.jB(L);if($.ak())return;var l=hl.yG;hl.uR(x);l.bindTexture(l.TEXTURE_2D,W.Yn);l.copyTexSubImage2D(l.TEXTURE_2D,0,$.x-n.x,$.y-n.y,$.x-F.x,$.y-F.y,$.m,$.e)};
hl.VH=function(w,x,F){var W=hl.jZ[w];if(W==null||W.m!=x||W.e!=F){if(W)W.delete();W=new hl.Co(x,F)}hl.jZ[w]=W;
return W};hl.jZ=[];hl.AF=function(){this.Aa=null;this.w_=null};hl.AF.YB=null;hl.AF.prototype.EZ=function(x){if(this.w_)return;
this.w_={};var F=hl.yG,W=this.Aa,n=this.w_;for(var w=0;w<x.length;w++){var L=x[w];n[L]=F.getUniformLocation(W,L)}};
hl.AF.prototype.Rh=function(){};hl.AF.prototype.D8=function(x){var F=hl.yG;for(var w=0;w<x.length;w+=2){F.uniform1i(x[w],w>>>1);
F.activeTexture(F["TEXTURE"+(w>>>1)]);F.bindTexture(F.TEXTURE_2D,x[w+1])}F.activeTexture(F.TEXTURE0)};
hl.AF.prototype.pk=function(x,F){var W=hl.yG,n=W.createShader(W.FRAGMENT_SHADER);W.shaderSource(n,x);
W.compileShader(n);if(!W.getShaderParameter(n,W.COMPILE_STATUS))console.log(W.getShaderInfoLog(n));var L=W.createShader(W.VERTEX_SHADER);
W.shaderSource(L,F);W.compileShader(L);if(!W.getShaderParameter(L,W.COMPILE_STATUS))console.log(W.getShaderInfoLog(L));
var $=W.createProgram();W.attachShader($,L);W.attachShader($,n);W.linkProgram($);if(!W.getProgramParameter($,W.LINK_STATUS))console.log("Could not initialise shaders");
this.Aa=$};hl.AF.prototype.Rb=function(){if(hl.AF.YB!=this){hl.yG.useProgram(this.Aa);hl.AF.YB=this}};
hl.Z$=function(x,F){hl.p3++;hl.Uz+=x*F;if(hl.py)console.log("GL.Channels instances: "+hl.p3+", memory: "+hl.Uz);
var W=hl.yG;this.m=x;this.e=F;this.Yn=W.createTexture();this.r4=null;this.qM(this.Yn,x,F)};hl.Z$.prototype.qM=function(x,F,W){var n=hl.yG;
n.bindTexture(n.TEXTURE_2D,x);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);
n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,F,W,0,n.ALPHA,n.UNSIGNED_BYTE,null)};hl.Z$.prototype.set=function(x,F){var W=hl.yG;
W.bindTexture(W.TEXTURE_2D,this.Yn);W.pixelStorei(W.UNPACK_ALIGNMENT,1);var n=this.m*this.e;if(F==null||F.P()*10>n)W.texImage2D(W.TEXTURE_2D,0,W.ALPHA,this.m,this.e,0,W.ALPHA,W.UNSIGNED_BYTE,x);
else{var L=new eu(0,0,this.m,this.e),$=r.R(F.P());r.Hz(x,L,$,F);W.texSubImage2D(W.TEXTURE_2D,0,F.x,F.y,F.m,F.e,W.ALPHA,W.UNSIGNED_BYTE,$)}W.pixelStorei(W.UNPACK_ALIGNMENT,4)};
hl.Z$.prototype.delete=function(){var x=hl.yG;if(this.Yn){x.deleteTexture(this.Yn);hl.p3--;hl.Uz-=this.m*this.e}if(hl.py)if(hl.py)console.log("GL.Channels instances: "+hl.p3+", memory: "+hl.Uz*4)};
hl.p3=0;hl.Co=function(x,F,W){if(W==null)W=!1;hl.p3++;hl.Uz+=x*F*4;if(hl.py)console.log("GL.Channels instances: "+hl.p3+", memory: "+hl.Uz);
var n=hl.yG;this.a80=W;this.m=x;this.e=F;this.Yn=n.createTexture();this.r4=null;this.qM(this.Yn,x,F)};
hl.Co.prototype.set=function(x,F){var W=hl.yG;W.disable(W.SCISSOR_TEST);W.bindTexture(W.TEXTURE_2D,this.Yn);
if(x==null||x instanceof Uint8Array){var n=this.m*this.e;if((F==null||F.P()*10>n)&&(x==null||x.length>=n*4))W.texImage2D(W.TEXTURE_2D,0,W.RGBA,this.m,this.e,0,W.RGBA,W.UNSIGNED_BYTE,x);
else{var L=x;if(x.length==n*4){var L=r.R(F.P()*4);r.sh(x,new eu(0,0,this.m,this.e),L,F)}W.texSubImage2D(W.TEXTURE_2D,0,F.x,F.y,F.m,F.e,W.RGBA,W.UNSIGNED_BYTE,L)}}else W.texImage2D(W.TEXTURE_2D,0,W.RGBA,W.RGBA,W.UNSIGNED_BYTE,x)};
hl.Co.prototype.get=function(x){var F=hl.yG;hl.uR(this);F.readPixels(0,0,this.m,this.e,F.RGBA,F.UNSIGNED_BYTE,x)};
hl.Co.prototype.s2=function(x){if(x.ak())return;var F=hl.yG;if(this.r4==null){this.r4=F.createTexture();
this.qM(this.r4,this.m,this.e);hl.p3++;hl.Uz+=this.m*this.e*4}F.bindFramebuffer(F.FRAMEBUFFER,hl._4);
F.bindTexture(F.TEXTURE_2D,this.r4);if(x){var W=Math.max(x.x,0),n=Math.max(x.y,0);F.copyTexSubImage2D(F.TEXTURE_2D,0,W,n,W,n,x.m,x.e)}else F.copyTexImage2D(F.TEXTURE_2D,0,F.RGBA,0,0,this.m,this.e,0)};
hl.Co.prototype.qM=function(x,F,W){var n=hl.yG;n.bindTexture(n.TEXTURE_2D,x);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.a80?n.LINEAR:n.NEAREST);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,F,W,0,n.RGBA,n.UNSIGNED_BYTE,null)};
hl.Co.prototype.delete=function(){var x=hl.yG;if(this.Yn){x.deleteTexture(this.Yn);hl.p3--;hl.Uz-=this.m*this.e*4}if(this.r4){x.deleteTexture(this.r4);
hl.p3--;hl.Uz-=this.m*this.e*4}if(hl.py)if(hl.py)console.log("GL.Channels instances: "+hl.p3+", memory: "+hl.Uz)};
hl.Co.prototype.clone=function(){var x=hl.yG,F=new hl.Co(this.m,this.e);hl.uR(this);x.bindTexture(x.TEXTURE_2D,F.Yn);
x.copyTexImage2D(x.TEXTURE_2D,0,x.RGBA,0,0,this.m,this.e,0);return F};hl.d4={a6T:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a04:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",X8:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",pN:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",apP:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",NV:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",fz:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",ql:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",azC:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Ml:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aao:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",ic:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",axg:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Cl:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Eh:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",E8:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",uO:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",zi:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",YX:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aBv:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",a1B:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",kU:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",arE:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
hl.l={};hl.l.jq={};hl.l.Ba=null;hl.l.CG=null;hl.l.Xm=null;hl.l.as0=function(x,F,W,n,L,$,l,k){if(k==null)k=hM.j0();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(x)==-1){l=l*k.fill;k.fill=1;k.style=!1}var V=x+(k.a3?"1":"");
if(hl.l.jq[V]==null)hl.l.jq[V]=new hl.l.Td(x,k.a3!=null);var i=hl.l.jq[V],f=W.jB(L).jB($);f.offset(-L.x,-L.y);
if(f.ak())return;var X=hl.yG;hl.uR(n,f);n.s2(f);i.Rb();i.Rh(F.Yn,n.r4,hl.WX(W,L),l,k.fill,k.style?1:0,k.u9?1:0,k.a3?new Float32Array(k.a3):null);
X.drawArrays(X.TRIANGLES,0,6)};hl.l.uC=function(x,F,W,n,L,$,l,k,V,i,f){if(hl.l.Ba==null)hl.l.Ba=new hl.l.pf(!0,!0);
if(hl.l.CG==null)hl.l.CG=new hl.l.pf(!0,!1);if(hl.l.Xm==null)hl.l.Xm=new hl.l.pf(!1,!0);var X=i?1:0,s=x?L?hl.l.Ba:hl.l.CG:hl.l.Xm,R=new Float32Array(f?[f[0],f[1],f[2],1]:[1,1,1,1]),h=F?F.jB(n).jB(k):n.jB(k);
if(h.ak())return;h.offset(-n.x,-n.y);var B=hl.yG;hl.uR(W,h);W.s2(h);s.Rb();if(x==null)s.Rh(null,W.r4,L.Yn,hl.WX(n,n),hl.WX($,n),l/255,V,X,R);
else if(L)s.Rh(x.Yn,W.r4,L.Yn,hl.WX(F,n),hl.WX($,n),l/255,V,X,R);else s.Rh(x.Yn,W.r4,null,hl.WX(F,n),null,l/255,V,X,R);
B.drawArrays(B.TRIANGLES,0,6)};hl.l.asu=function(x,F,W){if(hl.l.az3==null)hl.l.az3=new hl.l.Bk;var n=hl.l.az3,L=new eu(0,0,x.m,x.e),$=hl.yG;
hl.uR(F);F.s2(L);n.Rb();n.Rh(L,x.Yn,F.r4,W.Yn);$.drawArrays($.TRIANGLES,0,6)};hl.l.eM={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
hl.l.Td=function(x,F){hl.AF.call(this);var W="\t\t\tprecision highp float;\t\t\t"+hl.d4.X8+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(F?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+hl.d4.NV+"\t\t\t"+hl.d4.fz+"\t\t\t"+hl.d4.ql+"\t\t\t"+hl.d4.a6T+"\t\t\t"+hl.d4.a04+"\t\t\t"+hl.d4.azC+"\t\t\t"+hl.d4.Ml+"\t\t\t"+hl.d4.aao+"\t\t\t"+hl.d4.ic+"\t\t\t"+hl.d4.hash+"\t\t\t"+(F?hl.d4.kU:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+hl.l.eM[x]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",n="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(x=="diss")W+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else W+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(F?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.pk(W,n)};hl.l.Td.prototype=new hl.AF;hl.l.Td.prototype.Rh=function(x,F,W,n,L,$,l,k){this.EZ("srct alpha source target fill style keepBGA blIf".split(" "));
var V=hl.yG,i=this.w_;V.uniform4fv(i.srct,W);V.uniform1f(i.alpha,n);V.uniform1f(i.fill,L);V.uniform1f(i.style,$);
V.uniform1f(i.keepBGA,l);if(k)V.uniform4fv(i.blIf,k);this.D8([i.source,x,i.target,F])};hl.l.pf=function(x,F){hl.AF.call(this);
this.au_=x;this.tx=F;var W="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+hl.d4.axg+"\t\t\t"+hl.d4.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(x?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(F?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(x?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(F?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",n="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.pk(W,n)};hl.l.pf.prototype=new hl.AF;hl.l.pf.prototype.Rh=function(x,F,W,n,L,$,l,k,V){if(this.tx)this.EZ("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.EZ("srct awg dissv source target cswitch".split(" "));var i=hl.yG,f=this.w_;i.uniform4fv(f.srct,n);
if(this.tx){i.uniform4fv(f.wrct,L);i.uniform1f(f.wcolor,$)}else{i.uniform4fv(f.cswitch,V)}i.uniform1f(f.awg,l);
i.uniform1f(f.dissv,k);var X=[f.source,x,f.target,F];if(this.tx)X.push(f.weight,W);this.D8(X)};hl.l.Bk=function(){hl.AF.call(this);
var x="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",F="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.pk(x,F)};hl.l.Bk.prototype=new hl.AF;hl.l.Bk.prototype.Rh=function(x,F,W,n){this.EZ(["rct","prev","next","alpha"]);
var L=hl.yG,$=this.w_;L.uniform4fv($.rct,[0,0,1,1]);this.D8([$.prev,F,$.next,W,$.alpha,n])};hl.sv={Wo:{},zq:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
hl.sv.Yq=function(x,F){var W=a3.GS,n=[W.ns,W.xy,W.b5,W.Vm,W.x5,W.K6,W.S7,W.UT].indexOf(x.type),L=hl.sv.Wo[x.type];
if(L==null)L=hl.sv.Wo[x.type]=new hl.Wo[n];L.Rb();L.Rh(F,x);hl.yG.drawArrays(hl.yG.TRIANGLES,0,6)};hl.Wo=[];
hl.Wo[0]=function(){hl.AF.call(this);this.bo={};var x="\t\t\tprecision mediump float;\t\t\t"+hl.d4.fz+"\t\t\t"+hl.d4.X8+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.pk(x,hl.sv.zq)};hl.Wo[0].prototype=new hl.AF;hl.Wo[0].prototype.Rh=function(x,F){var W={o:F.nQ,r:F.Ya,z:F.kh,V:r.R(F.nQ.length)},n=W.o.length;
if(this.bo["m"+n]==null){this.bo["m"+n]={aqr:new hl.Co(n,1),Xu:r.R(n*4)}}var L=this.bo["m"+n];r.qe(W,L.Xu,0);
var $=L.aqr;$.set(L.Xu);this.EZ(["source","map","toGray","presLum"]);var l=hl.yG,k=this.w_;l.uniform1f(k.toGray,F.ER?1:0);
l.uniform1f(k.presLum,F.Fn?1:0);this.D8([k.source,x,k.map,$.Yn])};hl.Wo[1]=function(){hl.AF.call(this);
this.azG=new hl.Co(256,1);this.avO=r.R(256*4);var x="\t\t\t\tprecision mediump float;\t\t\t\t"+hl.d4.E8+"\t\t\t\t"+hl.d4.Cl+"\t\t\t\t"+hl.d4.Eh+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.pk(x,hl.sv.zq)};hl.Wo[1].prototype=new hl.AF;hl.Wo[1].prototype.Rh=function(x,F){r.qe({o:F.agN,r:F.u$,z:F.ahS,V:r.R(256)},this.avO);
this.azG.set(this.avO);this.EZ(["source","map","cfa","cfb","colorize"]);var W=hl.yG,n=this.w_;W.uniform1f(n.cfa,F.akp);
W.uniform1f(n.cfb,F.Nw);W.uniform1i(n.colorize,F.aA4);this.D8([n.source,x,n.map,this.azG.Yn])};hl.Wo[2]=function(){hl.AF.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+hl.d4.E8+"\t\t\t"+hl.d4.uO+"\t\t\t"+hl.d4.zi+"\t\t\t"+hl.d4.Cl+"\t\t\t"+hl.d4.Eh+"\t\t\t"+hl.d4.aBv+"\t\t\t"+hl.d4.a1B+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.pk(x,hl.sv.zq)};hl.Wo[2].prototype=new hl.AF;hl.Wo[2].prototype.Rh=function(x,F){this.EZ(["source","vib","sat","yF"]);
var W=hl.yG,n=this.w_;W.uniform1f(n.vib,F.jL[0]);W.uniform1f(n.sat,F.jL[1]);W.uniform3fv(n.yF,new Float32Array([F.jL[2],F.jL[3],F.jL[3]]));
this.D8([n.source,x])};hl.Wo[3]=function(){hl.AF.call(this);var x="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.pk(x,hl.sv.zq)};hl.Wo[3].prototype=new hl.AF;hl.Wo[3].prototype.Rh=function(x,F){this.EZ(["source","trf"]);
var W=hl.yG,n=this.w_;W.uniformMatrix4fv(n.trf,!1,new Float32Array(r.L5.kZ(F.Rg)));this.D8([n.source,x])};
hl.Wo[4]=function(){hl.AF.call(this);var x="\t\t\tprecision mediump float; \t\t\t"+hl.d4.YX+"\t\t\t"+hl.d4.E8+"\t\t\t"+hl.d4.Eh+"\t\t\t"+hl.d4.Cl+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.pk(x,hl.sv.zq)};hl.Wo[4].prototype=new hl.AF;hl.Wo[4].prototype.Rh=function(x,F){this.EZ(["source","mnm","mxm","shift","lim"]);
var W=hl.yG,n=this.w_;W.uniform3fv(n.mnm,new Float32Array(F.jw));W.uniform3fv(n.mxm,new Float32Array(F.IH));
W.uniform3fv(n.shift,new Float32Array(F.shift));W.uniform1f(n.lim,F.Iq);this.D8([n.source,x])};hl.Wo[5]=function(){hl.AF.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+hl.d4.X8+"\t\t\t"+hl.d4.pN+"\t\t\t"+hl.d4.apP+"\t\t\t"+hl.d4.Cl+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.pk(x,hl.sv.zq)};hl.Wo[5].prototype=new hl.AF;hl.Wo[5].prototype.Rh=function(x,F){this.EZ(["source","cfs"]);
var W=hl.yG,n=this.w_;W.uniform3fv(n.cfs,F.aBT);this.D8([n.source,x])};hl.Wo[6]=function(){hl.AF.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+hl.d4.E8+"\t\t\t"+hl.d4.pN+"\t\t\t"+hl.d4.apP+"\t\t\t"+hl.d4.Cl+"\t\t\t"+hl.d4.Eh+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.pk(x,hl.sv.zq)};hl.Wo[6].prototype=new hl.AF;hl.Wo[6].prototype.Rh=function(x,F){this.EZ(["source","wght","prms"]);
var W=hl.yG,n=this.w_,L=[F.n1,F.afV,F.fz,F.a4p,F.$z,F.a4_];W.uniform1fv(n.wght,new Float32Array(F.azK));
W.uniform1fv(n.prms,new Float32Array(L));this.D8([n.source,x])};hl.Wo[7]=function(){hl.AF.call(this);
this.aw={};var x="\t\t\tprecision mediump float;\t\t\t"+hl.d4.arE+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.pk(x,hl.sv.zq)};hl.Wo[7].prototype=new hl.AF;hl.Wo[7].prototype.Rh=function(x,F){this.EZ(["source","lut","N"]);
var W=hl.yG,n=this.w_,L=F.JQ,$=F.LK;if(this.aw["m"+L]==null)this.aw["m"+L]=new hl.Co(L,L*L);var l=this.aw["m"+L];
l.set($);W.uniform1f(n.N,L);this.D8([n.source,x,n.lut,l.Yn]);W.activeTexture(W.TEXTURE1);var k=W.LINEAR;
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,k);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,k);
W.activeTexture(W.TEXTURE0)};hl.filter={DF:{},zq:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",avz:0,aBP:1,JE:2,ab0:3,a8H:4,a6X:5,Jk:6,anJ:7};
hl.filter.Yq=function(x,F){var W=hl.filter,n,L=x.type+":"+(x.qm?x.qm.join(","):""),n=hl.filter.DF[L];
if(n==null)n=hl.filter.DF[L]=new hl.DF[x.type](x.qm);n.Rb();n.Rh(F,x);hl.yG.drawArrays(hl.yG.TRIANGLES,0,6)};
hl.DF=[0,0,0,0,0,0,0,0,0,0,0,0];hl.DF[7]=function(){hl.AF.call(this);var x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.pk(c$.gV(x),c$.gV(hl.filter.zq))};hl.DF[7].prototype=new hl.AF;hl.DF[7].prototype.Rh=function(x,F){this.EZ(["source","iwh","kern"]);
var W=hl.yG,n=this.w_;W.uniform2fv(n.iwh,F.FT);W.uniform1fv(n.kern,F.arJ);this.D8([n.source,x])};hl.DF[6]=function(x){hl.AF.call(this);
var F=x[0],W=x[1],n=x[2],L="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",$=c$.gV(L);
$=$.replaceAll("PRC",n+".0");$=$.replaceAll("DIR",["x,0","0,x"][W]);this.pk($,hl.sv.zq)};hl.DF[6].prototype=new hl.AF;
hl.DF[6].prototype.Rh=function(x,F){this.EZ(["source","iwh","rad"]);var W=hl.yG,n=this.w_;W.uniform2fv(n.iwh,F.FT);
W.uniform1f(n.rad,F.mM);this.D8([n.source,x])};hl.DF[4]=function(x){hl.AF.call(this);var F=x[0],W=x[1],n="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+x[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][W]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][F]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][W]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(W==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.pk(n,hl.sv.zq)};hl.DF[4].prototype=new hl.AF;hl.DF[4].prototype.Rh=function(x,F){this.EZ(["source","iwh","rrad","tr"]);
var W=hl.yG,n=this.w_;W.uniform2fv(n.iwh,F.FT);W.uniform1f(n.rrad,F.DS);W.uniform1f(n.tr,F.afZ);this.D8([n.source,x]);
var L=W.LINEAR;L=W.NEAREST;W.activeTexture(W.TEXTURE0);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,L);
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,L);W.activeTexture(W.TEXTURE0)};hl.DF[5]=function(){hl.AF.call(this);
var x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.pk(c$.gV(x),c$.gV(hl.filter.zq))};hl.DF[5].prototype=new hl.AF;hl.DF[5].prototype.Rh=function(x,F){this.EZ(["source","ssum","iwh","amnt","edgf"]);
var W=hl.yG,n=this.w_;W.uniform2fv(n.iwh,F.FT);W.uniform1f(n.amnt,F.a8X);W.uniform1f(n.edgf,F.at5);this.D8([n.source,x,n.ssum,F.akg])};
hl.DF[3]=function(){hl.AF.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.pk(c$.gV(x),c$.gV(hl.filter.zq))};hl.DF[3].prototype=new hl.AF;hl.DF[3].prototype.Rh=function(x,F){this.EZ("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var W=hl.yG,n=this.w_;W.uniform2fv(n.iwh,F.FT);W.uniform1f(n.tdep,F.azt);W.uniform1f(n.rrad,F.DS);W.uniform2fv(n.spec,F.azY);
W.uniform3fv(n.nois,F.av2);W.uniformMatrix4fv(n.poly0,!1,F.ajW);W.uniformMatrix4fv(n.poly1,!1,F.au9);
this.D8([n.source,x]);var L=W.LINEAR;W.activeTexture(W.TEXTURE0);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,L);
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,L);W.activeTexture(W.TEXTURE0)};hl.DF[0]=function(){hl.AF.call(this);
var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.pk(c$.gV(x),c$.gV(hl.filter.zq))};hl.DF[0].prototype=new hl.AF;hl.DF[0].prototype.Rh=function(x,F){this.EZ(["source","iwh","ld","shine"]);
var W=hl.yG,n=this.w_;W.uniform2fv(n.iwh,F.FT);W.uniform3fv(n.ld,F.aCJ);W.uniform1f(n.shine,F.alR);this.D8([n.source,x,n.tang,F.$l])};
hl.DF[1]=function(){hl.AF.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.pk(c$.gV(x),c$.gV(hl.filter.zq))};hl.DF[1].prototype=new hl.AF;hl.DF[1].prototype.Rh=function(x,F){this.EZ(["source","iwh","isc","bristle"]);
var W=hl.yG,n=this.w_;W.uniform2fv(n.iwh,F.FT);W.uniform1f(n.isc,F.aza);W.uniform1f(n.bristle,F.ah$);
this.D8([n.source,x])};hl.DF[2]=function(){hl.AF.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.pk(c$.gV(x),c$.gV(hl.filter.zq))};hl.DF[2].prototype=new hl.AF;hl.DF[2].prototype.Rh=function(x,F){this.EZ(["source","tang","iwh","sigma","expo"]);
var W=hl.yG,n=this.w_;W.uniform2fv(n.iwh,F.FT);W.uniform1f(n.sigma,F.a6R);W.uniform1f(n.expo,F.a07);
this.D8([n.source,x,n.tang,F.$l]);var L=W.LINEAR;W.activeTexture(W.TEXTURE0);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,L);
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,L);W.activeTexture(W.TEXTURE0)};function r(){}r.X={};
r.af2={};r.aDJ=function(){var x=[64,64,128,256,512,1024,2048],F=[];for(var w=0;w<x.length;w++){var W=x[w],n=document.createElement("canvas");
n.width=W;n.height=W;F.push(n.getContext("2d",{willReadFrequently:!0}))}return F}();r.bz=function(x,F){var W,n=r.aDJ,w=1,L=Math.max(x,F);
while(w<n.length&&L>n[w].canvas.width)w++;if(w==n.length){W=n[0];var $=W.canvas;$.width=x;$.height=F}else{W=n[w];
W.clearRect(0,0,x,F)}return W};r.Ha=function(x,F,W){var n=new Uint32Array(F*W);n[0]=x[0];for(var L=1;
L<F;L++)n[L]=n[L-1]+x[L];for(var $=1;$<W;$++){var w=$*F;n[w]=n[w-F]+x[w];for(var L=1;L<F;L++)n[w+L]=x[w+L]+n[w+L-1]+n[w+L-F]-n[w+L-F-1]}return n};
r.TN=function(x,F,W,n,L,$){var l=(L-1)*F,k=$*F;return x[k+n]-x[k+W-1]-x[l+n]+x[l+W-1]};r.SB=function(x,F,W){var n={},L=0,$=0,l=new Uint32Array(x.buffer),k=l.length,V=Date.now();
for(var i=1;i<W-1;i++)for(var f=1;f<F-1;f++){var X=i*F+f,s=l[X];if(s>>>24<230)$++;if(n[s]==null){n[s]=!0;
L++}}if($!=0||L<20)return!1;return!0};r.aq=function(x,F,W,n,L,$){if(L==null)L=$=0;n=Math.log(n)/Math.log(2);
n=Math.round(n);var l=new Uint32Array(x.buffer);for(var w=0;w<W;w++)for(var k=0;k<F;k++){l[w*F+k]=r.agZ(w+$,k+L,n)}};
r.axn=function(w,x,F){return 255-((w>>>F)+(x>>>F)&1)*51};r.agZ=function(w,x,F){return 4294967295-((w>>>F)+(x>>>F)&1)*3355443};
r.j4=function(x){return{o:x>>>16&255,r:x>>>8&255,z:x&255}};r.H1=function(x){return x.z<<16|x.r<<8|x.o};
r.mZ=function(x){var F=x.toString(16);while(F.length<6)F="0"+F;return F};r.ajR=function(x){return parseInt(x,16)};
r.fz=function(x){return.3*x.o+.59*x.r+.11*x.z};r.NV=function(x){return Math.max(x.o,x.r,x.z)-Math.min(x.o,x.r,x.z)};
r.Ns=function(x,F,W){return.3*x+.59*F+.11*W};r.aAS=function(x,F,W){return Math.max(x,F,W)-Math.min(x,F,W)};
r.pN=function(x,F){var W=F-x,n=Math.abs(W),L=W-1,$=W+1;if(Math.abs(L)<n)W=L;else if(Math.abs($)<n)W=$;
return W};r.sW=function(x){return x<.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055};r.kB=function(x){return x<.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)};
r.avu=function(x,F){var W=Math.min(x.length,F.length);for(var w=0;w<W;w+=4){var n=x[w],L=x[w+1],$=x[w+2];
F[w]=16+Math.floor(65.481/255*n+128.553/255*L+24.966/255*$+.5);F[w+1]=128-Math.floor(37.797/255*n-74.203/255*L+112/255*$+.5);
F[w+2]=128+Math.floor(112/255*n-93.786/255*L-18.214/255*$+.5);F[w+3]=x[w+3]}};r.aBh=function(x,F,W){var n,L,$,l=Math.max(x,F,W),k=Math.min(x,F,W);
$=l;if(l!=0)L=(l-k)/l;else L=0;if(L==0)n=0;else{var V=l-k,i=(l-x)/V,f=(l-F)/V,X=(l-W)/V;if(x==l)n=X-f;
else if(F==l)n=2+i-X;else n=4+f-i;n*=1/6;if(n<0)n=n+1}return{eD:n,TR:L,z:$}};r.atR=function(x,F,W){var n=0,L=0,$=0;
if(F==0)n=L=$=W;else{var l=(x-Math.floor(x))*6,k=Math.floor(l),V=l-Math.floor(l),i=W*(1-F),f=W*(1-F*V),X=W*(1-F*(1-V));
switch(k){case 0:n=W;L=X;$=i;break;case 1:n=f;L=W;$=i;break;case 2:n=i;L=W;$=X;break;case 3:n=i;L=f;
$=W;break;case 4:n=X;L=i;$=W;break;case 5:n=W;L=i;$=f;break}}return{o:n,r:L,z:$}};r.Cl=function(x,F,W){var n=Math.max(x,F,W),L=Math.min(x,F,W),$=0,l=0,k=(n+L)*.5;
if(n!=L){var V=n-L;l=k>.5?V/(2-(n+L)):V/(n+L);switch(n){case x:$=(F-W)/V+(F<W?6:0);break;case F:$=(W-x)/V+2;
break;case W:$=(x-F)/V+4;break}$*=1/6}return{eD:$,TR:l,XY:k}};r.Eh=function(x,F,W){var n,L,$;if(F==0)n=L=$=W;
else{var l=W<.5?W*(1+F):W+F-W*F,k=2*W-l;n=r.E8(k,l,x+1/3);L=r.E8(k,l,x);$=r.E8(k,l,x-1/3)}return{o:n,r:L,z:$}};
r.E8=function(x,F,W){if(W<0)W+=1;if(W>1)W-=1;if(W<1/6)return x+(F-x)*6*W;if(W<1/2)return F;if(W<2/3)return x+(F-x)*(2/3-W)*6;
return x};r.uO=function(x,F,W){var n=Math.max(x,F,W),L=Math.min(x,F,W),$,l,k=n,V=n-L;l=n==0?0:V/n;if(n==L)$=0;
else{switch(n){case x:$=(F-W)/V+(F<W?6:0);break;case F:$=(W-x)/V+2;break;case W:$=(x-F)/V+4;break}$*=1/6}return{eD:$,TR:l,_M:k}};
r.zi=function(x,F,W){var n,L,$,w,l,k,V,i;w=Math.floor(x*6);l=x*6-w;k=W*(1-F);V=W*(1-l*F);i=W*(1-(1-l)*F);
switch(w%6){case 0:n=W,L=i,$=k;break;case 1:n=V,L=W,$=k;break;case 2:n=k,L=W,$=i;break;case 3:n=k,L=V,$=W;
break;case 4:n=i,L=k,$=W;break;case 5:n=W,L=k,$=V;break}return{o:n,r:L,z:$}};r.NT=function(){var x=[],F=[];
for(var w=0;w<8e3;w++){var W=w*(1/4e3);x[w]=r.kB(W);F[w]=W>.008856?Math.pow(W,1/3):(903.3*W+16)*(1/116)}return[x,F]}();
r.YX=function(x,F,W,n){if(n==null)n=[.9642,1,.8249];var L=r.NT[0],$=r.NT[1];x=L[~~(.5+x*(4e3/255))];
F=L[~~(.5+F*(4e3/255))];W=L[~~(.5+W*(4e3/255))];var l=r.L5.awS,k=l[0]*x+l[1]*F+l[2]*W,V=l[4]*x+l[5]*F+l[6]*W,i=l[8]*x+l[9]*F+l[10]*W;
k=k*(1/n[0]);V=V*(1/n[1]);i=i*(1/n[2]);return r.a0d(k,V,i)};r.a0d=function(x,F,W){var n=r.NT[1],L=n[~~(.5+x*4e3)],$=n[~~(.5+F*4e3)],l=n[~~(.5+W*4e3)];
return{$_:116*$-16,V:500*(L-$),z:200*($-l)}};r.Qo=function(x,F,W){var n=903.3,L=.008856,$=(x+16)/116,l=$*$*$,k=$-W/200,V=k*k*k,i=F/500+$,f=i*i*i,X=V>L?V:(116*k-16)/n,s=l>L?l:(116*$-16)/n,R=f>L?f:(116*i-16)/n,h=R*96.42,B=s*100,e=X*82.49,U=r.L5.se(r.L5.RV,[h/100,B/100,e/100,0]);
for(var w=0;w<4;w++)U[w]=Math.max(0,Math.min(255,r.sW(U[w])*255));return{o:U[0],r:U[1],z:U[2]}};r.a2U=function(x,F,W,n,L){var $=x.$_,l=x.V,k=x.z,V=($<F.$_?F.$_-$:W.$_<$?W.$_-$:0)*(1/100),i=(l<F.V?F.V-l:W.V<l?W.V-l:0)*(1/116),f=(k<F.z?F.z-k:W.z<k?W.z-k:0)*(1/116),X=Math.sqrt(V*V+i*i+f*f)*1.35;
return X<=n?Math.min(1,1.17*(1-X*L)):0};r.go=function(x){var F=r.HM("cmykToRgb"),W=F[2],n=F[3],L=[0,0,0,0];
ICC.U.applyLUT4Float(n,W,x,L);return L};r.a4v=function(){var x=function(dx){return Math.round(dx*255)},F="",W=3;
for(var w=0;w<tab.length;w++){var n=x(tab[w]);if(W<=w)n=n-x(tab[w-W])+256&255;F+=n.toString(16).padStart(2,"0")}return F};
r.HM=function(x){var F=LUTS["_"+x];if(F==null){var W=LUTS[x],n=W[0],dx=W[1],L=W[2],$=W[3],l=[];for(var w=0;
w<$.length;w+=2)l.push(parseInt($.slice(w,w+2),16));for(var w=dx;w<l.length;w++)l[w]=l[w]+l[w-dx]&255;
for(var w=0;w<l.length;w++)l[w]*=1/255;F=LUTS["_"+x]=[n,dx,L,l]}return F};r.yC=function(x){var F=r.HM("rgbToCmyk"),W=F[2],n=F[3],L=[0,0,0,0];
ICC.U.applyLUT3to4Float(n,W,x,L);return L};r.acK=function(x){for(var w=0;w<x.length;w+=4){var F=[x[w+0]*(1/255),x[w+1]*(1/255),x[w+2]*(1/255)],W=r.yC(F);
x[w+0]=255-Math.floor(.5+W[0]*255);x[w+1]=255-Math.floor(.5+W[1]*255);x[w+2]=255-Math.floor(.5+W[2]*255);
x[w+3]=255-Math.floor(.5+W[3]*255)}};r.ad=function(x,F,W){var n=x.length,L=.3,$=.59,l=.11;if(W){L=W[0];
$=W[1];l=W[2]}for(var w=0;w<n;w+=4)F[w>>2]=~~(x[w+0]*L+x[w+1]*$+x[w+2]*l+.5)};r.Mi=function(x,F){var W=F.length;
for(var w=0;w<W;w+=4){var n=x[w>>>2];F[w]=n;F[w+1]=n;F[w+2]=n}};r.qe=function(x,F){var W=x.V,n=x.o,L=x.r,$=x.z,l=Math.min(x.V.length,F.buffer.byteLength>>>2),k=4*Math.floor(l/4),V=new Uint32Array(F.buffer),i=new Uint32Array(W.buffer),f=new Uint32Array(n.buffer),X=new Uint32Array(L.buffer),s=new Uint32Array($.buffer);
for(var w=0;w<k;w+=4){var R=i[w>>2],h=s[w>>2],B=X[w>>2],e=f[w>>2];V[w]=R<<24|(h&255)<<16|(B&255)<<8|e&255;
V[w+1]=(R&65280)<<16|(h&65280)<<8|B&65280|(e&65280)>>>8;V[w+2]=(R&16711680)<<8|h&16711680|(B&16711680)>>>8|(e&16711680)>>>16;
V[w+3]=R&4278190080|(h&4278190080)>>>8|(B&4278190080)>>>16|(e&4278190080)>>>24}for(var w=k;w<l;w++)V[w]=W[w]<<24|$[w]<<16|L[w]<<8|n[w]};
r.G6=function(x,F){var W=F.V,n=F.o,L=F.r,$=F.z,l=Math.min(F.V.length,x.buffer.byteLength>>>2),k=4*Math.floor(l/4),V=new Uint32Array(x.buffer),i=new Uint32Array(W.buffer),f=new Uint32Array(n.buffer),X=new Uint32Array(L.buffer),s=new Uint32Array($.buffer);
for(var w=0;w<k;w+=4){var R=V[w],h=V[w+1],B=V[w+2],e=V[w+3];f[w>>2]=R&255|(h&255)<<8|(B&255)<<16|e<<24;
X[w>>2]=(R&65280)>>8|h&65280|(B&65280)<<8|(e&65280)<<16;s[w>>2]=(R&16711680)>>16|(h&16711680)>>8|B&16711680|(e&16711680)<<8;
i[w>>2]=R>>>24|h>>>24<<8|B>>>24<<16|e&4278190080}for(var w=k;w<l;w++){var U=V[w];n[w]=U>>0&255;L[w]=U>>8&255;
$[w]=U>>16&255;W[w]=U>>24&255}};r.Tb=function(x,F,W){var n=new Uint8Array(x.buffer),L=Math.min(n.length/4,F.length);
for(var w=0;w<L;w++){F[w]=n[(w<<2)+W]}};r.rW=function(x,F,W){var n=new Uint8Array(F.buffer),L=new Uint32Array(x.buffer),$=Math.min(n.length/4,x.length),w=0;
while(w+4<$){var l=L[w>>>2];n[(w<<2)+W]=l&255;n[(w<<2)+W+4]=l>>>8&255;n[(w<<2)+W+8]=l>>>16&255;n[(w<<2)+W+12]=l>>>24;
w+=4}while(w<$){n[(w<<2)+W]=x[w];w++}};r.De=function(x,F,W){if(W==null)W=0;var n=new Uint32Array(x.buffer),L=n.length;
for(var w=0;w<L;w++)n[w]=n[w]&W|F};r.aij=function(x,F,W,n,L){if(L==null)L=0;var $=new Uint32Array(x.buffer);
W=W.jB(F);var l=W.x-F.x,k=W.y-F.y,V=W.m,i=W.e,f=F.m;for(var X=0;X<i;X++){var w=(k+X)*f+l;for(var s=0;
s<V;s++){$[w]=$[w]&L|n;w++}}};r.Bj=function(x,F){var W=Math.min(x.buffer.byteLength,F.buffer.byteLength),n=W>>>2,x=new Uint32Array(x.buffer,0,n),F=new Uint32Array(F.buffer,0,n);
F.set(x)};r.rr=function(x,F){var W=x.buffer.byteLength,n=F.buffer.byteLength,L=new Uint32Array(x.buffer,0,W>>2),$=new Uint32Array(F.buffer,0,n>>2);
if(W!=n)return!1;var l=L.length;for(var w=0;w<l;w++)if($[w]!=L[w])return!1;return!0};r.sx=function(x){var F=new Uint32Array(x.buffer),W=F.length;
for(var w=0;w<W;w++)F[w]=~F[w]};r.adK=function(x){var F=x.length;for(var w=0;w<F;w+=4){x[w]=~x[w];x[w+1]=~x[w+1];
x[w+2]=~x[w+2]}};r.acM=function(x){var F=x.length;for(var w=3;w<F;w+=4)x[w]=~x[w]};r.ajC=function(x){return x+(x%4==0?0:4-x%4)};
r.R=function(x,F){if(F==null)F=!1;if(!F)x=r.ajC(x);try{var W=new Uint8Array(x)}catch(ii){alert("Not enough RAM! (need "+Math.round(x/(1<<20))+" MB)",7e3);
throw"low_ram"}return W};r.apm=function(x,F,W,n){if(n==null)n=0;var L=0;while(L+3<x.length&&x[L+3].P()>=n&&F.NX()*(1<<(L>>>1))<W)L+=2;
var $=x[1],l=x[L+1],k=new iJ;k.translate(-$.x,-$.y);k.scale($.m/l.m,$.e/l.e);k.translate($.x,$.y);k.concat(F);
return[L,k]};r.Bh=function(x){var F=x.length,W=x[F-2],n=x[F-1];while(n.m>=2&&n.e>=2){var L=r.gR(W,n);
x.push(L.Xu,L.rect);W=L.Xu;n=L.rect}};r.kP=function(x){var F=x.length,W=x[F-2],n=x[F-1];while(n.m>=2&&n.e>=2){var L=r.WM(W,n);
x.push(L.Xu,L.rect);W=L.Xu;n=L.rect}};r.gR=function(x,F,W){var n=F.m,L=F.e,$=n>>1,l=L>>1,k=new eu(F.x,F.y,$,l),V=W&&W.length==$*l*4?W:r.R($*l*4),i=new Uint32Array(x.buffer),f=new Uint32Array(V.buffer);
for(var X=0;X<l;X++)for(var s=0;s<$;s++){var R=X*$+s,h=(X<<1)*n+(s<<1),B=i[h],e=i[h+1],U=i[h+n],o=i[h+n+1],b=B>>>24,u=e>>>24,Z=U>>>24,I=o>>>24,y=b+u+Z+I;
if(y==1020){var D=(B>>>0&255)+(e>>>0&255)+(U>>>0&255)+(o>>>0&255)+2>>>2,N=(B>>>8&255)+(e>>>8&255)+(U>>>8&255)+(o>>>8&255)+2>>>2,j=(B>>>16&255)+(e>>>16&255)+(U>>>16&255)+(o>>>16&255)+2>>>2;
f[R]=255<<24|j<<16|N<<8|D}else if(y==0)f[R]=0;else{var D=(B>>>0&255)*b+(e>>>0&255)*u+(U>>>0&255)*Z+(o>>>0&255)*I,N=(B>>>8&255)*b+(e>>>8&255)*u+(U>>>8&255)*Z+(o>>>8&255)*I,j=(B>>>16&255)*b+(e>>>16&255)*u+(U>>>16&255)*Z+(o>>>16&255)*I,H=1/y;
D=~~(D*H+.5);N=~~(N*H+.5);j=~~(j*H+.5);f[R]=y+2>>>2<<24|j<<16|N<<8|D}}return{rect:k,Xu:V}};r.aAt=function(x,F,W){var n=F.m,L=F.e,$=n>>1,l=L>>1,k=new eu(F.x,F.y,$,l),V=W&&W.length==$*l*4?W:r.R($*l*4),i=new Uint32Array(x.buffer),f=new Uint32Array(V.buffer);
for(var X=0;X<l;X++)for(var s=0;s<$;s++){var R=X*$+s,h=(X<<1)*n+(s<<1),B=i[h],e=i[h+1],U=i[h+n],o=i[h+n+1],b=2+(B>>>0&255)+(e>>>0&255)+(U>>>0&255)+(o>>>0&255)>>>2,u=2+(B>>>8&255)+(e>>>8&255)+(U>>>8&255)+(o>>>8&255)>>>2,Z=2+(B>>>16&255)+(e>>>16&255)+(U>>>16&255)+(o>>>16&255)>>>2,I=2+(B>>>24&255)+(e>>>24&255)+(U>>>24&255)+(o>>>24&255)>>>2;
f[R]=I<<24|Z<<16|u<<8|b}return{rect:k,Xu:V}};r.ayM=function(x,F,W){var n=F.m,L=F.e,$=2*Math.floor(n/3),l=2*Math.floor(L/3),k=new eu(F.x,F.y,$,l),V=W&&W.length==$*l*4?W:r.R($*l*4),i=new Uint32Array(x.buffer),f=new Uint32Array(V.buffer);
for(var X=0;X<l;X+=2)for(var s=0;s<$;s+=2){var R=X*$+s,h=(X*3>>>1)*n+(s*3>>>1),B=i[h],e=i[h+1],U=i[h+2],o=i[h+n],b=i[h+1+n],u=i[h+2+n],Z=i[h+n+n],I=i[h+1+n+n],y=i[h+2+n+n],D=B>>>24<<2,N=(B>>>16&255)*D,j=(B>>>8&255)*D,H=(B&255)*D,Q=e>>>24<<1,C=(e>>>16&255)*Q,J=(e>>>8&255)*Q,E=(e&255)*Q,T=U>>>24<<2,c=(U>>>16&255)*T,a=(U>>>8&255)*T,K=(U&255)*T,Y=o>>>24<<1,p=(o>>>16&255)*Y,P=(o>>>8&255)*Y,m=(o&255)*Y,z=b>>>24,M=(b>>>16&255)*z,d=(b>>>8&255)*z,A=(b&255)*z,G=u>>>24<<1,kB=(u>>>16&255)*G,q=(u>>>8&255)*G,fO=(u&255)*G,g=Z>>>24<<2,jN=(Z>>>16&255)*g,c6=(Z>>>8&255)*g,a7=(Z&255)*g,bd=I>>>24<<1,ey=(I>>>16&255)*bd,c5=(I>>>8&255)*bd,bx=(I&255)*bd,ap=y>>>24<<2,fC=(y>>>16&255)*ap,kE=(y>>>8&255)*ap,bm=(y&255)*ap,fe=D+Q+Y+z,g8=T+Q+G+z,e0=g+bd+Y+z,cF=ap+bd+G+z,ei=fe==0?0:1/fe,cr=g8==0?0:1/g8,e_=e0==0?0:1/e0,gg=cF==0?0:1/cF,bW=0,gx=0,h$=0,dH=0;
bW=~~(.5+(H+E+m+A)*ei);gx=~~(.5+(j+J+P+d)*ei);h$=~~(.5+(N+C+p+M)*ei);dH=~~(.5+fe*(1/9));f[R]=dH<<24|h$<<16|gx<<8|bW;
bW=~~(.5+(K+E+fO+A)*cr);gx=~~(.5+(a+J+q+d)*cr);h$=~~(.5+(c+C+kB+M)*cr);dH=~~(.5+g8*(1/9));f[R+1]=dH<<24|h$<<16|gx<<8|bW;
bW=~~(.5+(a7+bx+m+A)*e_);gx=~~(.5+(c6+c5+P+d)*e_);h$=~~(.5+(jN+ey+p+M)*e_);dH=~~(.5+e0*(1/9));f[R+$]=dH<<24|h$<<16|gx<<8|bW;
bW=~~(.5+(bm+bx+fO+A)*gg);gx=~~(.5+(kE+c5+q+d)*gg);h$=~~(.5+(fC+ey+kB+M)*gg);dH=~~(.5+cF*(1/9));f[R+$+1]=dH<<24|h$<<16|gx<<8|bW}return{rect:k,Xu:V}};
r.aa6=function(x,F,W){var n=F.m,L=F.e,$=2*Math.floor(n/3),l=2*Math.floor(L/3),k=new eu(F.x,F.y,$,l),V=W&&W.length==$*l*4?W:r.R($*l*4),i=new Uint32Array(x.buffer),f=new Uint32Array(V.buffer);
for(var X=0;X<l;X+=2)for(var s=0;s<$;s+=2){var R=X*$+s,h=(X*3>>>1)*n+(s*3>>>1),B=i[h],e=i[h+1],U=i[h+2],o=i[h+n],b=i[h+1+n],u=i[h+2+n],Z=i[h+n+n],I=i[h+1+n+n],y=i[h+2+n+n],D=(B>>>16&255)<<2,N=(B>>>8&255)<<2,j=(B&255)<<2,H=(e>>>16&255)<<1,Q=(e>>>8&255)<<1,C=(e&255)<<1,J=(U>>>16&255)<<2,E=(U>>>8&255)<<2,T=(U&255)<<2,c=(o>>>16&255)<<1,a=(o>>>8&255)<<1,K=(o&255)<<1,Y=b>>>16&255,p=b>>>8&255,P=b&255,m=(u>>>16&255)<<1,z=(u>>>8&255)<<1,M=(u&255)<<1,d=(Z>>>16&255)<<2,A=(Z>>>8&255)<<2,G=(Z&255)<<2,kB=(I>>>16&255)<<1,q=(I>>>8&255)<<1,fO=(I&255)<<1,g=(y>>>16&255)<<2,jN=(y>>>8&255)<<2,c6=(y&255)<<2,a7=0,bd=0,ey=0;
a7=~~(.5+(j+C+K+P)*(1/9));bd=~~(.5+(N+Q+a+p)*(1/9));ey=~~(.5+(D+H+c+Y)*(1/9));f[R]=255<<24|ey<<16|bd<<8|a7;
a7=~~(.5+(T+C+M+P)*(1/9));bd=~~(.5+(E+Q+z+p)*(1/9));ey=~~(.5+(J+H+m+Y)*(1/9));f[R+1]=255<<24|ey<<16|bd<<8|a7;
a7=~~(.5+(G+fO+K+P)*(1/9));bd=~~(.5+(A+q+a+p)*(1/9));ey=~~(.5+(d+kB+c+Y)*(1/9));f[R+$]=255<<24|ey<<16|bd<<8|a7;
a7=~~(.5+(c6+fO+M+P)*(1/9));bd=~~(.5+(jN+q+z+p)*(1/9));ey=~~(.5+(g+kB+m+Y)*(1/9));f[R+$+1]=255<<24|ey<<16|bd<<8|a7}return{rect:k,Xu:V}};
r.aa=function(x){var F=255,W=x.length;W-=W&31;for(var w=3;w<W;w+=32)F=F&x[w]&x[w+4]&x[w+8]&x[w+12]&x[w+16]&x[w+20]&x[w+24]&x[w+28];
return F!=255};r.xt=function(x,F,W,n){var L=r.gR,$=r.ayM;if(!r.aa(x)){L=r.aAt;$=r.aa6}var l={Xu:x,rect:F},k=r.y2(W);
for(var w=0;w<k.length;w++){if(k[w]==2)l=L(l.Xu,l.rect,n);else l=$(l.Xu,l.rect,n)}return l};r.a00=function(x,F,W,n){var L=r.WM,$=r.auv,l={Xu:x,rect:F},k=r.y2(W);
for(var w=0;w<k.length;w++){if(k[w]==2)l=L(l.Xu,l.rect,n);else l=$(l.Xu,l.rect,n)}return l};r.y2=function(x){var F=[],W=x;
while(W<.499){F.push(2);W*=2}F.push(W<.5001?2:3);return F};r.WM=function(x,F,W){var n=F.m,L=F.e,$=n>>1,l=L>>1,k=new eu(F.x,F.y,$,l);
if(x==null)return{rect:k};var V=W&&W.length>=$*l?W:r.R($*l);for(var i=0;i<l;i++){var f=i*$;for(var X=0;
X<$;X++){var s=(i<<1)*n+(X<<1);V[f+X]=2+x[s]+x[s+1]+x[s+n]+x[s+n+1]>>>2}}return{rect:k,Xu:V}};r.auv=function(x,F,W){var n=F.m,L=F.e,$=2*Math.floor(n/3),l=2*Math.floor(L/3),k=new eu(F.x,F.y,$,l);
if(x==null)return{rect:k};var V=W&&W.length>=$*l?W:r.R($*l);for(var i=0;i<l;i+=2)for(var f=0;f<$;f+=2){var X=i*$+f,s=(i*3>>>1)*n+(f*3>>>1),R=x[s]<<2,h=x[s+1]<<1,B=x[s+2]<<2,e=x[s+n]<<1,U=x[s+1+n],o=x[s+2+n]<<1,b=x[s+n+n]<<2,u=x[s+1+n+n]<<1,Z=x[s+2+n+n]<<2;
V[X]=~~(.5+(R+h+e+U)*(1/9));V[X+1]=~~(.5+(B+h+o+U)*(1/9));V[X+$]=~~(.5+(b+u+e+U)*(1/9));V[X+$+1]=~~(.5+(Z+u+o+U)*(1/9))}return{rect:k,Xu:V}};
r.amQ=function(x,F,W,n,L){var $=F.jB(n);if(L)$=$.jB(L);var l=Math.max(0,$.x-F.x),k=Math.max(0,$.x-n.x),V=Math.max(0,$.y-F.y),i=Math.max(0,$.y-n.y),f=$.m,X=$.e;
for(var w=0;w<X;w++){var s=(V+w)*F.m+l,R=(i+w)*n.m+k;for(var h=0;h<f;h++){W[R+h]=Math.max(W[R+h],x[s+h])}}};
r.Hz=function(x,F,W,n,L){var $=F.jB(n);if(L)$=$.jB(L);var l=Math.max(0,$.x-F.x),k=Math.max(0,$.x-n.x),V=Math.max(0,$.y-F.y),i=Math.max(0,$.y-n.y),f=$.m,X=$.e;
for(var w=0;w<X;w++){var s=(V+w)*F.m+l,R=(i+w)*n.m+k;W.set(new Uint8Array(x.buffer,s,f),R)}};r.aos=function(x,F,W,n){if(F.rr(n)){r.rW(x,W,3);
return}var L=F.jB(n),$=Math.max(0,L.x-F.x),l=Math.max(0,L.x-n.x),k=Math.max(0,L.y-F.y),V=Math.max(0,L.y-n.y),i=L.m,f=L.e;
for(var w=0;w<f;w++){var X=(k+w)*F.m+$,s=(V+w)*n.m+l;for(var R=0;R<i;R++)W[(s+R<<2)+3]=x[X+R]}};r.uM=function(x,F,W,n){var L=F.jB(n),$=Math.max(0,L.x-F.x),l=Math.max(0,L.x-n.x),k=Math.max(0,L.y-F.y),V=Math.max(0,L.y-n.y),i=L.m,f=L.e;
for(var w=0;w<f;w++){var X=(k+w)*F.m+$,s=(V+w)*n.m+l;for(var R=0;R<i;R++)W[s+R]=x[(X+R<<2)+3]}};r.sh=function(x,F,W,n,L){if(F.rr(n)&&(L==null||L.rr(n))){r.Bj(x,W);
return}x=new Uint32Array(x.buffer),W=new Uint32Array(W.buffer);var $=F.jB(n);if(L)$=$.jB(L);var l=Math.max(0,$.x-F.x),k=Math.max(0,$.x-n.x),V=Math.max(0,$.y-F.y),i=Math.max(0,$.y-n.y),f=$.m,X=$.e,s=f&3,R=s==0?f:f-s;
for(var w=0;w<X;w++){var h=(V+w)*F.m+l,B=(i+w)*n.m+k;W.set(new Uint32Array(x.buffer,h*4,f),B)}};r.ul=function(x,F,W,n){var L=F.jB(n),$=Math.max(0,L.x-F.x),l=Math.max(0,L.x-n.x),k=Math.max(0,L.y-F.y),V=Math.max(0,L.y-n.y),i=L.m,f=L.e,X=x.V,s=x.o,R=x.r,h=x.z,B=W.V,e=W.o,U=W.r,o=W.z;
for(var w=0;w<f;w++){var b=(k+w)*F.m+$,u=(V+w)*n.m+l;for(var Z=0;Z<i;Z++){B[u+Z]=X[b+Z];e[u+Z]=s[b+Z];
U[u+Z]=R[b+Z];o[u+Z]=h[b+Z]}}};r.M1=function(x){var F=x.length;for(var w=0;w<F;w+=4){var W=x[w+3];if(W==255)continue;
x[w]=~~(x[w]*W*(1/255)+.5);x[w+1]=~~(x[w+1]*W*(1/255)+.5);x[w+2]=~~(x[w+2]*W*(1/255)+.5)}};r._E=function(x){var F=x.length;
for(var w=0;w<F;w+=4){var W=x[w+3];if(W==0||W==255)continue;var n=255/W;x[w]=~~(x[w]*n+.5);x[w+1]=~~(x[w+1]*n+.5);
x[w+2]=~~(x[w+2]*n+.5)}};r.k4=function(x,F){for(var w=0;w<x.length;w++)if(x[w]!=F)return!1;return!0};
r.$0=function(x){return x+1+(x>>>8)>>>8};r.round=function(x,F){if(F==null)F=128;var W=x.length;for(var w=0;
w<W;w++)x[w]=x[w]<F?0:255};r.LH=function(x,F){var W=x.length;for(var w=0;w<W;w++)x[w]=Math.round(x[w]*F)};
r.RF=function(x,F){var W=new Uint32Array(x.buffer),n=new Uint32Array(F.buffer),L=W.length;for(var w=0;
w<L;w++){var $=W[w],l=n[w];n[w]=r.$0(($>>>24)*(l>>>24))<<24|r.$0(($>>>16&255)*(l>>>16&255))<<16|r.$0(($>>>8&255)*(l>>>8&255))<<8|r.$0(($&255)*(l&255))}};
r.Wz=function(x,F){var W=x.length;for(var w=0;w<W;w++)F[(w<<2)+3]=r.$0(F[(w<<2)+3]*x[w])};r.aj1=function(x,F,W,n){var L=Math.max(0,n.x-F.x),$=Math.max(0,F.x-n.x),l=Math.max(0,n.y-F.y),k=Math.max(0,F.y-n.y),V=Math.min(F.x+F.m,n.x+n.m)-Math.max(F.x,n.x),i=Math.min(F.y+F.e,n.y+n.e)-Math.max(F.y,n.y);
for(var w=0;w<i;w++){var f=(l+w)*F.m+L,X=(k+w)*n.m+$;for(var s=0;s<V;s++){W[X]=r.$0(W[X]*x[f]);f++;X++}}};
r.L7=function(x,F,W,n){var L=Math.max(0,n.x-F.x),$=Math.max(0,F.x-n.x),l=Math.max(0,n.y-F.y),k=Math.max(0,F.y-n.y),V=Math.min(F.x+F.m,n.x+n.m)-Math.max(F.x,n.x),i=Math.min(F.y+F.e,n.y+n.e)-Math.max(F.y,n.y);
for(var w=0;w<i;w++){var f=(l+w)*F.m+L,X=((k+w)*n.m+$<<2)+3;for(var s=0;s<V;s++){W[X]=r.$0(W[X]*x[f]);
f++;X+=4}}};r.dk=function(x,F,W,n){var L=Math.max(0,n.x-F.x),$=Math.max(0,F.x-n.x),l=Math.max(0,n.y-F.y),k=Math.max(0,F.y-n.y),V=Math.min(F.x+F.m,n.x+n.m)-Math.max(F.x,n.x),i=Math.min(F.y+F.e,n.y+n.e)-Math.max(F.y,n.y);
for(var w=0;w<i;w++){var f=((l+w)*F.m+L<<2)+3,X=((k+w)*n.m+$<<2)+3;for(var s=0;s<V;s++){W[X]=r.$0(W[X]*x[f]);
f+=4;X+=4}}};r.uE=function(x,F){if(F==null)F=1;var W=4*F,n=x.length>>>2,L=new Float64Array(256),$=new Float64Array(256),l=new Float64Array(256),k=new Float64Array(256),V=4*Math.floor(n/F)*F,i=0;
for(var w=0;w<V;w+=W){var f=x[w+0],X=x[w+1],s=x[w+2],R=x[w+3]*F,h=R*(1/255);$[f]+=h;l[X]+=h;k[s]+=h;
i+=R}for(var w=0;w<256;w++)L[w]=$[w]+l[w]+k[w];return[L,$,l,k,n,i/255]};r.axj=function(x,F){function W(I,y){var D=-1,N=0;
while(N<=y){D++;N+=I[D]}return D}function n(I,y){var D=256,N=0;while(N<=y){D--;N+=I[D]}return D}function L(I){var y=0,D=0;
for(var w=0;w<256;w++){D+=I[w];y+=I[w]*w*(1/255)}return y/D}var $=x[0],l=x[1]/100,k=x[2]/100,V=[],i=[];
for(var w=0;w<4;w++){var f=w==0?3:1;V[w]=W(F[w],f*l*F[5]);i[w]=n(F[w],f*k*F[5])}var X=[L(F[1]),L(F[2]),L(F[3])],s=X.slice(0);
s.sort(function(I,y){return I-y});var R=X.indexOf(s[1]),h=(X[0]+X[1]+X[2])/3,B=[];for(var w=0;w<4;w++){var e=0,U=255,o=V[w],b=i[w];
if($==0&&w==0){e=o;U=b}if($==1&&w!=0){e=o;U=b}if($==2&&w!=0){var f=X[w-1]/h;U=Math.max(0,Math.min(255,i[R]*f))}var u=[e,U];
B.push(u);if($==3&&w==0){var Z=255*(1-h);u.push(Z)}}return B};r.a69=function(x,F){var W=new Uint32Array(x.buffer),n=W.length;
for(var w=0;w<n;w++){var L=W[w],$=L&255,l=L>>8&255,k=L>>16&255,V=L>>24&255;W[w]=F[$]|F[l]<<8|F[k]<<16|F[V]<<24}};
r.arF=function(x,F,W,n,L,$,l){var k=new Uint32Array(x.buffer),V=new Uint32Array(F.buffer),i=k.length,f=0;
while(256<<f<W.length)f++;if(!l&&!$){for(var w=0;w!=i;w++){var X=k[w],s=(X&255)<<f,R=(X>>>8&255)<<f,h=(X>>>16&255)<<f,B=W[s],e=n[R],U=L[h];
V[w]=B|e<<8|U<<16|X&4278190080}return}for(var w=0;w<i;w++){var X=k[w],s=(X&255)<<f,R=(X>>>8&255)<<f,h=(X>>>16&255)<<f;
if($)s=R=h=Math.round(s*.3+R*.59+h*.11);var B=W[s],e=n[R],U=L[h];if(l){var o=r.Ns(s,R,h),b=r.Ns(B,e,U);
if(o>b){var u=(o-b)/(255-b);B+=u*(255-B);e+=u*(255-e);U+=u*(255-U)}else if(b==0)B=e=U=0;else{var u=o/b;
B=u*B;e=u*e;U=u*U}}V[w]=B|e<<8|U<<16|X&4278190080}};r.c_=function(x,F){var W=F.m,n=F.e,top=0,L=0,$=0,l=0,k=0;
k=0;for(var V=0;V<n;V++){var i=V*W;for(var w=0;w<W;w++)k|=x[i+w];if(k!=0)break;top++}if(top==n)return new eu(0,0,0,0);
k=0;for(var V=n-1;V>=0;V--){var i=V*W;for(var w=0;w<W;w++)k|=x[i+w];if(k!=0)break;$++}var f=n-$;k=0;
for(var w=0;w<W;w++){for(var V=top;V<f;V++)k|=x[V*W+w];if(k!=0)break;L++}k=0;for(var w=W-1;w>=0;w--){for(var V=top;
V<f;V++)k|=x[V*W+w];if(k!=0)break;l++}var X=new eu(F.x+L,F.y+top,W-L-l,n-top-$);return X};r.M5=function(x,F,W,n,L){if(n==null)n=[!0,!0,!0,!0];
if(W==null)W=0;if(L==null)L=4294967295;var $=new Uint32Array(x.buffer),l=F.m,k=F.e,top=0,V=0,i=0,f=0,X=!1,s=[$[0],$[$.length-1],0][W];
X=!1;if(n[0])for(var R=0;R<k;R++){var h=R*l;for(var w=0;w<l;w++)if($[h+w]&L^s)X=!0;if(X)break;top++}X=!1;
if(n[2])for(var R=k-1;R>=0;R--){var h=R*l;for(var w=0;w<l;w++)if($[h+w]&L^s)X=!0;if(X)break;i++}X=!1;
if(n[1])for(var w=0;w<l;w++){for(var R=0;R<k;R++)if($[R*l+w]&L^s)X=!0;if(X)break;V++}X=!1;if(n[3])for(var w=l-1;
w>=0;w--){for(var R=0;R<k;R++)if($[R*l+w]&L^s)X=!0;if(X)break;f++}var B=new eu(F.x+V,F.y+top,l-V-f,k-top-i);
return B.ak()?new eu(0,0,0,0):B};r.iv=function(x){var F=r.c_(x.channel,x.rect);if(F.rr(x.rect))return;
var W=r.R(F.P());r.Hz(x.channel,x.rect,W,F);x.channel=W;x.rect=F};r.L4=function(x){var F=r.M5(x.buffer,x.rect,2,null,4278190080);
if(F.rr(x.rect))return;var W=new r.R(F.P()*4);r.sh(x.buffer,x.rect,W,F);x.buffer=W;x.rect=F};r.extend=function(x,F,W){if(x.rect.Ic(F))return;
var n=x.rect.oA(F),L=r.R(n.P());if(W!=null)L.fill(W);r.Hz(x.channel,x.rect,L,n);x.rect=n;x.channel=L};
r.ahG=function(x,F){if(F.ak()||x.rect.Ic(F))return;var W=x.rect.oA(F),n=r.R(W.P()*4);r.sh(x.buffer,x.rect,n,W);
x.rect=W;x.buffer=n};r.VY=function(x,F,W){if(!W.U4(x))return!1;var n=Math.floor(x.x)-W.x,L=Math.floor(x.y)-W.y,w=L*W.m+n;
return F[w]>128};r.afb=function(x,F,W){if(!W.U4(x))return!1;var n=Math.floor(x.x)-W.x,L=Math.floor(x.y)-W.y,w=L*W.m+n;
return F[4*w+3]>128};r.Yv=function(x){if(r.fr.length<x){r.fr=r.R(x);r.fr.fill(255)}return r.fr};r.fr=r.R(0);
r.I2=function(x){if(r.BB.length<x)r.BB=r.R(x);return r.BB};r.BB=r.R(0);r.Co=function(x){this.V=r.R(x);
this.o=r.R(x);this.r=r.R(x);this.z=r.R(x)};r.Co.prototype.clone=function(){var x=this.V.length,F=new r.Co(1);
F.V=this.V.slice(0);F.o=this.o.slice(0);F.r=this.r.slice(0);F.z=this.z.slice(0);return F};r.X.ajG=function(x,F,W,n,L){var $=L[0]+1,l=L[1],k=Math.abs(l-25)/4,V=L[2],i=V%2+V*V>>1,f=r.X.s;
f.pk(F,W);var X=f.d7(1),s=f.d7(1),R=f.d7(1);f.x3(x,n,V,V,i);f.aZ(n);f.Q6(n,X);f.pP(X,s,$,$,1);f.pP(X,R,$,$,$*$);
f.sub(R,s);f.RF(s,k);(l<25?f.sub:f.add)(X,s);f.Y$(s,n);f.It(n)};r.X.a0t=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);var l=L[0]*2.55,k=L[1],V=k>>1,i=L[2]*.25,f=$.d7(4),X=$.d7(1),s=$.d7(1);$.yQ(x,f,k,1,!0,V);
$.yQ(x,n,k,1,!1,V);$.hO(x,X);$.U2(X,l);$.Uw(X,s,3);$.f6(n,s,f);$.lT(f,n,i)};r.X.a55=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);$.ey(L[3]);var l=L[0]*-3+80,k=L[1]*-3+80,V=L[2]/2+.5,i=L[4],f=L[5],X=$.d7(1),s=$.d7(1),R=$.d7(1),h=$.d7(1),B=$.d7(4),e=$.d7(4);
$.hO(x,X);$.Bj(X,s);$.H6(X,k,5);$.aBe(X,.4,0);$.Uw(X,R,3);$.BU(R,X,9,3,!0,27);$.Bj(s,R);$.sx(R);var U=$.rx(l,5,R);
for(var w=0;w<$.fi;w++){s[w]=U[255-s[w]]}$.aBe(s,.4,0);$.Bj(s,R);$.Uw(R,h,2);$.BU(h,R,5,3,!1,15);$.RF(X,V);
$.RF(R,V);$.L8(n,2155905279);$.L8(e,i);$.L8(B,f);$.f6(e,X,n);$.f6(B,R,n)};r.X.ac6=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);var l=new Uint8Array(256),k=5+10*L[1];k+=L[1]>3?(L[1]-3)*10:0;var V=~~(L[2]*.73)+50,i=Math.min(V+k,128),f=i-V,X=-255*V;
for(var w=0;w<256;w++){var s=w*65;l[w]=$.fh(X/f);X+=255}var R=$.d7(1),h=$.d7(1),B=$.d7(1);$.hO(x,R);
$.Bj(R,B);$.Uw(R,h,2*L[0]+1);$.sub(h,R);$.RF(R,65);$.BU(R,h,9,3,!0,20);for(var w=0;w<$.fi;w++){var e=B[w],U=h[w];
R[w]=U>0?~~((U*e+(255-U)*128)/255):128}$.Uw(R,h,3);$.BU(h,R,15,2,!0,16);$.BU(h,B,15,2,!1,15);$.O3(R,B);
$.qv(B,h,2);$.ah(h,l);$.Uw(h,R,2);$.XU(R,n)};r.X.awR=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);var l=2*L[0]+1,k=$.aco[L[1]],V=L[2]*5.1,i=L[3],f=$.d7(1),X=$.d7(1),s=$.d7(4),R=$.d7(4);
$.L8(s,i);$.aZ(s,n);$.a7t(f,V);$.Y$(f,n);$.It(n,s);$.hO(x,X);$.Uw(X,f,l);$.sub(f,X);$.RF(X,k);$.BU(X,f,9,3,!0,20);
$.f6(x,f,s);$.o8(s,n,3);$.yQ(n,s,15,2,!0,16);$.yQ(n,R,15,2,!1,16);$.O3(s,R);$.lT(R,n,2)};r.X.aan=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);var l=(15-L[0])/4+1,k=(15-L[1])/4+1,V=L[2],i=L[3],f=$.mJ(L[4]),X=L[5]+1,s=L[6],R=L[7],h=L[8],B=$.d7(1),e=$.d7(1),U=$.d7(1),o=$.d7(1),b=$.d7(4),u=$.d7(4);
$.iP(U,V,i,s);$.hO(x,e);$.Uw(e,B,5);$.lb(U,B,o,X,f);$.RF(o,l);$.AZ(o,2);$.sx(B);$.lb(U,B,e,X,f);$.RF(e,k);
$.AZ(e,2);$.L8(b,2155905279);$.L8(u,R);$.L8(n,h);$.f6(b,e,u);$.f6(u,o,n)};r.X.a8_=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);$.ey(L[3]);var l=L[0],k=L[1]/10,V=L[2]/10,i=$.d7(1),f=$.d7(1),X=$.d7(1),s=$.eG(),R=$.eG(),h=$.eG();
$.sa(i);$.Uw(i,f,11);$.Uw(f,i,11);$.Ka(i,s);$.yP(x,i);$.Bj(i,X);$.Uw(i,f,9);$.Uw(f,i,9);$.Ka(i,R);$.cI(R,h,5);
$.cI(h,R,5);$.abJ(s,.8);$.aaX(s,R,.8,.9);$.a6A(R,i,l);$.pP(i,f,2,2,1);$.pP(f,i,2,2,3);$.pP(i,f,2,2,3);
$.pP(X,i,5,5,13);$.Yj(f,i,f,k);$.c8(i,f,f,V);$.lb(f,f,i,5,1);$.aZ(x,n);$.Y$(i,n);$.It(n)};r.X.aeQ=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);var l=L[0],k=L[1]/2,V=L[2],i=l/2,f=$.d7(4),X=$.d7(4);$.Bj(x,n);for(var s=0;s<V;s++){$.yQ(n,f,l,1,!0,i);
$.yQ(n,X,l,1,!1,i);$.O3(X,f);$.o8(f,X,2);$.lT(X,n,k)}};r.X.a9$=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);
var l=L[0]*10,k=L[1]*4.9,V=L[2]*4.9,i=$.d7(1),f=$.d7(1),X=$.d7(4),s=$.d7(4);$.hO(x,i);$.U2(i,$.aiV(i,l));
$.Uw(i,f,3);$.yQ(x,X,5,1,!1,1);$.yQ(x,n,15,2,!0,16);$.f6(n,f,X);$.aZ(X,n);$.Q6(n,i);$.H6(i,k,V);$.Y$(i,n);
$.It(n)};r.X.ata=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);$.ey(L[4]);var l=L[0]/20,k=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][L[1]],V=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][L[2]],i=L[3],f=new Int16Array(256);
for(var w=0;w<256;w++){f[w]=~~((w-128)*l)}var X=$.d7(1),s=$.d7(1),R=$.d7(4);$.hO(x,X);$.Uw(X,s,25);$.RF(s,k);
$.AZ(s,V);$.Uw(s,X,25);$.sa(s);$.aap(X,s,f);$.Bj(x,n);$.L8(R,i);$.f6(R,X,n)};r.X.aDd=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);var l=L[0]+5,k=15-L[1],V=l*l/2,i=1-(3-L[2])/10,f=~~(k*k*i-1),X=~~(k*k*(1-i));if(X==0)X=1;var s=$.d7(1),R=$.d7(1),h=$.d7(1),B=$.d7(4);
$.hO(x,h);$.pP(h,s,l,l,V);$.Uw(h,R,l);$.sub(s,R);$.U2(R,1);$.x3(x,B,k,k,f);$.x3(x,n,k,k,X);$.f6(B,R,n)};
r.X.alS=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);$.ey(L[3]);var l=(20-L[0])*.05,k=L[1]*-2.75+60,V=65-k,i=L[2]/10,f=$.d7(1),X=$.d7(1);
$.yP(x,X);var s=$.rx(k,V,X);$.aZ(x,n);$.Q6(n,X);$.sa(f);$.Ke(X,f,l);$.ah(X,s);$.RF(X,L[2]/10);$.add(f,X);
$.Y$(X,n);$.It(n)};r.X.afN=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);var l=5+L[0],k=15-L[1],V=L[2],i=l*l/2+l*l%2*1,f=1-(3-L[2])/10,X=~~(k*k*f-1),s=~~(k*k*(1-f));
if(s==0)s=1;var R=$.d7(1),h=$.d7(1),B=$.d7(1),e=$.d7(1),U=$.d7(1);$.yP(x,h);$.qv(h,R,3);$.pP(R,h,2,2,1);
var o=$.rx(20,20,h);$.ah(h,o);$.Uw(h,U,5);$.pP(U,R,l,l,i);$.pP(U,h,k,k,X);$.pP(U,B,k,k,s);$.Uw(U,e,l);
$.sub(R,e);$.U2(e,1);$.avd(h,e,B);$.aZ(x,n);$.Y$(B,n);$.It(n)};r.X.aAD=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);$.ey(L[5]);var l=$.fi,k=$.Yb,V=L[0],i=L[1],f=L[2],X=L[3],s=L[4],R=.05*V+1,h=V/100,B=V>>1,e=2*V-100,U=+(i==9),o=+(i==7),b=[4,1][U],u=[3,2][U],Z=[1,2][o],I=[2,1][o],y=[50,75][U],D=i<4?f:(f>>1)+50,N=$.apN(y,D),j=$.p5(X),H=$.p5(s),Q=$.d7(4),C=$.d7(4),J=$.d7(1),E=$.d7(1);
function T(n,N){if(D!=50){$.a8G(n,N)}}function c(x,kB){for(var w=0;w<l;w++){x[w]=$.fh(x[w]+(kB[w]-128)*h)}}function a(x,kB){for(var w=0,q=0;
w<l;w++){x[q]=$.fh(x[q]+(kB[q]-128)*h);x[q+1]=$.fh(x[q+1]+(kB[q+1]-128)*h);x[q+2]=$.fh(x[q+2]+(kB[q+2]-128)*h);
q+=4}}function K(x,n){$.sa(C);$.Bj(x,n);a(n,C);T(n,N)}function Y(kB){var q=0;for(var fO=0;fO<12;fO++)q+=$.random();
return $.fh(B*(q-6)+kB)}function p(x,n){$.Bj(x,n);for(var w=0;w<k;w+=4){n[w]=Y(n[w]);n[w+1]=Y(n[w+1]);
n[w+2]=Y(n[w+2])}T(n,N)}function P(x,n){$.Bj(x,n);for(var w=0;w<k;w+=4){if($.random()<h){n[w]=j[0];n[w+1]=j[1];
n[w+2]=j[2]}}T(n,N)}function m(x,n){$.sa(Q);$.x3(Q,C,u,u,b);$.Bj(x,Q);a(Q,C);$.x3(Q,n,5,5,13);T(n,N)}function z(x,n){$.sa(C);
$.Bj(x,Q);a(Q,C);T(n,N);$.x3(Q,n,u,u,b)}function M(x,n){$.Bj(x,Q);T(n,N);$.hO(Q,J);for(var w=0,kB=0;
w<l;w++){var q=((e-J[w]+255)*128.5+.5)/32767;if($.random()<=q){n[kB++]=H[0];n[kB++]=H[1];n[kB++]=H[2]}else{n[kB++]=j[0];
n[kB++]=j[1];n[kB++]=j[2]}n[kB]=x[kB];kB++}}function d(x,n){$.aZ(x,n);$.Q6(n,J);$.qv(J,E,R);$.pP(E,J,u,u,b);
$.ah(J,N);$.Y$(J,n);$.It(n)}function A(x){var kB=0;if(i==8){for(var q=0;q<F;q++){x[kB++]=~~($.random()*255)}for(var w=1;
w<W;w++){for(var q=0;q<F;q++){x[kB++]=x[q]}}}else{for(var w=0;w<W;w++){var fO=~~($.random()*255);for(var q=0;
q<F;q++){x[kB++]=fO}}}}function G(x,n){$.hO(x,J);$.sa(E);c(J,E);A(E);c(J,E);$.o8(x,Q,9);$.o8(Q,C,9);
$.Uw(J,E,2);$.ah(E,N);$.Uw(E,J,2);$.aZ(C,n);$.Y$(J,n);$.It(n)}[K,p,P,m,m,z,M,G,G,d][i](x,n)};r.X.a4y=function(x,F,W,n,L){var $=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],l=r.X.s,B=0,e,w,Z,I,y,D=0,N=1,j=255;
l.pk(F,W);l.ey(L[3]);var k=l.d7(1),V=l.d7(1);l.hO(x,k);var i=L[0],f=L[1],X=f<=50?$[f]/255:1+(255-$[101-f])/255,s=L[2],R=k.length,h=new Float32Array(R),U=1+1/10*i,o=(1-1/U)/2,b=16/256,u=F-1;
for(w=0;w<l.fi;w++){h[w]=k[w]/255;V[w]=i==1?l.random()<1/255?j:N:N}function H(Q,C){var J=Q*F+C;if(V[J]!=N||Q>=W||C>=F){return}var I=h[J],E=X-I,T=l.random(),c=T/U+o;
if(B==0||Math.abs(y-I)>b){e=c<=E?D:j;B=~~(l.random()*i)}else if(.1<T){B--}else{B=0}V[J]=e;y=I}if(s==0){for(w=0;
w<F;w++){for(Z=0;Z<F;Z++){I=w+Z;if(I>=F)break;H(Z,u-I)}B=0}for(w=1;w<W;w++){for(Z=0;Z<W;Z++){I=w+Z;if(I>=W||Z>=F)break;
H(I,u-Z)}B=0}}else if(s==1){for(w=0;w<W;w++){for(Z=0;Z<F;Z++){H(w,Z)}B=0}}else if(s==2){for(w=0;w<F;
w++){for(Z=0;Z<F;Z++){I=w+Z;if(I>=F)break;H(Z,I)}B=0}for(w=1;w<W;w++){for(Z=0;Z<W;Z++){I=w+Z;if(I>=W||Z>=F)break;
H(I,Z)}B=0}}else{for(w=0;w<F;w++){for(Z=0;Z<W;Z++){H(Z,w)}B=0}}l.XU(V,n)};r.X.a0H=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);var l=L[0],k=L[1],V=L[2],i=$.d7(1),f=$.d7(1),X=$.d7(1),s=$.d7(1),R=$.d7(4),h=$.d7(4);$.Q6(x,s,3,4);
$.hO(x,i);$.pP(i,f,3,3,1);$.pP(i,X,3,3,9);$.sub(X,f);$.Uw(f,i,3);$.H6(i,40,10,s);$.yQ(x,n,l,2,!1,l);
$.yQ(x,R,l,2,!0,l);$.L8(h,255);$.f6(n,i,h);$.f6(h,i,R);$.lT(R,n,1);$.aZ(n);$.Q6(n,i);$.H6(i,k,V,s);$.Y$(i,n);
$.It(n)};r.X.a4N=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);$.ey(L[3]);var l=L[0],k=L[1],V=L[2]/10;l=l+k;
var i=$.d7(1),f=$.d7(1),X=$.eG(),s=$.eG();$.sa(i);$.Uw(i,f,11);$.Uw(f,i,11);$.Ka(i,X);$.cI(X,s,5);$.cI(s,X,5);
$.abJ(s,.97);$.a6A(s,i,l);$.pP(i,f,k,k,1);$.yP(x,i);$.Yj(f,i,f,.6);$.c8(i,f,f,V);$.lb(f,f,i,5,1);$.aZ(x,n);
$.Y$(i,n);$.It(n)};r.X.azJ=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);var l=Math.abs(L[0]),k=l+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][l],V=2*l+1,i=L[1]/10,f=i*13/15,X=$.d7(1),s=$.d7(1),R=$.d7(1),h=$.d7(1),B=$.d7(4),e=$.d7(4),U=$.d7(4),o=$.d7(4),b=$.d7(4);
$.hO(x,X);if(L[0]>=0){$.sx(X)}$.Bj(X,R);$.Uw(X,h,k);$.Uw(h,X,k);$.RF(X,i);$.Bj(X,s);$.Uw(X,h,V);$.Uw(h,X,V);
$.RF(X,f);$.L8(U,L[2]);$.L8(o,L[3]);$.L8(b,L[4]);$.f6(U,X,o,B);$.f6(b,s,B,e);$.f6(o,R,e,n);$.Q6(x,R,3);
$.Y$(R,n,3)};r.X.axc=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);$.ey(L[5]);var l=L[0]*5.1,k=L[1]/100,V=$.aip[L[2]],i=$.d7(1),f=$.d7(1),X=$.d7(1);
$.hO(x,i);$.a7t(f,255);$.sa(X);$.U2(i,l);$.Ke(f,i,.7);$.Ke(X,i,k);$.lb(i,i,f,5,V);$.Bj(x,n);$.aru(n,l,L[4],L[3]);
$.aZ(n);$.Y$(f,n);$.It(n)};r.X.a12=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);var l=L[0],k=4-L[1],V=11-L[2],i=$.d7(1),f=$.d7(1),X=$.d7(4);
$.yP(x,f);for(var w=0;w<k;w++){$.Bj(f,i);$.a2D(i,f,l,l)}$.o8(x,X,l);$.aZ(X,X);$.Y$(f,X);$.It(X,X);(V<11?$.aBy:$.Bj)(X,n,V)};
r.X.apj=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);$.ey(L[2]);var l=L[0]+5,k=~~(l/5+1),V=~~(l/2)+1,i=V*V,f=~~(l/3),X=$.aip[L[1]],s=new Array(256);
for(var w=0;w<256;w++){s[w]=~~(.2*(w-128))}var R=$.d7(1),h=$.d7(1);$.auj(x,n,l);$.aZ(n);$.Q6(n,R);$.sa(h);
$.aap(R,h,s);$.a34(h,l,l,k,k);$.Yj(R,h,R,1);$.Uw(R,h,f);$.Uw(h,R,f);$.pP(R,h,V,V,i);$.lb(h,h,R,5,X);
$.Y$(R,n);$.It(n)};r.X.aki=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);var l=$.d7(1),k=$.d7(1),V=$.d7(1),i=$.eG(),f=$.eG();
$.hO(x,l);$.Uw(l,k,L[2]);$.U2(k,L[0]*5.1);$.pP(k,l,2,2,4);$.Uw(l,k,3);$.Uw(k,l,3);$.Bj(l,V);$.Uw(l,k,5);
$.Uw(k,l,5);$.Ka(l,i);$.cI(i,f,5);$.cI(f,i,5);$.awK(i,k,L[1]);$.sx(k);$.Yj(V,k,V,1);$.XU(V,n)};r.X.ai_=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);var l=1<<7-L[2],k=$.d7(1),V=$.d7(1),i=$.d7(1);$.yP(x,V);$.Uw(V,k,3);$.Bj(k,V);$.Uw(k,i,L[0]+5);
$.sub(i,V);$.H6(V,1,L[1]);$.RF(k,1/l);$.RF(k,l);$.sub(k,V);$.aZ(x,n);$.Y$(V,n);$.It(n)};r.X.azc=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);$.ey(L[3]);var l=$.d7(1),k=$.d7(1),V=$.d7(1);$.hO(x,l);$.apI(k,L[0]/50);$.Uw(k,V,3);$.pP(l,k,9,9,41);
$.H6(k,L[1],L[2]);$.Yj(k,V,V,.75);$.c8(k,V,k,.5);$.Bj(k,l);$.pP(l,V,3,3,8);$.Yj(V,k,V,.75);$.RF(V,1.2);
$.qv(V,l,1);$.Uw(l,V,2);$.qv(V,l,2);$.RF(l,1.2);$.Uw(l,V,2);$.XU(V,n)};r.X.acl=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);var l=L[0]+9,k=L[1]/2,V=L[2],i=L[3],f=$.mJ(L[4]),X=L[5]+1,s=L[6],R=$.d7(1),h=$.d7(1),B=$.d7(4),e=$.d7(4);
$.iP(h,V,i,s);$.ac8(x,n,l,1,1);$.ac8(n,B,l,1,1);$.a8j(B,B,e,7,k);$.RF(e,1.2);$.AZ(e,1.2);$.lb(h,R,R,X,f);
$.RF(R,3);$.Bj(x,n);$.f6(e,R,n)};r.X.aym=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);$.ey(L[3]);var l=L[0]+4,k=l*2/5+(l%5|0);
l--;var V=L[1]*-2.75+60,i=65-V,f=L[2]/10,X=$.d7(1),s=$.d7(1);$.sa(X);$.yP(x,s);var R=$.rx(V,i,s);$.aZ(x,n);
$.Q6(n,s);$.Ke(s,X,.8);$.ah(s,R);$.RF(s,f);$.add(X,s);$.BU(s,X,l,3,!1,k);$.Y$(X,n);$.It(n)};r.X.af$=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);$.ey(L[3]);var l=L[0]+5,k=(l*l>>1)+l%2,V=L[1]/10,i=L[2],f=(i*i>>1)+i%2,X=$.d7(1),s=$.d7(1),R=$.d7(1),h=$.d7(4),B=$.d7(4),e=$.d7(4);
$.sa(R);$.aZ(x,e);$.Q6(e,X);$.Ke(X,R,.8);$.Uw(R,X,3);$.qv(X,R,V);$.Y$(R,e);$.It(e,e);$.hO(e,R);$.pP(R,X,l,l,k);
$.Uw(R,s,l);$.sub(X,s);$.U2(s,1);$.x3(e,h,7,7,40);$.x3(e,B,7,7,10);$.f6(h,s,B);$.x3(B,n,i,i,f)};r.X.awj=function(x,F,W,n,L){var $=r.X.s,k=255,w,i;
$.pk(F,W);var l=L[0];if(l<2)k=l;else if(l<12)k=5*l-5;else if(l<47)k=2*l+28;else if(l<50){w=l-47;k=125+12.5*w+12.5*w*w}var V=new Uint8Array(256);
for(w=75,i=15;w<256;w++,i+=24)V[w]=Math.min(255,i);var f=$.d7(1),X=$.d7(1),s=$.d7(1);$.hO(x,f);$.Uw(f,X,11);
$.Uw(X,s,11);$.sub(s,f);$.RF(f,8);$.sub(s,f);$.U2(f,k);$.sx(f);$.Uw(f,X,5);$.U2(X,51);$.Uw(X,f,L[1]);
$.Uw(f,X,L[1]);$.sx(X);$.ah(X,V);$.XU(X,n)};r.X.a66=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);var l=$.aco[L[1]],k=L[2],V=k*1.5,i=$.d7(1),f=$.d7(1),X=$.d7(1);
$.yP(x,i);$.BU(i,f,15,2,!0,15);$.Bj(f,X);$.H6(X,k,V);$.Uw(X,i,3);$.Uw(f,X,L[0]);$.sub(X,f);$.RF(f,l);
$.sub(i,f);$.Uw(f,i,3);$.BU(i,f,3,1,!1,1);$.o8(x,n,15);$.aZ(n);$.Y$(f,n);$.It(n)};r.X.aiO=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);$.ey(L[3]);var l=L[0]*5.1,k=16-L[1],V=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][L[2]],i=$.d7(1),f=$.d7(1),X=$.d7(1);
$.hO(x,i);$.U2(i,l);$.Uw(i,f,k);$.Uw(f,i,k);$.sa(X);$.c8(i,X,X,1);$.Yj(i,X,i,.75);$.RF(i,V);$.AZ(i,V);
$.pP(i,f,2,2,2);$.XU(f,n)};r.X.ama=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);var l=L[0]+9,k=L[1]+9,V=L[2],i=L[3],f=$.mJ(L[4]),X=L[5]+1,s=L[6],R=$.d7(1),h=$.d7(1),B=$.d7(1),e=$.d7(1),U=$.d7(1),o=$.d7(4);
$.yP(x,R);$.a2D(R,B,l,l);$.Uw(B,R,k);$.Bj(B,U);$.Bj(R,e);$.sub(U,e);$.sub(R,U);$.add(U,e);$.RF(e,10);
$.iP(h,V,i,s);$.lb(h,R,U,X,f);$.avd(U,e,B,.8);$.o8(x,o,9);$.o8(o,n,9);$.aZ(n);$.Y$(B,n);$.It(n)};r.X.alm=function(x,F,W,n,L){var $=r.X.s;
$.pk(F,W);var l=16-L[0],k=L[1]*8,V=1-(3-L[2])/10,i=~~(l*l*V-1),f=~~(l*l*(1-V));if(f==0)f=1;var X=$.d7(1),s=$.d7(1),R=$.d7(1),h=$.d7(4);
$.hO(x,R);$.pP(R,X,7,7,25);$.Uw(R,s,7);$.sub(X,s);$.U2(s,1);$.x3(x,h,l,l,i);$.x3(x,n,l,l,f);$.f6(h,s,n);
$.aZ(n);$.Q6(n,X);$.pP(X,R,3,3,1);$.pP(X,s,3,3,9);$.sub(s,R);$.Bj(R,s);$.sub(X,R);$.sub(R,s);$.pP(s,X,3,3,8);
$.H6(X,k,1);$.Y$(X,n);$.It(n)};r.X.agU=function(x,F,W,n,L){var $=r.X.s;$.pk(F,W);$.ey(L[3]);var l=L[0],k=L[1],V=L[2],i=l>>1,f=Math.max(~~(l/5),1),X=Math.max(~~(l*2/3),1),s=$.apN(k,V),R=$.d7(1),h=$.d7(1),B=$.d7(1),e=$.d7(1),U=$.d7(4);
$.yP(x,R);$.a2K(2147483647,4,2,2,0,255,h);$.a2K(4,2147483647,2,2,0,255,e);$.sa(B);$.c8(h,B,h,1);$.c8(e,B,e,1);
$.c8(h,R,h,1);$.c8(e,R,e,1);$.o8(x,U,i);$.o8(U,n,i);$.pP(h,R,1,l,f);$.pP(R,h,3,l,X);$.pP(e,R,l,1,f);
$.pP(R,e,l,3,X);$.O3(h,e);$.aZ(n);$.Y$(e,n);$.It(n);$.a8G(n,s)};r.X.MO=function(x,F,W){var n=W.a3a,L=W.fi,$=W.d7(1),top=W.d7(1),l=W.d7(1),k=W.d7(1),V=W.d7(1),i=W.d7(1),f=W.d7(1),X=W.d7(1),s=W.d7(1),R=W.Xv,h=W.eD,B=r.Ro.Yh,e=r.Ro.vt;
B(x,$,R,h,e([8,5,2,5,2,-1,2,-1,-4]));B(x,top,R,h,e([5,5,5,2,2,2,-1,-1,-1]));B(x,l,R,h,e([2,5,8,-1,2,5,-4,-1,2]));
B(x,k,R,h,e([5,2,-1,5,2,-1,5,2,-1]));B(x,V,R,h,e([2,2,2,2,2,2,2,2,2]));B(x,i,R,h,e([-1,2,5,-1,2,5,-1,2,5]));
B(x,f,R,h,e([2,-1,-4,5,2,-1,8,5,2]));B(x,X,R,h,e([-1,-1,-1,2,2,2,5,5,5]));B(x,s,R,h,e([-4,-1,2,-1,2,5,2,5,8]));
var U=[$,top,l,k,V,i,f,X,s];for(var o=0;o<h;o++){for(var b=0;b<R;b++){var u=o*R+b,Z=x[u],I=null,y=0;
for(var D=-1;D<2;D++){for(var N=-1;N<2;N++){var j=U[(D+1)*3+N+1],H=Math.max(0,Math.min(o+D,h-1)),Q=Math.max(0,Math.min(b+N,R-1)),C=j[H*R+Q],J=Math.abs(C-Z);
if(I==null||J<I){I=J;y=C}}}F[u]=y}}};r.X.asK=function(x,F,W,n,L){var self=r.X.s;self.pk(F,W);var $=self.d7(1),l=self.d7(1);
for(var w=0;w<4;w++){self.Q6(x,$,w);if(w<3){r.X.MO($,l,self);r.X.MO(l,$,self);r.X.MO($,l,self);r.X.MO(l,$,self);
r.X.MO($,l,self);r.X.MO(l,$,self);r.X.MO($,l,self);r.X.MO(l,$,self);r.X.MO($,l,self)}else l=$;self.Y$(l,n,w)}};
r.X.s={};r.X.s.Xv=0;r.X.s.eD=0;r.X.s.fi=0;r.X.s.tE=0;r.X.s.Yb=0;r.X.s.pk=function(x,F){var W=x*F,self=r.X.s;
self.Xv=x;self.eD=F;self.fi=W;self.tE=W<<1;self.Yb=W<<2};r.X.s.ey=function(x){r.X.s.random=function(){var F=x+=1831565813;
F=Math.imul(F^F>>>15,F|1);F^=F+Math.imul(F^F>>>7,F|61);return((F^F>>>14)>>>0)/4294967296}};r.X.s.d7=function(x){var F=r.X.s;
return new Uint8Array([-1,F.fi,F.tE,-1,F.Yb][x])};r.X.s.eG=function(){return new Int32Array(r.X.s.tE)};
r.X.s.Uw=function(x,F,W,n){if(n==null)n=W;var self=r.X.s,L=self.Xv,$=self.eD,l=n,k=n>>1,V=W,i=W>>1,f=W*n,X=0;
for(var w=0;w<$;w++){var s=0;for(var R=0;R<l;R++){for(var h=0;h<V;h++){var B=0-i+h,e=w-k+R;if(B<0)B=0;
else if(B>=L)B=L-1;if(e<0)e=0;else if(e>=$)e=$-1;s+=x[e*L+B]}}F[X++]=~~(s/f);for(var U=1;U<L;U++){for(var R=0;
R<l;R++){var o=U-i-1,b=o+V,e=w-k+R;if(o<0)o=0;if(b>=L)b=L-1;if(e<0)e=0;else if(e>=$)e=$-1;s+=x[e*L+b]-x[e*L+o]}F[X++]=~~(s/f)}}};
r.X.s.cI=function(x,F,W,n){var self=r.X.s,L=new Int32Array(self.fi),$=new Int32Array(self.fi);for(var w=0;
w<2;w++){self.Q6(x,L,w,2);self.Uw(L,$,W,n);self.Y$($,F,w,2)}};r.X.s.o8=function(x,F,W,n){var self=r.X.s,L=self.d7(1),$=self.d7(1);
for(var w=0;w<4;w++){self.Q6(x,L,w);if(w<3)self.Uw(L,$,W,n);else $=L;self.Y$($,F,w)}};r.X.s.ac8=function(x,F,W,n,L){var self=r.X.s,$=self.Xv,l=self.eD,k=W+n-1,V=W>>1,i=k>>1,f=0,X=W*n,s=new Int32Array(W);
for(var w=0;w<l;w++){var R=0,h=0,B=0;for(var e=0;e<W;e++){var U=L?k-e-n:e;for(var o=U,b=n+U;o<b;o++){var u=0-i+o,Z=w-V+e;
if(o==U){s[e]=u}if(u<0)u=0;else if(u>=$)u=$-1;if(Z<0)Z=0;else if(Z>=l)Z=l-1;var I=$*Z+u<<2;R+=x[I];h+=x[I+1];
B+=x[I+2]}}F[f++]=~~(R/X);F[f++]=~~(h/X);F[f++]=~~(B/X);F[f]=x[f];f++;for(var y=1;y<$;y++){for(var e=0;
e<W;e++){var Z=w-V+e,U=s[e]+1;s[e]=U;var D=U-1,N=U+n-1;if(Z<0)Z=0;else if(Z>=l)Z=l-1;if(D<0)D=0;else if(D>=$)D=$-1;
if(N<0)N=0;else if(N>=$)N=$-1;var j=Z*$+D<<2,H=Z*$+N<<2;R=R+x[H]-x[j];h=h+x[H+1]-x[j+1];B=B+x[H+2]-x[j+2]}F[f++]=~~(R/X);
F[f++]=~~(h/X);F[f++]=~~(B/X);F[f]=x[f];f++}}};r.X.s.BU=function(x,F,W,n,L,$){var self=r.X.s,l=self.Xv,k=self.eD,V=W+n-1,i=W>>1,f=V>>1,X=0,s=new Int32Array(W),R=new Int32Array(256),h=new Int32Array(16);
for(var w=0;w<k;w++){for(var B=0;B<256;B++){R[B]=0}for(var B=0;B<16;B++){h[B]=0}for(var e=0;e<W;e++){var U=L?V-e-n:e;
for(var o=U,b=n+U;o<b;o++){var u=0-f+o,Z=w-i+e;if(o==U){s[e]=u}if(u<0)u=0;else if(u>=l)u=l-1;if(Z<0)Z=0;
else if(Z>=k)Z=k-1;R[x[Z*l+u]]++;h[x[Z*l+u]>>>4]++}}var I=0,y=0;while(I+h[y>>>4]<$){I+=h[y>>>4];y+=16}for(;
y<256;y++){I+=R[y];if(I>=$)break}F[X++]=y;for(var B=1;B<l;B++){for(var e=0;e<W;e++){var Z=w-i+e,U=s[e]+1;
s[e]=U;var D=U-1,N=U+n-1;if(Z<0)Z=0;else if(Z>=k)Z=k-1;if(D<0)D=0;else if(D>=l)D=l-1;if(N<0)N=0;else if(N>=l)N=l-1;
R[x[Z*l+D]]--;R[x[Z*l+N]]++;h[x[Z*l+D]>>>4]--;h[x[Z*l+N]>>>4]++}I=0;y=0;while(I+h[y>>>4]<$){I+=h[y>>>4];
y+=16}for(;y<256;y++){I+=R[y];if(I>=$)break}F[X++]=y}}};r.X.s.yQ=function(x,F,W,n,L,$){var self=r.X.s,l=self.d7(1),k=self.d7(1);
for(var w=0;w<4;w++){self.Q6(x,l,w);if(w<3)self.BU(l,k,W,n,L,$);else k=l;self.Y$(k,F,w)}};r.X.s.pP=function(x,F,W,n,L){L=Math.min(n*W,L);
var self=r.X.s,$=self.Xv,l=self.eD,k=n>>1,V=W>>1,i=0,f=new Int32Array(n),X=new Int32Array(256),s=new Int32Array(16);
for(var w=0;w<l;w++){for(var R=0;R<256;R++){X[R]=0}for(var R=0;R<16;R++){s[R]=0}for(var h=0;h<n;h++){for(var B=0,e=W;
B<e;B++){var U=0-V+B,o=w-k+h;if(B==0){f[h]=U}if(U<0)U=0;else if(U>=$)U=$-1;if(o<0)o=0;else if(o>=l)o=l-1;
X[x[o*$+U]]++;s[x[o*$+U]>>>4]++}}var b=0,u=0;while(b+s[u>>>4]<L){b+=s[u>>>4];u+=16}for(;u<256;u++){b+=X[u];
if(b>=L)break}F[i++]=u;for(var R=1;R<$;R++){for(var h=0;h<n;h++){var o=w-k+h,Z=f[h]+1;f[h]=Z;var I=Z-1,y=Z+W-1;
if(o<0)o=0;else if(o>=l)o=l-1;if(I<0)I=0;else if(I>=$)I=$-1;if(y<0)y=0;else if(y>=$)y=$-1;X[x[o*$+I]]--;
X[x[o*$+y]]++;s[x[o*$+I]>>>4]--;s[x[o*$+y]>>>4]++}b=0;for(u=0;u<256;u++){b+=X[u];if(b>=L)break}F[i++]=u}}};
r.X.s.x3=function(x,F,W,n,L){var self=r.X.s,$=self.d7(1),l=self.d7(1);for(var w=0;w<4;w++){self.Q6(x,$,w);
if(w<3)self.pP($,l,W,n,L);else l=$;self.Y$(l,F,w)}};r.X.s.qv=function(x,F,W){var self=r.X.s,n=self.Xv,L=self.eD,$=0;
for(var w=0;w<L;w++){var l=w*n,k=(w-1)*n,V=(w+1)*n;if(k<0)k=l;if(V>=L)V=l;for(var i=0;i<n;i++){var f=i-1,X=i+1;
if(f<0)f=i;if(X>=n)X=i;var s=l+f,R=l+X,h=k+i,B=V+i,e=l+i,U=x[s],o=x[R],b=x[h],u=x[B],Z=x[e],I=Z+(Z*4*W+.5);
I=I-((U+o+u+b)*W+.5);F[$++]=self.fh(I)}}};r.X.s.lT=function(x,F,W){var self=r.X.s,n=self.d7(1),L=self.d7(1);
for(var w=0;w<4;w++){self.Q6(x,n,w);if(w<3)self.qv(n,L,W);else L=n;self.Y$(L,F,w)}};r.X.s.aBy=function(x,F,W){var self=r.X.s,n=self.Xv,L=self.eD,$=0,l=W+4;
for(var w=0;w<L;w++){var k=w*n,V=(w-1)*n,i=(w+1)*n;if(V<0)V=k;if(i>=L)i=k;for(var f=0;f<n;f++){var X=f-1,s=f+1;
if(X<0)X=f;if(s>=n)s=f;var R=k+X<<2,h=k+s<<2,B=V+f<<2,e=i+f<<2,U=k+f<<2;for(var o=0;o<3;o++){var b=x[R+o],u=x[h+o],Z=x[B+o],I=x[e+o],y=x[U+o];
F[$++]=(y*W+b+u+I+Z)/l}F[$]=x[$];$++}}};r.X.s.a2D=function(x,F,W,n){var self=r.X.s,L=self.Xv,$=self.eD,l=W>>1,k=n>>1,V=0,i=new Int32Array(W),f=new Int32Array(256);
for(var w=0;w<$;w++){for(var X=0;X<256;X++){f[X]=0}for(var s=0;s<W;s++){for(var R=0,h=n;R<h;R++){var B=0-k+R,e=w-l+s;
if(R==0){i[s]=B}if(B<0)B=0;else if(B>=L)B=L-1;if(e<0)e=0;else if(e>=$)e=$-1;f[x[e*L+B]]++}}var U=0,o=0;
for(var b=0;b<256;b++){if(U<f[b]){o=b;U=f[b]}}F[V++]=o;for(var X=1;X<L;X++){for(var s=0;s<W;s++){var e=w-l+s,u=i[s]+1;
i[s]=u;var Z=u-1,I=u+n-1;if(e<0)e=0;else if(e>=$)e=$-1;if(Z<0)Z=0;else if(Z>=L)Z=L-1;if(I<0)I=0;else if(I>=L)I=L-1;
f[x[e*L+Z]]--;f[x[e*L+I]]++}U=0;o=0;for(var b=0;b<256;b++){if(U<f[b]){o=b;U=f[b]}}F[V++]=o}}};r.X.s.a3R=[function(x,F,W,n,L,$,l,k,V,i){return L+(x+F+W)*i-(V+k+l)*i},function(x,F,W,n,L,$,l,k,V,i){return L+(F+W+$)*i-(k+l+n)*i},function(x,F,W,n,L,$,l,k,V,i){return L+(W+$+V)*i-(l+n+x)*i},function(x,F,W,n,L,$,l,k,V,i){return L+($+V+k)*i-(n+x+F)*i},function(x,F,W,n,L,$,l,k,V,i){return L+(V+k+l)*i-(x+F+W)*i},function(x,F,W,n,L,$,l,k,V,i){return L+(k+l+n)*i-(F+W+$)*i},function(x,F,W,n,L,$,l,k,V,i){return L+(l+n+x)*i-(W+$+V)*i},function(x,F,W,n,L,$,l,k,V,i){return L+(n+x+F)*i-($+V+k)*i}];
r.X.s.lb=function(x,F,W,n,L){var self=r.X.s,$=self.Xv,l=self.eD,k=$,V=self.a3R[n-1];for(var w=0;w<l;
w++){var i=(w>0?w-1:0)*k,f=w*k,X=(w<l?w+1:w)*k;for(var s=0;s<$;s++){var R=s>0?s-1:0,h=s<$?s+1:s,B=f+s,e=x[i+R],U=x[i+s],o=x[i+h],b=x[f+R],u=F[B],Z=x[f+h],I=x[X+R],y=x[X+s],D=x[X+h];
W[B]=self.fh(V(e,U,o,b,u,Z,I,y,D,L))}}};r.X.s.a8j=function(x,F,W,n,L){var self=r.X.s,$=self.d7(1),l=self.d7(1),k=self.d7(1);
for(var w=0;w<3;w++){self.Q6(x,$,w);self.Q6(F,l,w);self.lb($,l,k,n,L);self.Y$(k,W,w)}self.Q6(F,$,3);
self.Y$($,W,3)};r.X.s.hO=function(x,F){var W=x.length,n=0;for(var w=0;w<W;w++){F[n++]=~~((x[w++]+x[w++]+x[w++]+2)/3)}};
r.X.s.XU=function(x,F){var W=F.length,n=0;for(var w=0;w<W;w++){var L=x[w];F[n++]=L;F[n++]=L;F[n++]=L;
F[n++]=255}if(F[0]==255)F[0]--;else F[0]++};r.X.s.yP=function(x,F){var W=F.length,n=0;for(var w=0;w<W;
w++){var L=x[n++],$=x[n++],l=x[n++];n++;if($>L)L=$;if(l>L)L=l;F[w]=L}};r.X.s.aZ=function(x,F){if(F==null)F=x;
var W=x.length;for(var n=0;n<W;n+=4){var L=x[n],$=x[n+1],l=x[n+2],k=L,V=0,i=L,X;if($<=L){L=$}else{V=1;
i=$}if(l<=i){if(L>l){L=l}}else{V=2;i=l}var f=i-L;if(f!=0){if(V==0){X=~~(43*($-l)/f)}else if(V==1){X=~~(43*(l+2*f-k)/f)}else{X=43*(k+4*f-$)/f}if(X<0){X=255&X-1}F[n]=X;
F[n+1]=~~(255*f/i)}else{F[n]=f;F[n+1]=f}F[n+2]=i;F[n+3]=x[n+3]}};r.X.s.It=function(x,F){if(F==null)F=x;
var W=x.length;for(var n=0;n<W;n+=4){var L=x[n],$=x[n+1],l=x[n+2];if($){if(L==255)L=0;var k=~~(6*L/255),V=~~(-255*k+6*L);
if(k==0){F[n]=l;F[n+1]=~~(l*(255-$*(255-V)/255)/255);F[n+2]=~~(l*(255-$)/255)}else if(k==1){F[n]=~~(l*(255-$*V/255)/255);
F[n+1]=l;F[n+2]=~~(l*(255-$)/255)}else if(k==2){F[n]=~~(l*(255-$)/255);F[n+1]=l;F[n+2]=~~(l*(255-$*(255-V)/255)/255)}else if(k==3){F[n]=~~(l*(255-$)/255);
F[n+1]=~~(l*(255-$*V/255)/255);F[n+2]=l}else if(k==4){F[n]=~~(l*(255-$*(255-V)/255)/255);F[n+1]=~~(l*(255-$)/255);
F[n+2]=l}else{F[n]=l;F[n+1]=~~(l*(255-$)/255);F[n+2]=~~(l*(255-$*V/255)/255)}}else{F[n]=l;F[n+1]=l;F[n+2]=l}F[n+3]=x[n+3]}};
r.X.s.Y$=function(x,F,W,n){if(W==null)W=2;if(n==null)n=4;var L=x.length;for(var w=0;w<L;w++){F[W]=x[w];
W+=n}};r.X.s.Q6=function(x,F,W,n){if(W==null)W=2;if(n==null)n=4;var L=F.length;for(var w=0;w<L;w++){F[w]=x[W];
W+=n}};r.X.s.avd=function(x,F,W,n){if(n==null)n=1;var L=F.length,$=0,l;for(var $=0;$<L;$++){l=F[$];if(l){l*=n;
W[$]=~~((l*x[$]+(255-l)*W[$])/255)}}};r.X.s.f6=function(x,F,W,n){if(n==null)n=W;var L=F.length,$=0,l,k;
for(var w=0;w<L;w++){l=F[w];if(l){k=255-l;n[$]=~~((l*x[$]+k*W[$])/255);n[$+1]=~~((l*x[$+1]+k*W[$+1])/255);
n[$+2]=~~((l*x[$+2]+k*W[$+2])/255)}n[$+3]=x[$+3];$+=4}};r.X.s.Yj=function(x,F,W,n){var L=~~(n*255),$=W.length;
for(var w=0;w<$;w++){W[w]=((255-L*(255-x[w])/255)*F[w]+x[w]*(L*(255-x[w])/255))/255}};r.X.s.c8=function(x,F,W,n){var L=~~(n*255),$=W.length;
for(var w=0;w<$;w++){W[w]=((255-L*x[w]/255)*F[w]+x[w]*(L*x[w]/255))/255}};r.X.s.Ke=function(x,F,W){var n=F.length;
for(var w=0;w<n;w++){F[w]=~~(x[w]*W+.5)+(F[w]-~~(F[w]*W+.5))}};r.X.s.sub=function(x,F){var W=x.length;
for(var w=0;w<W;w++){F[w]=Math.max(x[w]-F[w],0)}};r.X.s.add=function(x,F){var W=x.length;for(var w=0;
w<W;w++){F[w]=Math.min(x[w]+F[w],255)}};r.X.s.a3a=function(x,F){var W=x.length;for(var w=0;w<W;w++){F[w]=x[w]+F[w]}};
r.X.s.O3=function(x,F){var W=x.length;for(var w=0;w<W;w++){F[w]=x[w]+F[w]>>1}};r.X.s.Bj=function(x,F){var W=x.length;
for(var w=0;w<W;w++){F[w]=x[w]}};r.X.s.ah=function(x,F){var W=x.length;for(var w=0;w<W;w++){x[w]=F[x[w]]}};
r.X.s.a8G=function(x,F){var W=r.X.s.Yb;for(var w=0;w<W;w+=4){var n=x[w],L=x[w+1],$=x[w+2],l=n;if(L>n)l=L;
if($>n)l=$;var k=F[l];if(k){x[w]=~~(k*n/l);x[w+1]=~~(k*L/l);x[w+2]=~~(k*$/l)}else{x[w]=k;x[w+1]=k;x[w+2]=k}}};
r.X.s.RF=function(x,F){for(var w=0,W=x.length;w<W;w++){x[w]=Math.min(255,~~(.5+x[w]*F))}};r.X.s.AZ=function(x,F){for(var w=0,W=x.length;
w<W;w++){x[w]=255-Math.min(255,~~(.5+(255-x[w])*F))}};r.X.s.sx=function(x){var F=x.length;for(var w=0;
w<F;w++){x[w]=255-x[w]}};r.X.s.U2=function(x,F,W,n){if(W==null)W=0;if(n==null)n=255;for(var w=0,L=x.length;
w<L;w++){x[w]=x[w]>=F?n:W}};r.X.s.p5=function(x){return[x>>24&255,x>>16&255,x>>8&255,x&255]};r.X.s.aru=function(x,F,W,n){if(W==null)W=255;
if(n==null)n=4278190335;var L=r.X.s,$=L.Yb,l=L.p5(W),k=L.p5(n);for(var w=0;w<$;w+=4){var V=~~((x[w]+x[w+1]+x[w+2]+2)/3);
if(V>=F){x[w]=l[0];x[w+1]=l[1];x[w+2]=l[2]}else{x[w]=k[0];x[w+1]=k[1];x[w+2]=k[2]}}};r.X.s.L8=function(x,F){var W=r.X.s,n=W.Yb,L=W.p5(F);
for(var w=0;w<n;){x[w++]=L[0];x[w++]=L[1];x[w++]=L[2];x[w++]=L[3]}};r.X.s.a7t=function(x,F){var W=x.length;
for(var w=0;w<W;){x[w++]=F}};r.X.s.apN=function(x,F){x=x>5?(100-Math.max(4,x))/100:.95;F=F!=100?Math.max(4,F)/100:.9995;
var W=new Uint8Array(256),n=F>.5?.5/(1-F):F*2,L=~~(n*256),$=~~((.5-x*n)*256)<<8;for(var w=0;w<256;w++){W[w]=r.X.s.fh($>>8);
$+=L}return W};r.X.s.sa=function(x){for(var w=0,F=r.X.s,W=x.length;w<W;w++){x[w]=~~(F.random()*256)}};
r.X.s.apI=function(x,F){for(var w=0,W=r.X.s,n=x.length;w<n;w++){x[w]=W.random()<F?255:0}};r.X.s.aBe=function(x,F,W){for(var w=0,n=r.X.s,L=x.length;
w<L;w++){if(n.random()<F)x[w]=W}};r.X.s.aap=function(x,F,W){var n=x.length;for(var w=0;w<n;w++){x[w]=r.X.s.fh(x[w]+W[F[w]])}};
r.X.s.ta=function(x){var F=new Uint32Array(256);for(var w=0,W=x.length;w<W;w++)F[x[w]]++;return F};r.X.s.au6=function(x,F){var W=0,n=0,L=new Uint32Array(256),$=new Float32Array(256);
for(var w=0,l=x.length;w<l;w++){var k=x[w],V=F[w];if(V==255){L[k]++;W++}else if(V>0){V/=255;n+=V;$[k]+=V;
if(n>=1){n--;W++}if($[k]>=1){$[k]--;L[k]++}}}return[W,L]};r.X.s.rx=function(x,F,W,n){var self=r.X.s,L,$,f=0,s=256;
if(n){var l=self.au6(W,n);L=l[1];$=l[0]/100}else{L=self.ta(W);$=self.fi/100}var k=new Uint8Array(256),V=$*x,i=$*F,X=-1;
do{f+=L[++X]}while(f<=V);f=0;do{f+=L[--s]}while(f<=i);if(s-X<=0)s=X+1;if(s>255){s=255;X=254}var R=255/(s-X),h=-X;
for(var w=0;w<256;w++){k[w]=self.fh(R*h+.5);h++}return k};r.X.s.H6=function(x,F,W,n){var L=r.X.s;L.ah(x,L.rx(F,W,x,n))};
r.X.s.aiV=function(x,F){var self=r.X.s,W=self.ta(x),n=self.fi*F/100,L=0,$=-1;do{L+=W[++$]}while(L<=n);
return $};r.X.s.Ka=function(x,F){var W=0,self=r.X.s,n=self.Xv,L=self.eD,$=1/Math.PI,l=$*255;for(var w=0;
w<L;w++){var k=w+1;if(k==L)k--;var V=w*n,i=~~((1-(w+1)/L)*255);for(var f=0;f<n;f++){var X=f+1;if(X==n)X--;
var s=x[V+f],R=x[V+X],h=x[k*n+f];if(s-h==0){F[W++]=i}else{var B=s-h+255;if(B==255){B=0}else{B=~~(Math.atan2(1/(255-B),1)*l+.5);
if(B<0)B+=255}F[W++]=B}if(s-R==0){F[W++]=~~((1-(f+1)/n)*255)}else{var B=s-R+255;if(B==255){B=0}else{B=~~(Math.atan2(1/(255-B),1)*l+.5);
if(B<0)B+=255}F[W++]=B}}}};r.X.s.abJ=function(x,F){var self=r.X.s,W=self.Xv,n=self.eD,L=0;for(var w=0;
w<n;w++){for(var $=0;$<W;$++){x[L]=~~(w*F+.5)+~~(x[L]*(1-F)+.5);L++;x[L]=~~($*F+.5)+~~(x[L]*(1-F)+.5);
L++}}};r.X.s.aaX=function(x,F,W,n){var self=r.X.s,L=self.Xv,$=self.eD,l=0;for(var w=0;w<$;w++){for(var k=0;
k<L;k++){F[l]=~~(F[l]*(1-W)+.5)+~~(x[l]*n+.5);l++;F[l]=~~(F[l]*(1-W)+.5)+~~(x[l]*n+.5);l++}}};r.X.s.a6A=function(x,F,W){var self=r.X.s,n=self.Xv,L=self.eD,$=0,l=0;
for(var w=0;w<L;w++){for(var k=0;k<n;k++){var V=x[$++],i=x[$++];F[l++]=i%W>=2&&V%W>=2?255:0}}};r.X.s.a2K=function(x,F,W,n,L,$,l){var self=r.X.s,k=self.Xv,V=self.eD,i=0,f=0,X=0;
for(var w=0;w<V;w++){var s=w%x<W||V-W<=w;for(var R=0;R<k;R++){l[i++]=s||R%F<n||k-n<=R?L:$}}};r.X.s.iP=function(x,F,W,n){var self=r.X.s,L=self.Xv,$=self.eD,l=kx.iP(F),k=l[1],V=l[0].m,i=l[0].e,f=100/W;
for(var X=0;X<$;X++)for(var s=0;s<L;s++){var R=r.D.jE(s*f,X*f,k,V,i);x[X*L+s]=n?255-R:R}};r.X.s.fh=function(x){return~~Math.min(255,Math.max(0,x))};
r.X.s.aco=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];r.X.s.aip=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
r.X.s.mJ=function(x){return x>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][x-41]:x/40};r.X.s.auj=function(x,F,W){var self=r.X.s,n=self.Xv,L=self.eD,$=W,l=W>>1,k=l-1,V=$*$,i=0;
for(var w=0;w<L;w++){var f=0,X=0,s=0,R=~~(w/W)*W,h=0;for(var B=0;B<$;B++){for(var e=0;e<$;e++){var U=h+e,o=R+B;
if(U>=n)U=n-1;if(o>=L)o=L-1;f+=x[o*n+U<<2];X+=x[(o*n+U<<2)+1];s+=x[(o*n+U<<2)+2]}}var b=~~(f/V),u=~~(X/V),Z=~~(s/V);
F[i]=b;F[i+1]=u;F[i+2]=Z;F[i+3]=x[i+3];i+=4;for(var I=1;I<n;I++){for(var B=0;B<$;B++){var y=I-1,D=y+$,o=R+B;
if(D>=n)D=n-1;if(o>=L)o=L-1;var N=o*n,j=N+D<<2,H=N+y<<2;f+=x[j]-x[H];X+=x[j+1]-x[H+1];s+=x[j+2]-x[H+2]}if(I%W==0){b=~~(f/V);
u=~~(X/V);Z=~~(s/V)}F[i]=b;F[i+1]=u;F[i+2]=Z;F[i+3]=x[i+3];i+=4}}};r.X.s.a34=function(x,F,W,n,L){var self=r.X.s,$=self.Xv,l=self.eD,k=0,V=0,i=0,f=0;
for(var w=f;w<l+f;w++){var X=w%F>=n||w<n||l+f-n<=w;for(var s=0;s<$;s++){x[k++]=X&&(s%W>=L||s<L||$-L<=s)?255:0}}};
r.X.s.awK=function(x,F,W){var n=function(i,f){return f<=i?i/f&1?f-i%f:i%f:i},L=[function(k,V){return n(k,255)/255},function(k,V){return(255+n(k,255)-n(V,255))/510},function(k,V){return(255-n(V,255))/255},function(k,V){return(510-n(k,255)-n(V,255))/510},function(k,V){return(255-n(k,255))/255},function(k,V){return(255-n(k,255)+n(V,255))/510},function(k,V){return n(V,255)/255},function(k,V){return(n(k,255)+n(V,255))/510}][W],$=0,l=0;
for(var w=0;w<r.X.s.fi;w++){var k=x[$++],V=x[$++];F[l++]=~~(255*L(k,V))}};r.X.amg=function(){var x=[],F=new Uint8Array(512),W=new Float32Array(512),n=new Float32Array(512),L=[1,-1,1,-1,1,-1,0,0],$=[1,1,-1,-1,0,0,1,-1],l=0,k,h=0;
for(;l<256;l++)x[l]=l;while(l!=0){l--;k=Math.floor(Math.random()*l);x[k]^=x[l]^(x[l]=x[k])}function V(V){V=Math.floor(V*65536);
if(V<256){V|=V<<8}for(var w=0;w<256;w++){var U=w+256,o=x[w]^(w&1?V:V>>8)&255;F[w]=F[U]=o;o=o%8;W[w]=W[U]=L[o];
n[w]=n[U]=$[o]}}function i(U){return U*U*U*(U*(U*6-15)+10)}function f(U,o,b){return(1-b)*U+b*o}function X(U,o){return U&o}function s(U,o){return U%o}function R(U,o,b,u,Z){var I=Math.floor(U),y=Math.floor(o),l,D,N,j,H,Q;
U=U-I;o=o-y;I=I&255;y=y&255;l=I+F[y];j=W[l]*U+n[l]*o;l=I+F[Z(y+1,u)];N=W[l]*U+n[l]*(o-1);l=Z(I+1,b)+F[y];
H=W[l]*(U-1)+n[l]*o;l=Z(I+1,b)+F[Z(y+1,u)];Q=W[l]*(U-1)+n[l]*(o-1);D=i(U);return f(f(j,H,D),f(N,Q,D),i(o))}function B(U,l,o){U[l]=o}function e(U,o,b,u,Z){var I=Math.min(Math.min(o,256),Math.min(256,b)),y=I==256||I<8,D=8,N=new Uint32Array(D),j=new Uint32Array(D),H=new Float32Array(D),Q=new Float32Array(D),C=1,J=1,E=y?X:s,T=B,c;
for(var w=0;w<D;w++){c=J*1/I;if(y){j[w]=(1<<Math.ceil(Math.log2(b*c)))-1;N[w]=(1<<Math.ceil(Math.log2(o*c)))-1}else{j[w]=c*b;
N[w]=c*o}H[w]=C;Q[w]=c;C*=.5;J=J<<1}V(Math.random());for(var a=0,l=0;a<b;a++){for(var K=0;K<o;K++){var Y=0;
for(var p=0;p<D;p++){c=Q[p];Y+=R(K*c,a*c,N[p],j[p],E)*H[p]}T(u,l++,Math.round(Math.max(0,255*Math.min(1,.5+Y*.5))))}}}return e}();
r.X.a8M=function(){function x(F,W,n,L){var $=new Uint8Array(F.length>>>2),l=new Uint8Array(F.length>>>2),k=new Uint8Array(F.length);
for(var w=0;w<F.length;w+=4){var V=F[w+0]*.3+F[w+1]*.59+F[w+2]*.11;l[w>>>2]=V;k[w]=F[w];k[w+1]=F[w+1];
k[w+2]=F[w+2]}r.Ro.a8z(l,$,W,n);r.Ro.sA(F,L,W,n,r.Ro.a$[1],0,!0);for(var w=0;w<F.length;w+=4){k[w+3]=255-$[w>>>2]}for(var w=0,i=F.length;
w<i;w+=4){var f=k[w+3]/255;L[w]=k[w]*f+L[w]*(1-f);L[w+1]=k[w+1]*f+L[w+1]*(1-f);L[w+2]=k[w+2]*f+L[w+2]*(1-f)}}return x}();
r.X.ald=function(){function x($,l,k,V,i){var f=new Uint32Array($.buffer),X=0;for(var w=0;w<k;w++){for(var s=0;
s<l;s++,X+=4){var R=f[w*l+s],h=R&255,B=R>>>8&255,e=R>>>16&255,U=R>>>24&255,o=~~(Math.random()*8),b=o%3,u=0,Z=0;
if(o<3){Z--}else if(o>4){Z++}if(b==0){u--}else if(b==2){u++}var I=s+u,y=w+Z;if(I<0)I=0;else if(I>l-1)I=l-1;
if(y<0)y=0;else if(y>k-1)y=k-1;var R=f[y*l+I],D=R&255,N=R>>>8&255,j=R>>>16&255,H=R>>>24&255;V[X]=i(h,D);
V[X+1]=i(B,N);V[X+2]=i(e,j);V[X+3]=i(U,H)}}}function F($,l){return l}function W($,l){return $>l?l:$}function n($,l){return $<l?l:$}function L($,l,k,V,i){var f=i[0];
if(f==0)x($,l,k,V,F);else if(f==1)x($,l,k,V,W);else if(f==2)x($,l,k,V,n);else if(f==3){console.error("Not implemented")}else console.error("Mew mew")}return L}();
r.X.awE=function(){function x(F,W,n,L,$){var l=$&&$[0]?$[0]:4,k,V,i,f,X,s,R;for(var w=0;w<n;w++){var h=Math.max(w-l,0),B=Math.min(w+l,n-1);
for(var e=0;e<W;e++){var U=Math.max(e-l,0),o=Math.min(e+l,W-1);k=h*W+U<<2;f=F[k];X=F[k+1];s=F[k+2];R=F[k+3];
k=h*W+o<<2;f+=F[k];X+=F[k+1];s+=F[k+2];R+=F[k+3];k=B*W+U<<2;f+=F[k];X+=F[k+1];s+=F[k+2];R+=F[k+3];k=B*W+o<<2;
f+=F[k];X+=F[k+1];s+=F[k+2];R+=F[k+3];k=w*W+e<<2;L[k]=f+2>>>2;L[k+1]=X+2>>>2;L[k+2]=s+2>>>2;L[k+3]=R+2>>>2}}}return x}();
r.X.a1Z=function(){function x(F,W,n,L){var $=new Uint8Array(F.length),l=new Uint8Array(F.length>>>2),k=new Uint8Array(F.length>>>2);
r.Ro.sA(F,$,W,n,r.Ro.a$[2],0,!0);for(var w=0;w<F.length;w+=4){var V=$[w+0]*.3+$[w+1]*.59+$[w+2]*.11;
l[w>>>2]=V;L[w+0]=F[w+0];L[w+1]=F[w+1];L[w+2]=F[w+2];L[w+3]=F[w+3]}r.Ro.a8z(l,k,W,n);for(var w=0;w<F.length;
w+=4){$[w+3]=~~(Math.max(0,255-k[w>>>2]-50)*(255/205))}for(var w=0,i=F.length;w<i;w+=4){var f=$[w+3]/255;
L[w]=$[w]*f+L[w]*(1-f);L[w+1]=$[w+1]*f+L[w+1]*(1-f);L[w+2]=$[w+2]*f+L[w+2]*(1-f)}}return x}();r.X.ip=function(){function x(o,b){return o[b]+o[b+1]+o[b+2]+o[b+3]}function F(o,b){return o[b]+o[b+1]+o[b+2]+2*o[b+3]}function W(o,b,u,Z){o[b]=u[Z];
o[b+1]=u[Z+1];o[b+2]=u[Z+2];o[b+3]=u[Z+3]}function n(o,b,u){o[b]=o[u];o[b+1]=o[u+1];o[b+2]=o[u+2];o[b+3]=o[u+3]}function L(o,b,u){o[u]=b[u];
o[u+1]=b[u+1];o[u+2]=b[u+2];o[u+3]=255-b[u+3]}function $(o){for(var w=0,b=o.length;w<b;w+=4){o[w+3]=255-o[w+3]}}function l(){var o=Math.random();
if(o>.5)return 0;if(o>.25)return 1;if(o>.1)return 2;if(o>.02143)return 3;if(o>.00445)return 4;if(o>65e-5)return 5;
if(o>415e-6)return 6;if(o>55e-6)return 7;return 8}function k(o,b,u,Z,I,y){o[b]=u[Z]+(I[y]-u[Z]>>1);o[b+1]=u[Z+1]+(I[y+1]-u[Z+1]>>1);
o[b+2]=u[Z+2]+(I[y+2]-u[Z+2]>>1);o[b+3]=u[Z+3]+(I[y+3]-u[Z+3]>>1)}function V(o,b,u,Z,I,y){o[b]=I[y]+u[Z]>>1;
o[b+1]=I[y+1]+u[Z+1]>>1;o[b+2]=I[y+2]+u[Z+2]>>1;o[b+3]=I[y+3]+u[Z+3]>>1}function i(o,b,u,Z,I,y,D,N,j){var H=0,Q=0,C=0,w,J=I[y],E;
k(N,0,o,b,o,u);for(w=0;w<J;w++){k(N,(w+1)*4,N,w*4,o,u)}Q=(J+1)*4;C+=J;y--;W(o,b,N,Q-4);Z[y]=x(o,b);b-=j;
while(y>0&&Z[y-1]<Z[y]){E=N;N=D;D=E;H=Q;V(N,0,o,b-j,D,0);for(w=4;w<H;w+=4){V(N,w,N,w-4,D,w)}J=I[y];for(w=C;
w<J;w++){k(N,Q,N,Q-4,D,H-4);Q+=4;C++}y--;W(o,b,N,Q-4);Z[y]=x(o,b);b-=j}}function f(o,b,u,Z,I){var y=b*4,D=0,N,j,H=new Uint8Array(b+1),Q=new Uint8Array(10*4),C=new Uint8Array(10*4);
for(var w=0;w<u;w++){L(Z,o,D);I[0]=x(Z,D);H[0]=l();N=D;D+=4;for(var J=1;J<b;J++){L(Z,o,D);I[J]=x(Z,D);
j=l();H[J]=j;if(I[J-1]<I[J]&&j>0){i(Z,D-4,D,I,H,J,Q,C,4)}D+=4}I[b]=I[0];H[b]=H[0];if(I[b-1]<I[b]&&j>0){i(Z,D,N,I,H,b,Q,C,4)}}$(Z)}function X(){var o=Math.random();
if(o>.659755)return 0;if(o>.1625)return 10;if(o>.06)return 20;if(o>.01)return 30;if(o>.0035)return 40;
if(o>65e-5)return 50;if(o>415e-6)return 60;if(o>55e-6)return 70;return 80}function s(o,b,u,Z,I,y){var D=X()+1,N=Z[I];
for(var w=1;w<D;w++){if(0>I)break;if(Z[I-w]<N){n(o,b,u)}else{break}b+=y}}function R(o,b,u,Z,I){var y=b*4,D=0;
for(var w=0;w<u;w++){L(Z,o,D);I[0]=x(Z,D);D+=4;for(var N=1;N<b;N++){L(Z,o,D);I[N]=x(o,D);if(I[N-1]<I[N]){s(Z,D-4,D,I,N,-4)}D+=4}I[b]=I[0];
if(I[N-1]<I[N]){s(Z,D-4,D-y,I,N,-4)}}$(Z)}function h(o,b,u,Z,I,y){var D=1,N,j,H=new Uint8Array(4),Q,C=b;
while(Math.random()<1/D){C=b;if(Z<=1)break;N=u[Z];j=u[Z-1];if(N<=j)break;W(H,0,o,C-y);Q=!0;for(var w=Z;
w<I;w++){if(j>u[w]){W(o,C-y,H,0);u[w-1]=j;Q=!1;break}W(o,C-y,o,C);u[w-1]=u[w];C+=y}if(Q){W(o,C-y,H,0);
u[I-1]=j}D++;Z--;b-=y}}function B(o,b,u,Z,I){var y=0,D=0,N=b*4;for(var w=0;w<u;w++){D=y;for(var j=0;
j<b;j++){L(Z,o,y);I[j]=F(Z,y);y+=4}y=D;for(var j=1;j<b;j++){if(I[j-1]<I[j]&&Math.random()<.66){h(Z,y+4,I,j,b,4)}y+=4}y+=4}$(Z)}function e(o,b,u,Z,I){var y=I[0],D=I[1],N=new Uint16Array(b+1),j=o,H=Z,Q;
if(D){Q=Z.slice(0);U(o,Z,b,u);j=Z;H=Q}if(y==0)f(j,b,u,H,N);else if(y==1)R(j,b,u,H,N);else if(y==2)B(j,b,u,H,N);
if(D){U(Q,Z,b,u)}}function U(o,b,u,Z){for(var I=0;I<Z;I++)for(var y=0;y<u;y++){var D=I*u+y<<2,N=I*u+(u-1-y)<<2;
b[N]=o[D];b[N+1]=o[D+1];b[N+2]=o[D+2];b[N+3]=o[D+3]}}return e}();r.X.aA5=function(x,F,W,n,L){var $=r.X.s,l=1,e=0,b=0;
$.pk(F,W);$.ey(L[2]);var k=3<<13,V=Math.PI/2.43,i=V/256,f=Math.PI*2/256;function X(){var y=$.random()*256,D=$.random()*256;
return l*~~(Math.tan(V-y*i)*325*Math.cos(D*f)*256)+k>>16}l=L[0];var s=L[1],R=(s+2)/2,h=$.random()*255,B=$.d7(1);
for(var w=0;w<W;w++){var U=$.fh(X()+h);for(var o=0;o<F;o++){U=$.fh(X()+U);B[e++]=U}}e=F;for(var w=1;
w<W;w++){var u=$.fh(X()+B[b++]);B[e++]=u;for(var o=1;o<F;o++){var Z=b+1;if(o+1==F){Z--}var I=(R+u+B[Z]+B[b]*s)/(s+2);
u=$.fh(X()+I);B[e++]=u;b++}}$.XU(B,n)};var a$=function(){function x(z){z=z^61^z>>>16;z=z+(z<<3);z=z^z>>>4;
z=z*668265261;z=z^z>>>15;return z}var F=function(){var F=function(z){if(z){this.V=z}this.V=x(this.V);
return(this.V&16777215)*(1/16777215)};return F};function W(z,M){if(M==null){M=[0,0]}return Math.sqrt((M[0]-z[0])*(M[0]-z[0])+(M[1]-z[1])*(M[1]-z[1]))}function n(z,M){if(M==null){M=[0,0]}return[-(M[1]-z[1])/W(z,M),(M[0]-z[0])/W(z,M)]}function L(z){return[Math.cos(z),Math.sin(z)]}function $(z){var M=W(z,[0,0]),d=[z[0]/M,z[1]/M],A=Math.atan(d[1]/d[0]);
if(d[0]>0&&d[1]<0){A+=2*Math.PI}else if(d[0]<0&&d[1]<0){A+=Math.PI}else if(d[0]<0&&d[1]>0){A+=Math.PI}return A}function l(z){var l=0;
for(var w=1;w<z.length/2;++w){l+=W([z[2*w],z[2*w+1]],[z[2*(w-1)],z[2*(w-1)+1]])}return l}function k(z,M,d){var A=new Float32Array(z.length),G=1/(z.length/2),kB=Z(d);
for(var w=0;w<z.length/2;++w){var q=w*G,fO=q/2+.5,g=1,jN=0;if(d.shape==2){g=1/(2*fO)}if(d.shape==3){fO=(1-q)/2+.5;
g=1/(2*fO)+.5}if(d.shape==4){fO=q;g=Math.sin(3/2*Math.PI*fO)/4+1}if(d.shape==5){fO=(q-.5)*6;g=(-Math.atan(fO)/1.25+1)/5+.6-.2*q}var c6=[null,null];
if(w==0){c6=n([z[2*w],z[2*w+1]],[z[2*(w+1)],z[2*(w+1)+1]])}else if(w==z.length/2-1){c6=n([z[2*(w-1)],z[2*(w-1)+1]],[z[2*w],z[2*w+1]])}else{c6=n([z[2*(w-1)],z[2*(w-1)+1]],[z[2*(w+1)],z[2*(w+1)+1]])}A[2*w]=z[2*w]+(g*M+jN)*c6[0];
A[2*w+1]=z[2*w+1]+(g*M+jN)*c6[1];if(d.style==2){A[2*w]+=I(2*w/A.length,kB,d)}}return A}function V(z,M,d){var A=new Float32Array(z.length),G=1/(z.length/2);
for(var w=0;w<z.length/2;++w){var kB=w*G,q=[null,null],fO=.6*d.n_*N(kB,M.axp)*d.Ol/100,g=.6*d.n_*N(kB,M.aD1)*d.Ol/100,jN=M.axS*fO+(1-M.axS)*g;
if(w==0){q=n([z[2*w],z[2*w+1]],[z[2*(w+1)],z[2*(w+1)+1]])}else if(w==z.length/2-1){q=n([z[2*(w-1)],z[2*(w-1)+1]],[z[2*w],z[2*w+1]])}else{q=n([z[2*(w-1)],z[2*(w-1)+1]],[z[2*(w+1)],z[2*(w+1)+1]])}A[2*w]=z[2*w]+jN*q[0];
A[2*w+1]=z[2*w+1]+jN*q[1]}return A}function i(z){if(z.WL==1){return[.150684932,.205479452,.465753425,.178082192]}else if(z.WL==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var M=[],d=1/(C(z)-1);
for(var w=0;w<C(z)-1;++w){M.push(d)}return M}}function f(z,M,d){var A=[],G=M-z,kB=z;for(var w=0;w<d.length-1;
++w){A.push(kB+d[w]*G);kB=A[w]}return A}function X(z,M,d,A){var G=new Float32Array(d.length),kB=0,q={shape:Math.floor(A.random()*2.99),ack:A.random()*.1+.15};
for(var w=0;w<d.length-1;++w){var fO=kB+d[w];G[w]=((1-fO)*z+fO*M)*U(A,fO,q);kB=fO}return G}function s(z,M,d,A){var G=H(A),kB=A.random(),q=kB*20+(1-kB)*26,fO=new Float32Array(d.length),g=0;
for(var w=0;w<d.length-1;++w){var jN=g+d[w];fO[w]=(1-jN)*z+jN*M+G/q*(2/3*Math.sin(Math.PI*jN)+1/3*Math.sqrt(Math.sin(Math.PI*jN)));
g=jN}return fO}function R(z,M,d){var A=[];for(var w=0;w<M.length-1;++w){A.push(M[w].slice());var G=w*(C(d)-1),kB=(w+1)*(C(d)-1),q=z[kB]-z[G];
for(var fO=G+1;fO<kB;++fO){var g=Z(d),jN=new Float32Array(M[0].length),c6=(z[fO]-z[G])/q;for(var a7=0;
a7<M[0].length/2;++a7){jN[2*a7]=(1-c6)*M[w][2*a7]+c6*M[w+1][2*a7];jN[2*a7+1]=(1-c6)*M[w][2*a7+1]+c6*M[w+1][2*a7+1];
if(d.style==2){jN[2*a7]+=I(2*a7/M[0].length,g,d)}}A.push(jN)}}A.push(M[M.length-1]);return A}function h(z,M,d){var A=new Array(M.length),G=Y(z),q=null;
for(var w=0;w<M.length;++w){A[w]=k(G,(M[w]-.5)*d.Ol,d)}var kB=1+.05*d.aCp*H(d)/H({WL:1});for(var w=0;
w<M.length;++w){if(M[w]==0){q=w}}for(var w=0;w<M.length;++w){var fO=(d.random()-.5)*2,g=Math.round(d.random()*9+1),jN=new Float32Array(g*2+2);
for(var c6=0;c6<=g;++c6){jN[2*c6]=A[w][0]-(A[w][2*c6]-A[w][0]);jN[2*c6+1]=A[w][1]-(A[w][2*c6+1]-A[w][1])}if(w==q){fO*=.1}for(var c6=(A[w].length-1)/2;
c6>g;--c6){A[w][2*c6]=(1-fO)*A[w][2*c6]+fO*(A[w][2*(c6-g)]+kB*(A[w][2*c6]-A[w][2*(c6-g)]));A[w][2*c6+1]=(1-fO)*A[w][2*c6+1]+fO*(A[w][2*(c6-g)+1]+kB*(A[w][2*c6+1]-A[w][2*(c6-g)+1]))}for(var c6=g-1;
c6>=0;--c6){A[w][2*c6]=(1-fO)*A[w][2*c6]+fO*(jN[2*(g-c6)]+kB*(A[w][2*c6]-jN[2*(g-c6)]));A[w][2*c6+1]=(1-fO)*A[w][2*c6+1]+fO*(jN[2*(g-c6)+1]+kB*(A[w][2*c6+1]-jN[2*(g-c6)+1]))}}var a7=D(M,d);
if(d.n_>0){var bd=0;for(var w=0;w<M.length;++w){if(w==0){bd+=M[w]}else{bd+=Math.abs(M[w]-M[w-1])}var ey=bd-Math.floor(bd),c5=1;
if(ey==0){c5=0}A[w]=V(A[w],{axp:a7[Math.floor(bd)],aD1:a7[Math.floor(bd)+c5],axS:ey},d)}}return A}function B(z,M){var d=T(M,z),A=c(M,z),G=[],kB=[],q=[],fO=i(z);
for(var w=0;w<M.length-1;++w){G.push(M[w]);kB.push(d[w]);q.push(A[w]);var g=f(M[w],M[w+1],fO),jN=X(d[w],d[w+1],fO,z),c6=s(A[w],A[w+1],fO,z);
for(var a7=0;a7<g.length;++a7){G.push(g[a7]);kB.push(jN[a7]);q.push(c6[a7])}}G.push(M[M.length-1]);kB.push(d[d.length-1]);
q.push(A[A.length-1]);return{a9g:G,awp:kB,Vs:q}}function e(z,M,d,A){var G=new Float32Array(2*A),kB=z.length/2,q=kB-M,fO=d*q,g=fO/A;
for(var w=0;w<A;++w){var jN=Math.floor(M+w*g),c6=Math.ceil(M+w*g),d=M+w*g,a7=c6-jN,bd=1,ey=0;if(a7!=0){bd=(c6-d)/a7;
ey=(d-jN)/a7}G[2*w]=bd*z[2*jN]+ey*z[2*c6];G[2*w+1]=bd*z[2*jN+1]+ey*z[2*c6+1]}return G}function U(z,M,d){var A=d.ack,G=M*2*Math.PI,kB=G,q=0;
if(d.shape==0){q=(Math.sin(2*kB+Math.PI/2)+1)/2}else if(d.shape==1){q=(Math.sin(kB+Math.PI/2)+1)/2}else{q=(4*Math.sin(3/4*kB+Math.PI)+Math.sin(Math.PI/2+2*kB)-2*kB/Math.PI+6)/7}return Math.min(1,1-A+A*q)}function o(z,M,d,A){var G=[];
for(var w=0;w<z.length;++w){G.push(e(z[w],M[w],d[w],A))}return G}function b(z,M,d){var A=[];for(var w=0;
w<z.length;++w){var G=L(2*Math.PI*d.random()),kB=L(2*Math.PI*d.random()),q=d.Pj*.5*J({WL:1})/J(d),fO=q*d.Ol/200,g=q*M/500,jN=new Float32Array(z[0].length);
for(var c6=0;c6<z[0].length/2;++c6){var a7=L(2*Math.PI*d.random()),bd=2*c6/z[0].length;jN[2*c6]=z[w][2*c6]+fO*(a7[0]+((1-bd)*G[0]+bd*kB[0]));
jN[2*c6+1]=z[w][2*c6+1]+g*(a7[1]+((1-bd)*G[1]+bd*kB[1]))}A.push(jN)}return A}function u(z,M,d){var A=d.cX,G=2/A,kB=[1/10,1/30,1/40,1/45,1/100],q=kB[d.WL-1],fO=4*(d.opacity/25*G*q)*(1-d.Pj/150),a7=0,ey=0;
if(d.style==3){return fO*.09}var g=2.2*(z-.5),jN=g*g*g*g+.27+Math.max(0,(d.opacity-50)/15),c6=2*(Math.sin(3*Math.PI*M)/(Math.PI*M+2)+1.1)-M/2;
M=2*M;if(M<.41){var bd=2*Math.PI*M/.41;a7=(Math.sin(bd-Math.PI/2)+1)/4+.5}else if(M<.77){var bd=2*Math.PI*(M-.41)/.36;
a7=(Math.sin(bd-Math.PI/2)+1)/4+.5-bd/2/Math.PI*.5}else{var bd=2*Math.PI*(M-.77)/.23;a7=(Math.sin(bd-Math.PI/2)+1)/2*.12}a7*=3;
a7+=Math.max(0,(d.opacity-50)/15);if(d.type==6){ey=c6}else{ey=a7}return fO*jN*ey}function Z(z){return{H:z.random()*7/2+.5,IO:z.random()*2*Math.PI}}function I(z,M,d){return d.Ol/300*C({WL:1})/C(d)*10*(Math.sin(M.H*2*Math.PI*z+M.IO)+10*(d.random()-.5))}function y(z){var M=Math.exp(-z.n_/25);
return{H:z.random()*3/2+.5,IO:z.random()*2*Math.PI,PA:(z.random()-.5)*10*M}}function D(z,M){var d=Math.ceil(a(z)),A=[];
for(var w=0;w<=d;++w){A.push(y(M))}return A}function N(z,M){var d=M.H*4*Math.PI*z+M.IO;return Math.exp(-1/2*Math.PI*z)*Math.cos(d)*Math.cos(d)*Math.cos(d)*Math.cos(d)*Math.cos(d)+z*M.PA-M.PA/4}function j(z,M,d,A,G){var kB=0,q=J(M)-1;
for(var w=0;w<q;++w){for(var fO=0;fO<z.length-1;fO+=C(M)-1){for(var g=w;g<z[0].length/2-q;g+=q){for(var jN=fO;
jN<fO+(C(M)-1);++jN){d[G+kB]=u(jN*(M.cX-1)/(z.length-1)%1,g/z[0].length,M);var c6=0,a7=0;if(M.type==6&&jN!=0&&jN!=z.length-1){a7=(z[jN][2*(g+1)+1]-z[jN][2*g+1])/2;
c6=(z[jN][2*(g+1)]-z[jN][2*g])/2}A[8*G+8*kB]=z[jN][2*g]+c6;A[8*G+8*kB+1]=z[jN][2*g+1]+a7;A[8*G+8*kB+2]=z[jN][2*(g+q)]+c6;
A[8*G+8*kB+3]=z[jN][2*(g+q)+1]+a7;A[8*G+8*kB+4]=z[jN+1][2*(g+q)];A[8*G+8*kB+5]=z[jN+1][2*(g+q)+1];A[8*G+8*kB+6]=z[jN+1][2*g];
A[8*G+8*kB+7]=z[jN+1][2*g+1];++kB}}}}}function H(z){var M=[100,300,500,700,1e3];return M[z.WL-1]}function Q(z){var M=[30,70,100,140,300];
return M[z.WL-1]}function C(z){var M=[5,7,26,40,100];return M[z.WL-1]}function J(z){if(z.WL==1){return 4}else if(z.WL==2){return 8}else{return Math.floor(Q(z)/9)}}function E(z){var M=z.cX,d=new Float32Array(M),A=null;
for(var w=0;w<M;++w){d[w]=z.random()}if(z.cX<=3){d[0]=0;d[z.cX-1]=1}else{for(var w=0;w<2;++w){var G=Math.floor(z.random()*M);
if(A==null||A!=G){d[G]=w;A=G}else{d[G+1]=w}}}return d}function T(z,M){var d=[],A=.2,kB=0;for(var w=0;
w<z.length;++w){var G=M.random()*(1-A)+A;d.push(G)}var q=Math.min(3,M.cX);for(var w=0;w<z.length;++w){if(d[w]>.9){++kB}}while(kB<q){var fO=Math.floor(M.random()*z.length);
if(d[fO]<=.9){d[fO]=.9+.1*M.random();++kB}}return d}function c(z,M){var d=H(M),A=H({WL:1}),G=[];for(var w=0;
w<z.length;++w){G.push(Math.max(1,(M.random()*10+2)*d/A))}return G}function a(z){var M=0;for(var w=0;
w<z.length;++w){if(w==0){M+=z[w]}else{M+=Math.abs(z[w]-z[w-1])}}return M}function K(z,M){if(z.length/2-1==H(M)){return z}var d=new Float32Array(2*(H(M)+1)),A=(z.length-2)/(d.length-2);
for(var w=0;w<d.length/2;++w){var G=w*A,kB=Math.floor(G),q=Math.ceil(G),fO=q-kB,g=1,jN=0;if(fO!=0){g=(q-G)/fO;
jN=(G-kB)/fO}d[2*w]=g*z[2*kB]+jN*z[2*q];d[2*w+1]=g*z[2*kB+1]+jN*z[2*q+1]}return d}function Y(z,M){var d=z.length/2,A=l(z),G=A/d,kB=!1,g=0,jN=0,c6=1;
if(M){var q=Math.floor(A/M.ace),fO=M.ace;if(M.a99&&z[0]==z[z.length-2]&&z[1]==z[z.length-1]){kB=!0;fO=A/(q+1)}if(M.type==2&&!kB&&fO*q+M.length>A){d=q+1}else{d=q+2}G=fO}var a7=new Float32Array(d*2);
a7[0]=z[0];a7[1]=z[1];for(var w=1;w<d;++w){while(g<=w*G){jN=g;g+=W([z[2*c6],z[2*c6+1]],[z[2*(c6-1)],z[2*(c6-1)+1]]);
++c6}var bd=1-(w*G-jN)/(g-jN);a7[2*w]=(1-bd)*z[2*c6]+bd*z[2*(c6-1)];a7[2*w+1]=(1-bd)*z[2*c6+1]+bd*z[2*(c6-1)+1]}a7[a7.length-2]=z[z.length-2];
a7[a7.length-1]=z[z.length-1];return a7}function p(z,M){var d=Y(z,M),A=[];for(var w=0;w<(d.length-2)/2;
++w){var G=[];G.push(d[2*w]);G.push(d[2*w+1]);var kB=W([d[2*(w+1)],d[2*(w+1)+1]],[d[2*w],d[2*w+1]]),q=[(d[2*(w+1)]-d[2*w])/kB,(d[2*(w+1)+1]-d[2*w+1])/kB],fO=L((M.adZ-90)/360*2*Math.PI),g=q;
if(M.type==3){g=fO}else if(M.type==4){g=L($(q)+$(fO))}else if(M.type==5){g=L(((M.random()-.5)*M.adZ-90)/360*2*Math.PI)}var jN=M.length;
if(M.a3A){jN=2*M.random()*M.length}G.push(d[2*w]+g[0]*jN);G.push(d[2*w+1]+g[1]*jN);A.push(G)}return A}function P(z){if(z.aDe){z.O7=100*Math.random()}else{z.O7=z.aB6}z.random=new F;
z.random(z.O7);if(z.type==6){z.cX=2;z.shape=5;z.aCp=0}}function m(z,M){z=K(z,M);var d=[z],jN=0;if(M.type>=2&&M.type<6){d=p(z,M)}var A=J(M)-1,G=Q(M)-A,kB=(M.cX-1)*(C(M)-1),q=d.length*G*kB,fO=new Float32Array(q),g=new Float32Array(8*q);
for(var w=0;w<d.length;++w){for(var c6=0;c6<1e4;++c6){M.O7=x(M.O7)}M.random(M.O7);var z=K(d[w],M),a7=E(M),bd=a(a7),ey=h(z,a7,M),c5=B(M,a7),bx=R(c5.a9g,ey,M);
bx=o(bx,c5.Vs,c5.awp,Q(M));if(M.Pj>0){bx=b(bx,l(d[w]),M)}j(bx,M,fO,g,jN);jN+=G*kB}return[fO,g]}var a$=function(z){var M=performance.now(),d=z[0],A=z[1];
P(A);var G=[new Float32Array(0),new Float32Array(0)];for(var w=0;w<d.length;++w){A.O7=x(A.O7);var kB=m(d[w],A),q=new Float32Array(G[0].length+kB[0].length),fO=new Float32Array(G[1].length+kB[1].length);
q.set(G[0]);q.set(kB[0],G[0].length);G[0]=q;fO.set(G[1]);fO.set(kB[1],G[1].length);G[1]=fO}var g=performance.now();
if(A.ajJ){console.d1("Geometry: "+String(g-M)+"ms")}return G};return a$}(),f4=function(){function x(L,$){var l=[],k=0,V=$.length,i=0,f=0,X=new eu,s=0,R=1e9;
for(f=0;f<V;f++){var h=f*8,B=$[f];if(B<R)R=B;var e=L[h+0],U=L[h+1],o=L[h+2],b=L[h+3],u=L[h+4],Z=L[h+5],I=L[h+6],y=L[h+7],D=Math.min(e,o,u,I),N=Math.max(e,o,u,I),j=Math.min(U,b,Z,y),H=Math.max(U,b,Z,y),Q=new eu(D,j,N-D,H-j),C=Q.oA(X),J=s+B;
if(f-i<10&&(f==i||C.P()*.8<Q.P()+X.P())){X=C;s=J}else{l.push(f-i);i=f;X=Q;s=B;R=B}}if(f!=i)l.push(f-i);
return l}function F(L,$,l,k,V,i){var f=document.createElement("canvas"),U=0,q=.8;f.width=$;f.height=l;
var X=f.getContext("2d"),s=V[0],R=V[1],h=new Float64Array($*l),B=Date.now(),e=x(R,s);for(var o=0;o<e.length;
o++){var b=U,u=U+e[o],y=1e9,N=1e9,T=0;U=u;var Z=b*8,I=u*8,D=-y,j=-N;for(var H=Z;H<I;H+=2){var Q=R[H],C=R[H+1];
if(Q<y)y=Q;if(Q>D)D=Q;if(C<N)N=C;if(C>j)j=C}y=Math.floor(y);D=Math.ceil(D);N=Math.floor(N);j=Math.ceil(j);
var J=D-y,E=j-N;for(var c=b;c<u;c++)T+=s[c];for(var H=Z;H<I;H+=8){var a=s[H>>>3],K=R[H+0],Y=R[H+1],p=R[H+2],P=R[H+3],m=R[H+4],z=R[H+5],M=R[H+6],d=R[H+7];
X.fillStyle="rgba(0,0,0,"+a/T+")";X.beginPath();X.moveTo(K,Y);X.lineTo(p,P);X.lineTo(m,z);X.lineTo(M,d);
X.closePath();X.fill()}var A=X.getImageData(y,N,J,E).data;for(var C=0;C<E;C++)for(var Q=0;Q<J;Q++){var w=C*J+Q,G=A[w*4+3],kB=(N+C)*$+y+Q;
if(G!=0)h[kB]+=G*T}X.clearRect(y,N,J,E)}var fO=i[1].color,g=Math.pow(fO.o/255,q),jN=Math.pow(fO.r/255,q),c6=Math.pow(fO.z/255,q),a7=new eu(0,0,$,l),bd=r.R($*l*4);
for(var C=0;C<l;C++)for(var Q=0;Q<$;Q++){var w=C*$+Q,c=w*4,s=h[w]*(1/255);bd[c]=n(g,s);bd[c+1]=n(jN,s);
bd[c+2]=n(c6,s);bd[c+3]=Math.min(255,s*255)}r.l.X3("norm",bd,a7,k,a7,a7,1)}var W=new Uint8Array(2e3);
for(var w=0;w<2e3;w++)W[w]=255*Math.min(1,Math.log(w/700+1));function n(L,$){return W[Math.min(1500,~~(L*$*1e3))]}return F}(),aC=function(){var x=new Float32Array(3e3),F=new Float32Array(3e3),W=new Float32Array(256),n=new Float32Array(3e3);
function L(){var R=x.length;x[0]=Math.log10(157647e-9);for(var w=1;w<R;++w)x[w]=Math.log10(w/R)}function $(){var R=F.length;
for(var w=0;w<R;++w)F[w]=Math.pow(10,20*(w-R/2)/R)}function l(){var R=W.length;for(var w=0;w<R;++w)W[w]=r.kB(w/255)}function k(){var R=n.length;
for(var w=0;w<R;++w)n[w]=255*r.sW(w/(R-1))}function V(R,h){var B=R.length>>>2;for(var w=0;w<B;++w){var e=W[R[4*w]],U=W[R[4*w+1]],o=W[R[4*w+2]],b=.3811*e+.5783*U+.0402*o,u=.1967*e+.7244*U+.0782*o,Z=.0241*e+.1288*U+.8444*o;
b=x[~~(b*x.length)];u=x[~~(u*x.length)];Z=x[~~(Z*x.length)];h[3*w]=(b+u+Z)*.5773502692;h[3*w+1]=(b+u-2*Z)*.4082482905;
h[3*w+2]=(b-u)*.7071067812}}function i(R,h){var B=h.length>>>2,e=n.length-1;for(var w=0;w<B;++w){var U=.5773502692*R[3*w],o=.4082482905*R[3*w+1],b=.7071067812*R[3*w+2],u=F[~~((U+o+b+10)*(3e3/20))],Z=F[~~((U+o-b+10)*(3e3/20))],I=F[~~((U-2*o+10)*(3e3/20))],y=4.4679*u-3.5873*Z+.1193*I,D=-1.2186*u+2.3809*Z-.1624*I,N=.0497*u-.2439*Z+1.2045*I;
h[4*w]=n[~~(e*Math.max(0,Math.min(1,y)))];h[4*w+1]=n[~~(e*Math.max(0,Math.min(1,D)))];h[4*w+2]=n[~~(e*Math.max(0,Math.min(1,N)))]}}function f(R){var h=0,B=0,e=0;
for(var w=0;w<R.length;w+=3){h+=R[w];B+=R[w+1];e+=R[w+2]}return[h/(R.length/3),B/(R.length/3),e/(R.length/3)]}function X(R,f){var h=0,B=0,e=0;
for(var w=0;w<R.length;w+=3){var U=R[w]-f[0],o=R[w+1]-f[1],b=R[w+2]-f[2];h+=U*U;B+=o*o;e+=b*b}return[Math.sqrt(h/(R.length/3)),Math.sqrt(B/(R.length/3)),Math.sqrt(e/(R.length/3))]}function s(R,h,B,e,U,o){L();
$();l();k();var b=0,Y,p;if(o[0]>100)b=-(o[0]-100)/100*.13;else if(o[0]>=75)b=(100-o[0])/25*.04;else if(o[0]>=50)b=.04+(75-o[0])/25*.04;
else if(o[0]>=25)b=.08+(50-o[0])/25*.08;else b=.16+(25-o[0])/25*.24;var u=(o[1]-100+100)/100,Z=o[2]/100,I=o[3],y=new Float32Array(R.length*3/4),D=new Float32Array(e.length*3/4),N=Date.now();
V(R,y);V(e,D);var j=Date.now(),H=f(y),Q=f(D),C=Date.now(),J=X(y,H),E=X(D,Q),T=Date.now();Q[0]*=Math.pow(10,b);
var c=[E[0]/J[0],E[1]/J[1],E[2]/J[2]],a=y.length,K=1/-1.1546978950500488;for(var w=0;w<a;w+=3){if(I){var P=Math.max(0,Math.min(1,y[w]*K));
P=1-Math.sqrt(P);Y=P*Q[1];p=P*Q[2]}else{Y=Q[1];p=Q[2]}y[w]=(y[w]-H[0])*c[0]+Q[0];y[w+1]=(y[w+1]-H[1])*c[1]*u+Y;
y[w+2]=(y[w+2]-H[2])*c[2]*u+p}var m=Date.now();i(y,U);var z=U.length>>>2;for(var w=0;w<z;++w){U[4*w]=(1-Z)*U[4*w]+Z*R[4*w];
U[4*w+1]=(1-Z)*U[4*w+1]+Z*R[4*w+1];U[4*w+2]=(1-Z)*U[4*w+2]+Z*R[4*w+2];U[4*w+3]=255}}return s}(),hA=function(){function x(F,W,n,L,$){var l=[-1,-1,-1,-1],k=255,V=160,i,f=!1,X=new Array(4);
X[0]=new Array(W);X[1]=new Array(n);X[2]=new Array(W);X[3]=new Array(n);var s=new Array(2);s[0]=new Array(n);
s[1]=new Array(n);function R(E,T,c,a,K){this.start=a;this.axis=K;this.dir=E;this.end=-1;this.source=T;
this.P=c}function h(E,T,c,a,K){if(c%2==0){if(!X[c][E])X[c][E]=new Array;X[c][E].push(new R(c,a,K,T,E))}else{if(!X[c][T])X[c][T]=new Array;
X[c][T].push(new R(c,a,K,E,T))}var Y=Date.now()}function B(w){var E=!1,T=0;if(F[4*w+3]<k)return E;var c=w%W,a=Math.floor(w/W);
e(c,a);if(w+W<W*n&&F[4*(w+W)+3]<k&&F[4*(w-W)+3]>=k&&F[4*(w-2*W)+3]>=k){var K=2;if(F[4*(w+W)+3]<=V)T=-1;
if(F[4*(w+2*W-1)+3]<k&&F[4*(w+2*W+1)+3]<k)E=!0;else if(F[4*(w+2*W-1)+3]>=k&&F[4*(w+1)+3]>=k)E=!0;else if(F[4*(w+2*W+1)+3]>=k&&F[4*(w-1)+3]>=k)E=!0;
h(c,a,K,T,E)}else if(w-W>=0&&F[4*(w-W)+3]<k&&F[4*(w+W)+3]>=k&&F[4*(w+2*W)+3]>=k){var K=0;if(F[4*(w-W)+3]<=V)T=-1;
if(F[4*(w-2*W-1)+3]<k&&F[4*(w-2*W+1)+3]<k)E=!0;else if(F[4*(w-2*W-1)+3]>=k&&F[4*(w+1)+3]>=k)E=!0;else if(F[4*(w-2*W+1)+3]>=k&&F[4*(w-1)+3]>=k)E=!0;
h(c,a,K,T,E)}T=0;if(w+1<W*n&&F[4*(w+1)+3]<k&&F[4*(w-1)+3]>=k&&F[4*(w-2)+3]>=k){var K=3;if(F[4*(w+1)+3]<=V)T=-1;
if(!E&&F[4*(w+W+2)+3]<k&&F[4*(w-W+2)+3]<k){E=!0;h(c,a,K,T,!0)}else h(c,a,K,T,!1)}else if(w>=1&&F[4*(w-1)+3]<k&&F[4*(w+1)+3]>=k&&F[4*(w+2)+3]>=k){var K=1;
if(F[4*(w-1)+3]<=V)T=-1;if(!E&&F[4*(w+W-2)+3]<k&&F[4*(w-W-2)+3]<k){E=!0;h(c,a,K,T,!0)}else h(c,a,K,T,!1)}return E}function e(w,E){if(l[0]==-1){l[0]=w;
l[1]=E;l[2]=1;l[3]=1}if(w<l[0]){l[2]+=l[0]-w;l[0]=w}if(w>l[0]+l[2])l[2]=w-l[0];if(E<l[1]){l[3]+=l[1]-E;
l[1]=E}if(E>l[1]+l[3])l[3]=E-l[1]}function U(E,w,T,c){if(!T.P)return;var a=(E+2)%4,K=T.start,Y=l[1];
if(E==2)Y+=l[3];else if(E==1)Y=l[0];else if(E==3)Y=l[0]+l[2];var p=T.source;if(X[a][w])for(var P=0;P<X[a][w].length;
++P){if(E>1){var m=K+Math.floor((X[a][w][P].start-K)/2);if(X[a][w][P].start>K&&m<Y)Y=m}else{var m=K-Math.floor((K-X[a][w][P].start)/2);
if(X[a][w][P].start<K&&m>Y)Y=m}}for(var z=1;z<Math.abs(Y-K);++z){var P=K+z;if(E==1||E==0)P=K-z;for(var M=0;
M<2;++M){var d=2*M,A=!1;if(E%2==0)d+=1;if(X[d][P]){for(var G=0;G<X[d][P].length;++G){if(X[d][P][G].P){var kB=X[d][P][G].start,q=w-kB,fO=P-K;
if(d==0||d==1)q=-q;if(q<=0)continue;if(E==0||E==1)fO=-fO;if(fO>q){Y=P;A=!0;break}}}if(A)break}}}T.end=Y;
u(E,w,K,Y,p)}function o(E){for(var w=0;w<X[E].length;++w){if(X[E][w])for(var T=0;T<X[E][w].length;++T){U(E,w,X[E][w][T])}}}function b(){var E=[2,0,3,1];
for(var w=0;w<E.length;++w)o(E[w])}function u(E,w,T,c,a){if(E==2)for(var K=T;K<=c;++K){if(!Z(K*W+w,(T+a)*W+w))return!1}else if(E==0)for(var K=T;
K>=c;--K){if(!Z(K*W+w,(T-a)*W+w))return!1}else if(E==1)for(var K=T;K>=c;--K){if(!Z(w*W+K,w*W+T-a))return!1}else if(E==3)for(var K=T;
K<=c;++K){if(!Z(w*W+K,w*W+T+a))return!1}}function Z(E,T){if(!i[E]){L[4*E]=L[4*T];L[4*E+1]=L[4*T+1];L[4*E+2]=L[4*T+2];
if(f)L[4*E+3]=255;i[E]=!0;return!0}return!1}function I(){for(var w=0;w<4;w+=1){for(var E=0;E<X[w].length;
++E){if(X[w][E])for(var T=0;T<X[w][E].length;++T){var c=X[w][E][T];for(var a=1;a<3;a+=2){var K=(w+a)%4;
if(X[K][c.start])for(var Y=0;Y<X[K][c.start].length;++Y){if(X[K][c.start][Y].start==c.axis){var dx=W*c.start+c.axis;
if(w%2==1){dx=c.start+W*c.axis;y(X[K][c.start][Y])}else y(c)}}}}}}}function y(E){if(E.dir%2==0){var dx=W*E.start+E.axis,T=E.start,c=1;
if(!i[dx+1])c=3;else if(i[dx-1])return;var a=L[4*dx],K=L[4*dx+1],Y=L[4*dx+2];while(L[4*dx]==a&&L[4*dx+1]==K&&L[4*dx+2]==Y){if(c==1){if(!s[0][T])s[0][T]=new Array;
s[0][T].push(new R(c,0,!1,E.axis,T))}else{if(!s[1][T])s[1][T]=new Array;s[1][T].push(new R(c,0,!1,E.axis,T))}if(E.dir==2){dx+=W;
T++}else{dx-=W;T--}}}}function D(){for(var E=0;E<2;++E){var T=(E+1)%2;for(var w=0;w<s[E].length;++w){if(s[E][w])for(var c=0;
c<s[E][w].length;++c){var a=l[0];if(E==1)a+=l[2];var K=s[E][w][c].start;if(s[T][w])for(var Y=0;Y<s[T][w].length;
++Y){var p=s[T][w][Y].TR;if(E==0){if(p>a&&p<K){a=K-Math.floor((K-p)/2)}}else{if(p<a&&p>K){a=K+Math.ceil((p-K)/2)}}}if(E==0)u(s[E][w][c].dir,w,K-1,a,-1);
else u(s[E][w][c].dir,w,K+1,a,-1)}}}for(var w=0;w<i.length;++w){if(!i[w]&&w%W>=l[0]&&w%W<=l[0]+l[2]&&Math.floor(w/W)>=l[1]&&Math.floor(w/W)<=l[1]+l[3]){var K=W;
if(w<K||!i[w-K])K=1;L[4*w]=L[4*(w-K)];L[4*w+1]=L[4*(w-K)+1];L[4*w+2]=L[4*(w-K)+2];i[w]=!0;if(f)L[4*w+3]=255}}}function N(){i=new Array(F.length/4);
for(var w=0;w<L.length/4;++w){i[w]=!1;L[4*w]=F[4*w];L[4*w+1]=F[4*w+1];L[4*w+2]=F[4*w+2];L[4*w+3]=F[4*w+3];
if(L[4*w+3]==255)i[w]=!0;if(B(w))i[w]=!1}if(l[0]>0){l[0]--;l[2]++}if(l[1]>0){l[1]--;l[3]++}if(l[0]+l[2]<W){l[2]++}if(l[1]+l[3]<n){l[3]++}}var j=Date.now();
N();var H=Date.now();b();var Q=Date.now();I();var C=Date.now();D();var J=Date.now();console.log("Init: "+String(H-j));
console.log("Filling: "+String(Q-H));console.log("Check areas: "+String(C-Q));console.log("Fill areas: "+String(J-C))}return x}();
function jD(){}jD.a1Q=function(x){var F=[r.kB(x[0]),r.kB(x[1]),r.kB(x[2]),0];return r.L5.se(r.L5.awS,F)};
jD.azD=function(x){var F=r.L5.se(r.L5.RV,x);return[r.sW(F[0]),r.sW(F[1]),r.sW(F[2])]};jD.An=function(x,F){var W={},n=5003,L=1667,$=25e3,l=57.4,k=16.1,V=1.8,i=0,f=1.54,X=.75,h=0;
if(F>0){x-=F/100*4}if(x<0){k=22.54;l=80.36;f=.756}if(F>0){V=1.3;X=.2}var s=Math.min(n+l*x,$),R=Math.max(n-k*x,L);
if(x<0){s=Math.max(n+k*x,L);R=Math.min(n-l*x,$)}if(x>0){if(x<=14){h=(x-1)/13*.075+.025}else if(x<=29){h=.1}else if(x<=60){h=.1-.1*(x-29)/(60-29)}else{var B=x-60;
i=-20*(B/40);h=-.3*(B/40)}}else{if(x<-60){var B=x+60;i=-20*(B/40)}}var e=Math.abs(x)/100*f+Math.abs(F)/100*X+h,U=-(F*V+i),o=iK.$$(s,-U),b=iK.Kw(o),u=iK.$$(R,0),Z=iK.Kw(u),I=iK.as$(b,Z);
W.adX=e;W.a41=I;if(x==0&&F==0)W.anK=!0;else W.anK=!1;return W};jD.anG=function(x,F,W,n){if(n.anK){return[x,F,W]}var L=this.a1Q([x,F,W]),$=L[0],l=L[1],k=L[2],V=l+1e-12,i=[$/V,l/V,k/V,0],f=r.L5.se(n.a41,i),X=0,s=.4;
f[0]*=V;f[1]*=V;f[2]*=V;if(V>s)X=1/(1-s)*(V-s);L[0]=(1-X)*f[0]+X*$;L[1]=(1-X)*f[1]+X*l;L[2]=(1-X)*f[2]+X*k;
return this.azD(L)};r.ai6={ty:function(x,F){var w=x.length;x.push(F);var W=w>>>1;while(W!=0&&x[w][0]<x[W][0]){var n=x[w];
x[w]=x[W];x[W]=n;w=W;W=w>>>1}},iz:function(x){if(x.length==2)return x.pop();var top=x[1],w=1;x[1]=x.pop();
var F=x.length;while(!0){var W=w<<1,n=W+1,L=w;if(W<F&&x[W][0]<x[L][0])L=W;if(n<F&&x[n][0]<x[L][0])L=n;
if(L==w)break;var $=x[w];x[w]=x[L];x[L]=$;w=L}return top},aq5:function(x){for(var w=1;w<x.length;w++){var F=w,W=1e9;
while(F!=0){var n=x[F][0];if(n>W){console.log(w);throw"e"}W=n;F=F>>>1}}}};r.l={};r.l.RJ=new Float64Array(256);
r.l.DV=new Uint8Array(256*256);r.l.nY=new Uint8Array(256*256);(function(){for(var w=0;w<256;w++)r.l.RJ[w]=255/w;
for(var w=0;w<256;w++)for(var x=0;x<256;x++)r.l.DV[w*256+x]=w==0?0:Math.round(x*255/w);for(var w=0;w<256;
w++)for(var x=0;x<256;x++)r.l.nY[w*256+x]=Math.round(w*(255-x)/255)}());r.l.X3=function(x,F,W,n,L,$,l,k){if(k==null)k=hM.j0();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(x)==-1){l=l*k.fill;k.fill=1;k.style=!1}var V="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),i="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),f=r.l[x+"F"];
if(k.a3==null&&x=="norm")r.l.a6C(F,W,n,L,$,l,f,k.u9?1:0);else if(x=="diss")r.l.atE(F,W,n,L,$,l,f,k.u9?1:0);
else if(V.indexOf(x)!=-1)r.l.aiX(F,W,n,L,$,l,f,k);else if(i.indexOf(x)!=-1)r.l.adD(F,W,n,L,$,l,f,k)};
r.l.axw=function(x,F,W){var n=x*W+1-W;return n<.001?0:1-Math.min(1,(1-F)/n)};r.l.adO=function(x,F,W){return x*W==1?1:Math.min(1,F/(1-x*W))};
r.l.ql=function(x){return x<=.25?((16*x-12)*x+4)*x:Math.sqrt(x)};r.l.normF=function(x,F,W){return x};
r.l.darkF=function(x,F,W){return Math.min(x,F)};r.l["mul F"]=function(x,F,W){return x*F};r.l.idivF=function(x,F,W){var n=x*W+1-W;
return F==1?1:1-F>=n?0:1-(1-F)/n};r.l.lbrnF=function(x,F,W){return Math.max(0,x*W+F-W)};r.l.dkClF=function(x,F,W){var n=r.fz(x)<r.fz(F)?x:F;
W.o=n.o;W.r=n.r;W.z=n.z;return W};r.l.liteF=function(x,F,W){return Math.max(x,F)};r.l.scrnF=function(x,F,W){return F+x-F*x};
r.l["div F"]=function(x,F,W){x*=W;return F==0?0:F>=1-x?1:F/(1-x)};r.l.lddgF=function(x,F,W){x*=W;return Math.min(1,x+F)};
r.l.lgClF=function(x,F,W){var n=r.fz(x)>r.fz(F)?x:F;W.o=n.o;W.r=n.r;W.z=n.z;return W};r.l.overF=function(x,F,W){return r.l.hLitF(F,x,W)};
r.l.sLitF=function(x,F,W){return x<=.5?F-(1-2*x)*F*(1-F):F+(2*x-1)*(r.l.ql(F)-F)};r.l.hLitF=function(x,F,W){return x<=.5?r.l["mul F"](2*x,F,W):r.l.scrnF(2*x-1,F,W)};
r.l.vLitF=function(x,F,W){return x<=.5?r.l.axw(2*x,F,W):r.l.adO(2*x-1,F,W)};r.l.lLitF=function(x,F,W){return x<=.5?r.l.lbrnF(2*x,F,W):r.l.lddgF(2*x-1,F,W)};
r.l.pLitF=function(x,F,W){return x<=.5?r.l.darkF(2*x,F,W):r.l.liteF(2*x-1,F,W)};r.l.hMixF=function(x,F,W){if(W>.99)return x+F<1?0:1;
return Math.min(1,Math.max(0,(F+x*W-W)/(1-W+1e-6)))};r.l.diffF=function(x,F,W){x*=W;return Math.abs(x-F)};
r.l.smudF=function(x,F,W){return x+F-2*x*F};r.l.fsubF=function(x,F,W){return Math.max(F-x,0)};r.l.fdivF=function(x,F,W){return Math.min(F/x,1)};
r.l["hue F"]=function(x,F,W){r.l.Ml(x,r.NV(F),W);r.l.ic(W,r.fz(F),W)};r.l["sat F"]=function(x,F,W){r.l.Ml(F,r.NV(x),W);
r.l.ic(W,r.fz(F),W)};r.l.colrF=function(x,F,W){r.l.ic(x,r.fz(F),W)};r.l["lum F"]=function(x,F,W){r.l.ic(F,r.fz(x),W)};
r.l.ic=function(x,F,W){var n=F-r.fz(x);W.o=x.o+n;W.r=x.r+n;W.z=x.z+n;r.l.any(W)};r.l.any=function(x){var F=x.o,W=x.r,n=x.z,L=r.Ns(F,W,n),dx=Math.min(F,W,n),$=Math.max(F,W,n);
if(dx<0){var l=L/(L-dx);F=L+(F-L)*l;W=L+(W-L)*l;n=L+(n-L)*l}if($>1){var l=(1-L)/($-L);F=L+(F-L)*l;W=L+(W-L)*l;
n=L+(n-L)*l}x.o=F;x.r=W;x.z=n};r.l.Ml=function(x,F,W){var n=r.l.aoZ,L=x.o,$=x.r,l=x.z;if(L==$&&$==l){W.o=W.r=W.z=0}else if(L>$){if(L>l){if($>l){W.o=F;
W.r=n(L,$,l,F);W.z=0}else{W.o=F;W.z=n(L,l,$,F);W.r=0}}else{W.z=F;W.o=n(l,L,$,F);W.r=0}}else{if(L<l){if($>l){W.r=F;
W.z=n($,l,L,F);W.o=0}else{W.z=F;W.r=n(l,$,L,F);W.o=0}}else{W.r=F;W.o=n($,L,l,F);W.z=0}}};r.l.aoZ=function(x,F,W,n){return(F-W)*n/(x-W)};
r.l.a6C=function(x,F,W,n,L,$,l,k){var V=F.jB(n).jB(L),i=Math.max(0,V.x-F.x),f=Math.max(0,V.x-n.x),X=Math.max(0,V.y-F.y),s=Math.max(0,V.y-n.y),R=V.m,h=V.e,B=F.m,e=n.m,U=r.l.DV,o=r.l.nY,b=new Uint32Array(x.buffer),u=new Uint32Array(W.buffer);
for(var w=0;w<h;w++){var Z=(X+w)*B+i,I=(s+w)*e+f;for(var y=0;y<R;y++){var D=b[Z+y],c=1;if(D>>>24==0)continue;
if(D>>>24==255&&$==1&&k==0){u[I+y]=b[Z+y];continue}var N=u[I+y],j=D&255,H=D>>>8&255,Q=D>>>16&255,C=N&255,J=N>>>8&255,E=N>>>16&255,T=$,a=(N>>>24)*(1/255);
if(k==0){T=(D>>>24)*$*(1/255);c=a}var K=c*(1-T),Y=T+K,p=1/Y;u[I+y]=~~(.5+(k*a+(1-k)*Y)*255)<<24|~~(.5+(Q*T+E*K)*p)<<16|~~(.5+(H*T+J*K)*p)<<8|~~(.5+(j*T+C*K)*p)}}};
r.l.avA=function(x,F,W,n,L,$){var l=F.jB(n).jB(L),k=Math.max(0,l.x-F.x),V=Math.max(0,l.x-n.x),i=Math.max(0,l.y-F.y),f=Math.max(0,l.y-n.y),X=l.m,s=l.e,R=F.m,h=n.m,B=r.l.DV,e=r.l.nY,U=new Uint32Array(x.buffer),o=new Uint32Array(W.buffer),b=Math.floor(Math.random()*16777215),u=0;
for(var w=0;w<s;w++){var Z=(i+w)*R+k,I=(f+w)*h+V;for(var y=0;y<X;y++){var D=U[Z+y];if(D>>>24==0)continue;
if(D>>24==255&&$==1){o[I+y]=D;continue}var N=o[I+y],j=(D>>>24)*$*(1/255),H=(N>>>24)*(1/255),Q=H*(1-j),C=j+Q,J=D&255,E=D>>>8&255,T=D>>>16&255,c=N&255,a=N>>>8&255,K=N>>>16&255;
u>>>=8;if((y&3)==0)u=r.l.AX(I+y+b);var Y=C==0?0:1/C,p=Math.floor(C*(256*255))+(u&255)>>>8,P=Math.floor((T*j+K*Q)*Y+.5),m=Math.floor((E*j+a*Q)*Y+.5),z=Math.floor((J*j+c*Q)*Y+.5);
o[I+y]=p<<24|P<<16|m<<8|z}}};r.l.kU=function(x,F,W,n,L,$,l,k){var V=r.Ns(x,F,W),i=r.Ns(n,L,$),f=Math.min,X=r.l.aeT,s=X(V,k,0);
s=f(s,X(x,k,8));s=f(s,X(F,k,16));s=f(s,X(W,k,24));var R=X(i,k,4);R=f(R,X(n,k,12));R=f(R,X(L,k,20));R=f(R,X($,k,28));
R=Math.max(R,1-l);var h=Math.min(s,R);return h<0?0:h>1?1:h};r.l.aeT=function(x,F,w){return Math.min((x-F[w])*F[w+1],(x-F[w+3])*F[w+2])};
r.l.aiX=function(x,F,W,n,L,$,l,k){var V=1/255,i=V*$,f=k.u9?1:0,X=k.fill,s=k.style,R=F.jB(n).jB(L),h=Math.max(0,R.x-F.x),B=Math.max(0,R.x-n.x),e=Math.max(0,R.y-F.y),U=Math.max(0,R.y-n.y),o=R.m,b=R.e,u=F.m,Z=n.m,I=new Uint32Array(x.buffer),y=new Uint32Array(W.buffer);
for(var w=0;w<b;w++){var D=(e+w)*u+h,N=(U+w)*Z+B;for(var j=0;j<o;j++,D++,N++){var H=I[D],Y=1;if(H>>>24==0)continue;
var Q=y[N],C=(H&255)*V,J=(H>>>8&255)*V,E=(H>>>16&255)*V,T=(Q&255)*V,c=(Q>>>8&255)*V,a=(Q>>>16&255)*V,K=$;
if(f==0){K=(H>>>24)*i;Y=(Q>>>24)*V}if(k.a3)K*=r.l.kU(C,J,E,T,c,a,Y,k.a3);var p=Y*(1-K),P=K+p,m=P==0?0:255/P,z=s?1:K,M=((1-Y)*K*C+(1-z)*Y*T+z*Y*l(C,T,(1+K-z)*X))*m,d=((1-Y)*K*J+(1-z)*Y*c+z*Y*l(J,c,(1+K-z)*X))*m,A=((1-Y)*K*E+(1-z)*Y*a+z*Y*l(E,a,(1+K-z)*X))*m;
P=K*X+Y*(1-K*X);var G=~~(P*255+.5);y[N]=f*(Q>>>24)+(1-f)*G<<24|A<<16|d<<8|M}}};r.l.adD=function(x,F,W,n,L,$,l,k){var V=1/255,i=V*$,f=k.u9?1:0,X=F.jB(n).jB(L),s=Math.max(0,X.x-F.x),R=Math.max(0,X.x-n.x),h=Math.max(0,X.y-F.y),B=Math.max(0,X.y-n.y),e=X.m,U=X.e,o=new Uint32Array(x.buffer),b=new Uint32Array(W.buffer),u={o:0,r:0,z:0},Z={o:0,r:0,z:0},I={o:0,r:0,z:0};
for(var w=0;w<U;w++){var y=(h+w)*F.m+s,D=(B+w)*n.m+R;for(var N=0;N<e;N++,y++,D++){var j=o[y],H=b[D],Q=(j&255)*V,C=(j>>>8&255)*V,J=(j>>>16&255)*V,E=(H&255)*V,T=(H>>>8&255)*V,c=(H>>>16&255)*V,a=$,K=1;
if(f==0){a=(j>>>24)*i;K=(H>>>24)*V}if(k.a3)a*=r.l.kU(Q,C,J,E,T,c,K,k.a3);var Y=K*(1-a),p=a+Y,P=255/p;
u.o=Q;u.r=C;u.z=J;Z.o=E;Z.r=T;Z.z=c;l(u,Z,I);var m=(((1-K)*Q+K*I.o)*a+E*Y)*P,z=(((1-K)*C+K*I.r)*a+T*Y)*P,M=(((1-K)*J+K*I.z)*a+c*Y)*P,d=f*(H>>>24)+(1-f)*Math.round(p*255);
b[D]=d<<24|M<<16|z<<8|m}}};r.l.W1=function(x){x=x^61^x>>>16;x=x+(x<<3);x=x^x>>>4;x=x*668265261;x=x^x>>15;
return(x&16777215)*(1/16777215)};r.l.AX=function(x){x=x^61^x>>>16;x=x+(x<<3);x=x^x>>>4;x=x*668265261;
x=x^x>>>15;return x};r.l.SS=function(x){this.ey=x};r.l.SS.prototype.get=function(){var x=this.ey=r.l.AX(this.ey);
return(x&16777215)*(1/16777215)};r.l.atE=function(x,F,W,n,L,$,l,k){var V=1/255,i=V*$,f=Math.round($*(256*256*256/255)),X=F.jB(n).jB(L),s=Math.max(0,X.x-F.x),R=Math.max(0,X.x-n.x),h=Math.max(0,X.y-F.y),B=Math.max(0,X.y-n.y),e=X.m,U=X.e,o=new Uint32Array(x.buffer),b=new Uint32Array(W.buffer);
for(var w=0;w<U;w++){var u=(h+w)*F.m+s,Z=(B+w)*n.m+R;for(var I=0;I<e;I++,u++,Z++){var y=o[u],D=b[Z],N=k*255+(1-k)*(y>>>24);
if((r.l.AX(u)&16777215)>=N*f)continue;b[Z]=y&16777215|k*(D>>>24)+(1-k)*255<<24}}};r.l.azf=function(x,F,W){for(var w=0;
w<x.length;w+=4){var n=W[w>>>2];if(n==0)continue;var L=n*(1/255),$=1/L,l=F[w],k=F[w+1],V=F[w+2],i=x[w],f=x[w+1],X=x[w+2];
F[w]=Math.min(255,Math.max(0,Math.round((l-(1-L)*i)*$)));F[w+1]=Math.min(255,Math.max(0,Math.round((k-(1-L)*f)*$)));
F[w+2]=Math.min(255,Math.max(0,Math.round((V-(1-L)*X)*$)));F[w+3]=255}};r.l.qV=function(x,F,W,n,L,$,l,k,V,i,f){if(i==null)i=!1;
if(f==null)f=[1,1,1];var X=255<<24|f[2]*16711680|f[1]*65280|f[0]*255,s=~X;if(L&&!F.rr($)){var R=r.R(F.P()*4);
R.fill(l);r.Hz(L,$,R,F);L=R;$=F}if(i){if(L==null)r.l.ayw(x,F,W,n,L,k,V,X,s);else r.l.aC2(x,F,W,n,L,k,V)}else{if(L==null)r.l.asO(x,F,W,n,L,k,V,X,s);
else r.l.a7m(x,F,W,n,L,k,V)}};r.l.asO=function(x,F,W,n,L,$,l,k,V){var i=1/255,f=F.jB(n).jB($),X=Math.max(0,f.x-F.x),s=Math.max(0,f.x-n.x),R=Math.max(0,f.y-F.y),h=Math.max(0,f.y-n.y),B=f.m,e=f.e,U=new Uint32Array(x.buffer),o=new Uint32Array(W.buffer),b=r.l.DV,u=l*255&255;
for(var w=0;w<e;w++){var Z=(R+w)*F.m+X,I=(h+w)*n.m+s;for(var y=0;y<B;y++,Z++,I++){var D=U[Z],N=o[I],j=D>>>24,H=N>>>24,Q=r.$0(u*j+(255-u)*H),C=r.$0(j*u),J=r.$0(H*(255-u)),E=D&255,T=D>>>8&255,c=D>>>16&255,a=N&255,K=N>>>8&255,Y=N>>>16&255,p=C*E+a*J,P=C*T+K*J,m=C*c+Y*J;
p=b[Q<<8|r.$0(p)];P=b[Q<<8|r.$0(P)];m=b[Q<<8|r.$0(m)];var z=Q<<24|m<<16|P<<8|p;o[I]=V&N|k&z}}};r.l.ayw=function(x,F,W,n,L,$,l,k,V){var i=1/255,f=F.jB(n).jB($),X=Math.max(0,f.x-F.x),s=Math.max(0,f.x-n.x),R=Math.max(0,f.y-F.y),h=Math.max(0,f.y-n.y),B=f.m,e=f.e,U=new Uint32Array(x.buffer),o=new Uint32Array(W.buffer),b=r.l.DV,u=l*16777215&16777215;
for(var w=0;w<e;w++){var Z=(R+w)*F.m+X,I=(h+w)*n.m+s;for(var y=0;y<B;y++,Z++,I++){if((r.l.AX(Z)&16777215)<u){o[I]=V&o[I]|k&U[Z]}}}};
r.l.a7m=function(x,F,W,n,L,$,l){var k=1/255,V=F.jB(n).jB($),i=Math.max(0,V.x-F.x),f=Math.max(0,V.x-n.x),X=Math.max(0,V.y-F.y),s=Math.max(0,V.y-n.y),R=V.m,h=V.e,B=new Uint32Array(x.buffer),e=new Uint32Array(W.buffer),U=r.l.DV;
for(var w=0;w<h;w++){var o=(X+w)*F.m+i,b=(s+w)*n.m+f;for(var u=0;u<R;u++,o++,b++){var Z=L[o]*l&255;if(Z==0)continue;
if(Z==255){e[b]=B[o];continue}var I=B[o],y=e[b],D=I>>>24,N=y>>>24,j=r.$0(Z*D+(255-Z)*N),H=r.$0(D*Z),Q=r.$0(N*(255-Z)),C=I&255,J=I>>>8&255,E=I>>>16&255,T=y&255,c=y>>>8&255,a=y>>>16&255,K=U[j<<8|r.$0(H*C+T*Q)],Y=U[j<<8|r.$0(H*J+c*Q)],p=U[j<<8|r.$0(H*E+a*Q)];
e[b]=j<<24|p<<16|Y<<8|K}}};r.l.aC2=function(x,F,W,n,L,$,l){var k=1/255,V=F.jB(n).jB($),i=Math.max(0,V.x-F.x),f=Math.max(0,V.x-n.x),X=Math.max(0,V.y-F.y),s=Math.max(0,V.y-n.y),R=V.m,h=V.e,B=new Uint32Array(x.buffer),e=new Uint32Array(W.buffer),U=r.l.DV,o=Math.round(l*257);
for(var w=0;w<h;w++){var b=(X+w)*F.m+i,u=(s+w)*n.m+f;for(var Z=0;Z<R;Z++,b++,u++){var I=L[b]*o;if((r.l.AX(b)&65535)<I)e[u]=B[b]}}};
r.l.a1r=function(x,F,W,n,L,$,l){var k=1/255,V=F.jB(n).jB($),i=Math.max(0,V.x-F.x),f=Math.max(0,V.x-n.x),X=Math.max(0,V.y-F.y),s=Math.max(0,V.y-n.y),R=V.m,h=V.e,B=new Uint32Array(x.buffer),e=new Uint32Array(W.buffer),U=Math.floor(Math.random()*n.P()),o=r.l.aCF;
for(var w=0;w<h;w++){var b=(X+w)*F.m+i,u=(s+w)*n.m+f;for(var Z=0;Z<R;Z++){var I=L[b+Z]*l;if(I==0)continue;
if(I==255){e[u+Z]=B[b+Z];continue}var y=B[b+Z],D=e[u+Z],N=y>>>24,j=D>>>24,H=N*I*(1/255),Q=j*(255-I)*(1/255),C=y&255,J=y>>>8&255,E=y>>>16&255,T=D&255,c=D>>>8&255,a=D>>>16&255,K=r.l.AX(u+Z+U),Y=Math.floor((H+Q)*256+.5)+(K>>>0&255)>>>8,p=Y==0?0:256/(H+Q),P=C*H+T*Q,m=J*H+c*Q,z=E*H+a*Q,M=Math.floor(P*p+.5)+(K>>>8&255)>>>8,d=Math.floor(m*p+.5)+(K>>>16&255)>>>8,A=Math.floor(z*p+.5)+(K>>>24&255)>>>8;
e[u+Z]=Y<<24|A<<16|d<<8|M}}};r.l.aCF=function(x){return Math.floor(x+Math.random())};r.l.f9=function(x,F,W,n,L,$,l){var k=1/255,V=F.jB(n).jB($),i=Math.max(0,V.x-F.x),f=Math.max(0,V.x-n.x),X=Math.max(0,V.y-F.y),s=Math.max(0,V.y-n.y),R=V.m,h=V.e;
for(var w=0;w<h;w++){var B=(X+w)*F.m+i,e=(s+w)*n.m+f;for(var U=0;U<R;U++,B++,e++){var o=l*L[B]*k;if(o==0)continue;
if(o==1){W[e]=x[B];continue}W[e]=x[B]*o+W[e]*(1-o)}}};r.afk=function(){function x($){var l=$*.85;return Math.exp(-(l*l)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function F($,l){var k=$<l?1:x(($-l)/Math.pow(1.001-l,.86));
return k}var W=[];function n($){if(W[$])return W[$];var l=Math.pow($,.55),k=new Float64Array(8e3),V=0,i=8e3;
for(var w=0;w<8e3;w++){var f=F(w*(1.55/4e3),l);if(f>=1)V=w;else if(f<=0&&i==8e3)i=w;k[w]=f}var X=[k,V,i];
W[$]=X;return X}function L($,l,k){if($<4)l=1;var V=1+.55*(1-l),i=Math.round(k*$*V)+2,f=new eu(0,0,i,i),X=r.R(i*i),s=[X,f],R=i/2,h=V/(R-1);
if($==2)h*=2;if($==3)h*=1.6;var B=Date.now(),e=n(l),U=Math.round(8e3/R),o=e[0],b=e[1]-U,u=e[2]+U,Z=Math.min(i,i+1>>>1),I=h*.4*(4e3/1.55),y=r.R(8e3);
for(var w=0;w<8e3;w++){var D=w,N=w,j=~~Math.max(0,D-I-I),H=~~Math.max(0,D-I),Q=~~Math.min(7999,D+I),C=~~Math.min(7999,D+I+I),J=~~(.5+255*(1/5)*(o[N]+o[j]+o[H]+o[Q]+o[C]));
y[w]=J;if(J==0)break}for(var w=0;w<Z;w++){var E=h*(w-R+.5),T=E*E,c=w*i,a=(i-1-w)*i;for(var K=0;K<Z;K++){var Y=h*(K-R+.5),N=~~(Math.sqrt(Y*Y+T)*(4e3/1.55));
if(u<N)continue;else if(N<b){var J=255;while(K<Z){var p=i-1-K;X[c+K]=J;X[c+p]=J;X[a+K]=J;X[a+p]=J;K++}break}else{var J=y[N],p=i-1-K;
X[c+K]=J;X[c+p]=J;X[a+K]=J;X[a+p]=J}}}return s}return{aiQ:L}}();r.Qd={};r.Qd.alh=function(x,F,W,n,L,$){r.Qd.tp(x,F,W,n,L,$,null,0)};
r.Qd.adW=function(x,F,W,n,L){r.Qd.tp(x,F,W,n,L,null,null,0)};r.Qd.amc=function(x,F,W,n,L,$,l){r.Qd.tp(x,F,W,n,L,null,$,l*.5)};
r.Qd.tp=function(x,F,W,n,L,$,l,k){var V=0,Q=0,C=1e9,J=0,E=1e9,T=0,c=1e9,a=0,K=0,Y=0,p=0;if($){V=L*.5;
L=3+Math.round((L-3)*.75)}if(l){L=Math.round(L*2.2)}var i=1/L,f=Math.floor(F*i)+1,X=Math.floor(W*i)+1,s=[],R=new Uint8Array(f*X*4),h=l?.5:1,B=$?64:0;
for(var e=0;e<X;e++){var U=l?.5*(e&1):0;for(var o=0;o<f;o++){var b=(o+Math.random()*h+U)*L,u=(e+Math.random()*h)*L;
s.push(b,u);var Z=Math.min(F-1,Math.floor(b)),I=Math.min(W-1,Math.floor(u)),y=(I*F+Z)*4,D=(e*f+o)*4;
for(var w=0;w<4;w++)R[D+w]=Math.max(0,Math.min(255,Math.floor(x[y+w]+(Math.random()-.5)*B)))}}var N=$?$:l?l:[0,0,0],j=f*X*2,H=[-f-1,-f,-f+1,-1,0,1,f-1,f,f+1];
for(var e=0;e<W;e++){Y=0;for(var o=0;o<F;o++){var P=o+.5,m=e+.5,z=Math.floor(m*i),M=Math.floor(P*i),d=z*f+M,kB=0,q=0;
if(Y>1+k){C=r.Qd.a9S(s,Q,P,m);a=Math.sqrt(C);Y--;p++}else{C=E=c=1e9;for(var w=0;w<H.length;w++){var A=(d+H[w])*2;
if(A<0||A>=j)continue;var G=r.Qd.a9S(s,A,P,m);if(G<c){if(G<E){if(G<C){T=J;c=E;J=Q;E=C;Q=A;C=G}else{T=J;
c=E;J=A;E=G}}else{T=A;c=G}}}a=Math.sqrt(C);K=Math.sqrt(E);Y=K-(a+K)*.5}if(l==null){var fO=(a+K)*.5,g=$?Math.max(0,fO-V):0;
kB=Math.max(0,Math.min(1,.5+fO-a-g));q=Math.max(0,Math.min(1,1-(.5+fO-a)-g))}else{var jN=Math.min(r.Qd.a5n(s,Q,J,P,m),r.Qd.a5n(s,Q,T,P,m));
kB=Math.max(0,Math.min(1,jN-k*.5));if(P<k||F-k<P||m<k||W-k<m)kB=0;q=0}var c6=1-q-kB,D=e*F+o<<2,a7=Q<<1,bd=J<<1;
n[D+0]=Math.floor(.5+kB*R[a7+0]+q*R[bd+0]+c6*N[0]);n[D+1]=Math.floor(.5+kB*R[a7+1]+q*R[bd+1]+c6*N[1]);
n[D+2]=Math.floor(.5+kB*R[a7+2]+q*R[bd+2]+c6*N[2]);n[D+3]=x[D+3]}}};r.Qd.a9S=function(x,F,W,n){var L=W-x[F],$=n-x[F+1];
return L*L+$*$};r.Qd.a5n=function(x,F,W,n,L){var $=x[F],l=x[F+1],k=x[W],V=x[W+1],i=($+k)*.5,f=(l+V)*.5,X=i+(V-l),s=f-(k-$),R=s-f,h=X-i;
return Math.abs(R*n-h*L+X*f-s*i)/Math.sqrt(h*h+R*R)};r.wG={};r.wG.tJ=function(x){if(r.wG.B9.length<x)r.wG.B9=r.R(x);
return r.wG.B9};r.wG.B9=r.R(0);r.wG.a5G=function(x){if(r.wG.c$.length<x)r.wG.c$=new Float32Array(x);
return r.wG.c$};r.wG.c$=new Float32Array(0);r.wG.kt=function(x,F,W,n){var L=W.m,$=W.e;r.wG.a6z(x,F,L,$,n)};
r.wG.P0=function(x,F,W,n){var L=W.m,$=W.e;r.wG.aeu(x,F,L,$,n)};r.wG.av7=function(x,F,W){var n=F.m,L=F.e;
r.wG.a0R(x,n,L,W)};r.wG.vL=function(x,F,W,n,L){var $=W.m,l=W.e;r.wG.adJ(x,F,$,l,n,L)};r.wG.asB=function(x,F,W,n){var L=W.m,$=W.e;
n=Math.round(n);var l=r.wG.tJ(L*$);r.Bj(x,F);r.wG.JC(F,l,L,$,n)};r.wG.X_=function(x,F,W){var n=F.m,L=F.e;
W=Math.round(W);var $=r.wG.tJ(n*L*4);r.wG.uo(x,$,n,L,W)};r.wG.XI=function(x,F,W,n){var L=W.m,$=W.e;n=Math.round(n);
var l=r.wG.a5G(L*$);r.Bj(x,F);r.wG.ahH(F,l,L,$,n)};r.wG.aw$=function(x,F,W){var n=F.m,L=F.e;W=Math.round(W);
var $=r.wG.tJ(n*L*4);r.wG.at_(x,$,n,L,W);r.Bj($,x)};r.wG.mo=function(x,dx){var F=Math.sqrt(12*x*x/dx+1),W=Math.floor(F);
if(W%2==0)W--;var n=W+2,L=(12*x*x-dx*W*W-4*dx*W-3*dx)/(-4*W-4),$=Math.round(L),l=[];for(var w=0;w<dx;
w++)l.push(w<$?W:n);return l};r.wG.a6z=function(x,F,W,n,L){var $=r.wG.mo(L,3),l=r.wG.tJ(W*n);r.Bj(x,F);
r.wG.JC(F,l,W,n,$[0]-1>>1);r.wG.JC(F,l,W,n,$[1]-1>>1);r.wG.JC(F,l,W,n,$[2]-1>>1)};r.wG.aeu=function(x,F,W,n,L){var $=r.wG.mo(L,2),l=r.wG.tJ(W*n);
r.Bj(x,F);r.wG.JC(F,l,W,n,$[0]-1>>1);r.wG.JC(F,l,W,n,$[1]-1>>1)};r.wG.a0R=function(x,F,W,n){var L=r.wG.mo(n,3),$=r.wG.tJ(F*W*4);
r.wG.uo(x,$,F,W,L[0]-1>>1);r.wG.uo(x,$,F,W,L[1]-1>>1);r.wG.uo(x,$,F,W,L[2]-1>>1)};r.wG.adJ=function(x,F,W,n,L,$){if($==null)$=3;
var l=r.wG.mo(L,$),k=r.wG.a5G(W*n);r.Bj(x,F);for(var w=0;w<$;w++)r.wG.ahH(F,k,W,n,(l[w]-1)/2)};r.wG.JC=function(x,F,W,n,L){r.wG.as4(x,F,W,n,L);
r.wG.a7_(F,x,W,n,L)};r.wG.uo=function(x,F,W,n,L){r.wG.at_(x,F,W,n,L);r.wG.aqn(F,x,W,n,L)};r.wG.ahH=function(x,F,W,n,L){r.wG.a3V(x,F,W,n,L);
r.wG.aeb(F,x,W,n,L)};r.wG.gw=[];r.wG.mI=function(x){if(r.wG.gw[x])return r.wG.gw[x];var F=1/(x+x+1),W=(x+x+1)*256,n=r.R(W);
for(var w=0;w<W;w++)n[w]=Math.round(w*F);r.wG.gw[x]=n;return n};r.wG.as4=function(x,F,W,n,L){var $=1/(L+L+1),l=W-L-L-1,k=r.wG.mI(L);
for(var w=0;w<n;w++){var V=w*W,i=V,f=V+L,X=x[V],s=x[V+W-1],R=(L+1)*X;for(var h=0;h<L;h++)R+=x[V+h];for(var h=0;
h<=L;h++){R+=x[f+h]-X;F[V+h]=k[R]}f+=L+1;V+=L+1;for(var h=0;h<l;h++){R+=x[f+h]-x[i+h];F[V+h]=k[R]}f+=l;
i+=l;V+=l;for(var h=W-L;h<W;h++){R+=s-x[i++];F[V++]=k[R]}}};r.wG.at_=function(x,F,W,n,L){var $=W<<2,l=L<<2,k=1/(L+L+1),V=W-L-L-1,i=V<<2,f=r.wG.mI(L);
for(var w=0;w<n;w++){var X=w*$,s=X,R=X+l,h=X+$,B=x[X],e=x[X+1],U=x[X+2],o=x[X+3],b=(L+1)*B,u=(L+1)*e,Z=(L+1)*U,I=(L+1)*o;
for(var y=0;y<l;y+=4){b+=x[X+y];u+=x[X+y+1];Z+=x[X+y+2];I+=x[X+y+3]}for(var y=0;y<=l;y+=4){b+=x[R]-B;
F[X]=f[b];u+=x[R+1]-e;F[X+1]=f[u];Z+=x[R+2]-U;F[X+2]=f[Z];I+=x[R+3]-o;F[X+3]=f[I];R+=4;X+=4}for(var y=0;
y<i;y+=4){b+=x[R+y]-x[s+y];F[X+y]=f[b];u+=x[R+y+1]-x[s+y+1];F[X+y+1]=f[u];Z+=x[R+y+2]-x[s+y+2];F[X+y+2]=f[Z];
I+=x[R+y+3]-x[s+y+3];F[X+y+3]=f[I]}R+=i;s+=i;X+=i;B=x[h-4];e=x[h-3];U=x[h-2];o=x[h-1];for(var y=W-L;
y<W;y++){b+=B-x[s];F[X]=f[b];u+=e-x[s+1];F[X+1]=f[u];Z+=U-x[s+2];F[X+2]=f[Z];I+=o-x[s+3];F[X+3]=f[I];
s+=4;X+=4}}};r.wG.a3V=function(x,F,W,n,L){var $=1/(L+L+1),l=W-L-L-1;for(var w=0;w<n;w++){var k=w*W,V=k,i=k+L,f=x[k],X=x[k+W-1],s=(L+1)*f;
for(var R=0;R<L;R++)s+=x[k+R];for(var R=0;R<=L;R++){s+=x[i+R]-f;F[k+R]=s*$}i+=L+1;k+=L+1;for(var R=0;
R<l;R++){s+=x[i+R]-x[V+R];F[k+R]=s*$}i+=l;V+=l;k+=l;for(var R=W-L;R<W;R++){s+=X-x[V++];F[k++]=s*$}}};
r.wG.a7_=function(x,F,W,n,L){var $=1/(L+L+1),l=n-L-L-1,k=r.wG.mI(L);for(var w=0;w<W;w++){var V=w,i=V,f=V+L*W,X=x[V],s=x[V+W*(n-1)],R=(L+1)*X;
for(var h=0;h<L;h++)R+=x[V+h*W];for(var h=0;h<=L;h++){R+=x[f]-X;F[V]=k[R];f+=W;V+=W}for(var h=0;h<l;
h++){var B=h*W;R+=x[f+B]-x[i+B];F[V+B]=k[R]}i+=l*W;f+=l*W;V+=l*W;for(var h=n-L;h<n;h++){R+=s-x[i];F[V]=k[R];
i+=W;V+=W}}};r.wG.aqn=function(x,F,W,n,L){var $=W<<2,l=L<<2,k=1/(L+L+1),V=n-L-L-1,i=V<<2,f=r.wG.mI(L);
for(var w=0;w<W;w++){var X=w<<2,s=X,R=X+L*$,h=X+$*(n-1),B=x[X],e=x[X+1],U=x[X+2],o=x[X+3],b=(L+1)*B,u=(L+1)*e,Z=(L+1)*U,I=(L+1)*o;
for(var y=0;y<L;y++){var D=X+y*$;b+=x[D];u+=x[D+1];Z+=x[D+2];I+=x[D+3]}for(var y=0;y<=L;y++){b+=x[R]-B;
F[X]=f[b];u+=x[R+1]-e;F[X+1]=f[u];Z+=x[R+2]-U;F[X+2]=f[Z];I+=x[R+3]-o;F[X+3]=f[I];R+=$;X+=$}for(var y=0;
y<V;y++){var N=y*$;b+=x[R+N]-x[s+N];F[X+N]=f[b];u+=x[R+N+1]-x[s+N+1];F[X+N+1]=f[u];Z+=x[R+N+2]-x[s+N+2];
F[X+N+2]=f[Z];I+=x[R+N+3]-x[s+N+3];F[X+N+3]=f[I]}s+=V*$;R+=V*$;X+=V*$;B=x[h];e=x[h+1];U=x[h+2];o=x[h+3];
for(var y=n-L;y<n;y++){b+=B-x[s];F[X]=f[b];u+=e-x[s+1];F[X+1]=f[u];Z+=U-x[s+2];F[X+2]=f[Z];I+=o-x[s+3];
F[X+3]=f[I];s+=$;X+=$}}};r.wG.aeb=function(x,F,W,n,L){var $=1/(L+L+1),l=n-L-L-1;for(var w=0;w<W;w++){var k=w,V=k,i=k+L*W,f=x[k],X=x[k+W*(n-1)],s=(L+1)*f;
for(var R=0;R<L;R++)s+=x[k+R*W];for(var R=0;R<=L;R++){s+=x[i]-f;F[k]=s*$;i+=W;k+=W}for(var R=0;R<l;R++){var h=R*W;
s+=x[i+h]-x[V+h];F[k+h]=s*$}V+=l*W;i+=l*W;k+=l*W;for(var R=n-L;R<n;R++){s+=X-x[V];F[k]=s*$;V+=W;k+=W}}};
r.AH={};r.AH.R=function(x,F,W,n){var L=[];for(var $=0;$<4;$++)for(var l=0;l<4;l++)L.push(x+W*l/3,F+n*$/3);
return L};r.AH.aw6=function(x,F){var W=x.slice(0);for(var w=0;w<4;w++)for(var n=0;n<4;n++){var L=2*(w*4+n),$=2*(n*4+(3-w));
if(F){var l=L;L=$;$=l}W[$]=x[L];W[$+1]=x[L+1]}return W};r.AH.Qs=r.R(0);r.AH.drawImage=function(x,F,W,n,L,$,l){var k=!1,V=Date.now(),i=2,f=W+2*i,X=n+2*i,s=new eu(i,i,W,n),R=s.clone();
R.za(i,i);var h=r.AH.Qs;if(h.length!=R.P()*4)h=r.AH.Qs=r.R(R.P()*4);else h.fill(0);r.sh(F,s,h,R);if(k)console.log(Date.now()-V,"copy rect");
V=Date.now();r.M1(h);if(k)console.log(Date.now()-V,"multiply alpha");V=Date.now();var B=Math.max(W,n),e=Math.round(50*W/B),U=Math.round(Math.sqrt(3)*.5*50*n/B),o=e-.5,b=[],u=[],Z=[];
for(var I=0;I<U+1;I++){var y=(I&1)==0;for(var D=0;D<e+1;D++){var N=(D-(y?.5:0))/o,j=I/U;if(D==0)N=0;
if(D==e)N=1;b.push(f*N,X*j);if(D<e&&I<U){var H=I*(e+1)+D,Q=H+1,C=H+e+1,J=C+1;if(y)u.push(H,Q,C,C,Q,J);
else u.push(H,Q,J,H,J,C)}var E=r.AH.a9L(x,N,j);Z.push(-E)}}var T=b.slice(0);r.AH.i(x,T,s);r.Z.i(T,new iJ(1,0,0,1,-$.x,-$.y),T);
if(k)console.log(Date.now()-V,"mesh built");V=Date.now();var c=$.m,a=$.e;r.fb.VU(h,f,X,L,c,a,b,T,Z,u,l);
if(k)console.log(Date.now()-V,"rendered");V=Date.now();r._E(L);if(k)console.log(Date.now()-V,"divided");
V=Date.now()};r.AH.Wd=new Array(10);r.AH.IW=function(x,F){var W=200,n=0,L=0,$=1e9,l=r.AH.Wd;for(var k=0;
k<W+1;k++)for(var V=0;V<W+1;V++){var i=V/W,f=k/W;r.AH.auq(x,i,f,l);var X=l[8]-F.x,s=l[9]-F.y,R=X*X+s*s;
if(R<$){$=R;n=i;L=f}}return[n,L]};r.AH.i=function(x,F,W){var n=W.x,L=W.y,$=1/W.m,l=1/W.e,k=r.AH.Wd;for(var V=0;
V<F.length;V+=2){var i=(F[V]-n)*$,f=(F[V+1]-L)*l;r.AH.auq(x,i,f,k);F[V]=k[8];F[V+1]=k[9]}};r.AH.a9L=function(x,F,W){var n,L,$,l,k=r.AH.Wd;
r.AH.ajc(x,F,W,k);n=k[8];L=k[9];r.AH.ayr(x,F,W,k);$=k[8];l=k[9];return n*l-L*$};r.AH.qp=function(x,F,W){var n=0,L=0,$=x[2][0],l=x[2][1];
while(n+2<$.length&&$[n+1]<F)n++;F=(F-$[n])/($[n+1]-$[n]);while(L+2<l.length&&l[L+1]<W)L++;W=(W-l[L])/(l[L+1]-l[L]);
return[n*3,L*3,F,W]};r.AH.auq=function(x,F,W,n){var L=r.AH.qp(x,F,W);r.AH.Ur(n,0,L[3]);r.AH.Ur(n,4,L[2]);
r.AH.xK(x[3],L[0],L[1],x[0],n)};r.AH.ajc=function(x,F,W,n){var L=r.AH.qp(x,F,W);r.AH.Ur(n,0,L[3]);r.AH.a7Y(n,4,L[2]);
r.AH.xK(x[3],L[0],L[1],x[0],n)};r.AH.ayr=function(x,F,W,n){var L=r.AH.qp(x,F,W);r.AH.a7Y(n,0,L[3]);r.AH.Ur(n,4,L[2]);
r.AH.xK(x[3],L[0],L[1],x[0],n)};r.AH.a7Y=function(x,w,F){var W=1-F;x[w]=-3*(W*W);x[w+1]=3*(W*W)-6*(F*W);
x[w+2]=6*(F*W)-3*(F*F);x[w+3]=3*(F*F)};r.AH.Ur=function(x,w,F){var W=1-F;x[w]=W*(W*W);x[w+1]=3*F*(W*W);
x[w+2]=3*(F*F)*W;x[w+3]=F*F*F};r.AH.ab4=function(x,F,W,n,L){var $=r.AH.qp(x,F,W),l=$[0],k=$[1],V=$[2],i=$[3],f=x[0],X=Math.floor(V*3),s=Math.floor(i*3),R=r.AH.Wd,h=16,y=0;
r.AH.Ur(R,0,i);r.AH.Ur(R,4,V);var B=[],e=[],U=[];for(var o=0;o<4;o++){for(var b=0;b<4;b++){var w=o*4+b,u=R[o]*R[4+b];
B.push(u);e.push((k+o)*f+l+b);if((o==s||o==s+1)&&(b==X||b==X+1)){var Z=V*3-X;if(b==X)Z=1-Z;var I=i*3-s;
if(o==s)I=1-I;U[w]=Z*I/u}else U[w]=0}}for(var w=0;w<h;w++)y+=B[w]*U[w];for(var w=0;w<h;w++)U[w]/=y;for(var w=0;
w<h;w++){var u=B[w],D=e[w];x[3][D*2]+=U[w]*n;x[3][D*2+1]+=U[w]*L}};r.AH.kZ=function(x){var F=x[0],W=x[1],n=x[2],L=x[3],$=L.slice(0);
for(var l=0;l<W;l++)for(var k=0;k<F;k++){L[(k*W+l)*2]=$[(l*F+k)*2];L[(k*W+l)*2+1]=$[(l*F+k)*2+1]}x[0]=W;
x[1]=F;x[2]=[n[1],n[0]]};r.AH.split=function(x,F,W){if(F==1)r.AH.kZ(x);var n=x[0],L=x[1],$=x[2][0],l=x[3],k=0;
while($[k+1]&&$[k+1]<W)k++;var V=(W-$[k])/($[k+1]-$[k]),i=1-V;for(var f=0;f<L;f++){var w=(f*(n+3)+k*3)*2,X=i*l[w]+V*l[w+2],s=i*l[w+1]+V*l[w+3],R=i*l[w+2]+V*l[w+4],h=i*l[w+3]+V*l[w+5],B=i*l[w+4]+V*l[w+6],e=i*l[w+5]+V*l[w+7],U=i*X+V*R,o=i*s+V*h,b=i*R+V*B,u=i*h+V*e,Z=i*U+V*b,I=i*o+V*u;
l.splice(w+2,4,X,s,U,o,Z,I,b,u,B,e)}$.push(W);$.sort();x[0]+=3;if(F==1)r.AH.kZ(x)};r.AH.xK=function(x,F,W,n,L){var $=0,l=0,k=0,V=L[0],i=L[1],f=L[2],X=L[3],s=L[4],R=L[5],h=L[6],B=L[7],w=(W*n+F)*2;
k=V*s;$+=x[w+0]*k;l+=x[w+1]*k;k=V*R;$+=x[w+2]*k;l+=x[w+3]*k;k=V*h;$+=x[w+4]*k;l+=x[w+5]*k;k=V*B;$+=x[w+6]*k;
l+=x[w+7]*k;w+=n+n;k=i*s;$+=x[w+0]*k;l+=x[w+1]*k;k=i*R;$+=x[w+2]*k;l+=x[w+3]*k;k=i*h;$+=x[w+4]*k;l+=x[w+5]*k;
k=i*B;$+=x[w+6]*k;l+=x[w+7]*k;w+=n+n;k=f*s;$+=x[w+0]*k;l+=x[w+1]*k;k=f*R;$+=x[w+2]*k;l+=x[w+3]*k;k=f*h;
$+=x[w+4]*k;l+=x[w+5]*k;k=f*B;$+=x[w+6]*k;l+=x[w+7]*k;w+=n+n;k=X*s;$+=x[w+0]*k;l+=x[w+1]*k;k=X*R;$+=x[w+2]*k;
l+=x[w+3]*k;k=X*h;$+=x[w+4]*k;l+=x[w+5]*k;k=X*B;$+=x[w+6]*k;l+=x[w+7]*k;w+=n+n;L[8]=$;L[9]=l};r.ev={};
r.ev.auR=function(x,F,W){var n=Date.now(),L=new ArrayBuffer(F*W*16),$=r.ev.a1w(x,F,W,L),l=r.ev.aag(F,W,L);
return{JQ:l,XY:$}};r.ev.a8e=function(x,F,W){var n=Math.round(x.length/8),L=new Uint32Array(n),$=new Uint8Array(n),l=new Uint32Array(n);
r.De(L,4294967295,0);L[W]=0;var k=new hO(n);k.push(W,L[W]);var V={JQ:x,XY:F,Dc:L,Rm:$,jG:l,$_:k,a1a:W};
return V};r.ev.O8=function(x,F){var W=x.JQ,n=x.XY,L=x.Dc,$=x.Rm,l=x.jG,k=x.$_;while(!k.ak()&&(F==null||$[F]==0)){var V=k.pop();
$[V]=1;for(var w=0;w<8;w++){var i=W[8*V+w],f=V+i;if(i==0||$[f])continue;var X=L[V]+n[8*V+w];if(k.contains(f)&&X<L[f])k.remove(f,L[f]);
if(!k.contains(f)){L[f]=X;l[f]=V;k.push(f,L[f])}}}};function hO(x){this.mP=new Uint32Array(x);this.list=[];
this.hK=0;this.EA=4294967295}hO.prototype.ak=function(){return this.hK==0};hO.prototype.push=function(x,F){var W=this.list;
if(W[F]==null)W[F]=[];W[F].push(x);this.hK++;this.mP[x]=W[F].length-1+1;this.EA=Math.min(this.EA,F)};
hO.prototype.pop=function(){this.hK--;var x=this.list,F=this.EA,W=x[F].pop();if(x[F].length==0)x[F]=null;
this.aAv();this.mP[W]=0;return W};hO.prototype.contains=function(x){return this.mP[x]!=0};hO.prototype.remove=function(x,F){this.hK--;
var W=this.list,w=this.mP[x]-1;if(w==W[F].length-1)W[F].pop();else{var n=W[F].pop();W[F][w]=n;this.mP[n]=w+1}if(W[F].length==0)W[F]=null;
this.mP[x]=0;this.aAv()};hO.prototype.aAv=function(){if(this.hK==0){this.EA=4294967295;return}var x=this.EA,F=this.list;
while(F[x]==null)x++;this.EA=x};r.ev.aoS=function(x,F,W,n){var L=new Int16Array(n);for(var $=0;$<W;$++)for(var l=0;
l<F;l++){var w=$*F+l,k=0;if(1<l&&l<F-2&&1<$&&$<W-2){k+=x[w-F-F];k+=x[w-F-1]+2*x[w-F]+x[w-F+1];k+=x[w-2]+2*x[w-1]-16*x[w]+2*x[w+1]+x[w+2];
k+=x[w+F-1]+2*x[w+F]+x[w+F+1];k+=x[w+F+F]}else k=-16*x[w];L[w]=k}return L};r.ev.asF=function(x,F,W,n){if(n==null)n=128;
var L=new Uint8Array(F*W);for(var $=1;$<W-1;$++)for(var l=1;l<F-1;l++){var w=$*F+l;L[w]=r.ev.ar5(x[w],x[w-1],x[w+1],x[w-F],x[w+F],n)}return L};
r.ev.ar5=function(x,F,W,n,L,$){var l=Math.abs(x);return x*F<0&&l<Math.abs(F)&&Math.abs(F-x)>$||x*W<0&&l<Math.abs(W)&&Math.abs(W-x)>$||x*n<0&&l<Math.abs(n)&&Math.abs(n-x)>$||x*L<0&&l<Math.abs(L)&&Math.abs(L-x)>$?1:0};
r.ev.aeU=function(x,F,W,n){var L=new Float32Array(n),$=0;new Uint32Array(n).fill(0);for(var l=0;l<W;
l++)for(var k=0;k<F;k++){var V=0,i=0,w=l*F+k,f=w*3;if(0<k&&k<F-1)V=x[w+1]-x[w-1];if(0<l&&l<W-1)i=x[w+F]-x[w-F];
var X=L[f+2]=Math.sqrt(V*V+i*i);if(X!=0){var s=1/X;L[f]=V*s;L[f+1]=i*s}if(X>$)$=X}var R=F*W,h=$==0?0:1/$;
for(var w=0;w<R;w++)L[w*3+2]=1-L[w*3+2]*h;return L};r.ev.aoh=function(x,F,W){return W[~~((.5+.5*x)*255)]+W[~~((.5+.5*F)*255)]};
r.ev.a1w=function(x,F,W,n){var L=Date.now(),$=r.ev.aoS(x,F,W,n),l=r.ev.asF($,F,W),k=r.ev.aeU(x,F,W,n),V=new Float32Array(256);
for(var w=0;w<256;w++)V[w]=Math.acos(-1+2*w/255)*(.95/Math.PI);var i=[-1,0,1,1,1,0,-1,-1],f=[-1,-1,-1,0,1,1,1,0];
for(var w=0;w<8;w++){var X=1/Math.sqrt(i[w]*i[w]+f[w]*f[w]);i[w]*=X;f[w]*=X}var s=[i[0],f[0],i[1],f[1],i[2],f[2],i[3],f[3]],R=[-F-1,-F,-F+1,1],h=new Uint8Array(F*W*8);
new Uint32Array(h.buffer).fill(4294967295);var B=F*W;for(var e=1;e<W-1;e++)for(var U=1;U<F-1;U++){var o=e*F+U,b=1-l[o],u=k[o*3+2],Z=k[3*o+1],I=-k[3*o];
for(var y=0;y<4;y++){var D=o+R[y];r.ev.auA(o,D,y,h,l,k,b,u,Z,I,s,V)}}return h};r.ev.auA=function(x,F,W,n,L,$,l,k,V,i,f,X){var s=1-L[F],R=(W&1)==0?1:Math.SQRT1_2,h=$[F*3+2]*R,B=$[3*F+1],e=-$[3*F],U=k*R,o=f[W+W],b=f[W+W+1],u=V*o+i*b,Z=B*o+e*b;
if(u+Z<0){u=-u;Z=-Z}var I=r.ev.aoh(u,Z,X);n[(x<<3)+W]=r.ev.aBU(s,I,h);n[(F<<3)+W+4]=r.ev.aBU(l,I,U)};
r.ev.aBU=function(x,F,W){return 1+~~(.5+20*(.43*x+.43*F+.14*W))};r.ev.aag=function(x,F,W){var n=new Int16Array(W),L=n,w=0,$=0;
new Uint32Array(W).fill(0);for(var l=0;l<F;l++)for(var k=0;k<x;k++){if(l>0&&k>0)L[$+0]=-x-1;if(l>0)L[$+1]=-x;
if(l>0&&k<x-1)L[$+2]=-x+1;if(k<x-1)L[$+3]=1;if(l<F-1&&k<x-1)L[$+4]=x+1;if(l<F-1)L[$+5]=x;if(l<F-1&&k>0)L[$+6]=x-1;
if(k>0)L[$+7]=-1;w++;$+=8}return n};r.Ro={};r.Ro.vt=function(x){var F=x.slice(0),W=0;for(var w=0;w<x.length;
w++)W+=x[w];for(var w=0;w<x.length;w++)F[w]/=W;return F};r.Ro.a$=[r.Ro.vt([1,2,1,2,16,2,1,2,1]),r.Ro.vt([1,2,1,2,4,2,1,2,1]),r.Ro.vt([0,-1,0,-1,8,-1,0,-1,0]),r.Ro.vt([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
r.Ro.sA=function(x,F,W,n,L,$,l,k){if(l==null)l=!1;if(k==null)k=!1;var V=Math.floor(Math.sqrt(L.length)),i=V-1>>>1,f=new Uint32Array(x.buffer),F=new Uint8ClampedArray(F.buffer);
for(var w=0;w<n;w++)for(var X=0;X<W;X++){var s=0,R=0,h=0,B=0;for(var e=0;e<V;e++)for(var U=0;U<V;U++){var o=L[e*V+U];
if(o==0)continue;var b=X-i+U,u=w-i+e;if(b<0)b=0;else if(b>W-1)b=W-1;if(u<0)u=0;else if(u>n-1)u=n-1;if(k&&f[u*W+b]>>>24==0){u=w;
b=X}var Z=f[u*W+b];s+=(Z&255)*o;R+=(Z>>>8&255)*o;h+=(Z>>>16&255)*o;B+=(Z>>>24&255)*o}if(l){if(s<0)s=-s;
if(R<0)R=-R;if(h<0)h=-h;if(B<0)B=-B}if(k){s=Math.max(0,Math.min(255,s));R=Math.max(0,Math.min(255,R));
h=Math.max(0,Math.min(255,h));B=Math.max(0,Math.min(255,B))}var I=w*W+X<<2;F[I]=~~(.5+s);F[I+1]=~~(.5+R);
F[I+2]=~~(.5+h);F[I+3]=255-$&F[I+3]|$&~~(.5+B)}};r.Ro.a3p=function(x,F,W,n){var L=x.length,$=new Uint8Array(L);
r.Ro.sA(x,F,W,n,r.Ro.a$[4],0,!0);r.Ro.sA(x,$,W,n,r.Ro.a$[5],0,!0);for(var w=0;w<L;w+=4){var l=F[w],k=F[w+1],V=F[w+2],i=F[w+3],f=$[w],X=$[w+1],s=$[w+2],R=$[w+3];
F[w]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+f*f)));F[w+1]=255-Math.max(0,Math.min(255,Math.sqrt(k*k+X*X)));
F[w+2]=255-Math.max(0,Math.min(255,Math.sqrt(V*V+s*s)))}};r.Ro.a8z=function(x,F,W,n){var L=x.length,$=new Uint8Array(L);
r.Ro.Yh(x,F,W,n,r.Ro.a$[4],!0);r.Ro.Yh(x,$,W,n,r.Ro.a$[5],!0);for(var w=0;w<L;w++){var l=F[w],k=$[w];
F[w]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+k*k)))}};r.Ro.Yh=function(x,F,W,n,L,$){F=new Uint8ClampedArray(F.buffer);
var l=[-W-1,-W,-W+1,-1,0,1,W-1,W,W+1],k=n-1,V=W-1;for(var w=1;w<k;w++)for(var i=1;i<V;i++){var f=w*W+i,X=r.Ro.e4(x,f,W,L);
if($){if(X<0)X=-X}F[f]=~~(X+.5)}};r.Ro.e4=function(x,F,W,n){return x[F-W-1]*n[0]+x[F-W]*n[1]+x[F-W+1]*n[2]+x[F-1]*n[3]+x[F]*n[4]+x[F+1]*n[5]+x[F+W-1]*n[6]+x[F+W]*n[7]+x[F+W+1]*n[8]};
r.Ro.a9_=function(x,F,W,n,L){var $=[-W-1,-W,-W+1,-1,0,1,W-1,W,W+1],l=n-1,k=W-1;for(var w=1;w<l;w++)for(var V=1;
V<k;V++){var i=w*W+V;F[i]=r.Ro.a0$(x,i,W,L)}};r.Ro.a0$=function(x,F,W,n){return x[F-W-1]*n[0]+x[F-W]*n[1]+x[F-W+1]*n[2]+x[F-1]*n[3]+x[F]*n[4]+x[F+1]*n[5]+x[F+W-1]*n[6]+x[F+W]*n[7]+x[F+W+1]*n[8]};
r.R_={};r.R_.CY=function(){function x(l,k,V,i,f,X){if(f==0){k.set(l);return}var s=r.R(V*i),R=r.R(V*i);
if(r.aa(l)){F(l,k,V,i,f,X);r.Tb(l,s,3);r.R_.ayW(s,R,V,i,f,X);r.rW(R,k,3)}else{for(var w=0;w<3;w++){r.Tb(l,s,w);
r.R_.ayW(s,R,V,i,f,X);r.rW(R,k,w)}}}function F(l,k,V,i,f,X){var s=0,R=new ArrayBuffer(512*4*3),h=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)],B=1+2*Math.round(Math.sqrt(f)),e=B>>>1,U=new Array(B),o=new Array(B);
for(var w=0;w<B;w++){var R=new ArrayBuffer(512*4*3);U[w]=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)];
o[w]=U[w][0]}var b=[r.R_.Tz,r.R_.RA][X],u=b[0],Z=b[1],I=h[0];for(var y=0;y<V;y++)if(y<f||y>V-f-B-1){I.fill(0);
var D=Math.max(y-f,0),N=Math.min(V,y+f+1),j=N-D;for(var H=0;H<f;H++)n(I,l,H*V+D,H*V+N,1);for(var H=0;
H<i;H++){var Q=H-f-1,C=H+f;if(C<i)n(I,l,C*V+D,C*V+N,1);if(Q>=0)n(I,l,Q*V+D,Q*V+N,-1);var J=H*V+y<<2;
s=I[300];if(s!=0)for(var w=0;w<3;w++)k[J+w]=u(h[w],l[J+w],s)}}else{for(var w=0;w<B;w++)o[w].fill(0);
var D=y-f+e,N=y+f+1+e;for(var H=0;H<f;H++)W(o,l,H*V+D,H*V+N,1,e);for(var H=0;H<i;H++){var Q=H-f-1,C=H+f;
if(Q>=0)W(o,l,Q*V+D,Q*V+N,-1,e);if(C<i)W(o,l,C*V+D,C*V+N,1,e);var E=U[e];s=E[0][300];for(var w=0;w<e;
w++){var T=e-1-w,c=e+1+w,a=U[T],K=U[c],Y=s+a[0][300],p=s+K[0][300],P=H*V+y+T<<2,m=H*V+y+c<<2;if(Y!=0)for(var z=0;
z<3;z++)k[P+z]=Z(E[z],a[z],l[P+z],Y);if(p!=0)for(var z=0;z<3;z++)k[m+z]=Z(E[z],K[z],l[m+z],p)}var J=H*V+y+e<<2;
if(s!=0)for(var z=0;z<3;z++)k[J+z]=u(E[z],l[J+z],s)}y+=B-1}}function W(l,k,V,i,f,X){var s=L,R=V<<2,h=i<<2;
s(l[X-1],k,V-1<<2,f);s(l[X-1],k,i-1<<2,-f);s(l[X+1],k,i<<2,f);s(l[X+1],k,V<<2,-f);for(var w=1;w<X;w++){var B=l[X-w-1],e=l[X+w+1];
for(var U=0;U<=w;U++){var o=U<<2;s(B,k,V-1-U<<2,f);s(B,k,i-1-U<<2,-f);s(e,k,i+U<<2,f);s(e,k,V+U<<2,-f)}}n(l[X],k,V,i,f)}function n(l,k,w,V,i){var f=w<<2,X=V<<2;
while(f<X){L(l,k,f,i);f+=4}}function L(l,k,V,i){var f=i*k[V+3];l[300]+=f;$(l,k[V],0,f);$(l,k[V+1],512,f);
$(l,k[V+2],1024,f)}function $(l,k,V,i){l[V|k]+=i;l[V|256|k>>>4]+=i}return x}();r.R_.ayW=function(){function x(X,s,R,h,B,e){if(B==0){s.set(X);
return}if(B<=200)F(X,s,R,h,B,e);else $(X,s,R,h,B,e)}function F(X,s,R,h,B,e){var U=0,o=new Int32Array(512),b=1+2*Math.round(Math.sqrt(B)),u=b>>>1,Z=new Array(b);
for(var w=0;w<b;w++)Z[w]=new Int32Array(512);var I=[r.R_.Tz,r.R_.RA][e],y=I[0],D=I[1];for(var N=0;N<R;
N++)if(N<B||N>R-B-b-1){o.fill(0);U=0;var j=Math.max(N-B,0),H=Math.min(R,N+B+1),Q=H-j;for(var C=0;C<B;
C++){U+=Q;n(o,X,C*R+j,C*R+H,1)}for(var C=0;C<h;C++){var J=C-B-1,E=C+B;if(J>=0){U-=Q;n(o,X,J*R+j,J*R+H,-1)}if(E<h){U+=Q;
n(o,X,E*R+j,E*R+H,1)}var T=y(o,X[C*R+N],U);s[C*R+N]=T}}else{for(var w=0;w<b;w++)Z[w].fill(0);U=0;var j=N-B+u,H=N+B+1+u,Q=H-j;
for(var C=0;C<B;C++){U+=Q;W(Z,X,C*R+j,C*R+H,1,u)}for(var C=0;C<h;C++){var J=C-B-1,E=C+B;if(J>=0){U-=Q;
W(Z,X,J*R+j,J*R+H,-1,u)}if(E<h){U+=Q;W(Z,X,E*R+j,E*R+H,1,u)}for(var w=0;w<u;w++){var c=u-1-w,a=u+1+w;
s[C*R+N+c]=D(Z[u],Z[c],X[C*R+N+c],U);s[C*R+N+a]=D(Z[u],Z[a],X[C*R+N+a],U)}s[C*R+N+u]=y(Z[u],X[C*R+N+u],U)}N+=b-1}}function W(X,s,R,h,B,e){var U=L;
U(X[e-1],s[R-1],0,B);U(X[e-1],s[h-1],0,-B);U(X[e+1],s[h],0,B);U(X[e+1],s[R],0,-B);for(var w=1;w<e;w++){var o=X[e-w-1],b=X[e+w+1];
for(var u=0;u<=w;u++){U(o,s[R-1-u],0,B);U(o,s[h-1-u],0,-B);U(b,s[h+u],0,B);U(b,s[R+u],0,-B)}}n(X[e],s,R,h,B)}function n(X,s,w,R,h){while(w<R)L(X,s[w++],0,h)}function L(X,s,R,h){X[R|s]+=h;
X[R|256|s>>>4]+=h}function $(X,s,R,h,B,e){var U=0,o=new Int32Array(512),b=new Int32Array(1*R),u=new Int32Array(512*R),Z=Math.min(B,R),I=Math.min(B,h),y=[r.R_.Tz,r.R_.RA][e],D=y[0];
for(var N=0;N<I;N++)l(u,b,X,R,N,1);for(var N=0;N<h;N++){if(N+B<h)l(u,b,X,R,N+B,1);if(N-B-1>=0)l(u,b,X,R,N-B-1,-1);
o.fill(0);U=0;for(var j=0;j<Z;j++){U+=b[j];k(o,u,j)}for(var j=0;j<R;j++){var H=j-B-1,Q=j+B;if(H>=0&&b[H]!=0){U-=b[H];
V(o,u,H)}if(Q<R&&b[Q]!=0){U+=b[Q];k(o,u,Q)}var C=U==0?0:D(o,X[N*R+j],U);s[N*R+j]=C}}}function l(X,s,R,h,B,e){var w=B*h;
for(var U=0;U<h;U++){L(X,R[w+U],U<<9,e);s[U]+=e}}function k(X,s,R){for(var w=0;w<16;w++){var h=s[R<<9|256|w];
if(h==0)continue;X[256|w]+=h;var B=w<<4,e=R<<9|B;i(X,s,B,e);i(X,s,B+4,e+4);i(X,s,B+8,e+8);i(X,s,B+12,e+12)}}function V(X,s,R){for(var w=0;
w<16;w++){var h=s[R<<9|256|w];if(h==0)continue;X[256|w]-=h;var B=w<<4,e=R<<9|B;f(X,s,B,e);f(X,s,B+4,e+4);
f(X,s,B+8,e+8);f(X,s,B+12,e+12)}}function i(X,s,R,h){X[R]+=s[h];X[R+1]+=s[h+1];X[R+2]+=s[h+2];X[R+3]+=s[h+3]}function f(X,s,R,h){X[R]-=s[h];
X[R+1]-=s[h+1];X[R+2]-=s[h+2];X[R+3]-=s[h+3]}return x}();r.R_.ub=.5;r.R_.Tz=[function(x,F,W){var n=~~(.5+r.R_.ub*W),L=0,w=256;
while(L+x[w]<n)L+=x[w++];w=w-256<<4;while(L<n)L+=x[w++];return w-1},function(x,F,W,n){var L=~~(.5+r.R_.ub*n),$=0,w=256;
while($+x[w]+F[w]<L){$+=x[w]+F[w];w++}w=w-256<<4;while($<L){$+=x[w]+F[w];w++}return w-1}];r.R_.JV=100;
r.R_.RA=[function(x,F,W){var n=r.R_.JV,L=0,$=0,w=Math.max(0,F-n),l=Math.min(256,F+n+1);while(w<l){var k=x[w];
L+=w*k;$+=k;w++}return $==0?0:L/$},function(x,F,W,n){var L=r.R_.JV,$=0,l=0,w=Math.max(0,W-L),k=Math.min(256,W+L+1);
while(w<k){var V=x[w]+F[w];$+=w*V;l+=V;w++}return l==0?0:$/l}];r.D={};r.D.V1=function(x){var F=O.Y.kT(x.Trnf),W=x.Sz.v,n=r.D.An(F,new eu(0,0,W.Wdth.v,W.Hght.v));
return r.D.N9(n)};r.D.An=function(x,F){var W=x[0],n=x[1],L=x[2],$=x[3],l=x[6],k=x[7],V=x[4],i=x[5],f=0,X=0,s=1,R=0,h=0,B=1,e=1,U=1;
if(F){f=F.x;X=F.y;s=F.x+F.m;R=F.y;h=F.x;B=F.y+F.e;e=F.x+F.m;U=F.y+F.e}return r.D.azV(x,[f,X,s,R,e,U,h,B])};
r.D.abk=function(x){function F(L,l){for(var w=0;w<l.length;w+=2)if(!W(L,l[w],l[w+1]))return!1;return!0}function W(L,l,k){return L[2*l]==L[2*k]&&L[2*l+1]==L[2*k+1]}var n=0;
if(F(x,[0,1,2,3]))n+=1;if(F(x,[0,3,1,2]))n+=2;return n};r.D.azV=function(x,F){function W(T,w,c){var C=T[w*2]-T[c*2],J=T[w*2+1]-T[c*2+1];
return Math.sqrt(C*C+J*J)}var n=x[0],L=x[1],$=x[2],l=x[3],k=x[6],V=x[7],i=x[4],f=x[5],X=F[0],s=F[1],R=F[2],h=F[3],B=F[6],e=F[7],U=F[4],o=F[5],b=[[X,s,1,0,0,0,-X*n,-s*n,n],[0,0,0,X,s,1,-X*L,-s*L,L],[R,h,1,0,0,0,-R*$,-h*$,$],[0,0,0,R,h,1,-R*l,-h*l,l],[B,e,1,0,0,0,-B*k,-e*k,k],[0,0,0,B,e,1,-B*V,-e*V,V],[U,o,1,0,0,0,-U*i,-o*i,i],[0,0,0,U,o,1,-U*f,-o*f,f]],u=[0,0,0,0,0,0,0,0],Z=r.Rg.Dt(b,u);
if(Z!=0){u=[0,0,0,0,0,0,0,0];var I=r.D.abk(x),y=r.D.abk(F);if(I==y&&I!=0){var D=I==1,N=D?3:1,j=W(x,0,N),H=W(F,0,N),Q=H/j,C=x[2*N]-x[0],J=x[2*N+1]-x[1],E=new iJ;
E.translate(-n,-L);E.rotate(Math.atan2(J,C)-(D?Math.PI/2:0));if(D)E.scale(1,Q);else E.scale(Q,1);E.translate(X,s);
E.sx();u=r.D.Mz(E)}}return u};r.D.R=function(x,F){if(x==null)x=F=0;return[1,0,x,0,1,F,0,0]};r.D.nG=function(x){return Math.abs(x[6])<1e-10&&Math.abs(x[7])<1e-10};
r.D.N9=function(x){return new iJ(x[0],x[3],x[1],x[4],x[2],x[5])};r.D.Mz=function(x){return[x.V,x.Pu,x.yq,x.z,x.P9,x.Ze,0,0]};
r.D.i=function(x,F){var W=new Float64Array(2);for(var n=0;n<F.length;n+=2){var L=F[n],$=F[n+1];r.D.m0(L,$,x,W);
F[n]=W[0];F[n+1]=W[1]}};r.D.m0=function(x,F,W,n){var L=1/(W[6]*x+W[7]*F+1);n[0]=(W[0]*x+W[1]*F+W[2])*L;
n[1]=(W[3]*x+W[4]*F+W[5])*L};r.D.abC=function(x,F){var W=new Float64Array(2);r.D.m0(F.x,F.y,x,W);return new eX(W[0],W[1])};
r.D.kZ=function(x,F,W,n){x=new Uint32Array(x.buffer);F=new Uint32Array(F.buffer);for(var L=0;L<n;L++){for(var $=0;
$<W;$++){F[$*n+L]=x[L*W+$]}}};r.D.UZ=function(x,F,W,n){x=new Uint32Array(x.buffer);F=new Uint32Array(F.buffer);
for(var L=0;L<n;L++){for(var $=0;$<W;$++){F[L*W+$]=x[L*W+W-1-$]}}};r.D.ajQ=function(x,F,W,n){x=new Uint32Array(x.buffer);
F=new Uint32Array(F.buffer);for(var L=0;L<n;L++){for(var $=0;$<W;$++){F[L*W+$]=x[(n-1-L)*W+$]}}};r.D.atc=function(x){return Math.abs(x[6])<1e-9&&Math.abs(x[7])<1e-9};
r.D.a6Q=function(x){return Math.abs(x[0])<1e-9&&Math.abs(x[4])<1e-9||Math.abs(x[1])<1e-9&&Math.abs(x[3])<1e-9};
r.D.drawImage=function(x,F,W,n,L,$,l,k,V){if(l==null)l=!1;if(k==null)k=!1;var i=r.D.sx(x),f=!0,X=0;for(var w=0;
w<8;w++){var s=Math.round(x[w]);if(w!=2&&w!=5)X+=Math.abs(s);if(Math.abs(s-x[w])>1e-9)f=!1}var R=r.D.atc(x),h=r.D.a6Q(x)&&R,B=h?1:0;
if(l||f&&X==W+n&&R){r.D.abf(i,F,W,n,L,$,k,R,V);return}var e=$.m,U=$.e,o=new Float64Array(2);L=new Uint32Array(L.buffer);
F=new Uint32Array(F.buffer);for(var b=0;b<U;b++)for(var u=0;u<e;u++){var Z=b*e+u,I,y,D,N,Y=0,p=0,P=0,m=0;
L[Z]=0;var j=u+$.x+.5,H=b+$.y+.5;I=j;y=H;D=i;var Q=D[0]*I+D[1]*y+D[2],C=D[3]*I+D[4]*y+D[5];if(!R){N=1/(D[6]*I+D[7]*y+1);
Q*=N;C*=N}var J=Q*W,E=C*n,T=J<-1||J>W+1||E<-1||E>n+1;if(k){J=Math.max(.001,Math.min(W-1,J));E=Math.max(.001,Math.min(n-1,E))}else if(T)continue;
var c=r.D.abW(x,W,n,j,H,Q,C),a=Math.round(c*2.3);if(c<1.1){r.D.QU(J,E,F,W,n,L,Z,B);continue}if(!k&&(J<.6||J>W-.6||E<.6||E>n-.6)){a=Math.max(a,5)}if(k&&T)a=1;
var K=1/a,z=$.x+u,M=$.y+b;D=i;for(var w=0;w<a;w++)for(var d=0;d<a;d++){I=z+(w+.5)*K;y=M+(d+.5)*K;var J=D[0]*I+D[1]*y+D[2],E=D[3]*I+D[4]*y+D[5];
if(!R){N=1/(D[6]*I+D[7]*y+1);J*=N;E*=N}if(k){J=Math.max(.001,Math.min(.999,J));E=Math.max(.001,Math.min(.999,E))}else if(J<0||J>=1||E<0||E>=1)continue;
J=Math.floor(J*W);E=Math.floor(E*n);var A=E*W+J,G=F[A],kB=G>>>24;Y+=(G&255)*kB;p+=(G>>>8&255)*kB;P+=(G>>>16&255)*kB;
m+=kB}if(m!=0){var q=1/m;Y=~~(Y*q+.5);p=~~(p*q+.5);P=~~(P*q+.5);m=~~(m*K*K+.5);L[Z]=m<<24|P<<16|p<<8|Y}}};
r.D.abW=function(x,F,W,n,L,$,l){var k=r.D.aB1(x,n,L,$+1/F,l),V=r.D.aB1(x,n,L,$,l+1/W);return 1/Math.sqrt(Math.max(k,V))};
r.D.aB1=function(x,F,W,n,L){var $=1/(x[6]*n+x[7]*L+1),l=(x[0]*n+x[1]*L+x[2])*$-F,k=(x[3]*n+x[4]*L+x[5])*$-W;
return l*l+k*k};r.D.abf=function(x,F,W,n,L,$,l,k,V){if(k&&!l&&$.P()>4e6&&V){r.D.ahL(x,F,W,n,L,$,l,k,V);
return}var i=$.x+$.m,f=$.y+$.e,X=0,s=new Uint32Array(L.buffer),R=new Uint32Array(F.buffer),h=x[0]*W,B=x[1]*W,e=x[2]*W,U=x[3]*n,o=x[4]*n,b=x[5]*n,u=x[6],Z=x[7];
if(k&&!l)for(var I=$.y+.5;I<f;I++)for(var y=$.x+.5;y<i;y++){var D=h*y+B*I+e,N=U*y+o*I+b;if(0<D&&D<W&&0<N&&N<n){var j=~~N*W+~~D;
s[X]=R[j]}else s[X]=0;X++}else for(var I=$.y+.5;I<f;I++)for(var y=$.x+.5;y<i;y++){var H=1/(u*y+Z*I+1),D=(h*y+B*I+e)*H,N=(U*y+o*I+b)*H;
if(l){D=Math.max(.001,Math.min(W-1,D));N=Math.max(.001,Math.min(n-1,N))}if(0<D&&D<W&&0<N&&N<n){var j=Math.floor(N)*W+Math.floor(D);
s[X]=R[j]}else s[X]=0;X++}};r.D.ahL=function(x,F,W,n,L,$,l,k,V){var i=new Uint32Array(L.buffer),f=new Uint32Array(F.buffer),Z=0;
if(V&&($.m&3)!=0)throw"e";var X=x[0]*W,s=x[1]*W,R=x[2]*W,h=x[3]*n,B=x[4]*n,e=x[5]*n,U=x[6],o=x[7],b=$.m,u=$.e,I=$.x+.5,y=$.y+.5,D=(b>>>2<<2)-1e-9,N=-.1+(u>>>1<<1)-1e-9,j=~~W,H=X==0?0:1/X,Q=h==0?0:1/h;
for(var C=0;C<u;C++){var J=I*X+s*(C+y)+R,E=I*h+B*(C+y)+e,T=0,c=b;if(X==0){}else if(H>0){T=Math.max(T,-J*H);
c=Math.min(c,(W-J)*H)}else{c=Math.min(c,-J*H);T=Math.max(T,(W-J)*H)}if(h==0){}else if(Q>0){T=Math.max(T,-E*Q);
c=Math.min(c,(n-E)*Q)}else{c=Math.min(c,-E*Q);T=Math.max(T,(n-E)*Q)}if(c<0)c=0;if(T>c)T=c;T=~~Math.ceil(T);
c=~~c;Z=~~(C*b);i.fill(0,Z,Z+T);Z+=T;for(var a=T;a<c;a+=4){var K=X*a+J,Y=h*a+E,p=~~Y*j+~~K,P=f[p];i[Z]=P;
i[Z+1]=P;i[Z+2]=P;i[Z+3]=P;Z+=4}i.fill(0,Z,Z+b-c)}};r.D.sx=function(x){var F=x[4]-x[5]*x[7],W=x[2]*x[7]-x[1],n=x[1]*x[5]-x[2]*x[4],L=x[5]*x[6]-x[3],$=x[0]-x[2]*x[6],l=x[3]*x[2]-x[0]*x[5],k=x[3]*x[7]-x[4]*x[6],V=x[1]*x[6]-x[0]*x[7],i=1/(x[0]*x[4]-x[1]*x[3]);
return[F*i,W*i,n*i,L*i,$*i,l*i,k*i,V*i]};r.D.pY=function(x,F){var W=x[0],n=x[1],L=x[2],$=x[3],l=x[4],k=x[5],V=x[6],i=x[7],f=F[0],X=F[1],s=F[2],R=F[3],h=F[4],B=F[5],e=F[6],U=F[7],o=[W*f+n*R+L*e,W*X+n*h+L*U,W*s+n*B+L,$*f+l*R+k*e,$*X+l*h+k*U,$*s+l*B+k,V*f+i*R+e,V*X+i*h+U],b=1/(V*s+i*B+1);
for(var w=0;w<8;w++)o[w]*=b;return o};r.D.QU=function(x,F,W,n,L,$,l,k){var V=x,i=F,s=0,R=0,h=0,B=0;x-=.499999;
F-=.499999;var f=Math.floor(x),X=Math.floor(F);if(k==0){var w=X*n+f,e=f>=0&&f<n,U=f+1>=0&&f+1<n,o=X>=0&&X<L,b=X+1>=0&&X+1<L;
if(e&&o)s=W[w];if(U&&o)R=W[w+1];if(e&&b)h=W[w+n];if(U&&b)B=W[w+n+1]}else if(k==1){var u=f<0?0:f>n-1?n-1:f,Z=f<-1?0:f>n-2?n-1:f+1,I=X<0?0:X>L-1?L-1:X,y=X<-1?0:X>L-2?L-1:X+1;
s=W[I*n+u];R=W[I*n+Z];h=W[y*n+u];B=W[y*n+Z]}else{var u=(f+50*n)%n,Z=(f+50*n+1)%n,I=(X+50*L)%L,y=(X+50*L+1)%L;
s=W[I*n+u];R=W[I*n+Z];h=W[y*n+u];B=W[y*n+Z]}var D=x-f,N=F-X,j=(1-N)*(1-D)*(s>>>24),H=(1-N)*D*(R>>>24),Q=N*(1-D)*(h>>>24),C=N*D*(B>>>24),J=j+H+Q+C,E=j*(s&255)+H*(R&255)+Q*(h&255)+C*(B&255),T=j*(s>>>8&255)+H*(R>>>8&255)+Q*(h>>>8&255)+C*(B>>>8&255),c=j*(s>>>16&255)+H*(R>>>16&255)+Q*(h>>>16&255)+C*(B>>>16&255);
if(J==0)$[l]=0;else{var a=1/J;E=~~(E*a+.5);T=~~(T*a+.5);c=~~(c*a+.5);J=~~(J+.5);$[l]=J<<24|c<<16|T<<8|E}};
r.D.aiW=function(x,F,W,n,L,$){var l=x-.499999,k=F-.499999,V=~~l,i=~~k,f=l-V,X=k-i,s=(1-X)*(1-f),R=(1-X)*f,h=X*(1-f),B=X*f,e=i*n+V<<2,U=(i+1)*n+V<<2,o=s*W[e]+R*W[e+4]+h*W[U]+B*W[U+4],b=s*W[e+1]+R*W[e+5]+h*W[U+1]+B*W[U+5],u=s*W[e+2]+R*W[e+6]+h*W[U+2]+B*W[U+6],Z=s*W[e+3]+R*W[e+7]+h*W[U+3]+B*W[U+7];
$[0]=o;$[1]=b;$[2]=u;$[3]=Z};r.D.jE=function(x,F,W,n,L){x-=.499999;F-=.499999;var $=Math.floor(x),l=Math.floor(F),k=x-$,V=F-l,i=(1-V)*(1-k),f=(1-V)*k,X=V*(1-k),s=V*k,R=($+50*n)%n,h=($+1+50*n)%n,B=(l+50*L)%L,e=(l+1+50*L)%L,U=W[B*n+R],o=W[B*n+h],b=W[e*n+R],u=W[e*n+h];
if(U==null||u==null)throw"e";return i*U+f*o+X*b+s*u};r.D.aDj=function(x,F,W,n,L){x-=.499999;F-=.499999;
var $=Math.floor(x),l=Math.floor(F),k=x-$,V=F-l,i=(1-V)*(1-k),f=(1-V)*k,X=V*(1-k),s=V*k,R=0,h=l*n+$,B=h+n;
if(0<=l&&l<L&&0<=$&&$<n)R+=i*W[h];if(0<=l&&l<L&&0<=$+1&&$+1<n)R+=f*W[h+1];if(0<=l+1&&l+1<L&&0<=$&&$<n)R+=X*W[B];
if(0<=l+1&&l+1<L&&0<=$+1&&$+1<n)R+=s*W[B+1];return R};r.D.ax_=function(x,F,W,n,L,$,l,k,V,i,f,X){var s=new Uint32Array(x.buffer),R=new Uint32Array(n.buffer),h=(1+2*i)/L,B=[],e=[];
for(var U=0;U<L;U++){var o=-.25+i-U*h;B.push(Math.cos(2*Math.PI*o)*X/f);B.push(Math.sin(2*Math.PI*o)/f)}l*=F;
k*=W;for(var b=0;b<$;b++){var u=Math.pow(b/$,V)*$;for(var U=0;U<L;U++){var Z=l+B[U<<1]*u,I=k+B[(U<<1)+1]*u,y=~~(.5+(Z<0?0:Z>F-1?F-1:Z)),D=~~(.5+(I<0?0:I>W-1?W-1:I));
R[b*L+U]=s[D*F+y]}}};r.D.atX=function(x,F,W,n,L,$,l,k,V,i,f,X){var s=new Uint32Array(x.buffer),R=new Uint32Array(n.buffer),h=1/X,B=[],e=W*4,U=1/e;
for(var o=0;o<e+10;o++)B.push(Math.pow(o*U,1/V)*W*f);l*=L;k*=$;for(var o=0;o<$;o++)for(var b=0;b<L;b++){var u=h*(b-l),Z=o-k,I=1.75-Math.atan2(Z,u)*(1/(2*Math.PI));
I=I-~~I;I=(I+i)*(1/(1+2*i));var y=Math.sqrt(u*u+Z*Z);y=B[~~(y*4)];r.D.QU(I*F+.5,y+.5,s,F,W,R,o*L+b,1)}};
r.D.uB=function(x,F,W,n,L){var $=L[0],l=L[1];for(var k=0;k<l;k++)for(var V=0;V<$;V++){var i=L[2]*V+L[3]*k+L[4],f=L[5]*V+L[6]*k+L[7],X=k*$+V<<2,s=f*F+i<<2;
n[X]=x[s+0];n[X+1]=x[s+1];n[X+2]=x[s+2];n[X+3]=x[s+3]}};r.I={oN:function(x,F){var W=~~(.499+x*F);return W<0?0:W>F?F:W},a6o:function(x,F,W,n,L,$,l,k){var V=W[0],i=W[1],f=W[2],X=W[3],s=n.m,R=n.e,h=new Float64Array(s*4+8),B=new Float64Array(s*4+8);
for(var e=0,w=0;e<R;e++){var U=h;h=B;B=U;B.fill(0);for(var o=0;o<s;o++,w++){var b=o+L,u=e+$,Z=V*b+i*u,I=f*b+X*u,y=0,j=0;
if(k==0)y=Z+.5;else if(k==1)y=2*Math.sqrt(Z*Z+I*I);else if(k==2)y=(Math.PI+Math.atan2(-I,-Z))/(2*Math.PI);
else if(k==3)y=Math.abs(Z*2);else if(k==4)y=2*(Math.abs(Z)+Math.abs(I));var D=r.I.oN(y,l)*4,N=o*4;for(var H=0;
H<4;H++){var Q=Math.max(0,Math.min(254.999,F[D+H]+h[N+4+H])),C=Math.floor(Q);if(Math.random()<Q-C)C++;
var J=Q-C;h[N+8+H]=J*(7/16);B[N+0+H]=J*(3/16);B[N+4+H]=J*(5/16);B[N+8+H]=J*(1/16);j|=C<<H*8}x[w]=j}}},jT:[function(x,F,W,n,L,$,l){var k=W[0],V=W[1],i=W[2],f=W[3],X=n.m,s=n.e;
for(var R=0,w=0;R<s;R++)for(var h=0;h<X;h++,w++){var B=h+L,e=R+$,U=k*B+V*e,o=i*B+f*e,b=U+.5;x[w]=F[r.I.oN(b,l)]}},function(x,F,W,n,L,$,l){var k=W[0],V=W[1],i=W[2],f=W[3],X=n.m,s=n.e;
for(var R=0,w=0;R<s;R++)for(var h=0;h<X;h++,w++){var B=h+L,e=R+$,U=k*B+V*e,o=i*B+f*e,b=2*Math.sqrt(U*U+o*o);
x[w]=F[r.I.oN(b,l)]}},function(x,F,W,n,L,$,l){var k=W[0],V=W[1],i=W[2],f=W[3],X=n.m,s=n.e;for(var R=0,w=0;
R<s;R++)for(var h=0;h<X;h++,w++){var B=h+L,e=R+$,U=k*B+V*e,o=i*B+f*e,b=(Math.PI+Math.atan2(-o,-U))/(2*Math.PI);
x[w]=F[r.I.oN(b,l)]}},function(x,F,W,n,L,$,l){var k=W[0],V=W[1],i=W[2],f=W[3],X=n.m,s=n.e;for(var R=0,w=0;
R<s;R++)for(var h=0;h<X;h++,w++){var B=h+L,e=R+$,U=k*B+V*e,o=i*B+f*e,b=Math.abs(U*2);x[w]=F[r.I.oN(b,l)]}},function(x,F,W,n,L,$,l){var k=W[0],V=W[1],i=W[2],f=W[3],X=n.m,s=n.e;
for(var R=0,w=0;R<s;R++)for(var h=0;h<X;h++,w++){var B=h+L,e=R+$,U=k*B+V*e,o=i*B+f*e,b=2*(Math.abs(U)+Math.abs(o));
x[w]=F[r.I.oN(b,l)]}}]};r.I.aol=function(x,F){return x+.5};r.I.aAb=function(x,F){return 2*Math.sqrt(x*x+F*F)};
r.I.a3b=function(x,F){return(Math.PI+Math.atan2(-F,-x))/(2*Math.PI)};r.I.axO=function(x,F){return Math.abs(x*2)};
r.I.aef=function(x,F){return 2*(Math.abs(x)+Math.abs(F))};r.I.wL=function(x,F,W,n,L,$,l,k,V,i,f,X){var s=x.Clrs,R=new Uint32Array(F.buffer),h=1023,B=s?r.I.hM(x,V,i):null;
if(X&&s){var e=r.I.aAq(x,B,h+1,l);r.I.a6o(R,e,n,W,W.x-L,W.y-$,h,k)}else{var U=s?r.I.a25(x,B,h+1,l):r.I.atp(x,h+1,l);
if(k<5){r.I.jT[k](R,U,n,W,W.x-L,W.y-$,h)}else{var o=new Uint8Array(U.buffer),b=W.m,u=W.e,Z=f.Az-f.hY,I=1/Z,y=f.Xh.m-W.m>>1,D=f.Xh.e-W.e>>1,N=f.Xh.m,j=-.6*I,H=(-.6+.4)*I,Q=(-.6+2*.4)*I,C=(-.6+3*.4)*I;
for(var J=0,w=0;J<u;J++)for(var E=0;E<b;E++,w+=4){var T=0,c=0,a=0,K=0,Y=(J+D)*N+E+y,p=(f.NA[Y]-f.hY)*I,P=0;
if(p<=0||p>=1){P=(p<=0?0:h)<<2;F[w]=o[P];F[w+1]=o[P+1];F[w+2]=o[P+2];F[w+3]=o[P+3];continue}P=Math.max(0,Math.min(h-1,Math.round((p+j)*h)))<<2;
c+=o[P];a+=o[P+1];K+=o[P+2];T+=o[P+3];P=Math.max(0,Math.min(h-1,Math.round((p+H)*h)))<<2;c+=o[P];a+=o[P+1];
K+=o[P+2];T+=o[P+3];P=Math.max(0,Math.min(h-1,Math.round((p+Q)*h)))<<2;c+=o[P];a+=o[P+1];K+=o[P+2];T+=o[P+3];
P=Math.max(0,Math.min(h-1,Math.round((p+C)*h)))<<2;c+=o[P];a+=o[P+1];K+=o[P+2];T+=o[P+3];F[w]=c>>>2;
F[w+1]=a>>>2;F[w+2]=K>>>2;F[w+3]=T>>>2}}}};r.I.hM=function(x,F,W){var n=[x.Clrs.v,x.Trns.v],L=[[],[]],$=255;
for(var l=0;l<2;l++)for(var w=0;w<n[l].length;w++){var k,V=n[l][w].v;if(l==0){var i=V.Type.v.Clry;if(i=="FrgC")k={o:F>>16&255,r:F>>8&255,z:F&255};
else if(i=="BckC")k={o:W>>16&255,r:W>>8&255,z:W&255};else k=r.I.z$(V.Clr.v)}else{k=V.Opct.v.val*(255/100);
if(k<$)$=k}L[l].push([k,V.Lctn.v/4096,V.Mdpn.v/100])}L.push($>254);return L};r.I.z$=function(x){var F,W=x.classID;
if(W=="RGBC"){if(x.Rd)F={o:x.Rd.v,r:x.Grn.v,z:x.Bl.v};else F={o:x.redFloat.v*255,r:x.greenFloat.v*255,z:x.blueFloat.v*255}}else if(W=="HSBC"){F=r.zi(x.H.v.val/360,x.Strt.v/100,x.Brgh.v/100);
F.o*=255;F.r*=255;F.z*=255}else if(W=="CMYC"){var n=100-x.Cyn.v,L=100-x.Mgnt.v,$=100-x.Ylw.v,l=100-x.Blck.v,k=255*n*l*1e-4,V=255*(.2*n+.8*L)*l*1e-4,i=255*(.2*L+.8*$)*l*1e-4;
F={o:k,r:V,z:i}}else if(W=="Grsc")F={o:255-x.Gry.v,r:255-x.Gry.v,z:255-x.Gry.v};else if(W=="LbCl"){F=r.Qo(x.Lmnc.v,x.A.v,x.B.v)}else if(W=="BkCl")F={o:0,r:0,z:0};
else console.log(x);if(isNaN(F.o))F.o=F.r=F.z=0;return F};r.I.atp=function(x,F,W){var n=new Uint32Array(F),L=new Uint8Array(n.buffer);
n.fill(4278190080);var $=[],l=[],k=x.RndS.v,V=x.Smth.v/4096;for(var w=0;w<4;w++){$[w]=~~(x.Mnm.v[w].v*255/100);
l[w]=~~(x.Mxm.v[w].v*255/100)}var i=r.R(F*4),f=r.R(F);for(var X=0;X<3;X++){r.X.aA5(null,F,1,i,[1+Math.round(V*V*V*60),22,k*(2+X)]);
r.Tb(i,f,0);r.rW(f,L,X);var s=$[X],R=l[X];for(var w=0;w<F;w++)L[4*w+X]=Math.max(s,Math.min(R,L[4*w+X]))}if(W)for(var w=0;
w<F/2;w++){var h=n[w];n[w]=n[F-1-w];n[F-1-w]=h}return n};r.I.GB=function(x){return{classID:"RGBC",Rd:{t:"doub",v:x.o},Grn:{t:"doub",v:x.r},Bl:{t:"doub",v:x.z}}};
r.I.aAq=function(x,F,W,n){var L=[],$=1/(W-0);for(var w=0;w<W;w++){var l=w*4,k=r.I.qD(x,F,(n?W-1-w:w)*$);
L[l]=k[0];L[l+1]=k[1];L[l+2]=k[2];L[l+3]=k[3]}return L};r.I.a25=function(x,F,W,n){var L=new Uint32Array(W),$=1/(W-0);
for(var w=0;w<W;w++)L[w]=r.I.oF(x,F,(n?W-1-w:w)*$);return L};r.I.qD=function(x,F,W){var n=x.Intr.v*(1/4096),L=F[0],$=F[1],l=L.length-1,k=$.length-1,w=-1,V=0,i=0,f=0,X=0;
if(F[2])V=255;else{while(w<k&&$[w+1][1]<=W)w++;if(w==-1){V=$[0][0]}else if(w==k){V=$[w][0]}else{var s=r.I.aCz($,w,W,n);
V=s*$[w][0]+(1-s)*$[w+1][0]}}w=-1;while(w<l&&L[w+1][1]<=W)w++;if(w==-1){var R=L[0][0];i=R.o;f=R.r;X=R.z}else if(w==l){var R=L[w][0];
i=R.o;f=R.r;X=R.z}else{var h=L[w][0],B=L[w+1][0],e=r.I.aCz(L,w,W,n);i=e*h.o+(1-e)*B.o;f=e*h.r+(1-e)*B.r;
X=e*h.z+(1-e)*B.z}return[i,f,X,V]};r.I.oF=function(x,F,W){var n=r.I.qD(x,F,W),L=~~(.5+n[0]),$=~~(.5+n[1]),l=~~(.5+n[2]),k=~~(.5+n[3]);
return k<<24|l<<16|$<<8|L};r.I.aCz=function(x,w,F,W){if(x.length==2)W*=.5;var n=x[w][1],L=x[w+1][1],$=n+x[w+1][2]*(L-n),l;
if(F<$)l=.5*(F-n)/($-n);else l=.5+.5*(F-$)/(L-$);l=.5+.5*(W*Math.cos(Math.PI*l)+(1-W)*(1-2*l));return l};
r.I.ao$=function(x,F,W){var n=.5*W.e,L=n*(x/F),$=Math.sqrt(n*n+L*L),l=.5*W.m,k=l*(F/x),V=Math.sqrt(l*l+k*k);
return Math.min($,V)};r.I.l6=function(x,F){var W=Math.PI*x.Angl.v.val/180,n=x.Scl.v.val/100,L=x.Ofst.v,$=L.Hrzn.v.val/100,l=L.Vrtc.v.val/100,k=Math.cos(W),V=-Math.sin(W),i=r.I.ao$(k,V,F),f=i*n,X=F.x+F.m/2+$*F.m,s=F.y+F.e/2+l*F.e;
return[new eX(X,s),new eX(X+k*f,s+V*f)]};r.I.cD=function(x,F,W,n){var L=F.x-x.x,$=-(F.y-x.y),l=Math.sqrt(L*L+$*$),k=Math.atan2($,L),V=Math.cos(k),i=-Math.sin(k),f=r.I.ao$(V,i,W),X=l/f,s=(x.x-W.x-W.m/2)/W.m,R=(x.y-W.y-W.e/2)/W.e;
n.Angl.v.val=180*k/Math.PI;n.Scl.v.val=X*100;var h=n.Ofst.v;h.Hrzn.v.val=s*100;h.Vrtc.v.val=R*100};r.I.yT=function(x,F){for(var w=0;
w<x.length;w++){var W=x[w],n=Math.round(W[0]*4096),L=W[1],$=W[2],l=W[3];if($==null)$=1;if(l==null)l=.5;
var k=r.I.GB({o:L[0]*255,r:L[1]*255,z:L[2]*255});F.Clrs.v[w]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:n},Mdpn:{t:"long",v:Math.round(l*100)},Clr:{t:"Objc",v:k},Type:{t:"enum",v:{Clry:"UsrS"}}}};
F.Trns.v[w]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:n},Mdpn:{t:"long",v:Math.round(l*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round($*100)}}}}}};
r.I.A2=function(x,F,W){if(F){x=JSON.parse(JSON.stringify(x));for(var w=0;w<2;w++){var n=x[w==0?"Clrs":"Trns"].v;
for(var L=0;L<n.length;L++)n[L].v.Lctn.v=4096-n[L].v.Lctn.v;n.reverse()}}var $=[],l=1/255,k=x.Clrs.v,V=x.Trns.v,n=k;
if(aH==0||k.length!=V.length){if(aH!=0)console.log("strange gradient");if(W!=!0)n=k.concat(V);var i=r.I.hM(x,0,0);
for(var w=0;w<n.length;w++){var f=n[w].v,X=f.Lctn.v/4096,s=r.I.qD(x,i,X);$.push([X,[s[0]*l,s[1]*l,s[2]*l],s[3]*l])}$.sort(function(h,B){return h[0]-B[0]});
for(var w=1;w<$.length;w++)if($[w][0]-$[w-1][0]<.001){$.splice(w,1);w--}}else{for(var w=0;w<n.length;
w++){var f=k[w].v,R=f.Clr.v,X=f.Lctn.v/4096;$.push([X,[R.Rd.v*l,R.Grn.v*l,R.Bl.v*l],V[w].v.Opct.v.val*.01])}}return $};
r.akS={};r.akS.hu=function(x,F,W,n,L,$,l,k,V,i,f,X){var s,R,h,B=Date.now(),e=!1,U=l,o=i,b,u,Z,I,y=$*255,D=255-V*255,N=1+L*6,j=1+k*6,H=1+X*4,Q=(H-1)/7,C=0,J=255-0,E,T,c,a,K,Y,p,P,m,z,M,d,A,G=0,kB=1,q,fO,g,jN,c6,a7,bd,ey,c5,bx,ap=1+f,fC,kE=r.R(W*n),bm=r.R(W*n),fe=r.R(W*n),g8=r.R(W*n),e0=255/y,cF=255/(255-D);
for(R=0;R<n;R++){for(s=0;s<W;s++){var w=R*W+s,ei=w<<2;q=r.Ns(x[ei],x[ei+1],x[ei+2]);g8[w]=q;if(q<y)kE[w]=255-q*e0;
if(q>D)bm[w]=255-(255-q)*cF}}if(e)console.log("init",Date.now()-B);B=Date.now();if(L*U>0){fe.set(kE);
r.wG.P0(fe,kE,new eu(0,0,W,n),U)}if(k*o>0){fe.set(bm);r.wG.P0(fe,bm,new eu(0,0,W,n),o)}if(e)console.log("blur",Date.now()-B);
B=Date.now();var cr=r.R(256),e_=r.R(256);for(var w=0;w<256;w++){var gg=w*(1/255),bW=0;bW=(1-Math.pow(1-gg,N))*255;
cr[w]=Math.max(0,Math.min(255,~~(bW+.5)));bW=Math.pow(gg,j)*255;e_[w]=Math.max(0,Math.min(255,~~(bW+.5)))}var gx=new Uint8ClampedArray(F.buffer),h$=new Float32Array(32768);
for(var w=0;w<32768;w++){fC=Math.sqrt(w)*(1/128);if(ap>1)fC=(1-fC)*(ap-1)+1;else fC=fC*(ap-1)+1;h$[w]=fC}for(R=0;
R<n;R++){for(s=0;s<W;s++){var w=R*W+s,ei=w<<2,bW=g8[w],dH=kE[w]*(1/255),eg=bm[w]*(1/255);bW=(1-dH)*bW+dH*cr[~~bW];
bW=(1-eg)*bW+eg*e_[~~bW];q=bW;var aB=x[ei],gB=x[ei+1],jy=x[ei+2];fO=-aB*.168736-gB*.331264+jy*.5;g=aB*.5-gB*.418688-jy*.081312;
fC=h$[~~(.5+fO*fO+g*g)];jN=fO*fC;a7=g*fC;kB=1-Math.min(2-(dH+eg),1);fO=kB*fO+(1-kB)*jN;g=kB*g+(1-kB)*a7;
ey=q+1.402*g;c5=q-.34414*fO-.71414*g;bx=q+1.772*fO;gx[ei]=~~(.5+ey);gx[ei+1]=~~(.5+c5);gx[ei+2]=~~(.5+bx)}}if(e)console.log("apply masks",Date.now()-B);
B=Date.now()};r.El={};r.El.e5=function(x,F,W,n,L){var $=Date.now(),l=!1,B=1,J=0,m=0;if(!F.Ic(L)){var k=F.oA(L),V=r.R(k.P()*4);
r.sh(x,F,V,k);x=V;F=k}var i=r.R(F.P());r.Hz(W,L,i,F);r.round(i);L=L.jB(F);var f=L.m,X=L.e,s=f*3<X?2:1,R=X*3<f?2:1;
if(L.P()*(s*2+1)*(R*2+1)<F.P()){var k=new eu(L.x-f*s,L.y-X*s,f*(s*2+1),X*(R*2+1)).jB(F),V=r.R(k.P()*4);
r.sh(x,F,V,k);var h=r.R(k.P());r.Hz(i,F,h,k);F=k;x=V;i=h}while((F.m+F.e)/2/B>400)B++;var e=x,U=F,o=i,b=Math.floor(U.m/B),u=Math.floor(U.e/B);
x=r.R(b*u*4);r.scale.du(e,U.m,U.e,x,b,u,1/B);i=r.R(b*u);r.scale.uB(o,U.m,U.e,i,b,u,1/B);r.round(i,1);
if(l)console.log("scale down:",B,b,u);var Z=r.c_(i,new eu(0,0,b,u));if(Z.ak())return 1;var I=Math.round((Z.m+Z.e)/2/15);
if(l)console.log(Date.now()-$,"preprocess");$=Date.now();var y=r.R(b*u*4);r.avu(x,y);var D=Int16Array,N=new D(b*u*24),j=new D(64),H=new D(64),Q=new D(64),C=new D(64);
for(var E=3;E<u-4;E++)for(var T=3;T<b-4;T++){var c=E*b+T;if(i[c]==255)continue;if(r.El.aeL(y,i,T,E,b,u,j,H,Q)!=0)continue;
r.El.Kl(j,C);var a=J*24;N[a]=T;N[a+1]=E;r.El.Bj(j,N,a+4,12);r.El.Kl(H,C);r.El.Bj(H,N,a+16,4);r.El.Kl(Q,C);
r.El.Bj(Q,N,a+20,4);var K=N[a+5],Y=N[a+6];N[a+5]=N[a+16];N[a+6]=N[a+20];N[a+16]=K;N[a+20]=Y;J++}if(J==0)return 2;
if(l)console.log(Date.now()-$,"FWHT computed");$=Date.now();var p=[];r.El.jc(0,J-1,p,N,new D(2*24));
if(l)console.log(Date.now()-$,"KD tree computed");$=Date.now();var P=new Uint32Array(b*u*4);for(var w=0;
w<J;w++){var z=w,M=r.El.aB8(z,N,p,I);if(M==-1)continue;var d=z*24,A=M*24,G=N[d],kB=N[d+1],q=N[A],fO=N[A+1];
m+=r.El.getError(A,d,N,1e99);var g=q-G,jN=fO-kB;P[(u+jN)*2*b+(b+g)]+=1}if(l)console.log(Date.now()-$,"NN found");
$=Date.now();var c6=[],a7=1/(2*b);for(var w=0;w<P.length;w++){if(P[w]>0){var E=Math.floor(w*a7),T=w-E*2*b;
c6.push({x:T-b,y:E-u,b:P[w],KM:-1})}}c6.sort(function(gx,h$){return h$.b-gx.b});var bd=new Int32Array(b*u),ey=[];
for(var w=0;w<b*u;w++){if(i[w]==255){bd[w]=ey.length>>>1;ey.push(w%b,Math.floor(w/b))}else if(x[(w<<2)+3]<200){bd[w]=-2}else{bd[w]=-1}}var c5=r.El.ahF(b,u,c6,bd,ey);
if(c5==null){if(l)console.log("no appropriate labeling");return 3}var bx=c5.yJ,top=c5.top;bx=r.El.ak8(bx,x,b,u,top,bd,ey);
if(l)console.log(Date.now()-$,"optimal labeling found");$=Date.now();var k=L.clone();k.za(1,1);k=k.jB(U);
var ap=r.R(k.P()*4),fC=r.R(k.P());r.sh(e,U,ap,k);var kE=U.m,bm=U.e;for(var E=0;E<bm;E++)for(var T=0;
T<kE;T++){if(o[E*kE+T]==0)continue;var fe=Math.min(Math.floor(T/B),b-1),g8=Math.min(Math.floor(E/B),u-1),e0=bd[g8*b+fe];
if(e0==-1)continue;var cF=bx[e0],ei=top[cF],cr=T+ei.x*B,e_=E+ei.y*B,gg=e_*kE+cr<<2,bW=(E-k.y+U.y)*k.m+(T-k.x+U.x)<<2;
ap[bW]=e[gg];ap[bW+1]=e[gg+1];ap[bW+2]=e[gg+2];ap[bW+3]=e[gg+3];ap[bW+3]=e[gg+3];fC[bW>>2]=cF+1}if(l)console.log(Date.now()-$,"copied back");
$=Date.now();r.iw.e5(ap,fC,k,null,1e3);if(l)console.log(Date.now()-$,"poisson smooth");$=Date.now();
r.sh(ap,k,n,L);return 0};r.El.a9O=function(x,F,W,n,L,$){return r.El.Wv(x+L.x,F+L.y,W,n,$)?0:1e9};r.El.ak8=function(x,F,W,n,top,L,$){var l=Date.now(),k=$.length>>>1,V=[-1,0,0,-1,1,0,0,1],i=1e99,f=[],X=[],s=2*(k*2*3+k*2),R=null,h=0,B=0,e=0,U=1e99;
while(!0&&Date.now()<l+12e3){e++;var o=null,b=i;for(var u=0;u<top.length;u++){var Z=top[u],I=0,y=k+2,D=0;
for(var w=0;w<k;w++){var N=$[w*2],j=$[w*2+1],H=top[x[w]],Q=r.El.a9O(N,j,W,n,Z,L),C=x[w]==u?1e9:r.El.a9O(N,j,W,n,H,L);
for(var dx=0;dx<4;dx++){if(dx==0&&N==0||dx==1&&j==0||dx==2&&N==W-1||dx==3&&j==n-1)continue;var J=V[2*dx],E=V[2*dx+1],T=N+J,c=j+E,a=L[c*W+T];
if(a==-2){}else if(a==-1){Q+=3*r.El.kz(T+Z.x,c+Z.y,T,c,W,n,F,L);Q+=2*r.El.kz(T+Z.x+J,c+Z.y+E,T+J,c+E,W,n,F,L);
C+=3*r.El.kz(T+H.x,c+H.y,T,c,W,n,F,L);C+=2*r.El.kz(T+H.x+J,c+H.y+E,T+J,c+E,W,n,F,L)}else if(dx>1){if(x[w]==x[a]){var K=0;
K+=r.El.kz(N+H.x,j+H.y,N+Z.x,j+Z.y,W,n,F,L);K+=r.El.kz(T+H.x,c+H.y,T+Z.x,c+Z.y,W,n,F,L);f[I]=w;f[I+1]=a;
X[I]=K;X[I+1]=K;I+=2}else{var Y=top[x[a]],p=y,P=0,m=0,z=0;y++;P+=r.El.kz(N+H.x,j+H.y,N+Z.x,j+Z.y,W,n,F,L);
P+=r.El.kz(T+H.x,c+H.y,T+Z.x,c+Z.y,W,n,F,L);m+=r.El.kz(N+Y.x,j+Y.y,N+Z.x,j+Z.y,W,n,F,L);m+=r.El.kz(T+Y.x,c+Y.y,T+Z.x,c+Z.y,W,n,F,L);
z+=r.El.kz(N+Y.x,j+Y.y,N+H.x,j+H.y,W,n,F,L);z+=r.El.kz(T+Y.x,c+Y.y,T+H.x,c+H.y,W,n,F,L);f[I]=w;f[I+1]=p;
X[I]=P;X[I+1]=P;I+=2;f[I]=a;f[I+1]=p;X[I]=m;X[I+1]=m;I+=2;f[I]=p;f[I+1]=k+1;X[I]=z;X[I+1]=0;I+=2}}}f[I]=k;
f[I+1]=w;X[I]=Q;X[I+1]=0;I+=2;f[I]=w;f[I+1]=k+1;X[I]=C;X[I+1]=0;I+=2;D+=Math.min(Q,C)}if(D>b)continue;
var M=r.wM.Dt(y,I,k,k+1,f,X,b);if(M.Dc<b){b=M.Dc;var d=x.slice(0);r.El.az1(d,I,f,M.RT,u,k);o=d}}if(b*1>=i){break}i=b;
x=o;if((e&3)==0){if(b*1.03>=U)break;U=b}if((e&3)==0){var A=0*top.length;for(var w=0;w<top.length&&top.length>A;
w++){if(x.indexOf(w)!=-1)continue;top.splice(w,1);for(var a=0;a<x.length;a++)if(x[a]>w)x[a]--;w--}}}return x};
r.El.az1=function(x,F,W,n,L,$){for(var w=0;w<n.length;w++){var l=n[w]<<1,k=0,V=0;if(l<F){k=W[l];V=W[l+1]}else{V=W[l];
k=W[l+1]}if(k==$&&x[V]!=L)x[V]=L}};r.El.amn=function(top,x,F,W,n,L,$,l,k){for(var w=0;w<F.length;w++){var V=F[w],i=!0;
if(l!=null&&!r.El.Wv(l+V.x,k+V.y,L,$,W))continue;if(V.KM==-1)V.KM=r.El.atj(V,W,n,L,$);if(V.KM<=0)continue;
for(var f=0;f<top.length;f++){var X=top[f],s=V.x-X.x,R=V.y-X.y;if(s*s+R*R<x){i=!1;break}}if(i)return V}return null};
r.El.atj=function(x,F,W,n,L){var $=0;for(var w=0;w<W.length;w+=2){var l=W[w]+x.x,k=W[w+1]+x.y;if(r.El.Wv(l,k,n,L,F))$++}return $/(W.length>>1)};
r.El.ahF=function(x,F,W,n,L){var $=L.length>>>1,top=[];for(var w=0;w<60;w++){var l=r.El.amn(top,25,W,n,L,x,F);
if(l==null)break;else top.push(l)}if(top.length==0)return null;var k=[];for(var w=0;w<$;w++){var V=L[w*2],i=L[w*2+1],f=-1,X=0;
while(!0){X++;var s=Math.random();f=Math.floor(s*.99999*top.length);var R=top[f],h=V+R.x,B=i+R.y;if(r.El.Wv(h,B,x,F,n))break;
if(X>1e3){var l;l=r.El.amn(top,0,W,n,L,x,F,V,i);if(l==null)for(var e=0;e<4;e++){var U,o,b=0;while(!0){U=~~(Math.random()*x);
o=~~(Math.random()*F);if(r.El.Wv(U,o,x,F,n))break;b++;if(b>500)throw"e"}l={x:U-V,y:o-i,b:1,KM:-1};W.push(l);
top.push(l)}else top.push(l);X=0}}k.push(f)}return{top:top,yJ:k}};r.El.kz=function(x,F,W,n,L,$,l,k){if(x==W&&F==n)return 0;
if(x<0||F<0||x>=L||F>=$||W<0||n<0||W>=L||n>=$||k[F*L+x]!=-1||k[n*L+W]!=-1)return 1e7;var V=F*L+x<<2,i=n*L+W<<2,f=l[V]-l[i],X=l[V+1]-l[i+1],s=l[V+2]-l[i+2];
return 1+(f*f+X*X+s*s)};r.El.Wv=function(x,F,W,n,L){return x>=0&&x<W&&F>=0&&F<n&&L[F*W+x]==-1};r.El.aB8=function(x,F,W,n){var L=24*x,$=F[L],l=F[L+1],k=n*n,V=0,s=1e9;
while(W[V]!=99)if(F[L+W[V]]<W[V+1])V=W[V+2];else V=W[V+3];var i=W[V+1],f=W[V+2],X=-1;for(var w=i;w<=f;
w++){var V=w,R=V*24,h=F[R],B=F[R+1];if((h-$)*(h-$)+(B-l)*(B-l)<k)continue;var e=r.El.getError(R,L,F,s);
if(e<s){s=e;X=V}}return X};r.El.getError=function(x,F,W,n){var L=0;for(var $=4;$<24;$+=4){var l=W[F+$]-W[x+$],k=W[F+$+1]-W[x+$+1],V=W[F+$+2]-W[x+$+2],i=W[F+$+3]-W[x+$+3];
L+=l*l+k*k+V*V+i*i;if(L>=n)return L+1}return L};r.El.jc=function(x,F,W,n,L){var $=16,s=0;if(F-x<=$){W.push(99,x,F);
return}r.El.KR(x,F,n,L);var l=-1,k=-1;for(var w=4;w<24;w++){var V=L[2*w+1]-L[2*w];if(V>k){k=V;l=w}}var i=x+F>>1,f=r.El.arW(i,x,F,n,l),X=-1;
for(var w=x;w<=F;w++)if(n[24*w+l]==f){if(X==-1)X=w;s=w}if(x+8<X&&X-x>F-s)i=X;else if(s+1<F-8)i=s+1;else if(F-x<64){W.push(99,x,F);
return}else i=i;var R=W.length;W.push(l,f,0,0);W[R+2]=R+4;r.El.jc(x,i-1,W,n,L);W[R+3]=W.length;r.El.jc(i,F,W,n,L)};
r.El.KR=function(x,F,W,n){for(var w=0;w<48;w+=4){n[w]=3e4;n[w+1]=-3e4;n[w+2]=3e4;n[w+3]=-3e4}for(var w=x;
w<=F;w++){var L=w*24;for(var $=0;$<24;$++){var l=W[L+$],k=n[$<<1],V=n[($<<1)+1];if(l<k)n[$<<1]=l;if(l>V)n[($<<1)+1]=l}}};
r.El.BH=function(x,F,W){var n=0,w=0;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;
w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;
w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;
w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;
w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;
w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;
w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;
w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;
w++;n=W[x+w];W[x+w]=W[F+w];W[F+w]=n;w++};r.El.H0=function(x,F,W,n){var L=W+n>>>1,$=x[24*L+F];while(W<=n){while(x[24*W+F]<$)W++;
while(x[24*n+F]>$)n--;if(W<=n){if(x[24*W+F]!=x[24*n+F])r.El.BH(W*24,n*24,x);W++;n--}}return W};r.El.arW=function(x,F,W,n,L){var $=0;
while(F!=W){$=r.El.H0(n,L,F,W);if(x<$)W=$-1;else F=$}return n[x*24+L]};r.El.Bj=function(x,F,W,n){for(var w=0;
w<n;w++)F[W+w]=x[w]};r.El.aeL=function(x,F,W,n,L,$,l,k,V){var i=(n-3)*L+(W-3),f=i<<2;for(var X=0;X<8;
X++){if(F[i]+F[i+1]+F[i+2]+F[i+3]+F[i+4]+F[i+5]+F[i+6]+F[i+7]!=0||x[f+3]<200||x[f+7]<200||x[f+11]<200||x[f+15]<200||x[f+19]<200||x[f+23]<200||x[f+27]<200||x[f+31]<200)return 1;
var w=X<<3;l[w+0]=x[f+0];k[w+0]=x[f+1];V[w+0]=x[f+2];l[w+1]=x[f+4];k[w+1]=x[f+5];V[w+1]=x[f+6];l[w+2]=x[f+8];
k[w+2]=x[f+9];V[w+2]=x[f+10];l[w+3]=x[f+12];k[w+3]=x[f+13];V[w+3]=x[f+14];l[w+4]=x[f+16];k[w+4]=x[f+17];
V[w+4]=x[f+18];l[w+5]=x[f+20];k[w+5]=x[f+21];V[w+5]=x[f+22];l[w+6]=x[f+24];k[w+6]=x[f+25];V[w+6]=x[f+26];
l[w+7]=x[f+28];k[w+7]=x[f+29];V[w+7]=x[f+30];f+=L<<2;i+=L}return 0};r.El.Kl=function(x,F){F[0]=x[32]+x[0];
F[1]=x[33]+x[1];F[2]=x[34]+x[2];F[3]=x[35]+x[3];F[4]=x[36]+x[4];F[5]=x[37]+x[5];F[6]=x[38]+x[6];F[7]=x[39]+x[7];
F[8]=x[40]+x[8];F[9]=x[41]+x[9];F[10]=x[42]+x[10];F[11]=x[43]+x[11];F[12]=x[44]+x[12];F[13]=x[45]+x[13];
F[14]=x[46]+x[14];F[15]=x[47]+x[15];F[16]=x[48]+x[16];F[17]=x[49]+x[17];F[18]=x[50]+x[18];F[19]=x[51]+x[19];
F[20]=x[52]+x[20];F[21]=x[53]+x[21];F[22]=x[54]+x[22];F[23]=x[55]+x[23];F[24]=x[56]+x[24];F[25]=x[57]+x[25];
F[26]=x[58]+x[26];F[27]=x[59]+x[27];F[28]=x[60]+x[28];F[29]=x[61]+x[29];F[30]=x[62]+x[30];F[31]=x[63]+x[31];
F[32]=x[0]-x[32];F[33]=x[1]-x[33];F[34]=x[2]-x[34];F[35]=x[3]-x[35];F[36]=x[4]-x[36];F[37]=x[5]-x[37];
F[38]=x[6]-x[38];F[39]=x[7]-x[39];F[40]=x[8]-x[40];F[41]=x[9]-x[41];F[42]=x[10]-x[42];F[43]=x[11]-x[43];
F[44]=x[12]-x[44];F[45]=x[13]-x[45];F[46]=x[14]-x[46];F[47]=x[15]-x[47];F[48]=x[16]-x[48];F[49]=x[17]-x[49];
F[50]=x[18]-x[50];F[51]=x[19]-x[51];F[52]=x[20]-x[52];F[53]=x[21]-x[53];F[54]=x[22]-x[54];F[55]=x[23]-x[55];
F[56]=x[24]-x[56];F[57]=x[25]-x[57];F[58]=x[26]-x[58];F[59]=x[27]-x[59];F[60]=x[28]-x[60];F[61]=x[29]-x[61];
F[62]=x[30]-x[62];F[63]=x[31]-x[63];x[0]=F[16]+F[0];x[1]=F[17]+F[1];x[2]=F[18]+F[2];x[3]=F[19]+F[3];
x[4]=F[20]+F[4];x[5]=F[21]+F[5];x[6]=F[22]+F[6];x[7]=F[23]+F[7];x[8]=F[24]+F[8];x[9]=F[25]+F[9];x[10]=F[26]+F[10];
x[11]=F[27]+F[11];x[12]=F[28]+F[12];x[13]=F[29]+F[13];x[14]=F[30]+F[14];x[15]=F[31]+F[15];x[16]=F[0]-F[16];
x[17]=F[1]-F[17];x[18]=F[2]-F[18];x[19]=F[3]-F[19];x[20]=F[4]-F[20];x[21]=F[5]-F[21];x[22]=F[6]-F[22];
x[23]=F[7]-F[23];x[24]=F[8]-F[24];x[25]=F[9]-F[25];x[26]=F[10]-F[26];x[27]=F[11]-F[27];x[28]=F[12]-F[28];
x[29]=F[13]-F[29];x[30]=F[14]-F[30];x[31]=F[15]-F[31];F[0]=x[8]+x[0];F[1]=x[9]+x[1];F[2]=x[10]+x[2];
F[3]=x[11]+x[3];F[4]=x[12]+x[4];F[5]=x[13]+x[5];F[6]=x[14]+x[6];F[7]=x[15]+x[7];F[8]=x[0]-x[8];F[9]=x[1]-x[9];
F[10]=x[2]-x[10];F[11]=x[3]-x[11];F[12]=x[4]-x[12];F[13]=x[5]-x[13];F[14]=x[6]-x[14];F[15]=x[7]-x[15];
x[0]=F[4]+F[0];x[1]=F[5]+F[1];x[2]=F[6]+F[2];x[3]=F[7]+F[3];x[4]=F[0]-F[4];x[5]=F[1]-F[5];x[6]=F[2]-F[6];
x[7]=F[3]-F[7];x[8]=F[12]+F[8];x[9]=F[13]+F[9];x[10]=F[14]+F[10];x[11]=F[15]+F[11];x[12]=F[8]-F[12];
x[13]=F[9]-F[13];x[14]=F[10]-F[14];x[15]=F[11]-F[15];F[0]=x[2]+x[0];F[1]=x[3]+x[1];F[2]=x[0]-x[2];F[3]=x[1]-x[3];
F[4]=x[6]+x[4];F[5]=x[7]+x[5];F[6]=x[4]-x[6];F[7]=x[5]-x[7];F[8]=x[10]+x[8];F[9]=x[11]+x[9];F[10]=x[8]-x[10];
F[11]=x[9]-x[11];F[12]=x[14]+x[12];F[13]=x[15]+x[13];F[14]=x[12]-x[14];F[15]=x[13]-x[15];x[0]=F[1]+F[0];
x[1]=F[0]-F[1];x[2]=F[3]+F[2];x[3]=F[2]-F[3];x[4]=F[5]+F[4];x[5]=F[4]-F[5];x[6]=F[7]+F[6];x[7]=F[6]-F[7];
x[8]=F[9]+F[8];x[9]=F[8]-F[9];x[10]=F[11]+F[10];x[11]=F[10]-F[11];x[12]=F[13]+F[12];x[13]=F[12]-F[13];
x[14]=F[15]+F[14];x[15]=F[14]-F[15]};r.El.ayR=function(){var x="",dx=64,F="v",W="t",n="a",L=5,w,$,l;
for(w=dx>>1;w>0;w>>=1,L--){for($=0;$<dx;$++){l=($>>L&1)!=0;if(l){x+=W+"["+$+"] = "+F+"["+(-w+$)+"] - "+F+"["+$+"];  "}else{x+=W+"["+$+"] = "+F+"["+(w+$)+"] + "+F+"["+$+"];  "}}n=F;
F=W;W=n;x+="\n"}console.log(x)};r.El.agi=function(dx,x,F){var W=x,n=F,L=W,$=0,w,k,V;while(dx>>$!=2)$++;
var l=$;for(w=dx>>1;w>0;w>>=1,$--){for(k=0;k<dx;k++){V=(k>>$&1)!=0;if(V)n[k]=W[-w+k]-W[k];else n[k]=W[w+k]+W[k]}L=W;
W=n;n=L}if((l&1)==1)for(w=0;w<dx;w++)F[w]=W[w]};r.n9={};r.n9.nE=function(x,F,W,n,L,$,l,k,V){var i=Date.now(),f=new Uint32Array(x.buffer),X=new Uint32Array(F.buffer),s=l/W,R=k/n,h=1/s,B=1/R,e=new Float64Array(2),U=3,o=1/U,b=1/(U*U),u=0,Z=0,I=W,y=n;
if(L){u=L.x;Z=L.y;I=L.m;y=L.e}for(var D=0;D<y;D++)for(var N=0;N<I;N++){var j=u+N,H=Z+D,w=H*W+j,Q=w<<1,C=w<<2;
r.n9.a3Y($,l,k,(j+.5)*s,(H+.5)*R,e);var J=e[0]*h,E=e[1]*B;if(J==0&&E==0)X[w]=f[w];else{r.D.QU(j+J+.5,H+E+.5,f,W,n,X,w,V)}}};
r.n9.a3Y=function(x,F,W,n,L,$){n-=.499999;L-=.499999;var l=~~n,k=~~L,V=n-l,i=L-k,f=(1-i)*(1-V),X=(1-i)*V,s=i*(1-V),R=i*V,h=l<F-1?l+1:l,B=k<W-1?k+1:k,e=k*F+l<<1,U=k*F+h<<1,o=B*F+l<<1,b=B*F+h<<1;
$[0]=f*x[e]+X*x[U]+s*x[o]+R*x[b];$[1]=f*x[e+1]+X*x[U+1]+s*x[o+1]+R*x[b+1]};r.n9.a1x=function(x,F,W,n,L){var $=1/x,l=[-1,1,-x,x],k=n.length;
for(var V=0;V<k;V++){var w=n[V],i=w<<1,f=V<<1,X=~~(w*$),s=w-x*X,R=W[i],h=W[i+1],B=0,e=0;if(s!=0&&s!=x-1){var U=w-1<<1,o=w+1<<1,b=W[U],u=W[o],Z=W[U+1],I=W[o+1],y=R-(b+u)*.5,D=h-(Z+I)*.5;
B-=y*L;e-=D*L}if(X!=0&&X!=F-1){var U=w-x<<1,o=w+x<<1,b=W[U],u=W[o],Z=W[U+1],I=W[o+1],y=R-(b+u)*.5,D=h-(Z+I)*.5;
B-=y*L;e-=D*L}W[i]=R+B;W[i+1]=h+e}};r.n9.aq4=function(x,F){var W=x+","+F;if(r.n9.azA==W)return r.n9.apG;
var n=r.n9.apG=[];r.n9.azA=W;for(var w=0;w<=1e3;w++){var L=w*.001,$=Math.sqrt(L),l=Math.exp(-4*$),k=.96*(1-$*$),V=F*((1-x)*l+x*k);
n[w]=V}return n};r.n9.azA="";r.n9.apG=[];r.n9.akz=function(x,F,W,n,L,$,l,k,V,i,f,X,s){var R=Math.max(0,Math.floor(L-l-1)),h=Math.min(F,Math.ceil(L+l+1)),B=Math.max(0,Math.floor($-l-1)),e=Math.min(W,Math.ceil($+l+1)),U=2*F,o=l*l,b=1/l,u=0;
if(s&&(n==3||n==6))V=-V;var Z=r.n9.aq4(k,V);for(var I=B;I<e;I++)for(var y=R;y<h;y++){var w=I*F+y,D=w<<1,N=(L-y)*b,j=($-I)*b,H=N*N+j*j;
if(H<1){X[u]=w;var Q=Z[~~(H*1e3)];if(n==1){x[D]=x[D]*(1-Q*.05);x[D+1]=x[D+1]*(1-Q*.05)}else{var C=0,J=0,c,a,K,Y;
if(n==0){C=i*Q;J=f*Q}else if(n==2){}else if(n==3){C=Q*j;J=-Q*N}else if(n==4){C=Q*N;J=Q*j}else if(n==5){C=-Q*N;
J=-Q*j}else if(n==6){C=f*Q;J=-i*Q}var E=x[D],T=x[D+1];if(y==0||y!=F-1&&C<0){c=1+x[D+2]-E;K=x[D+3]-T}else{c=E-x[D-2]+1;
K=T-x[D-1]}if(I==0||I!=W-1&&J<0){a=x[D+U]-E;Y=1+x[D+U+1]-T}else{a=E-x[D-U];Y=T-x[D-U+1]+1}x[D]=-(c*C+a*J-E);
x[D+1]=-(K*C+Y*J-T)}u++}}};r.n9.awT=function(x){var F=x[0],W=x[0],n=x[1],L=x[1];for(var w=0;w<x.length;
w+=2){var $=x[w],l=x[w+1];if($<F)F=$;else if($>W)W=$;if(l<n)n=l;else if(l>L)L=l}return[F,n,W,L]};r.aj_=function(x,F,W,n,L){function $(q,fO,g,jN){return Math.sqrt((q-g)*(q-g)+(fO-jN)*(fO-jN))}function l(q,fO){return q>=0&&q<F&&fO>=0&&fO<W}function k(q){if(q<0)return 0;
if(q>=F)return F-1;return q}function V(q){if(q<0)return 0;if(q>=W)return W-1;return q}function i(w,q){var fO=q[3]*(1/255),g=n[w]+q[0]*fO;
if(g>255)g=255;n[w]=g;g=n[w+1]+q[1]*fO;if(g>255)g=255;n[w+1]=g;g=n[w+2]+q[2]*fO;if(g>255)g=255;n[w+2]=g}function f(q,fO,g){if(!p(q,fO))return;
if(g[3]<0)g[3]=0;i((fO*F+q)*4,g)}function X(q){var fO=q.slice(0,3);fO[3]=0;return fO}var s=F/800;function R(q){return Math.round(q*s)}function h(){for(var w=0;
w<=300;w++){m[w]=B(w)}}function B(W){var q=.8,fO=.2,g=q*fO,jN=W/60%2-1,c6=g*(1-jN*jN),a7=fO-g,bd;if(W<60){bd=[g+a7,c6,0]}else if(W<120){bd=[c6,g,0]}else if(W<180){bd=[0,g,c6]}else if(W<240){bd=[0,c6,g]}else if(W<300){bd=[c6,0,g]}else{bd=[g,0,c6]}return[(bd[0]+a7)*255,(bd[1]+a7)*255,(bd[2]+a7)*255]}function e(W){return m[~~W]}function U(q){return 1-o(q)}function o(q){return q-~~q}function b(q,fO,g,jN){K(q,fO,g,0,fO+1,1,jN)}function u(q,fO,g,jN,c6,a7){K(q,fO,g,0,jN,1,c6,a7)}function Z(q){for(var w=0;
w<n.length;w+=4){i(w,q)}}function I(q,fO,g,jN,c6,a7,bd,ey){y(q,fO,g,jN,c6,1,a7,bd,ey)}function y(q,fO,g,jN,c6,a7,bd,ey,c5){if(a7==null)a7=.5;
if(bd==null)bd=0;if(ey==null)ey=0;if(c5==null)c5=!1;var bx=q.x,ap=q.y,fC=g.slice(0),kE=~~(g[3]*M);jN=jN*M;
if(!c5){fO=Y(fO);c6=Y(c6);bd=Y(bd);ey=Y(ey)}var bm=k(bx-fO),fe=k(bx+fO);for(var g8=bm;g8<=fe;g8++){var e0=g8-bx,cF=Math.floor(Math.sqrt(fO*fO-e0*e0)),ei=V(ap-cF),cr=V(ap);
for(var e_=ei;e_<=cr;e_++){var gg=$(g8,e_,bx,ap);if(gg>fO||gg<=fO-c6)break;var bW=(gg-fO+c6)/c6;fC[3]=kE-jN*(a7==1?bW:Math.pow(bW,a7));
i((e_*F+g8)*4,fC)}ei=V(ap+cF);for(var e_=ei;e_>cr;e_--){var gg=$(g8,e_,bx,ap);if(gg>fO||gg<=fO-c6)break;
var bW=(gg-fO+c6)/c6;fC[3]=kE-jN*(a7==1?bW:Math.pow(bW,a7));i((e_*F+g8)*4,fC)}}if(bd>0){K(q,fO+bd,fC,fC[3],bd,1,0,0,!0)}if(ey>0){K(q,fO-c6,P(g),-g[3],ey,1,0,0,!0)}}function D(q,fO,g,jN,c6,a7){K(q,fO,g,g[3],fO+1,1,jN,c6,a7)}function N(q,fO,g,jN,c6){if(c6==null)c6=!1;
var a7=q.x,bd=q.y;jN*=M;if(!c6){fO=Y(fO);g=Y(g)}var ey=k(a7-fO),c5=k(a7+fO);for(var bx=ey;bx<c5;bx++){var ap=bx-a7,fC=~~Math.sqrt(fO*fO-ap*ap),kE=V(bd-fC),bm=V(bd);
for(var fe=kE;fe<=bm;fe++){var g8=$(bx,fe,a7,bd);if(g8>fO||g8<=fO-g)break;var e0=(fO-g8)/g,cF=e(300*e0);
cF[3]=jN;i((fe*F+bx)*4,cF)}kE=V(bd+fC);for(var fe=kE;fe>bm;fe--){var g8=$(bx,fe,a7,bd);if(g8>fO||g8<=fO-g)break;
var e0=(fO-g8)/g,cF=e(300*e0);cF[3]=jN;i((fe*F+bx)*4,cF)}}}function j(z,q){var fO=z.R1,g=z.Ru,jN=q.slice(0),c6=q[3]*M,a7=Math.abs(g.y-fO.y)>Math.abs(g.x-fO.x);
if(a7){var bd=fO.x;fO.x=fO.y;fO.y=bd;bd=g.x;g.x=g.y;g.y=bd}if(fO.x>g.x){var bd=fO;fO=g;g=bd}var ey=g.x-fO.x,c5=g.y-fO.y,bx=ey==0?1:c5/ey,ap=Math.round(fO.x),fC=fO.y+bx*(ap-fO.x),kE=U(fO.x+.5),bm=ap,fe=~~fC;
if(a7){jN[3]=c6*U(fC)*kE;f(fe,bm,jN);jN[3]=c6*o(fC)*kE;f(fe+1,bm,jN)}else{jN[3]=c6*U(fC)*kE;f(bm,fe,jN);
jN[3]=c6*o(fC)*kE;f(bm,fe+1,jN)}var g8=fC-bx;ap=Math.round(g.x);fC=g.y+bx*(ap-g.x);kE=o(g.x+.5);var e0=ap,cF=~~fC;
if(a7){jN[3]=c6*U(fC)*kE;f(cF,e0,jN);jN[3]=c6*o(fC)*kE;f(cF+1,e0,jN)}else{jN[3]=c6*U(fC)*kE;f(e0,cF,jN);
jN[3]=c6*o(fC)*kE;f(e0,cF+1,jN)}if(a7){for(var ei=bm+1;ei<=e0-1;ei++){jN[3]=c6*U(g8);f(~~g8,ei,jN);jN[3]=c6*o(g8);
f(~~g8+1,ei,jN);g8+=bx}}else{for(var ei=bm+1;ei<=e0-1;ei++){jN[3]=c6*U(g8);f(ei,~~g8,jN);jN[3]=c6*o(g8);
f(ei,~~g8+1,jN);g8+=bx}}}function H(q,fO,g,jN){for(var w=0;w<4;w++){var c6=q.Tr(fO+1.3*w,g);j(c6,jN,1)}}function eX(q,fO){this.x=Math.round(q);
this.y=Math.round(fO)}var Q=Math.PI/180;eX.prototype.Tr=function(q,fO){q=q*Q;var g=this.x+fO*Math.cos(q),jN=this.y+fO*Math.sin(q);
return new C(this.x,this.y,g,jN)};eX.prototype.au8=function(q,fO){q=q*Q;var g=this.v0+fO*Math.cos(q),jN=this.Ia+fO*Math.sin(q);
return new eX(g,jN)};function C(q,fO,g,jN){this.R1=new eX(q,fO);this.Ru=new eX(g,jN)}C.prototype.Wn=function(q){var fO=q*this.R1.x+(1-q)*this.Ru.x,g=q*this.R1.y+(1-q)*this.Ru.y;
return new eX(fO,g)};var J=I,E=D,T=b,c=u,a=N,K=y,Y=R,p=l,P=X,m=[];h();for(var w=0;w<x.length;w++){n[w]=x[w]}var z=new C(F*L[2],W*L[3],F/2,W/2),M=L[1],d=[];
d[0]=function A(){var q=[80,40,15,60],g=0,jN=0;T(z.Wn(1.4),260,q,10);T(z.Wn(1),100,[240,50,50,30],30);
E(z.Wn(1),60,[255,40,0,40]);var fO=[255,255,255,255];K(z.Wn(1),70,fO,fO[3],58,.5);T(z.Wn(1),12,fO);fO[3]=40;
J(z.Wn(1),150,fO,fO[3],150);for(var w=0;w<40;w++){g+=Math.random()*25;jN=Math.random()*Y(300)+Y(100);
var c6=z.Wn(1).Tr(g,jN);j(z.Wn(1).Tr(g,jN),[110,110,110,30])}E(z.Wn(1),130,[255,255,255,8]);var a7=[170,30,23,70];
c(z.Wn(1),70,a7,1,3,3);var bd=[60,60,130,40];T(z.Wn(.47),44,bd,5);T(z.Wn(.43),22,bd,3);bd[3]=16;T(z.Wn(.53),15,bd,2);
var ey=[138,94,42,100];T(z.Wn(.2),16,ey,2);var c5=[130,255,170,180];E(z.Wn(0),4,c5);E(z.Wn(-.25),5,c5);
ey=[150,90,0,50];J(z.Wn(-.45),55,P(ey),-ey[3],40,2);T(z.Wn(-.42),35,ey,2);T(z.Wn(-.5),15,ey,2);a(z.Wn(-1.28),145,11,70);
var bx=e(0);bx[3]=50;J(z.Wn(-1.28),149,bx,bx[3],4);bx=e(300);bx[3]=50;J(z.Wn(-1.28),155-1,P(bx),-bx[3],3);
var ap=[130,130,10,50];c(z.Wn(-1),73,ap,3,2);var fC=[40,130,70,40];J(z.Wn(-1),70,P(fC),-fC[3],35);fC=[40,170,60,50];
T(z.Wn(-.7),25,fC,4);var fC=[70,110,50,60];J(z.Wn(1.3),30,P(fC),-fC[3],11,3);bd=[0,50,210,80];E(z.Wn(-.72),20,bd)};
d[1]=function G(){E(z.Wn(1),150,[240,70,70,60]);T(z.Wn(1),100,[200,60,60,40],30);var q=[255,255,255,255],fO=0,g=0;
K(z.Wn(1),75,q,q[3],63);T(z.Wn(1),12,q);E(z.Wn(1),270,[200,200,200,20],10);for(var w=0;w<10;w++){fO+=10+Math.random()*40;
g=Math.random()*Y(250)+Y(80);var jN=z.Wn(1).Tr(fO,g);j(jN,[110,110,110,35])}fO=5;g=100;for(var w=0;w<12;
w++){fO+=30;H(z.Wn(1),fO,g,[90,90,90,40])}var c6=[150,40,23,100];c(z.Wn(1),70,c6,1,3,3);var a7=[30,100,60,40];
E(z.Wn(-.9),180,[255,255,255,20]);T(z.Wn(-.9),140,a7,15);var bd=[170,80,25,15];c(z.Wn(-.9),120,bd,1,4,4);
var ey=[110,240,190,200];E(z.Wn(-.6),3,ey);ey[3]=100;E(z.Wn(-.6),7,ey);var c5=[230,120,40,85];E(z.Wn(-.73),9,c5);
var bx=[60,60,190,50];T(z.Wn(.3),28,bx,6);bx[3]=25;T(z.Wn(.34),20,bx,3)};d[2]=function kB(){var q=[255,255,255,255],g=0,jN=0;
T(z.Wn(1),13,q);K(z.Wn(1),150,q,q[3],137);var fO=[120,80,35,20];T(z.Wn(1.4),260,fO,10);for(var w=0;w<40;
w++){g+=5+Math.random()*30;jN=Math.random()*Y(300);j(z.Wn(1).Tr(g,jN),[110,110,110,20])}var c6=[10,30,255,30];
T(z.Wn(1),70,c6,50);var a7=[15,90,170,15];T(z.Wn(1.5),60,a7);var bd=[220,220,20,50];T(z.Wn(-1.15),8,bd,2);
var q=[255,255,255,40];E(z.Wn(-1.18),6,q);E(z.Wn(-1.18),4,q);bd=[110,110,10,8];J(z.Wn(-1.2),32,P(bd),-bd[3],20,3);
var ey=[5,0,16,255];for(var w=0;w<4;w++){T(z.Wn(-1.36),10,ey,3)}var c5=[90,200,150,20],bx=c5.slice(0);
bx[3]*=2;T(z.Wn(-1.32),7,bx,3);T(z.Wn(-1.36),7,bx,3);T(z.Wn(-1.4),7,bx,3);var q=[230,230,230,100];E(z.Wn(-1.36),2,q);
q[3]=3;T(z.Wn(-.55),10,q);bd=[120,100,10,18];T(z.Wn(-.55),160,bd,8);T(z.Wn(-.55),80,bd,4);c5[3]=3;bx[3]=6;
J(z.Wn(-.49),13,P(bx),-bx[3],13,2);J(z.Wn(-.55),13,P(bx),-bx[3],13,2);c5[3]=20;T(z.Wn(.15),25,c5,3);
bd[3]=100;E(z.Wn(-.52),3,bd);bd=[200,200,50,40];T(z.Wn(.27),1,bd,4);var ap=[150,40,23,30];J(z.Wn(1),80,P(ap),-ap[3],2,1)};
return d[L[0]]()};r.Rg={};r.Rg.kZ=function(x){var F=x.length,dx=x[0].length,W=new Array(dx);for(var w=0;
w<dx;w++)W[w]=new Array(F);for(var w=0;w<dx;w++)for(var n=0;n<F;n++)W[w][n]=x[n][w];return W};r.Rg.ZC=function(x,F){var W=x.length,dx=x[0].length,n=new Array(W);
for(var w=0;w<W;w++)n[w]=new Array(dx);for(var w=0;w<W;w++)for(var L=0;L<dx;L++)n[w][L]=x[w][L]-F[w][L];
return n};r.Rg.add=function(x,F){var W=x.length,dx=x[0].length,n=new Array(W);for(var w=0;w<W;w++)n[w]=new Array(dx);
for(var w=0;w<W;w++)for(var L=0;L<dx;L++)n[w][L]=x[w][L]+F[w][L];return n};r.Rg.multiply=function(x,F){var W=x.length,n=x[0].length,dx=F[0].length;
if(n!=F.length)throw"e";var L=new Array(W);for(var w=0;w<W;w++)L[w]=new Array(dx);if((n&1)!=0)for(var w=0;
w<W;w++){var $=x[w],l=L[w];for(var k=0;k<dx;k++){var V=0;for(var i=0;i<n;i++)V+=$[i]*F[i][k];l[k]=V}}else for(var w=0;
w<W;w++){var $=x[w],l=L[w];for(var k=0;k<dx;k++){var V=0;for(var i=0;i<n;i+=2)V+=$[i]*F[i][k]+$[i+1]*F[i+1][k];
l[k]=V}}return L};r.Rg.la=function(x,F){var W=x.length,dx=x[0].length,n=new Array(W);for(var w=0;w<W;
w++){var L=0;for(var $=0;$<dx;$++)L+=x[w][$]*F[$];n[w]=L}return n};r.Rg.Vs=function(x,F){var W=[];for(var w=0;
w<x;w++){W.push([]);for(var n=0;n<F;n++)W[w].push(0)}return W};r.Rg.afs=function(x){for(var w=0;w<x.length;
w++)console.log(JSON.stringify(x[w]))};r.Rg.aj5=function(x){var F=[];for(var w=0;w<x.length;w++)F.push(x[w].join(","));
return"["+F.join(";")+"]"};r.Rg.Dt=function(x,F){var W=x.length;for(var n=0;n<W;n++){var L=0,$=Number.NEGATIVE_INFINITY;
for(var w=n;w<W;w++)if(Math.abs(x[w][n])>$){L=w;$=Math.abs(x[w][n])}r.Rg.azg(x,n,L);for(var w=n+1;w<W;
w++){if(x[n][n]==0)return 1;var l=x[w][n]/x[n][n];for(var k=n;k<W+1;k++)x[w][k]-=x[n][k]*l}}for(var w=W-1;
w>=0;w--){if(x[w][w]==0)return 1;var V=x[w][W]/x[w][w];F[w]=V;for(var k=w-1;k>=0;k--){x[k][W]-=x[k][w]*V;
x[k][w]=0}}return 0};r.Rg.azg=function(x,F,W){var n=x[F];x[F]=x[W];x[W]=n};r.Rg.azn=function(x){var F=x.length,W=r.Rg.Vs(F,F);
for(var w=0;w<F;w++)W[w][w]=x[w];return W};r.Rg.ai9=function(x){var F=x.length,W=x[0].length,n=new Array(F);
for(var w=0;w<F;w++){n[w]=0;for(var L=0;L<W;L++)n[w]+=x[w][L];n[w]/=W}return n};r.Rg.om=function(x){var F=0;
for(var w=0;w<x.length;w++)F+=x[w]*x[w];return Math.sqrt(F)};r.L5={};r.L5.eP=function(x){var F=~~(x+.5);
return F<0?0:F>255?255:F};r.L5.transform=function(x,F,W){var n=r.L5.eP,L=x.o.length;for(var w=0;w<L;
w++){var $=x.o[w],l=x.r[w],k=x.z[w];F.o[w]=n(W[0]*$+W[1]*l+W[2]*k+W[3]*255);F.r[w]=n(W[4]*$+W[5]*l+W[6]*k+W[7]*255);
F.z[w]=n(W[8]*$+W[9]*l+W[10]*k+W[11]*255)}};r.L5.a7T=function(x,F,W){var n=r.L5.eP,L=x.length;for(var w=0;
w<L;w+=4){var $=x[w],l=x[w+1],k=x[w+2];F[w]=n(W[0]*$+W[1]*l+W[2]*k+W[3]*255);F[w+1]=n(W[4]*$+W[5]*l+W[6]*k+W[7]*255);
F[w+2]=n(W[8]*$+W[9]*l+W[10]*k+W[11]*255)}};r.L5.aBw=function(x){var F=x[0]+x[1]+x[2],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(F==1){var n=x.indexOf(1);W[n]=W[n+4]=W[n+8]=1}else{W[0]=x[0];W[5]=x[1];W[10]=x[2]}return W};r.L5.TB=function(x,F,W){return[1,0,0,x,0,1,0,F,0,0,1,W,0,0,0,1]};
r.L5.WT=function(x,F,W){return[x,0,0,0,0,F,0,0,0,0,W,0,0,0,0,1]};r.L5.aoR=function(x){return[x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]]};
r.L5.Qn=function(x){return[x[0],x[1],x[2],0,x[3],x[4],x[5],0,x[6],x[7],x[8],0,0,0,0,1]};r.L5.se=function(x,F){return[x[0]*F[0]+x[1]*F[1]+x[2]*F[2]+x[3]*F[3],x[4]*F[0]+x[5]*F[1]+x[6]*F[2]+x[7]*F[3],x[8]*F[0]+x[9]*F[1]+x[10]*F[2]+x[11]*F[3],x[12]*F[0]+x[13]*F[1]+x[14]*F[2]+x[15]*F[3]]};
r.L5.kZ=function(x){var F=[];F[0]=x[0];F[1]=x[4];F[2]=x[8];F[3]=x[12];F[4]=x[1];F[5]=x[5];F[6]=x[9];
F[7]=x[13];F[8]=x[2];F[9]=x[6];F[10]=x[10];F[11]=x[14];F[12]=x[3];F[13]=x[7];F[14]=x[11];F[15]=x[15];
return F};r.L5.add=function(x,F){var W=x.slice(0);for(var w=0;w<16;w++)W[w]+=F[w];return W};r.L5.multiply=function(x,F){var W=[];
W[0]=x[0]*F[0]+x[1]*F[4]+x[2]*F[8]+x[3]*F[12];W[1]=x[0]*F[1]+x[1]*F[5]+x[2]*F[9]+x[3]*F[13];W[2]=x[0]*F[2]+x[1]*F[6]+x[2]*F[10]+x[3]*F[14];
W[3]=x[0]*F[3]+x[1]*F[7]+x[2]*F[11]+x[3]*F[15];W[4]=x[4]*F[0]+x[5]*F[4]+x[6]*F[8]+x[7]*F[12];W[5]=x[4]*F[1]+x[5]*F[5]+x[6]*F[9]+x[7]*F[13];
W[6]=x[4]*F[2]+x[5]*F[6]+x[6]*F[10]+x[7]*F[14];W[7]=x[4]*F[3]+x[5]*F[7]+x[6]*F[11]+x[7]*F[15];W[8]=x[8]*F[0]+x[9]*F[4]+x[10]*F[8]+x[11]*F[12];
W[9]=x[8]*F[1]+x[9]*F[5]+x[10]*F[9]+x[11]*F[13];W[10]=x[8]*F[2]+x[9]*F[6]+x[10]*F[10]+x[11]*F[14];W[11]=x[8]*F[3]+x[9]*F[7]+x[10]*F[11]+x[11]*F[15];
W[12]=x[12]*F[0]+x[13]*F[4]+x[14]*F[8]+x[15]*F[12];W[13]=x[12]*F[1]+x[13]*F[5]+x[14]*F[9]+x[15]*F[13];
W[14]=x[12]*F[2]+x[13]*F[6]+x[14]*F[10]+x[15]*F[14];W[15]=x[12]*F[3]+x[13]*F[7]+x[14]*F[11]+x[15]*F[15];
return W};r.L5.sx=function(x){var F=[];F[0]=x[5]*x[10]*x[15]-x[5]*x[14]*x[11]-x[6]*x[9]*x[15]+x[6]*x[13]*x[11]+x[7]*x[9]*x[14]-x[7]*x[13]*x[10];
F[1]=-x[1]*x[10]*x[15]+x[1]*x[14]*x[11]+x[2]*x[9]*x[15]-x[2]*x[13]*x[11]-x[3]*x[9]*x[14]+x[3]*x[13]*x[10];
F[2]=x[1]*x[6]*x[15]-x[1]*x[14]*x[7]-x[2]*x[5]*x[15]+x[2]*x[13]*x[7]+x[3]*x[5]*x[14]-x[3]*x[13]*x[6];
F[3]=-x[1]*x[6]*x[11]+x[1]*x[10]*x[7]+x[2]*x[5]*x[11]-x[2]*x[9]*x[7]-x[3]*x[5]*x[10]+x[3]*x[9]*x[6];
F[4]=-x[4]*x[10]*x[15]+x[4]*x[14]*x[11]+x[6]*x[8]*x[15]-x[6]*x[12]*x[11]-x[7]*x[8]*x[14]+x[7]*x[12]*x[10];
F[5]=x[0]*x[10]*x[15]-x[0]*x[14]*x[11]-x[2]*x[8]*x[15]+x[2]*x[12]*x[11]+x[3]*x[8]*x[14]-x[3]*x[12]*x[10];
F[6]=-x[0]*x[6]*x[15]+x[0]*x[14]*x[7]+x[2]*x[4]*x[15]-x[2]*x[12]*x[7]-x[3]*x[4]*x[14]+x[3]*x[12]*x[6];
F[7]=x[0]*x[6]*x[11]-x[0]*x[10]*x[7]-x[2]*x[4]*x[11]+x[2]*x[8]*x[7]+x[3]*x[4]*x[10]-x[3]*x[8]*x[6];F[8]=x[4]*x[9]*x[15]-x[4]*x[13]*x[11]-x[5]*x[8]*x[15]+x[5]*x[12]*x[11]+x[7]*x[8]*x[13]-x[7]*x[12]*x[9];
F[9]=-x[0]*x[9]*x[15]+x[0]*x[13]*x[11]+x[1]*x[8]*x[15]-x[1]*x[12]*x[11]-x[3]*x[8]*x[13]+x[3]*x[12]*x[9];
F[10]=x[0]*x[5]*x[15]-x[0]*x[13]*x[7]-x[1]*x[4]*x[15]+x[1]*x[12]*x[7]+x[3]*x[4]*x[13]-x[3]*x[12]*x[5];
F[11]=-x[0]*x[5]*x[11]+x[0]*x[9]*x[7]+x[1]*x[4]*x[11]-x[1]*x[8]*x[7]-x[3]*x[4]*x[9]+x[3]*x[8]*x[5];F[12]=-x[4]*x[9]*x[14]+x[4]*x[13]*x[10]+x[5]*x[8]*x[14]-x[5]*x[12]*x[10]-x[6]*x[8]*x[13]+x[6]*x[12]*x[9];
F[13]=x[0]*x[9]*x[14]-x[0]*x[13]*x[10]-x[1]*x[8]*x[14]+x[1]*x[12]*x[10]+x[2]*x[8]*x[13]-x[2]*x[12]*x[9];
F[14]=-x[0]*x[5]*x[14]+x[0]*x[13]*x[6]+x[1]*x[4]*x[14]-x[1]*x[12]*x[6]-x[2]*x[4]*x[13]+x[2]*x[12]*x[5];
F[15]=x[0]*x[5]*x[10]-x[0]*x[9]*x[6]-x[1]*x[4]*x[10]+x[1]*x[8]*x[6]+x[2]*x[4]*x[9]-x[2]*x[8]*x[5];var W=x[0]*F[0]+x[1]*F[4]+x[2]*F[8]+x[3]*F[12];
for(var w=0;w<16;w++)F[w]/=W;return F};r.L5.atV=function(x){var F=[],W=x[5]*x[10]*x[15]-x[5]*x[14]*x[11]-x[6]*x[9]*x[15]+x[6]*x[13]*x[11]+x[7]*x[9]*x[14]-x[7]*x[13]*x[10],n=-x[4]*x[10]*x[15]+x[4]*x[14]*x[11]+x[6]*x[8]*x[15]-x[6]*x[12]*x[11]-x[7]*x[8]*x[14]+x[7]*x[12]*x[10],L=x[4]*x[9]*x[15]-x[4]*x[13]*x[11]-x[5]*x[8]*x[15]+x[5]*x[12]*x[11]+x[7]*x[8]*x[13]-x[7]*x[12]*x[9],$=-x[4]*x[9]*x[14]+x[4]*x[13]*x[10]+x[5]*x[8]*x[14]-x[5]*x[12]*x[10]-x[6]*x[8]*x[13]+x[6]*x[12]*x[9];
return x[0]*W+x[1]*n+x[2]*L+x[3]*$};r.L5.ait=function(x,F,W,n){var L=Math.sin(n),$=Math.cos(n),l=1/Math.sqrt(x*x+F*F+W*W);
x*=l;F*=l;W*=l;return r.L5.Qn([x*x*(1-$)+$,x*F*(1-$)-W*L,x*W*(1-$)+F*L,x*F*(1-$)+W*L,F*F*(1-$)+$,F*W*(1-$)-x*L,x*W*(1-$)-F*L,F*W*(1-$)+x*L,W*W*(1-$)+$])};
r.L5.RV=r.L5.Qn([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
r.L5.awD=r.L5.Qn([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
r.L5.awS=r.L5.sx(r.L5.RV);r.wM={};r.wM.aT=new Uint32Array(1);r.wM.a0F=function(x,F,W,n,L,$){var l=new Uint32Array(x),k=0,V=r.wM.aT;
if(V.length<F*4)r.wM.aT=V=new Uint32Array(F*4);var i=new Float64Array(V.buffer);for(var w=0;w<F;w+=2){var f=L[w],X=L[w+1],s=$[w],R=$[w+1];
V[k]=X;i[k+2>>1]=s;V[k+1]=l[f];l[f]=k+1;k+=4;V[k]=f;i[k+2>>1]=R;V[k+1]=l[X];l[X]=k+1;k+=4}return{Rm:V,apM:i,a2M:l}};
r.wM.Dt=function(x,F,W,n,L,$,l){var k=1,V=r.wM.a0F(x,F,W,n,L,$),i=V.Rm,f=V.apM,X=V.a2M,s=new Uint32Array(x),R=new r.wM.jR(x),B=1,u=0;
R.push(W);R.push(n);var h=new r.wM.jR(x),e=new Uint8Array(x),U=new Uint32Array(x);e[W]=1;e[n]=2;var o=new Uint32Array(x),b=new Uint32Array(x);
b[W]=b[n]=0;o[W]=o[n]=1;while(!0){var Z=-1,Q=0,T=1e30;while(!R.mk()&&Z==-1){var I=R.top(),y=e[I],D=X[I]-1;
while(D!=-1){var N=i[D],j=e[N],H=D^y-1<<2;if(f[H+2>>1]!=0){if(j==0){r.wM.j6(I,D,N,e,U,b,o);R.push(N)}else if(j==y&&o[N]<=o[I]&&b[N]>b[I])r.wM.j6(I,D,N,e,U,b,o);
else if(j!=y){Z=H}}D=i[D+1]-1}if(Z!=-1)break;R.pop()}if(Z==-1){break}B++;var C=Z;while(C!=-1){s[Q]=C;
Q++;C=U[i[C^4]]-1}var J=Q>>1;for(var w=0;w<J;w++){var E=s[w];s[w]=s[Q-w-1];s[Q-w-1]=E}C=U[i[Z]]-1;while(C!=-1){s[Q]=C^4;
Q++;C=U[i[C^4]]-1}for(var w=0;w<Q;w++)T=Math.min(T,f[s[w]+2>>1]);u+=T;if(u>=l)return{RT:null,Dc:u};for(var w=0;
w<Q;w++){var c=s[w],a=c^4,I=i[a],N=i[c];f[c+2>>1]-=T;f[a+2>>1]+=T;if(f[c+2>>1]==0&&e[I]==e[N]){if(e[I]==1){U[N]=0;
h.push(N)}if(e[I]==2){U[I]=0;h.push(I)}}}while(!h.mk()){var I=h.pop(),y=e[I],D=X[I]-1,K=y==1?4:0,Y=0,p=0,P=1e9;
while(D!=-1){var N=i[D],m=D^4,H=D^K;if(e[N]==y&&f[H+2>>1]>0&&r.wM.aAE(N,W,n,U,i,B,o,b)+1<P){Y=N;p=m;
P=b[N]+1}D=i[D+1]-1}if(p!=0){r.wM.j6(Y,p,I,e,U,b,o);continue}D=X[I]-1;while(D!=-1){var N=i[D],H=D^K;
if(e[N]==y){if(f[H+2>>1]>0){R.push(N)}if(U[N]==D+1){U[N]=0;h.push(N)}}D=i[D+1]-1}e[I]=0;R.remove(I)}}var z=[];
for(var w=0;w<F;w+=2){var I=L[w],N=L[w+1];if(e[I]==1&&e[N]!=1){z.push(w>>1)}if(e[N]==1&&e[I]!=1){z.push(F+w>>1)}}return{RT:z,Dc:u}};
r.wM.j6=function(x,F,W,n,L,$,l){n[W]=n[x];L[W]=F+1;$[W]=$[x]+1;l[W]=l[x]};r.wM.aAE=function(x,F,W,n,L,$,l,k){var V=x,i=n[x]-1,f=0;
while(i!=-1&&l[x]!=$){x=L[i^4];i=n[x]-1;f++}if(i==-1&&x!=F&&x!=W)return 1e9;var X=k[x]+f;f=0;i=n[V]-1;
while(V!=x){k[V]=X-f;f++;l[V]=$;V=L[i^4];i=n[V]-1}return X};r.wM.a5Y=function(x,F,W,n,L,$){var l=r.wM.a0F(x,F,W,n,L,$),k=l.Rm,V=l.apM,i=l.a2M,f=0,X=0,s=new Uint32Array(x*2),R=new r.wM.a82(x),h=0;
while(!0){R.reset();R.push(W);for(var w=0;w<x;w++)s[w<<1]=0;while(!R.mk()){var B=R.pop(),e=i[B]-1;while(e!=-1){h=k[e];
if(s[h<<1]==0&&V[e+2>>1]>0&&h!=W){s[h<<1]=B+1;s[(h<<1)+1]=e;R.push(h)}e=k[e+1]-1}if(s[n<<1]!=0){break}}if(s[n<<1]==0){break}var U=1e30;
h=n;while(!0){var o=s[h<<1]-1;if(o==-1)break;var b=s[(h<<1)+1];U=Math.min(U,V[b+2>>1]);h=o}h=n;while(!0){var o=s[h<<1]-1;
if(o==-1)break;var b=s[(h<<1)+1],u=b^4;V[b+2>>1]-=U;V[u+2>>1]+=U;h=o}f+=U}var Z=[];for(var w=0;w<F;w+=2){var o=L[w],h=L[w+1];
if((s[o<<1]!=0||o==W)&&s[h<<1]==0&&h!=W){Z.push(w>>1)}if((s[h<<1]!=0||h==W)&&s[o<<1]==0&&o!=W){Z.push(F+w>>1)}}return{RT:Z,Dc:f}};
r.wM.a82=function(x){x|=x>>1;x|=x>>2;x|=x>>4;x|=x>>8;x|=x>>16;this.f0=new Uint32Array(x+1);this.vb=x;
this.Qc=0;this.K$=0};r.wM.a82.prototype={push:function(x){var F=this.K$;this.f0[F]=x;this.K$=F+1&this.vb},pop:function(){var x=this.Qc,F=this.f0[x];
this.Qc=x+1&this.vb;return F},mk:function(){return this.Qc==this.K$},reset:function(){this.Qc=0;this.K$=0}};
r.wM.jR=function(x){x|=x>>1;x|=x>>2;x|=x>>4;x|=x>>8;x|=x>>16;this.f0=new Uint32Array(x+1);this.Jx=new Uint32Array(x+1);
this.vb=x;this.Qc=0;this.K$=0};r.wM.jR.prototype={top:function(){return this.f0[this.Qc]},al3:function(){return this.f0[this.K$]},push:function(x){if(this.Jx[x]!=0)return;
this.Jx[x]=this.K$+1;var F=this.K$;this.f0[F]=x;this.K$=F+1&this.vb},pop:function(){var x=this.Qc,F=this.f0[x];
this.Jx[F]=0;this.Qc=x+1&this.vb;return F},mk:function(){return this.Qc==this.K$},remove:function(x){var F=this.Jx[x]-1;
if(F==-1)return;this.Jx[x]=0;if(F==this.Qc){this.pop();return}var W=this.pop();this.f0[F]=W;this.Jx[W]=F+1},fe:function(w){return w+this.vb+1&this.vb}};
r.wM.a7$=function(x,F,W){var n=r.wM.H0(x,F,W);if(F<n-1)r.wM.a7$(x,F,n-1);if(n<W)r.wM.a7$(x,n,W)};r.wM.H0=function(x,F,W){var n=x[F+W>>>1];
while(F<=W){while(x[F]<n)F++;while(x[W]>n)W--;if(F<=W){r.wM.BH(x,F,W);F++;W--}}return F};r.wM.BH=function(x,F,W){var n=x[F];
x[F]=x[W];x[W]=n};r.sQ=function(){var x,F;function W(l,k,dx){var V=dx-1,i=k+dx;x[dx-2]=l[i-2];F[0]=l[i-1];
var f=Math.max;for(var w=1;w<V;w++){x[dx-2-w]=f(x[dx-1-w],l[i-2-w]);F[w]=f(F[w-1],l[i-1+w])}for(var w=0;
w<V;w++)l[k+w]=f(x[w],F[w])}function n(l,k,dx){var V=dx-1,i=Math.ceil(k/V)*V;for(var f=0;f<i;f+=V)W(l,f,dx)}function L(l,k,V,i,dx,f){k.set(l);
if(dx==1)return;x=r.R(dx-1);F=r.R(dx-1);var X=dx>>>1,s=r.R(Math.ceil(Math.max(V,i)/(dx-1))*(dx-1)+(dx-2)),R=new Uint8Array(s.buffer,0,V);
if(!f)r.sx(k);for(var h=0;h<i;h++){s.fill(0);s.set(new Uint8Array(k.buffer,h*V,V),X);n(s,V,dx);k.set(R,h*V)}for(var B=0;
B<V;B++){s.fill(0);for(var h=0;h<i;h++)s[h+X]=k[h*V+B];n(s,i,dx);for(var h=0;h<i;h++)k[h*V+B]=s[h]}if(!f)r.sx(k)}function $(l,k,V,i,dx,f){var X=r.R(V*i);
for(var s=0;s<4;s++){r.Tb(l,X,s);if(s==3)r.sx(X);L(X,X,V,i,dx,f);if(s==3)r.sx(X);r.rW(X,k,s)}}return{hu:L,aC0:$}}();
r.mq={};r.mq.ayO=function(x){for(var w=0;w<x.length;w++)r.mq.Ef(x,w)};r.mq.Ef=function(x,w){x[w].v.keyShapeInvalidated={t:"bool",v:!0}};
r.mq.aDB=function(x){for(var w=0;w<x.length;w++)x[w].v.keyOriginIndex.v=w};r.mq.I2=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
r.mq.ht=function(x){x=x.v;var F={Rctn:2,Ln:4,Elps:5},W=F[x.classID],n=x.topLeft?r.mq.anw(x):null,L=null,$=0,l=[!1,!1,0,0,0];
if(W==4){var k=x.Strt.v,V=x.End.v;L=[k.Hrzn.v.val,k.Vrtc.v.val,V.Hrzn.v.val,V.Vrtc.v.val];$=x.Wdth.v.val;
for(var w=0;w<2;w++){var i=x[w==0?"StrA":"EndA"];if(i==null)continue;i=i.v;l[w]=i.On.v;l[2]=i.Wdth.v;
l[3]=i.Lngt.v;l[4]=i.Cncv.v.val}}if(W==null)return null;return r.mq.FZ(W,W==4?null:r.mq.l9(x),n,L,$,l)};
r.mq.PN=function(x,F,W,n,L,$,l){var k={classID:x,unitValueQuadVersion:{t:"long",v:1}};if(F)r.mq.ts(k,["Left","Top","Rght","Btom"],F);
if(W)r.mq.ts(k,["topLeft","topRight","bottomRight","bottomLeft"],W);if(x=="Ln"){k.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:n[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:n[1]}}}},k.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:n[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:n[3]}}}},k.Wdth={t:"UntF",v:{type:"#Pxl",val:L}};
for(var w=0;w<2;w++){var V=w==0?"StrA":"EndA";k[V]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:l[w]},Wdth:{t:"doub",v:l[2]},Lngt:{t:"doub",v:l[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:l[4]}}}}}}if($)k.Nm={t:"TEXT",v:$};
return{t:"Objc",v:k}};r.mq.aBD=function(x,F){var W=r.mq.jb(x),n=x[2]-x[0],L=x[3]-x[1],$=Math.sqrt(n*n+L*L),l=[0,0,$,0,$,F,0,F],k=new iJ;
k.rotate(-W);k.translate(x[0],x[1]);r.Z.i(l,k,l);return l};r.mq.FZ=function(x,F,W,n,L,$){var l=r.mq.I2(),k=l.v,V;
delete k.keyShapeInvalidated;k.keyOriginType={t:"long",v:x};k.keyOriginResolution={t:"doub",v:75};if(x==4){k.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:n[0]},Vrtc:{t:"doub",v:n[1]}}};
k.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:n[2]},Vrtc:{t:"doub",v:n[3]}}};V=r.mq.aBD(n,L);
var i=r.Z.KR(V);F=[i.x,i.y,i.x+i.m,i.y+i.e];k.keyOriginLineWeight={t:"doub",v:L};if($)r.mq.abY(k,$)}else V=[F[0],F[1],F[2],F[1],F[2],F[3],F[0],F[3]];
k.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};r.mq.cR(k,"keyOriginBoxCorners",V);var f={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
k.keyOriginShapeBBox={t:"Objc",v:f};r.mq.a1P(k,F);if(W!=null){var X={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
k.keyOriginRRectRadii={t:"Objc",v:X};r.mq.Af(k,W)}return l};r.mq.i=function(x,F,W,n){var L=r.D.a6Q(F),$=r.D.atc(F),l=r.D.N9(F),k=l.V*l.P9-l.z*l.Pu;
for(var w=0;w<x.length;w++){var V=x[w].v;if(!r.mq.Vw(V))continue;if(W.length!=0&&W.indexOf(w)==-1)continue;
var i=V.keyOriginType.v,f=F;if(k<0&&i==2){var X=r.mq.w9(V),s=0;s=X[0];X[0]=X[1];X[1]=s;s=X[2];X[2]=X[3];
X[3]=s;r.mq.Af(V,X);var R=r.mq.fk(V,"keyOriginBoxCorners"),h=r.Z.KR(R),B=h.x+h.m/2,e=new iJ;e.translate(-B,0);
e.scale(-1,1);e.translate(B,0);f=r.D.pY(f,r.D.Mz(e))}var U=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var o=0;o<U.length;o++){var R=r.mq.fk(V,U[o]);if(R==null)continue;r.D.i(f,R);r.mq.cR(V,U[o],R);var h=r.Z.KR(R);
r.mq.a1P(V,[h.x,h.y,h.x+h.m,h.y+h.e]);var b=new iJ;b.rotate(-r.mq.jb(R));var u={classID:"Trnf"};V.Trnf={t:"Objc",v:u};
var Z="xx xy yx yy tx ty".split(" "),I=[b.V,b.z,b.Pu,b.P9,b.yq,b.Ze];for(var y=0;y<6;y++)u[Z[y]]={t:"doub",v:I[y]}}if(i==2&&n){var X=r.mq.w9(V);
for(var o=0;o<4;o++)X[o]=Math.round(X[o]*F[0]);r.mq.Af(V,X)}var R=r.mq.fk(V,"keyOriginBoxCorners"),D=R[2]-R[0],N=R[3]-R[1],j=Math.sqrt(D*D+N*N);
D/=j;N/=j;var H=R[6]-R[0],Q=R[7]-R[1],C=Math.sqrt(H*H+Q*Q);H/=C;Q/=C;if(i==4){V.keyOriginLineWeight.v=C;
var J=r.mq.Av(V);r.D.i(F,J);r.mq.a8Y(V,J)}var E=D*H+N*Q;if(Math.abs(E)>.001){r.mq.Ef(x,w)}}};r.mq.Vw=function(x){var F=x.keyShapeInvalidated,W=x.keyOriginType;
return(F==null||!F.v)&&W!=null&&W.v!=9};r.mq.a6l=function(x){var F=x.keyOriginType.v,W=r.mq.q6(x),n=W[0],L=W[1],$=W[2],l=W[3],k=new iJ,V=x.keyOriginPolyCornerRadius,R;
V=V?V.v:0;var i=r.mq.fk(x,F==7||F==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),f=r.mq.a4O(i),X=f[2],s=f[3];
n=-X/2;$=X/2;L=-s/2;l=s/2;k.rotate(-r.mq.jb(i));k.yq=f[0];k.Ze=f[1];if(F==1||F==2){var h=F==1?0:r.mq.w9(x);
R=r.j.sk.Rect(n,L,$-n,l-L,h)}else if(F==4){var B=r.mq.Av(x),e=r.mq.aDw(x);k=new iJ;if(e==null)R=r.j.sk.iu(B[0],B[1],B[2],B[3],x.keyOriginLineWeight.v);
else R=r.j.sk.gZ(B[0],B[1],B[2],B[3],x.keyOriginLineWeight.v,e)}else if(F==5){R=r.j.sk.Dd(n,L,$-n,l-L)}else if(F==7||F==8){var U=F==7?3:x.keyOriginPolySides.v;
R=r.j.sk.UU(0,0,100,Math.PI/U-Math.PI/2,U,V,$,l)}r.j.js(R,k);return R};r.mq.Er=function(x,F){var W=F.$;
for(var w=0;w<x.length;w++){var n=x[w].v;if(!r.mq.Vw(n))continue;var L=r.mq.a6l(n),$=r.j.Of(W,w),l=r.j.dy(W,w);
L[2].eb=W[$].eb;var k=W;W=W.slice(0,$);for(var V=2;V<L.length;V++)W.push(L[V]);for(var V=$+l;V<k.length;
V++)W.push(k[V])}F.$=W;F.DQ=!0};r.mq.An=function(x){var F=1e9,W=-F,n=1e9,L=-n,$=[],l=x.x8(),k=l[0],V=l[1];
for(var i=0;i<V.length;i++){var f=k[V[i]],X=f.add.vogk;if(X==null)continue;var s=f.add.vmsk.g;for(var R=0;
R<X.length;R++){var h=X[R].v,U=0;if(!r.mq.Vw(h))continue;if(V.length==1&&s.length!=0&&s.indexOf(R)==-1)continue;
var B=h.keyOriginType.v;if(B==9)continue;var e=r.mq.q6(h);F=Math.min(F,e[0]);n=Math.min(n,e[1]);W=Math.max(W,e[2]);
L=Math.max(L,e[3]);var o=r.mq.fk(h,"keyOriginBoxCorners");if(o){var b=r.mq.a4O(o),u=b[2],Z=b[3];e[2]=e[0]+u;
e[3]=e[1]+Z;U=r.mq.jb(o)}var I=[B,e,U];$.push(I);var y=h.keyOriginPolyCornerRadius;if(B==2)I.push(r.mq.w9(h));
if(B==7||B==8)I.push(y?y.v:0);if(B==8)I.push(h.keyOriginPolySides.v)}}return $.length==1?$[0]:[0,F<W?[F,n,W,L]:null,0]};
r.mq.jb=function(x){var F=x[2]-x[0],W=x[3]-x[1];return-Math.atan2(-W,F)};r.mq.ahg=function(x){var F=r.mq.q6(x);
return r.mq.jb(F)};r.mq.aba=function(x,F,W){var n=r.mq.An(x),L=-1;for(var w=0;w<F.length;w++)if(JSON.stringify(F[w])!=JSON.stringify(n[w]))L=w;
if(L==1||L==2){}var $=x.x8(),l=$[0],k=$[1];for(var V=0;V<k.length;V++){var i=l[k[V]],f=i.add.vogk;if(f==null)continue;
var X=i.add.vmsk.g;for(var s=0;s<f.length;s++){var R=f[s].v;if(!r.mq.Vw(R))continue;if(k.length==1&&X.length!=0&&X.indexOf(s)==-1)continue;
var h=R.keyOriginType.v;if(L==1||L==2){r.mq.i(f,r.mq.agl(L,R,n,F),X,!1);break}if(L==3)if(h==2)r.mq.Af(R,F[3]);
else R.keyOriginPolyCornerRadius={t:"doub",v:F[3]};if(L==4)R.keyOriginPolySides.v=F[4];if(W)r.mq.Ef(f,s)}}};
r.mq.agl=function(x,F,W,n){var L=n[1],$=W[1],l=(L[2]-L[0])/($[2]-$[0]),k=(L[3]-L[1])/($[3]-$[1]),V=new iJ;
if(x==1){if(Math.max(Math.abs(l-1),Math.abs(k-1))>1e-8){var i=L[0],f=L[1];if(n[0]!=0){var X=r.mq.fk(F,"keyOriginBoxCorners");
i=X[0];f=X[1]}V.translate(-i,-f);V.rotate(n[2]);V.scale(l,k);V.rotate(-n[2]);V.translate(i,f)}else{V.translate(-$[0],-$[1]);
V.translate(L[0],L[1])}}else{if(n[0]!=0)L=r.mq.q6(F);var i=(L[0]+L[2])/2,f=(L[1]+L[3])/2;V.translate(-i,-f);
if(W[0]!=0)V.rotate(W[2]);V.rotate(-n[2]);V.translate(i,f)}return r.D.Mz(V)};r.mq.a4O=function(x){var F=x[0],W=x[1],n=x[2],L=x[3],$=x[4],l=x[5],k=x[6],V=x[7],i=n-F,f=L-W,X=Math.sqrt(i*i+f*f),i=$-n,f=l-L,s=Math.sqrt(i*i+f*f);
return[(F+$)/2,(W+l)/2,X,s]};r.mq.fk=function(x,F){var W=x[F];if(W==null)return null;var n=[];W=W.v;
for(var L=0;L<4;L++){var $=W["rectangleCorner"+["A","B","C","D"][L]].v;n.push($.Hrzn.v,$.Vrtc.v)}return n};
r.mq.cR=function(x,F,W){var n=x[F];if(n==null)return null;n=n.v;for(var L=0;L<4;L++){var $="rectangleCorner"+["A","B","C","D"][L];
n[$]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:W[2*L]},Vrtc:{t:"doub",v:W[2*L+1]}}}}};r.mq.q6=function(x){return r.mq.l9(x.keyOriginShapeBBox.v)};
r.mq.l9=function(x){var F=x.classID,W=x.Left.v,n=x.Rght.v,L=x.Top.v,$=x.Btom.v;if(W.val!=null){W=W.val;
n=n.val;L=L.val;$=$.val}return[W,L,n,$]};r.mq.a1P=function(x,F){r.mq.ts(x.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],F)};
r.mq.w9=function(x){var F=x.keyOriginRRectRadii;if(F==null)return[0,0,0,0];return r.mq.anw(F.v)};r.mq.anw=function(x){var F=[],W=["topLeft","topRight","bottomRight","bottomLeft"];
for(var n=0;n<4;n++)F.push(x[W[n]].v.val);return F};r.mq.Af=function(x,F){r.mq.ts(x.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],F)};
r.mq.ts=function(x,F,W){var n=x.classID;if(n=="unitRect"||n=="radii"||n=="Rctn"){for(var w=0;w<4;w++)if(W[w]!=null)x[F[w]]={t:"UntF",v:{type:"#Pxl",val:W[w]}}}else{for(var w=0;
w<4;w++)if(W[w]!=null)x[F[w]]={t:"doub",v:W[w]}}};r.mq.Av=function(x){var F=x.keyOriginLineStart.v,W=x.keyOriginLineEnd.v;
return[F.Hrzn.v,F.Vrtc.v,W.Hrzn.v,W.Vrtc.v]};r.mq.a8Y=function(x,F){var W=x.keyOriginLineStart.v,n=x.keyOriginLineEnd.v;
W.Hrzn.v=F[0];W.Vrtc.v=F[1];n.Hrzn.v=F[2];n.Vrtc.v=F[3]};r.mq.aDw=function(x){var F=[],W=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var w=0;w<5;w++){var n=x["keyOriginLineArr"+W[w]];if(n==null)return null;F[w]=n.v}return F};r.mq.abY=function(x,F){x.keyOriginLineArrowSt={t:"bool",v:F[0]};
x.keyOriginLineArrowEnd={t:"bool",v:F[1]};x.keyOriginLineArrWdth={t:"doub",v:F[2]};x.keyOriginLineArrLngth={t:"doub",v:F[3]};
x.keyOriginLineArrConc={t:"long",v:F[4]}};r.mq.a3F=function(x){function F(I,y){return Math.abs(I-y)<.5}function W(I,y){return F(I.x,y.x)&&F(I.y,y.y)}function n(I,y,D,N,j,H,Q){for(var w=0;
w<Q;w++){var C=I[y+(D+w)%Q],J=N[j+(H+w)%Q];if(!(W(C.L,J.L)&&W(C.Xs,J.Xs)&&W(C.vf,J.vf)))return!1}return!0}var l=[];
for(var k=0;k<x.length;k++){var V=x[k],f=null;if(V.type!=0&&V.type!=3||V.eb==-1)continue;var i=k;if(V.length==4||V.length==8){var X=r.j.aC_(x.slice(0,2).concat(x.slice(i,i+V.length+1)));
i=2;if(V.length==4){var s=r.j.D3(X,i+1,4),R=s.x,h=s.y,B=R+s.m,e=h+s.e;if(s.P()>4){if(r.j.Pk(X.slice(i-2,i+5)))f=r.mq.FZ(2,[R,h,B,e],[0,0,0,0]);
else{var U=-1;for(var w=0;w<4;w++)if(F(X[i+1+w].L.y,e))U=w;if(U!=-1){var o=r.j.sk.Dd(R,h,B-R,e-h),b=n(X,i+1,U,o,3,0,4);
if(b)f=r.mq.FZ(5,[R,h,B,e])}}}}if(V.length==8){var s=r.j.D3(X,i+1,8),R=s.x,h=s.y,B=R+s.m,e=h+s.e;if(s.P()>4){var U=-1;
for(var w=0;w<8;w++)if(F(X[i+1+(w+1&7)].L.y,h)&&F(X[i+1+(w+2&7)].L.y,h))U=w;if(U!=-1){var u=Math.abs(X[i+1+U].L.y-h),Z=[u,u,u,u];
if(u>.5){var o=r.j.sk.Rect(R,h,B-R,e-h,Z),b=n(X,i+1,U,o,3,0,8);if(b)f=r.mq.FZ(2,[R,h,B,e],Z)}}}}}l.push(f?f:r.mq.I2())}return l};
r.Z={};r.Z.clone=function(x){return{G:x.G.slice(0),p:x.p.slice(0)}};r.Z.aeK=function(x){if(x.length<6)return!0;
var F=x.length-4;for(var w=0;w<F;w+=2)if(!r.Z.WQ(x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5]))return!1;if(!r.Z.WQ(x[F],x[F+1],x[F+2],x[F+3],x[0],x[1]))return!1;
if(!r.Z.WQ(x[F+2],x[F+3],x[0],x[1],x[2],x[3]))return!1;return!0};r.Z.WQ=function(x,F,W,n,L,$){return(F-n)*(L-W)+(W-x)*($-n)>=0};
r.Z.nn=function(x){var F={},W=null,n=0,L={M:2,L:2,Q:4,C:6},$="",l="";for(var w=0;w<x.G.length;w++){var k=x.G[w];
if(k[0]=="#")$=k;else if(k[0]=="X")$="";else if(k[0]=="O"&&k[1]=="-")l=k;else if(k=="OX")l="";else{var V=$+l;
W=F[V];if(W==null)W=F[V]={p:[],G:[]};W.G.push(k);var i=L[k];if(i==null)i=0;for(var f=0;f<i;f++)W.p.push(x.p[n+f]);
n+=i}}return F};r.Z.aly=function(x,F,W){var n=x[F]-x[W-2],L=x[F+1]-x[W-1];return n*n+L*L<1e-4};r.Z.zI=function(x,F,W){x=r.Z.ik(x);
var n=x.p,L=x.G,$=0,l="",k=0,V=0,$=0,X=null;for(var w=0;w<L.length;w++){var i=L[w];if(i=="M"){k=n[$];
V=n[$+1];$+=2;l=i}if(i=="C"){if(l=="Z"){L.splice(w,0,"M");n.splice($,0,k,V);w--;continue}$+=6;l=i}if(i=="Z"){l=i}}var f=[];
$=0;for(var w=0;w<L.length;w++){var i=L[w];if(i=="M"){X={YK:$,fi:0,X1:!1};f.push(X);$+=2}if(i=="C"){X.fi++;
$+=6}if(i=="Z"&&X!=null){X.X1=!0}}var s=[];for(var w=0;w<f.length;w++)if(f[w].fi!=0)s.push(f[w]);f=s;
for(var w=0;w<f.length;w++){var R=f[w],h=R.YK,B=h+2+R.fi*6,U=0;R.A$=r.Z.KR(n,h,B);var e=r.Z.aly(n,h,B);
for(var o=0;o<R.fi;o++){var b=h+o*6,u=b+6;U+=(n[u]-n[b])*(n[u+1]+n[b+1])}if(R.fi==2){var Z=function(G,kB,q){var fO=1-q;
return fO*fO*fO*G[kB]+3*fO*fO*q*G[kB+2]+3*fO*q*q*G[kB+4]+q*q*q*G[kB+6]},I=n[h],y=n[h+1],D=n[h+6],N=n[h+7],j=n[h+6],H=n[h+7],Q=Z(n,h,.5),C=Z(n,h+1,.5),J=Z(n,h+6,.5),E=Z(n,h+7,.5);
U=(Q-I)*(C-y)+(D-Q)*(N-C)+(J-D)*(E-N)+(j-J)*(H-E)}if(!e)U+=(n[h]-n[B-2])*(n[h+1]+n[B-1]);R.pc=U<=0}for(var w=0;
w<f.length-1;w++)for(var b=w+1;b<f.length;b++){var T=f[w],c=f[b];if(c.A$.Ic(T.A$)){f[w]=c;f[b]=T}}var a=f.length==0?!0:f[0].pc,K=[{type:6},{type:8,all:0}];
for(var w=0;w<f.length;w++){var R=f[w],h=R.YK,B=h+2+R.fi*6,e=r.Z.aly(n,h,B);if(R.fi==1)e=!1;var Y=R.X1||e?0:3,p=R.pc==a&&!F?1:0;
if(!F&&w!=0){if(f[w-1].A$.Ic(R.A$)&&f[w-1].pc!=R.pc)p=0;for(var b=0;b<f.length;b++)if(b!=w&&f[b].A$.Ic(R.A$))p=0}K.push({type:Y,length:R.fi+(e?0:1),eb:W?1:p,FN:2});
for(var b=0;b<R.fi;b++){var $=h+b*6,P=new eX(n[$],n[$+1]),m=new eX(n[$+2],n[$+3]),z;if(b==0){if(e){z=new eX(n[B-4],n[B-3]);
if(eX.I9(z,P)<1e-5)z=P.clone()}else z=P.clone()}else z=new eX(n[$-2],n[$-1]);K.push({type:Y+2,Xs:z,L:P,vf:m})}if(!e){var M=new eX(n[B-2],n[B-1]);
K.push({type:Y+2,Xs:new eX(n[B-4],n[B-3]),L:M,vf:M.clone()})}}for(var b=0;b<K.length;b++){var d=K[b];
if(d.type>5||d.type==0||d.type==3)continue;var A=d.Xs.rr(d.L)||d.vf.rr(d.vf);if(!A){var T=d.Xs.x*(d.L.y-d.vf.y)+d.L.x*(d.vf.y-d.Xs.y)+d.vf.x*(d.Xs.y-d.L.y);
if(Math.abs(T)<1e-6)A=!0}if(A)d.type--}return K};r.Z.vA=function(x,F){var W=r.j.tn(x),n=[];for(var w=2;
w<x.length;w++){var L=x[w].eb;if(L!=null){if(L==2||L==0||L==3||L==-1)n.push(L)}}var $=n.length!=0;if(($||F)&&x.length<2e3&&1<W&&W<200)x=r.j.Tp(x);
var l=r.Z.aE(x);return{g$:l,Ce:$?1:0}};r.Z.aE=function(){function x(n,L,$,l){if(l!=2&&n.vf.rr(n.L)&&L.Xs.rr(L.L)){$.p.push(L.L.x,L.L.y);
$.G.push("L")}else{var k=n.L,V=n.vf,i=L.Xs,f=L.L,X=3/2*V.x-1/2*k.x,s=3/2*V.y-1/2*k.y,R=3/2*i.x-1/2*f.x,h=3/2*i.y-1/2*f.y,B=R-X,e=h-s;
if(l==0&&B*B+e*e<.001){$.p.push((X+R)*.5,(s+h)*.5,f.x,f.y);$.G.push("Q")}else{$.p.push(V.x,V.y,i.x,i.y,f.x,f.y);
$.G.push("C")}}}function F(n,L,w,$,l,k){var V=L[w];n.p.push(V.L.x,V.L.y);n.G.push("M");for(var i=w;i<w+$-1;
i++)x(L[i],L[i+1],n,k);if(!l)x(L[i],L[w],n,k)}function W(n,L){if(L==null)L=0;var $={p:[],G:[]};for(var w=0;
w<n.length;w++){if(n[w].type>5)continue;var l=n[w].length;if(l==0)continue;if(w==n.length-1)break;var k=n[w].type==3;
F($,n,w+1,l,k,L);if(!k)$.G.push("Z");w+=l}return $}return W}();r.Z.a1v=function(x){var F=x.p,W=[],n,L=0;
for(var w=0;w<x.G.length;w++){var $=x.G[w];if($=="C"){n.push(F[L++],F[L++],F[L++],F[L++],F[L++],F[L++])}else if($=="Z"){}else{n=[];
if($!="M"){n.push($);w++}n.push(F[L++],F[L++]);W.push(n)}}return W};r.Z.cu=function(x,F,W,n){if(n==null)n=1e9;
var L=1e9,$=0;for(var w=0;w<x.length;w+=2){var l=F-x[w],k=W-x[w+1],V=l*l+k*k;if(V<L){L=V;$=w>>>1}}return L<n*n?$:-1};
r.Z.av=function(x,F,W,n){for(var w=0;w<x.length;w+=2){var L=x[w],$=x[w+1],l=F[w],k=F[w+1];W[w]=L+(l-L)*n;
W[w+1]=$+(k-$)*n}};r.Z.i=function(x,F,W){for(var w=0;w<x.length;w+=2){var n=x[w],L=x[w+1];W[w]=n*F.V+L*F.Pu+F.yq;
W[w+1]=n*F.z+L*F.P9+F.Ze}};r.Z.KR=function(x,F,W){if(F==null)F=0;if(W==null)W=x.length;var n=99999999999,L=-n,$=99999999999,l=-$;
for(var w=F;w<W;w+=2){var k=x[w],V=x[w+1];n=Math.min(n,k);$=Math.min($,V);L=Math.max(L,k);l=Math.max(l,V)}return new eu(n,$,L-n,l-$)};
r.Z.aqw=function(x,F){var W=Math.max(F.x,Math.min(F.x+F.m,x.x)),n=Math.max(F.y,Math.min(F.y+F.e,x.y)),L=x.x-W,$=x.y-n;
return Math.sqrt(L*L+$*$)};r.Z.Jy=function(x,F){var W=Math.floor,n=Math.ceil;if(F){W=Math.ceil;n=Math.floor}var L=W(x.x),$=n(x.x+x.m),l=W(x.y),k=n(x.y+x.e);
return new eu(L,l,$-L,k-l)};r.Z.Gn=function(x,F){return r.Z.Jy(r.Z.KR(x),F)};r.Z.o4=function(x,F){var W=x.x,n=x.y,L=x.x+x.m,$=x.y+x.e,l=[W,n,L,n,L,$,W,$];
if(F){var k=F.clone();k.sx();r.Z.i(l,k,l)}return{G:["M","L","L","L","Z"],p:l}};r.Z.concat=function(x,F,W){if(W==null)W=new iJ;
for(var w=0;w<F.p.length;w+=2){var n=F.p[w],L=F.p[w+1];x.p.push(n*W.V+L*W.Pu+W.yq);x.p.push(n*W.z+L*W.P9+W.Ze)}for(var w=0;
w<F.G.length;w++)x.G.push(F.G[w])};r.Z.awk=function(x,F,W,n,L){function $(s,R,h){return new eX(s.x*(1-h)+R.x*h,s.y*(1-h)+R.y*h)}var l=$(x,F,L),k=$(W,n,L),V=$(F,W,L),i=$(l,V,L),f=$(V,k,L),X=$(i,f,L);
return[l,i,X,f,k]};r.Z.ik=function(x){var F=x.p,W=[],n=[],L=0,$=0,l=0,k=0,V=0,i=0,f=0,X=0,s=0,R=0,h=0;
for(var w=0;w<x.G.length;w++){var B=x.G[w];if(B=="M"){$=F[L];l=F[L+1];L+=2;n.push(B);W.push($,l);R=$;
h=l}else if(B=="C"){k=F[L];V=F[L+1];i=F[L+2];f=F[L+3];X=F[L+4];s=F[L+5];L+=6;n.push(B);W.push(k,V,i,f,X,s);
$=X;l=s}else if(B=="Q"){k=F[L];V=F[L+1];i=F[L+2];f=F[L+3];L+=4;var e=k-$,U=V-l,o=i-k,b=f-V;n.push("C");
W.push($+2/3*e,l+2/3*U,k+1/3*o,V+1/3*b,i,f);$=i;l=f}else if(B=="L"){k=F[L];V=F[L+1];L+=2;if(k!=$||V!=l){n.push("C");
W.push($,l,k,V,k,V);$=k;l=V}}else{if(B=="Z"){$=R;l=h}n.push(B)}}return{G:n,p:W}};r.Z.a1i=function(x){var F=x.p,W=[],n=[],L=0;
for(var w=0;w<x.G.length;w++){var $=x.G[w];if($=="Q"){var l=F[L-2],k=F[L-1],V=F[L],i=F[L+1],f=F[L+2],X=F[L+3];
L+=4;var s=V-l,R=i-k,h=f-V,B=X-i;n.push("C");W.push(l+2/3*s,k+2/3*R,V+1/3*h,i+1/3*B,f,X)}else{var e=0;
if($=="M"||$=="L")e=2;else if($=="C")e=6;for(var U=0;U<e;U++)W.push(F[L+U]);L+=e;n.push($)}}return{G:n,p:W}};
r.Z.Hs=function(x,F){var W=x.p,n=[],L=[],$=0,l=0,k=0,V=0,i=0,f=0,X=0,s=0,R=0;for(var w=0;w<x.G.length;
w++){var h=x.G[w];if(h=="M"){l=W[$];k=W[$+1];$+=2;L.push(h);n.push(l,k)}else if(h=="C"){V=W[$];i=W[$+1];
f=W[$+2];X=W[$+3];s=W[$+4];R=W[$+5];$+=6;r.Z.GX(l,k,V,i,f,X,s,R,F,L,n,0);l=s;k=R}else L.push(h)}return{G:L,p:n}};
r.Z.GX=function(x,F,W,n,L,$,l,k,V,i,f,X){var s=Math.sqrt((l-x)*(l-x)+(k-F)*(k-F)),R=Math.sqrt((l-L)*(l-L)+(k-$)*(k-$))+Math.sqrt((L-W)*(L-W)+($-n)*($-n))+Math.sqrt((W-x)*(W-x)+(n-F)*(n-F)),h=(s+R)/2;
if(h<=V){i.push("C");f.push(W,n,L,$,l,k)}else{var B=0,e=0,U=0,o=0,b=0,u=0,Z=0,I=0,y=0,D=0,N=0,j=0,H=0;
e=(x+W)/2;U=(F+n)/2;o=(W+L)/2;b=(n+$)/2;u=(L+l)/2;Z=($+k)/2;I=(e+o)/2;y=(U+b)/2;D=(o+u)/2;N=(b+Z)/2;
j=(I+D)/2;H=(y+N)/2;r.Z.GX(x,F,e,U,I,y,j,H,V,i,f,X+1);r.Z.GX(j,H,D,N,u,Z,l,k,V,i,f,X+1)}};r.Z.aez=function(x,F,W,n,L){var $=Date.now(),l=r.Z.aA6(x,F,W);
if(L){console.log("trace polygons",Date.now()-$);$=Date.now()}var k=[];for(var w=0;w<l.length;w++){var V=l[w],i=V[0],f=["M"],X=x[i[1]*F+i[0]];
if(i.length>8)i=r.Z.avk(i,n,V[1]);if(i.length<=4)continue;for(var s=2;s<i.length;s+=2)f.push("L");f.push("Z");
k.push({path:{p:i,G:f},color:X,parent:-1,A$:r.Z.KR(i)})}if(L){console.log("simplify polygons",Date.now()-$);
$=Date.now()}for(var w=1;w<k.length;w++){var R=k[w],h=R.path.p,B=h[0],e=h[1],U=h[2],o=h[3],b=U-B,u=o-e,Z=B+.5*b-.001*u,I=e+.5*u+.001*b;
for(var s=w-1;s>=0;s--){var y=k[s];if(!y.A$.Ic(R.A$))continue;if(!jX.QS(y.path.p,Z,I))continue;R.parent=s;
break}}if(L){console.log("checking parents",Date.now()-$);$=Date.now()}return k};r.Z.aA6=function(x,F,W){var n=F*W,L=new Uint16Array(F*W),l=0;
for(var w=0;w<n;w++)L[w]=x[w];var $=new Uint8Array(F*W);$[1*F+1]=$[(W-1)*F+1]=$[1*F+F-1]=$[(W-1)*F+F-1]=1;
for(var k=1;k<W;k++)for(var V=1;V<F;V++){var w=k*F+V,i=L[w-F-1],f=L[w-F],X=L[w-1],s=L[w],R=i==s&&f==X&&i!=f,h=0;
if(s<X){l=s;s=X;X=l}if(X<f){l=X;X=f;f=l}if(f<i){l=f;f=i;i=l}if(s<X){l=s;s=X;X=l}if(X<f){l=X;X=f;f=l}if(s<X){l=s;
s=X;X=l}if(i!=f)h++;if(f!=X)h++;if(X!=s)h++;if(s!=i)h++;if(h>=3||R)$[w]=1}var B=[];for(var k=1;k<W;k++)for(var V=1;
V<F;V++){var w=k*F+V;if(L[w]!=L[w-1]){var e=r.Z.aed(L,F,W,V,k),U=[];for(var o=0;o<e.length;o+=2)if($[e[o+1]*F+e[o]]==1)U.push(o>>>1);
B.push([e,U]);r.Z._x(L,F,W,V,k)}}return B};r.Z._x=function(x,F,W,n,L){var $=[L*F+n],l=x[L*F+n];x[L*F+n]=65535;
while($.length!=0){var w=$.pop();x[w]=0;if(x[w+F]==l){$.push(w+F);x[w+F]=65535}if(x[w-F]==l){$.push(w-F);
x[w-F]=65535}if(x[w-1]==l){$.push(w-1);x[w-1]=65535}if(x[w+1]==l){$.push(w+1);x[w+1]=65535}}};r.Z.aed=function(x,F,W,n,L){var $=[0,-1,1,0,0,1,-1,0],f=1;
function l(s,R,f){var w=i*F+V,h=0;if(f==0)h=w-F;else if(f==1)h=w;else if(f==2)h=w-1;else if(f==3)h=w-F-1;
return x[h]}var k=[],V=n,i=L,X=l(V,i,f);do{k.push(V,i);V+=$[f*2];i+=$[f*2+1];if(l(V,i,f)!=X)f=f+1&3;
else if(l(V,i,f+3&3)!=X)f=f;else if(l(V,i,f+2&3)!=X)f=f+3&3}while(V!=n||i!=L);return k};r.Z.avk=function(x,F,W){var n=x.length-2;
if(W&&W.length!=0){var L=W[0]*2,$=W[W.length-1]*2,l=L==0?n:L-2,k=x.slice($);for(var w=0;w<L;w++)k.push(x[w]);
if(L==$)k.push(.9*x[L]+.1*x[l],.9*x[L+1]+.1*x[l+1]);else k.push(x[L],x[L+1]);k=r.Z.bY(k,F);k.pop();k.pop();
for(var w=0;w<W.length-1;w++){var V=x.slice(W[w]*2,W[w+1]*2+2);V=r.Z.bY(V,F);for(var i=0;i<V.length-2;
i++)k.push(V[i])}return k}var f=x.slice(0);f.push(.9*x[0]+.1*x[n],.9*x[1]+.1*x[n+1]);f=r.Z.bY(f,F);f.pop();
f.pop();return f};r.Z.bY=function(x,F){var W=x.length-2,n=x[0],L=x[1],$=x[W],l=x[W+1],k=$-n,V=l-L,i=1/Math.sqrt(k*k+V*V),f=$*L-l*n,X=-1,s=-1,R=0;
for(var w=2;w<W;w+=2){var h=x[w],B=x[w+1],e=B*B*1e6+h*h,U=Math.abs(V*h-k*B+f)*i;if(U>s||U==s&&e>R){s=U;
X=w;R=e}}if(s<F)return[n,L,$,l];var o=r.Z.bY(x.slice(0,X+2),F),b=r.Z.bY(x.slice(X),F);for(var w=2;w<b.length;
w++)o.push(b[w]);return o};r.Z.asm=function(){var x=function(n,L,$,l,k,V){return(L-l)*(k-$)+($-n)*(V-l)>=0},F=function(n,L,$,l,k,V,i,f){var X=i-$,s=f-l,R=k-$,h=V-l,B=n-$,e=L-l,U=X*X+s*s,o=X*R+s*h,b=X*B+s*e,u=R*R+h*h,Z=R*B+h*e,I=1/(U*u-o*o),y=(u*b-o*Z)*I,D=(U*Z-o*b)*I;
return y>=0&&D>=0&&y+D<1},W=function(n){var dx=n.length>>>1,w=0;if(dx<3)return[];var L=[],$=[];for(var w=0;
w<dx;w++)$.push(w);var l=dx;while(l>3){var k=$[(w+0)%l],V=$[(w+1)%l],i=$[(w+2)%l],f=n[2*k],X=n[2*k+1],s=n[2*V],R=n[2*V+1],h=n[2*i],B=n[2*i+1],e=!1;
if(x(f,X,s,R,h,B)){e=!0;for(var U=0;U<l;U++){var o=$[U];if(o==k||o==V||o==i)continue;if(F(n[2*o],n[2*o+1],f,X,s,R,h,B)){e=!1;
break}}}if(e){L.push(k,V,i);$.splice((w+1)%l,1);l--;w=0}else if(w++>3*l)break}L.push($[0],$[1],$[2]);
return L};return W}();r.Z.aya=function(x,F){var W={},n={G:[],p:[]};for(var w=0;w<F.length;w+=3){var L=F[w]*2,$=F[w+1]*2,l=F[w+2]*2;
r.Z.T5(x,L,$,n,W);r.Z.T5(x,L,l,n,W);r.Z.T5(x,$,l,n,W)}return n};r.Z.T5=function(x,F,W,n,L){if(F>W){var $=W;
W=F;F=$}if(L[F+","+W])return;L[F+","+W]=!0;n.G.push("M","L");n.p.push(x[F],x[F+1],x[W],x[W+1])};r.Z.auS=function(x,F){var W=[],n=x.length;
for(var w=0;w<n;w+=2){var L=x[w],$=x[w+1],l=x[(w+2)%n],k=x[(w+3)%n];if(k<$){var V=$;$=k;k=V}if($<F&&F<k){var i=(F-$)/(k-$);
W.push(L+i*(l-L))}}W.sort(function(f,X){return f-X});return W};r.Z.aCM=function(x,F,W,n,L,$,l){var k=x-W,V=F-n,i=L-W,f=$-n,X=1/Math.sqrt(k*k+V*V),s=1/Math.sqrt(i*i+f*f),R=k*X,h=V*X,B=i*s,e=f*s,U=h*l,o=-R*l,b=-e*l,u=B*l,Z=r.Z.B7(U,o,R,h,b,u,B,e),I=U+R*Z,y=o+h*Z,Z=r.Z.B7(0,0,R,h,I,y,-h,R),D=R*Z,N=h*Z;
return[Math.sqrt(D*D+N*N),R,h,B,e]};r.Z.aiE=function(x,F,W,n,L,$,l){var k=r.Z.aCM(x,F,W,n,L,$,l),V=k[0],i=k[1],f=k[2],X=k[3],s=k[4],R=Math.atan2(i*s-f*X,i*X+f*s);
if(R<0){R=R*-1}var h=Math.PI-R,B=4/3*Math.tan(h/4),e=W+V*i,U=n+V*f,o=W+V*X,b=n+V*s,u=e+B*l*-i,Z=U+B*l*-f,I=o+B*l*-X,y=b+B*l*-s;
return[0,0,e,U,u,Z,I,y,o,b]};r.Z.B7=function(x,F,W,n,L,$,l,k){var V=l*(F-$)-k*(x-L),i=k*W-l*n;if(i==0)return 0;
return V/i};r.Z.TW=function(x,F,W,n,L,$){return x*(n-$)+W*($-F)+L*(F-n)};r.Z.aCm=function(x){function F(J,E,T,c,a,K,Y,p,P){var m=r.Z.B7(J,E,T,c,a,K,Y,p);
P.push(J+T*m,E+c*m)}var W=[],n=x.length,L=[];for(var w=0;w<n;w+=2){var $=w==0?n-2:w-2,l=w==n-2?0:w+2,k=x[w],V=x[w+1],i=k-x[$],f=V-x[$+1],X=x[l]-k,s=x[l+1]-V,R=Math.sqrt(i*i+f*f),h=Math.sqrt(X*X+s*s);
L.push(h);var B=R/(R+h),e=k-i*.5,U=V-f*.5,o=k+X*.5,b=V+s*.5,u=(x[l]+x[$])*.5,Z=(x[l+1]+x[$+1])*.5,I=e+B*(o-e),y=U+B*(b-U),D=k-I,N=V-y,j=(X*-i+s*-f)/(R*h),H=(B-.5)*7,Q=1+H*B,C=1-H*(1-B);
W.push(e+D*Q,U+N*Q,o+D*C,b+N*C)}return W};r.iw=function(){};r.iw.e5=function(x,F,W,n,L){var $=W.m,l=W.e,k=$*l,V=new Int32Array(k),dx=0;
for(var w=0;w<k;w++)if(F[w]!=0){V[w]=dx;dx++}else if(x[(w<<2)+3]<200){V[w]=-2}else V[w]=-1;if(dx==0)return;
var i=new r.uI(dx,dx),f=new Array(3*dx),X=new Array(3*dx);for(var w=0;w<X.length;w++)X[w]=f[w]=0;var s=1/255,R=[-$,-1,1,$],h=[],B=[];
for(var e=0;e<l;e++)for(var U=0;U<$;U++){var o=e*$+U,b=o<<2,w=V[o],u=w*3,Z=0,I=0,y=0;if(w==-1||w==-2)continue;
for(var D=0;D<4;D++){if(D==2){I=y;h[y]=0;B[y]=w;y++}var N=o+R[D],j=N<<2,H=V[N];if(D==0&&e==0||D==1&&U==0||D==2&&U==$-1||D==3&&e==l-1||H==-2)continue;
Z++;if(H==-1){f[u+0]+=x[j+0];f[u+1]+=x[j+1];f[u+2]+=x[j+2]}else{h[y]=-1;B[y]=H;y++;if(F[o]==F[N]){f[u+0]+=x[b+0]-x[j+0];
f[u+1]+=x[b+1]-x[j+1];f[u+2]+=x[b+2]-x[j+2]}}}h[I]=Z;i.Sb(h,B,y)}for(var w=0;w<k;w++)if(V[w]!=-1){var Q=w<<2,C=V[w],J=C*3;
X[J]=x[Q+0];X[J+1]=x[Q+1];X[J+2]=x[Q+2]}var E=Date.now();i.aCy(X,f,n,L);console.log(Date.now()-E);for(var w=0;
w<k;w++){var C=V[w],T=C*3,Q=w<<2;if(C==-1||x[Q+3]!=255)continue;x[Q+0]=~~(.5+Math.max(0,Math.min(255,X[T+0])));
x[Q+1]=~~(.5+Math.max(0,Math.min(255,X[T+1])));x[Q+2]=~~(.5+Math.max(0,Math.min(255,X[T+2])))}};r.rect={};
r.rect.a9V=function(x,F){var W=[x],n=[];for(var w=0;w<F.length;w++){var L=F[w],$=!1;for(var l=w+1;l<F.length;
l++){var k=F[l];if(k[0]<=L[0]&&k[1]<=L[1]&&L[2]<=k[2]&&L[3]<=k[3]){$=!0;break}}if(!$)n.push(L)}F=n;for(var w=0;
w<F.length;w++){var L=F[w];for(var l=0;l<W.length;l++){var k=W[l],V=Math.max(L[0],k[0]),i=Math.min(L[2],k[2]),f=Math.max(L[1],k[1]),X=Math.min(L[3],k[3]);
if(V<i&&f<X){var s=[];if(k[1]<L[1]){var R=k.slice(0);R[3]=L[1];s.push(R)}if(k[0]<L[0]){var h=k.slice(0);
h[1]=f;h[2]=L[0];s.push(h)}if(L[2]<k[2]){var B=k.slice(0);B[1]=f;B[0]=L[2];s.push(B)}if(L[3]<k[3]){var e=[V,X,i,k[3]];
s.push(e)}if(s.length!=0){W[l]=s[0];for(var U=1;U<s.length;U++)W.push(s[U])}}}W.push(L);W=r.rect.azF(W)}W.sort(function(L,k){return L[1]!=k[1]?L[1]-k[1]:L[0]-k[0]});
for(var w=1;w<W.length;w++){var L=W[w-1],k=W[w];if(L[0]==k[0]&&L[1]==k[1]&&L[2]==k[2]&&L[3]==k[3]){W.splice(L[4]==null?w-1:w,1);
w--}}return W};r.rect.azF=function(x){x=x.slice(0);for(var w=0;w<x.length;w++){var F=x[w],W=null;if(F[4]!=null)continue;
for(var n=0;n<x.length;n++){var L=x[n];if(w==n||L[4]!=null)continue;var $=F[0]==L[0],l=F[1]==L[1],k=F[2]==L[2],V=F[3]==L[3];
if(l&&V&&(F[2]==L[0]||F[0]==L[2])){W=[Math.min(F[0],L[0]),F[1],Math.max(F[2],L[2]),F[3]]}if($&&k&&(F[3]==L[1]||F[1]==L[3])){W=[F[0],Math.min(F[1],L[1]),F[2],Math.max(F[3],L[3])]}if(W){x[w]=W;
x.splice(n,1);break}}if(W){w--}}return x};r.rect.uL=function(x){var F=new eu;for(var w=0;w<x.length;
w++)F=F.oA(x[w]);return F};r.rect.aB4=function(x,F){var W=r.rect.uL,n=new UnionFind(x.length),I=1e3,y=1e3;
for(var w=0;w<x.length;w++)for(var L=w+1;L<x.length;L++){if(!F)continue;var $=x[w],l=x[L],X=1e9,s=1e9;
if($.yU(l)){n.link(w,L);continue}var k=$.x+$.m,V=$.y+$.e,i=l.x+l.m,f=l.y+l.e;if((k<l.x||i<$.x)&&(V<l.y||f<$.y))continue;
if(!(V<l.y||f<$.y))X=Math.min(Math.abs(k-l.x),Math.abs($.x-i));if(!(k<l.x||i<$.x))s=Math.min(Math.abs(V-l.y),Math.abs($.y-f));
var R=Math.min(X,s),h=Math.min($.m,$.e,l.m,l.e);if(R<.3*h)n.link(w,L)}var B=[],e={};for(var w=0;w<x.length;
w++){var U=n.find(w),o=x[w];if(e[U]==null){e[U]=B.length;B.push([])}B[e[U]].push(o)}var b=[],u=[];for(var w=0;
w<B.length;w++){b.push(W(B[w]));var Z=W(B[w]);Z.fe=w;u.push(Z)}u.sort(function(c,a){return Math.max(a.e,a.m)-Math.max(c.e,c.m)});
var D=new NETXUS.RectanglePacker(I,y);while(!0){var N=!1;D.reset(I,y);for(var w=0;w<u.length;w++){var j=D.findCoords(u[w].m,u[w].e);
if(j){u[w].x=j.x;u[w].y=j.y}else{I=Math.floor(I*1.1);y=Math.floor(y*1.1);N=!0;break}}if(N)continue;break}for(var w=0;
w<B.length;w++){var H=u[w],Q=H.fe,C=b[Q],J=B[Q],E=H.x-C.x,T=H.y-C.y;for(var L=0;L<J.length;L++)J[L].offset(E,T)}};
r.uX=function(){};r.uX.YW=Math.floor(16*window.devicePixelRatio);r.uX.vv={};r.uX.RY=0;r.uX.k6=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
r.uX.ayZ=["px","in","cm","mm","%"];r.uX.aL=function(x,F,W,n){var L=[1,F,F/2.54,F/25.4,W/100][n];return x*L};
r.uX.aft=function(x,F,W,n){var L=[1,F,F/2.54,F/25.4,W/100][n];return x/L};r.uX.e3=function(x,F,W,n,L){var $=W._X.$o,l=[1,F,F/2.54,F/25.4,n/100][$],k=[2,3,2,1,2][$];
x=x/l;var V=Math.round(x),i=$==0&&Math.abs(x-V)<1e-6?V+"":x.toFixed(k);if(L)i+=" "+r.uX.ayZ[$];return i};
r.uX.a0J=function(x,F,W,n){var L=W._X.$o,$=[1,F,F/2.54,F/25.4,n/100][L];x=parseFloat(x)*$;return x};
r.uX.a6p=function(x,F){var W=x+","+F;if(r.uX.vv.clr==W)return;var n=Math.round(r.uX.YW*.5);r.uX.RY=n;
var L=r.bz(n,n);L.save();L.font=n*1.5+"px monospace";var $="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var w=0;
w<$.length;w++){L.fillStyle="#"+r.mZ(F);L.fillRect(0,0,n,n);L.fillStyle="#"+r.mZ(x);L.fillText($[w],0,n);
r.uX.vv[$[w]]=new Uint8Array(L.getImageData(0,0,n,n).data.buffer)}r.uX.vv.clr=W;L.restore()};r.uX.at2=function(x,F,W){var n=0,L=0,$=4*r.uX.YW;
for(var w=9;w>=0;w--){var l=Math.pow(10,w);if(5*l*x<=$){n=5*l;L=10;break}if(2*l*x<=$){n=2*l;L=4;break}if(1*l*x<=$){n=1*l;
L=10;break}}if(n==0){n=1;L=10}var k=Math.ceil(n*x),V=r.R(k*r.uX.YW*4);r.De(V,4278190080|W);for(var w=0;
w<r.uX.YW;w++)r.uX.Vy(V,4*w*k,F);for(var w=0;w<k;w++)r.uX.Vy(V,4*((r.uX.YW-1)*k+w),F);if(n==2)L=2;if(n==5)L=5;
if(n>1||n==1&&k>20)for(var w=1;w<L;w++)r.uX.ah3(V,w*(k/L),k,(w&1)==1?.8:.7,F);return{vj:V,step:n}};r.uX.ah3=function(x,F,W,n,L){var F=Math.round(F);
for(var $=Math.round(r.uX.YW*n);$<r.uX.YW-1;$++)r.uX.Vy(x,4*($*W+F),L)};r.uX.Vy=function(x,F,W){x[F+0]=W>>16&255;
x[F+1]=W>>8&255;x[F+2]=W&255};r.uX.aaZ=function(x,F,W,n,L,$,l){var k=x.$f.m,V=x.$f.e,i=r.uX.YW,f=F&255,X=F>>8&255,s=F>>16&255;
F=Math.round(f*.6)<<16|Math.round(X*.6)<<8|Math.round(s*.6);r.uX.a6p(Math.round(f*.8)<<16|Math.round(X*.8)<<8|Math.round(s*.8),W);
var R=x.Q,h=x.J,B=x.O4;for(var e=0;e<2;e++){var U=e==0?$:l;x.Q=U[0];x.J=U[1];x.O4=0;var o=this.at2(x.Q,F,W),b=x.m$(0,0),u=x.m$(k,V),Z=Math.floor(b.x/o.step)*o.step,I=Math.ceil(u.x/o.step)*o.step,y=Math.floor(b.y/o.step)*o.step,D=Math.ceil(u.y/o.step)*o.step,N=x.Q0(Z,y),j=x.Q0(I,y),H=o.step*x.Q,Q=Math.ceil(H);
if(e==1){var C=o.vj;o.vj=r.R(C.length*4);r.D.kZ(C,o.vj,Q,i)}var J=e==0?x.q$.data:x.wH.data,E=new eu(0,0,[k,i][e],[i,V][e]),T=new eu(0,0,[Q,i][e],[i,Q][e]),c=new eu([0,Math.round(i*.2)][e],[Math.round(i*.08),0][e],r.uX.RY,r.uX.RY),a=(e==0?I-Z:D-y)/o.step;
for(var w=0;w<a;w++){if(e==0)T.x=Math.round(N.x+w*H);else T.y=Math.round(N.y+w*H);r.sh(o.vj,T,J,E,T);
var K=(e==0?Z+w*o.step:Math.abs(y+w*o.step)).toString(10);for(var Y=0;Y<K.length;Y++){if(e==0)c.x=T.x+3+Y*Math.round(r.uX.RY*.8);
else c.y=T.y+3+Y*Math.round(r.uX.RY*1.15);var p=r.uX.vv[K[Y]];r.sh(p,c,J,E,c)}}}x.Q=R;x.J=h;x.O4=B;var P=Math.floor(i*.6),m=new Uint32Array(x.q$.data.buffer),z=new Uint32Array(x.wH.data.buffer),M=f<128?4278190080:4294967295;
if(0<n&&n<k)for(var w=0;w<P;w++)m[w*k+n]=M;if(0<L&&L<V)for(var w=0;w<P;w++)z[L*i+w]=M};r.scale={};r.scale.Mt=document.createElement("canvas");
r.scale.yG=r.scale.Mt.getContext("2d");r.scale.dh=function(x,F,W){var n=r.scale.Mt,L=r.scale.yG;n.width=F;
n.height=W;var $=new ImageData(new Uint8ClampedArray(x.buffer),F,W);L.putImageData($,0,0);return L.createPattern(L.canvas,"repeat")};
r.scale.atv=function(x,F,W,n,L,$,l,k,V){var i=r.scale.aqT(x,W,n,L,$,l,k,V);if(F)F.set(i);return new Uint8Array(i.buffer)};
r.scale.aqT=function(x,F,W,n,L,$,l,k){var V=r.bz(F,W);V.save();V.rect(0,0,F,W);V.translate($,l);V.scale(n,L);
if(k!=null)V.rotate(-k);V.fillStyle=x;V.fill();V.restore();return new Uint8Array(V.getImageData(0,0,F,W).data.buffer)};
r.scale.i=function(x,F,W,n,L){var $=W.z==0&&W.Pu==0,l=L.m,k=L.e,V=r.Z.o4(F,W).p,i=r.Z.Gn(V,$).jB(L),f=i.x,X=i.y,s=f+i.m,R=X+i.e,h=~~F.x,B=~~F.y,e=~~F.m,U=~~F.e;
if($)for(var o=X;o<R;o++){var b=W.P9*(o+.5)+W.Ze-B,u=~~b*e;for(var Z=f;Z<s;Z++){var I=W.V*(Z+.5)+W.yq-h;
n[o*l+Z]=x[u+~~I]}}else for(var o=X;o<R;o++)for(var Z=f;Z<s;Z++){var y=Z+.5,D=o+.5,I=W.V*y+W.Pu*D+W.yq-h,b=W.z*y+W.P9*D+W.Ze-B;
if(0<=I&&0<=b&&I<e&&b<U)n[o*l+Z]=x[~~b*e+~~I]}};r.scale.aod=function(x,F,W,n,L,$){var l=new Uint32Array(x.buffer),k=new Uint32Array(n.buffer),V=L.m,i=L.e,f=r.Z.o4(F,W).p,X=$?L:r.Z.Gn(f).jB(L),s=X.x,R=X.y,h=s+X.m,B=R+X.e,e=~~F.x,U=~~F.y,o=~~F.m,b=~~F.e;
for(var u=R;u<B;u++)for(var Z=s;Z<h;Z++){var I=Z+.5,y=u+.5,D=W.V*I+W.Pu*y+W.yq-e,N=W.z*I+W.P9*y+W.Ze-U;
if($){D=((o<<10)+D)%o;N=((b<<10)+N)%b}if(0<=D&&0<=N&&D<o&&N<b)k[u*V+Z]=l[~~N*o+~~D]}};r.scale.uB=function(x,F,W,n,L,$,l){if(l<1)r.scale.az9(x,F,W,n,L,$,Math.round(1/l));
else r.scale.a1S(x,F,W,n,L,$,l)};r.scale.du=function(x,F,W,n,L,$,l,k){if(k)k=k.jB(new eu(0,0,F,W));x=new Uint32Array(x.buffer);
n=new Uint32Array(n.buffer);if(l<1)r.scale.adT(x,F,W,n,L,$,Math.round(1/l),k);else r.scale.a3$(x,F,W,n,L,$,l)};
r.scale.a1S=function(x,F,W,n,L,$,l){for(var k=0;k<W;k++)for(var V=0;V<F;V++){var i=x[k*F+V],f=Math.min(l,L-V*l),X=Math.min(l,$-k*l);
for(var w=0;w<X;w++)for(var s=0;s<f;s++)n[(l*k+w)*L+l*V+s]=i}};r.scale.az9=function(x,F,W,n,L,$,l){for(var k=0;
k<$;k++)for(var V=0;V<L;V++){var i=0,f=Math.min(l,F-V*l),X=Math.min(l,W-k*l);for(var w=0;w<X;w++)for(var s=0;
s<f;s++)i+=x[(l*k+w)*F+(l*V+s)];n[k*L+V]=Math.round(i/(f*X))}};r.scale.a3$=function(x,F,W,n,L,$,l){for(var k=0;
k<W;k++)for(var V=0;V<F;V++){var i=x[k*F+V],f=Math.min(l,L-V*l),X=Math.min(l,$-k*l);for(var w=0;w<X;
w++)for(var s=0;s<f;s++)n[(l*k+w)*L+l*V+s]=i}};r.scale.ad$=function(x,F,W){return(x>>>W&255)+(F>>>W&255)>>>1};
r.scale.Yt=function(x,F){var W=r.scale.ad$;return W(x,F,24)<<24|W(x,F,16)<<16|W(x,F,8)<<8|W(x,F,0)};
r.scale.a8P=function(x,F,W,n,L,$){var l=new Uint32Array(x.buffer),k=new Uint32Array(n.buffer);for(var V=0;
V<W;V++){for(var i=0;i<F;i++){var f=V*F+i,X=l[f],s=X,R=X,h=X;if(i<F-1)s=r.scale.Yt(X,l[f+1]);if(V<W-1)R=r.scale.Yt(X,l[f+F]);
if(i<F-1&&V<W-1)h=r.scale.Yt(X,l[f+F+1]);var B=(V*L+i)*2;k[B]=X;k[B+1]=s;k[B+L]=R;k[B+L+1]=h}}if((L&1)==1)for(var V=0;
V<$;V++)k[V*L+L-1]=k[V*L+L-2];var e=L*($-1);if(($&1)==1)for(var i=0;i<L;i++)k[e+i]=k[e-L+i]};r.scale.adT=function(x,F,W,n,L,$,l,k){var V=0,i=L,f=0,X=$;
if(k){V=Math.floor(k.x/l);i=Math.ceil((k.x+k.m)/l);f=Math.floor(k.y/l);X=Math.ceil((k.y+k.e)/l)}for(var s=f;
s<X;s++)for(var R=V;R<i;R++){var h=0,B=0,e=0,U=0,o=Math.min(l,F-R*l),b=Math.min(l,W-s*l);for(var w=0;
w<b;w++)for(var u=0;u<o;u++){var Z=x[(l*s+w)*F+l*R+u],I=Z>>>24;h+=I;B+=I*(Z>>>16&255);e+=I*(Z>>>8&255);
U+=I*(Z&255)}if(h!=0){var y=1/h;n[s*L+R]=h/(o*b)<<24|B*y<<16|e*y<<8|U*y}else n[s*L+R]=0}};r.u=function(){function x(k,V,w){return(128&k[w-V-1]&k[w-V]&k[w-2]&k[w-1]&k[w+1]&k[w+V-1]&k[w+V])==0}function F(k,V,w){return(128&k[w-V-V]&k[w-V+1]&k[w+2]&k[w+V+1]&k[w+V+V])==0}function W(k,V,w){return(k[w-V]&k[w-1]&k[w+1]&k[w+V]&128)==0}function n(k,w){return(k[w]&128)!=0}function L(k,V,i,f){var w=0,X=i.m,s=i.e;
if(f)for(var R=0;R<s;R++)for(var h=0;h<X;h++){if(n(k,w)&&(h<2||R<2||h>X-3||R>s-3||((k[w-1]&128)==0||V[w-1]!=0)&&x(k,X,w)||F(k,X,w)))V[w]=255;
w++}else for(var R=0;R<s;R++)for(var h=0;h<X;h++){if(n(k,w)&&(h==0||R==0||h==X-1||R==s-1||W(k,X,w)))V[w]=255;
w++}}function $(k,V,i,f,X){var s=i.m,R=i.e,h=new Uint8Array(V.buffer),B=new Uint32Array(V.buffer);if(X)for(var e=2;
e<R-2;e++)for(var U=2;U<s-2;U++){var w=e*s+U;if(n(k,w)&&(((k[w-1]&128)==0||B[w-1]!=0)&&x(k,s,w)||F(k,s,w)))B[w]=f[(U+e&4)>>>2]}else for(var e=1;
e<R-1;e++)for(var U=1;U<s-1;U++){var w=e*s+U;if(n(k,w)&&W(k,s,w)){B[w]=f[(U+e&4)>>>2]}}}function l(k,V,i,f,X){var s=i.m,R=i.e,h=new Uint8Array(V.buffer),B=new Uint32Array(V.buffer),w=0;
if(f==1)for(var e=0;e<R;e++)for(var U=0;U<s;U++,w++){var o=k[w];B[w]=255-o>>>1<<24|255}else for(var e=0;
e<R;e++)for(var U=0;U<s;U++,w++){var o=k[w];B[w]=255<<24|(o<<16|o<<8|o)}}return{ahy:L,adV:$,aCq:l}}();
r.KF={};r.KF.e$=function(x,F,W){var n,L;if(W==0){n=x.rect.clone();L=r.KF.avt}if(W==1){n=x.rect.oA(F.rect);
L=r.KF.oA}if(W==2){n=F.rect.clone();L=r.KF.auc}if(W==3){n=x.rect.jB(F.rect);L=r.KF.jB}if(W==4){n=x.rect.oA(F.rect);
L=r.KF.aa_}if(n.ak())return null;var $=r.R(n.P());r.Hz(F.channel,F.rect,$,n);var l=r.R(n.P());r.Hz(x.channel,x.rect,l,n);
L(l,$,$);var k=r.c_($,n);if(k.ak())return null;if(!k.rr(n)){var V=r.R(k.P());r.Hz($,n,V,k);$=V;n=k}return{channel:$,rect:n}};
r.KF.avt=function(x,F,W){for(var w=0;w<x.length;w++)W[w]=x[w]};r.KF.oA=function(x,F,W){for(var w=0;w<x.length;
w++)W[w]=Math.min(x[w]+F[w],255)};r.KF.auc=function(x,F,W){for(var w=0;w<x.length;w++)W[w]=Math.max(F[w]-x[w],0)};
r.KF.jB=function(x,F,W){var n=1/255;for(var w=0;w<x.length;w++)W[w]=x[w]*F[w]*n};r.KF.aa_=function(x,F,W){var n=1/255;
for(var w=0;w<x.length;w++)W[w]=Math.min(x[w]+F[w],255)-x[w]*F[w]*n};r.uI=function(x,F){this.H=[];this.Nv=[0];
this.VI=[];this.SA=[];this.tH=[0];this.N_=[];this.I7=[];this.rows=x;this.cols=F};r.uI.prototype.clone=function(){var x=this,F=x.rows,W=x.cols,n=new r.uI(F,W);
n.H=x.H.slice(0);n.Nv=x.Nv.slice(0);n.VI=x.VI.slice(0);n.SA=x.SA.slice(0);n.tH=x.tH.slice(0);n.N_=x.N_.slice(0);
n.I7=x.I7.slice(0);return n};r.uI.prototype.Sb=function(x,F,W){var n=this.Nv.length-1;for(var w=0;w<W;
w++){var L=x[w],$=F[w];this.H.push(L);this.VI.push($);if($==n){this.I7.push(L==0?0:1/L)}else{this.SA.push(L);
this.N_.push($)}}this.Nv.push(this.H.length);this.tH.push(this.SA.length)};r.uI.prototype.la=function(x,F){var W=this,n=W.rows,L=W.H,$=W.VI;
if(F==null)F=new Array(n);for(var w=0;w<n;w++){var l=W.Nv[w],k=W.Nv[w+1],V=0;while((k-l&3)!=0){V+=L[l]*x[$[l]];
l++}for(var i=l;i<k;i+=4)V+=L[i]*x[$[i]]+L[i+1]*x[$[i+1]]+L[i+2]*x[$[i+2]]+L[i+3]*x[$[i+3]];F[w]=V}return F};
r.uI.prototype.multiply=function(x){return this.dt(x.kZ())};r.uI.prototype.dt=function(x){var F=this,W=F.rows,n=F.cols,L=x.rows,$=new r.uI(W,L),l=F.VI,k=x.VI;
for(var w=0;w<W;w++){var V=[],i=[],f=F.Nv[w],X=F.Nv[w+1];for(var s=0;s<L;s++){var R=x.Nv[s],h=x.Nv[s+1],B=0,e=f,U=R;
while(e<X&&U<h){var o=Math.max(l[e],k[U]);while(e<X&&l[e]<o)e++;while(U<h&&k[U]<o)U++;if(e<X&&U<h&&l[e]==k[U])B+=F.H[e++]*x.H[U++]}if(B!=0){V.push(B);
i.push(s)}}$.Sb(V,i,V.length)}return $};r.uI.prototype.kZ=function(){var x=this.rows,F=this.cols,W=[];
for(var w=0;w<F;w++)W.push([[],[]]);var n=this.H,L=this.Nv,$=this.VI;for(var w=0;w<x;w++){var l=L[w],k=L[w+1];
for(var V=l;V<k;V++){var i=W[$[V]];i[0].push(n[V]);i[1].push(w)}}var f=new r.uI(F,x);for(var w=0;w<F;
w++)f.Sb(W[w][0],W[w][1],W[w][1].length);return f};r.uI.prototype.Yv=function(){var x=this.rows,F=this.cols,W=new Array(x),n=this.H,L=this.Nv,$=this.VI;
for(var w=0;w<x;w++){var l=W[w]=new Array(F);for(var k=0;k<F;k++)l[k]=0;var V=L[w],i=L[w+1];for(var f=V;
f<i;f++)l[$[f]]=n[f]}return W};r.uI.prototype.Na=function(x,F,W,n,L){function $(y,F,D,N){var j=y.length;
for(var w=0;w<j;w++)N[w]=y[w]-F[w]*D}function l(y,F,D,N){var j=y.length,H=0;while((j-H&3)!=0){N[H]=y[H]+F[H]*D;
H++}for(var w=H;w<j;w+=4){N[w]=y[w]+F[w]*D;N[w+1]=y[w+1]+F[w+1]*D;N[w+2]=y[w+2]+F[w+2]*D;N[w+3]=y[w+3]+F[w+3]*D}}function k(y,F,D){var N=y.length;
for(var w=0;w<N;w++)D[w]=y[w]*F[w]}function V(y,F){var D=y.length,N=0,j=0;while((D-N&3)!=0){j+=y[N]*F[N];
N++}for(var w=N;w<D;w+=4)j+=y[w]*F[w]+y[w+1]*F[w+1]+y[w+2]*F[w+2]+y[w+3]*F[w+3];return j}var i=n!=null?2:1,f=Date.now(),X=0,s=this,R=x.slice(0),h=x.slice(0);
s.la(x,h);$(F,h,1,R);var B=this.I7;if(i==0){B=R.slice(0);B.fill(1)}var e=R.slice(0);k(B,R,e);var U=e.slice(0),o=V(R,e);
while(!0){s.la(U,h);var b=o/V(U,h);l(x,U,b,x);$(R,h,b,R);if((X&7)==0&&Math.sqrt(V(R,R))<W)break;if(i<=1)k(B,R,e);
else{var u=R.slice(0);n.a7Z(u,R);L.ayd(e,u)}var Z=V(R,e),I=Z/o;l(e,U,I,U);o=Z;X++}};r.uI.prototype.aj6=function(x,F,W,n){var L=Date.now(),$=1.96,k=0;
if(W==null)W=5e-6;if(n==null)n=1e9;var l=1-$,dx=this.rows,V=this.SA,i=this.tH,f=this.N_,X=this.I7;while(!0){var s=0;
for(var w=0;w<dx;w++){var R=F[w],h=i[w],B=i[w+1];if(B-h==4)R-=V[h]*x[f[h]]+V[h+1]*x[f[h+1]]+V[h+2]*x[f[h+2]]+V[h+3]*x[f[h+3]];
else for(var e=h;e<B;e++)R-=V[e]*x[f[e]];var U=x[w]*l+X[w]*R*$,o=U-x[w];s+=o*o;x[w]=U}if(s/dx<W||Date.now()>L+n)break}};
r.uI.prototype.aCy=function(x,F,W,n){var L=Date.now(),$=1.96,k=0;if(W==null)W=5e-5;if(n==null)n=1e9;
var l=1-$,dx=this.rows,V=this.SA,i=this.tH,f=this.N_,X=this.I7;while(!0){var s=0;for(var w=0;w<dx;w++){var R=w*3,h=F[R],B=F[R+1],e=F[R+2],U=i[w],o=i[w+1];
for(var b=U;b<o;b++){var u=V[b],Z=f[b]*3;h-=u*x[Z+0];B-=u*x[Z+1];e-=u*x[Z+2]}var I=X[w]*$,y=x[R+0]*l+h*I,D=x[R+1]*l+B*I,N=x[R+2]*l+e*I,j=y-x[R+0],H=D-x[R+1],Q=N-x[R+2];
s+=.4*j*j+.5*H*H+.1*Q*Q;x[R+0]=y;x[R+1]=D;x[R+2]=N}if(s/dx<W||Date.now()>L+n)break}};r.z3={};r.z3.Xd=function(x,F,W){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:x},Vrtc:{t:"doub",v:F},Cnty:{t:"bool",v:W}}}};
r.z3.i=function(x,F){for(var w=0;w<x.length;w++){var W=x[w].v,n=F.dr(new eX(W.Hrzn.v,W.Vrtc.v));W.Hrzn.v=Math.round(n.x);
W.Vrtc.v=Math.round(n.y)}};r.z3.ahe=function(x,F,W){var dx=x.length-1,n=r.Rg.Vs(dx+1,dx+2);for(var w=1;
w<dx;w++){n[w][w-1]=1/(x[w]-x[w-1]);n[w][w]=2*(1/(x[w]-x[w-1])+1/(x[w+1]-x[w]));n[w][w+1]=1/(x[w+1]-x[w]);
n[w][dx+1]=3*((F[w]-F[w-1])/((x[w]-x[w-1])*(x[w]-x[w-1]))+(F[w+1]-F[w])/((x[w+1]-x[w])*(x[w+1]-x[w])))}n[0][0]=2/(x[1]-x[0]);
n[0][1]=1/(x[1]-x[0]);n[0][dx+1]=3*(F[1]-F[0])/((x[1]-x[0])*(x[1]-x[0]));n[dx][dx-1]=1/(x[dx]-x[dx-1]);
n[dx][dx]=2/(x[dx]-x[dx-1]);n[dx][dx+1]=3*(F[dx]-F[dx-1])/((x[dx]-x[dx-1])*(x[dx]-x[dx-1]));r.Rg.Dt(n,W)};
r.z3.acD=function(x,F,W,n){if(x<=F[0])return W[0];if(x>=F[F.length-1])return W[F.length-1];var w=1;while(F[w]<x)w++;
var L=F[w],$=F[w-1],l=W[w],k=W[w-1],V=(x-$)/(L-$),i=n[w-1]*(L-$)-(l-k),f=-n[w]*(L-$)+(l-k),X=(1-V)*k+V*l+V*(1-V)*(i*(1-V)+f*V);
return X};r.z3.aqE=function(x,F,W,n){var L={t1:[x[0]],sb:[F[0]],qL:[]};n[0]=L;for(var w=1;w<x.length-1;
w++){L.t1.push(x[w]);L.sb.push(F[w]);if(W[w]==!1){r.z3.ahe(L.t1,L.sb,L.qL);L={t1:[x[w]],sb:[F[w]],qL:[]}}n[w]=L}L.t1.push(x[w]);
L.sb.push(F[w]);r.z3.ahe(L.t1,L.sb,L.qL);n[w]=L};r.z3.a7D=function(x,F,W,n){if(x<=F[0])return W[0];if(x>=F[F.length-1])return W[F.length-1];
var w=1;while(F[w]<x)w++;var L=n[w-1];return r.z3.acD(x,L.t1,L.sb,L.qL)};r.z3.abr=function(x){var F={t1:[],sb:[],u$:[]};
for(var w=0;w<x.length;w++){F.t1[w]=x[w].v.Hrzn.v;F.sb[w]=x[w].v.Vrtc.v;F.u$[w]=x[w].v.Cnty?x[w].v.Cnty.v:!0}return F};
r.z3.eN=function(x,dx,F){var W=0,n=255;if(F){W=-1e9;n=1e9}var L=r.z3.abr(x),$=[];r.z3.aqE(L.t1,L.sb,L.u$,$);
var l=[];for(var w=0;w<dx;w++)l[w]=1/255*Math.max(W,Math.min(n,r.z3.a7D(w*(255/(dx-1)),L.t1,L.sb,$)));
return l};r.z3.aeH=function(x,dx,F){var W=Math.round(x.length/20),n=dx-x.length,L=F?(x[W]-x[0])/W:0,$=F?x[0]-n*L:x[x.length-1],l=[];
for(var w=0;w<n;w++)l.push($+w*L);return F?l.concat(x):x.concat(l)};r.z3.WK=function(x,dx,F){var W=r.z3.abr(x),n=[];
r.z3.aqE(W.t1,W.sb,W.u$,n);var L=new Uint8Array(dx),$=dx/256;for(var w=0;w<dx;w++)L[w]=Math.max(0,Math.min(dx-1,r.z3.a7D(w*$,W.t1,W.sb,n)));
if(F){L[0]=0;if(L[1]>100)L[1]=.4*L[1];if(L[2]>150)L[1]=.7*L[2]}return L};r.z3.ayh=function(x,F){var W=new Uint8Array(x.length);
for(var w=0;w<x.length;w++)W[w]=F[x[w]];return W};r.z3.k7=function(x,F,W){var n=document.createElement("canvas");
n.width=F;n.height=W;var L=n.getContext("2d"),$=r.z3.WK(x,256);L.scale(F/255,W/255);L.fillStyle="#fff";
L.fillRect(0,0,255,255);L.fillStyle="#333";L.beginPath();L.moveTo(0,255);for(var w=0;w<$.length;w++)L.lineTo(w,255-$[w]);
L.lineTo(255,255);L.closePath();L.fill();return n.toDataURL()};r.style={};r.style.stroke=function(x,F,W,n){var L=W.m,$=W.e,l=r.style.ld(x,L,$);
r.style.Jt(F,W,l,W,n)};r.style.Jt=function(x,F,W,n,L){var $=F.jB(n),l=$.m,k=$.e;L+=.5;var V=$.x-F.x,i=$.y-F.y,f=F.m,X=$.x-n.x,s=$.y-n.y,R=n.m;
for(var h=0;h<k;h++){var B=(h+s)*R+X,e=(h+i)*f+V;for(var U=0;U<l;U++){var o=Math.max(0,Math.min(1,L-W[B+U]));
x[e+U]=Math.round(o*255)}}};r.style.akw=function(x,F,W,n){for(var L=0;L<W;L++)for(var $=0;$<F;$++){var l=L*F+$,k=0,V=0,i=x[l];
if($==0||L==0){k=x[l+1]-i;V=x[l+F]-i}else if($==W-1||L==F-1){k=i-x[l-1];V=i-x[l-F]}else{k=x[l+1]-x[l-1];
V=x[l+F]-x[l-F]}if(k!=0||V!=0){var f=1/Math.sqrt(k*k+V*V);k*=f;V*=f}n[l+l]=k;n[l+l+1]=V}};r.style.ld=function(x,F,W){var n=F*W,L=new ArrayBuffer((n+F*4)*4),$=new Float32Array(L,0,n),l=new Uint16Array(L,0,n<<1),k=new Int32Array(L,n*4,F),V=new Int32Array(L,(n+F)*4,F),i=new Int32Array(L,(n+F*2)*4,F),f=new Int32Array(L,(n+F*3)*4,F),X=1/255;
for(let w=0;w<F;++w){let s=-W-F,R=0,h=w,B=0;for(;B<W;++B,h+=F){if(x[h]>128)s=B,R=x[h];l[h<<1]=B-s;l[(h<<1)+1]=R}s=l[h+=h-F-F],R=l[h+1];
for(;B>1;--B){if(l[h-=F+F]>s)l[h]=++s,l[h+1]=R;else s=l[h],R=l[h+1]}}for(let e=0;e<n;e+=F){var U=e+F,o=l[e<<1]*l[e<<1],b=0;
let u=k[0]=e,Z=V[0]=e,I=o,y=I;for(let h=e+1;h<U;++h){var D=l[h<<1]*l[h<<1];while(b&&y>(Z-h)*(Z-h)+D){Z=V[--b],u=k[b],I=l[u<<1]*l[u<<1],y=(Z-u)*(Z-u)+I}if(b||y<=(Z-h)*(Z-h)+D){var N=h-u,j=e+Math.floor((N*(h+u-e-e)+D-I)/(N<<1))+1;
if(j<U){Z=V[++b]=j,u=k[b]=h,I=D,y=(Z-u)*(Z-u)+I}}else Z=e,u=k[0]=h,I=D,y=(Z-u)*(Z-u)+I}for(let w=0;w<b;
++w){var H=k[w]<<1;i[w]=l[H]*l[H];f[w]=l[H+1]}let Q=.5-l[(k[b]<<1)+1]*X;for(let h=U-1;h>=e;--h){$[h]=Math.sqrt((h-u)*(h-u)+I)+Q;
if(b&&h==Z){Z=V[--b],u=k[b],I=i[b],Q=.5-f[b]*X}}}return $};r.style.a3Q=function(x,F,W){var n=new Float64Array(F*W),L=0,$=F*W;
for(var w=0;w<$;w++)L|=x[w];if(L==0){n.fill(1e9);return}var l=r.style.vZ(x,F,W);for(var k=0;k<W;k++)for(var V=0;
V<F;V++){var w=k*F+V,i=l[w*2],f=l[w*2+1];if(i==0&&f==0){n[w]=0;continue}var X=Math.sqrt(i*i+f*f),s=x[(k+f)*F+V+i]*(1/255);
n[w]=X+.5-s}return n};r.style.axr=function(x,F,W){return(.5-W)*x};r.style.vZ=function(x,F,W,n){var L=new Int16Array(F*W*2);
r.style.ado(x,L,F,W,128);return L};r.style.ado=function(x,F,W,n,L){var $=new Int32Array(W*n);r.style.a50(x,$,W,n,L);
r.style.a42($,F,W,n)};r.style.a50=function(x,F,W,n,L){var $=new Int32Array(n);for(var l=0;l<W;l++){var k=W+n;
for(var V=n-1;V>=0;V--){if(x[V*W+l]>L)k=0;else k++;$[V]=k}k=W+n;for(var V=0;V<n;V++){if(x[V*W+l]>L)k=0;
else k++;F[V*W+l]=k<$[V]?-k:$[V]}}};r.style.a42=function(x,F,W,n){var L=(W+n)*(W+n),$=new Float64Array(W),l=new Uint16Array(W);
for(var k=0;k<n;k++){var V=k*W,i=0;l[0]=0;$[0]=-L;$[1]=+L;for(var f=1;f<W;f++){var X=x[f+V]*x[f+V]+f*f,s=(X-(x[l[i]+V]*x[l[i]+V]+l[i]*l[i]))/(2*f-2*l[i]);
while(s<=$[i]){i--;s=(X-(x[l[i]+V]*x[l[i]+V]+l[i]*l[i]))/(2*f-2*l[i])}i++;l[i]=f;$[i]=s;$[i+1]=L}i=0;
for(var f=0;f<W;f++){while($[i+1]<f)i++;var R=l[i]-f,h=x[l[i]+V],w=k*W+f<<1;F[w]=R;F[w+1]=h}}};r.style.vM=function(x,F,W){if(W)for(var w=0;
w<x.length;w++){var n=x[w];if(n>0)x[w]=Math.max(0,Math.min(255,n+F*2*(r.style.W1(w)-128)))}else for(var w=0;
w<x.length;w++){var n=x[w];if(n>0)x[w]=Math.max(0,Math.min(255,n+Math.min(n*3,F*2*(r.style.W1(w)-128))))}};
r.style.W1=function(x){x=x^61^x>>16;x=x+(x<<3);x=x^x>>4;x=x*668265261;x=x^x>>15;return x&255};r.pa={};
r.pa.Dv=function(x,F,W){var n=x.canvas;if(n.width!=F||n.height!=W){n.width=F;n.height=W}};r.pa.wp=function(x,F,W,n,L,$){r.pa.Dv(x,F,W);
if($==null)$=!1;var l=L.channel,k=L.rect,V=!L.isEnabled;if(F*W==0)return;var i=x.createImageData(F,W),f=i.data,X=1/F,s=1/W;
for(var w=0;w<W;w++)for(var R=0;R<F;R++){var h=w*F+R,B=h*4,e=Math.round(n.x+R*X*n.m),U=Math.round(n.y+w*s*n.e),o=0;
if(e<k.x||e>=k.x+k.m||U<k.y||U>=k.y+k.e)o=L.color;else o=l[(U-k.y)*k.m+(e-k.x)];o=255*(255-L.q9)+o*L.q9>>>8;
if($)o=170+Math.round(.4*(o-170));f[B]=o;f[B+1]=o;f[B+2]=o;f[B+3]=255}x.putImageData(i,0,0);if(V)r.pa.azm(x,F,W)};
r.pa.arD=[];r.pa.aoa=function(x,F,W,n){var L,$,l;L=Math.ceil(Math.max(F,W)*.35);$=F-L;l=W-L;var k=r.pa.arD[L];
if(k==null){var V=r.bz(L,L);V.fillStyle="#eeeeee";V.fillRect(0,0,L,L);var i=Math.round(L*.27),f=V.lineWidth=Math.max(1,Math.round(L*.12)),X=f/2;
V.strokeRect(1+X,1+X,L-f-2,L-f-2);V.strokeRect(i+X,i+X,L-i-i-f,L-i-i-f);k=r.pa.arD[L]=V.getImageData(0,0,L,L)}x.putImageData(k,$,l)};
r.pa.ayb=[];r.pa.asn=function(x,F,W){var n,L,$;n=Math.ceil(Math.max(F,W)*.35);L=F-n;$=W-n;var l=r.pa.ayb[n];
if(l==null){var k=r.bz(n,n);k.fillStyle="#eeeeee";k.fillRect(0,0,n,n);k.lineWidth=1;k.strokeRect(2.5,2.5,n-5,n-5);
var V=k.createImageData(3,3);r.De(V.data,4278190080);V.data[4*4]=V.data[4*4+1]=V.data[4*4+2]=238;k.putImageData(V,1,1);
k.putImageData(V,n-4,1);k.putImageData(V,1,n-4);k.putImageData(V,n-4,n-4);l=r.pa.ayb[n]=k.getImageData(0,0,n,n)}x.putImageData(l,L,$)};
r.pa.at$=function(x,F,W,n,L){r.pa.Dv(x,F,W);var $=F/n.m;if(F*W==0)return;x.fillStyle="#999999";x.setTransform(1,0,0,1,0,0);
x.clearRect(0,0,F,W);var l=r.pa.Ry;if(l==null)l=r.pa.Ry=eC.pr.Iz(!0,!0);l.strokeStyleLineWidth.v.val=1/$;
x.fillStyle="#ffffff";x.scale($,$);r.j.Kv(L.$,x,0,0);r.j.Kv(L.$,x,0,0,l)};r.pa.aqe=null;r.pa.Ep=function(x,F,W,n,L,$,l,k,V){r.pa.Dv(x,F,W);
if(F*W==0)return;var i=Math.max(F,W),f=r.pa.aqe;if(f==null||f.width<i||f.height<i){r.pa.aqe=f=x.createImageData(i,i)}i=f.width;
var X=f.data,s=n.m/F,R=n.e/W,h=$.x,B=$.x+$.m,e=$.y,U=$.y+$.e;for(var w=0;w<W;w++)for(var o=0;o<F;o++){var b=w*i+o,u=b*4,Z=~~(n.x+o*s),I=~~(n.y+w*R),y=r.axn(w,o,2);
if(Z<h||Z>=B||I<e||I>=U||V){X[u]=y;X[u+1]=y;X[u+2]=y;X[u+3]=255}else{var D=(I-$.y)*$.m+(Z-$.x)<<2,N=L[D+3]*(1/255);
X[u]=L[D+0]*N+y*(1-N);X[u+1]=L[D+1]*N+y*(1-N);X[u+2]=L[D+2]*N+y*(1-N);X[u+3]=255}}if(k!=null)for(var w=0;
w<X.length;w+=4)X[w]=X[w+1]=X[w+2]=X[w+k];x.putImageData(f,0,0);if(l)r.pa.azm(x,F,W)};r.pa.arT=function(x,F,W,n){r.pa.Dv(x,F,W);
x.fillStyle=r.pa.z$(n.Clr.v);x.fillRect(0,0,F,W);r.pa.um(x,F,W)};r.pa.a2v=null;r.pa.a1F=function(x,F,W,n){r.pa.Dv(x,F,W);
var L=x.canvas.width,$=x.canvas.height,l=r.pa.a2v;if(l==null||l.width!=L||l.height!=$){x.fillStyle="#ffffff";
x.fillRect(0,0,F,W);x.fillStyle="#000000";x.font=""+W*.7+"px serif";x.fillText("T",(F-W*.43)/2,W*.75);
x.fillText("T",(F-W*.43)/2,W*.75);r.pa.a2v=x.getImageData(0,0,L,$)}else x.putImageData(l,0,0)};r.pa.anB=function(x,F,W){r.pa.Dv(x,F,W);
x.clearRect(0,0,F,W);x.font=W*.7+"px serif";x.fillText(":(",(F-W*.43)/2,W*.7)};r.pa.aux=function(x,F,W,n){r.pa.Dv(x,F,W);
var L=a3.get(n),$=x.canvas.width,l=r.pa.aas[$+L];if(l==null){var k=PIMG["adj/"+L],V=jW.jm(k),i=UPNG.decode(V.buffer),f=new Uint8Array(UPNG.toRGBA8(i)[0]),X=new eu(0,0,160,160),s=0,R=$-s*2,h=O.Y.f$([f,X],new iJ(R/160,0,0,R/160,0,0)),B=new eu(0,0,$,$),e=r.R(B.P()*4);
r.l.X3("norm",h.buffer,h.rect,e,B,h.rect,1);l=r.pa.aas[$+L]=new ImageData(new Uint8ClampedArray(e.buffer),$,$)}x.putImageData(l,0,0)};
r.pa.aas={};r.pa.ao7=function(x,F,W,n){r.pa.Dv(x,F,W);var L=x.canvas.width,$=x.canvas.height,l=x.getImageData(0,0,L,$);
r.I.wL(n.Grad.v,new Uint8Array(l.data.buffer),new eu(0,0,L,$),[1/L,0,0,1/$],L/2,$/2,!1,0,16711680,65280);
x.putImageData(l,0,0);r.pa.um(x,F,W)};r.pa.avV=function(x,F,W,n,L){r.pa.Dv(x,F,W);var $=x,l=hM.Dk(n.Ptrn.v,L.add.Patt);
if(l==null)return;var k=l.aB[1];r.pa.Ep(x,F,W,k,l.aB[0],k,!1);r.pa.um($,F,W)};r.pa.azm=function(x,F,W){x.strokeStyle="#bb0000";
x.lineWidth=3;x.beginPath();x.moveTo(F*.15,W*.15);x.lineTo(F*.85,W*.85);x.moveTo(F*.85,W*.15);x.lineTo(F*.15,W*.85);
x.closePath();x.stroke()};r.pa.um=function(x,F,W){x.fillStyle="#eeeeee";x.fillRect(0,W*.75,F,W*.25);
x.beginPath();x.moveTo(0,W*.75);x.lineTo(F,W*.75);x.moveTo(F*.1,W*.875);x.lineTo(F*.9,W*.875);x.moveTo(F*.65,W*.825);
x.lineTo(F*.65,W*.95);x.closePath();x.stroke()};r.pa.z$=function(x){var F=r.I.z$(x),W=Math.round(F.o)<<16|Math.round(F.r)<<8|Math.round(F.z);
return"#"+r.mZ(W)};r.j={};r.j.ja=function(x,F,W){var n=[],L=-1;for(var w=0;w<x.length;w++){var $=x[w];
if(($.type==0||$.type==3)&&$.eb!=-1)L++;if($.type>5||$.type==0||$.type==3)continue;if(F!=null&&F.indexOf(L)==-1)continue;
if(W!=null&&W.indexOf(w)==-1)continue;n.push($.Xs.x);n.push($.Xs.y);n.push($.L.x);n.push($.L.y);n.push($.vf.x);
n.push($.vf.y)}return n};r.j.aP=function(x,F,W,n){var L=0,$=-1;for(var w=0;w<F.length;w++){var l=F[w];
if((l.type==0||l.type==3)&&l.eb!=-1)$++;if(l.type>5||l.type==0||l.type==3)continue;if(W!=null&&W.indexOf($)==-1)continue;
if(n!=null&&n.indexOf(w)==-1)continue;l.Xs.xz(x[L],x[L+1]);l.L.xz(x[L+2],x[L+3]);l.vf.xz(x[L+4],x[L+5]);
L+=6}};r.j.js=function(x,F,W,n){var L=r.j.ja(x,W,n);r.Z.i(L,F,L);r.j.aP(L,x,W,n)};r.j.ade=function(x,F,W,n){var L=r.j.ja(x,W,n);
r.D.i(F,L);r.j.aP(L,x,W,n)};r.j.awt=function(x,F,W,n){if(n==null){var L=r.j.alG(x,40,W);for(var w=0;
w<L.length;w++)x[w]=L[w]}var $=r.j.ja(x,W,n);r.AH.i(F,$,r.Z.KR($));r.j.aP($,x,W,n)};r.j.alG=function(x,F,W){var n=[],L=-1;
for(var w=0;w<x.length;w++){var $=x[w],l=$.length;if($.type>5){n.push(JSON.parse(JSON.stringify($)));
continue}$=JSON.parse(JSON.stringify($));n.push($);if($.eb!=-1)L++;if(W&&W.indexOf(L)==-1){n=n.concat(x.slice(w+1,w+1+l))}else{var k=r.j.adA(x,w+1,l);
k=r.Z.Hs(k,F);var V=r.j.a8w(k);$.length=V.length;for(var i=0;i<V.length;i++)n.push(V[i])}w+=l}return n};
r.j.adA=function(x,F,W){var n={G:["M"],p:[]},L=x[F],$=x[F+W-1];n.p.push(L.L.x,L.L.y);for(var w=1;w<W;
w++){var l=x[F+w-1],k=x[F+w];n.G.push("C");n.p.push(l.vf.x,l.vf.y,k.Xs.x,k.Xs.y,k.L.x,k.L.y)}n.G.push("C");
n.p.push($.vf.x,$.vf.y,L.Xs.x,L.Xs.y,L.L.x,L.L.y);return n};r.j.a8w=function(x){var F=[],W=x.G,n=x.p,L=0,dx=n.length;
F.push({type:2,Xs:new eX(n[dx-4],n[dx-3]),L:new eX(n[0],n[1]),vf:new eX(n[2],n[3])});for(var w=0;w<W.length-2;
w++){var $=w*6+4;F.push({type:2,Xs:new eX(n[$],n[$+1]),L:new eX(n[$+2],n[$+3]),vf:new eX(n[$+4],n[$+5])})}return F};
r.j.awb=function(x){for(var w=0;w<x.length;w++){if(x[w].type>5)continue;var F=x[w].length;if(!(F==4||F==6||F==8)){w+=F;
continue}for(var W=0;W<F;W++){var n=x[w+1+W],L=x[w+1+(W+1)%F],$=Math.min(n.L.x,L.L.x),l=Math.min(n.L.y,L.L.y),k=0,V=0;
if(n.L.x<L.L.x){k=n.L.y-l;V=k-(L.L.x-$)}else{k=L.L.y-l;V=k-(n.L.x-$)}if(Math.abs(V)<.2*k)return k}}return-1};
r.j.Bd=function(x,F,W){function n(s,R){var h=Math.min(s.x,R.x),B=Math.min(s.y,R.y),e=Math.max(s.x+s.m,R.x+R.m),U=Math.max(s.y+s.e,R.y+R.e);
return new eu(h,B,e-h,U-B)}var L=null,$=-1,l=!r.j._a(x);for(var w=0;w<x.length;w++){var k=x[w];if(k.type>5)continue;
if((k.type==0||k.type==3)&&k.eb!=-1)$++;if(F!=null&&F.indexOf($)==-1)continue;if(w==x.length-1)break;
var V=k.type==3,i=k.length,f=k.eb,X=r.j.D3(x,w+1,i,V);if(L==null)L=X;else if(W)L=n(L,X);else if(l){if(F!=null||f==0||f==-1||f==2)L=n(L,X);
else if(f==1)L=L;else if(f==3){L=X;l=!1}}else{if(F!=null||f==0||f==-1||f==1)L=n(L,X);else if(f==2)L=L;
else if(f==3)L=L.jB(X)}w+=i}if(L==null||L.m<0||L.e<0)L=new eu(0,0,0,0);return L};r.j.a7g=new Float64Array(4);
r.j.D3=function(x,w,F,W){var n=r.j.a7g;n[0]=1e30;n[1]=1e30;n[2]=-1e30;n[3]=-1e30;var L=x[w+F-1];if(!W)r.j.a17(L.L.x,L.L.y,L.vf.x,L.vf.y,x[w].Xs.x,x[w].Xs.y,x[w].L.x,x[w].L.y,n);
for(var $=w;$<w+F-1;$++){var l=x[$],k=x[$+1];r.j.a17(l.L.x,l.L.y,l.vf.x,l.vf.y,k.Xs.x,k.Xs.y,k.L.x,k.L.y,n)}return new eu(n[0],n[1],n[2]-n[0],n[3]-n[1])};
r.j.a17=function(x,F,W,n,L,$,l,k,V){if(x==W&&F==n&&L==l&&$==k){V[0]=Math.min(V[0],Math.min(x,l));V[1]=Math.min(V[1],Math.min(F,k));
V[2]=Math.max(V[2],Math.max(x,l));V[3]=Math.max(V[3],Math.max(F,k));return}var i=x,f=F,X=x,s=F,R=40,h=1/(R-1);
for(var B=0;B<R;B++){var e=B*h,U=1-e,o=U*U*U,b=3*U*U*e,u=3*U*e*e,Z=e*e*e,I=o*x+b*W+u*L+Z*l,y=o*F+b*n+u*$+Z*k;
if(I<i)i=I;else if(I>X)X=I;if(y<f)f=y;else if(y>s)s=y}if(i<V[0])V[0]=i;if(f<V[1])V[1]=f;if(X>V[2])V[2]=X;
if(s>V[3])V[3]=s};r.j.aC8=function(x,F){var W=x.length-3,n=F%W,L=Math.floor(n);if(F<0||L>=W)return null;
var $=x[3+L],l=x[3+(L+1)%W],k=$.L,V=$.vf,i=l.Xs,f=l.L,X=n-L,s=1-X,R=s*s*s*k.x+3*s*s*X*V.x+3*s*X*X*i.x+X*X*X*f.x,h=s*s*s*k.y+3*s*s*X*V.y+3*s*X*X*i.y+X*X*X*f.y;
return new eX(R,h)};r.j.lp=function(x,F){var W=r.Z.vA(x),n=W.g$;W.g$=Typr.U.pathToSVG({crds:n.p,cmds:n.G},F==null?2:F);
return W};r.j.Tp=function(x){r.j.qc();var F,W=r.j.EG(x),n=[];for(var w=0;w<W.length;w++){var L=W[w][0],$=W[w][1];
if(Math.abs(L.area)<1e-5)n.push(L);else if(F==null)F=L;else{if(!L.closed)L.closed=!0;F=F[$](L);F.remove()}}if(F==null)F=new paper.CompoundPath(n);
else{if(F.segments)F=new paper.CompoundPath(F);for(var w=0;w<n.length;w++){F.addChild(n[w])}}var l=x.slice(0,2);
l=l.concat(r.j.dD(F));r.j.ZV(W);r.j.ZV([[F]]);if(l[2])l[2].eb=1;for(var w=3;w<l.length;w++)if(l[w].eb!=null)l[w].eb=-1;
return l};r.j.qc=function(){if(r.j.aCR==null){var x=document.createElement("canvas");paper.setup(x);
r.j.aCR=!0}};r.j.al0=function(x,F){r.j.qc();var W=[],n=r.j.EG(x),L=new paper.Path.Rectangle(new paper.Rectangle(F.x,F.y,F.m,F.e));
L.remove();L.fillColor=new paper.Color(1,0,0);for(var w=0;w<n.length;w++){if(L.intersects(n[w][0])||L.contains(n[w][0].children[0].segments[0].point))W.push(w)}r.j.ZV(n);
return W};r.j.VY=function(x,F,W,n){r.j.qc();var L=W?{curves:!0,tolerance:n}:null,$=new paper.Point(F.x,F.y),l=r.j.EG(x);
r.j.ZV(l);for(var w=l.length-1;w>=0;w--){var k=l[w][0],V=k.hitTest($,L);if(V!=null)return{Fp:w,ln:W?V.location.index:null,_b:W?V.location.time:0}}return{Fp:-1}};
r.j.JJ=function(x,F,W,n){var L=[[],[],[]];for(var w=0;w<x.length;w++){var $=x[w];if($.type>5||$.type==0||$.type==3)continue;
var l=F.U4($.L),k=F.U4($.Xs),V=F.U4($.vf);if(W&&W.indexOf(w)==-1){if(n){if(W.indexOf(w-1)==-1)k=!1;if(W.indexOf(w+1)==-1)V=!1}else k=V=!1}if(l)L[0].push(w);
if(k)L[1].push(w);if(V)L[2].push(w)}L[3]=L[0].length+L[1].length+L[2].length;return L};r.j.a5O=function(x,F,W){var n=x[F];
for(var L=F+1;L<W;L++)x[L-1]=x[L];x[W-1]=n};r.j.ae4=function(x,F,W,n){var w,L,$,l=0;x=x.slice(0);F.sort(function(h,B){return h-B});
$=-1;for(w=2;w<x.length;){var k=x[w],V=k.length;if(k.eb!=-1)$++;var i=l;while(i<F.length&&F[i]<w+1+V)i++;
if(l!=i){var f=F.slice(l,i);l=i;for(L=0;L<V;L++)if(f.indexOf(w+1+L)!=-1)x[w+1+L]=null;if(k.type==0){var X=f[0]-(w+1);
while(X!=0){r.j.a5O(x,w+1,w+1+V);X--}}var s=k;s.length=0;L=0;while(L<V&&x[w+1+L]==null)L++;while(L<V){var R=x[w+1+L];
if(R!=null)s.length++;else if(L<V+1&&x[w+1+L+1]&&n){s=x[w+1+L]={type:0,eb:-1,length:0,qO:0,BF:0,FN:1}}L++}if(n)for(L=-1;
L<V;L++)if(x[w+1+L]&&x[w+1+L].type<3)x[w+1+L].type+=3;r.mq.Ef(W,$)}w+=1+V}for(w=0;w<x.length;w++)if(x[w]==null){x.splice(w,1);
w--}$=0;for(w=2;w<x.length;w++){var k=x[w];if(k.length==0){if(x[w+1]&&x[w+1].eb==-1)x[w+1].eb=k.eb;else if(k.eb!=-1)W.splice($,1);
x.splice(w,1);w--}else if(k.length!=null&&k.eb!=-1)$++}return x};r.j.aoU=function(x,F){var W=x.slice(0,2),n=-1;
for(var w=2;w<x.length;w++){if((x[w].type==0||x[w].type==3)&&x[w].eb!=-1)n++;if(F.indexOf(n)==-1)W.push(x[w])}return W};
r.j.a5a=function(x,F){var W=x.slice(0,2),n=-1;for(var w=2;w<x.length;w++){if((x[w].type==0||x[w].type==3)&&x[w].eb!=-1)n++;
if(F.indexOf(n)!=-1)W.push(x[w])}return W};r.j.a1M=function(x){var F=0;for(var w=0;w<x.length;w++)if(x[w].type==0||x[w].type==3)F=w;
return x[F]};r.j.tn=function(x){var F=-1;for(var w=0;w<x.length;w++)if((x[w].type==0||x[w].type==3)&&x[w].eb!=-1)F++;
return F+1};r.j.Of=function(x,F,W){var n=-1;for(var w=0;w<x.length;w++)if((x[w].type==0||x[w].type==3)&&(W||x[w].eb!=-1)){n++;
if(n==F)return w}return-1};r.j.Qx=function(x,F,W){var n=-1;for(var w=0;w<x.length;w++)if((x[w].type==0||x[w].type==3)&&(W||x[w].eb!=-1)){if(w>=F)return n;
n++}return n};r.j.dy=function(x,F){var W=-1,n=0;for(var w=0;w<x.length;w++){if((x[w].type==0||x[w].type==3)&&x[w].eb!=-1)W++;
if(W==F)n++}return n};r.j.atd=function(x){var F=180;for(var w=0;w<x.length;w++){if(x[w].type!=0&&x[w].type!=3)continue;
var W=x[w].length;if(W<3)continue;for(var n=0;n<W;n++){var L=x[w+1+(n-1+W)%W],$=x[w+1+n],l=x[w+1+(n+1)%W],k=$.L,V=$.Xs.rr(k)?L.vf:$.Xs,i=$.vf.rr(k)?l.Xs:$.vf;
if(k.rr(V)||k.rr(i))continue;var f=V.x-k.x,X=V.y-k.y,s=i.x-k.x,R=i.y-k.y,V=Math.atan2(V.y-k.y,V.x-k.x)*180/Math.PI,i=Math.atan2(i.y-k.y,i.x-k.x)*180/Math.PI,h=Math.abs(i-V)%360,B=h>180?360-h:h;
if(B<F)F=B}}return F*Math.PI/180};r.j.dD=function(x){var F=x.segments?[x]:x.children,W=[];for(var w=0;
w<F.length;w++){var n=F[w],L=n.segments,$=n.closed?0:3,l=W.length,k=null;if(L.length<=1)continue;W.push({type:$,length:L.length,eb:0,FN:2});
for(var V=0;V<L.length;V++){var i=L[V],f=new eX(i.handleIn.x,i.handleIn.y),X=new eX(i.handleOut.x,i.handleOut.y),s=new eX(i.point.x,i.point.y),R={type:$+1,Xs:s.add(f),L:s,vf:s.add(X)};
if(k==null)k=R;W.push(R);if(V+1==L.length&&eX.I9(k.L,R.L)<1e-5){W.pop();W[l].length--;k.Xs=R.Xs;if($==3)for(var h=l;
h<W.length;h++)W[h].type-=3}}}return W};r.j.EG=function(x){r.j.qc();var F=[],W,n=new paper.Color(1,0,0);
function L(R,k){R.remove();R.closed=!k;R.fillRule="evenodd"}for(var w=0;w<x.length;w++){if(x[w].type>5)continue;
var $=x[w].length,l;if(w==x.length-1)break;var k=x[w].type==3;if(w==2){if(!r.j.Km(x))l="subtract";else l="unite"}else{if(x[w].eb==0)l="exclude";
if(x[w].eb==1)l="unite";if(x[w].eb==2)l="subtract";if(x[w].eb==3)l="intersect"}if(x[w].eb!=-1){W=new paper.CompoundPath;
F.push([W,l]);W.fillRule="evenodd";W.fillColor=n}var V=[];for(var i=0;i<$;i++){var f=x[w+1+i],X=f.Xs.ZC(f.L),s=f.vf.ZC(f.L);
V.push([[f.L.x,f.L.y],[X.x,X.y],[s.x,s.y]])}var R=new paper.Path(V);L(R,k);W.addChild(R);w+=$}return F};
r.j.ZV=function(x){for(var w=0;w<x.length;w++)x[w][0].remove()};r.j.y$=function(x){for(var w=0;w<x.length;
w++){var F=x[w];if(F.L==null)continue;if(!F.L.rr(F.Xs)||!F.L.rr(F.vf))return!1}return!0};r.j.ahl=function(x){if(x.length<=5)return 0;
var F=0,W=x.length-3-1;for(var w=0;w<W;w++){var n=x[3+w],L=x[3+w+1];if(n.type==0||L.type==0)return 0;
F+=(L.L.x-n.L.x)*(n.L.y+L.L.y)}F+=(x[3].L.x-x[3+W].L.x)*(x[3+W].L.y+x[3+1].L.y);return-F*.5};r.j._a=function(x){var F=x[2],W=!1;
if(x.length==2)W=x[1].all==0;else if(x[1].all==1){if(F.eb==1||F.eb==3)W=!0;else W=!1}else{if(F.eb==1||F.eb==3||F.eb==0)W=!0;
else W=!1}return W};r.j.Km=function(x){var F=r.j._a(x);for(var w=3;w<x.length;w++)if(x[w].eb==3)F=!0;
return F};r.j.aBb=0;r.j.aBQ=0;r.j.akm=0;r.j.aab=function(x,F,W,n){if(W.ak())return;var L=W.P(),U=16384;
r.j.aBb+=L;if(L>r.j.aBQ){r.j.aBQ=L}var $=W.m,l=W.e;if(n==null&&r.j.y$(x)&&x[2]&&x[2].eb!=2){var k=!0;
for(var w=2;w<x.length;)if(x[w].length==2)w+=3;else{k=!1;break}if(k){return}if(r.j.Pk(x)){F.fill(255);
var V=r.j.Bd(x);if(V.P()!=L){var i=1-(V.x-W.x),f=1-(V.y-W.y),X=1-(W.x+W.m-(V.x+V.m)),s=1-(W.y+W.e-(V.y+V.e)),R=~~(i*255),h=~~(X*255),B=~~(f*255),e=~~(s*255);
F.fill(B,0,$);F[0]=~~(i*f*255);F[$-1]=~~(X*f*255);for(var w=$;w<L;w+=$){F[w]=R;F[w+$-1]=h}F.fill(e,(l-1)*$,l*$);
F[L-$]=~~(i*s*255);F[L-1]=~~(X*s*255)}return}}var o=Math.ceil($/U),b=Math.ceil(l/U),u=Math.ceil($/o),Z=Math.ceil(l/b),I=Date.now();
for(var y=0;y<b;y++)for(var D=0;D<o;D++){var N=D*u,j=y*Z,H=u,Q=Z,C=r.bz(H,Q);if(!r.j._a(x))C.fillRect(0,0,H,Q);
r.j.Kv(x,C,-W.x-N,-W.y-j,n);var J=new Uint8Array(C.getImageData(0,0,H,Q).data.buffer);if(H==$&&Q==l)r.Tb(J,F,3);
else r.uM(J,new eu(N,j,H,Q),F,new eu(0,0,$,l))}};r.j.adb=function(x){var F=!1,W=!1,n=0,L=!1;for(var w=0;
w<x.length;w++){var $=x[w].eb;if($!=null){n++;if($==-1)F=!0;if($==1||$==2||$==3)W=!0;if(x[w].type==0)L=!0}}if(!F&&n<20&&L&&W)x=r.j.Tp(x);
return x};r.j.Kv=function(x,F,W,n,L,$){if(L!=null){x=r.j.adb(x)}for(var w=0;w<x.length;w++){if(x[w].type>5)continue;
var l=x[w].length;if(l==0)continue;if(w==x.length-1)break;var k=x[w].type==3,V=x[w].eb;if(V!=-1&&L==null){var i=["xor","source-over","destination-out","source-in"][V];
F.globalCompositeOperation=i}if(x[w].eb!=-1){F.beginPath();if(L)r.j.QE(eC.pr.P6(L,null,1),F)}r.j.aAV(F,x,w+1,l,W,n,k);
if(k){}else F.closePath();if(x[w+1+l]==null||x[w+1+l].eb!=-1){if(L){if($)F.clip();F.stroke()}else F.fill(V==-1?"nonzero":"evenodd")}w+=l}F.globalCompositeOperation="source-over";
F.setLineDash([])};r.j.QE=function(x,F){var W=x.lwidth;F.setLineDash(x.dash);F.lineCap=["butt","round","square"][x.lcap];
F.lineJoin=["miter","round","bevel"][x.ljoin];F.lineWidth=x.sal==1?W:W*2;F.miterLimit=x.mlimit};r.j.aAV=function(x,F,w,W,n,L,$){var l=F[w],k=null;
x.moveTo(l.L.x+n,l.L.y+L);for(var V=w;V<w+W-1;V++){l=F[V];k=F[V+1];x.bezierCurveTo(l.vf.x+n,l.vf.y+L,k.Xs.x+n,k.Xs.y+L,k.L.x+n,k.L.y+L)}if(!$){l=F[V];
k=F[w];x.bezierCurveTo(l.vf.x+n,l.vf.y+L,k.Xs.x+n,k.Xs.y+L,k.L.x+n,k.L.y+L)}};r.j.aqQ=function(x,F){var W=[],n=F?4:1;
for(var w=0;w<x.length;w+=2){var L=new eX(x[w],x[w+1]);W.push({type:n,Xs:L.clone(),L:L.clone(),vf:L.clone()})}return W};
r.j.asQ=function(x,F,W){var n=(1-(W!=null?W:25)*.01)*10;if(n>0){for(var w=0;w<F.length;w++){var L=F[w],$=r.j.Of(x,L),l=r.j.dy(x,L),k=x.slice($,$+l);
r.j.qc();var V=new paper.Path;V.remove();V.closed=!0;for(var i=1;i<k.length;i++)V.add(new paper.Point(k[i].L.x,k[i].L.y));
var f=V.simplify(n);if(f)x.splice($,l,...r.j.dD(V))}}return x};r.j.vJ=function(x,F,W){var n=r.Z.KR(x),L=Math.sqrt(Math.sqrt(n.P()))*.2,$=.2;
x=x.slice(0);var l=x.length,k=F?0:2;for(var V=0;V<5;V++)for(var w=k;w<x.length-k;w+=2){var i=(w-2+l)%l,f=(w+2)%l,X=x[w],s=x[w+1],R=(x[i]+x[f])*.5,h=(x[i+1]+x[f+1])*.5;
x[w]=X+(R-X)*$;x[w+1]=s+(h-s)*$}if(W)return r.j.sk.fA(x,null,!F);r.j.qc();var B=new paper.Path;B.remove();
B.closed=F;for(var w=0;w<x.length;w+=2)B.add(new paper.Point(x[w],x[w+1]));B.simplify(L);var e=[{type:6},{type:8,all:0}];
e=e.concat(r.j.dD(B));return e};r.j.DA=function(x,F,W){var n=x[F].length,L=x[F].type,$=0,l=x.slice(F+1,F+1+n);
for(var w=0;w<n;w++){var k=W[(w-1+n)%n],V=W[(w+1+n)%n],i=W[w];if(i!=0){var f=l[(w-1+n)%n].L,X=l[(w+0+n)%n].L,s=l[(w+1+n)%n].L,R=eX.I9(X,f),h=eX.I9(X,s),B=r.Z.aCM(f.x,f.y,X.x,X.y,s.x,s.y,i)[0],e=Math.min(B,k==0?R:R/2,V==0?h:h/2);
i*=e/B;var U=r.Z.aiE(f.x,f.y,X.x,X.y,s.x,s.y,i),o={type:L+1,Xs:new eX(U[2],U[3]),L:new eX(U[2],U[3]),vf:new eX(U[4],U[5])},b={type:L+1,Xs:new eX(U[6],U[7]),L:new eX(U[8],U[9]),vf:new eX(U[8],U[9])};
x.splice(F+$+1,1,o,b);$++;x[F].length++}$++}};r.j.y$=function(x){for(var w=0;w<x.length;w++){var F=x[w],W=F.type;
if(W==1||W==2||W==4||W==5)if(!F.L.rr(F.Xs)||!F.L.rr(F.vf))return!1}return!0};r.j.Pk=function(x){if(x.length!=7||x[2].length!=4||!r.j.y$(x))return!1;
for(var w=0;w<4;w++){var F=!0;for(var W=0;W<4;W++){var n=x[3+(w+W&3)],L=x[3+(w+W+1&3)];if(n.L.x!=L.L.x&&n.L.y!=L.L.y)F=!1}if(F)return!0}return!1};
r.j.a5e=function(x){if(x.length<6)return 0;var F=x.length-2,W=0;for(var w=0;w<F;w+=2)W+=(x[w+2]-x[w])*(x[w+1]+x[w+3]);
W+=(x[0]-x[F])*(x[F+1]+x[1]);return-W*.5};r.j.aC_=function(x){x=t.C$.uF(x);var F=r.j.tn(x);for(var W=0;
W<F;W++){var n=r.j.Of(x,W)+1,L=x[n-1].length,$=[];for(var w=0;w<L;w++){var l=x[n+w].L;$.push(l.x,l.y)}var k=r.j.a5e($);
if(k<0)r.j.a8B(x,n-1)}return x};r.j.a8B=function(x,F){var W=F+1,n=x[F].length,L=[];for(var w=0;w<n;w++){var $=x[W+w],l=$.Xs;
$.Xs=$.vf;$.vf=l;L.push($)}for(var w=0;w<n;w++)x[W+w]=L[n-1-w]};r.j.sk={};r.j.sk.fA=function(x,F,W){var n=[{type:6},{type:8,all:0}],L=null;
n.push({type:W?3:0,eb:1,length:0,qO:0,BF:0,FN:1});if(F==0||F==null)L=null;else if(F instanceof Array)L=F;
else{L=[];for(var w=0;w<x.length;w+=2)L.push(F)}n=n.concat(r.j.aqQ(x,W));n[2].length=n.length-3;if(L)r.j.DA(n,2,L);
return n};r.j.sk.ac9=function(x,F,W,n,L){var $=[],l=[],k=.553,V=1,i=-1;$.push({type:1,Xs:new eX(0,k),L:new eX(0,0),vf:new eX(0,-k)});
L+=2;for(var w=0;w<L;w++){var f={type:1};if(w==0){f.L=new eX(1,-1);f.Xs=new eX(1-k,-1);f.vf=new eX(1+k,-1)}else{var X=-(w+2)*Math.PI/2,s=1+((w&1)==1?w-1:w),R=Math.sin(X),h=Math.cos(X);
V+=s*(R-h);i+=s*(h+R);f.L=new eX(V,i);f.Xs=new eX(V+s*h*k,i-s*R*k);if((w&1)==1)s+=2;f.vf=new eX(V-s*h*k,i+s*R*k)}var B={type:1,Xs:new eX(-f.vf.x,-f.vf.y),L:new eX(-f.L.x,-f.L.y),vf:new eX(-f.Xs.x,-f.Xs.y)};
$.push(f);if(w<L-2)l.push(B)}l.reverse();$=$.concat(l);var e=[{type:6},{type:8,all:0}];e.push({type:0,eb:1,length:$.length,qO:0,BF:0,FN:1});
e=e.concat($);var U=new iJ(W/L,0,0,W/L,0,0);U.rotate(n);U.translate(x,F);r.j.js(e,U);return e};r.j.sk.Rect=function(x,F,W,n,L){var $=[x,F,x+W,F,x+W,F+n,x,F+n];
return r.j.sk.fA($,L)};r.j.sk.UU=function(x,F,W,n,L,$,l,k){var V=[],i=2*Math.PI/L;for(var w=0;w<L;w++)V.push(Math.cos(w*i-n),Math.sin(w*i-n));
if(l!=null){var f=r.Z.KR(V),X=f.m,s=f.e,R=l/(X/2),h=k/(s/2);for(var w=0;w<V.length;w+=2){V[w]=(V[w]-(f.x+X/2))*R;
V[w+1]=(V[w+1]-(f.y+s/2))*h}W=1}var B=new iJ(W,0,0,W,0,0);B.translate(x,F);r.Z.i(V,B,V);return r.j.sk.fA(V,$)};
r.j.sk.anT=function(x,F,W,n,L,$,l){var k=[],V=Math.PI/L;for(var w=0;w<L*2;w++){var i=(w&1)==0?1:l;k.push(i*Math.cos(w*V),i*Math.sin(w*V))}var f=new iJ(W,0,0,W,0,0);
f.rotate(n);f.translate(x,F);r.Z.i(k,f,k);return r.j.sk.fA(k,$)};r.j.sk.iu=function(x,F,W,n,L){return r.j.sk.gb(0,x,F,W,n,L)};
r.j.sk.ap3=function(x,F,W,n,L,$){return r.j.sk.gb(1,x,F,W,n,L,$)};r.j.sk.gZ=function(x,F,W,n,L,$){return r.j.sk.gb(2,x,F,W,n,L,$)};
r.j.sk.gb=function(x,F,W,n,L,$,l){var k=Math.sqrt((n-F)*(n-F)+(L-W)*(L-W)),V;$/=2;if(x==0)V=[-$,0,$,0,$,k,-$,k];
if(x==1){var i=$*2*l*1.3/1.5,f=$*l;V=[-$,0,$,0,$,k-i,f,k-i,0,k,-f,k-i,-$,k-i]}if(x==2){var i=l[3],f=l[2]/2,X=i*(2/3)*l[4]/100,s=i-X,R=i;
V=[];if(l[0])V.push(-$,s,-f,R,0,0,f,R,$,s);else V.push(-$,0,$,0);if(l[1])V.push($,k-s,f,k-R,0,k,-f,k-R,-$,k-s);
else V.push($,k,-$,k)}var h=new iJ(1,0,0,1,0,0);h.rotate(Math.atan2(-L+W,n-F)+Math.PI/2);h.translate(F,W);
r.Z.i(V,h,V);return r.j.sk.fA(V,0)};r.j.sk.Dd=function(x,F,W,n){var L=[{type:6},{type:8,all:0}],X=.553;
L.push({type:0,eb:1,length:4,qO:0,BF:0,FN:1});var $=x,l=F,k=x+W,V=F+n,x=($+k)/2,F=(l+V)/2,i=($-k)/2,f=(l-V)/2;
L.push({type:1,Xs:new eX(x-X*i,F-f),L:new eX(x,F-f),vf:new eX(x+X*i,F-f)});L.push({type:1,Xs:new eX(x+i,F-X*f),L:new eX(x+i,F),vf:new eX(x+i,F+X*f)});
L.push({type:1,Xs:new eX(x+X*i,F+f),L:new eX(x,F+f),vf:new eX(x-X*i,F+f)});L.push({type:1,Xs:new eX(x-i,F+X*f),L:new eX(x-i,F),vf:new eX(x-i,F-X*f)});
return L};r.j.sk.a4m=function(x,F,W,n,L){var $=[{type:6},{type:8,all:0}];$.push({type:3,eb:1,length:5,qO:0,BF:0,FN:1});
var l=(L-n)/4;for(var w=0;w<5;w++){var k=w*l,V=Math.cos(k),i=Math.sin(k),f=.553*(l/(Math.PI/2)),X=i*f,s=-V*f,R=new eX(V,i);
$.push({type:4,Xs:w==0?R.clone():new eX(V+X,i+s),L:R,vf:w==4?R.clone():new eX(V-X,i-s)})}var h=new iJ;
h.rotate(-n);h.scale(W,W);h.translate(x,F);r.j.js($,h);return $};r.xP={};r.xP.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
r.xP.a7B={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
r.xP.oK=function(x){var F=x.warpStyle.v.warpStyle;if(F=="warpNone")return!0;else if(F=="warpCylinder")return!1;
else if(F=="warpCustom"){var W=!1,n=r.xP.a9M(x);for(var w=0;w<4;w++)for(var L=0;L<4;L++){var $=n[w*2]-n[(L*4+w)*2],l=n[w*4*2+1]-n[(w*4+L)*2+1];
if($*$>1||l*l>1)W=!0}return!W}else return x.warpValue.v==0&&x.warpPerspective.v==0&&x.warpPerspectiveOther.v==0};
r.xP.a6Z=function(x){var F=JSON.parse(JSON.stringify(x));F.v.classID="quiltWarp";F.v.deformNumRows={t:"long",v:4};
F.v.deformNumCols={t:"long",v:4};if(F.v.customEnvelopeWarp)r.xP.atx(F.v,[[0,1],[0,1]]);return F};r.xP.aA0=function(x){var F;
if(r.xP.hh(x.v)==16)F=JSON.parse(JSON.stringify(x));else F={t:"Objc",v:r.xP.R(r.xP.oU(x.v))};F.v.classID="warp";
delete F.v.deformNumRows;delete F.v.deformNumCols;var W=F.v.customEnvelopeWarp;if(W){delete W.v.quiltSliceX;
delete W.v.quiltSliceY}return F};r.xP.hh=function(x){return x.deformNumRows.v*x.deformNumCols.v};r.xP.R=function(x){var F={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(x){F.classID="quiltWarp";F.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:x.y}},Left:{t:"UntF",v:{type:"#Pxl",val:x.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:x.y+x.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:x.x+x.m}}}};
F.uOrder={t:"long",v:4};F.vOrder={t:"long",v:4};F.deformNumRows={t:"long",v:4};F.deformNumCols={t:"long",v:4}}return F};
r.xP.ahk=function(x,F,W){for(var w=0;w<x.length;w+=2){var n=x[w],L=x[w+1],$=(1-F)/2,l=1-$,k=$+n*(l-$);
L=.5+(L-.5)*k*2;var V=(1-W)/2,i=1-V,f=V+L*(i-V);n=.5+(n-.5)*f*2;x[w]=n;x[w+1]=L}};r.xP.WG=function(x,F){return{id:x,type:"UnFl",uID:"#Pxl",arr:F}};
r.xP.atx=function(x,F){var W=r.xP.oU(x);function n($,l){$=$.slice(0);var k=$.length,w;for(w=0;w<k;w++)$[w]*=l;
$[0]-=.6;$[k-1]+=.6;return $}var L=x.customEnvelopeWarp.v;L.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[r.xP.WG("quiltSliceX",n(F[0],W.m))]}};
L.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[r.xP.WG("quiltSliceY",n(F[1],W.e))]}}};r.xP.afj=function(x){var F=r.xP.oU(x);
function W(l,k){l=l.slice(0);var $=l.length,w,V=1e9,i=-V;for(w=0;w<$;w++){if(l[w]<V)V=l[w];if(l[w]>i)i=l[w]}for(w=0;
w<$;w++)l[w]=(l[w]-V)/(i-V);l[0]=0;l[$-1]=1;return l}var n=x.customEnvelopeWarp.v,L=[],$=["X","Y"];for(var w=0;
w<2;w++)L.push(W(n["quiltSlice"+(w==0?"X":"Y")].v.arr[0].arr.slice(0),w==0?F.m:F.e));return L};r.xP.alC=function(x,F){var W=[],n=[];
for(var w=0;w<F.length;w+=2){W.push(F[w]);n.push(F[w+1])}x.customEnvelopeWarp.v.meshPoints.v.arr=[r.xP.WG("Hrzn",W),r.xP.WG("Vrtc",n)]};
r.xP.a9M=function(x){var F=[],W=x.customEnvelopeWarp.v.meshPoints.v.arr,n=W[0].arr,L=W[1].arr;for(var w=0;
w<n.length;w++)F.push(n[w],L[w]);return F};r.xP.Bs=function(x,F){var W,n=x.warpStyle.v.warpStyle;if(n=="warpCustom")W=[x.deformNumCols.v,x.deformNumRows.v,r.xP.afj(x),r.xP.a9M(x)];
else{if(F==null)F=r.xP.oU(x);if(F.ak())F.m=F.e=1;if(n=="warpCylinder"){var L=O.Y.kT(x.warpValues);W=r.xP.xP(n,L)}else{var $="warpPerspective";
W=r.xP.xP(n,x.warpValue.v/100,x.warpRotate.v.Ornt=="Hrzn",x[$].v/100,x[$+"Other"].v/100,F.m/F.e)}r.xP.a8o(W[3],F)}return W};
r.xP.a8o=function(x,F){for(var w=0;w<x.length;w+=2){x[w]=F.x+x[w]*F.m;x[w+1]=F.y+x[w+1]*F.e}};r.xP.amT=function(x){var F=Math.sin(x*Math.PI/2),W=Math.pow(x,1/3.5),n=(1-x)*F+x*W;
n=Math.pow(n,1.045);var L=.1725+.0573*n,$=1-(.96*F+.04*W);$=Math.pow($,1.27);var l=1/129+(.167684-1/129)*$;
return[L,l]};r.xP.oz=function(x,F){x.warpStyle.v.warpStyle="warpCustom";x.deformNumCols.v=F[0];x.deformNumRows.v=F[1];
var W="customEnvelopeWarp";if(x[W]==null)x[W]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
r.xP.atx(x,F[2]);r.xP.alC(x,F[3])};r.xP.oU=function(x){var F=x.bounds.v,W=F.Left.v.val,n=F.Rght.v.val,L=F.Top.v.val,$=F.Btom.v.val;
if(W==null){W=F.Left.v,n=F.Rght.v;L=F.Top.v,$=F.Btom.v}return new eu(W,L,n-W,$-L)};r.xP.xP=function(x,F,W,n,L,$){if(x=="warpCylinder"){var l=F,k=l[0],V=l[1],i=l[2],f=l[3],X=l[4],s=l[5],R=l[6],h=[];
for(var B=0;B<4;B++)for(var e=0;e<13;e++)h.push(e/12,B/3);var U=i-k,o=V-f,b=X*.5*(U/o),u=s*.5*(U/o),Z=r.xP.amT(R),I=[0,0,0,0,0,Z[0],.5],y=[0,0,0,0,b*.42,b,b],D=[0,0,0,0,u*.42,u,u];
for(var B=0;B<4;B++)for(var e=0;e<7;e++){var w=B*13+e;h[w*2]=I[e];var N=y[e],j=1+D[e],H=B/3;h[w*2+1]=N*(1-H)+j*H}for(var B=0;
B<4;B++)for(var e=0;e<6;e++){var w=B*13+e,Q=B*13+12-e;h[Q*2]=1-h[w*2];h[Q*2+1]=h[w*2+1]}var H=Z[1];return[13,4,[[0,H,.5,1-H,1],[0,1]],h]}var C=r.AH.R(0,0,1,1);
if(x!="warpNone"){if(!W)$=1/$;r.xP.acu(C,x,F,n,L,$);var J=C.slice(0);if(!W)for(var B=0;B<4;B++)for(var e=0;
e<4;e++){C[(B*4+e)*2]=J[(e*4+B)*2+1];C[(B*4+e)*2+1]=J[(e*4+B)*2]}if(F==0)r.xP.ahk(C,n,L);else{var E=new iJ;
E.translate(-.5,-.5);r.Z.i(C,E,C);r.xP.apX(C,L,n);E.sx();r.Z.i(C,E,C)}}return[4,4,[[0,1],[0,1]],C]};
r.xP.acu=function(x,F,W,n,L,$){var l=new eu(0,0,$,1);for(var w=0;w<x.length;w+=2)x[w]*=$;for(var w=0;
w<4;w++){for(var k=0;k<4;k++){var V=2*(4*w+k),i=x[V]-l.x,f=x[V+1]-l.y,X=i,s=f;if(W!=0){var R=l.m/2,h=l.e/2;
X-=R;s-=h;var B=X,e=X,U=-h,o=h,b=Math.abs(W),u=Math.tan((1-b)*Math.PI/2),Z=Math.sqrt(u*u+1),I=Math.atan2(1,u),y=X/R*I,D=R*Z,N=R*Z+l.e,j=Math.cos(I),H=Math.sin(I),Q=r.xP.a7h(j,H),C=r.xP.a01(j,H),J=-u*R+Q*D;
if(F=="warpArc"){B=Math.sin(y)*N;U=u*R-Math.cos(I)*N+h;e=Math.sin(y)*D;o=u*R-Math.cos(I)*D+h;if(k==1||k==2){B=k==1?-C*N:C*N;
e=k==1?-C*D:C*D;U=u*R+h-Q*N;o=u*R+h-Q*D}if(W<0){var E=B;B=e;e=E;E=U;U=-o;o=-E}}if(F=="warpArcLower"){if(k==1||k==2){e=k==1?-C*D:C*D;
o=W<0?h-J:h+J}}if(F=="warpArcUpper"||F=="warpArch"||F=="warpBulge"){if(k==1||k==2){B=k==1?-C*D:C*D;U=W<0?-h+J:-h-J}if(F=="warpArch"){e=B;
o=U+2*h}if(F=="warpBulge"){e=B;o=-U}}if(F=="warpFish"||F=="warpFlag"||F=="warpWave"){var T=k;if(F=="warpFlag")T=3-k;
if(T==1){U-=W*4*h;o+=W*4*h}if(T==2){U+=W*4*h;o-=W*4*h}if(F=="warpFlag"||F=="warpWave")U=o-2*h}if(F=="warpRise"){if(k<2)U=-h+W*h*4;
o=U+2*h}var c=(s+h)/l.e;X=B+c*(e-B);s=U+c*(o-U);if(F=="warpWave"){if(w==0)s=-h;if(w==3)s=h;if(w==1||w==2)s=2*h*(w/3-.5)*(1/3)+s*(2/3)}if(F=="warpFisheye"){if((w==1||w==2)&&(k==1||k==2)){X=X+4*X*W;
s=s+4*s*W}}if(F=="warpInflate"){var a=2/3;if((w==1||w==2)&&(k==1||k==2)){X=X+.5*X*W;s=s+.5*s*W}else if(w==1||w==2)X=X+a*X*W;
else if(k==1||k==2)s=s+a*s*W}if(F=="warpSqueeze"){var a=2/3;if((w==1||w==2)&&(k==1||k==2)){if(W>0)X=X-a*X*W;
else s=s+a*s*W}else if(w==1||w==2)X=X-a*X*W;else if(k==1||k==2)s=s+a*s*W}if(F=="warpTwist"){if((w==1||w==2)&&(k==1||k==2)){var K=W*Math.PI/2,Z=1+Math.abs(W)*2,Y=X*Math.cos(K)-s*Math.sin(K),p=X*Math.sin(K)+s*Math.cos(K);
X=Y*Z;s=p*Z}}if(F=="warpShellLower"||F=="warpShellUpper"){if(F=="warpShellUpper"){w=3-w;s=-s}if(w>2||w==2&&(k==0||k==3)){if(W>0){var P=D+w/3*2*h;
X=Math.sin(y)*P;s=-u*R-h+Math.cos(y)*P;if(k==1||k==2){X=k==1?-C*P:C*P;s=-u*R-h+Q*P}}else{if((k==1||k==2)&&w==3){X=k==1?-C*D:C*D;
s=u*R-Q*D+h}else if(w==2){s=h-h*(2/3)*Math.cos(y);X=X+h*(2/3)*Math.sin(y)}}}if(F=="warpShellUpper"){w=3-w;
s=-s}}X+=R;s+=h}i=X,f=s;x[V]=i+l.x;x[V+1]=f+l.y}}for(var w=0;w<x.length;w+=2)x[w]/=$};r.xP.apX=function(x,F,W){var n=[];
for(var L=0;L<4;L++)n.push(1-W+L/3*2*W);var $=[];for(var L=0;L<4;L++)$.push(1-F+L/3*2*F);var l=[0,0,0,0],k=[0,0,0,0];
for(var w=0;w<4;w++)for(var L=0;L<4;L++){var V=2*(4*w+L),i=x[V],f=x[V+1];l[L]+=i/4;k[L]+=f/4}for(var w=0;
w<4;w++)for(var L=0;L<4;L++){var X=n[L],V=2*(4*w+L),i=x[V],f=x[V+1],s=l[L],R=k[L];x[V]=s+X*(i-s);x[V+1]=R+X*(f-R)}var h=x.slice(0);
for(var w=0;w<4;w++)for(var L=1;L<3;L++){var V=2*(4*w+L),i=x[V],f=x[V+1],B=V+(L==1?-2:2),e=x[B],U=x[B+1];
x[V]=i-e;x[V+1]=f-U}var o=x[0],b=x[1],u=x[8],Z=x[9],I=x[16],y=x[17],D=x[24],N=x[25],j=x[6],H=x[7],Q=x[14],C=x[15],J=x[22],E=x[23],T=x[30],c=x[31],a=j-o,K=H-b,Y=Q-u,p=C-Z,P=J-I,m=E-y,z=T-D,M=c-N;
for(var w=0;w<4;w++){var d=2*w*4,A=0,G=0,kB=w==1?.33:.66,q=1-kB;if(w==0){A=a;G=K}if(w==1){A=q*a+kB*-z;
G=q*K+kB*-M}if(w==2){A=q*a+kB*-z;G=q*K+kB*-M}if(w==3){A=-z;G=-M}x[d]=x[d]+A/2;x[d+1]=x[d+1]+G/2;x[d+6]=x[d+6]-A/2;
x[d+7]=x[d+7]-G/2}for(var w=0;w<4;w++)for(var L=1;L<3;L++){var V=2*(4*w+L),i=x[V],f=x[V+1],B=V+(L==1?-2:2),e=x[B],U=x[B+1],X=2*w/3;
x[V]=e+X*i;x[V+1]=U+X*f}for(var w=1;w<3;w++)for(var L=1;L<3;L++){var V=2*(4*w+L),i=x[V],f=x[V+1],fO=w==1?-8:-16,g=w==1?16:8,jN=x[V+fO],c6=x[V+fO+1],a7=x[V+g],bd=x[V+g+1],X=w/3;
i=(1-X)*jN+X*a7;f=(1-X)*c6+X*bd;x[V]=i;x[V+1]=f}r.Z.av(h,x,x,F)};r.xP.a7h=function(x,F){return(4-x)*(1/3)};
r.xP.a01=function(x,F){return(1-x)*(3-x)/(3*F)};r.lR={};r.lR.apV=function(x,F,W,n,L,$,l,k,V,i){for(var f=0;
f<k;f++)for(var X=0;X<l;X++){var s=3*(f*l+X),R=f+$,h=X+L,B=x[R*F+h];n[s]=B;n[s+1]=B;n[s+2]=B}};r.lR.uB=function(x,F,W,n,L,$,l,k,V,i){var f=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],X=1/V,s=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],R=new Uint32Array(6);
for(var h=0;h<k;h++){for(var B=0;B<l;B++){var e=3*(h*l+B),U=h+$,o=B+L;R[0]=0;R[1]=0;R[2]=0;R[3]=0;R[4]=0;
R[5]=0;for(var w=0;w<16;w+=2){var b=o+s[w],u=U+s[w+1],Z=b-V*~~(b*X),I=u-V*~~(u*X),y=i[I*V+Z];R[y]+=x[u*F+b];
R[y+3]++}var b=o,u=U,Z=b-V*~~(b*X),I=u-V*~~(u*X),y=i[I*V+Z];R[y]=x[U*F+o];R[y+3]=1;n[e]=R[0]*f[R[3]];
n[e+1]=R[1]*f[R[4]];n[e+2]=R[2]*f[R[5]]}}};r.lR.aDX=function(x,F,W){for(var w=0;w<W;w+=2)x[F+w]=x[F+w+1];
F=F+W;for(var w=0;w<W;w+=2)x[F+w+1]=x[F+w]};r.lR.a3D=function(x,F,W,n){for(var w=0;w<n;w+=2){var L=F+w*W;
x[L]=x[L+W];x[L+W+1]=x[L+1]}};r.lR.ah0=function(x,F,W,n,L,$){var l=n[L],k=n[L+1],V=n[$],i=n[$+1],f=k+V>>>1;
x[F]=x[F+3]=x[W]=x[W+3]=l;x[F+1]=f;x[F+4]=k;x[W+1]=V;x[W+4]=f;x[F+2]=x[F+5]=x[W+2]=x[W+5]=i};r.lR.al$=function(x,F,W,n,L,$){var l=$*3;
for(var w=0;w<$;w+=2){var k=F+w,V=L+w*3;r.lR.ah0(n,V,V+l,x,k,k+W)}};r.lR.aoT=function(x,F,W,n,L,$,l){var k=$*3;
for(var w=0;w<l;w+=2){var V=F+w*W,i=L+w*$*3;r.lR.ah0(n,i,i+k,x,V,V+W)}};r.lR.aiY=function(x,w,F){var W=x[w-F-F],n=x[w-F],L=x[w-2],$=x[w-1],l=x[w],k=x[w+1],V=x[w+2],i=x[w+F],f=x[w+F+F],X=Math.abs(n-i),s=Math.abs($-k),R=Math.abs(l-W)*2+X,h=Math.abs(l-V)*2+s,B=Math.abs(l-L)*2+s,e=Math.abs(l-f)*2+X,U=Math.min(R,Math.min(h,Math.min(B,e)));
if(U==R)return n*3+i+l-W>>2;if(U==h)return k*3+$+l-V>>2;if(U==B)return $*3+k+l-L>>2;return i*3+n+l-f>>2};
r.lR.Ne=function(x,F,W,n,L){if(x<F&&F<W||x>F&&F>W)return~~(.5+n+(L-n)*(F-x)/(W-x));else return(n+L>>1)+(F+F-x-W>>2)};
r.lR.a51=function(x,F,w,W){var n=F[w-W-1],L=F[w-W+1],$=F[w],l=F[w+W-1],k=F[w+W+1],V=x[w-W-1],i=x[w-W+1],f=x[w],X=x[w+W-1],s=x[w+W+1],R=Math.abs(i-X)+Math.abs(x[w-W-W+2]-f)+Math.abs(f-x[w+W+W-2])+Math.abs(L-$)+Math.abs($-l),h=Math.abs(V-s)+Math.abs(x[w-W-W-2]-f)+Math.abs(f-x[w+W+W+2])+Math.abs(n-$)+Math.abs($-k);
if(R<h)return r.lR.Ne(L,$,l,i,X);else return r.lR.Ne(n,$,k,V,s)};r.lR.cU=function(x,F,W,n,L,$){x[F+0]=W[L];
x[F+1]=n[L];x[F+2]=r.lR.a51(W,n,L,$)};r.lR.V3=function(x,F,W,n,L,$){var l=n[L];x[F+0]=r.lR.Ne(n[L-1],l,n[L+1],W[L-1],W[L+1]);
x[F+1]=l;x[F+2]=r.lR.Ne(n[L-$],l,n[L+$],W[L-$],W[L+$])};r.lR.gg=function(x,F,W,n,L,$){var l=n[L];x[F+0]=r.lR.Ne(n[L-$],l,n[L+$],W[L-$],W[L+$]);
x[F+1]=l;x[F+2]=r.lR.Ne(n[L-1],l,n[L+1],W[L-1],W[L+1])};r.lR.GM=function(x,F,W,n,L,$){x[F+0]=r.lR.a51(W,n,L,$);
x[F+1]=n[L];x[F+2]=W[L]};r.lR.amo=function(x,F,W,n,L,$,l,k,V){var i=Date.now(),f=2,X=F-2,s=2;if((L&1)==1){f++;
X--}var R=W-2;if(($&1)==1){s++;R--}if(V==1||V==3){f++;X--}var h=x.slice(0);r.lR.aDX(h,0,F);r.lR.a3D(h,0,F,W);
r.lR.a3D(h,F-2,F,W);r.lR.aDX(h,(W-2)*F,F);for(var B=s;B<R;B+=2)for(var e=f;e<X;e+=2){var w=B*F+e,U=r.lR.aiY(h,w,F),o=r.lR.aiY(h,w+F+1,F);
h[w]=Math.max(0,U);h[w+F+1]=Math.max(0,o)}var b=l,u=k;if($+k==W){u-=2;r.lR.al$(x,(W-2)*F+L,F,n,(k-2)*l*3,l)}if(L+l==F){b-=2;
r.lR.aoT(x,$*F+L+l-2,F,n,(l-2)*3,l,k)}if(V==0)for(var B=0;B<u;B+=2)for(var e=0;e<b;e+=2){var Z=(B+$)*F+e+L,I=(B*l+e)*3;
r.lR.cU(n,I,x,h,Z,F);r.lR.V3(n,I+3,x,h,Z+1,F);Z+=F;I+=3*l;r.lR.gg(n,I,x,h,Z,F);r.lR.GM(n,I+3,x,h,Z+1,F)}else if(V==1)for(var B=0;
B<u;B+=2)for(var e=0;e<b;e+=2){var Z=(B+$)*F+e+L,I=(B*l+e)*3;r.lR.V3(n,I,x,h,Z,F);r.lR.cU(n,I+3,x,h,Z+1,F);
Z+=F;I+=3*l;r.lR.GM(n,I,x,h,Z,F);r.lR.gg(n,I+3,x,h,Z+1,F)}else if(V==2)for(var B=0;B<u;B+=2)for(var e=0;
e<b;e+=2){var Z=(B+$)*F+e+L,I=(B*l+e)*3;r.lR.GM(n,I,x,h,Z,F);r.lR.gg(n,I+3,x,h,Z+1,F);Z+=F;I+=3*l;r.lR.V3(n,I,x,h,Z,F);
r.lR.cU(n,I+3,x,h,Z+1,F)}else if(V==3)for(var B=0;B<u;B+=2)for(var e=0;e<b;e+=2){var Z=(B+$)*F+e+L,I=(B*l+e)*3;
r.lR.gg(n,I,x,h,Z,F);r.lR.GM(n,I+3,x,h,Z+1,F);Z+=F;I+=3*l;r.lR.cU(n,I,x,h,Z,F);r.lR.V3(n,I+3,x,h,Z+1,F)}};
r.raw={};r.raw.a2f=function(x){var F=Date.now(),W=x.width,n=x.height,L=0,$=0,l=W,k=n;if(x.t50829){var V=x.t50829;
L=V[1];$=V[0];l=V[3];k=V[2]}if(x.t50720&&x.t50720[0]*1.2>W){if(x.t50719){var i=x.t50719;L+=i[0]>>1<<1;
$+=i[1]>>1<<1}if(x.t50720){var f=x.t50720;l=L+f[0];k=$+f[1]}}var X=l-L,s=k-$,R=r.raw.aph(x),h=x.t33422,B=x.t33421;
if(B){var f=B[0],e=h.slice(0);for(var U=0;U<f;U++)for(var o=0;o<f;o++){var b=(o+(L&1))%f,u=(U+($&1))%f;
e[U*f+o]=h[u*f+b]}h=e}if(x.t277[0]==1&&h)r.raw.a1s(R,W,n,x,h);r.raw.iQ(2,x,R,W,n);var Z=new Float32Array(X*s*3);
if(x.t277[0]==1){if(B==null){r.lR.apV(R,W,n,Z,L,$,X,s)}else if(B.length!=2||B[0]!=2||B[1]!=2){console.log("Unknown CFA pattern size",B);
r.lR.uB(R,W,n,Z,L,$,X,s,B[0],h)}else{var I=x.t33422.join(","),y=0;if(I=="0,1,1,2")y=0;else if(I=="1,0,2,1")y=1;
else if(I=="2,1,1,0")y=2;else if(I=="1,2,0,1")y=3;else throw"Unknown CFA pattern "+I;if((X&1)!=0||(s&1)!=0)throw"e";
r.lR.amo(R,W,n,Z,L,$,X,s,y)}}else{for(var U=0;U<s;U++)for(var o=0;o<X;o++){var D=((U+$)*W+o+L)*3,N=(U*X+o)*3;
Z[N+0]=R[D+0];Z[N+1]=R[D+1];Z[N+2]=R[D+2]}}var j=Z,H=Z.length,Q=r.raw.nk(x),C=1/Q;for(var w=0;w<H;w+=3){Z[w]=j[w]*C;
Z[w+1]=j[w+1]*C;Z[w+2]=j[w+2]*C}r.raw.iQ(3,x,Z,X,s);var J=x._V,E=X,T=s;if(J==1||J==9){}else{var c=r.raw.ain(J,X,s),N=0;
E=c[0];T=c[1];var a=Z.slice(0);for(var U=0;U<T;U++)for(var o=0;o<E;o++){var K=c[2]*o+c[3]*U+c[4],Y=c[5]*o+c[6]*U+c[7],D=(Y*X+K)*3;
Z[N]=a[D];Z[N+1]=a[D+1];Z[N+2]=a[D+2];N+=3}}return{Xu:Z,mr:E,t9:T}};r.raw.ain=function(x,F,W){var n=F,L=W;
if(!1){}else if(x==2)return[F,W,-1,0,F-1,0,1,0];else if(x==3)return[F,W,-1,0,F-1,0,-1,W-1];else if(x==4)return[F,W,1,0,0,0,-1,W-1];
else if(x==5)return[W,F,0,1,0,1,0,0];else if(x==6)return[W,F,0,1,0,-1,0,W-1];else if(x==7)return[W,F,0,-1,F-1,-1,0,W-1];
else if(x==8)return[W,F,0,-1,F-1,1,0,0];else throw"unknown orientation "+x};r.raw.a1s=function(x,F,W,n,L){var $=Date.now(),C=0,T=0;
if(r.raw.nk(n)>4e4){for(var w=0;w<x.length;w++)x[w]>>=1;var l=["t50714","t50715","t50712","t50717"];
for(var w=0;w<l.length;w++){var k=n[l[w]];if(k)for(var V=0;V<k.length;V++)k[V]>>>=1}console.log("remapping to lower bit depth")}var i=~~Math.sqrt(L.length),f=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],X=[];
for(var s=0;s<i;s++)for(var R=0;R<i;R++){var w=s*i+R,h=L[w],B=4,e=4,U=8,o=0,b=0;for(var V=0;V<18;V+=2){var u=(i+R+f[V])%i,Z=(i+s+f[V+1])%i,I=L[Z*i+u];
if(I==h){}else if(B==4){B=I;o=V}else if(e==4&&I!=B){e=I;b=V;break}}if(e<B){var y=e;e=B;B=y;y=b;b=o;o=y}if(B<h){var y=B;
B=h;h=y;y=o;o=U;U=y}if(e<B){var y=e;e=B;B=y;y=b;b=o;o=y}X[w*3]=f[U+1]*F+f[U];X[w*3+1]=f[o+1]*F+f[o];
X[w*3+2]=f[b+1]*F+f[b]}var D=~~(.996*r.raw.nk(n)),N=~~(.992*r.raw.nk(n)),j=n.t50728;if(j==null||j[0]==0)j=[1,1,1];
var H=[],Q=[0,0,0];for(var s=1;s<W-1;s++)for(var R=1;R<F-1;R++){var w=s*F+R,J=s%i*i+R%i,h=x[w+X[J*3+0]],B=x[w+X[J*3+1]],e=x[w+X[J*3+2]],E=Math.max(h,B,e);
if(E>D)H.push(w);else if(E>N){Q[0]+=h;Q[1]+=B;Q[2]+=e;C++}}if(H.length==0)return;if(C/(F*W)<1e-5){console.log("not enough semi-saturated pixels",C);
Q=j}if(Q[1]<Q[T])T=1;if(Q[2]<Q[T])T=2;var c=[Q[0]/Q[T],Q[1]/Q[T],Q[2]/Q[T]],a=x.slice(0);for(var K=0;
K<H.length;K++){var w=H[K],s=~~(w/F),R=w-s*F,J=s%i*i+R%i,Y=Math.min(65535,~~(x[w+X[J*3+T]]*c[L[J]]));
if(Y>a[w])a[w]=Y}x.set(a)};r.raw.Gi=function(x,F,W,n){var L=Math.round(x.length/3),$=iK.$$(n[0],n[1]),l=r.raw.awP(W,$),k=r.L5.multiply(r.L5.RV,l),V=Math.pow(2,W.t50730?W.t50730[0]:0);
k=r.L5.multiply(k,r.L5.WT(V,V,V));var i=r.raw.Gi.a6Y;if(i==null){i=r.raw.Gi.a6Y=new Float64Array(8e3);
for(var w=0;w<8e3;w++)i[w]=r.sW(w*(1/1e3))}for(var w=0;w<L;w++){var f=w<<2,X=f-w,s=x[X],R=x[X+1],h=x[X+2],B=k[0]*s+k[1]*R+k[2]*h,e=k[4]*s+k[5]*R+k[6]*h,U=k[8]*s+k[9]*R+k[10]*h;
if(B<0)B=0;if(e<0)e=0;if(U<0)U=0;F[X]=i[~~(B*1e3)];F[X+1]=i[~~(e*1e3)];F[X+2]=i[~~(U*1e3)]}};r.raw.aph=function(x){var F=x.width,W=x.height,n=F*W*x.t277,L=new Uint16Array(n),$=null,l=0;
r.raw.ab7(x,L);r.raw.iQ(1,x,L,F,W);if(x.t50712){$=x.t50712;l=$.length-1;if($[l]>65535)throw"too big values"}var k=r.raw.amC(x),V=r.raw.adm(x);
if($==null)for(var w=0;w<n;w++)L[w]=Math.max(0,L[w]-k);else for(var w=0;w<n;w++){var i=L[w];if(i>l)i=l;
i=$[i];L[w]=Math.max(0,i-k)}return L};r.raw.amC=function(x){var F=x.t50714,W=F?F[0]:0,n=x.t50715,L=x.t50716;
if(n)W+=n[0][0]/n[0][1];if(L)W+=L[0][0]/L[0][1];return Math.round(W)};r.raw.adm=function(x){var F=null,W=0;
if(x.t50712){F=x.t50712;W=F.length-1}var n=x.t50717?x.t50717[0]:(1<<x.t258[0])-1;if(F)n=Math.min(n,F[W]);
return n};r.raw.nk=function(x){var F=r.raw.amC(x),W=r.raw.adm(x);return W-F};r.raw.ab7=function(x,F){var W=F.length,n=x.data,L=x.t258[0];
if(L!=16&&L!=14&&L!=12&&L!=10&&L!=8)throw"Unsupported Bits Per Sample:"+L;L=Math.round(n.length*8/W);
if(L==16&&x.isLE){r.Bj(n,F);return}for(var w=0;w<W;w+=2){var $=0,l=0,k=0;if(L==16){$=w<<1;l=n[$]<<8|n[$+1];
k=n[$+2]<<8|n[$+3]}else if(L==14){var V=w*14,i=V>>>3,f=n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3];if((V&7)==0){l=f>>>18;
k=f>>>4&16383}else{l=f>>>14&16383;k=f&16383}}else if(L==12){$=w+(w>>>1);l=n[$]<<4|n[$+1]>>4;k=(n[$+1]&15)<<8|n[$+2]}else if(L==10){var V=w*10,i=V>>>3;
if((V&7)==0){l=(n[i]<<2|n[i+1]>>6)&1023;k=(n[i+1]<<4|n[i+2]>>4)&1023}else{l=(n[i]<<6|n[i+1]>>2)&1023;
k=(n[i+1]<<8|n[i+2]>>0)&1023}}else if(L==8){$=w;l=n[$];k=n[$+1]}F[w]=l;F[w+1]=k}};r.raw.a03=function(x,F,W,n,L,$,l){var k=x-.499999,V=F-.499999,i=~~k,f=~~V,X=k-i,s=V-f,R=(1-s)*(1-X),h=(1-s)*X,B=s*(1-X),e=s*X,U=(f*n+i)*3,o=((f+1)*n+i)*3,b=R*W[U]+h*W[U+3]+B*W[o]+e*W[o+3],u=R*W[U+1]+h*W[U+4]+B*W[o+1]+e*W[o+4],Z=R*W[U+2]+h*W[U+5]+B*W[o+2]+e*W[o+5];
$[l]=b;$[l+1]=u;$[l+2]=Z};r.raw.iQ=function(x,F,W,n,L){var $=F["t"+[51008,51009,51022][x-1]],f=0;if($==null)return;
var l=n*L,k=_.q,V=_.aJ,i=new Uint8Array($),cs=_.q(i,f);f+=4;for(var X=0;X<cs;X++){var s=k(i,f);f+=4;
var R=k(i,f);f+=4;var h=k(i,f);f+=4;var B=k(i,f);f+=4;if(!1){}else if(s==1&&x==3){var e=f,U=k(i,e);e+=4;
var o=V(i,e);e+=8;var b=V(i,e);e+=8;var u=V(i,e);e+=8;var Z=V(i,e);e+=8;var I=V(i,e);e+=8;var y=V(i,e);
e+=8;e+=(U-1)*8*6;var D=V(i,e);e+=8;var N=V(i,e);e+=8;var j=D*n,H=N*L,Q=Math.max(j,n-j),C=Math.max(H,L-H),J=Math.sqrt(Q*Q+C*C),E=1/J,T=W.slice(0);
for(var c=0;c<L;c++)for(var a=0;a<n;a++){var K=(a+.5-j)*E,Y=(c+.5-H)*E,p=K*K+Y*Y,P=o+b*p+u*(p*p)+Z*(p*p)*p,m=I*(2*K*Y)+y*(p+2*K*K),z=y*(2*K*Y)+I*(p+2*Y*Y),M=Math.min(j+J*(P*K+m),n-1),d=Math.min(H+J*(P*Y+z),L-1),A=(c*n+a)*3;
r.raw.a03(M,d,T,n,L,W,A)}}else if(s==3&&x==3){var e=f,G=V(i,e);e+=8;var kB=V(i,e);e+=8;var q=V(i,e);
e+=8;var fO=V(i,e);e+=8;var g=V(i,e);e+=8;var D=V(i,e);e+=8;var N=V(i,e);e+=8;var j=D*n,H=N*L,Q=Math.max(j,n-j),C=Math.max(H,L-H),J=Math.sqrt(Q*Q+C*C),E=1/J;
for(var c=0;c<L;c++)for(var a=0;a<n;a++){var K=(a+.5-j)*E,Y=(c+.5-H)*E,p=K*K+Y*Y,jN=1+(G+(kB+(q+(fO+g*p)*p)*p)*p)*p,A=(c*n+a)*3;
W[A]=jN*W[A];W[A+1]=jN*W[A+1];W[A+2]=jN*W[A+2]}}else if(s==4&&x==1){var e=f,c6=k(i,e);e+=4;var a7=k(i,e);
e+=4;for(var w=0;w<l;w++)if(W[w]==c6)W[w]=W[w-2]+W[w+2]>>1}else if(s==5&&x==1){var e=f,bd=k(i,e);e+=4;
var ey=k(i,e);e+=4;var c5=k(i,e);e+=4;for(var w=0;w<ey;w++){var bx=k(i,e);e+=4;var ap=k(i,e);e+=4;var w=bx*n+ap;
W[w]=W[w-2]+W[w+2]>>1}}else if(s==7&&x==1){var e=f,fC=_.YL(i,e);e+=16;var kE=k(i,e);e+=4;var bm=k(i,e);
e+=4;var fe=k(i,e),g8=k(i,e+4);e+=8;var e0=k(i,e);e+=4;var cF=new Uint16Array(e0);for(var w=0;w<e0;w++)cF[w]=_.Vk(i,e+2*w);
var ei=fC.m,cr=fC.e;for(var c=0;c<cr;c+=fe)for(var a=0;a<ei;a+=g8){var w=(fC.y+c)*n+(fC.x+a);W[w]=cF[W[w]]}}else if(s==8&&x==2){var e=f,fC=_.YL(i,e);
e+=16;var kE=k(i,e);e+=4;var bm=k(i,e);e+=4;var fe=k(i,e),g8=k(i,e+4);e+=8;var e_=k(i,e);e+=4;var gg=[];
for(var w=0;w<=e_;w++)gg[w]=_.aJ(i,e+w*8);var bW=fC.x,gx=fC.x+fC.m,h$=fC.y,dH=fC.y+fC.e,eg=F.t50717[0],aB=1/eg;
for(var gB=0;gB<bm;gB++)for(var c=h$;c<dH;c+=fe){var A=3*c*n+kE+gB;for(var a=bW;a<gx;a+=g8){var w=A+3*a,jy=W[w]*aB,aV=gg[e_];
for(var ie=e_;ie>0;ie--)aV=aV*jy+gg[ie-1];W[w]=Math.max(0,Math.min(65535,~~(aV*eg)))}}}else if(s==9&&x==2){var e=f,fC=_.YL(i,e),bt=!0;
e+=16;var kE=k(i,e);e+=4;var bm=k(i,e);e+=4;var fe=k(i,e),g8=k(i,e+4);e+=8;var cT=k(i,e),a_=k(i,e+4);
e+=8;var gs=V(i,e),gq=V(i,e+8);e+=16;var kr=V(i,e),iN=V(i,e+8);e+=16;var jH=k(i,e);e+=4;if(jH!=1)throw"more than one map plane";
var h2=cT*a_,an=new Float32Array(h2);for(var ie=0;ie<h2;ie++)an[ie]=_.Pb(i,e+ie*4);for(var ie=0;ie<h2;
ie++)if(an[ie]!=1)bt=!1;if(!bt){var ei=fC.m,cr=fC.e,kH=.9999*(a_-1)/ei,js=.9999*(cT-1)/cr;for(var c=0;
c<cr;c+=fe)for(var a=0;a<ei;a+=g8){var w=(fC.y+c)*n+(fC.x+a),gA=a*kH,jR=c*js,c3=Math.floor(gA),iU=Math.floor(jR),hn=gA-c3,db=jR-iU,A=iU*a_+c3,dy=an[A]*(1-hn)+an[A+1]*hn,c2=an[A+a_]*(1-hn)+an[A+1+a_]*hn,bk=dy*(1-db)+c2*db;
W[w]=Math.max(0,Math.min(65535,~~(W[w]*bk+.5)))}}}else console.log("Unknown opcode "+s+" in OpcodeList"+x+". Length: "+B);
f+=B}};r.raw.awP=function(x,F){var W=iK.Kw(F),n=r.raw.ajL(x,F),L=r.L5.sx(n),$=iK.as$(W,iK.Kw(iK.aoG)),l=r.L5.multiply($,L);
return l};r.raw.aik=function(x){var F=x.t50728,L=1;if(F==null||F[0]==0)F=[1,1,1];var W=F.slice(0);W.push(0);
var n={x:.34567,y:.3585};do{var $=r.L5.sx(r.raw.ajL(x,n)),l=r.L5.se($,W),k=iK.anF(l);L=Math.abs(n.x-k.x)+Math.abs(n.y-k.y);
n=k}while(L>1e-7);return n};r.raw.ajL=function(x,F){var W=iK.a4t(F),n=r.raw.ani,L=x.t50778?x.t50778[0]:0,$=x.t50779?x.t50779[0]:0,l=x.t50723,k=x.t50724;
if(l&&l.length==3)l=null;if(k&&k.length==3)k=null;var V=n(x.t50721,x.t50722,L,$,W.Ej),i=n(l,k,L,$,W.Ej);
V=V||[1,0,0,0,1,0,0,0,1];i=i||[1,0,0,0,1,0,0,0,1];var f=x.t50727?[x.t50727[0],0,0,0,x.t50727[1],0,0,0,x.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return r.L5.multiply(r.L5.Qn(f),r.L5.multiply(r.L5.Qn(i),r.L5.Qn(V)))};r.raw.ani=function(x,F,W,n,L){if(!x&&!F){return null}else if(x&&!F){return x}else if(L<W){return x}else if(L>n){return F}else{var $=(1/L-1/n)/(1/W-1/n),l=1-$,k=[];
for(var w=0;w<9;w++)k[w]=x[w]*$+F[w]*l;return k}};var iK={};iK.aoG={x:.34567,y:.3585};iK.a0z=[{o:0,ZL:.18006,_M:.26352,zs:-.24341},{o:10,ZL:.18066,_M:.26589,zs:-.25479},{o:20,ZL:.18133,_M:.26846,zs:-.26876},{o:30,ZL:.18208,_M:.27119,zs:-.28539},{o:40,ZL:.18293,_M:.27407,zs:-.3047},{o:50,ZL:.18388,_M:.27709,zs:-.32675},{o:60,ZL:.18494,_M:.28021,zs:-.35156},{o:70,ZL:.18611,_M:.28342,zs:-.37915},{o:80,ZL:.1874,_M:.28668,zs:-.40955},{o:90,ZL:.1888,_M:.28997,zs:-.44278},{o:100,ZL:.19032,_M:.29326,zs:-.47888},{o:125,ZL:.19462,_M:.30141,zs:-.58204},{o:150,ZL:.19962,_M:.30921,zs:-.70471},{o:175,ZL:.20525,_M:.31647,zs:-.84901},{o:200,ZL:.21142,_M:.32312,zs:-1.0182},{o:225,ZL:.21807,_M:.32909,zs:-1.2168},{o:250,ZL:.22511,_M:.33439,zs:-1.4512},{o:275,ZL:.23247,_M:.33904,zs:-1.7298},{o:300,ZL:.2401,_M:.34308,zs:-2.0637},{o:325,ZL:.24792,_M:.34655,zs:-2.4681},{o:350,ZL:.25591,_M:.34951,zs:-2.9641},{o:375,ZL:.264,_M:.352,zs:-3.5814},{o:400,ZL:.27218,_M:.35407,zs:-4.3633},{o:425,ZL:.28039,_M:.35577,zs:-5.3762},{o:450,ZL:.28863,_M:.35714,zs:-6.7262},{o:475,ZL:.29685,_M:.35823,zs:-8.5955},{o:500,ZL:.30505,_M:.35907,zs:-11.324},{o:525,ZL:.3132,_M:.35968,zs:-15.628},{o:550,ZL:.32129,_M:.36011,zs:-23.325},{o:575,ZL:.32931,_M:.36038,zs:-40.77},{o:600,ZL:.33724,_M:.36051,zs:-116.45}];
iK.a4t=function(x){var F=iK.a0z,W=2*x.x/(1.5-x.x+6*x.y),n=3*x.y/(1.5-x.x+6*x.y),L=0,$=0,l=0;for(;l<31;
l++){L=n-F[l]._M-F[l].zs*(W-F[l].ZL);if(l>0&&L<0){break}$=L}while(l>=F.length)l--;L/=Math.sqrt(1+F[l].zs*F[l].zs);
$/=Math.sqrt(1+F[l-1].zs*F[l-1].zs);var k=$/($-L),V=1e6/((F[l].o-F[l-1].o)*k+F[l-1].o),i=W-((F[l].ZL-F[l-1].ZL)*k+F[l-1].ZL),f=n-((F[l]._M-F[l-1]._M)*k+F[l-1]._M),X=Math.sqrt(1+F[l].zs*F[l].zs),s=1/X,R=F[l].zs/X,h=Math.sqrt(1+F[l-1].zs*F[l-1].zs),B=1/h,e=F[l-1].zs/h,U=(s-B)*k+B,o=(R-e)*k+e,b=Math.sqrt(U*U+o*o);
U/=b;o/=b;var u=(i*U+f*o)*-3e3;return{Ej:V,n1:u}};iK.$$=function(x,F){var W=iK.a0z,n=1e6/x,L=1;for(;
L<31;L++){if(n<W[L].o){break}}var $=(W[L].o-n)/(W[L].o-W[L-1].o),l=(W[L-1].ZL-W[L].ZL)*$+W[L].ZL,k=(W[L-1]._M-W[L]._M)*$+W[L]._M,V=Math.sqrt(1+W[L].zs*W[L].zs),i=1/V,f=W[L].zs/V,X=Math.sqrt(1+W[L-1].zs*W[L-1].zs),s=1/X,R=W[L-1].zs/X,h=(s-i)*$+i,B=(R-f)*$+f,e=Math.sqrt(h*h+B*B);
h/=e;B/=e;l+=h*F/-3e3;k+=B*F/-3e3;return{x:1.5*l/(l-4*k+2),y:k/(l-4*k+2)}};iK.anF=function(x){var F=x[0]+x[1]+x[2];
return{x:x[0]/F,y:x[1]/F}};iK.Kw=function(x){return{x:x.x/x.y,y:1,Bb:(1-x.x-x.y)/x.y}};iK.as$=function(x,F){var W=r.L5.Qn([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),n=[x.x,x.y,x.Bb,0],L=[F.x,F.y,F.Bb,0];
n=r.L5.se(W,n);L=r.L5.se(W,L);var $=L[0]/n[0],l=L[1]/n[1],k=L[2]/n[2],V=r.L5.Qn([$,0,0,0,l,0,0,0,k]),i=r.L5.sx(W);
return r.L5.multiply(r.L5.multiply(i,V),W)};r.raw.om={};r.raw.pU=function(x){x*=8;var F=[8,10,12,14,16];
for(var W in CAMS){var n=CAMS[W];if(n.length==4)continue;var L=n[4],$=n[5];for(var w=0;w<F.length;w++)if(L*$*F[w]==x)return[W,F[w]]}var l=[[4e3,3e3]];
for(var w=0;w<l.length;w++){var n=l[w],L=n[0],$=n[1];for(var w=0;w<F.length;w++)if(L*$*F[w]==x)return[n,F[w]]}return null};
r.raw.agr=function(x){var x=new Uint8Array(x);for(var w=0;w<x.length;w+=2){var F=x[w];x[w]=x[w+1];x[w+1]=F}var W=r.raw.pU(x.length),n=CAMS[W[0]];
if(n==null)n=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,W[0][0],W[0][1]];var L=n[4],$=n[5],l=Math.max(n[2],116),k={data:x,_V:1,width:L,height:$,t256:[L],t257:[$],t258:[W[1]],t277:[1],t33421:[2,2],t33422:r.raw.x4[n[1]],t50706:[1,2,0,0],t50714:[l,l,l,l],t50717:[n[3]],t50721:n[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var w=0;w<9;w++)k.t50721[w]/=1e4;return k};r.raw.alU=function(x){if(x==null||x.length==0||typeof x[0]=="number")return x;
var F=[];for(var w=0;w<x.length;w++)F[w]=x[w][1]==0?0:x[w][0]/x[w][1];return F};r.raw.x4=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
r.raw.normalize=function(x,F){if(x.t50706!=null||x.t271[0].startsWith("Hasselblad")){var W=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var w=0;w<W.length;w++)if(x["t"+W[w]]!=null)x["t"+W[w]]=r.raw.alU(x["t"+W[w]]);if(x.t271&&x.t271[0].startsWith("Hasselblad")){x.t50706=[1,2,0,0];
x.t33422=r.raw.x4[1];x.t50723=[1,0,0,0,1,0,0,0,1];x.t50778=[17];if(!x.isLE)for(var w=0;w<x.data.length;
w+=2){var n=x.data[w];x.data[w]=x.data[w+1];x.data[w+1]=n}}if(x.t272&&x.t272[0]=="HERO10 Black"){x.t50728=[.469725,1,.739884];
if(!x.t305[0].startsWith("Adobe")){var L=new Uint16Array(x.data.buffer);for(var w=0;w<L.length;w++)L[w]>>>=2}}return}var $=x.t258[0],l=x.exifIFD,F=new Uint8Array(F);
x.t50706=[1,2,0,0];var k=x.t271[0].trim(),V=x.t272[0].trim();if(x.t50708==null)x.t50708=[k+" "+V];var i=(k+":"+V).toLowerCase(),f=CAMS[i];
if(f==null){alert("Unknown camera:"+i);if(i.startsWith("canon"))f=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(f!=null){var X=f[2];
x.t50714=[X,X,X,X];if(x.t272=="Canon EOS REBEL T3")f[3]=13584;x.t50717=[f[3]];x.t50721=f[0].slice(0);
for(var w=0;w<9;w++)x.t50721[w]=x.t50721[w]*(1/1e4)}x.t50723=[1,0,0,0,1,0,0,0,1];if(x.t50728==null)x.t50728=[.35,1,.6];
x.t50778=[17];if(k.startsWith("OLYMPUS")||k.startsWith("OM Digital Solutions")){x.t33422=[2,1,1,0];var s=l.t41730,e;
if(s)x.t33422=[s[4],s[5],s[6],s[7]];var R=x.t50341;if(R==null)R=l.t36864;var h=r.raw.a7j(R.buffer,x);
x.data=new Uint8Array(h.buffer);if((x.height&1)==1)x.t50829=[0,0,x.height-1,x.width];var B=l.makerNote,U=B.t8256;
if(U)e=U.t256;else e=B.t12288.t256;x.t50728=[256/e[0],1,256/e[1]]}else if(x.t271[0].startsWith("SONY")){var o=UTIF["_bin"+(x.isLE?"LE":"BE")],b=x.t28688,j;
if(JSON.stringify(b)!="[8000,10400,12900,14100]")console.log(b);if(b){var u=[0,0,0,0,0,4095],Z=new Uint16Array(16385);
for(var w=0;w<4;w++){var I=b[w]>>>2;u[w+1]=I;if(I>4095)throw"e"}for(var w=0;w<16385;w++)Z[w]=w;for(var w=0;
w<5;w++)for(var y=u[w]+1;y<=u[w+1];y++)Z[y]=Z[y-1]+(1<<w);var D=F.length*8<x.width*x.height*$;if(D)x.t50712=Z}else console.log("no curve");
var N=x.dngPrvt;if(N){var H=N.t29184[0],Q=N.t29185[0],C=(x.isLE?_.$J:_.q)(N.t29217,0),J=new Uint32Array(F.slice(H,H+(Q&4294967292)).buffer),E=new Uint32Array(Q>>>2);
r.raw.a4h(J,E,Q>>>2,C);var T=new Uint8Array(H+Q);T.set(new Uint8Array(E.buffer),H);var c=[];UTIF._readIFD(o,T,H,c,0,!1);
var a=c.pop(),K=a.t29458;x.t50728=[K[1]/K[0],1,K[1]/K[3]];x.t50730=[.5];var Y=a.t29891;x.t50829=[Y[1],Y[0],Y[3],Y[2]]}else if(l.makerNote&&l.makerNote.t8208){var j=l.makerNote,p=j.t8208,P=p.length,m=0,z=new Uint8Array(256);
for(var w=249;w<256;w++)z[w]=w;for(var w=0;w<249;w++)z[w*w*w%249]=w;for(var w=0;w<P;w++)p[w]=z[p[w]];
if(P==6604)m=612;else throw"e";var K=[];for(var w=0;w<3;w++)K.push(_.zn(p,m+w*2));console.log(K);x.t50728=[K[1]/K[0],1,K[1]/K[2]]}else console.log("no white balance");
if(x.width*x.height*1.5==x.t279[0]){X=X>>>2;x.t50714=[X,X,X,X];x.t50717=[f[3]>>>2]}}else if(x.t271[0].startsWith("Canon")){var F=x.data,M=F.slice(0),d=x.t50752,A=[],kB=0;
if(d==null||d[0]==0&&d[1]==0)A.push(x.width);else{for(var w=0;w<d[0];w++)A.push(d[1]);A.push(d[2])}var G=x.width*2,q=x.t50885&&x.t50885[0]==4;
if(!q)for(var fO=0;fO<A.length;fO++){var g=A[fO],jN=2*kB,c6=2*g;for(var a7=0;a7<x.height;a7+=2){var bd=a7*G+jN,ey=x.height*jN+a7*c6;
for(var w=0;w<c6;w++){F[bd+w]=M[ey+w];F[bd+w+G]=M[ey+w+c6]}}kB+=g}else{var c5=new Uint16Array(M.buffer),bx=new Uint16Array(F.buffer);
function ap(kE,bm){bx[bm*3+0]=c5[kE*3+0];bx[bm*3+1]=c5[kE*3+1];bx[bm*3+2]=c5[kE*3+2]}var fC=(d[0]*d[1]+d[2])/x.width;
for(var fO=0;fO<A.length;fO++){var g=Math.round(A[fO]/fC);for(var a7=0;a7<x.height;a7++){var kE=x.height*kB+(fC==3?(a7>>>3)*8+[0,4,1,5,2,6,3,7][a7&7]:a7)*g,bm=a7*x.width+kB;
for(var fe=0;fe<g;fe++)ap(kE+fe,bm+fe)}kB+=g}var g8=new Uint16Array(F.buffer),e0=new Uint16Array(1),cF=new Int16Array(e0.buffer);
for(var w=0;w<g8.length;w+=3){var ei=g8[w],cr=g8[w+1],e_=g8[w+2];e0[0]=cr<<2;cr=cF[0]>>2;e0[0]=e_<<2;
e_=cF[0]>>2;g8[w+0]=Math.max(0,e_+ei);g8[w+1]=Math.max(0,(ei<<12)-cr*778-(e_<<11)>>12);g8[w+2]=Math.max(0,cr+ei)}}var j=l.makerNote,kE=j.t224;
if(kE){var H=x.t50719=[kE[5],kE[6]],gg=x.t50720=[kE[7]+1-kE[5],kE[8]+1-kE[6]],bW=j.t154;if(bW){H[0]+=bW[3];
H[1]+=bW[4];gg[0]=bW[1];gg[1]=bW[2]}}if(j.t16385){var gx=j.t16385,h$=gx.length,dH=0;console.log(gx);
if(gx instanceof Array)gx=new Uint16Array(gx);if(h$==582)dH=1;else if(h$==653)dH=2;else if(h$==796)dH=3;
else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(h$)!=-1)dH=4;else if([1816,1820,1824,5120].indexOf(h$)!=-1){dH=5;
gx=new Int16Array(gx.slice(0).buffer)}else if(h$==1273||h$==1275)dH=6;else if([1312,1313,1316,1506].indexOf(h$)!=-1)dH=7;
else if([1560,1592,1353,1602].indexOf(h$)!=-1)dH=8;else if(h$==3656)dH=9;else if(h$==3778||h$==3973)dH=10;
else throw"e"+h$;var eg=gx[0],aB=[null,[25,166],[34,286],[63,196],[63],[71,eg==-4?333:eg==16||eg==17||eg==18||eg==19?329:264],[63,251],[63,eg==10?504:728],[63,326],[85,343],[105,363]],m=aB[dH][0],gB=aB[dH][1];
if(dH==4){if(gx[0]==2)gB=231;else if(gx[0]==3)gB=231;else if(gx[0]==4)gB=231;else if(gx[0]==5)gB=231;
else if(gx[0]==6)gB=231;else if(gx[0]==7)gB=231;else if(gx[0]==9)gB=231;else throw"e"}x.t50728=[gx[m+1]/gx[m],1,gx[m+1]/gx[m+3]];
var X=gB==null?1024:gx[gB];if(dH!=4)x.t50714=[X,X,X,X]}else{x.t50728=[.4,1,.6]}if(q){x.t277=[3];x.t50728=[1,1,1];
x.t50714=[0,0,0,0]}}else if(x.t271[0].startsWith("NIKON")){var j=l.makerNote,jy=x.isLE?_.zn:_.mf,gq=0,kr=0,bt,hn=0;
if(j.t61){var aV=j.t61,ie=[];for(var w=0;w<4;w++)ie[w]=aV[w]/Math.pow(2,14-$);x.t50714=ie}if(j.t3585){var cT=j.t3585,w=0,H=22;
while(H<cT.length&&w!=-4){var a_=_.$J(cT,H);H+=4;H+=14;w=_.$J(cT,H)-4;H+=4;if(a_==1990472198){if(cT[H]!=0)throw"Flip"}if(a_==1990472199){var gs=_.zn(cT,H);
if(gs==0)x._V=1;else if(gs==270)x._V=8;else throw"e "+gs}H+=w}}if(j.t183){var iN=j.t183,gg=[];for(var w=0;
w<6;w++)gg.push(jy(iN,16+w*2));gq=gg[0];kr=gg[1]}if(j.t3614){var jH=j.t3614;gq=_.$J(jH,8);kr=_.$J(jH,12)}if(gq!=0&&Math.max(gq,kr)<Math.max(x.width,x.height)){if(gq<kr){var n=gq;
gq=kr;kr=n}var fe=x.width-gq>>>1,a7=x.height-kr>>>1;x.t50829=[a7,fe,a7+kr,fe+gq]}else x.t50829=[8,8,x.height-8,x.width-56];
var h2=j.t69;if(h2){var an=h2[1];if((an&1)==1)an++;x.t50829=[an,h2[0],an+h2[3],h2[0]+h2[2]]}if(j.t12){var kH=r.raw.alU(j.t12);
bt=[1/kH[0],1,1/kH[1]]}else if(j.t151){var js=r.raw.at8(j,151),gA=js[0],j4=js[1],jR=js[2];if(gA=="0100"&&j4>=80)throw"e";
else if(gA=="0102"){var c3=[];for(var w=0;w<4;w++)c3.push(jy(jR,6+w*2));bt=[c3[1]/c3[0],1,c3[1]/c3[3]]}else if(gA=="0103"&&j4>=26){var c3=[];
for(var w=0;w<4;w++)c3.push(jy(jR,16+w*2));bt=[c3[1]/c3[0],1,c3[3]/c3[2]]}else if(gA=="0204"&&j4>=564||gA=="0205"&&j4>=284){var H=gA=="0204"?6:14,c3=[];
for(var w=0;w<4;w++)c3.push(jy(jR,H+w*2));bt=[c3[1]/c3[0],1,c3[1]/c3[3]]}else throw"e"}else console.log("no white balance info");
if(V=="NIKON D1")bt=[1,1,1];if(bt)x.t50728=bt;var iU=j.t150?j.t150:j.t140;if(iU){var db=iU[hn++],dy=iU[hn++],cx;
if(db==73||dy==88)hn+=2110;hn+=8;var c2=1<<$&32767,bk=jy(iU,hn);hn+=2;var Z=[];if(bk>1)cx=Math.floor(c2/(bk-1));
if(db==68&&dy==32&&cx>0){for(w=0;w<bk;w++){Z[w*cx]=jy(iU,hn);hn+=2}for(w=0;w<c2;w++)Z[w]=Math.floor((Z[w-w%cx]*(cx-w%cx)+Z[w-w%cx+cx]*(w%cx))/cx)}else if(db!=70&&bk<=16385){c2=bk;
for(var w=0;w<bk;w++)Z[w]=jy(iU,hn+2*w);hn+=2*bk}var V=x.t272[0];if(Z.length!=0)x.t50712=new Uint16Array(Z);
if(x.t258[0]==14&&x.t50717&&x.t50717[0]<1e4){console.log("fixing white");x.t50717[0]*=4}}}else if(k.startsWith("FujiFilm")){}else if(k.startsWith("Panasonic")){if(x.t277==null)x.t277=[1]}else alert("Unknown camera "+k)};
r.raw.a4h=function(x,F,W,n){if(0==W)return;var L=new Uint32Array(128),$=new Uint8Array(L.buffer),l=127,k=0,V=0;
for(var l=0;l<4;l++)L[l]=n=(n*15625>>>0)*3125+1>>>0;L[3]=L[3]<<1|(L[0]^L[2])>>>31;for(var l=4;l<127;
l++)L[l]=(L[l-4]^L[l-2])<<1|(L[l-3]^L[l-1])>>>31;for(var l=0;l<127;l++)L[l]=_.q($,l*4);for(;W>0;W--){L[l&127]=L[l+1&127]^L[l+1+64&127];
var i=L[l&127],f=x[k];f^=i;F[V]=f;k++;V++;l++}};r.raw.a3s=function(x,F){var W=_.xR(F,0,4),n=r.raw.aet;
for(var w=0;w<n.length;w++)if(n[w][0]==x&&W.startsWith(n[w][1])&&(n[w][2]==0||n[w][2]==F.length))return n[w];
throw"e"};r.raw.abi=function(x){if(x.t29==null)return[];var F=r.raw.aqY,W=r.raw.abt,n=x.t29[0],L=0,l=0;
for(var w=0;w<n.length;w++){var $=n.charCodeAt(w);L=L*10+(48<=$&&$<=57?$-48:$%10)}var j4=x.t167[0];for(var w=0;
w<4;w++)l^=j4>>>(w<<3)&255;var k=F[L&255],V=W[l&255];return[k,V,96]};r.raw.at8=function(x,F){var W=x["t"+F],j4=W.length,n=r.raw.a3s(F,W),L=_.xR(W,0,4),$,l=n[4];
if(l==null)$=W.slice(4);else{$=new Uint8Array(j4-l);var k=r.raw.abi(x),V=k[0],i=k[1],f=k[2];for(var w=0;
w<$.length;w++){i=i+V*f++&255;$[w]=W[l++]^i}}return[L,j4,$]};r.raw.a7j=function(x,F){var W=F.t271[0],n=F.t272[0],L=F.t256[0],$=F.t257[0],l=F.t258[0],k=F.t273[0],V=k,i=new Uint8Array(x),f,X=L-4,s=$,R=i.length-k,e=0,U=0;
function h(){var I=new Uint16Array(4096),dx=0;I[dx]=3084;for(var w=12;w--;)for(var y=0;y<2048>>w;y++)I[++dx]=w+1<<8|w;
return I}function B(){return i[V++]}function o(I,y){var D;if(I>25)return 0;if(I==0||U<0)return 0;if(I<0){e=0;
U=0;return 0}while(U<I){D=B();if(D==null)break;e=(e<<8)+(255&D);U+=8}D=U==0?0:e<<32-U>>>32-I;if(y){U-=y[D]>>8;
D=255&y[D]}else U-=I;return D}function b(){var I=h();V+=7;o(-1);for(var y=0;y<s;y++){var D=[new Int32Array(3),new Int32Array(3)];
for(var N=0;N<L;N++){var j=D[N&1],w=2*(j[2]<3),H;for(H=2+w;(65535&j[0])>>H+w;H++);var Q=o(3),C=Q&3;Q=Q<<29>>31;
var J=o(12,I);if(J==12)J=o(16-H)>>>1;var E=o(H);j[0]=J<<H|E;var T=(j[0]^Q)+j[1];j[1]=T*3+j[1]>>5;j[2]=j[0]>16?0:j[2]+1;
if(N>=X)continue;var c=f[y*L+N-2],dx=f[(y-2)*L+N],a=f[(y-2)*L+N-2];f[y*L+N]=(y<2&&N<2?0:y<2?c:N<2?dx:c<a&&a<dx||dx<a&&a<c?Math.abs(c-a)>32||Math.abs(dx-a)>32?c+dx-a:c+dx>>1:Math.abs(c-a)>Math.abs(dx-a)?c:dx)+(T<<2|C)}}}function u(){var I=L*l/8,y=$+1>>1,N=0,j=0;
I+=I&6>>7;var D=I*8-L*l;for(var H=0;H<$;H++){var Q=H%y*2+~~(H/y);if(Q==1){N=0;V=k-(-y*I&-2048)}for(var C=0;
C<L;C++){for(N-=l;N<0;N+=8){j<<=8;for(var w=0;w<8;w+=8)j|=B()<<w}var J=j<<64-l-N>>>64-l;f[Q*L+C]=J}N-=D}}function Z(){var I=!W.startsWith("OLYMPUS")||!W.startsWith("OM Digi")||!W.toLowerCase().startsWith("clauss")&&!n.toLowerCase().startsWith("pix 5oo");
return I&&R<L*$}if(Z()){f=new Uint16Array(X*s);b()}else{f=new Uint16Array(L*$);u()}return f};r.raw.aet=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
r.raw.aqY=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
r.raw.abt=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
r.X$={};r.X$.X$=function(x,F,W,n,L){if(n==null)n=3;if(L==null)L=!0;var $=x.m,l=x.e,k=1/$,V=$*l,i=Date.now(),f=!1,X=r.X$.ah1(W,$,l,255,128),s=r.X$.ah1(W,$,l,0,128),kB=0;
if(f)console.log("extract contours",Date.now()-i);i=Date.now();var R=function(cT,a_){var gs=cT<<2,gq=a_<<2;
return F[gs]+F[gs+1]+F[gs+2]-(F[gq]+F[gq+1]+F[gq+2])};X.sort(R);s.sort(R);var h=r.R(V),B=r.R(V),e=[],U=new Uint32Array($*l);
U.fill(4294967295);for(var w=0;w<V;w++)if(W[w]==0)B[w]=255;else if(W[w]==255)h[w]=255;else{U[w]=e.length;
e.push(w)}var o=X.length,b=s.length,u=e.length;function Z(cT,a_,gs,gq){var kr=cT.length,iN=new Array(kr*2);
for(var w=0;w<kr;w++){var c=cT[w],a=~~(c*gq),K=c-a*gs,aB=c<<2;iN[w*2]=K<<16|a;iN[w*2+1]=a_[aB]<<16|a_[aB+1]<<8|a_[aB+2]}return iN}var I=Z(X,F,$,k),y=Z(s,F,$,k),D=Z(e,F,$,k);
if(f)console.log("Itemize",Date.now()-i,"Unknown:",u,o,b);i=Date.now();var N=r.style.vZ(h,$,l,!0),j=r.style.vZ(B,$,l,!0),H=new Array(u),Q=new Array(u),C=new Array(u),J=new Array(u),E=new Array(u);
if(f)console.log("Dist transform",Date.now()-i);i=Date.now();var T=r.X$.Dc;for(var w=0;w<u;w++){var c=e[w],a=~~(c*k),K=c-a*$,Y=N[c<<1],p=N[(c<<1)+1],P=Math.sqrt(Y*Y+p*p),m=j[c<<1],z=j[(c<<1)+1],M=Math.sqrt(m*m+z*z);
H[w]=1/P;Q[w]=1/M;var d=Math.floor(r.l.W1(c*17)*o),A=Math.floor(r.l.W1(c*19)*b);C[w]=d;J[w]=A;E[w]=T(D[w*2],D[w*2+1],I[d*2],I[d*2+1],y[A*2],y[A*2+1],H[w],Q[w],1e9)}var G=[-$-1,-$,-$+1,-1,1,$-1,$,$+1];
while(Math.floor(Math.max(o,b)*Math.pow(.5,kB))>1)kB++;for(var q=0;q<n;q++){var fO=0;for(var w=0;w<u;
w++){var c=e[w],a=~~(c*k),K=c-a*$,g=H[w],jN=Q[w],c6=D[w*2],a7=D[w*2+1],bd=E[w],d=C[w],A=J[w],kE=1;if(a!=0&&K!=0&&K!=$-1&&a!=l-1)for(var ey=0;
ey<8;ey++){var c5=U[c+G[ey]];if(c5==4294967295)continue;var bx=C[c5],ap=J[c5];if(bx==d&&ap==A)continue;
var fC=T(c6,a7,I[bx*2],I[bx*2+1],y[ap*2],y[ap*2+1],g,jN,bd);if(fC<bd){bd=fC;d=bx;A=ap}}for(var bm=0;
bm<kB;bm++){var fe=~~(o*kE),e0=~~(b*kE);kE*=.5;var cF=r.l.W1(c+q*17+bm*31),ei=r.l.W1(c+q*29+bm*63),cr=Math.max(0,d-fe),e_=Math.min(d+fe,o-1),gg=Math.max(0,A-e0),bW=Math.min(A+e0,b-1),bx=cr+~~(cF*(e_-cr)),ap=gg+~~(ei*(bW-gg)),fC=T(c6,a7,I[bx*2],I[bx*2+1],y[ap*2],y[ap*2+1],g,jN,bd);
if(fC<bd){bd=fC;d=bx;A=ap}}E[w]=bd;C[w]=d;J[w]=A;fO+=bd}}if(f)console.log(fO);if(f)console.log("iterations",Date.now()-i);
i=Date.now();var gx=W.slice(0);for(var w=0;w<u;w++){var h$=r.X$.alpha(D[w*2+1],I[C[w]*2+1],y[J[w]*2+1]);
gx[e[w]]=~~(.5+255*h$)}gx=r.UQ.apF(gx,F,new eu(0,0,$,l),16,.01*.01);if(f)console.log("guided filter",Date.now()-i);
i=Date.now();if(L)for(var w=0;w<V;w++)if(W[w]==255||W[w]==0)gx[w]=W[w];var dH=F.slice(0);for(var w=0;
w<u;w++){var eg=e[w],d=X[C[w]],bd=E[w],aB=eg<<2,gB=gx[eg],jy=(gB>=250?eg:d)<<2;dH[aB]=F[jy];dH[aB+1]=F[jy+1];
dH[aB+2]=F[jy+2]}r.rW(gx,dH,3);if(f)console.log(Date.now()-i);i=Date.now();return dH};r.X$.Dc=function(x,F,W,n,L,$,l,k,V){var i=x>>>16,f=x&65535,X=i-(W>>>16),s=f-(W&65535),R=i-(L>>>16),h=f-(L&65535),B=Math.sqrt(X*X+s*s)*l,e=Math.sqrt(R*R+h*h)*k;
if(B+e>=V)return 1e9;var U=r.X$.ad4(F,n,$);return U+B+e};r.X$.ad4=function(x,F,W){var n=x>>>16,L=x>>>8&255,$=x&255,l=F>>>16,k=F>>>8&255,V=F&255,i=W>>>16,f=W>>>8&255,X=W&255,s=r.X$.alpha(x,F,W),R=n-(s*l+(1-s)*i),h=L-(s*k+(1-s)*f),B=$-(s*V+(1-s)*X);
return Math.sqrt(R*R+h*h+B*B)};r.X$.alpha=function(x,F,W){var n=x>>>16,L=x>>>8&255,$=x&255,l=F>>>16,k=F>>>8&255,V=F&255,i=W>>>16,f=W>>>8&255,X=W&255,s=l-i,R=k-f,h=V-X,B=n-i,e=L-f,U=$-X,o=s*s+R*R+h*h,b=o==0?.5:(B*s+e*R+U*h)/o;
return Math.max(0,Math.min(1,b))};r.X$.aCg=function(x){};r.X$.ah1=function(x,F,W,n,L){var $=[],l=F-1,k=W-1;
for(var V=1;V<k;V++)for(var i=1;i<l;i++){var w=V*F+i;if(x[w]==n&&(x[w-F-1]==L||x[w-F]==L||x[w-F+1]==L||(x[w-1]==L||x[w+1]==L)||(x[w+F-1]==L||x[w+F]==L||x[w+F+1]==L)))$.push(w)}return $};
r.UQ={};r.UQ.a9K=function(x,F,W,n,L){var $=W.m,l=W.e,k=$*l,V=r.UQ.azr,i=r.R(k*4),f;r.De(i,4294967295);
var X=W,s=x,R=F,h=n;r.rW(x,i,0);f=r.gR(i,W);f=r.gR(f.Xu,f.rect);X=f.rect;h=n>>>2;console.log(X,h);s=r.R(X.P());
r.Tb(f.Xu,s,0);r.rW(F,i,0);f=r.gR(i,W);f=r.gR(f.Xu,f.rect);R=r.R(X.P());r.Tb(f.Xu,R,0);var B=r.UQ.aah(s,R,X,h,L),e=B[0],U=B[1],o=new eu(0,0,X.m*2,X.e*2);
e=V(e,X,o,!0);e=V(e,o,W,!0);U=V(U,X,o,!0);U=V(U,o,W,!0);var b=r.R(k);for(var w=0;w<k;w++)b[w]=Math.max(0,Math.min(255,Math.floor(.5+(e[w]*F[w]+255*U[w]))));
return b};r.UQ.azr=function(x,F,W,n){var L=W.m,$=W.e,l=F.m,k=F.e,V=r.UQ.QU,i=new Float32Array(L*$);for(var f=0;
f<k;f++){var X=(f+f)*L;for(var s=0;s<l;s++){if(!0||s==0||f==0||s==l-1||f==k-1)i[X]=i[X+1]=i[X+L]=i[X+L+1]=x[f*l+s];
else{i[X]=V(s+.25,f+.25,x,l,k);i[X+1]=V(s+.75,f+.25,x,l,k);i[X+L]=V(s+.25,f+.75,x,l,k);i[X+L+1]=V(s+.75,f+.75,x,l,k)}X+=2}}return i};
r.UQ.QU=function(x,F,W,n,L){x-=.499999;F-=.499999;var $=Math.floor(x),l=Math.floor(F),k=l*n+$,V=x-$,i=F-l,f=(1-i)*(1-V),X=(1-i)*V,s=i*(1-V),R=i*V;
if(W[k]==null||W[k+n+1]==null){console.log(x,F,n,L);throw"e"}return f*W[k+0]+X*W[k+1]+s*W[k+n+0]+R*W[k+n+1]};
r.UQ.aah=function(x,F,W,n,L){var $=W.m,l=W.e,k=$*l,V=r.UQ.ai5,i=r.UQ.R,f=r.wG.XI,X=r.UQ.c1,F=V(F),x=V(x),s=i(k);
f(F,s,W,n);var R=i(k);f(x,R,W,n);var h=i(k);X(F,F,h);f(h,h,W,n);var B=i(k);X(F,x,B);f(B,B,W,n);var e=i(k),U=i(k);
for(var w=0;w<k;w++){var o=s[w],b=R[w],u=h[w]-o*o,Z=B[w]-o*b,I=Z/(u+L),y=b-I*o;e[w]=I;U[w]=y}var D=i(k);
f(e,D,W,n);var N=i(k);f(U,N,W,n);return[D,N]};r.UQ.apF=function(x,F,W,n,L){var $=W.m,l=W.e,k=$*l,V=r.UQ.azr,i=Date.now(),f=!1,X=W,s=x,R=F,h=n;
X=new eu(0,0,$>>>2,l>>>2);h=n>>>2;s=r.UQ.a91(x,$,l);R=r.UQ.auJ(F,$,l);if(f)console.log(Date.now()-i);
i=Date.now();var B=r.UQ.amh(s,R,X,h,L),e=B[0],U=B[1],o=B[2],b=B[3];if(f)console.log(Date.now()-i);i=Date.now();
var u=r.R(k);for(var Z=0;Z<l;Z++)for(var I=0;I<$;I++){var w=Z*$+I,y=(Z>>>2)*($>>>2)+(I>>>2),D=w<<2,N=e[y]*F[D]+U[y]*F[D+1]+o[y]*F[D+2]+b[y]*255;
u[w]=Math.max(0,Math.min(255,~~(.5+N)))}if(f)console.log(Date.now()-i);i=Date.now();return u};r.UQ.a91=function(x,F,W){var n=F>>>2,L=W>>>2,$=r.R(F*W);
for(var l=0;l<L;l++)for(var k=0;k<n;k++)$[l*n+k]=x[l*F+k<<2];return $};r.UQ.auJ=function(x,F,W){var n=F>>>2,L=W>>>2,$=r.R(F*W*4);
for(var l=0;l<L;l++)for(var k=0;k<n;k++){var V=l*n+k<<2,i=l*F+k<<4;$[V]=x[i];$[V+1]=x[i+1];$[V+2]=x[i+2];
$[V+3]=x[i+3]}return $};r.UQ.amh=function(x,F,W,n,L){var $=W.m,l=W.e,k=$*l,V=r.UQ.ai5,i=r.UQ.R,f=r.wG.XI,X=r.UQ.c1,x=V(x),s=new r.Co($*l);
r.G6(F,s);var F=[V(s.o),V(s.r),V(s.z)],R=r.UQ.a0v(x,F,W,n,L),h=i(k);f(x,h,W,n);var B=i(k);X(F[0],x,B);
f(B,B,W,n);var e=i(k);X(F[1],x,e);f(e,e,W,n);var U=i(k);X(F[2],x,U);f(U,U,W,n);var o=i(k),b=i(k),u=i(k),Z=i(k);
for(var w=0;w<k;w++){var I=h[w],y=R.zo[w],D=R.AR[w],N=R.Xr[w],j=B[w]-y*I,H=e[w]-D*I,Q=U[w]-N*I;o[w]=R.anH[w]*j+R.Mx[w]*H+R.ng[w]*Q;
b[w]=R.Mx[w]*j+R.avS[w]*H+R.Ey[w]*Q;u[w]=R.ng[w]*j+R.Ey[w]*H+R.aeG[w]*Q;Z[w]=I-o[w]*y-b[w]*D-u[w]*N}f(o,o,W,n);
f(b,b,W,n);f(u,u,W,n);f(Z,Z,W,n);return[o,b,u,Z]};r.UQ.a0v=function(x,F,W,n,L){var $=W.m,l=W.e,k=$*l,V=r.UQ.R,i=r.wG.XI,f=r.UQ.c1,X={};
X.zo=V(k);i(F[0],X.zo,W,n);X.AR=V(k);i(F[1],X.AR,W,n);X.Xr=V(k);i(F[2],X.Xr,W,n);var s=V(k);f(F[0],F[0],s);
i(s,s,W,n);var R=V(k);f(F[0],F[1],R);i(R,R,W,n);var h=V(k);f(F[0],F[2],h);i(h,h,W,n);var B=V(k);f(F[1],F[1],B);
i(B,B,W,n);var e=V(k);f(F[1],F[2],e);i(e,e,W,n);var U=V(k);f(F[2],F[2],U);i(U,U,W,n);X.anH=s;X.Mx=R;
X.ng=h;X.avS=B;X.Ey=e;X.aeG=U;for(var w=0;w<k;w++){var o=X.zo[w],b=X.AR[w],u=X.Xr[w],Z=s[w]-o*o+L,I=R[w]-o*b,y=h[w]-o*u,D=B[w]-b*b+L,N=e[w]-b*u,j=U[w]-u*u+L,H=D*j-N*N,Q=N*y-I*j,C=I*N-D*y,J=Z*j-y*y,E=y*I-Z*N,T=Z*D-I*I,c=H*Z+Q*I+C*y,a=1/c;
X.anH[w]=H*a;X.Mx[w]=Q*a;X.ng[w]=C*a;X.avS[w]=J*a;X.Ey[w]=E*a;X.aeG[w]=T*a}return X};r.UQ.R=function(x){return new Float32Array(x)};
r.UQ.ai5=function(x){var F=x.length,W=new Float32Array(F);for(var w=0;w<F;w++)W[w]=x[w]*(1/255);return W};
r.UQ.c1=function(x,F,W){for(var w=0;w<x.length;w++)W[w]=x[w]*F[w]};r.j1={};r.j1.xO=function(x,F,W,n){var L=x[F]-W[n],$=x[F+1]-W[n+1],l=x[F+2]-W[n+2];
return Math.sqrt(L*L+$*$+l*l)*(1/441.7)};r.j1.getSelection=function(x,F,W){var n=F*W,L=r.R(n),$=!1,l=Math.round(W*.7),k=1,V=new Uint32Array(12),i=r.R(12);
for(var f=0;f<l;f++)for(var X=0;X<F;X++){if(X<k||f<k||X>F-k-1||f>W-k-1){var w=f*F+X,s=w<<2,R=0;if(f<k)R=4;
else if(X>F-k-1)R=8;V[R]+=x[s];V[R+1]+=x[s+1];V[R+2]+=x[s+2];V[R+3]++;L[w]=255}}for(var w=0;w<12;w+=4)for(var h=0;
h<3;h++)i[w+h]=V[w+h]/V[w+3];var B=new Float32Array(n);for(var w=0;w<n;w++){var s=w*4,e=r.j1.xO(x,s,i,0),U=r.j1.xO(x,s,i,4),o=r.j1.xO(x,s,i,8),b=Math.max(e,Math.max(U,o));
B[w]=e+U+o-b}r.j1.h_(B);var u=Date.now(),Z=new Float32Array(n),I=[],y=r.R(n);for(var w=0;w<3;w++){r.Tb(x,y,w);
var D=new Uint16Array(n);I.push(D);r.j1.abP(y,L,F,W,D)}if($)console.log("MBD",Date.now()-u);u=Date.now();
for(var w=0;w<n;w++)Z[w]=I[0][w]+I[1][w]+I[2][w];r.j1.h_(Z);for(var w=0;w<n;w++)Z[w]+=.4*B[w];var N=F>>>1,l=W>>>1,j=1/Math.sqrt(N*N+l*l);
for(var f=0;f<W;f++)for(var X=0;X<F;X++){var H=X-N,Q=f-l,C=1-Math.sqrt(H*H+Q*Q)*j;Z[f*F+X]*=C}if($)console.log("Centeredness",Date.now()-u);
u=Date.now();for(var w=0;w<n;w++)L[w]=Z[w]*255;var J=Math.round(F/120),E=Math.round(J*.8);if($)console.log(J,E);
r.sQ.hu(L,L,F,W,J+J+1,!1);if($)console.log("erosion",Date.now()-u);u=Date.now();for(var w=0;w<n;w++)Z[w]=L[w];
r.j1.h_(Z);var T=r.R(256);for(var w=0;w<256;w++)T[w]=256/(1+Math.exp(-20*(w/255-.5)));for(var w=0;w<n;
w++){var c=~~(Z[w]*255+.5);L[w]=T[c]}if($)console.log("Simoid",Date.now()-u);u=Date.now();return L};
r.j1.h_=function(x){var F=x.length,W=0;for(var w=0;w<F;w++)W=Math.max(W,x[w]);var n=1/W;for(var w=0;
w<F;w++)x[w]=x[w]*n};r.j1.abP=function(x,F,W,n,L){var $=W*n,l=x.slice(0),k=x.slice(0);for(var w=0;w<$;
w++)L[w]=F[w]==255?0:65535;r.j1.adx(x,k,l,L,W,n);r.j1.a3H(x,k,l,L,W,n);r.j1.adx(x,k,l,L,W,n);r.j1.a3H(x,k,l,L,W,n);
return L};r.j1.adx=function(x,F,W,n,L,$){for(var l=1;l<L;l++)r.j1.tk(l,-1,x,F,W,n);for(var k=1;k<$;k++){r.j1.tk(k*L,-L,x,F,W,n);
for(var l=1;l<L;l++){var w=k*L+l;r.j1.tk(w,-1,x,F,W,n);r.j1.tk(w,-L,x,F,W,n)}}};r.j1.a3H=function(x,F,W,n,L,$){for(var l=L-2;
l>=0;l--)r.j1.tk(L*$-L+l,1,x,F,W,n);for(var k=$-2;k>=0;k--){r.j1.tk(k*L+L-1,L,x,F,W,n);for(var l=L-2;
l>=0;l--){var w=k*L+l;r.j1.tk(w,1,x,F,W,n);r.j1.tk(w,L,x,F,W,n)}}};r.j1.tk=function(w,x,F,W,n,L){var $=w+x,l=F[w],k=W[$],V=n[$];
if(k<l)k=l;else if(l<V)V=l;var i=k-V;if(L[$]!=65535&&i<L[w]){L[w]=i;W[w]=k;n[w]=V}};r.IL={};r.IL.filter=function(x,F,W,n){var L=F.m,$=F.e,l=L*$,k=n[0],V=n[1],i=n[2],f=n[3],X=n[4],s=n[5],R=n[6],h=Date.now(),B=new Float32Array(L*$*4);
r.IL.afM(x,L,$,B);var e=Math.ceil(k*Math.sqrt(-2*Math.log(.1))),U=new ArrayBuffer(l*4),o=new Float32Array(U),b=new Float32Array(l),u=new Float32Array(l);
for(var w=0;w<l;w++){var Z=w*4;o[w]=B[Z];b[w]=B[Z+1];u[w]=B[Z+2]}r.wG.vL(o,o,F,e*1/2.4,2);r.wG.vL(b,b,F,e*1/2.4,2);
r.wG.vL(u,u,F,e*1/2.4,2);for(var w=0;w<l;w++){var Z=w*4;B[Z]=o[w];B[Z+1]=b[w];B[Z+2]=u[w]}var I=new Uint8Array(U);
for(var w=0;w<l;w++){var Z=w*4,y=w*4,o=B[Z],b=B[Z+1],u=B[Z+2],D=Math.sqrt((o-u)*(o-u)+4*b*b),N=(o+u+D)*.5,j=(o+u-D)*.5,H=j-u,Q=b,C=H*H+Q*Q;
if(C!=0){var J=Math.sqrt(C),E=1/J;H*=E;Q*=E}I[y]=128+127*H;I[y+1]=128+127*Q}var T=1.3*V+2,c=f*(2/10),a=x.slice();
if(hl.Cp){var K=new Float32Array([1/L,1/$]),Y=hl.VH(0,L,$);Y.set(a);var p=hl.VH(1,L,$);p.set(I);hl.uR(Y,F);
if(X){Y.s2(F);hl.filter.Yq({type:hl.filter.aBP,FT:K,aza:1/i,ah$:c},Y.r4)}Y.s2(F);hl.filter.Yq({type:hl.filter.JE,$l:p.Yn,FT:K,a6R:T,a07:2},Y.r4);
if(X){Y.s2(F);hl.filter.Yq({type:hl.filter.avz,FT:K,aCJ:new Float32Array(R),alR:s},Y.r4)}Y.get(W)}else{if(X)r.IL.vM(1/i,c,a,L,$);
r.IL.JE(a,W,I,L,$,T);if(X)r.IL.amV(L,$,W,R,s)}var P=l*4;for(var w=3;w<P;w+=4)W[w]=x[w]};r.IL.JE=function(x,F,W,n,L,$){var l=Math.ceil(2*$),k=-1/(2*$*$),V=[],i=1;
for(var w=0;w<l+20;w++)V[w]=Math.exp(w*w*k);var f=[0,0,0,0];for(var X=0;X<L;X++){for(var s=0;s<n;s++){var R=X*n+s,h=R*4,B=1,e=x[h],U=x[h+1],o=x[h+2],b=x[h+3],u=(W[h]-128)*(1/127),Z=(W[h+1]-128)*(1/127),I=u,y=Z,D=s==0?.51:.49,N=X==0?.51:.49;
for(var w=0;w<2;w++){var j=s+D,H=X+N,Q=0;while(Q<l){if(j<.5||n-.5<j||H<.5||L-.5<H)break;var C=~~j,J=~~H,E=J*n+C,T=E*4,c=(W[T]-128)*(1/127),a=(W[T+1]-128)*(1/127);
if(c*I+a*y<0){c=-c;a=-a}I=c;y=a;j+=i*c;H+=i*a;if(j<.5||n-.5<j||H<.5||L-.5<H)break;var K=~~j,Y=~~H,p=Y*n+K<<2;
Q+=i;var P=V[~~Q];r.D.aiW(j,H,x,n,L,f);e+=f[0]*P;U+=f[1]*P;o+=f[2]*P;b+=f[3]*P;B+=P}I=-u;y=-Z}var m=1/B;
F[h]=~~(.5+e*m);F[h+1]=~~(.5+U*m);F[h+2]=~~(.5+o*m);F[h+3]=~~(.5+b*m)}}};r.IL.amV=function(x,F,W,n,L){for(var $=0;
$<F;$++)for(var l=0;l<x;l++){var k=$*x+l<<2,V=1+r.IL.alu(l,$,W,x,F,n)*L;W[k]=Math.max(0,Math.min(255,W[k]*V));
W[k+1]=Math.max(0,Math.min(255,W[k+1]*V));W[k+2]=Math.max(0,Math.min(255,W[k+2]*V))}};r.IL.alu=function(x,F,W,n,L,$){var l=W[(F*n+Math.max(0,x-1))*4+3],k=W[(F*n+Math.min(n-1,x+1))*4+3],V=W[(Math.max(0,F-1)*n+x)*4+3],i=W[(Math.min(L-1,F+1)*n+x)*4+3],f=.7,X=(k-l)*(1/255),s=.7,R=(i-V)*(1/255),h=-X*s,B=-f*R,e=f*s,U=Math.sqrt(h*h+B*B+e*e),o=1/U,b=h*o,u=B*o,Z=e*o,I=$[0]*b+$[1]*u+$[2]*Z;
return I};r.IL.vM=function(x,F,W,n,L){function $(k,i,f){return Math.max(i,Math.min(f,k))}for(var l=0;
l<L;l++)for(var k=0;k<n;k++){var V=r.IL.agv(k+.5,l+.5,x,F);W[(l*n+k)*4+3]=Math.max(0,Math.min(255,V*255))}};
r.IL.agv=function(x,F,W,n){function L(y,D,N){return(1-N)*y+N*D}var $=(x+613)*W,l=(F+117)*W,k=~~$,V=~~l,i=$-k,f=l-V,X=Math.sin(11),s=Math.cos(k)*X,R=Math.cos(k+1)*X,h=Math.cos(V)*X,B=Math.cos(V+1)*X,dx=r.IL.hash(s,h),e=r.IL.hash(R,h),U=r.IL.hash(s,B),o=r.IL.hash(R,B),b=L(dx,e,i),u=L(U,o,i),Z=L(b,u,f);
Z=Z<.5?0:1;var I=Z+n*r.IL.hash(Math.cos($)*X,Math.cos(l)*X);return I*(1/3)};r.IL.hash=function(x,F){var W=Math.sin(x*11.697096+F*73.32456)*12157.47691;
return W-Math.floor(W)};r.IL.afM=function(x,F,W,n){var L=[-1,0,1,-2,0,2,-1,0,1],$=[-1,-2,-1,0,0,0,1,2,1],l=F-1,k=W-1,V=F*4;
for(var i=1;i<k;i++)for(var f=1;f<l;f++){var w=i*F+f,X=w*4,s=r.IL.e4(x,X,V,L),R=r.IL.e4(x,X,V,$),h=r.IL.e4(x,X+1,V,L),B=r.IL.e4(x,X+1,V,$),e=r.IL.e4(x,X+2,V,L),U=r.IL.e4(x,X+2,V,$);
n[X]=s*s+h*h+e*e;n[X+1]=s*R+h*B+e*U;n[X+2]=R*R+B*B+U*U}r.IL.aCn(n,F,W)};r.IL.e4=function(x,F,W,n){return x[F-W-4]*n[0]+x[F-W]*n[1]+x[F-W+4]*n[2]+x[F-4]*n[3]+x[F]*n[4]+x[F+4]*n[5]+x[F+W-4]*n[6]+x[F+W]*n[7]+x[F+W+4]*n[8]};
r.IL.aCn=function(x,F,W){function n(V,w,i){var f=w*4,X=i*4;V[X]=V[f];V[X+1]=V[f+1];V[X+2]=V[f+2]}var L=F-1,$=W-1;
n(x,F+1,0);n(x,2*F-2,F-1);for(var l=1;l<L;l++)n(x,F+l,l);for(var k=1;k<$;k++){n(x,k*F+1,k*F);n(x,k*F+F-2,k*F+F-1)}for(var l=1;
l<L;l++)n(x,(W-2)*F+l,(W-1)*F+l);n(x,(k-2)*F+1,(k-1)*F);n(x,(k-1)*F-2,k*F-1)};r.YQ=function(){function x(i,f,X,s){var R=new Float32Array(i*i),h=i/2;
for(var B=0;B<i;B++)for(var e=0;e<i;e++){var U=e+X-h,o=B+s-h;R[B*i+e]=Math.max(0,Math.min(1,f+.5-Math.sqrt(U*U+o*o)))}return R}var F=[],n=null;
function W(i,f,X,s){var R=Math.floor(f*10),h=F[R],B=i*8,e=B>>>1;if(h==null){h=F[R]=[];var U=new eu(0,0,B,B),o=i/2/(1+.2*f),b=Math.floor(i*R*.1);
for(var u=0;u<2;u++)for(var Z=0;Z<2;Z++){var I=x(B,o,.25+Z*.5,.25+u*.5),y=0;r.wG.vL(I,I,U,b);while(I[B*e+y]<.005)y++;
if(y!=0)y--;var D=2*(e-y),N=new eu(y,y,D,D),j=new Float32Array(D*D);for(var H=0;H<D;H++)for(var Q=0;
Q<D;Q++)j[H*D+Q]=I[(y+H)*B+y+Q];h.push([j,N])}}var C=Math.floor(X),J=Math.floor(s),E=X-C,T=s-J,c=E<.5?1:0,a=T<.5?1:0;
h=h[a*2+c];var N=h[1].clone();N.x+=C-e;N.y+=J-e;return[h[0],N]}function L(i,f,X){if(n==null){n=new Uint8Array(4e4);
for(var w=0;w<4e4;w++)n[w]=Math.min(255,~~(.5+255*r.kB(w*(1/255))))}var s=i.length;for(var w=0;w<s;w++){var R=i[w],h=~~(255*R);
f[w]=n[h]<<24|X}}function $(i,f,X,s,R){var h=f.jB(s),B=Math.max(0,h.x-f.x),e=Math.max(0,h.x-s.x),U=Math.max(0,h.y-f.y),o=Math.max(0,h.y-s.y),b=h.m,u=h.e;
for(var w=0;w<u;w++){var Z=(U+w)*f.m+B,I=(o+w)*s.m+e;for(var y=0;y<b;y++){X[I+y]+=R*i[Z+y]}}}var l=-1;
function k(i,f,X,s,R){var h=Math.round(s[1]*f*X*.01),B=s[2],e=s[3],U=s[4],o=s[5],b=s[6],u=s[7],Z=s[8],I=s[9],y=s[10]?s[10]:1,P=!1;
if(B!=l){F=[];l=B}var D=Date.now(),N=new eu(0,0,f,X),j=new V(s[0]);if(R)i.fill(0);var H=new Float32Array(R?i.buffer:f*X);
for(var w=0;w<h;w++){var Q=j.get()*f,C=j.get()*X,J=j.get()*e,E=j.get()*B*4,T=(j.get()+b)*Math.PI*2,c=j.get()*B*4,a=(j.get()+2*b)*Math.PI*2;
Q+=I*(E*Math.cos(T)+c*Math.cos(a));C+=I*(E*Math.sin(T)+c*Math.sin(a));if(Z)C=C+b*X*y;var K=W(B,J,Q,C%X),Y=U,p=j.get();
if(u)Y=.5+.5*U*(.5+.5*Math.sin((2*b+p)*2*Math.PI));$(K[0],K[1],H,N,Y)}if(P)console.log(Date.now()-D,"add floats");
D=Date.now();var m=new Uint8Array(H.buffer);L(H,new Uint32Array(m.buffer),o.z<<16|o.r<<8|o.o);if(P)console.log(Date.now()-D,"toInt");
D=Date.now();if(!R){r.l.X3("scrn",m,N,i,N,N,1);if(P)console.log(Date.now()-D,"blendOver")}}function V(i){this.vE=123456789;
this.cA=987654321;this.F=4294967295;this.ey(i)}V.prototype.ey=function(w){this.vE=123456789+w&this.F;
this.cA=987654321-w&this.F};V.prototype.get=function(){this.cA=36969*(this.cA&65535)+(this.cA>>16)&this.F;
this.vE=18e3*(this.vE&65535)+(this.vE>>16)&this.F;var i=(this.cA<<16)+(this.vE&65535)>>>0;i/=4294967296;
return i};return{tC:k}}();r.l1={};r.l1.xL=function(x,F,W,n){var L=x[F*2],$=x[F*2+1],l=x[W*2],k=x[W*2+1],V=x[n*2],i=x[n*2+1];
return L*k+l*i+V*$-V*k-l*$-L*i};r.l1.aer=function(x,F){var W=[],n=[],L=[],$={};for(var w=0;w<F.length;
w+=3){var l=~~(w*(1/3)),k=F[w+0],V=F[w+1],i=F[w+2],f=r.l1.xL(x,k,V,i);if(f>0){var X=V;V=i;i=X}var s=$[i+"-"+V],R=$[V+"-"+k],h=$[k+"-"+i],B=[i,s,l,null],e=[V,R,l,B],U=[k,h,l,e];
B[3]=U;if(s)s[1]=B;if(R)R[1]=e;if(h)h[1]=U;$[i+"-"+k]=U;$[k+"-"+V]=e;$[V+"-"+i]=B;W[k]=e;L[w]=e;W[V]=B;
L[w+1]=B;W[i]=U;L[w+2]=U;n[l]=e}return{Cz:W,hs:n,yK:L}};r.l1.alO=function(x){var F=[],W=x.hs;for(var w=0;
w<W.length;w++){var n=W[w];F.push(n[0]);n=n[3];F.push(n[0]);n=n[3];F.push(n[0])}return F};r.l1.ajb=function(x,F,W,n){var L=x[F*2],$=x[F*2+1],l=x[W*2],k=x[W*2+1],V=x[n*2],i=x[n*2+1],f=l-L,X=k-$,s=V-L,R=i-$,h=f*(L+l)+X*($+k),B=s*(L+V)+R*($+i),e=2*(f*(i-k)-X*(V-l));
if(Math.abs(e)<1e-5){var U=Math.min(L,l,V),o=Math.min($,k,i),b=(Math.max(L,l,V)-U)*.5,u=(Math.max($,k,i)-o)*.5;
return[U+b,o+u,b*b+u*u,1]}var Z=(R*h-X*B)/e,I=(f*B-s*h)/e,b=Z-L,u=I-$;return[Z,I,b*b+u*u,0]};r.l1.apW=function(x,F,W){var n=W[1],L=W[3],$=L[3],l=n[3],k=l[3],V=W[2],i=n[2],f=W[0],X=n[0],s=L[0],R=l[0],h=r.l1.ajb(x,X,R,s),B=x[f*2]-h[0],e=x[f*2+1]-h[1],U=B*B+e*e>h[2]&&h[3]==0&&r.l1.xL(x,R,f,s)<0&&r.l1.xL(x,s,X,R)<0;
if(U){W[0]=s;n[0]=R;W[3]=$;$[3]=l;l[3]=W;n[3]=k;k[3]=L;L[3]=n;L[2]=i;l[2]=V;F.hs[i]=k;F.hs[V]=$;F.Cz[X]=l;
F.Cz[f]=L}return U};r.l1.a0N=function(x,F,W){var n=x[F*2]-x[W*2],L=x[F*2+1]-x[W*2+1];return Math.sqrt(n*n+L*L)};
r.l1.aAC=function(x,F,W){var n=W[1],L=W[3],$=L[3],l,k,V=W[2],i,f=W[0],X=$[0],s=L[0],R;if(n){l=n[3];k=l[3];
i=n[2];R=l[0]}var h=x.length>>>1;x[2*h]=(x[2*X]+x[2*f])*.5;x[2*h+1]=(x[2*X+1]+x[2*f+1])*.5;if(!0){var B=V,e=W,U=F.hs.length,o=[h,null,B,e],b=[s,o,U,$];
o[1]=b;var u=[h,null,U,b];L[3]=o;$[3]=u;$[2]=U;F.hs[B]=L;F.hs[U]=u;F.Cz[f]=L;F.Cz[s]=$;F.yK.push(o,b,u)}if(n){var Z=i,I=n,y=U+1;
u[1]=I,I[1]=u;var D=[h,null,Z,I],N=[R,D,y,k];D[1]=N;var j=[h,e,y,N];e[1]=j;l[3]=D;k[3]=j;k[2]=y;F.hs[Z]=l;
F.hs[y]=k;F.Cz[X]=l;F.Cz[R]=k;F.yK.push(D,N,j)}F.Cz[h]=e};r.l1.a9s=function(x,F){var W=0;while(!0){var n=W;
for(var w=0;w<F.yK.length;w++){var L=F.yK[w];if(L[1]==null)continue;var $=r.l1.apW(x,F,L);if($){W++;
break}}if(n==W)break}return W!=0};r.l1.axR=function(x,F,W,n){var L=0;for(var w=0;w<n;w++){var $=null,l=0;
for(var k=0;k<F.yK.length;k++){var V=F.yK[k],i=r.l1.a0N(x,V[0],V[3][3][0])*(V[1]?1:2);if(i>l){$=V;l=i}}if(l>W){r.l1.aAC(x,F,$);
L++}}return L!=0};r.l1.abc=function(x,F){var W=[],s=0;for(var w=0;w<x.length;w++)W.push(0);for(var w=0;
w<F.yK.length;w++){var n=F.yK[w],L=n[0],$=n[3][3][0],l=x[L*2],k=x[L*2+1],V=x[$*2],i=x[$*2+1],f=l-V,X=k-i;
W[L*2]+=-f;W[L*2+1]+=-X;W[$*2]+=f;W[$*2+1]+=X}for(var w=0;w<x.length;w+=2){var R=w>>>1,h=F.Cz[R],n=h,B=!0;
do{if(n[1]==null){B=!1;break}n=n[1][3]}while(n!=h);if(B){var e=.02;x[w]+=e*W[w];x[w+1]+=e*W[w+1];s+=e*(W[w]*W[w]+W[w+1]*W[w+1])}}return s};
r.l1.ad5=function(x,F,W){var n=r.Z.KR(x),L=r.l1.aer(x,F);r.l1.a9s(x,L);for(var $=0;$<300;$++){var l=!1,k=!1;
l=r.l1.axR(x,L,W,5);if(l)k=r.l1.a9s(x,L);var V=r.l1.abc(x,L);if(!l&&!k&&V<1e-4){break}}return r.l1.alO(L)};
r.fb={};r.fb.ao5=function(x){var F=x.cO,W=x.y0,n=x.m4,L=x.t$,$=x.l_,l=x.rc,k=x.sL,V=r.Rg.la,o,b,u=0;
function i(dx){var fO=new Array(dx);for(var w=0;w<dx;w++)fO[w]=0;return fO}var f=W.length>>>1,X=i(F.bB*2),s=i(F.bB),R=i(F.bB),h=Date.now();
for(var w=0;w<x.N7.length;w++){var B=F.a0V+w,e=F.Xv*(l[w*2]+k[w*2]),U=F.Xv*(l[w*2+1]+k[w*2+1]);X[B*2]=e;
X[B*2+1]=U;s[B]=e;R[B]=U}F.ajV.Na(L,F.aam.la(X),.01,o,b);for(var w=0;w<F.a0Z.yK.length;w++){var Z=F.a0Z.yK[w],I=Z[3][3][0],y=Z[0],D=Z[3][0],N=Z[1]?Z[1][3][0]:D;
if(Z[1]&&I>y)continue;var j=W[I*2],H=W[I*2+1],Q=W[y*2],C=W[y*2+1],J=L[I*2],E=L[I*2+1],T=L[y*2],c=L[y*2+1],a=L[D*2],K=L[D*2+1],Y=L[N*2],p=L[N*2+1],P=[J,E,T,c,a,K];
if(Z[1])P.push(Y,p);var m=V(F.aj9[u],P),z=m[0],M=m[1],d=1/Math.sqrt(z*z+M*M);z*=d;M*=d;var A=Q-j,G=C-H;
s[u]=z*A+M*G;R[u]=-M*A+z*G;u++}var kB=new Array(f),q=new Array(f);for(var w=0;w<f;w++){kB[w]=$[w*2];
q[w]=$[w*2+1]}F.ao1.Na(kB,F.ays.la(s),.5);F.ao1.Na(q,F.ays.la(R),.5);for(var w=0;w<f;w++){$[w*2]=kB[w];
$[w*2+1]=q[w]}};r.fb.abo=function(x){var F=x.y0,W=x.m4,n=x.N7,L=r.Rg.multiply,$=Date.now(),l=r.l1.aer(F,W),k=F.length>>>1,V=0,h=0,M=1e3;
for(var w=0;w<l.yK.length;w++)V+=l.yK[w][1]?.5:1;var i=V+n.length,f=[],X=new r.uI(i*2,k*2),s=new r.uI(i,k),R=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],B=[],e=[];
for(var w=0;w<l.yK.length;w++){var U=l.yK[w],o=U[3][3][0],b=U[0],u=U[3][0],Z=U[1]?U[1][3][0]:u;if(U[1]&&o>b)continue;
var I=F[o*2],y=F[o*2+1],D=F[b*2],N=F[b*2+1],j=F[u*2],H=F[u*2+1],Q=F[Z*2],C=F[Z*2+1],J=[[I,y,1,0],[y,-I,0,1],[D,N,1,0],[N,-D,0,1],[j,H,1,0],[H,-j,0,1]];
if(U[1])J.push([Q,C,1,0],[C,-Q,0,1]);var E=r.Rg.kZ(J),T=L(linear.invert(L(E,J)),E);T.pop();T.pop();f.push(T);
var c=D-I,a=N-y,K=R[U[1]?1:0];K=r.Rg.ZC(K,L([[c,a],[a,-c]],T));var Y=[o*2,o*2+1,b*2,b*2+1,u*2,u*2+1,Z*2,Z*2+1],p=U[1]?8:6,P=[];
for(var m=0;m<p;m++)P.push([Y[m],K[0][m],K[1][m]]);P.sort(function(fO,g){return fO[0]-g[0]});for(var z=0;
z<2;z++){for(var m=0;m<p;m++){B[m]=P[m][0];e[m]=P[m][1+z]}X.Sb(e,B,p)}if(o<b)s.Sb([-1,1],[o,b],2);else s.Sb([1,-1],[b,o],2);
h++}for(var w=0;w<n.length;w++){var d=n[w];X.Sb([M],[d*2],1);X.Sb([M],[d*2+1],1);s.Sb([M],[d],1)}var A=X.kZ(),G=A.dt(A),kB=s.kZ(),q=kB.dt(kB);
return{a0V:V,bB:i,aam:A,ajV:G,ays:kB,ao1:q,a0Z:l,aj9:f,Xv:M}};r.fb.auQ=function(x,F,W,n,L){var $=new eu(0,0,F,W),l=r.R($.P());
r.Tb(x,l,3);r.round(l,70);var k=r.c_(l,$),V=[.1,.065,.035][n]*Math.max(k.m,k.e),i=L+1,f=F+i*2,X=W+i*2,s=new eu(-i,-i,f,X),R=r.R(s.P());
r.Hz(l,$,R,s);var h=R.slice(0);for(var B=0;B<L;B++){for(var e=1;e<X-1;e++){for(var U=1;U<f-1;U++){var w=e*f+U;
h[w]=R[w-f]|R[w-1]|R[w]|R[w+1]|R[w+f]}}var o=h;h=R;R=o}var b=jX.Gl(R,f,X,Math.round(k.P()*5e-4)),u=jX.x8(b),Z=new iJ(1,0,0,1,-i,-i);
for(var w=0;w<u.length;w++){var I=u[w];r.Z.i(I.path.p,Z,I.path.p);I.y0=r.fb.a46(I.path);I.m4=r.Z.asm(I.y0);
I.m4=r.l1.ad5(I.y0,I.m4,V)}return u};r.fb.a46=function(x){var F=[],W=x.p,n=x.G.length-1,L=0,$=0;for(var l=0;
l<n;l++){var w=l*6,k=W[w+6]-W[w+0],V=W[w+7]-W[w+1],i=Math.ceil(Math.sqrt(k*k+V*V));for(var f=0;f<i;f++){var X=f/i,s=1-X,R=s*s*s*W[w+0]+3*s*s*X*W[w+2]+3*s*X*X*W[w+4]+X*X*X*W[w+6],h=s*s*s*W[w+1]+3*s*s*X*W[w+3]+3*s*X*X*W[w+5]+X*X*X*W[w+7];
F.push(R,h);L=R;$=h}}F=r.Z.avk(F,1);var B=[],e=F.length;for(var w=0;w<e;w+=2){var h=F.pop(),R=F.pop();
B.push(R,h)}return B};r.fb.ahI=function(x,F,W,n){function L(D,N,j,H,Q){var C=Q[D*2]-Q[N*2],J=Q[D*2+1]-Q[N*2+1],E=Math.sqrt(C*C+J*J);
if(j[D].indexOf(N)==-1){j[D].push(N);H[D].push(E)}if(j[N].indexOf(D)==-1){j[N].push(D);H[N].push(E)}}var $=x.length>>>1,l=new Array($);
if(W.length==0){l.fill(0);return l}var k=new Array($),V=new Array($);for(var w=0;w<$;w++){k[w]=[];V[w]=[]}for(var w=0;
w<F.length;w+=3){L(F[w],F[w+1],k,V,x);L(F[w],F[w+2],k,V,x);L(F[w+1],F[w+2],k,V,x)}var i=new Float64Array($*2),f=new Uint32Array($*2);
i.fill(1e9);var X=new Uint8Array($);for(var s=0;s<W.length;s++){X.fill(0);var R=["---",[0,W[s]]];while(R.length!=1){var h=r.ai6.iz(R),B=h[0],e=h[1];
if(X[e]==1)continue;var U=e<<1;if(B<i[U]){i[U+1]=i[U];f[U+1]=f[U];i[U]=B;f[U]=s}else if(B<i[U+1]){i[U+1]=B;
f[U+1]=s}X[e]=1;var o=k[e],b=V[e];for(var w=0;w<o.length;w++){var u=o[w];if(X[u]!=1){r.ai6.ty(R,[B+b[w],u])}}}}for(var w=0;
w<$;w++){var U=w<<1,Z=i[U],I=i[U+1],y=1/(Z+I);l[w]=(1-Z*y)*n[f[U]]+(1-I*y)*n[f[U+1]]}return l};r.fb.aeO=function(x){var F={G:[],p:[]},W=[x];
while(W.length!=0){var n=W.pop(),L=n.A$;if(n.avL instanceof Array||n.alH instanceof Array){F.G.push("M","L","L","L","Z");
F.p.push(L[0],L[1],L[2],L[1],L[2],L[3],L[0],L[3])}else W.push(n.avL,n.alH)}return F};r.fb.VU=function(x,F,W,n,L,$,l,k,V,i,f){var X=Math.round(i.length/3),s=new Array(X);
for(var w=0;w<X;w++)s[w]=w;s.sort(function(h,B){return V[i[h*3]]-V[i[B*3]]});for(var w=0;w<X;w++){var R=s[w]*3;
r.fb.aty(i[R]*2,i[R+1]*2,i[R+2]*2,l,k,x,F,W,n,L,$,f)}};r.fb.aty=function(x,F,W,n,L,$,l,k,V,i,f,X){var s=[x,F,W,1.2,1.2,1.2,0],R=[0,0,0,0],h=L[x],B=L[x+1],e=L[F],U=L[F+1],o=L[W],b=L[W+1],u=e-h,Z=U-B,I=o-h,y=b-B,D=u*y-I*Z+1e-9,N=1/D,j=Math.max(0,Math.min(l-1,n[x])),H=Math.max(0,Math.min(l-1,n[F])),Q=Math.max(0,Math.min(l-1,n[W])),C=Math.max(0,Math.min(k-1,n[x+1])),J=Math.max(0,Math.min(k-1,n[F+1])),E=Math.max(0,Math.min(k-1,n[W+1])),T=h<e?h<o?x:W:e<o?F:W,c=L[T+1]+.5,a=Math.max(0,Math.floor(Math.min(h,e,o))),K=Math.min(i,Math.ceil(Math.max(h,e,o))),Y=Math.max(0,Math.floor(Math.min(B,U,b))),p=Math.min(f,Math.ceil(Math.max(B,U,b))),P=1e9;
for(var m=Y;m<p;m++){var z=m>c&&P!=1e9?P:a;P=1e9;for(var M=z;M<K;M++){var d=M+.5-h,A=m+.5-B,G=(d*y-I*A)*N,kB=(u*A-d*Z)*N;
if(G>=0&&kB>=0&&G+kB<=1){if(P==1e9)P=M;var q=1-G-kB,fO=j*q+H*G+Q*kB,g=C*q+J*G+E*kB;if(X){var jN=Math.floor(.5+g)*l+Math.floor(.5+fO),c6=jN<<2,a7=m*i+M<<2;
V[a7]=$[c6];V[a7+1]=$[c6+1];V[a7+2]=$[c6+2];V[a7+3]=$[c6+3]}else{r.D.aiW(fO,g,$,l,k,R);r.fb.awY(R,V,m*i+M<<2)}}else if(P!=1e9)break}}};
r.fb.awY=function(x,F,W){if(x[3]>250){F[W]=~~(.5+x[0]);F[W+1]=~~(.5+x[1]);F[W+2]=~~(.5+x[2]);F[W+3]=~~(.5+x[3])}else{var n=F[W],L=F[W+1],$=F[W+2],l=F[W+3],k=1-x[3]*(1/255);
F[W]=~~(.5+x[0]+n*k);F[W+1]=~~(.5+x[1]+L*k);F[W+2]=~~(.5+x[2]+$*k);F[W+3]=~~(.5+x[3]+l*k)}};r.fb.aw7=function(){var x=function(W,n,L,$){var l=$[0],k=$[1],V=$[2],i=W[l+0],f=W[l+1],X=W[k+0],s=W[k+1],R=W[V+0],h=W[V+1],B=X-i,e=s-f,U=R-i,o=h-f,b=n-i,u=L-f,Z=B*o-U*e,I=1/(Z+1e-9),y=(b*o-U*u)*I,D=(B*u-b*e)*I;
if(y>=0&&D>=0&&y+D<=1){$[3]=1-y-D;$[4]=y;$[5]=D;return 1}return 0},F=function(W,n,L,$){var l=[0,0,0,0,0,0];
for(var w=0;w<n.length;w+=3){l[0]=n[w]*2;l[1]=n[w+1]*2;l[2]=n[w+2]*2;if(x(W,L,$,l)==1)return!0}return!1};
return{aob:x,ayn:F}}();r.s1={};r.s1.ajT=function(x,F,W,n){x=x.slice(0);if(n)r.rW(n,x,3);else for(var w=0;
w<x.length;w+=4)x[w+3]=0;var L=r.R(F*W*4),$=!1;r.D.uB(x,F,W,L,[W,F,0,1,0,1,0,0]);return[r.s1.Bn(x,F,W,$),r.s1.Bn(L,W,F,$)]};
r.s1.i=function(x,F){var W=!1,n=x[0],L=x[1],$=n[1],l=n[2],k=n[3],V=F.m,i=F.e;if(l==V&&k==i)$=$.slice(0);
else if(k!=i){var f=r.R(l*i*4);r.s1.q7(L,i,f,W);$=r.R(l*i*4);r.D.uB(f,i,l,$,[l,i,0,1,0,1,0,0]);if(l!=V){n=r.s1.Bn($,l,i,W);
$=r.R(V*i*4);r.s1.q7(n,V,$,W)}}else if(l!=V){$=r.R(V*k*4);r.s1.q7(n,V,$,W)}for(var w=0;w<$.length;w+=4)$[w+3]=255;
return $};r.s1.Bn=function(x,F,W,n){var L=Date.now(),$=new Uint16Array(F*W),i=1;r.s1.az6(x,F,W,$);var l=r.R(F*W);
r.Tb(x,l,3);for(var k=0;k<W;k++)for(var V=0;V<F;V++)$[k*F+V]+=Math.floor((65535-$[k*F+V])*l[k*F+V]*(1/255));
var f=Math.ceil(F/i),X=new Uint32Array(i),s=new Uint32Array(i),f=Math.floor(F/i);for(var R=0;R<i;R++)s[R]=R<i-1?f:F-(i-1)*f;
for(var k=0;k<W;k++){var w=k*F;for(var R=0;R<i;R++){var f=s[R];for(var V=0;V<f;V++)X[R]+=$[w+V];w+=f}}if(n){console.log(Date.now()-L,"cost");
L=Date.now()}var h=new Uint32Array(F),B=new Uint32Array(F),e=new Uint32Array(F*W);for(var V=0;V<F;V++){e[(W-1)*F+V]=$[(W-1)*F+V]}for(var k=W-2;
k>=0;k--){var U=k*F;for(var R=0;R<i;R++){var f=s[R];e[U]=$[U]+Math.min(e[U+F],e[U+F+1]);for(var V=1;
V<f-1;V++){var w=U+V;e[w]=$[w]+Math.min(e[w+F-1],Math.min(e[w+F],e[w+F+1]))}U+=f-1;e[U]=$[U]+Math.min(e[U+F-1],e[U+F]);
U++}}if(n){console.log(Date.now()-L,"Building M");L=Date.now()}function o(Q,C){return Q<C?Q:C}function b(w,Q){var C=B[w],J=e[Q],E=~~(C*J*1e-4);
return E}var u=new Uint8Array(F*W),Z=new Uint32Array(F);for(var w=0;w<F;w++){h[w]=w;B[w]=$[w]}for(var k=1;
k<W;k++){var I=0,U=k*F;for(var R=0;R<i;R++){var f=s[R],w=U;Z[I]=b(I,w);var y=Z[I]+b(I+1,w+1),D=b(I,w+1)+b(I+1,w);
Z[I+1]=o(y,D);for(var V=2;V<f;V++){var w=U+V,N=Z[I+V-1]+b(I+V-1,w-1),j=Z[I+V-2]+b(I+V-1,w-2)+b(I+V-2,w-1);
Z[I+V]=o(N,j)}var V=f-1;while(V>=2){var w=U+V,N=Z[I+V-1]+b(I+V-1,w-1),j=Z[I+V-2]+b(I+V-1,w-2)+b(I+V-2,w-1);
if(Z[I+V]==N){u[w-F]=1;V-=1}else{u[w-F]=0;u[w-F-1]=2;V-=2}}var w=U;if(V==0){u[w-F]=1}else{if(Z[I+1]==y){u[w+1-F]=1;
u[w-F]=1}else{u[w+1-F]=0;u[w-F]=2}}U+=f;I+=f}r.s1.aAa(k,F,u,$,h,B,!0,L)}if(n){console.log(Date.now()-L,"Matching");
L=Date.now()}var H=$;return[UZIP.adler(x,0,x.length),x,F,W,i,s,X,h,B,u,H]};r.s1.q7=function(x,F,W,n){var L=x.slice(0),$=L.shift(),l=L.shift(),k=L.shift(),V=L.shift(),i=L.shift(),f=L.shift(),X=L.shift(),s=L.shift(),R=L.shift().slice(0),h=L.shift(),B=L.shift(),e=Date.now(),U=Math.abs(k-F),o=Math.floor(U/i),b=new Uint32Array(i),Z=0,I=1e9,D=0,N=0,j=0;
for(var u=0;u<i;u++)b[u]=u<i-1?o:U-(i-1)*o;B.fill(0);for(var y=0;y<k;y++){Z=Math.max(Z,R[y]);I=Math.min(I,R[y])}for(var u=0;
u<i;u++){var H=f[u],o=b[u];for(var Q=0;Q<o;Q++){var C=0,J=1e9;for(var y=0;y<H;y++)if(R[N+y]<J){J=R[N+y];
C=N+y}if(F<k)R[C]=1e9;else R[C]*=1.2;if(j<k/3)D+=J;var E=s[C],T=B[E],c=T<65280?65280:T+1;if(c<65280)throw"e";
for(var a=0;a<V;a++){var w=a*k+E;B[w]=c;E+=h[w]-1}j++}N+=H}if(n){console.log(Date.now()-e,"Removing best seams");
e=Date.now()}function K(w,p){var P=w<<2,m=p<<2;W[P]=l[m];W[P+1]=l[m+1];W[P+2]=l[m+2];W[P+3]=l[m+3]}for(var a=0;
a<V;a++){var Y=0,w=a*k;for(var y=0;y<F;y++,Y++){if(F<k){while(B[w+Y]==65280)Y++;K(a*F+y,a*k+Y)}else{K(a*F+y,a*k+Y);
while(B[w+Y]>=65280){B[w+Y]--;y++;K(a*F+y,a*k+Y)}}}}if(n){console.log(Date.now()-e,"Shifting image pixels");
e=Date.now()}};r.s1.aAa=function(x,F,W,n,L,$){var l=0,w=x*F;while(l<F){if(W[w-F]==1){$[l]=$[l]+n[w];
l++;w++}else{var k=L[l];L[l]=L[l+1];L[l+1]=k;var V=$[l];$[l]=$[l+1]+n[w];$[l+1]=V+n[w+1];l+=2;w+=2}}};
r.s1.az6=function(x,F,W,n){function L(x,w,V){var X=w<<2,s=V<<2,R=x[X]-x[s],h=x[X+1]-x[s+1],B=x[X+2]-x[s+2];
return Math.abs(R)+Math.abs(h)+Math.abs(B)}for(var $=1;$<F;$++){var l=L(x,$,$-1);n[$-1]+=l;n[$]+=l}for(var k=1;
k<W;k++){var V=k*F,l=L(x,V,V-F);n[V]+=l;n[V-F]+=l;for(var $=1;$<F;$++){var w=k*F+$,i=L(x,w,w-1),f=L(x,w,w-F);
n[w-F]+=f;n[w-1]+=i;n[w]+=f+i}}for(var k=0;k<W;k++){n[k*F]*=2;n[k*F+F-1]*=2}for(var w=0;w<n.length;w++)if(n[w]==0)n[w]=1};
r.WP=function(){function x(){return 1953e6+Math.floor(Math.random()*999999)}function F(J,E){var T=E[0]-J[0],c=E[1]-J[1];
return T*T+c*c}function W(J,E,T,c,a,K,Y,p){var P=T-J,m=c-E,z=r.Z.B7(J,E,P,m,a,K,Y-a,p-K),M=[J+z*P,E+z*m],d=z>0?[[[J,E],M,!1,0,1],[[a,K],M,!1,0,5]]:[[[T,c],M,!1,0,1],[[Y,p],M,!1,0,5]];
return d}function n(J,E){var T=W(J[0],J[1],J[2],J[3],J[6],J[7],J[4],J[5]),c=W(J[0],J[1],J[6],J[7],J[2],J[3],J[4],J[5]),a=[T,c],K=[T[0][1],c[0][1]];
for(var w=0;w<2;w++){var Y=K[1-w],p=a[w];if(F(p[0][0],Y)<F(p[1][0],Y)){var P=p[0];p[0]=p[1];p[1]=P}}var m=[x(),0,-1,0,[0,0],T[0],T[1],c[0],c[1]],z=Z(m,E),M=z[1][0];
m[3]=M;m[4]=z[0][M];m[5][3]=m[6][3]=z[0].indexOf(m[5][1]);m[7][3]=m[8][3]=z[0].indexOf(m[7][1]);if((m[6][3]+1)%3!=m[7][3]){var P=m[5];
m[5]=m[7];m[7]=P;var P=m[6];m[6]=m[8];m[8]=P}for(var w=0;w<4;w++)m[5+w][4]=[1,5,7,3][w];return m}function L(J){var E=J[5],T=J[8],c=J[6],a=E[0],K=T[0],Y=c[0],p=E[1],P=T[1],m=K[0],z=K[1],M=P[0]-m,d=P[1]-z,A=r.Z.B7(m,z,M,d,Y[0],Y[1],p[0]-Y[0],p[1]-Y[1]);
return[a[0],a[1],m,z,m+A*M,z+A*d,Y[0],Y[1]]}function $(J,E){return J[0]==E[0]&&J[1]==E[1]}function l(J){return{1:0,5:1,7:2,3:3}[J]}function k(J,E,T){var c=E[5+l(J)],a=c[1],K=c[0][0]-a[0],Y=c[0][1]-a[1],p=Math.sqrt(K*K+Y*Y);
K/=p;Y/=p;for(var P=0;P<T.length;P++){var m=T[P];if(m[0]!=E[1]&&m[1]!=E[0])continue;for(var w=0;w<4;
w++){var z=m[5+w],M=z[0];if(!$(a,z[1]))continue;var d=M[0]-a[0],A=M[1]-a[1];p=Math.sqrt(d*d+A*A);d/=p;
A/=p;var G=d*K+A*Y;if(Math.abs(G-1)<1e-7)return!0}}return!1}function V(J,E){r.D.i(J,E);return E}function i(J,E){var T=[];
for(var c=0;c<J.length;c++){var a=J[c],K=a[1];for(var Y=0;Y<K.length;Y++){if(E&&E[c].indexOf(Y)==-1)continue;
var p=K[Y],P=[],m=r.D.An(L(p),new eu(0,0,1,1));for(var w=1;w<=7;w+=2){P[w]=k(w,p,K)}if(!P[1]){if(!P[7])T.push([V(m,[0,0]),c,Y,0]);
T.push([V(m,[.5,0]),c,Y,1])}if(!P[3]){if(!P[1])T.push([V(m,[1,0]),c,Y,2]);T.push([V(m,[1,.5]),c,Y,3])}if(!P[5]){if(!P[3])T.push([V(m,[1,1]),c,Y,4]);
T.push([V(m,[.5,1]),c,Y,5])}if(!P[7]){if(!P[5])T.push([V(m,[0,1]),c,Y,6]);T.push([V(m,[0,.5]),c,Y,7])}}}return T}function f(J){var E=J.length-2,T=0;
for(var w=0;w<E;w+=2)T+=(J[w+2]-J[w])*(J[w+1]+J[w+3]);T+=(J[0]-J[E])*(J[E+1]+J[1]);return-T*.5}function X(J,E,T,c){}function s(J,w){var E=J[w+2&7]-J[w&7],T=J[w+3&7]-J[w+1&7],c=1/Math.sqrt(E*E+T*T);
return[E*c,T*c]}function R(J){var E=J[2];J[2]=J[6];J[6]=E;var E=J[3];J[3]=J[7];J[7]=E}function h(J,E,T,c){if(c==null)c=0;
var a=E[1],K=L(E),A=null,G,g,jN,e_,gg,d,bW;if(a==0){if(f(K)<0)R(K);var Y=6,p=K[7]+K[1];for(var w=0;w<6;
w+=2){var P=K[w+1]+K[w+3];if(P<p){p=P;Y=w}}K=K.slice(Y).concat(K.slice(0,Y));var m=O.f7.Fo(K,T[0],T[1]),z=Math.sqrt(F(K,K.slice(2))),M=Math.sqrt(F(K.slice(4),K.slice(6))),d=(z+M)*.5;
return[K,new eu(0,0,d,d/m)]}for(var w=0;w<J.length&&A==null;w++){G=J[w][1];for(var kB=0;kB<G.length&&A==null;
kB++)if(G[kB][0]==a)A=G[kB]}var q=h(J,A,T,c+1),fO=q[0];q=q[1];for(var w=0;w<8;w+=2){var c6=fO[w&7],a7=fO[w+1&7],bd=fO[w+2&7],ey=fO[w+3&7];
for(var kB=0;kB<8;kB+=2){var c5=K[kB],bx=K[kB+1],ap=K[kB+2&7],fC=K[kB+3&7],kE=Math.abs(r.Z.TW(c6,a7,bd,ey,c5,bx))+Math.abs(r.Z.TW(c6,a7,bd,ey,ap,fC));
if(kE<=30){g=kB;jN=w}}}var bm=s(fO,jN),fe=s(K,g),g8=bm[0]-fe[0],e0=bm[1]-fe[1],cF=g8*g8+e0*e0;if(cF<.001){R(K);
g={0:6,2:4,4:2,6:0}[g]}while(g!=(jN+4&7)){K.unshift(K.pop());g=g+1&7}var m=O.f7.Fo(K,T[0],T[1]),ei=r.D.An(fO,q);
ei=r.D.sx(ei);var cr=[K[g],K[g+1],K[g+2&7],K[g+3&7]];r.D.i(ei,cr);var gx=r.Z.KR(cr);if(jN==0||jN==4){d=gx.m;
bW=d/m;e_=gx.x;gg=gx.y+(jN==0?-bW:0)}else{bW=gx.e;d=bW*m;gg=gx.y;e_=gx.x+(jN==6?-d:0)}return[K,new eu(e_,gg,d,bW)]}function B(J,E){function T(M,d,A,G){var kB=V(M,[d,A]);
kB.push(G);return kB}var c=[];for(var a=0;a<J.length;a++){var K=J[a],Y=K[1];for(var p=0;p<Y.length;p++){var P=Y[p],m=h(J,P,E),z=m[0],M=r.D.An(z,new eu(0,0,1,1));
c.push(T(M,.5,0,1));c.push(T(M,1,.5,3));c.push(T(M,.5,1,5));c.push(T(M,0,.5,7));c.push(T(M,.5,.5,[m?(m[1].m/m[1].e).toFixed(2):""].join(", ")))}}return c}function e(J,E,T,c){var a=[E],K=[E];
while(!0){var Y=[];for(var w=0;w<J.length;w++){var p=J[w],P=!1;for(var m=0;m<a.length;m++){if(p[1]==J[a[m]][0]||p[0]==J[a[m]][1])Y.push(w)}}var z=a.length;
for(var w=0;w<Y.length;w++){var M=Y[w],p=J[M];if(K.indexOf(M)!=-1)continue;K.push(M);var d=h([[10,J]],p,c);
if(d[1].yU(T))a.push(M)}if(z==a.length)break}return a}function U(J,E,T){var c=T[0],a=T[1],K=E.x-J[0],Y=E.y-J[1],p=r.Z.B7(J[0],J[1],K,Y,a[0],a[1],c[0]-a[0],c[1]-a[1]);
return[J[0]+p*K,J[1]+p*Y]}function o(J,E,T){J=JSON.parse(JSON.stringify(J));var c=J[E[1]][1][E[2]],a=E[3]>=8,K=E[3]&7;
if((K&1)==0)return J;var Y=l(K);if(K==1||K==7){var p=c[5+Y],P=c[5+2-Y],m=c[5+(K==1?3:1)],z=c[5+(K==1?1:3)],M=p[1],d=U(M,T,P);
if(!a&&F(d,P[1])<F(z[0],P[1]))return J;p[0]=P[0]=d;m[0]=U(M,T,m)}else{var m=c[5+Y],M=m[1],p=c[5+(K==3?0:2)],d=U(M,T,p);
if(!a&&F(d,p[1])>F(p[0],p[1]))return J;if(Math.sign(p[1][0]-p[0][0])!=Math.sign(p[1][0]-d[0]))return J;
m[0]=d}return J}function b(J,E,T){var c=E[0]-J[0],a=E[1]-J[1],K=r.Z.B7(T[0],T[1],-a,c,J[0],J[1],c,a);
return[T[0]-a*K,T[1]+c*K]}function u(J,E,T){var c=T[0],a=T[1],V=b(J,E,T),K=V[0],Y=V[1],p=b(J,T,E),P=r.Z.B7(K,Y,c-K,a-Y,E[0],E[1],p[0]-E[0],p[1]-E[1]);
return[K+(c-K)*P,Y+(a-Y)*P]}function Z(J,E){var T=J[5][1],c=J[7][1],a=u(T,c,E),K=[T,c,a];K.sort(function(P,m){return P[0]-m[0]});
if(f([K[0][0],K[0][1],K[1][0],K[1][1],K[2][0],K[2][1]])<0){var Y=K[1];K[1]=K[2];K[2]=Y}var p=[K.indexOf(T),K.indexOf(c),K.indexOf(a)];
return[K,p]}function I(J,E,T){J=JSON.parse(JSON.stringify(J));var c=E[1],a=J[c][1][E[2]],K=E[3];if((K&1)!=1)return J;
var Y=Z(a,T),p=Y[1][2],P=Y[0][p],m=JSON.parse(JSON.stringify(a));J[c][1].push(m);m[0]=x();m[1]=a[0];
m[2]=-10+K;m[3]=p;m[4]=P;if(K==1||K==5){m[7][3]=m[8][3]=p;m[7][1]=m[8][1]=P;if(K==5){m[5][0]=m[7][0]=a[6][0];
m[8][0]=L(a).slice(4,6)}}else{m[5][3]=m[6][3]=p;m[5][1]=m[6][1]=P;if(K==3){m[5][0]=m[7][0]=a[8][0];m[6][0]=L(a).slice(4,6)}}return J}function y(J,E,T){J=JSON.parse(JSON.stringify(J));
var c=E[1],a=J[c][1][E[2]],K=a[2]+10,Y=K+4&7,p=K==1||K==5,P=a[5+l(p?7:1)][1],m=a[5+l(Y)][0],z=a[5+l(K)][0];
a[2]=(p?90:0)+(F(m,P)<F(z,P)?180:0);var M=n(L(a),T);for(var w=5;w<9;w++)a[w]=M[w];return J}function D(J,E,T){var dx=J.length>>1,c,a=J[2*dx-3]-T,K=J[2*dx-2]-E,Y=J[2*dx-1]-T,p=!1,P=0;
for(var w=0;w<dx;w++){c=K;a=Y;K=J[2*w]-E;Y=J[2*w+1]-T;if(a==Y)continue;p=Y>a}for(var w=0;w<dx;w++){c=K;
a=Y;K=J[2*w]-E;Y=J[2*w+1]-T;if(a<0&&Y<0)continue;if(a>0&&Y>0)continue;if(c<0&&K<0)continue;if(a==Y&&Math.min(c,K)<=0)return!0;
if(a==Y)continue;var m=c+(K-c)*-a/(Y-a);if(m==0)return!0;if(m>0)P++;if(a==0&&p&&Y>a)P--;if(a==0&&!p&&Y<a)P--;
p=Y>a}return(P&1)==1}function N(J,E,T,c,a){var K=null;for(var Y=0;Y<J.length;Y++){var p=J[Y][1];for(var P=0;
P<p.length;P++){var m=L(p[P]);if(D(m,E,T)||a&&a[0]==Y&&a[1]==P&&K==null){K=[Y,P];if(c){var z=h(J,p[P],c),M=r.D.An(z[0],z[1]),d=[E,T];
M=r.D.sx(M);r.D.i(M,d);K.push(d)}}}}return K}function j(J,E){for(var T=0;T<J.length;T++){var c=J[T][1],a=E[T];
if(a.length==0)continue;var K=H(c,a);for(var Y=0;Y<c.length;Y++){if(K.indexOf(c[Y][0])!=-1){c.splice(Y,1);
Y--}}}for(var T=0;T<J.length;T++)if(J[T][1].length==0){J.splice(T,1);T--}return J}function H(J,E){var T=[];
for(var w=0;w<10;w++)for(var c=0;c<J.length;c++){var a=J[c];if(E.indexOf(c)!=-1||T.indexOf(a[1])!=-1)if(T.indexOf(a[0])==-1)T.push(a[0])}return T}function Q(J){var E=_.xR(J,0,J.length),T=E.split("\n").slice(1);
function c(){return parseFloat(T.shift())}function a(){var c5=[c(),c()];K(1);return c5}function K(dx){for(var w=0;
w<dx;w++)T.shift()}var Y=[],p=c();for(var P=0;P<p;P++){var m=c(),z=c(),M=[];Y.push([m,M]);for(var d=0;
d<z;d++){var A=c(),G=c(),kB=c(),q=c(),fO=a(),g=[A,G,kB,q,fO];M.push(g);for(var w=0;w<4;w++){var jN=a(),c6=a(),a7=c()==1,bd=c(),ey=c();
g.push([jN,c6,a7,bd,ey])}}}return Y}function C(J){function E(z){T.push(z[0],z[1],"")}var T=["tNaF203"];
T.push(J.length);for(var c=0;c<J.length;c++){T.push(J[c][0]);var a=J[c][1];T.push(a.length);for(var K=0;
K<a.length;K++){var Y=a[K];T.push(Y[0],Y[1],Y[2],Y[3]);E(Y[4]);for(var w=0;w<4;w++){var p=Y[5+w];E(p[0]);
E(p[1]);T.push(p[2]?1:0,p[3],p[4])}}}var P=T.join("\n"),m=new Uint8Array(P.length);_.Fl(m,0,P);return m}return{cF:Q,pm:C,anP:L,aB5:n,Pi:i,axs:o,EQ:B,aaU:function(J,E){return E&&(E[3]&1)==0&&J[E[1]][1].length==1},qa:function(J,E){return E&&(E[3]&1)==1},My:h,asp:I,azP:y,anv:j,f8:H,fD:N,Ta:e}}();
r.aAz=function(){var x=0,F=0,n=15,$=256;function W(f,X,s,R,h,B){var e=(h-1)*X,U=B*X;return f[U+R]-f[U+s-1]-f[e+R]+f[e+s-1]}var L=Math.round(n/8),l=[];
function k(f,X){for(var s=0;s<X.length;s++){var R=X[s],h=0,B=0,e=f[R.qw],U=e._I,o=e.Xv,b=e.eD;for(var u=-n;
u<=n;u++)for(var Z=-n;Z<=n;Z++){var I=Z+R.a7s,y=u+R.aqc;if(Z*Z+u*u>n*n||I<0||y<0||I>=o||y>=o)continue;
var D=U[y*o+I];h+=Z*D;B+=u*D}R.YD=Math.atan2(B,h)}}function V(f,X,s,R,h){var B=~~(f+.5),e=~~(X+.5);return W(s,R,B-L,B+L,e-L,e+L)}function i(f,X,s,R,h){x=R;
F=h;if(l.length==0){var B=new r.l.SS(16200817),b=8,u=0;function e(fO){var j=fO[0]-fO[2],H=fO[1]-fO[3];
return j*j+H*H}function U(){var fO=0,g=0;while(fO===0)fO=B.get();while(g===0)g=B.get();return Math.sqrt(-2*Math.log(fO))*Math.cos(2*Math.PI*g)}var o=U,Z=[];
while(u!=$){var I=Math.max(-n,Math.min(n,o()*b)),y=Math.max(-n,Math.min(n,o()*b)),D=Math.max(-n,Math.min(n,o()*b)),N=Math.max(-n,Math.min(n,o()*b)),j=I-D,H=y-N,Q=Math.sqrt(j*j+H*H);
if(Q<3||Q>12)continue;l.push(I,y,D,N);u++}}var C=20;for(var J=0;J<X.length;J++){var E=X[J],T=f[E.qw],c=T.Ku,s=T._I,R=T.Xv,h=T.eD,a=E.a7s,K=E.aqc,Y=E.YD,p=Math.cos(Y),P=Math.sin(Y),m=new Uint8Array($>>>3);
E.Xe=m;for(var w=0;w<$;w++){var z=w*4,I=l[z+0],y=l[z+1],D=l[z+2],N=l[z+3],M=p*I-P*y,d=P*I+p*y,A=p*D-P*N,G=P*D+p*N,kB=V(a+M,K+d,c,R,h),q=V(a+A,K+G,c,R,h);
m[w>>>3]|=(kB<q?0:1)<<(w&7)}}}return{af_:k,azN:i}}();r.aBV=function(){function x(F,W){var n=[[9]],L=Date.now(),$=[];
for(var l=0;l<F.length;l++){var k=F[l],V=k.Ku,i=k.Xv,f=k.eD,R=9,b=1,E=24;if(V==null)continue;var X=new Float32Array(i*f),s=new Uint8Array(i*f),h=R>>>1,B=h>>>1,e=Math.round(R/3);
if(e!=R/3)throw"e";var U=1/(R*R),o=1.2*(R/9);for(var u=h+1;u<f-h;u+=b)for(var Z=h+1;Z<i-h;Z+=b){var I=r.TN(V,i,Z-B,Z+B,u-h,u+h)-3*r.TN(V,i,Z-B,Z+B,u-h+e,u+h-e),y=r.TN(V,i,Z-h,Z+h,u-B,u+B)-3*r.TN(V,i,Z-h+e,Z+h-e,u-B,u+B),D=Z-h+1,N=Z+h-1,j=u-h+1,H=u+h-1,Q=r.TN(V,i,D,Z-1,j,u-1)+r.TN(V,i,Z+1,N,u+1,H)-r.TN(V,i,Z+1,N,j,u-1)-r.TN(V,i,D,Z-1,u+1,H),C=(y*I-.9*Q*(.9*Q))*(U*U);
X[u*i+Z]=Math.abs(C);s[u*i+Z]=C<0?0:1}var J=i*b;for(var u=E;u<f-E;u+=b)for(var Z=E;Z<i-E;Z+=b){var w=u*i+Z,T=X[w];
if(T<16)continue;if(X[w-b]>=T||X[w+b]>=T)continue;if(X[w-J-b]>=T||X[w-J]>=T||X[w-J+b]>=T)continue;if(X[w+J-b]>=T||X[w+J]>=T||X[w+J+b]>=T)continue;
$.push({x:~~(Z*k.VM+.5),y:~~(u*k.VM+.5),a7s:Z,aqc:u,qw:l,b:T,amX:s[w],TR:o})}}if(W!=null){$.sort(function(z,M){return M.b-z.b});
$=$.slice(0,W)}return $;var c=[];for(var w=0;w<$.length;w++){var a=!0,K=$[w];for(var Y=0;Y<$.length;
Y++){var p=$[Y];if(Y!=w&&p.b>K.b&&(p.qw==K.qw+1||p.qw==K.qw-1)){var P=K.x-p.x,m=K.y-p.y;if(P*P+m*m<5){a=!1;
break}}}if(a)c.push(K)}console.log($.length,c.length);return c}return{akk:x}}();r.HO={};r.HO.aDu=function(x){var F=x.length,W=r.HO.aAZ(x,!1),L=0,$=1;
throw"e";var n=[];for(var w=0;w<F;w++)n[w]=r.HO.amq(W[w]);var l=x[0][1],k=r.HO.match(W[L],W[$],n[$]);
console.log(k.length);var V=Math.max(Math.min(k.length,40),k.length*.54);V=Math.min(V,200);var i=k.slice(0,V),f=r.E4.adR(W[L],W[$],i,l.m,l.e),X=r.E4.aoz(f,[0,0,0],1),s=l.m/2,R=l.e/2,h=1/Math.max(s,R);
for(var w=0;w<1;w++){var B=i[w],e=W[L][B[0]],U=W[$][B[1]],o=r.E4.alQ(X,h*(e.x-s),h*(e.y-R),h*(U.x-s),h*(U.y-R))}var b=r.E4.awH(f,l),u=[];
for(var w=0;w<2;w++){var Z=b[w],I=[Z[0][0],Z[0][1],Z[0][2],Z[1][0],Z[1][1],Z[1][2],Z[2][0],Z[2][1]],y=O.Y.QJ(x[w],null,I);
u.push([y.buffer,y.rect])}return[r.HO.ajA(u[0],u[1],W[L],W[$],i,f,b,l)]};r.HO.Je=function(x,F){var W=x.length,n=!1,L=Date.now(),$=r.HO.aAZ(x,!1,1e4);
if(n)console.log("Descriptors ready",Date.now()-L);L=Date.now();for(var w=0;w<W;w++){var l=x[w][1];for(var k=0;
k<$[w].length;k++){$[w][k].x+=l.x;$[w][k].y+=l.y}}if(n)console.log("shifted",Date.now()-L);L=Date.now();
var V=[];for(var w=0;w<W;w++)V[w]=r.HO.amq($[w]);if(n)console.log("trees built",Date.now()-L);L=Date.now();
var i=[];for(var w=0;w<W-1;w++)for(var k=w+1;k<W;k++){var f=r.HO.match($[w],$[k],V[k]);if(n)console.log("Matches found",w,k,f.length);
f=f.slice(0,f.length>>>1);if(f.length<10)continue;var X=r.HO.agG($[w],$[k],f,2);i.push([w,k,f,X])}i.sort(function(N,j){return j[2].length-N[2].length});
if(n)console.log("Matches found",Date.now()-L);L=Date.now();var s=[],R=new UnionFind(W);for(var w=0;
w<i.length;w++){var h=i[w],B=R.find(h[0]),e=R.find(h[1]);if(B!=e){s.push(h);R.link(B,e)}}var U=[];for(var w=0;
w<W;w++)U[w]=[1,0,0,0,1,0,0,0];var o=[0],b=new Uint8Array(W);b[o[0]]=1;while(o.length!=0){var e=o.pop(),X=U[e],u=[];
for(var w=0;w<s.length;w++){var h=s[w],Z=h[0],I=h[1];if(Z==e&&b[I]==0){U[I]=r.D.pY(X,h[3]);o.push(I);
b[I]=1}if(I==e&&b[Z]==0){U[Z]=r.D.pY(X,r.D.sx(h[3]));o.push(Z);b[Z]=1}}}if(F==null){var y=[];for(var w=0;
w<W;w++)y.push([U[w][2],w]);y.sort(function(N,j){return N[0]-j[0]});F=y[y.length>>>1][1]}var D=r.D.sx(U[F]);
for(var w=0;w<W;w++)U[w]=r.D.pY(U[w],D);if(n)console.log("Transforms reordered",Date.now()-L);L=Date.now();
return U};r.HO.aAZ=function(x,F,W){var n=[],L=!1;for(var w=0;w<x.length;w++){var $=x[w][0],l=x[w][1],k=l.m,V=l.e,i=r.R(l.P());
r.ad($,i);var f=Date.now(),X=r.HO.atC(i,l,!0);if(L)console.log("Pyramid built ---------------",Date.now()-f);
f=Date.now();var s=r.aBV.akk(X,W);if(L)console.log("SURF Generation",Date.now()-f);f=Date.now();if(!F){r.aAz.af_(X,s);
if(L)console.log("ORB Orientations",Date.now()-f);f=Date.now();r.aAz.azN(X,s,i,k,V);if(L)console.log("ORB Descriptors",Date.now()-f);
f=Date.now()}n.push(s)}return n};r.HO.atC=function(x,F,W){var n=[],L=[x,F];r.kP(L);if(W){var $=r.auv(x,F),l=$.rect,k=[$.Xu,l];
r.kP(k)}for(var w=0;w<L.length;w++){var V=L[2*w],i=L[2*w+1],f=i.m,X=i.e,s=Math.min(f,X);if(s<30)break;
if(s<1600)n.push({_I:V,Xv:f,eD:X,VM:1<<w,Ku:r.Ha(V,f,X)});if(!W)continue;var V=k[2*w],i=k[2*w+1],f=i.m,X=i.e,s=Math.min(f,X);
if(s<30)break;if(s<1600)n.push({_I:V,Xv:f,eD:X,VM:(1<<w)*3/2,Ku:r.Ha(V,f,X)})}return n};r.HO.agG=function(x,F,W,n){var L=Date.now(),$,l=0,k=0,V=W.length,i=new Float64Array(2);
for(var f=0;f<3e3;f++){var X=~~(Math.random()*V),s=~~(Math.random()*V),R=~~(Math.random()*V),h=~~(Math.random()*V),J=0,E=0;
if(X==s||X==R||X==h||s==R||s==h||R==h)continue;var B=W[X],e=W[s],U=W[R],o=W[h],b=x[B[0]],u=F[B[1]],Z=x[e[0]],I=F[e[1]],y=x[U[0]],D=F[U[1]],N=x[o[0]],j=F[o[1]],H=[b.x,b.y,Z.x,Z.y,y.x,y.y,N.x,N.y],Q=[u.x,u.y,I.x,I.y,D.x,D.y,j.x,j.y],C=r.D.azV(H,Q);
if(C[0]==0&&C[1]==0&&C[3]==0&&C[4]==0)continue;var T=V-l+2;for(var w=0;w<V&&w-J<T;w++){var c=x[W[w][0]],a=F[W[w][1]];
r.D.m0(a.x,a.y,C,i);var K=i[0]-c.x,Y=i[1]-c.y,p=K*K+Y*Y;if(p<n){J++;E+=p}}if(J>l||J==l&&E<k){$=C;l=J;
k=E}}return $};var cs=new Uint8Array(256);for(var w=0;w<256;w++){var j4=0,dx=w;while(dx!=0){dx=dx&dx-1;
j4++}cs[w]=j4}r.HO.aum=function(x,F,W){var n=0,L=x.length;for(var w=0;w<L&&n<W;w++)n+=cs[x[w]^F[w]];
return n};r.HO.ayk=function(x,F,W,top,n){if(n[W]==1)return;var L=r.HO.aum(x.Xe,F.Xe,top[0]);if(L<top[0]){if(L<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=L;top[3]=W}else{top[0]=L;top[1]=W}}n[W]=1};r.HO.amq=function(x){var F=[],W=[],n=[[],[]],L=4;
for(var w=0;w<x.length;w++)(x[w].amX==0?F:W).push(w);for(var $=0;$<2;$++){var l=new Array(L),k=[],V=$==0?F:W,i=V.length/256,f=[];
for(var X=0;X<32;X++){var s=new Array(256),B=0;for(var R=0;R<256;R++)s[R]=[];for(var R=0;R<V.length;
R++){var h=V[R];s[x[h].Xe[X]].push(h)}for(var R=0;R<256;R++)B+=Math.abs(s[R].length-i);f.push([B,X,s])}f.sort(function(e,U){return e[0]-U[0]});
var k=[],l=[];n[$]=[k,l];for(var w=0;w<L;w++){k.push(f[w][1]);l.push(f[w][2])}}return n};r.HO.match=function(x,F,W){var n=[],L=new Uint16Array(F.length);
L.fill(65535);var $=new Uint8Array(F.length),top=new Uint32Array(4),l=[];for(var k=0;k<x.length;k++){var V=x[k],i=V.Xe;
top.fill(1e6);$.fill(0);var f=W[V.amX];for(var X=0;X<f[1].length;X++){var s=f[1][X][i[f[0][X]]];for(var R=0;
R<s.length;R++){var h=s[R];r.HO.ayk(V,F[h],h,top,$)}}if(top[2]<50&&top[2]<top[0]*.5){var B=L[top[3]];
if(B==65535){L[top[3]]=n.length;n.push([k,top[3],top[2]])}else if(top[2]<n[B][2]){n[B]=[k,top[3],top[2]]}}}n.sort(function(e,U){return e[2]-U[2]});
return n};r.HO.ayL=function(x){var F=new eu;for(var w=0;w<x.length;w++)F=F.oA(x[w][1]);var W=r.R(F.P()*4);
for(var w=0;w<x.length;w++)r.l.X3("norm",x[w][0],x[w][1],W,F,F,1);return[W,F]};r.HO.ajA=function(x,F,W,n,L,$,l,k){var V=x[1].clone(),i=V.clone();
V.x=V.y=0;var f=F[1].clone(),X=f.clone();f.x=f.y=0;f.x=V.m;var s=V.oA(f),R=X.y-i.y,h=r.R(s.P()*4);r.sh(x[0],V,h,s);
r.sh(F[0],new eu(f.x,f.y+R,f.m,f.e),h,s);var B=document.createElement("canvas");B.width=s.m;B.height=s.e;
var e=B.getContext("2d");e.lineWidth=.5;e.putImageData(new ImageData(new Uint8ClampedArray(h.buffer),s.m,s.e),0,0);
if($){var U=$[0],o=r.Rg.kZ(U),b=V.m,u=k.m;for(var w=0;w<L.length;w++){var Z=L[w],x=W[Z[0]],F=n[Z[1]];
e.strokeStyle="#"+"ff0000";e.beginPath();var I=r.E4.as5(o,l[0],F,0,u),y=r.E4.as5(U,l[1],x,0,u);e.moveTo(-i.x+I[0],-i.y+I[1]);
e.lineTo(-i.x+I[2],-i.y+I[3]);e.moveTo(b-X.x+y[0],-X.y+R+y[1]);e.lineTo(b-X.x+y[2],-X.y+R+y[3]);e.stroke()}}if(L){var D=L.length;
for(var w=0;w<D;w++){var Z=L[w],x=W[Z[0]],F=n[Z[1]];e.strokeStyle="#"+"ffff00"}}var N=new Uint8Array(e.getImageData(0,0,s.m,s.e).data.buffer);
if(!1){for(var j=0;j<2;j++){var H=j==0?W:n,Q=j*V.m;for(var w=0;w<H.length;w++){var C=H[w],J=~~C.x,E=~~C.y,T=(E*s.m+J+Q)*4;
N[T+1]=N[T+2]=C.aC$*60;N[T+0]=0;N[T+3]=255}}}return[N,s]};r.stack={};r.stack.stack=function(x,F,W){var n=x.length,L=F.length;
if(n==1){F.set(x[0]);return}if(W=="avrg"||W=="stdv"||W=="summ"||W=="vari"){var $=1/n;for(var w=0;w<L;
w++){var l=0;for(var k=0;k<n;k++)l+=x[k][w];var V=~~(l*$+.5);if(W=="avrg"||(w&3)==3)F[w]=V;else if(W=="summ")F[w]=255*Math.pow(Math.min(255,l)*(1/255),1/2.4);
else{var i=0;for(var k=0;k<n;k++){var f=x[k][w]-V;i+=f*f}var X=Math.sqrt(i*$)*(1/255);if(W=="stdv")F[w]=255*Math.pow(X,1/2.4);
else F[w]=255*Math.pow(X*X,1/2.4)}}}else if(W=="maxx"){for(var w=0;w<L;w++){var s=0;for(var k=0;k<n;
k++)s=Math.max(s,x[k][w]);F[w]=s}}else if(W=="minn"){for(var w=0;w<L;w++){var s=255;for(var k=0;k<n;
k++)s=Math.min(s,x[k][w]);F[w]=s}}else if(W=="medn"||W=="rang"){var R=function(U,o){return U-o},h=new Array(n),B=0,e=0;
if((n&1)==0){e=n>>>1;B=e-1}else{B=e=n>>>1}for(var w=0;w<L;w++){for(var k=0;k<n;k++)h[k]=x[k][w];h.sort(R);
if(W=="medn")F[w]=h[B]+h[e]>>>1;else F[w]=(w&3)==3?h[n-1]:h[n-1]-h[0]}}else console.log(W)};r.Cf={};
r.Cf.aoi=function(x,F,W,n){var L=Date.now(),$=new Uint32Array(F*W),l=new Uint8Array(F*W);while(!0){l.fill(0);
$.fill(0);var k=[],V=0;for(var i=0;i<W;i++){for(var f=0;f<F;f++){var w=i*F+f;if(l[w]==0){var X=k.length,s=r.Cf._x(x,F,W,f,i,l,$,X);
k.push([X,f,i,s[0],s[1],x[w]]);if(s[0]<n)V++}}}if(V==0)break;var R=k.length,h=new UnionFind(R),B=[];
for(var w=0;w<R;w++)B.push([]);for(var w=0;w<R;w++){var s=k[w],e=s[4],U=0,o=0;if(s[3]>=n)continue;var X=s[0];
for(var b=0;b<e.length;b+=2){var u=$[e[b+1]*F+e[b]],Z=k[u];if(Z[3]>o){o=Z[3];U=u}}if(h.find(X)!=h.find(U)){h.link(X,U);
B[X].push(U);B[U].push(X)}}var I=new Uint32Array(R);I.fill(4294967295);var y=new Uint32Array(R);for(var w=0;
w<R;w++){if(I[w]!=4294967295||B[w].length==0)continue;var D=[w],N=[w],j=w,H=k[w][3];while(N.length!=0){var Q=N.pop(),C=B[Q];
for(var b=0;b<C.length;b++){var J=C[b];if(D.indexOf(J)==-1){D.push(J);N.push(J);var E=k[J];if(E[3]>H){H=E[3];
j=J}}}}for(var b=0;b<D.length;b++){I[D[b]]=j;var T=k[j];y[D[b]]=x[T[2]*F+T[1]]}}for(var i=0;i<W;i++)for(var f=0;
f<F;f++){var w=i*F+f,c=I[$[w]];if(c!=4294967295)x[w]=y[c]}}};r.Cf._x=function(x,F,W,n,L,$,l,k){var V=[n,L],i=x[L*F+n],f=0,X=[];
$[L*F+n]=1;while(V.length!=0){var s=V.pop(),R=V.pop(),w=s*F+R;l[w]=k;f++;if(s!=W-1)if(x[w+F]==i){if($[w+F]==0){V.push(R,s+1);
$[w+F]=1}}else X.push(R,s+1);if(s!=0)if(x[w-F]==i){if($[w-F]==0){V.push(R,s-1);$[w-F]=1}}else X.push(R,s-1);
if(R!=F-1)if(x[w+1]==i){if($[w+1]==0){V.push(R+1,s);$[w+1]=1}}else X.push(R+1,s);if(R!=0)if(x[w-1]==i){if($[w-1]==0){V.push(R-1,s);
$[w-1]=1}}else X.push(R-1,s)}return[f,X]};r.Cf.amw=function(x,F,W,n,L){var $=r.Cf.a9r(x.buffer,F,W).g5,l=Date.now(),k=[];
for(var w=0;w<$.length;w++){var V=$[w],i=1;for(var f=0;f<i;f++)k.push(V.Pu)}var X=new Uint32Array(k),s=UPNG.quantize.getKDtree(new Uint8Array(X.buffer),n),R=[F,1,-F,-1,F+1,-F+1,-F-1,F-1,F+F,2,-F-F,-2,F+F-1,F+F+1,F+2,-F+2,-F-F+1,-F-F-1,-F-2,F-2,F+F+2,-F-F+2-F-F-2,F+F-2],h=new Uint8Array(F*W),B=x;
for(var e=0;e<W;e++)for(var U=0;U<F;U++){var w=e*F+U<<2,o=B[w]*(1/255),b=B[w+1]*(1/255),u=B[w+2]*(1/255),Z=B[w+3]*(1/255),I=r.Cf.G_(s,o,b,u,Z,L);
if(I==null){var y=[],D=0;while(D<20){var N=e*F+U+R[D]<<2,j=B[N]*(1/255),H=B[N+1]*(1/255),Q=B[N+2]*(1/255),C=B[N+3]*(1/255),J=r.Cf.G_(s,j,H,Q,C,.005);
if(J!=null){if(y.indexOf(J)==-1){y.push(J);J.UW=1}else J.UW++}D++}y.sort(function(Z,u){return u.UW-Z.UW});
while(y.length!=0&&y[y.length-1].UW<3)y.pop();if(y.length==0)I=r.Cf.G_(s,o,b,u,Z,100);else if(y.length==1)I=y[0];
else if(y.length==2){var E=y[0],T=y[1],c=E.est.q,a=T.est.q,K=a[0]-c[0],Y=a[1]-c[1],p=a[2]-c[2],P=a[3]-c[3],m=o-c[0],z=b-c[1],M=u-c[2],d=Z-c[3],A=K*K+Y*Y+p*p+P*P,G=m*m+z*z+M*M+d*d,kB=(m*K+z*Y+M*p+d*P)/A,q=G-kB*kB*A;
if(q<.5)I=kB<.5?E:T;else{I=r.Cf.G_(s,o,b,u,Z,100)}}else{var E=y[0],T=y[1],fO=y[2],c=E.est.q,a=T.est.q,g=fO.est.q,jN=c[0]-g[0],c6=c[1]-g[1],a7=c[2]-g[2],bd=c[3]-g[3],ey=a[0]-g[0],c5=a[1]-g[1],bx=a[2]-g[2],ap=a[3]-g[3],fC=g[0]-o,kE=g[1]-b,bm=g[2]-u,fe=g[3]-Z,g8=jN*jN+c6*c6+a7*a7+bd*bd,e0=jN*ey+c6*c5+a7*bx+bd*ap,cF=fC*jN+kE*c6+bm*a7+fe*bd,ei=jN*ey+c6*c5+a7*bx+bd*ap,cr=ey*ey+c5*c5+bx*bx+ap*ap,e_=fC*ey+kE*c5+bm*bx+fe*ap,gg=1/(e0*ei-g8*cr),kB=(cr*cF-e_*e0)*gg,bW=(e_*g8-cF*ei)*gg,gx=1-kB-bW,h$=Math.max(kB,bW,gx);
if(h$==kB)I=E;else if(h$==bW)I=T;else I=fO}}h[w>>2]=I.ind}return{m4:h,g5:s[1]}};r.Cf.a9r=function(x,F,W){var n=[],L={},$=F-1,l=W-1,k=0,V=new Uint32Array(x),i=[-F-1,-F,-F+1,-1,1,F-1,F,F+1,F+F,2,-F-F,-2,F+F-1,F+F+1,F+2,-F+2,-F-F+1,-F-F-1,-F-2,F-2,F+F+2,-F-F+2-F-F-2,F+F-2];
for(var f=1;f<l;f++)for(var X=1;X<$;X++){var s=f*F+X,R=V[s],h=!0;for(var w=0;w<8;w++)h=h&&V[s+i[w]]==R;
if(h){k++;var B=L[R];if(B==null){L[R]=n.length;n.push({Pu:R,JQ:1})}else n[B].JQ++}}return{g5:n,aee:k}};
r.Cf.G_=function(x,F,W,n,L,$){var l=UPNG.quantize.getNearest(x[0],F,W,n,L);return r.Cf.apn(l,F,W,n,L)<$?l:null};
r.Cf.apn=function(x,F,W,n,L){var $=x.est.q,l=F-$[0],k=W-$[1],V=n-$[2],i=L-$[3];return l*l+k*k+V*V+i*i};
(function(){r.Cf.vJ=function(k,V,i,f,X){var s=k.xl,R=V*i,h=k.lU,B=k.m4,e=n(f,B,s,R),U=new UnionFind(s),y=0;
for(var o=1;o<i;o++)for(var b=1;b<V;b++){var w=o*V+b,u=B[w],Z=0;if((Z=B[w-1])!=u&&e[Z]==e[u]&&x(h,0,u*6,Z*6)<X)U.link(u,Z);
if((Z=B[w-V])!=u&&e[Z]==e[u]&&x(h,0,u*6,Z*6)<X)U.link(u,Z)}var I=new Uint16Array(s);I.fill(65535);var D=new Uint16Array(s);
for(var w=0;w<s;w++){var N=U.find(w);if(I[N]==65535)I[N]=y++;D[w]=I[N]}var j=new Uint16Array(R);for(var w=0;
w<R;w++)j[w]=D[B[w]];return{m4:j,xl:y}};r.Cf.Wl=function(k,V,i){var f=r.R(V),X=k.length;for(var w=0;
w<X;w++){var s=i[w];if(s==0||s==255){var R=k[w],h=2-(s>>>7),B=f[R]=f[R]|h;if(B==3)return R}}return-1};
function x(k,V,i,f){var X=1/k[i+5],s=1/k[f+5],R=k[i]*X-k[f]*s,h=k[i+1]*X-k[f+1]*s,B=k[i+2]*X-k[f+2]*s,e=k[i+3]*X-k[f+3]*s,U=k[i+4]*X-k[f+4]*s,o=Math.sqrt(R*R+h*h+B*B),b=Math.sqrt(e*e+U*U);
return~~(o+V*b+.5)}function F(k,V){var w=0,i=k.length;while(w!=i&&k[w]!=V)w+=2;return w==i?-1:w}function W(k,w){if(w==k.length-2){k.pop();
k.pop()}else{k[w+1]=k.pop();k[w]=k.pop()}}r.Cf.abD=function(k,V,i,f,X){var s=new Uint32Array(X*4400),R=[];
for(var w=0;w<X;w++)R.push([]);for(var h=0;h<i;h++)for(var B=0;B<V;B++){var w=h*V+B,e=w<<2,U=f[w],o=0,b=k[e]>>>4,u=k[e+1]>>>4,Z=k[e+2]>>>4;
s[U*4400+(b<<8|u<<4|Z)]++;s[U*4400+4096]++;s[U*4400+4100+(b<<4|u)]++;s[U*4400+4360+b]++;if(B!=0&&(o=f[w-1])!=U&&F(R[U],o)==-1){R[U].push(o,0);
R[o].push(U,0)}if(h!=0&&(o=f[w-V])!=U&&F(R[U],o)==-1){R[U].push(o,0);R[o].push(U,0)}}for(var w=0;w<X;
w++){var Z=R[w];for(var I=0;I<Z.length;I+=2)Z[I+1]=l(s,w,Z[I])}return[s,R]};function n(k,V,i,f){var X=r.R(i);
for(var w=0;w<f;w++){var s=k[w];if(s==0||s==255)X[V[w]]=2-(s>>>7)}return X}r.Cf.a6n=function(k,V,i,f,X,s,R){var h=V*i,B=R[0],e=R[1],U=new UnionFind(f),o=n(X,k,f,h),b=-1,u=!0,Z=0;
for(var w=0;w<f;w++)if(o[w]==1){if(b==-1)b=w;else U.link(w,b)}if(b==-1){for(var w=0;w<h;w++)s[w]=X[w]==255?255:0;
return}while(u){while(u){u=!1;for(var w=0;w<f;w++){if(o[w]==0){var I=L(e[w]);if(o[I]==1){o[w]=o[I];u=!0;
U.link(w,I)}}}}u=!0;Z=0;while(u){u=!1;for(var w=0;w<f;w++){if(o[w]==0){var I=L(e[w]);if(o[I]==0){var y=w*4400,D=I*4400;
for(var N=0;N<4400;N+=2){B[y+N]+=B[D+N];B[y+N+1]+=B[D+N+1]}$(e,B,w,I);Z++;o[I]=3;u=!0;U.link(w,I)}}}}u=Z!=0}var j=U.find(b);
for(var w=0;w<f;w++)o[w]=U.find(w)==j?255:0;for(var w=0;w<h;w++){s[w]=o[k[w]]}for(var w=0;w<h;w++){var I=X[w];
if(I==0||I==255)s[w]=I}};function L(k){var V=0,i=0,f=k.length;for(var X=0;X<f;X+=2){var s=k[X+1];if(s>i){i=s;
V=X}}return k[V]}function $(k,V,i,f){var X=k[i],s=k[f];W(X,F(X,f));W(s,F(s,i));for(var w=0;w<s.length;
w+=2){var R=s[w],h=k[R];W(h,F(h,f));if(F(h,i)==-1){h.push(i,0);X.push(R,0)}}for(var w=0;w<X.length;w+=2){var R=X[w],h=k[R],B=l(V,i,R);
X[w+1]=B;h[F(h,i)+1]=B}}function l(k,V,i){var f=0,X=4096,s=V*4400,R=i*4400;for(var h=0;h<16;h++){if(k[s+4360+h]==0||k[R+4360+h]==0)continue;
for(var B=0;B<16;B++){var e=h<<4|B;if(k[s+4100+e]==0||k[R+4100+e]==0)continue;var U=s+(e<<4),o=R+(e<<4);
for(var w=0;w<16;w++)f+=Math.sqrt(k[U+w]*k[o+w])}}var b=f/Math.sqrt(k[s+X]*k[R+X]);return~~(999.99999*b)}}());
r.Cf.bC=function(){var x,F,W,l=0,k=0;function n(R,h,B){var e=[],U=B,o=B,b=B>>>2;for(var u=0;u<h;u++)for(var Z=0;
Z<R;Z++){var I=~~((Z+.5)*U),y=~~((u+.5)*o),D=1e9,N=Math.max(0,I-b),j=Math.min(F,I+b+1),H=Math.max(0,y-b),Q=Math.min(W,y+b+1);
for(var C=H;C<Q;C++)for(var J=N;J<j;J++){var E=L(J,C);if(E<D){I=J;y=C;D=E}}e.push(I,y)}return e}function L(R,h){var B=(h*F+R)*4,e=F*4,U=$(B-4,B)+$(B,B+4),o=$(B-e,B)+$(B,B+e);
return U+o}function $(R,h){var B=x[R]-x[h],e=x[R+1]-x[h+1],U=x[R+2]-x[h+2];return B*B+e*e+U*U}function V(R,h,B,e){k++;
if(e<l)l=e;R[e].push(h,B)}function i(R){k--;while(R[l].length==0)l++}function f(R,h,B,e,U){var o=(B*F+h)*4,b=e[U+5],u=1/b,Z=x[o]*b-e[U],I=x[o+1]*b-e[U+1],y=x[o+2]*b-e[U+2],D=h*b-e[U+3],N=B*b-e[U+4],j=Math.sqrt(Z*Z+I*I+y*y),H=Math.sqrt(D*D+N*N);
return~~((j+R*H)*u+.5)}function X(R,h,B,e,U){x=R;F=h;W=B;l=0;k=0;var o=F*W,b=Math.round(Math.min(F,W)/(e?e:30));
if(b==0)b=1;var u=(U?U:30)/b,Z=Math.floor(F/b),I=Math.floor(W/b),y=new Uint16Array(o);for(var w=0;w<o;
w++)y[w]=65535;var D=n(Z,I,b),N=D.length>>>1;if(N>65535)throw N;var j=new Uint32Array(N*6),H=[];for(var w=0;
w<1e3+W;w++)H.push([]);var Q=1e3*700/(F*W),C=Math.floor(I*Q);C=Math.min(I,Math.max(4,C));C=I;var j=new Uint32Array(N*6);
for(var J=0;J<I;J+=C){var E=Math.min(J+C,I);for(var T=J;T<E;T++)for(var c=0;c<Z;c++){var w=T*Z+c;V(H,D[w*2+1]<<16|D[w*2],w,0)}var a=Math.min(W,E*b);
if(J+C>=I)a=W;s(j,H,y,u,a)}x=null;return{m4:y,xl:N,lU:j,aax:u}}function s(R,h,B,e,U){while(k!=0){i(h);
var o=h[l].pop(),b=h[l].pop(),u=b>>>16,Z=b&65535,w=u*F+Z;if(B[w]==null)throw"e";if(B[w]==65535){var I=o*6,y=w<<2;
B[w]=o;R[I]+=x[y];R[I+1]+=x[y+1];R[I+2]+=x[y+2];R[I+3]+=Z;R[I+4]+=u;R[I+5]++;if(u!=U-1&&B[w+F]==65535)V(h,u+1<<16|Z,o,f(e,Z,u+1,R,I));
if(u!=0&&B[w-F]==65535)V(h,u-1<<16|Z,o,f(e,Z,u-1,R,I));if(Z!=0&&B[w-1]==65535)V(h,u<<16|Z-1,o,f(e,Z-1,u,R,I));
if(Z!=F-1&&B[w+1]==65535)V(h,u<<16|Z+1,o,f(e,Z+1,u,R,I))}}}X.Hs=function(R,h,B,e,U,o){x=R;F=h;W=B;var b=e.xl=e.xl+1,u=e.m4,Z=e.lU,I=e.lU=new Uint32Array(b*6);
I.set(Z,0);var y=u[U[1]*F+U[0]];for(var w=0;w<u.length;w++)if(u[w]==y)u[w]=65535;for(var w=0;w<6;w++)I[y*6+w]=0;
var D=[];for(var w=0;w<1e3+W;w++)D.push([]);for(var w=0;w<U.length;w+=2)V(D,U[w+1]<<16|U[w],y,0);for(var w=0;
w<o.length;w+=2)V(D,o[w+1]<<16|o[w],b-1,0);s(I,D,u,e.aax,W);x=null};return X}();r.afA={};r.afA.aA7=function(){var x=11,F=7,W=x>>>1,dx=F>>>1,n=2,L=2e3/n,$=[],k=null,V="";
function l(f,X,s){var R=(f[X+0]-f[s+0])*(1/255),h=(f[X+1]-f[s+1])*(1/255),B=(f[X+2]-f[s+2])*(1/255),e=(f[X+3]-f[s+3])*(1/255),U=R*R*.125+h*h*.25+B*B*.5+e*e;
return $[~~(U*L)]}function i(f,X,s,R,h,B){var e=Date.now(),U=r.R(X*s);r.ad(f,U);var o=UZIP.adler(U,0,X*s);
if(o!=V){var b=r.Ha(U,X,s);k=r.R(X*s*4);V=o;var u=[1,1/9,1/25,1/49,1/81];for(var Z=0;Z<s;Z++)for(var I=0;
I<X;I++)for(var w=0;w<4;w++){var y=Math.max(1,I-w),D=Math.min(X-1,I+w),N=Math.max(1,Z-w),j=Math.min(s-1,Z+w),H=r.TN(b,X,y,D,N,j);
if(isNaN(H))throw I+","+Z+","+w+","+H;k[(Z*X+I)*4+w]=H*u[w]}}if(hl.Cp){var Q=hl.VH(0,X,s);Q.set(f);var C=hl.VH(1,X,s);
C.set(k);var J=hl.VH(2,X,s);hl.uR(J);hl.filter.Yq({type:hl.filter.a6X,FT:new Float32Array([1/X,1/s]),akg:C.Yn,a8X:h,at5:B},Q.Yn);
J.get(R)}else{for(var w=0;w<2e3;w++)$[w]=Math.exp(-(w/2e3)*n*(100+(1-h)*(1-h)*1e4));var E=dx+2;for(var Z=E;
Z<s-E;Z++)for(var I=E;I<X-E;I++){var T=0,c=0,a=0,K=0;for(var Y=0;Y<x;Y++)for(var p=0;p<x;p++){var P=I+p-W,m=Z+Y-W;
if(P==I&&m==Z||P<E||m<E||P>=X-E||m>=s-E)continue;var z=l(k,(Z*X+I)*4,(m*X+P)*4),M=m*X+P<<2;T+=z*f[M+0];
c+=z*f[M+1];a+=z*f[M+2];K+=z}if(K==0){continue}var d=1/K,A=(Z*X+I)*4;R[A+0]=~~((1-B)*d*T+B*R[A+0]);R[A+1]=~~((1-B)*d*c+B*R[A+1]);
R[A+2]=~~((1-B)*d*a+B*R[A+2])}}}return i}();r.adz=function(){var x=6,F=x>>>1,W=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],n=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function L(B,e){var U=!1,o=B.length,b=e[0],y=5,N=0,j=0;for(var w=1;w<o;w++)b=b.oA(e[w]);if((b.m&1)!=0)b.m++;
if((b.e&1)!=0)b.e++;var u=b.m,Z=b.e,I=Math.max(u,Z);while(I>>>y>8&&y<10)y++;var D=1<<y;if(u%D!=0)N=D-u%D;
if(Z%D!=0)j=D-Z%D;b.za(N>>>1,j>>>1);u=b.m;Z=b.e;if(u%D!=0||Z%D!=0)throw"e";var H=Date.now(),Q=[],C=r.R(b.P()),J=[],E=u*Z,T=new Float32Array(u*Z*2);
for(var w=0;w<o;w++){var c=e[w],a=r.R(c.P());r.ad(B[w],a);C.fill(0);r.Hz(a,c,C,b);Q.push(C.slice(0));
var K=c.x-b.x,Y=c.y-b.y,p=K+c.m-2,P=Y+c.e;for(var m=0;m<c.e;m++){var z=(m+Y)*u;for(var M=0;M<K;M++)C[z+M]=C[z+K];
for(var M=p;M<u;M++)C[z+M]=C[z+p-1]}for(var M=0;M<u;M++){for(var m=0;m<Y;m++)C[m*u+M]=C[Y*u+M];for(var m=P;
m<Z;m++)C[m*u+M]=C[(P-1)*u+M]}var d=new Float32Array(u*Z*2);J.push(d);for(var A=0;A<E;A++)d[A*2]=C[A]*(1/255);
V(d,T,u,Z,y);$(d,u,Z,y)}if(U)console.log("to gray, decompose",Date.now()-H);H=Date.now();var G=r.R(u*Z);
for(var m=0;m<Z;m++)for(var M=0;M<u;M++){var kB=0,q=0,fO=m*u+M<<1;for(var w=0;w<o;w++){var g=J[w],jN=g[fO],c6=g[fO+1],a7=jN*jN+c6*c6;
if(a7>q){q=a7;kB=w}}G[fO>>>1]=kB}if(U)console.log("max abs value",Date.now()-H);H=Date.now();l(G,u,Z,y);
k(G,u,Z);if(U)console.log("denoise",Date.now()-H);H=Date.now();var bd=T.slice(0);for(var m=0;m<Z;m++)for(var M=0;
M<u;M++){var w=m*u+M,fO=w<<1,ey=J[G[w]];bd[fO]=ey[fO];bd[fO+1]=ey[fO+1]}i(bd,T,u,Z,y);if(U)console.log("compose",Date.now()-H);
H=Date.now();for(var A=0;A<E;A++){var a7=bd[A*2]*255,kB=0,q=1e9;for(var w=0;w<o;w++){var c5=Math.abs(Q[w][A]-a7);
if(c5<q){q=c5;kB=w}Q[w][A]=0}Q[kB][A]=255}if(U)console.log("toRGB",Date.now()-H);H=Date.now();return[Q,b]}function $(B,e,U,o){var b=e>>>o,u=U>>>o,Z=1e-4;
for(var I=0;I<U;I++)for(var y=0;y<e;y++){if(y<b&&I<u)continue;var D=(I*e+y)*2,N=B[D],j=B[D+1],H=N*N+j*j;
if(H<Z)N=j=0;else{var Q=(H-Z)/H;N*=Q;j*=Q}B[D]=N;B[D+1]=j}}function l(B,e,U,o){for(var b=0;b<o;b++){var u=e>>>b,Z=U>>>b,I=u>>>1,y=Z>>>1;
for(var D=0;D<y;D++)for(var N=0;N<I;N++){var j=D*e+I+N,H=(D+y)*e+I+N,Q=(D+y)*e+N,C=B[j],J=B[H],E=B[Q];
if(C==J==E){}else if(C==J)B[Q]=C;else if(J==E)B[j]=J;else if(C==E)B[H]=C}}}function k(B,e,U){for(var o=1;
o<U-1;o++)for(var b=1;b<e-1;b++){var w=o*e+b,u=B[w-e],Z=B[w-1],I=B[w],y=B[w+1],D=B[w+e],N=u==Z&&u==y||u==y&&y==D||y==D&&Z==D||u==Z&&D==Z;
if(N)B[w]=u==Z?u:Z==y?Z:u;else if(I>u&&I>Z&&I>y&&I>D)B[w]=u+Z+y+D>>>2;else if(I<u&&I<Z&&I<y&&I<D)B[w]=u+Z+y+D>>>2}}function V(B,e,U,o,b){for(var w=0;
w<b;w++){var u=U>>>w,Z=o>>>w;f(B,e,U,o,u,Z)}}function i(B,e,U,o,b){for(var w=b-1;w>=0;w--){var u=U>>w,Z=o>>w;
X(B,e,U,o,u,Z)}}function f(B,e,U,o,b,u){R(B,e,U,o,b,u,!0);R(e,B,U,o,b,u,!1)}function X(B,e,U,o,b,u){h(B,e,U,o,b,u,!0);
h(e,B,U,o,b,u,!1)}function s(B,e,U,o,b,u){var Z=U*o+e<<1;B[Z]=b;B[Z+1]=u}function R(B,e,U,o,b,u,Z){var j4=Z?b:u,I=Z?u:b,y=I>>>1;
for(var D=0;D<j4;D++){for(var N=0;N<I;N+=2){var j=0,H=0,Q=0,C=0,J=N>>>1;for(var E=0;E<6;E++){var T=N+E-3;
if(T<0)T=I+T;if(T>=I)T=T-I;var c=(Z?T*U+D:D*U+T)<<1,a=B[c],K=B[c+1],Y=W[E],p=n[E];j+=a*Y[0]-K*Y[1];H+=K*Y[0]+a*Y[1];
Q+=a*p[0]-K*p[1];C+=K*p[0]+a*p[1]}if(Z){s(e,D,J,U,j,H);s(e,D,J+y,U,Q,C)}else{s(e,J,D,U,j,H);s(e,J+y,D,U,Q,C)}}}}function h(B,e,U,o,b,u,Z){var j4=Z?b:u,I=Z?u:b,y=I>>>1,D,N,j,H;
for(var Q=0;Q<j4;Q++){for(var C=0;C<I;C++){var J=0,E=0;for(var T=C+3&1;T<6;T+=2){var c=C-T+3>>1;if(c<0)c=y+c;
if(c>=y)c=c-y;if(Z){D=Q;N=c;j=Q;H=c+y}else{N=Q;D=c;H=Q;j=c+y}var a=N*U+D<<1,K=H*U+j<<1,Y=B[a],p=B[a+1],P=B[K],m=B[K+1],z=W[T],M=n[T];
J+=Y*z[0]+P*M[0];J+=p*z[1]+m*M[1];E+=p*z[0]+m*M[0];E-=Y*z[1]+P*M[1]}if(Z)s(e,Q,C,U,J,E);else s(e,C,Q,U,J,E)}}}return{hu:L}}();
r.aoB=function(){var x=Math.floor(12e3/8),F=UPNG.quantize.findNearest,W,n,L,$;function l(s,R,h,B){var e=[s,new eu(0,0,R,h)],o;
r.Bh(e);var U=Date.now(),b=R+h>>>1;for(var w=b<1e3?2:4;w>=0;w-=2){var u=e[w+1],n=u.m,L=u.e;if(o==null){o=new Uint8Array(n*L);
F(e[w],o,B)}k(e[w],n,L,B,o);if(w!=0){var Z=e[w-1],I=Z.m,y=Z.e,D=new Uint8Array(I*y);for(var N=0;N<y;
N++)for(var j=0;j<I;j++)D[N*I+j]=o[(N>>>1)*n+(j>>>1)];o=D}}return o}function k(s,R,h,B,e){W=s;n=R;L=h;
$=B;var U=$.length>>>2,o=[-1,-n,1,n],b=[-1,-n,-n+1,2,n+1,n],u=[-1,-n,1,n+1,n+n,n-1],Z=8,I=n+L>>>1,y=1e9;
while(I>512){Z>>=1;I>>=1}Z=Math.max(1,Math.min(4,Z));for(var D=0;D<Z;D++){var N=0;for(var j=0;j<L;j++)for(var H=0;
H<n;H++){if(f(e,H,j)<2)continue;var Q=j*n+H,C=e[Q],J=1e9,E=0,T=H==0||j==0||H>n-3||j>L-3;if(T){J=1e9;
for(var w=0;w<U;w++){e[Q]=w;var c=X(e,H,j,2);if(c<J){J=c;E=w}}e[Q]=E;if(E==C&&H+1<n&&e[Q+1]==C){J=1e9;
for(var w=0;w<U;w++){e[Q]=e[Q+1]=w;var c=X(e,H,j,2)+X(e,H+1,j,2);if(c<J){J=c;E=w}}e[Q]=e[Q+1]=E}if(E==C&&j+1<L&&e[Q+n]==C){J=1e9;
for(var w=0;w<U;w++){e[Q]=e[Q+n]=w;var c=X(e,H,j,2)+X(e,H,j+1,2);if(c<J){J=c;E=w}}e[Q]=e[Q+n]=E}}else{J=1e9;
E=-1;for(var w=0;w<4;w++){var a=e[Q+o[w]];if(a==E)continue;e[Q]=a;var c=X(e,H,j,2);if(c<J){J=c;E=a}}e[Q]=E;
if(E==C&&H+1<n&&e[Q+1]==C){J=1e9;E=-1;for(var w=0;w<6;w++){var a=e[Q+b[w]];if(a==E)continue;e[Q]=e[Q+1]=a;
var c=X(e,H,j,2)+X(e,H+1,j,2);if(c<J){J=c;E=a}}e[Q]=e[Q+1]=E}if(E==C&&j+1<L&&e[Q+n]==C){J=1e9;E=-1;for(var w=0;
w<6;w++){var a=e[Q+u[w]];if(a==E)continue;e[Q]=e[Q+n]=a;var c=X(e,H,j,2)+X(e,H,j+1,2);if(c<J){J=c;E=a}}e[Q]=e[Q+n]=E}}N+=J}}}function V(s){var R=0;
for(var h=0;h<L;h++)for(var B=0;B<n;B++)R+=X(s,B,h,1);return R/(n*L)}function i(s,R,h){var w=h*n+R,B=w*4,e=s[w]*4,U=W[B]-$[e],o=W[B+1]-$[e+1],b=W[B+2]-$[e+2],u=W[B+3]-$[e+3];
return U*U+o*o+b*b+u*u}function f(s,R,h){if(R<0||R>=n||h<0||h>=L)throw"e";var w=h*n+R,B=s[w],e=0;if(h>0&&B!=s[w-n])e+=2;
if(R>0&&B!=s[w-1])e+=2;if(R<n-1&&B!=s[w+1])e+=2;if(h<L-1&&B!=s[w+n])e+=2;if(h>0&&R>0&&B!=s[w-n-1])e++;
if(h<L-1&&R>0&&B!=s[w+n-1])e++;if(h>0&&R<n-1&&B!=s[w-n+1])e++;if(h<L-1&&R<n-1&&B!=s[w+n+1])e++;return e}function X(s,R,h,B){return i(s,R,h)+f(s,R,h)*B*x}return l}();
var jX=function(){function x(){this.P=0;this.fi=0;this.dc={};this.Cr=[];this.Si=1e5;this.hl=1e5;this.eJ=-1;
this.ZY=-1;this.color=0}function F(dx){this.Zv=dx;this.Rc=new Array(dx);this.Pu=new Array(dx*6);this.avG=0;
this.AE=new Array(dx*2);this.alpha=new Array(dx);this.ma=new Array(dx);this.jX=new Array(dx)}function W(L,$,l,k){function V(e,U,L,$){return L[$*U+e]}function i(w){var y=L.length;
while(w<y&&L[w]==0)w++;return w<y?w:-1}function f(e,U,y){for(var w=2;w<5;w++){var D=0;for(var N=-w+1;
N<=w-1;N++){D+=V(e+N,U+w-1,L,$)==y?1:-1;D+=V(e+w-1,U+N-1,L,$)==y?1:-1;D+=V(e+N-1,U-w,L,$)==y?1:-1;D+=V(e-w,U+N,L,$)==y?1:-1}if(D>0)return 1;
else if(D<0)return 0}return 0}function X(y,h){var B=new x,e=y,U=h,D=0,N=1,j;B.color=L[h*$+y];B.sign=V(y,h,L,$)==B.color?"+":"-";
while(1){B.Cr.push(e,U);if(e>B.eJ)B.eJ=e;if(e<B.Si)B.Si=e;if(U>B.ZY)B.ZY=U;if(U<B.hl)B.hl=U;B.fi++;e+=D;
U+=N;B.P-=e*N;if(e==y&&U==h)break;var H=V(e+(D+N-1>>1),U+(N-D-1>>1),L,$)==B.color,Q=V(e+(D-N-1>>1),U+(N+D-1>>1),L,$)==B.color;
if(Q&&!H){if(k.Wx=="right"||k.Wx=="black"&&B.sign=="+"||k.Wx=="white"&&B.sign=="-"||k.Wx=="majority"&&f(e,U,B.color)||k.Wx=="minority"&&!f(e,U,B.color)){j=D;
D=-N;N=j}else{j=D;D=N;N=-j}}else if(Q){j=D;D=-N;N=j}else if(!H){j=D;D=N;N=-j}}return B}var s=0,R=[];
while(!0){var s=i(s);if(s==-1)break;var h=Math.floor(s/$),B=X(s-h*$,h);for(var w=0;w<B.Cr.length-2;w+=2){var e=B.Cr[w],U=B.Cr[w+1],o=U*$+e;
if(e==B.Cr[w+2]&&U+1==B.Cr[w+3]&&L[o]!=0)jX.fill(o,L,$,0)}if(B.P>k.a4I)R.push(B)}for(var w=0;w<R.length;
w++)R[w].parent=-1;var b=Date.now();for(var w=1;w<R.length;w++){var u=R[w];for(var Z=w-1;Z>=0;Z--){var I=R[Z];
if(u.Si<I.Si||u.eJ>I.eJ||u.hl<I.hl||u.ZY>I.ZY)continue;if(!jX.QS(I.Cr,u.Cr[0]+.5,u.Cr[1]+.5))continue;
u.parent=Z;break}}return R}function n(L,$){function l(D,N,j,H,Q){this.x=D;this.y=N;this.tA=j;this.u_=H;
this.ag=Q}function k(D,dx){return(dx+D)%dx}function V(D,N,j,H){return D*H-j*N}function i(D,N,j,H){return D*j+N*H}function f(D,N,j){if(D<=j)return D<=N&&N<j;
else return D<=N||N<j}function X(D,N,j){var H=0;H+=N*D[0]*N;H+=N*D[1]*j;H+=N*D[2];H+=j*D[3]*N;H+=j*D[4]*j;
H+=j*D[5];H+=D[6]*N;H+=D[7]*j;H+=D[8];return H}function s(D,N,j){return N+D*(j-N)}function R(D,N,j,H){var Q=Math.sign(j-D),C=-Math.sign(H-N);
return Q*(j-D)-C*(H-N)}function h(D,N){return Math.sqrt(D*D+N*N)}function B(D,N,j,H,Q){var C=1-D;return C*C*C*N+3*(C*C*D)*j+3*(D*D*C)*H+D*D*D*Q}function e(D,N,j,H,Q,C,J,E){var T=V(D,N,J,E),c=V(j,H,J,E),a=V(Q,C,J,E),K=T-2*c+a,Y=-2*T+2*c,p=T,P=Y*Y-4*K*p;
if(K==0||P<0)return-1;var m=Math.sqrt(P),z=(-Y+m)/(2*K),M=(-Y-m)/(2*K);if(z>=0&&z<=1)return z;else if(M>=0&&M<=1)return M;
else return-1}function U(y){var w,D,N;y.$z=y.Cr[0];y.ags=y.Cr[1];y.Sr=[];var j=y.Sr;j.push(new l(0,0,0,0,0));
for(w=0;w<y.fi;w++){D=y.Cr[w<<1]-y.$z;N=y.Cr[(w<<1)+1]-y.ags;j.push(new l(j[w].x+D,j[w].y+N,j[w].tA+D*N,j[w].u_+D*D,j[w].ag+N*N))}}function o(y){var dx=y.fi,D=y.Cr,N,j=new Array(dx),H=new Array(dx),Q=new Array(4),C,J,E,T,c,a,K,Y,p,P,m,w,z,M,d,A,G,kB,q=0;
y.f1=new Array(dx);for(w=dx-1;w>=0;w--){if(D[w<<1]!=D[q<<1]&&D[(w<<1)+1]!=D[(q<<1)+1])q=w+1;H[w]=q}for(w=dx-1;
w>=0;w--){var fO=k(w+1,dx)<<1;Q[0]=Q[1]=Q[2]=Q[3]=0;N=(3+3*(D[fO]-D[w<<1])+(D[fO+1]-D[(w<<1)+1]))/2;
Q[N]++;C=0;J=0;E=0;T=0;q=H[w];M=w;while(1){m=0;N=(3+3*Math.sign(D[q*2]-D[M*2])+Math.sign(D[q*2+1]-D[M*2+1]))/2;
Q[N]++;if(Q[0]&&Q[1]&&Q[2]&&Q[3]){j[w]=M;m=1;break}p=D[q*2]-D[w*2];P=D[q*2+1]-D[w*2+1];if(V(C,J,p,P)<0||V(E,T,p,P)>0){break}if(Math.abs(p)<=1&&Math.abs(P)<=1){}else{c=p+(P>=0&&(P>0||p<0)?1:-1);
a=P+(p<=0&&(p<0||P<0)?1:-1);if(V(C,J,c,a)>=0){C=c;J=a}c=p+(P<=0&&(P<0||p<0)?1:-1);a=P+(p>=0&&(p>0||P<0)?1:-1);
if(V(E,T,c,a)<=0){E=c;T=a}}M=q;q=H[M];if(!f(q,w,M)){break}}if(m==0){K=Math.sign(D[q*2]-D[M*2]);Y=Math.sign(D[q*2+1]-D[M*2+1]);
p=D[M*2]-D[w*2];P=D[M*2+1]-D[w*2+1];d=V(C,J,p,P);A=V(C,J,K,Y);G=V(E,T,p,P);kB=V(E,T,K,Y);z=1e7;if(A<0){z=Math.floor(d/-A)}if(kB>0){z=Math.min(z,Math.floor(-G/kB))}j[w]=k(M+z,dx)}}z=j[dx-1];
y.f1[dx-1]=z;for(w=dx-2;w>=0;w--){if(f(w+1,j[w],z)){z=j[w]}y.f1[w]=z}for(w=dx-1;f(k(w+1,dx),z,y.f1[w]);
w--){y.f1[w]=z}}function b(y){function D(y,w,N){var dx=y.fi,p=y.Cr,P=y.Sr,m,z,M,d,A,H,G,kB,Y,q,fO,g,jN,c6,a7=0;
if(N>=dx){N-=dx;a7=1}if(a7==0){m=P[N+1].x-P[w].x;z=P[N+1].y-P[w].y;d=P[N+1].u_-P[w].u_;M=P[N+1].tA-P[w].tA;
A=P[N+1].ag-P[w].ag;H=N+1-w}else{m=P[N+1].x-P[w].x+P[dx].x;z=P[N+1].y-P[w].y+P[dx].y;d=P[N+1].u_-P[w].u_+P[dx].u_;
M=P[N+1].tA-P[w].tA+P[dx].tA;A=P[N+1].ag-P[w].ag+P[dx].ag;H=N+1-w+dx}fO=(p[w<<1]+p[N<<1])/2-p[0];g=(p[(w<<1)+1]+p[(N<<1)+1])/2-p[1];
c6=p[N<<1]-p[w<<1];jN=-(p[(N<<1)+1]-p[(w<<1)+1]);G=(d-2*m*fO)/H+fO*fO;kB=(M-m*g-z*fO)/H+fO*g;Y=(A-2*z*g)/H+g*g;
q=jN*jN*G+2*jN*c6*kB+c6*c6*Y;return Math.sqrt(q)}var w,N,j,H,dx=y.fi,Q=new Array(dx+1),C=new Array(dx+1),J=new Array(dx),E=new Array(dx+1),T=new Array(dx+1),c=new Array(dx+1),a,K,Y;
for(w=0;w<dx;w++){Y=k(y.f1[k(w-1,dx)]-1,dx);if(Y==w){Y=k(w+1,dx)}if(Y<w){J[w]=dx}else{J[w]=Y}}N=1;for(w=0;
w<dx;w++){while(N<=J[w]){E[N]=w;N++}}w=0;for(N=0;w<dx;N++){T[N]=w;w=J[w]}T[N]=dx;j=N;w=dx;for(N=j;N>0;
N--){c[N]=w;w=E[w]}c[0]=0;Q[0]=0;for(N=1;N<=j;N++){for(w=c[N];w<=T[N];w++){K=-1;for(H=T[N-1];H>=E[w];
H--){a=D(y,H,w)+Q[H];if(K<0||a<K){C[w]=H;K=a}}Q[w]=K}}y.aoJ=j;y.ahW=new Array(j);for(w=dx,N=j-1;w>0;
N--){w=C[w];y.ahW[N]=w}}function u(y){function D(y,w,a,J,E,bd){var dx=y.fi,ey=y.Sr,c5=0,Y;while(a>=dx){a-=dx;
c5+=1}while(w>=dx){w-=dx;c5-=1}while(a<0){a+=dx;c5-=1}while(w<0){w+=dx;c5+=1}var bx=ey[a+1].x-ey[w].x+c5*ey[dx].x,ap=ey[a+1].y-ey[w].y+c5*ey[dx].y,fC=ey[a+1].u_-ey[w].u_+c5*ey[dx].u_,kE=ey[a+1].tA-ey[w].tA+c5*ey[dx].tA,bm=ey[a+1].ag-ey[w].ag+c5*ey[dx].ag,K=a+1-w+c5*dx;
J[bd]=bx/K;J[bd+1]=ap/K;var fe=(fC-bx*bx/K)/K,g8=(kE-bx*ap/K)/K,e0=(bm-ap*ap/K)/K,cF=(fe+e0+Math.sqrt((fe-e0)*(fe-e0)+4*g8*g8))/2;
fe-=cF;e0-=cF;if(Math.abs(fe)>=Math.abs(e0)){Y=Math.sqrt(fe*fe+g8*g8);if(Y!=0){E[bd]=-g8/Y;E[bd+1]=fe/Y}}else{Y=Math.sqrt(e0*e0+g8*g8);
if(Y!=0){E[bd]=-e0/Y;E[bd+1]=g8/Y}}if(Y==0){E[bd]=E[bd+1]=0}}var N=y.aoJ,j=y.ahW,dx=y.fi,H=y.Cr,Q=y.$z,C=y.ags,J=new Array(N*2),E=new Array(N*2),T=new Array(N),c=new Array(3),w,a,K,Y,z,M,d,A,G,kB,q;
y.dc=new F(N);for(w=0;w<N;w++){a=j[k(w+1,N)];a=k(a-j[w],dx)+j[w];J[w<<1]=0;J[(w<<1)+1]=0;E[w<<1]=0;E[(w<<1)+1]=0;
D(y,j[w],a,J,E,w<<1)}for(w=0;w<N;w++){T[w]=[0,0,0,0,0,0,0,0,0];var p=E[w<<1]*E[w<<1]+E[(w<<1)+1]*E[(w<<1)+1],P=1/p;
if(p!=0){c[0]=E[(w<<1)+1];c[1]=-E[w<<1];c[2]=-c[1]*J[(w<<1)+1]-c[0]*J[w<<1];for(Y=0;Y<3;Y++){T[w][Y*3+0]=c[Y]*c[0]*P;
T[w][Y*3+1]=c[Y]*c[1]*P;T[w][Y*3+2]=c[Y]*c[2]*P}}}var m=[0,0,0,0,0,0,0,0,0];for(w=0;w<N;w++){m[0]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=0;
var fO=H[j[w]<<1]-Q,g=H[(j[w]<<1)+1]-C,jN=0,c6=0;a=k(w-1,N);for(Y=0;Y<9;Y+=3){m[Y+0]=T[a][Y+0]+T[w][Y+0];
m[Y+1]=T[a][Y+1]+T[w][Y+1];m[Y+2]=T[a][Y+2]+T[w][Y+2]}while(1){var a7=m[0]*m[4]-m[1]*m[3];if(a7!=0){jN=(-m[2]*m[4]+m[5]*m[0])/a7;
c6=(m[2]*m[3]-m[5]*m[0])/a7;break}if(m[0]>m[4]){c[0]=-m[1];c[1]=m[0]}else if(m[4]){c[0]=-m[4];c[1]=m[3]}else{c[0]=1;
c[1]=0}var p=c[0]*c[0]+c[1]*c[1],P=1/p;c[2]=-c[1]*g-c[0]*fO;for(Y=0;Y<3;Y++){m[Y*3+0]+=c[Y]*c[0]*P;m[Y*3+1]+=c[Y]*c[1]*P;
m[Y*3+2]+=c[Y]*c[2]*P}}z=Math.abs(jN-fO);M=Math.abs(c6-g);if(z<=.5&&M<=.5){y.dc.AE[w<<1]=jN+Q;y.dc.AE[(w<<1)+1]=c6+C;
continue}d=X(m,fO,g);G=fO;kB=g;if(m[0]!=0){for(q=0;q<2;q++){c6=g-.5+q;jN=-(m[1]*c6+m[2])/m[0];z=Math.abs(jN-fO);
A=X(m,jN,c6);if(z<=.5&&A<d){d=A;G=jN;kB=c6}}}if(m[4]!=0){for(q=0;q<2;q++){jN=fO-.5+q;c6=-(m[3]*jN+m[5])/m[4];
M=Math.abs(c6-g);A=X(m,jN,c6);if(M<=.5&&A<d){d=A;G=jN;kB=c6}}}for(Y=0;Y<2;Y++){for(K=0;K<2;K++){jN=fO-.5+Y;
c6=g-.5+K;A=X(m,jN,c6);if(A<d){d=A;G=jN;kB=c6}}}y.dc.AE[w<<1]=G+Q;y.dc.AE[(w<<1)+1]=kB+C}}function Z(y){var D=y.dc.Zv,N=y.dc,w,j,H,Q,C,J,E,T,c;
for(w=0;w<D;w++){j=k(w+1,D);H=k(w+2,D);var a=N.AE[w<<1],K=N.AE[(w<<1)+1],Y=N.AE[H<<1],p=N.AE[(H<<1)+1],P=N.AE[j<<1],m=N.AE[(j<<1)+1],z=s(.5,Y,P),M=s(.5,p,m);
C=R(a,K,Y,p);if(C!=0){Q=V(P-a,m-K,Y-a,p-K)/C;Q=Math.abs(Q);J=Q>1?1-1/Q:0;J=J*(1/.75)}else{J=4/3}N.ma[j]=J;
var d=3*j<<1;if(J>=$.a7c){N.Rc[j]=0;N.Pu[d+0]=N.Pu[d+1]=0;N.Pu[d+2]=P;N.Pu[d+3]=m;N.Pu[d+4]=z;N.Pu[d+5]=M}else{if(J<.55){J=.55}else if(J>1){J=1}var A=.5+.5*J;
N.Rc[j]=1;N.Pu[d]=s(A,a,P);N.Pu[d+1]=s(A,K,m);N.Pu[d+2]=s(A,Y,P);N.Pu[d+3]=s(A,p,m);N.Pu[d+4]=z;N.Pu[d+5]=M}N.alpha[j]=J;
N.jX[j]=.5}N.aze=1}function I(y){function D(){this.NE=0;this.Kd=0;this.YP=0;this.kD=0;this.tt=0;this.zs=0;
this.TR=0;this.alpha=0}function N(y,w,a,cr,e_,G,kB){var H=y.dc.Zv,gg=y.dc.Pu,bW=y.dc.AE;if(w==a)return 1;
var gx=w,P=k(w+1,H),h$=k(gx+1,H),kE=bW[w<<1],bm=bW[(w<<1)+1],dH=bW[P<<1],eg=bW[(P<<1)+1],aB=G[h$];if(aB==0)return 1;
var gB=h(kE-dH,bm-eg);for(gx=h$;gx!=a;gx=h$){var h$=k(gx+1,H),jy=k(gx+2,H),aV=bW[h$<<1],ie=bW[(h$<<1)+1],cT=bW[jy<<1],a_=bW[(jy<<1)+1];
if(G[h$]!=aB)return 1;if(Math.sign(V(dH-kE,eg-bm,cT-aV,a_-ie))!=aB)return 1;if(i(dH-kE,eg-bm,cT-aV,a_-ie)<gB*h(aV-cT,ie-a_)*-.999847695156)return 1}var gs=k(w,H)*3+2<<1,gq=k(w+1,H)<<1,kr=k(a,H)<<1,iN=k(a,H)*3+2<<1,bd=gg[gs],ey=gg[gs+1],jH=bW[gq],h2=bW[gq+1],an=bW[kr],bt=bW[kr+1],kH=gg[iN],js=gg[iN+1],q=bW[0],fO=bW[1];
gs=a*3+2<<1;var gA=gg[gs],jR=gg[gs+1],m=kB[a]-kB[w];m-=V(gA-q,jR-fO,gA-q,jR-fO)/2;if(w>=a){m+=kB[H]}var c3=jH-bd,iU=h2-ey,hn=an-bd,db=bt-ey,dy=kH-bd,c2=js-ey,bk=V(c3,iU,hn,db),cx=V(c3,iU,dy,c2),ft=V(hn,db,dy,c2),eZ=bk+ft-cx;
if(cx==bk)return 1;var A=ft/(ft-eZ),d=cx/(cx-bk),hf=cx*A/2;if(hf==0)return 1;var jr=m/hf,z=2-Math.sqrt(4-jr/.3);
cr.Kd=s(A*z,bd,jH);cr.YP=s(A*z,ey,h2);cr.kD=s(d*z,kH,an);cr.tt=s(d*z,js,bt);cr.alpha=z;cr.zs=A;cr.TR=d;
jH=cr.Kd;h2=cr.YP;an=cr.kD;bt=cr.tt;cr.NE=0;for(gx=k(w+1,H);gx!=a;gx=h$){h$=k(gx+1,H);var ix=bW[gx<<1],bF=bW[(gx<<1)+1],aV=bW[h$<<1],ie=bW[(h$<<1)+1];
A=e(jH-bd,h2-ey,an-jH,bt-h2,kH-an,js-bt,aV-ix,ie-bF);if(A<-.5)return 1;var fA=B(A,bd,jH,an,kH),ax=B(A,ey,h2,bt,js),gB=h(aV-ix,ie-bF);
if(gB==0)return 1;var jA=V(aV-ix,ie-bF,fA-ix,ax-bF)/gB;if(Math.abs(jA)>e_)return 1;if(i(aV-ix,ie-bF,fA-ix,ax-bF)<0||i(ix-aV,bF-ie,fA-aV,ax-ie)<0){return 1}cr.NE+=jA*jA}for(gx=w;
gx!=a;gx=h$){h$=k(gx+1,H);var gs=gx*3+2<<1,gq=h$*3+2<<1,g1=gg[gs],iA=gg[gs+1],iQ=gg[gq],fB=gg[gq+1];
A=e(jH-bd,h2-ey,an-jH,bt-h2,kH-an,js-bt,iQ-g1,fB-iA);if(A<-.5)return 1;var fA=B(A,bd,jH,an,kH),ax=B(A,ey,h2,bt,js),gB=h(iQ-g1,fB-iA);
if(gB==0)return 1;var jA=V(iQ-g1,fB-iA,fA-g1,ax-iA)/gB,dn=V(iQ-g1,fB-iA,bW[h$<<1]-g1,bW[(h$<<1)+1]-iA)/gB;
dn*=.75*y.dc.alpha[h$];if(dn<0){jA=-jA;dn=-dn}if(jA<dn-e_)return 1;if(jA<dn){cr.NE+=(jA-dn)*(jA-dn)}}return 0}var j=y.dc,H=j.Zv,Q=j.AE,C=new Array(H+1),J=new Array(H+1),E=new Array(H+1),T=new Array(H+1),c,w,a,K,Y=new D,p,P,m,z,M,d,A,G=new Array(H),kB=new Array(H+1);
for(w=0;w<H;w++){if(j.Rc[w]=="CURVE"){var q=Q[k(w-1,H)<<1],fO=Q[(k(w-1,H)<<1)+1],g=Q[w<<1],jN=Q[(w<<1)+1],c6=Q[k(w+1,H)<<1],a7=Q[(k(w+1,H)<<1)+1];
G[w]=Math.sign(V(g-q,jN-fO,c6-g,a7-jN))}else{G[w]=0}}m=0;kB[0]=0;var bd=j.AE[0],ey=j.AE[1];for(w=0;w<H;
w++){P=k(w+1,H);if(j.Rc[P]=="CURVE"){z=j.alpha[P];var c5=w*3+2<<1,bx=P*3+2<<1,ap=j.Pu[c5],fC=j.Pu[c5+1],kE=Q[P<<1],bm=Q[(P<<1)+1],fe=j.Pu[bx],g8=j.Pu[bx+1];
m+=.3*z*(4-z)*V(kE-ap,bm-fC,fe-ap,g8-fC)/2;m+=V(ap-bd,fC-ey,fe-bd,g8-ey)/2}kB[w+1]=m}C[0]=-1;J[0]=0;
E[0]=0;for(a=1;a<=H;a++){C[a]=a-1;J[a]=J[a-1];E[a]=E[a-1]+1;for(w=a-2;w>=0;w--){K=N(y,w,k(a,H),Y,$.acN,G,kB);
if(K){break}if(E[a]>E[w]+1||E[a]==E[w]+1&&J[a]>J[w]+Y.NE){C[a]=w;J[a]=J[w]+Y.NE;E[a]=E[w]+1;T[a]=Y;Y=new D}}}c=E[H];
M=new F(c);d=new Array(c);A=new Array(c);a=H;for(w=c-1;w>=0;w--){var e0=k(a,H),cF=w*3+0<<1,ei=e0*3+0<<1;
if(C[a]==a-1){M.Rc[w]=j.Rc[e0];M.Pu[cF]=j.Pu[ei];M.Pu[cF+1]=j.Pu[ei+1];M.Pu[cF+2]=j.Pu[ei+2];M.Pu[cF+3]=j.Pu[ei+3];
M.Pu[cF+4]=j.Pu[ei+4];M.Pu[cF+5]=j.Pu[ei+5];M.AE[w<<1]=j.AE[e0<<1];M.AE[(w<<1)+1]=j.AE[(e0<<1)+1];M.alpha[w]=j.alpha[e0];
M.ma[w]=j.ma[e0];M.jX[w]=j.jX[e0];d[w]=A[w]=1}else{M.Rc[w]="CURVE";M.Pu[cF]=T[a].Kd;M.Pu[cF+1]=T[a].YP;
M.Pu[cF+2]=T[a].kD;M.Pu[cF+3]=T[a].tt;M.Pu[cF+4]=j.Pu[ei+4];M.Pu[cF+5]=j.Pu[ei+5];M.AE[w<<1]=s(T[a].TR,j.Pu[ei+4],Q[e0<<1]);
M.AE[(w<<1)+1]=s(T[a].TR,j.Pu[ei+5],Q[(e0<<1)+1]);M.alpha[w]=T[a].alpha;M.ma[w]=T[a].alpha;d[w]=T[a].TR;
A[w]=T[a].zs}a=C[a]}for(w=0;w<c;w++){P=k(w+1,c);M.jX[w]=d[w]/(d[w]+A[P])}M.aze=1;y.dc=M}for(var w=0;
w<L.length;w++){var y=L[w];U(y);o(y);b(y);u(y);Z(y);if($.ada)I(y)}}return{ar1:W,awF:n}}();jX.Gl=function(x,F,W,n){var L={Wx:"minority",a4I:n,ada:!0,a7c:1,acN:.2},$=jX.ar1(x,F,W,L);
jX.awF($,L);return $};jX.x8=function(x){var F=[];for(var w=0;w<x.length;w++){var W=x[w],n=W.dc,L=["M"],$=[n.Pu[(n.Zv-1)*6+4],n.Pu[(n.Zv-1)*6+5]];
for(var l=0;l<n.Zv;l++){var k=l*6;if(n.Rc[l]==1){L.push("C");for(var V=0;V<6;V++)$.push(n.Pu[k+V])}else if(n.Rc[l]==0){L.push("L");
for(var V=2;V<4;V++)$.push(n.Pu[k+V])}}L.push("Z");F.push({parent:W.parent,color:W.color,path:{p:$,G:L}})}return F};
jX.QS=function(x,F,W){var dx=x.length>>1,n,L=x[2*dx-3]-W,$=x[2*dx-2]-F,l=x[2*dx-1]-W,k=l>L,V=0;for(var w=0;
w<dx;w++){n=$;L=l;$=x[2*w]-F;l=x[2*w+1]-W;if(L==l)continue;k=l>L}for(var w=0;w<dx;w++){n=$;L=l;$=x[2*w]-F;
l=x[2*w+1]-W;if(L<0&&l<0)continue;if(L>0&&l>0)continue;if(n<0&&$<0)continue;if(L==l&&Math.min(n,$)<=0)return!0;
if(L==l)continue;var i=n+($-n)*-L/(l-L);if(i==0)return!0;if(i>0)V++;if(L==0&&k&&l>L)V--;if(L==0&&!k&&l<L)V--;
k=l>L}return(V&1)==1};jX.fill=function(x,F,W,n){var L=F[x],$=[x],l=0;while(l<$.length){var k=$[l];l++;
F[k]=n;if(F[k-W]==L){$.push(k-W);F[k-W]=254}if(F[k-1]==L){$.push(k-1);F[k-1]=254}if(F[k+1]==L){$.push(k+1);
F[k+1]=254}if(F[k+W]==L){$.push(k+W);F[k+W]=254}}};var fK=function(){function x(k){return Math.max(0,Math.min(1,k))}function F(k,V){var i=V<0?-V:V;
if(k>1)k=.99;k=k*.99;var f=Math.pow(i/5,.16),X=Math.pow(2,i<1?i:1+(i-1)*.8);if(V<0)X=1/X;k=f*(1-Math.pow(1-k,X))+(1-f)*k;
return k}function W(k,V){var i=V/100;k=k*.99;k=i*(.5-.5*Math.cos(k*Math.PI))+(1-i)*k;return k}var n=r.L5.ait(1,1,1,-.3),L=r.L5.sx(n);
function $(k,V,i,f,X,s,R){var h=k[i],B=k[i+1],e=k[i+2],U=r.L5.se(n,[h,B,e,1]);h=U[0];B=U[1];e=U[2];h=F(h,f);
B=F(B,f);e=F(e,f);var U=r.L5.se(L,[h,B,e,1]);h=U[0];B=U[1];e=U[2];h=x(h);B=x(B);e=x(e);h=W(h,X);B=W(B,X);
e=W(e,X);var o=jD.anG(h,B,e,s);h=o[0];B=o[1];e=o[2];h=x(h);B=x(B);e=x(e);if(R){var b=new Uint8Array(4);
b[0]=~~(.5+h*255);b[1]=~~(.5+B*255);b[2]=~~(.5+e*255);a3.Pl(R,b,b,new eu(0,0,1,1));h=b[0]/255;B=b[1]/255;
e=b[2]/255}V[i]=h;V[i+1]=B;V[i+2]=e}function l(k,V,i,f,X,s){var R=X.Temp?X.Temp.v:0,h=X.Tint?X.Tint.v:0,B=X.Ex12?X.Ex12.v:0,e=X.Cr12?X.Cr12.v:0,U=X.Vibr?X.Vibr.v:0,o=X.Strt?X.Strt.v:0,b=jD.An(R,h),u=null;
B+=b.adX;if(U!=0||o!=0)u=a3.So("vibA",{Strt:X.Strt,vibrance:X.Vibr});var Z=Date.now();if(s){var I=Math.pow(2,B),y=k.length;
B=0;var D=new Float32Array(4e3);for(var w=0;w<4e3;w++){var N=w*(1/1e3);N=r.kB(N);N*=I;N=r.sW(N);N=x(N);
D[w]=N}for(var w=0;w<y;w+=3){f[w]=D[~~(k[w]*1e3)];f[w+1]=D[~~(k[w+1]*1e3)];f[w+2]=D[~~(k[w+2]*1e3)]}console.log(Date.now()-Z,"Exposure normalizing");
Z=Date.now()}else f.set(k);if(B!=0||e!=0||R!=0||h!=0||u){var j=17,H=1/(j-1),Q=j*j*j,C=new Array(Q*3);
for(var J=0;J<j;J++)for(var E=0;E<j;E++)for(var T=0;T<j;T++){var w=J*j*j+E*j+T,c=w*3;C[c]=J*H;C[c+1]=E*H;
C[c+2]=T*H}for(var w=0;w<Q;w++)$(C,C,w*3,B,e,b,u);console.log(Date.now()-Z,"making LUT");Z=Date.now();
ICC.U.applyLUTFloat(C,j,f,f);console.log(Date.now()-Z,"applying LUT");Z=Date.now()}}return l}();function h6(){}h6.cF=function(x,F){var W=new Uint8Array(x),n=0,L=F.split("/").pop().split(".")[0];
function $(e){for(var w=0;w<e.length;w++)e[w].v.Nm.v=L+"/"+e[w].v.Nm.v.split("/").pop()}var l={kF:[],r5:[],list:[]},k=_.Vk(W,n);
n+=2;if(k<=2){l=h6.apl(W);$(l.list);return l}var V=_.Vk(W,n);n+=2;var i=_.xR(W,n,8);n+=8;var f=_.q(W,n);
n+=4;if(f>0)l.kF=h6.ak1(W,n,f,V,k);n+=f;var X=_.xR(W,n,8);n+=8;var s=_.q(W,n);n+=4;if(s>0)l.r5=f1.CX(W,n,s);
n+=s;var R=_.xR(W,n,8);n+=8;var h=_.q(W,n);n+=4;if(h>0){var B={};ea.rv(W,B,n+4);l.list=B.Brsh.v}n+=h;
var e=l.list;for(var w=0;w<e.length;w++){jq.om.check(e[w].v)}$(e);return l};h6.o6=function(x,F){x.v.Nm.v=F};
h6.apl=function(x){var F={kF:[],r5:[],list:[]},W=0,n=_.Vk(x,W);W+=2;var L=_.Vk(x,W);W+=2;for(var w=0;
w<L;w++){var $=_.Vk(x,W);W+=2;var l=_.q(x,W);W+=4;var k=W;if($==2){var V={};F.kF.push(V);var i=_.q(x,k);
k+=4;var f=_.Vk(x,k);k+=2;if(n==2){var X=_.Rv(x,k);k+=4+X.length*2+2}V.id=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f";
k++;k+=8;V.fS=_.YL(x,k);k+=16;var s=_.Vk(x,k);k+=2;var R=x[k];k++;var h=dU.ia(!1,s,x,V.fS.m,V.fS.e,k,R);
h6.a75(V,h);var B=jq.zu(V.id),e=B.Brsh.v;e.Dmtr.v.val=V.fS.m;e.Spcn.v.val=f;F.list.push({t:"Objc",v:B})}W+=l}return F};
h6.Kt=function(x){var F=new aL,W=0,n=0;_.el(F,W,6);W+=2;_.el(F,W,2);W+=2;var L={},$=[],l={},k=[];for(var w=0;
w<x.list.length;w++){var V=x.list[w].v,i=V.Brsh.v;if(i.classID=="sampledBrush")L[i.sampledData.v]=!0;
if(V.Txtr)l[V.Txtr.v.Idnt.v]=!0}for(var w=0;w<x.kF.length;w++)if(L[x.kF[w].id])$.push(x.kF[w]);for(var w=0;
w<x.r5.length;w++)if(L[x.r5[w].id])k.push(x.r5[w]);_.bP(F,W,"8BIMsamp");W+=8;W+=4;n=W;W=h6.afq(F,W,$);
_.IJ(F,n-4,W-n);_.bP(F,W,"8BIMpatt");W+=8;W+=4;n=W;W=f1.Hq(F,W,k);_.IJ(F,n-4,W-n);var f=JSON.parse(JSON.stringify(x.list));
for(var w=0;w<f.length;w++)f[w].v.Nm.v=f[w].v.Nm.v.split("/").pop();var X={classID:"null",Brsh:{t:"VlLs",v:f}};
_.bP(F,W,"8BIMdesc");W+=8;W+=4;n=W;_.IJ(F,W,16);W+=4;W+=ea.GZ(F,X,W);_.IJ(F,n-4,W-n);return F.data.slice(0,W).buffer};
h6.ak1=function(x,F,W,n,L){var $=_.q,l=_.YL,k=F+W,V=[];while(F<k){var i={};V.push(i);var f=$(x,F);F+=4;
var X=F,s=_.pM(x,F);F+=s.length;i.id=s.kc;if(n==1){F+=9;i.fS=l(x,F);F+=16}else{F+=7;var R=$(x,F);F+=4;
i.fS=l(x,F);F+=16;var h=$(x,F);F+=4;F+=h*4;var B=$(x,F);F+=4;var e=$(x,F);F+=4;var U=l(x,F);F+=16}var o=_.Vk(x,F);
F+=2;var b=x[F];F+=1;var u=dU.ia(!1,o,x,i.fS.m,i.fS.e,F,b);h6.a75(i,u);if(f%4!=0)f+=4-f%4;F=X+f}return V};
h6.a75=function(x,F){var W=x.fS.clone();W.x=W.y=0;x.aB=[F,W]};h6.afq=function(x,F,W){var n=_.IJ,L=_.wO;
for(var w=0;w<W.length;w++){var $=W[w],l=F+4,V=56,f=1;F+=4;_.Io(x,F,$.id);F+=$.id.length+2;x.Gq(F,1);
x.data[F]=1;F+=3;n(x,F,3);F+=4;var k=F;F+=4;L(x,F,$.fS);F+=16;n(x,F,V);F+=4;F+=V*4;n(x,F-4,1);var i=F;
F+=4;n(x,F,8);F+=4;L(x,F,$.fS);F+=16;_.el(x,F,8);F+=2;x.Gq(F,1);x.data[F]=f;F++;var X=$.aB[0];x.Gq(F,$.fS.P()*2);
F=dU.KA(!1,X,x.data,$.fS.m,$.fS.e,F,f);x.Gq(F,8);F+=8;var s=F-l;n(x,l-4,s);n(x,k,s-49);n(x,i,s-305);
if(s%4!=0)F+=4-s%4}return F};function jL(){}jL.cF=function(x,F){var W=new Uint8Array(x),n=[],L=0,$=_.Vk(W,L);
L+=2;if($!=4){throw"Unknown version of curves: "+$}var l=_.Vk(W,L);L+=2;for(var w=0;w<l;w++){var k=jL.azH(W,L);
L+=2+2*k.length;n.push(k)}if(L!=W.length){var V=_.xR(W,L,4);L+=4;var i=_.Vk(W,L);L+=2;var f=_.Vk(W,L);
L+=2;if(f!=0)throw"extra curves for channels"}var X=jL.ajN(n,0);X.presetKind={t:"long",v:3};X.presetFileName={t:"TEXT",v:F.split("/").pop().split(".")[0]};
return[X]};jL.hP=function(x,F,W){var n=F,L=[],$=x[F];F+=3;var l=_.q(x,F);F+=4;for(var w=0;w<4;w++){var k=l>>>w&1;
if(k){if($==0){var V=jL.azH(x,F);F+=2+2*V.length}else{var V=jL.apo(x,F);F+=256}L.push(V)}else L.push($==0?[0,0,255,255]:jL.aro())}var i=jL.ajN(L,$);
return i};jL.ajN=function(x,F){var W=ew.Iz("curv");for(var w=0;w<4;w++){if(F==0){var n=x[w],L=[];for(var $=0;
$<n.length;$+=2)L.push(r.z3.Xd(n[$],n[$+1],!0));jL.Mm(W,w,L)}else jL.Mm(W,w,x[w])}return W};jL.kL=function(x,F,W){var n=[];
for(var w=0;w<4;w++){var L=jL.EJ(W,w);if(L.length==256)n.push(L);else{var $=[];for(var l=0;l<L.length;
l++)$.push(L[l].v.Hrzn.v,L[l].v.Vrtc.v);n.push($)}}var k=F,V=n[0].length==256?1:0;x.Gq(F,3);x.data[F]=V;
x.data[F+1]=0;x.data[F+2]=1;F+=3;_.IJ(x,F,15);F+=4;for(var w=0;w<4;w++){var i=n[w];if(V==0){jL.aAf(x,F,i);
F+=2+2*i.length}else{jL.a30(x,F,i);F+=256}}return F-k};jL.aro=function(){var x=[];for(var w=0;w<256;
w++)x.push(w);return x};jL.Mm=function(x,F,W){var n=ef.iD("CrvA",F);if(W.length<256)n.Crv={t:"VlLs",v:W};
else{n.Mpng={t:"VlLs",v:[]};for(var w=0;w<256;w++)n.Mpng.v[w]={t:"long",v:W[w]}}n={t:"Objc",v:n};var L=x.Adjs.v,$=ef.zl(L,F);
if($==-1)L.push(n);else L[$]=n};jL.EJ=function(x,F){var W=x.Adjs.v,n=ef.zl(W,F);if(n==-1){if(W.length==0||W[0].v.Crv)return[r.z3.Xd(0,0,!0),r.z3.Xd(255,255,!0)];
if(W[0].v.autoMachineLearning||W[0].v.AuCo)return[r.z3.Xd(0,0,!0),r.z3.Xd(128,160,!0),r.z3.Xd(255,255,!0)];
var L=[];for(var w=0;w<256;w++)L.push(w);return L}var $=W[n].v;if($.Crv)return $.Crv.v;if($.Mpng){var L=[];
for(var w=0;w<256;w++)L.push($.Mpng.v[w].v);return L}return[r.z3.Xd(0,0,!0),r.z3.Xd(255,255,!0)]};jL.azH=function(x,F){var W=[],n=_.Vk(x,F);
F+=2;for(var L=0;L<n;L++){var $=_.Vk(x,F);F+=2;var l=_.Vk(x,F);F+=2;W.push(l,$)}return W};jL.aAf=function(x,F,W){var n=W.length/2;
_.el(x,F,n);F+=2;for(var L=0;L<n;L++){_.el(x,F,W[L*2+1]);F+=2;_.el(x,F,W[L*2+0]);F+=2}};jL.apo=function(x,F){var W=[];
for(var w=0;w<256;w++)W.push(x[F+w]);return W};jL.a30=function(x,F,W){x.Gq(F,256);for(var w=0;w<256;
w++)x.data[F+w]=W[w]};function im(){}im.hP=function(x,F,W){var n={},L=_.Vk(x,F);F+=2;n.u5=x[F]==1;F++;
F++;n.SW=[_.mf(x,F),_.mf(x,F+2),_.mf(x,F+4)];F+=6;n.xG=[_.mf(x,F),_.mf(x,F+2),_.mf(x,F+4)];F+=6;n.$q=[];
for(var w=0;w<6;w++){var $={};$.Bo=[_.mf(x,F),_.mf(x,F+2),_.mf(x,F+4),_.mf(x,F+6)];F+=8;$.xB=[_.mf(x,F),_.mf(x,F+2),_.mf(x,F+4)];
F+=6;n.$q.push($)}var l=ew.Iz("hue2"),k=n;if(l.Clrz==null)l.Clrz={t:"bool",v:!1};l.Clrz.v=k.u5;for(var w=0;
w<7;w++){var V=w==0?k.u5?k.SW:k.xG:k.$q[w-1];im.Mm(l,w,V)}return l};im.a4i=function(x){return{classID:"Hst2",H:{t:"long",v:x[0]},Strt:{t:"long",v:x[1]},Lght:{t:"long",v:x[2]}}};
im.zl=function(x,F){for(var w=0;w<x.length;w++){var W=x[w].v.LclR;if(F==0&&W==null||W!=null&&W.v==F)return w}return-1};
im.Mm=function(x,F,W){var n=F==0?W:W.xB,L=im.a4i(n);if(F!=0){var $=W.Bo;L.LclR={t:"long",v:F},L.BgnR={t:"long",v:$[0]};
L.BgnS={t:"long",v:$[1]};L.EndS={t:"long",v:$[2]};L.EndR={t:"long",v:$[3]}}L={t:"Objc",v:L};var l=x.Adjs.v,k=im.zl(l,F);
if(k==-1)l.push(L);else l[k]=L};im.EJ=function(x,F){var W=x.Adjs.v,n=im.zl(W,F);if(n==-1){if(F==0)return[0,0,0];
else return[{Bo:[315,345,15,45],xB:[0,0,0]},{Bo:[15,45,75,105],xB:[0,0,0]},{Bo:[75,105,135,165],xB:[0,0,0]},{Bo:[135,165,195,225],xB:[0,0,0]},{Bo:[195,225,255,285],xB:[0,0,0]},{Bo:[255,285,315,345],xB:[0,0,0]}][F-1]}var L=W[n].v,$=[L.H.v,L.Strt.v,L.Lght.v];
if(F==0)return $;return{xB:$,Bo:[L.BgnR.v,L.BgnS.v,L.EndS.v,L.EndR.v]}};im.kL=function(x,F,W){var n={u5:W.Clrz?W.Clrz.v:!1,$q:[]};
n.SW=n.xG=im.EJ(W,0);for(var w=1;w<7;w++)n.$q.push(im.EJ(W,w));var L=2+2+12+6*14,$=x.data;x.Gq(F,L);
_.zJ($,F,2);F+=2;$[F]=n.u5?1:0;F++;F++;_.W7($,F+0,n.SW[0]);_.W7($,F+2,n.SW[1]);_.W7($,F+4,n.SW[2]);F+=6;
_.W7($,F+0,n.xG[0]);_.W7($,F+2,n.xG[1]);_.W7($,F+4,n.xG[2]);F+=6;for(var w=0;w<6;w++){var l=n.$q[w].Bo,k=n.$q[w].xB;
_.W7($,F+0,l[0]);_.W7($,F+2,l[1]);_.W7($,F+4,l[2]);_.W7($,F+6,l[3]);F+=8;_.W7($,F+0,k[0]);_.W7($,F+2,k[1]);
_.W7($,F+4,k[2]);F+=6}return L};function ef(){}ef.cF=function(x){var F=new Uint8Array(x),W=2,n=[];for(var w=0;
w<29;w++){var L=[];n.push(L);for(var $=0;$<5;$++)L.push(_.Vk(F,W+w*10+$*2))}W+=29*10;if(W<F.length){var l=_.xR(F,W,4);
W+=4;var k=_.Vk(F,W);W+=2;var V=_.Vk(F,W);W+=2;var i=V-29;for(var w=0;w<i;w++){var L=[];n.push(L);for(var $=0;
$<5;$++)L.push(_.Vk(F,W+w*10+$*2))}}var f=ew.Iz("levl");for(var w=0;w<4;w++)ef.Mm(f,w,n[w]);return f};
ef.iD=function(x,w){var F=["Cmps","Rd","Grn","Bl"],W={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:F[w]}}]};
return{classID:x,Chnl:W}};ef.zl=function(x,F){var W={Cmps:0,Rd:1,Grn:2,Bl:3};for(var w=0;w<x.length;
w++){var n=x[w].v,L=W[n.Chnl.v[0].v.enum];if(L==F)return w}return-1};ef.Mm=function(x,F,W){var n=ef.iD("LvlA",F);
n.Inpt={t:"VlLs",v:[{t:"long",v:W[0]},{t:"long",v:W[1]}]};n.Otpt={t:"VlLs",v:[{t:"long",v:W[2]},{t:"long",v:W[3]}]};
n.Gmm={t:"doub",v:W[4]/100};n={t:"Objc",v:n};var L=x.Adjs.v,$=ef.zl(L,F);if($==-1)L.push(n);else L[$]=n};
ef.EJ=function(x,F){var W=[0,255,0,255,100],n=x.Adjs.v,L=ef.zl(n,F);if(L==-1)return W;var $=n[L].v;if($.Inpt){W[0]=$.Inpt.v[0].v;
W[1]=$.Inpt.v[1].v}if($.Otpt){W[2]=$.Otpt.v[0].v;W[3]=$.Otpt.v[1].v}if($.Gmm){W[4]=Math.round($.Gmm.v*100)}return W};
ef.Kt=function(x,F){var W=[],n=0;for(var w=0;w<4;w++)W.push(ef.EJ(F,w));while(W.length<29)W.push([0,255,0,255,100]);
x.Gq(0,2+10*29);_.zJ(x.data,n,2);n+=2;for(var w=0;w<29;w++){var L=W[w];for(var $=0;$<5;$++)_.zJ(x.data,n+w*10+$*2,L[$])}n+=29*10;
if(W.length==29)return n;x.Gq(n,8+10*(W.length-29));_.Fl(x.data,n,"Lvls");n+=4;_.zJ(x.data,n,3);n+=2;
_.zJ(x.data,n,W.length);n+=2;var l=W.length-29;for(var w=0;w<l;w++){var L=W[29+w];for(var $=0;$<5;$++)_.zJ(x.data,n+w*10+$*2,L[$])}n+=10*l;
return n};function dC(){}dC.cF=function(x,F){var W=new Uint8Array(x),n=2,L=F.split("/").pop().split(".")[0],$={tM:[],rg:[]},l=_.xR(W,n,4);
n+=4;var k=_.Vk(W,n);n+=2;var V=_.q(W,n);n+=4;$.tM=f1.CX(W,n,V);n+=V;var i=_.q(W,n);n+=4;for(var w=0;
w<i;w++){var f=_.q(W,n);n+=4;var X=n,s={TY:{},RB:{}};$.rg.push(s);n+=4;n+=ea.rv(W,s.TY,n);s.TY.Nm.v=L+"/"+s.TY.Nm.v.split("=").pop();
n+=4;n+=ea.rv(W,s.RB,n);n=X+f;var R=s.RB.blendOptions,h=s.RB.Lefx;if(R&&Object.keys(R.v).length>1){}if(h){if(h.v.masterFXSwitch==null)h.v.masterFXSwitch={t:"bool",v:!0};
dv.KL(h.v)}}return $};dC.o6=function(x,F){x.TY.Nm.v=F};dC.Kt=function(x){var F=new aL,W=0;_.el(F,W,2);
W+=2;_.bP(F,W,"8BSL");W+=4;_.el(F,W,3);W+=2;var n=W;W+=4;W=f1.Hq(F,W,x.tM);_.IJ(F,n,W-n-4);var L=x.rg.length;
_.IJ(F,W,L);W+=4;for(var w=0;w<L;w++){W+=4;var $=W,l=x.rg[w];_.IJ(F,W,16);W+=4;var k=l.TY.Nm.v;l.TY.Nm.v=l.TY.Nm.v.split("/").pop();
W+=ea.GZ(F,l.TY,W);l.TY.Nm.v=k;var V=l.RB.Lefx;if(V){l.RB.Lefx=JSON.parse(JSON.stringify(V));dv.H7(l.RB.Lefx.v)}_.IJ(F,W,16);
W+=4;W+=ea.GZ(F,l.RB,W);if(V)l.RB.Lefx=V;_.IJ(F,$-4,W-$)}return F.data.slice(0,W).buffer};function cG(){}cG.hP=function(x,F,W){var n=_.Vk(x,F);
F+=2;var L={};L.uj=_.Vk(x,F)==1;F+=2;L.ML=[];for(var w=0;w<10;w++){var $=[];L.ML.push($);for(var l=0;
l<4;l++)$.push(_.mf(x,F+l*2));F+=8}var k=ew.Iz("selc");k.Mthd.v.CrcM=L.uj?"Absl":"Rltv";for(var w=1;
w<10;w++)cG.Mm(k,w-1,L.ML[w]);return k};cG.Mf="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
cG.iD=function(x,w){var F=["Cmps","Rd","Grn","Bl"],W={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:F[w]}}]};
return{classID:x,Chnl:W}};cG.zl=function(x,F){var W=cG.Mf;for(var w=0;w<x.length;w++){var n=x[w].v,L=W.indexOf(n.Clrs.v.Clrs);
if(L==F)return w}return-1};cG.Mm=function(x,F,W){var n=["Cyn","Mgnt","Ylw","Blck"],L={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:cG.Mf[F]}}};
for(var $=0;$<4;$++)L[n[$]]={t:"UntF",v:{type:"#Prc",val:W[$]}};L={t:"Objc",v:L};var l=x.ClrC.v,k=cG.zl(l,F);
if(k==-1)l.push(L);else l[k]=L};cG.EJ=function(x,F){var W=[0,0,0,0],n=x.ClrC.v,L=cG.zl(n,F);if(L==-1)return W;
var $=["Cyn","Mgnt","Ylw","Blck"];for(var w=0;w<4;w++)if(n[L].v[$[w]])W[w]=n[L].v[$[w]].v.val;return W};
cG.kL=function(x,F,W){var n={uj:W.Mthd.v.CrcM=="Absl",ML:[[0,0,0,0]]};for(var w=0;w<9;w++)n.ML.push(cG.EJ(W,w));
x.Gq(F,84);_.zJ(x.data,F,1);F+=2;_.zJ(x.data,F,n.uj?1:0);F+=2;for(var w=0;w<10;w++){var L=n.ML[w];for(var $=0;
$<4;$++)_.W7(x.data,F+$*2,L[$]);F+=8}return 84};function fZ(){}fZ.Iz=function(){return{A$:new eu(0,0,50,50),TY:"",DX:"play",$:r.j.sk.fA([.1,.1,.9,.5,.1,.9],0)}};
fZ.cF=function(x,F){x=new Uint8Array(x);var W=0,n=[],L=F.split("/").pop().split(".")[0],$=Date.now(),l=_.xR(x,0,4);
W+=4;var k=_.q(x,W);W+=4;var V=_.q(x,W);W+=4;for(var w=0;w<V;w++){var i=_.Rv(x,W);W+=i.length*2+4+2;
if((i.length&1)==0)W+=2;W=fZ.a93(x,W,i,n);n[w].DX=L+"/"+n[w].DX}return n};fZ.a93=function(x,F,W,n){var L=_.q(x,F);
F+=4;var $=_.q(x,F);F+=4;var l=F,k=_.pM(x,l).kc;l+=k.length+1;var V=_.YL(x,l);l+=16;var i=fZ.Sl(x,l,$-(l-F)),f=r.j.ja(i),X=r.Z.KR(f),s=1/X.m,R=1/X.e;
r.j.js(i,new iJ(s,0,0,R,-X.x*s,-X.y*R));n.push({DX:W,TY:k,$:i,A$:V});F+=$;return F};fZ.o6=function(x,F){x.DX=F};
fZ.Kt=function(x){var F=new aL,W=0;_.bP(F,W,"cush");W+=4;_.IJ(F,W,2);W+=4;_.IJ(F,W,x.length);W+=4;for(var w=0;
w<x.length;w++){var n=x[w],L=n.DX.split("/").pop()+"\0";_.nD(F,W,L);W+=4+L.length*2;if((L.length&1)==1)W+=2;
_.IJ(F,W,1);W+=4;W+=4;var $=W;_.Io(F,W,n.TY);W+=n.TY.length+1;_.wO(F,W,n.A$);W+=16;F.Gq(W,n.$.length*26);
fZ.KH(F.data,W,n.$,1,1);W+=n.$.length*26;var l=W-$;if((l&3)!=0)l+=4-(l&3);_.IJ(F,$-4,l);W=$+l}return F.data.slice(0,W).buffer};
fZ.auo=function(x){var F=[];for(var w=0;w<x.length;w++){var W=x[w],n=W.type,L={type:n};F.push(L);if(n==6){}else if(n==8)L.all=W.all;
else if(n==0||n==3){L.length=W.length;L.frule=W.eb;L.third=W.FN;L.prmA=W.qO;L.prmB=W.BF}else{L.c=[W.Xs.x,W.Xs.y,W.L.x,W.L.y,W.vf.x,W.vf.y]}}return F};
fZ.arx=function(x){var F=[];for(var w=0;w<x.length;w++){var W=x[w],n=W.type,L={type:n};F.push(L);if(n==6){}else if(n==8)L.all=W.all;
else if(n==0||n==3){L.length=W.length;L.eb=W.frule;L.FN=W.third;L.qO=W.prmA;L.BF=W.prmB}else{var $=W.c;
L.Xs=new eX($[0],$[1]);L.L=new eX($[2],$[3]);L.vf=new eX($[4],$[5])}}return F};fZ.Sl=function(x,F,W,n,L){if(n==null)n=1;
if(L==null)L=1;function $(B,e,U){var o=_.asz(B,e)*U,b=Math.round(o);return Math.abs(o-b)<1e-6?b:o}var l=_.mf,k=[],V=Math.floor(W/26);
for(var w=0;w<V;w++){var i=F+w*26,f={},X=0;k.push(f);f.type=l(x,i);i+=2;if(f.type==6){X=24}if(f.type==8){f.all=l(x,i);
i+=2;X=22}if(f.type==0||f.type==3){f.length=l(x,i);i+=2;f.eb=l(x,i);i+=2;f.FN=l(x,i);i+=2;f.qO=_.q(x,i);
i+=4;f.BF=_.q(x,i);i+=4;X=10}if(f.type==1||f.type==2||f.type==4||f.type==5){var s,R;R=$(x,i,L);i+=4;
s=$(x,i,n);i+=4;f.Xs=new eX(s,R);R=$(x,i,L);i+=4;s=$(x,i,n);i+=4;f.L=new eX(s,R);R=$(x,i,L);i+=4;s=$(x,i,n);
i+=4;f.vf=new eX(s,R);X=0}for(var h=0;h<X;h++)if(x[i+h]!=0){console.log("Unexpected non-zero byte!",f,h,x[i+h])}}return k};
fZ.KH=function(x,F,W,n,L){var $=_.W7,l=_.aiH,k=W.length;for(var w=0;w<k;w++){var V=F+w*26,i=W[w];$(x,V,i.type);
V+=2;if(i.type==6){}if(i.type==8)$(x,V,i.all);if(i.type==0||i.type==3){$(x,V,i.length);V+=2;$(x,V,i.eb);
V+=2;$(x,V,i.FN);V+=2}if(i.type==1||i.type==2||i.type==4||i.type==5){l(x,V,i.Xs.y/L);V+=4;l(x,V,i.Xs.x/n);
V+=4;l(x,V,i.L.y/L);V+=4;l(x,V,i.L.x/n);V+=4;l(x,V,i.vf.y/L);V+=4;l(x,V,i.vf.x/n);V+=4}}};function i9(){}i9.cF=function(x){var F=new Uint8Array(x),W=[],n=0;
if(_.xR(F,0,4)=="ASEF")W=i9.ab1(F);else{n=i9.akQ(F,n,W);if(n+3<F.length){W=[];n=i9.akQ(F,n,W)}}return W};
i9.ab1=function(x){var F=[],W=8,n=_.q(x,W),L,$=null,l,k,V,i;W+=4;for(var f=0;f<n;f++){var X=_.Vk(x,W);
W+=2;var s=_.q(x,W);W+=4;var R=W+s;if(X==49153||X==1){var h=_.Vk(x,W);W+=2;var B=_.Iu(x,W,h-1);W+=h*2;
if(X==1)L=B;else $=B}if(X==1){var e=_.xR(x,W,4);W+=4;l=_.Pb(x,W);W+=4;k=_.Pb(x,W);W+=4;V=_.Pb(x,W);W+=4;
if(e=="RGB "){}else if(e=="CMYK"){i=_.Pb(x,W);W+=4;var U=UDOC.C.cmykToRgb([l,k,V,i]);l=U[0];k=U[1];V=U[2]}else alert("Unknown color space: "+e);
F.push({o:l*255,r:k*255,z:V*255,v6:($?$+" : ":"")+L})}W=R}return F};i9.akQ=function(x,F,W){var n=_.Vk,L=_.mf,$=n(x,F);
F+=2;var l=n(x,F);F+=2;for(var w=0;w<l;w++){var k=i9.po(x,F);F+=10;if($==2){k.v6=_.Rv(x,F);F+=4+k.v6.length*2+2}W.push(k)}return F};
i9.po=function(x,F){var W=_.Vk,n=_.mf,L=W(x,F),R=null;F+=2;var $=W(x,F);F+=2;var l=W(x,F);F+=2;var k=W(x,F);
F+=2;var V=W(x,F);F+=2;var i=1/65535,f=255/65535,X=100/65535,s=255/1e4;if(L==0)R={o:$*f,r:l*f,z:k*f};
else if(L==1){R=r.zi($*i,l*i,k*i);R.o*=255;R.r*=255;R.z*=255}else if(L==2)R=r.I.z$({classID:"CMYC",Cyn:{t:"doub",v:100-$*X},Mgnt:{t:"doub",v:100-l*X},Ylw:{t:"doub",v:100-k*X},Blck:{t:"doub",v:100-V*X}});
else if(L==7){var h=r.Qo($/100,n(x,F-6)/100,n(x,F-4)/100);R=h}else if(L==8){R={o:255-$*s,r:255-l*s,z:255-k*s}}else if(L==18){var B=255*$/16384;
R={o:B,r:B,z:B}}else{throw L}return R};i9.Kt=function(x){var F=new aL,W=0,n=_.el;n(F,W,2);W+=2;n(F,W,x.length);
W+=2;for(var w=0;w<x.length;w++){var L=x[w];F.Gq(W,10);i9.Go(F.data,W,L);W+=10;var $=(L.v6?L.v6:"")+"\0";
_.nD(F,W,$);W+=4+$.length*2}return F.data.slice(0,W).buffer};i9.o6=function(x,F){x.v6=F};i9.Go=function(x,F,W){var n=65535/255,L=_.zJ;
L(x,F,0);L(x,F+2,Math.round(W.o*n));L(x,F+4,Math.round(W.r*n));L(x,F+6,Math.round(W.z*n));L(x,F+8,0)};
function jB(){}jB.cF=function(x){var F=new Uint8Array(x),W=4,n={};n.Sa=_.Rv(F,W);W+=4+n.Sa.length*2+2;
n.exp=F[W++]==1;n.$f=[];var L=_.q(F,W);W+=4;for(var w=0;w<L;w++){var $={};n.$f.push($);$.Fp=_.Vk(F,W);
W+=2;$.shift=F[W++]==1;$.aAw=F[W++]==1;$.color=_.Vk(F,W);W+=2;$.Sa=_.Rv(F,W);W+=4+$.Sa.length*2+2;$.exp=F[W++]==1;
$.$f=[];var l=_.q(F,W);W+=4;for(var k=0;k<l;k++){var V={};$.$f.push(V);V.exp=F[W++]==1;V.w=F[W++]==1;
V.aCN=F[W++]==1;V.awe=F[W++];var i=_.xR(F,W,4);W+=4;if(i=="TEXT"){V.Y3=jB.atz(F,W);W+=4+V.Y3.length}else if(i=="long"){V.Y3=_.xR(F,W,4);
W+=4}else throw"e";V.ZU=jB.atz(F,W);W+=4+V.ZU.length;var f=_.o3(F,W);W+=4;if(f==-1){V.Xe={};var X=ea.rv(F,V.Xe,W);
W+=X}}}console.log(n);var s=new Uint8Array(jB.Kt(n));for(var w=0;w<s.length;w++)if(s[w]!=F[w]&&_.xR(F,w+1,4)!="None"){console.log(F.length,s.length);
var R=4*(w>>>2)-16;console.log(_.O_(F,R,64));console.log(_.O_(s,R,64));console.log(F.slice(R,R+64));
console.log(s.slice(R,R+64));throw"i"}return[n]};jB.atz=function(x,F){var W=_.q(x,F);return _.xR(x,F+4,W)};
jB.a1l=function(x,F,W){_.IJ(x,F,W.length);_.bP(x,F+4,W)};jB.Kt=function(x){var F=new aL,W=0;_.IJ(F,W,16);
W+=4;_.nD(F,W,x.Sa+"\0");W+=4+x.Sa.length*2+2;F.Gq(W,1);F.data[W++]=x.exp?1:0;var n=x.$f.length;_.IJ(F,W,n);
W+=4;for(var w=0;w<n;w++){var L=x.$f[w];_.el(F,W,L.Fp);W+=2;F.Gq(W,2);F.data[W++]=L.shift?1:0;F.data[W++]=L.aAw?1:0;
_.el(F,W,L.color);W+=2;_.nD(F,W,L.Sa+"\0");W+=4+L.Sa.length*2+2;F.Gq(W,1);F.data[W++]=L.exp?1:0;var $=L.$f.length;
_.IJ(F,W,$);W+=4;for(var l=0;l<$;l++){var k=L.$f[l];F.Gq(W,4);F.data[W++]=k.exp?1:0;F.data[W++]=k.w?1:0;
F.data[W++]=k.aCN?1:0;F.data[W++]=k.awe;var V="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(k.Y3)!=-1;
_.bP(F,W,V?"long":"TEXT");W+=4;if(!V){jB.a1l(F,W,k.Y3);W+=4+k.Y3.length}else{_.bP(F,W,k.Y3);W+=4}jB.a1l(F,W,k.ZU);
W+=4+k.ZU.length;_.N6(F,W,k.Xe?-1:0);W+=4;if(k.Xe){var i=ea.GZ(F,k.Xe,W);W+=i}}}return F.data.slice(0,W).buffer};
function kv(){}kv.cF=function(x){var F=new Uint8Array(x),W=0,n=_.q(F,W),V;W+=4;var L=_.xR(F,W,8);W+=8;
var $=_.$J(F,W);W+=4;var l=_.$J(F,W);W+=4;var k=_.$J(F,W);W+=4;console.log($,l,k);if(n==2){V=new Float32Array(x,32,x.byteLength-32>>>2)}else if(n==3||n==4){V=new Float32Array(l*k*2);
var i=0,f=0,X=!0;W=n==3?32:16+8+40;while(W<F.length){var s=_.$J(F,W);W+=4;if(X)f+=s;else{for(var w=0;
w<s;w++){V[i+f+w<<1]=_.gs(F,W);V[(i+f+w<<1)+1]=_.gs(F,W+4);W+=8}f+=s}X=!X;if(s!=0&&f==l){i+=l;f=0;X=!0;
if(i==l*k)break}}}else throw"unknown Mesh version: "+n;return{Xv:l,eD:k,map:V}};kv.pm=function(x){var F=x.Xv,W=x.eD,n=x.map,L=new Uint8Array(32+W*F*8+W*8),$=0,l=0;
_.kv(L,$,3);$+=4;_.Fl(L,$,"yfqLhseM");$+=8;_.qG(L,$,2);$+=4;_.qG(L,$,F);$+=4;_.qG(L,$,W);$+=4;_.qG(L,$,0);
$+=4;_.qG(L,$,1);$+=4;for(var k=0;k<W;k++){_.qG(L,$,0);$+=4;_.qG(L,$,F);$+=4;for(var V=0;V<F;V++){_.st(L,$,n[l]);
_.st(L,$+4,n[l+1]);l+=2;$+=8}}return L.buffer};function i_(){}i_.cF=function(x){var F=new Uint8Array(x),W=0,n=_.xR(F,W,4);
W+=4;var L=_.Vk(F,W);W+=2;var $=_.q(F,W);W+=4;var l=[];for(var w=0;w<$;w++){var k=_.q(F,W);W+=4;var V={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
l.push(V);var i=_.Rv(F,W);V.Nm.v=i;W+=4+i.length*2+2;var f=_.Vk(F,W);W+=2;var X=_.Vk(F,W);W+=2;for(var s=0;
s<X;s++){var R=r.z3.Xd(0,0,!0);R.v.Vrtc.v=_.Vk(F,W);W+=2;R.v.Hrzn.v=_.Vk(F,W);W+=2;V.Crv.v.push(R)}if(k==1){}else if(k==2){for(var s=0;
s<X;s++){V.Crv.v[s].v.Cnty.v=F[W]==1;W+=1}}else throw"error";var h=_.q(F,W);W+=4;var B=_.q(F,W);W+=4}return l};
i_.o6=function(x,F){x.Nm.v=F};i_.Kt=function(x){var F=new aL,W=0;_.bP(F,W,"8BFS");W+=4;_.el(F,W,1);W+=2;
_.IJ(F,W,x.length);W+=4;for(var w=0;w<x.length;w++){_.IJ(F,W,2);W+=4;var n=x[w];_.nD(F,W,n.Nm.v+"\0");
W+=4+n.Nm.v.length*2+2;_.el(F,W,2);W+=2;var L=n.Crv.v.length;_.el(F,W,L);W+=2;for(var $=0;$<L;$++){var l=n.Crv.v[$];
_.el(F,W,l.v.Vrtc.v);W+=2;_.el(F,W,l.v.Hrzn.v);W+=2}F.Gq(W,L);for(var $=0;$<L;$++){F.data[W]=n.Crv.v[$].v.Cnty.v;
W++}_.IJ(F,W,0);W+=4;_.IJ(F,W,0);W+=4}return F.data.slice(0,W).buffer};function f1(){}f1.cF=function(x,F){var W=new Uint8Array(x),n=4,L=F.split("/").pop().split(".")[0],$=_.Vk(W,n);
n+=2;var l=_.q(W,n);n+=4;var k=[];for(var w=0;w<l;w++){var V={};k.push(V);n=f1.a9Z(W,n,V);V.name=L+"/"+V.name.split("=").pop()}return k};
f1.o6=function(x,F){x.name=F};f1.Kt=function(x){var F=new aL,W=0;_.bP(F,W,"8BPT");W+=4;_.el(F,W,1);W+=2;
_.IJ(F,W,x.length);W+=4;for(var w=0;w<x.length;w++){var n=x[w],L=n.name;n.name=n.name.split("/").pop();
W=f1.aAL(F,W,n);n.name=L}return F.data.slice(0,W).buffer};f1.CX=function(x,F,W){var n=F+W,L=[];while(F<n){var $={},l=_.q(x,F);
F+=4;var k=F;F=f1.a9Z(x,F,$);if(!$.aB[1].ak())L.push($);if(l%4!=0)l+=4-l%4;F=k+l}return L};f1.Hq=function(x,F,W){for(var w=0;
w<W.length;w++){var n=W[w];F+=4;var L=F;F=f1.aAL(x,F,n);var $=F-L;_.IJ(x,L-4,$);if($%4!=0)L+=4-$%4;F=L+$}return F};
f1.a9Z=function(x,F,W){var n=_.q(x,F);F+=4;if(n!=1)alert("Unknown version of pattern");var L=_.q(x,F);
F+=4;if(L!=1&&L!=2&&L!=3)console.log("Unsupported mode of pattern: "+L);var $=_.Vk(x,F);F+=2;var l=_.Vk(x,F);
F+=2;var k=new eu(0,0,l,$);W.name=_.Rv(x,F);F+=4+2*W.name.length+2;var V=x[F];F++;W.id=_.xR(x,F,V);F+=W.id.length;
var i=-1;if(L==2){i=F;F+=3*256+4}var f=new r.Co(l*$);F=f1.ab9(x,F,f);if(L==2){for(var w=0;w<f.o.length;
w++){var X=3*f.o[w];f.o[w]=x[i+X+0];f.r[w]=x[i+X+1];f.z[w]=x[i+X+2]}}var s=r.R(k.P()*4);r.qe(f,s);W.aB=[s,k];
return F};f1.aAL=function(x,F,W){var n=W.aB[0],L=W.aB[1];_.IJ(x,F,1);F+=4;_.IJ(x,F,3);F+=4;_.el(x,F,L.e);
F+=2;_.el(x,F,L.m);F+=2;_.nD(x,F,W.name+"\0");F+=4+2*W.name.length+2;_.Hl(x,F,W.id.length);F++;_.bP(x,F,W.id);
F+=W.id.length;var $=new r.Co(L.P());r.G6(n,$);F=f1.a6r(x,F,$,L);return F};f1.ab9=function(x,F,W){var n=F,L={fS:null,O:[],aaP:null,GT:null},$=_.q(x,F);
F+=4;var l=_.q(x,F);F+=4;L.fS=_.YL(x,F);F+=16;var k=_.q(x,F);F+=4;for(var w=0;w<k+2;w++){var V=_.q(x,F);
F+=4;if(V==0)continue;var i=_.q(x,F);F+=4;if(i==0)continue;var f=_.q(x,F);F+=4;var X=_.YL(x,F);F+=16;
var s=_.Vk(x,F);F+=2;var R=x[F];F++;var h=dU.ia(!1,f,x,X.m,X.e,F,R);if(w<k)L.O.push(h);if(w==k)L.aaP=h;
if(w==k+1)L.GT=h;F+=i-23}if(!L.fS.ak()){if(L.O[0])W.o=L.O[0];if(L.O[1])W.r=L.O[1];else W.r=L.O[0].slice(0);
if(L.O[2])W.z=L.O[2];else W.z=L.O[0].slice(0);if(L.GT)W.V=L.GT;else W.V.fill(255)}return F};f1.a6r=function(x,F,W,n){var L=F,$={fS:n,O:[W.o,W.r,W.z],aaP:null,GT:W.V};
_.IJ(x,F,3);F+=4;_.IJ(x,F,0);F+=4;_.wO(x,F,n);F+=16;_.IJ(x,F,24);F+=4;for(var w=0;w<24+2;w++){var l=F,k=w<3||w==25?1:0;
_.IJ(x,F,k);F+=4;if(k==0)continue;_.IJ(x,F,0);F+=4;_.IJ(x,F,8);F+=4;_.wO(x,F,n);F+=16;_.el(x,F,8);F+=2;
_.Hl(x,F,1,1);F++;var V=w<3?$.O[w]:$.GT;x.Gq(F,n.P()+2);F=dU.KA(!1,V,x.data,n.m,n.e,F,1);_.IJ(x,l+4,F-l-8)}_.IJ(x,L+4,F-L-8);
return F};function hJ(){}hJ.cF=function(x,F){var W=new Uint8Array(x),L=0;if(W[0]==71)return hJ.ake(W);
var n=F.split("/").pop().split(".")[0],$=_.xR(W,L,4);L+=4;var l=_.Vk(W,L);L+=2;var k=[];if(l<=3){var V=_.Vk(W,L);
L+=2;for(var w=0;w<V;w++){var i=W[L++],f=_.xR(W,L,i);L+=i;var X=hJ.adB(W,L,f),s=X[0];L=X[1];k.push(s)}}else{var X={},R=ea.rv(W,X,L+4),h=X.GrdL.v;
for(var w=0;w<h.length;w++)k[w]=h[w].v.Grad.v}for(var w=0;w<k.length;w++){var B=k[w].Nm.v.split("/").pop().split("=").pop();
k[w].Nm.v=n+"/"+B}return k};hJ.o6=function(x,F){x.Nm.v=F};hJ.Kt=function(x){var F=new aL,W=0;_.bP(F,W,"8BGR");
W+=4;_.el(F,W,5);W+=2;_.IJ(F,W,16);W+=4;var n={classID:"null",GrdL:{t:"VlLs",v:[]}},L=n.GrdL.v;for(var w=0;
w<x.length;w++){var $=JSON.parse(JSON.stringify(x[w]));$.Nm.v=$.Nm.v.split("/").pop();L[w]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:$}}}}W+=ea.GZ(F,n,W);
return F.data.slice(0,W).buffer};hJ.adB=function(x,F,W){var n={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:W},Trns:{t:"VlLs",v:[]}},L=_.Vk(x,F);
F+=2;if(L==0)throw"e";for(var w=0;w<L;w++){var $=_.q(x,F),l=_.q(x,F+4),k=i9.po(x,F+8),V={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:k.o},Grn:{t:"doub",v:k.r},Bl:{t:"doub",v:k.z}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:$},Mdpn:{t:"long",v:l}}};
n.Clrs.v.push(V);F+=20}var i=_.Vk(x,F);F+=2;for(var w=0;w<i;w++){var $=_.q(x,F),l=_.q(x,F+4),f=_.Vk(x,F+8),V={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*f/255)}},Lctn:{t:"long",v:$},Mdpn:{t:"long",v:l}}};
n.Trns.v.push(V);F+=10}var X=_.Vk(x,F);F+=2;n.Intr.v=X==2?_.Vk(x,F):4096;F+=2;var s=_.Vk(x,F);F+=2;return[n,F]};
hJ.akE=function(x,F,W){var n=W.Clrs.v.length;_.el(x,F,n);F+=2;for(var w=0;w<n;w++){var L=W.Clrs.v[w];
_.IJ(x,F,L.v.Lctn.v);_.IJ(x,F+4,L.v.Mdpn.v);_.el(x,F+8,0);var $=r.I.GB(r.I.z$(L.v.Clr.v)),l=[$.Rd.v,$.Grn.v,$.Bl.v,0];
for(var k=0;k<4;k++)_.el(x,F+10+k*2,Math.round(65535*(l[k]/255)));F+=20}var V=W.Trns.v.length;_.el(x,F,V);
F+=2;for(var w=0;w<V;w++){var L=W.Trns.v[w];_.IJ(x,F,L.v.Lctn.v);_.IJ(x,F+4,L.v.Mdpn.v);_.el(x,F+8,Math.round(255*L.v.Opct.v.val/100));
F+=10}_.el(x,F,2);F+=2;_.el(x,F,W.Intr.v);F+=2;_.el(x,F,32);F+=2;return F};hJ.ake=function(x){var F=_.NM(x,0,x.length).split("\n"),W=parseFloat(F[2]),n=[],L=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]).Grad.v;
L.Intr.v=0;L.Nm.v=F[1];for(var w=0;w<W;w++){var $=F[3+w].split(" ").map(parseFloat),l=$[11],k=$[12];
n.push([$[0],$.slice(3,6),$[6]]);if(k!=0){var V=r.uO($[3],$[4],$[5]),i=r.uO($[7],$[8],$[9]),f=V.eD,X=i.eD;
if(k==1&&f>X)X++;if(k==2&&f<X)f++;var s=Math.round(Math.abs(X-f)*7);if(s>1)for(var R=0;R<s;R++){var h=1-(R+1)/(s+1),B=1-h,e=r.zi(h*f+B*X,h*V.TR+B*i.TR,h*V._M+B*i._M);
n.push([h*$[0]+B*$[2],[e.o,e.r,e.z],h*$[6]+B*$[10]])}}n.push([$[2],$.slice(7,10),$[10]])}n.sort(function(U,o){return U[0]-o[0]});
r.I.yT(n,L);return[L]};function du(){}du.cF=function(x){var F=new Uint8Array(x),W=[],n=[],L=[],$=[],l=[],k=0,V=_.xR(F,k,4);
k+=4;var i=_.q(F,k);k+=4;var f=_.q(F,k);k+=4;while(k<F.length){var X=_.xR(F,k,4);k+=4;var s=_.xR(F,k,4);
k+=4;var R=_.q(F,k);k+=4;if(s=="tppa"){n=f1.CX(F,k,R);k+=R}else if(s=="tpbd"){L=h6.ak1(F,k,R,1,1);k+=R}else if(s=="tptp"){var h=_.q(F,k);
k+=4;for(var w=0;w<h;w++){var B=_.Rv(F,k);k+=6+B.length*2;k+=4;var e={};k+=ea.rv(F,e,k);W.push([B,e])}while((k&3)!=0)k++}else if(s=="tpsh"){var U=k,o=F.slice(k,k+R);
while(k<U+R){var b=_.q(F,k);k+=4;k=fZ.a93(F,k,"Shape",$)}k=U+R}else if(s=="tpst"){var U=k;k+=4;while(k<U+R){var u=_.q(F,k);
k+=4;var Z=k,I=_.q(F,k);k+=4;var e={TY:{},RB:{}};l.push(e);k+=4;k+=ea.rv(F,e.TY,k);k+=4;k+=ea.rv(F,e.RB,k);
k=Z+u;var y=e.RB.Lefx;if(y){if(y.v.masterFXSwitch==null)y.v.masterFXSwitch={t:"bool",v:!0};dv.KL(y.v)}}k=U+R}else{console.log(F.slice(k-8,k+64));
console.log(_.xR(F,k-8,64));throw s}}return{kF:L,r5:n,list:W,ai3:$,rg:l}};du.o6=function(x,F){x[0]=F};
du.Kt=function(x){var F=new aL,W=0;_.bP(F,W,"8BTP");W+=4;_.IJ(F,W,3);W+=4;_.IJ(F,W,1);W+=4;var n=[x.r5,x.kF,x.list];
for(var w=0;w<3;w++){if(n[w].length==0)continue;_.bP(F,W,"8BIM");W+=4;var L=["tppa","tpbd","tptp"][w];
_.bP(F,W,L);W+=4;var $=W;W+=4;if(L=="tppa"){W=f1.Hq(F,W,x.r5)}else if(L=="tpbd"){W=h6.afq(F,W,x.kF)}else if(L=="tptp"){_.IJ(F,W,x.list.length);
W+=4;for(var l=0;l<x.list.length;l++){var k=x.list[l];_.nD(F,W,k[0]+"\0");W+=6+k[0].length*2;_.IJ(F,W,16);
W+=4;W+=ea.GZ(F,k[1],W)}}_.IJ(F,$,W-$-4);while((W&3)!=0)W++;F.Gq(W,0)}return F.data.slice(0,W).buffer};
function b2(){}b2.cF=function(x,F){var W=new Uint8Array(x),n;if(_.q(W,0)==W.length)n="icc";else if(W[0]=="<".charCodeAt(0))n="look";
else if(_.RS(W,"LUT_3D_SIZE")!=-1)n="cube";else n="3DL";if(n!="icc"){var L=b2.arU(W,n),$=b2.ahN(L[0],L[1]);
W=$}var l=[];for(var w=0;w<W.length;w++)l.push(W[w]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:F?F:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:l}}]};
b2.Kt=function(x){var F=x[0],W=new Uint8Array(F.profile.v);return W.buffer};b2.o6=function(x,F){x.Nm.v=F};
b2.ahN=function(x,F){var W=new aL,n=128;W.Gq(0,128);var L=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var w=0;w<L.length;w++)W.data[w]=L[w];var $=["desc","A2B0"],l=$.length,k=128+4+l*12;_.IJ(W,n,l);
n+=4;for(var V=0;V<l;V++){var i=$[V];_.bP(W,n,i);n+=4;_.IJ(W,n,k);n+=4;var f=k;if(i=="desc"){_.bP(W,f,"mluc");
f+=4;f+=4;_.IJ(W,f,1);f+=4;_.IJ(W,f,12);f+=4;_.bP(W,f,"enUS");f+=4;var X="ICC by Photopea\0",s=X.length*2+2;
_.IJ(W,f,s);f+=4;_.IJ(W,f,28);f+=4;W.Gq(f,s);for(var w=0;w<X.length;w++)W.data[f+w*2+1]=X.charCodeAt(w);
f+=s}if(i=="A2B0"){_.bP(W,f,"mAB ");f+=4;f+=4;W.Gq(f,4);W.data[f]=3;W.data[f+1]=3;f+=4;W.Gq(f,4*5);f+=4*3;
_.IJ(W,f,f+8-k);f+=4;f+=4;W.Gq(f,20);W.data[f]=x;W.data[f+1]=x;W.data[f+2]=x;f+=16;W.data[f]=2;f+=4;
var R=x*x*x*3;W.Gq(f,R*2);for(var w=0;w<R;w++)_.zJ(W.data,f+w*2,Math.max(0,Math.min(65535,Math.round(F[w]*65535))));
f+=R*2}var h=f-k;while((h&3)!=0)h++;_.IJ(W,n,h);n+=4;k+=h}_.IJ(W,0,k);return W.data.slice(0,k)};b2.arU=function(x,F){F="LUTFormat"+F.toUpperCase();
var W=[],n=0,L=_.NM(x,0,x.length),$="";for(var w=0;w<x.length&&$=="";w++){if(x[w]==10)$="\n";else if(x[w]==13){$="\r";
if(x[w+1]==10)$+="\n"}}if(F=="LUTFormatCUBE"){var l=L.split($);for(var w=0;w<l.length;w++){if(l[w]==""||l[w][0]=="#")continue;
var k=l[w].split(" "),V=k[0];if(V=="LUT_3D_SIZE"){n=parseInt(k[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(V)!=-1)continue;
W.push(parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2]))}W=b2.agT(n,W)}else if(F=="LUTFormat3DL"){var l=L.split($),i=1/4095;
for(var w=0;w<l.length;w++){var f=l[w];if(f==""||f=="3DMESH"||f.startsWith("Mesh")||f[0]=="#")continue;
var k=f.split(" "),V=k[0];if(n==0){n=k.length;continue}W.push(parseFloat(k[0])*i,parseFloat(k[1])*i,parseFloat(k[2])*i)}}else if(F=="LUTFormatLOOK"){var X=new DOMParser,s=X.parseFromString(L,"text/xml"),R=s.getElementsByTagName("LUT")[0],h=R.children[0].textContent;
n=parseInt(JSON.parse(h));var B=R.children[1].textContent;B=B.replace(/"/g,"").replace(/\s/g,"");var e=3*n*n*n,U=e*4,o=new Uint8Array(U);for(var w=0;w<U;w++){var b=B.charCodeAt(w*2),u=B.charCodeAt(w*2+1),Z=b<58?b-48:b-55,I=u<58?u-48:u-55;o[w]=(Z<<4)+I}for(var w=0;w<e;w++)W.push(_.gs(o,w<<2));W=b2.agT(n,W)}else throw F;return[n,W]};b2.afl=function(x,F,W){var n=["#Created by www.Photopea.com","TITLE \""+W+"\"","","#LUT size","LUT_3D_SIZE "+F,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],L=6;
for(var w=0;w<x.length;w+=3){n.push(x[w].toFixed(L)+" "+x[w+1].toFixed(L)+" "+x[w+2].toFixed(L))}n.push("");
return _.Ug(n.join("\n")).buffer};b2.agT=function(x,F){var W=[],n=x*x*x;for(var w=0;w<n;w++)W.push(0,0,0);
for(var L=0;L<x;L++)for(var $=0;$<x;$++)for(var l=0;l<x;l++){var w=3*(l+$*x+L*x*x),k=3*(L+$*x+l*x*x);
W[k]=F[w];W[k+1]=F[w+1];W[k+2]=F[w+2]}return W};function ea(){}ea.rv=function(x,F,W,n,L){var $=W,l;if(L==null)L=0;
var k=_.q(x,W);if(k==0){l="";W+=4}else{l=_.Rv(x,W);W+=4+2*l.length+2}if(l!="")F.__name=l;F.classID=ea.wC(x,W);
if(n)console.log("\t".repeat(L),"- reading descriptor",F.classID,W);W+=ea.sw(x,W);var V=_.o3(x,W);W+=4;
for(var w=0;w<V;w++){var i=ea.wC(x,W);W+=ea.sw(x,W);var f=ea.aDI(x,W,n,L);F[i]=f;W+=f.size;delete f.size}return W-$};
ea.GZ=function(x,F,W,n){var L=W,$=F.__name;if($==null)$="";$+="\0";_.nD(x,W,$);W+=4+2*$.length;ea.CO(x,W,F.classID);
W+=ea.sw(x.data,W);_.N6(x,W,Object.keys(F).length-1-(F.__name==null?0:1));W+=4;for(var l in F){if(l=="classID")continue;
if(l=="__name")continue;ea.CO(x,W,l);W+=ea.sw(x.data,W);W+=ea.ako(x,W,F[l])}return W-L};ea.aDI=function(x,F,W,n){var L=F,$=_.xR(x,F,4);
F+=4;var l={size:0,t:$,v:null};if(W)console.log("\t".repeat(n),"reading key",$,L);switch($){case"obj ":case"VlLs":l.v=[];
var k=_.q(x,F);F+=4;for(var w=0;w<k;w++){var V=ea.aDI(x,F,W,n+1);F+=V.size;delete V.size;l.v.push(V)}break;
case"UntF":l.v={type:_.xR(x,F,4),val:_.aJ(x,F+4)};F+=12;break;case"doub":l.v=_.aJ(x,F);F+=8;break;case"bool":l.v=x[F]==1;
F+=1;break;case"long":l.v=_.o3(x,F);F+=4;break;case"comp":l.v=_.o3(x,F+4);F+=8;break;case"Objc":l.v={};
var i=ea.rv(x,l.v,F,W,n+1);F+=i;break;case"TEXT":var f=_.q(x,F);if(f==0){l.v="";F+=4}else{l.v=_.Rv(x,F);
F+=4+l.v.length*2+2}break;case"enum":var X=ea.wC(x,F);F+=ea.sw(x,F);var s=ea.wC(x,F);F+=ea.sw(x,F);l.v={};
l.v[X]=s;break;case"tdta":var R=_.o3(x,F);F+=4;l.v=[];for(var w=0;w<R;w++)l.v.push(x[F+w]);F+=R;break;
case"ObAr":var h=_.q(x,F);F+=4;var B=_.Rv(x,F);F+=4+2*B.length+2;if(B!="")throw B;var e=ea.wC(x,F);F+=4+Math.max(4,e.length);
l.v={classID:e,arr:[]};var U=_.q(x,F);F+=4;for(var w=0;w<U;w++){var e=ea.wC(x,F);F+=4+Math.max(4,e.length);
var X=_.xR(x,F,4);F+=4;var o=_.xR(x,F,4);F+=4;var b={id:e,type:X,uID:o,arr:[]};l.v.arr.push(b);var u=_.q(x,F,4);
F+=4;for(var Z=0;Z<u;Z++){var I=_.aJ(x,F);F+=8;b.arr.push(I)}}break;case"Pth ":var y=F,R=_.q(x,F);F+=4;
var D=_.xR(x,F,4);F+=4;var N=_.$J(x,F);F+=4;var j=_.aAl(x,F);F+=4+j.length*2;l.v={sig:D,pth:j};break;
case"Clss":case"type":case"rele":var j=_.Rv(x,F);F+=4+j.length*2+2;var H=ea.wC(x,F);F+=4+Math.max(4,H.length);
l.v={classID:H};if(j!="")l.v.__name=j;if($=="rele"){l.v.val=_.o3(x,F);F+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var Q=ea.wX[$],j=_.Rv(x,F);
F+=4+j.length*2+2;if(j.length!=0){console.log($,j);throw"e"}l.v={};for(var w=0;w<Q.length;w++){var H=ea.wC(x,F);
F+=4+Math.max(4,H.length);l.v[Q[w]]=H}if($=="name"){var j=_.Rv(x,F);F+=4+j.length*2+2;l.v.val=j}if($=="indx"||$=="Idnt"){l.v.val=_.q(x,F);
F+=4}break;case"alis":var R=_.q(x,F);F+=4;l.v=_.xR(x,F,R);F+=R;break;default:{console.log("unknown oskey: "+$+", "+L);
throw"e";return l}}if(W){console.log("\t".repeat(n),l.v);console.log("\t".repeat(n),"======",F)}l.size=F-L;
return l};ea.wX={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
ea.ako=function(x,F,W){var n=F,L=W.t;W=W.v;_.bP(x,F,L);F+=4;switch(L){case"obj ":case"VlLs":_.N6(x,F,W.length);
F+=4;for(var $=0;$<W.length;$++){var l=ea.ako(x,F,W[$]);F+=l}break;case"UntF":_.bP(x,F,W.type);_.S3(x,F+4,W.val);
F+=12;break;case"doub":_.S3(x,F,W);F+=8;break;case"bool":_.Hl(x,F,W?1:0,1);F+=1;break;case"long":_.N6(x,F,W);
F+=4;break;case"comp":_.N6(x,F+4,W);F+=8;break;case"Objc":var l=ea.GZ(x,W,F);F+=l;break;case"TEXT":_.nD(x,F,W+"\0");
F+=4+W.length*2+2;break;case"enum":var k=Object.keys(W)[0],V=W[k];ea.CO(x,F,k);F+=ea.sw(x.data,F);ea.CO(x,F,V);
F+=ea.sw(x.data,F);break;case"tdta":_.IJ(x,F,W.length);F+=4;_.uc(x,F,W);F+=W.length;break;case"ObAr":_.IJ(x,F,W.arr[0].arr.length);
F+=4;_.nD(x,F,"\0");F+=6;ea.CO(x,F,W.classID);F+=4+Math.max(4,W.classID.length);_.IJ(x,F,W.arr.length);
F+=4;for(var w=0;w<W.arr.length;w++){var i=W.arr[w];ea.CO(x,F,i.id);F+=4+Math.max(4,i.id.length);_.bP(x,F,i.type);
F+=4;_.bP(x,F,i.uID);F+=4;_.IJ(x,F,i.arr.length);F+=4;for(var $=0;$<i.arr.length;$++){_.S3(x,F,i.arr[$]);
F+=8}}break;case"Pth ":var f=W.pth.length*2+4+8;_.IJ(x,F,f);F+=4;_.bP(x,F,W.sig);F+=4;_.UH(x,F,f);F+=4;
_.av5(x,F,W.pth);F+=W.pth.length*2+4;break;case"Clss":case"type":case"rele":var X=W.__name;if(X==null)X="";
_.nD(x,F,X+"\0");F+=4+X.length*2+2;var s=W.classID;ea.CO(x,F,s);F+=4+Math.max(4,s.length);if(L=="rele"){_.N6(x,F,W.val);
F+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var R=ea.wX[L];_.IJ(x,F,1);F+=6;for(var w=0;
w<R.length;w++){var s=W[R[w]];ea.CO(x,F,s);F+=4+Math.max(4,s.length)}if(L=="name"){_.nD(x,F,W.val+"\0");
F+=4+W.val.length*2+2}if(L=="indx"||L=="Idnt"){_.IJ(x,F,W.val);F+=4}break;case"alis":var f=W.length;
_.IJ(x,F,f);F+=4;_.bP(x,F,W);F+=f;break;default:console.log("unknown oskey: "+L);F=n;break}return F-n};
ea.wC=function(x,F){var W=_.o3(x,F);if(W>1e3)throw"e";if(W==0)W=4;return _.xR(x,F+4,W).trim()};ea.sw=function(x,F){var W=_.o3(x,F);
return W==0?8:4+W};ea.CO=function(x,F,W){var n="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),L=4<W.length||n.indexOf(W)!=-1;
_.N6(x,F,L?W.length:0);_.bP(x,F+4,W);if(W.length<4&&!L){var $="";for(var w=W.length;w<4;w++)$+=" ";_.bP(x,F+4+W.length,$)}};
ea.a7v=function(x){var F={};for(var W in x){if(W=="classID")F[W]=x[W];else if(W=="__name")F[W]=x[W];
else F[W]=ea.and(x[W])}return F};ea.and=function(x){if(x.zs=="Objc")return ea.a7v(x.v);else if(x.zs=="VlLs"){var F=[];
for(var w=0;w<x.v.length;w++)F.push(ea.and(x.v[w]));return F}else if(x.zs=="UntF")return x.v.val;else return x.v};
function dv(){}dv.as9=function(x,F,W,n,L,$){while(F<W){var l=_.xR(x,F,4);F+=4;if(l!="8BIM"&&l!="8B64"){console.log("layer information signature error! "+l,"PSB = "+L);
alert("Error in PSD file: wrong signature.");return W}var k=_.xR(x,F,4);F+=4;var V=_.q(x,F);F+=4;var i=L&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(k)!=-1;
if(i){V=V<<32|_.o3(x,F);F+=4}var f=["lrFX","PlLd"];if(f.indexOf(k)!=-1){if(V%4!=0)V+=4-V%4;F+=V;continue}switch(k){case"iOpa":n[k]=x[F];
break;case"brst":n[k]=[1,1,1];for(var w=0;w<V;w+=4)n[k][_.q(x,F+w)]=0;break;case"knko":n[k]=x[F];break;
case"infx":n[k]=x[F];break;case"clbl":n[k]=x[F];break;case"lmgm":n[k]=x[F];break;case"vmgm":n[k]=x[F];
break;case"fcmy":n[k]=x[F];break;case"lyid":n[k]=_.q(x,F);break;case"lsct":n[k]={type:_.q(x,F)};if(V>=12)n[k].q_=_.xR(x,F+8,4);
break;case"lsdk":n.lsct={type:_.q(x,F)};break;case"lyvr":n[k]=_.q(x,F);break;case"lnsr":var X={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
n[k]=_.xR(x,F,4);break;case"lspf":n[k]=_.q(x,F);break;case"lclr":n[k]=_.Vk(x,F);break;case"luni":n[k]=_.AM(x,F);
break;case"fxrp":n[k]=new eX(_.aJ(x,F),_.aJ(x,F+8));break;case"artb":case"artd":n[k]={};ea.rv(x,n[k],F+4);
break;case"SoCo":n[k]={};ea.rv(x,n[k],F+4);break;case"GdFl":n[k]={};ea.rv(x,n[k],F+4);dv.Gr(n[k],k);
break;case"PtFl":n[k]={};ea.rv(x,n[k],F+4);dv.Gr(n[k],k);break;case"CgEd":n[k]={};ea.rv(x,n[k],F+4);
break;case"brit":var s=n.brit=ew.Iz("brit"),R={};s.Brgh.v=_.mf(x,F);s.Cntr.v=_.mf(x,F+2);s.useLegacy.v=!0;
break;case"levl":var h=x.buffer.slice(F,F+V);n[k]=ef.cF(h);break;case"curv":n[k]=jL.hP(x,F,V);break;
case"expA":var B=_.Vk(x,F),e=n[k]=ew.Iz("expA");e.Exps.v=_.Pb(x,F+2);e.Ofst.v=_.Pb(x,F+6);e.gammaCorrection.v=_.Pb(x,F+10);
break;case"vibA":n[k]={};ea.rv(x,n[k],F+4);break;case"hue2":n[k]=im.hP(x,F,V);break;case"blnc":var e=n[k]=ew.Iz(k);
e.PrsL.v=x[F+18]==1;var U=["ShdL","MdtL","HghL"];for(var w=0;w<3;w++)for(var o=0;o<3;o++)e[U[w]].v[o].v=_.mf(x,F+w*6+o*2);
break;case"blwh":var b={};ea.rv(x,b,F+4);var e=ew.Iz(k),u="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var w=0;w<u.length;w++){e[u[w]]=b[u[w]];delete b[u[w]]}n[k]=e;break;case"phfl":var e=n[k]=ew.Iz(k),Z=e.Clr.v,B=_.Vk(x,F);
if(B==3){var I=[_.q(x,F+2),_.q(x,F+6),_.q(x,F+10)],y=32768,D=r.a0d(I[0]/y,I[1]/y,I[2]/y);Z.Lmnc.v=D.$_;
Z.A.v=D.V;Z.B.v=D.z}if(B==2){var N=_.Vk(x,F+2);if(N!=7)throw"e";Z.Lmnc.v=_.mf(x,F+4)/100;Z.A.v=_.mf(x,F+6)/100;
Z.B.v=_.mf(x,F+8)/100}var j=F+2+(B==3?12:10);e.Dnst.v=_.q(x,j);j+=4;e.PrsL.v=x[j]==1;break;case"mixr":var H={Y9:_.Vk(x,F+2)==1,b:[]};
for(var w=0;w<20;w++)H.b.push(_.mf(x,F+4+w*2));n[k]=a3.a3n(H);break;case"clrL":case"rplc":n[k]={};ea.rv(x,n[k],F+6);
break;case"nvrt":n[k]={};break;case"post":n[k]=ew.Iz("post");n[k].Lvls.v=_.Vk(x,F);break;case"thrs":n[k]=ew.Iz("thrs");
n[k].Lvl.v=_.Vk(x,F);break;case"grdm":var Q=F,C=_.Vk(x,Q);Q+=2;var J=x[Q]==1,E=x[Q+1]==1;Q+=2;var T=_.xR(x,Q,4);
if(T=="Perc"||T=="Gcls"||T=="Lnr "||T=="\0\0\x0B\x1D")Q+=4;var c=_.AM(x,Q);Q+=4+c.length*2;var a=hJ.adB(x,Q,c),K=a[0];
Q=a[1];var Y=_.Vk(x,Q);Q+=2;var p=_.q(x,Q);Q+=4;var P=_.Vk(x,Q)==1;Q+=2;var m=_.Vk(x,Q)==1;Q+=2;var z=_.q(x,Q);
Q+=4;var M=_.Vk(x,Q);Q+=2;var d=[],A=[];for(var w=0;w<4;w++){d.push({t:"long",v:~~(_.Vk(x,Q+w*2)*100/32768)});
A.push({t:"long",v:~~(_.Vk(x,Q+w*2+8)*100/32768)})}Q+=16;var G=_.Vk(x,Q);Q+=2;if(Y==1)K={classID:"Grdn",Nm:{t:"TEXT",v:c},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:P},VctC:{t:"bool",v:m},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:p},Smth:{t:"long",v:z},Mnm:{t:"VlLs",v:d},Mxm:{t:"VlLs",v:A}};
var kB=ew.Iz("grdm");kB.Rvrs.v=J;kB.Grad.v=K;n[k]=kB;break;case"selc":n[k]=cG.hP(x,F,V);break;case"vmsk":case"vsms":var q=n.vmsk=new t.C$,fO=_.o3(x,F+4),g=(fO>>0&1)==1;
q.eS=(fO>>1&1)==0;q.isEnabled=(fO>>2&1)==0;q.$=fZ.Sl(x,F+8,V-8,$.m,$.e);break;case"shmd":n[k]={};var jN=_.q(x,F),j=F+4;
for(var w=0;w<jN;w++){var l=_.xR(x,j,4);j+=4;var c6=_.xR(x,j,4);j+=4;var a7=x[j];j++;if(Math.max(x[j],x[j+1])!=0)throw"e";
j+=3;var bd=_.q(x,j);j+=4;if(c6=="cust"||c6=="cmls"||c6=="extn"||c6=="mlst"){var ey=_.q(x,j);if(ey!=16)j+=4;
if(_.q(x,j)==16){var b={};ea.rv(x,b,j+4,!1);n[k][c6]=b;if(c6=="cmls")O.qb.ar7(n[k][c6])}}else{console.log("unknown shmd key: "+c6+", size: "+bd)}j+=bd}break;
case"shpa":var B=_.q(x,F),c5=_.q(x,F+4);if(c5!=0)console.log("some patterns present!");break;case"TySh":var bx=n[k]={},B=_.Vk(x,F);
bx.i=_.F$(x,F+2);var ap=_.Vk(x,F+2+48);bx.PJ={};try{var fC=ea.rv(x,bx.PJ,F+56)}catch(ii){n[k]=null;break}var kE=iV.a2W();
for(var bm in kE)if(bx.PJ[bm]==null)bx.PJ[bm]=kE[bm];bx.Zb={};var fe=ea.rv(x,bx.Zb,F+56+fC+6);bx.pX=_.aDl(x,F+56+fC+6+fe);
bx.OU=eY.cF(bx.PJ.EngineData.v);iV.akZ(bx.OU.EngineDict.StyleRun.RunArray);if(bx.OU.ResourceDict==null)bx.OU.ResourceDict=JSON.parse(JSON.stringify(bx.OU.DocumentResources));
delete bx.PJ.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var g8=_.q(x,F),e0=_.q(x,F+4);n.lmfx={};
var fC=ea.rv(x,n.lmfx,F+8);dv.KL(n.lmfx);break;case"FMsk":n[k]=_.xn(x,F,V);break;case"Txt2":n[k]={};
n[k].raw=_.xn(x,F,V);n[k].Nb=j7.cF(n[k].raw);break;case"Patt":n[k]=f1.CX(x,F,V);break;case"SoLd":var cF=_.xR(x,F,4),ei=_.q(x,F+4),cr=_.q(x,F+8),e_=n[k]={},gg=ea.rv(x,e_,F+12),bW=e_.warp,gx=e_.quiltWarp;
if(gx==null)gx=e_.quiltWarp=r.xP.a6Z(bW);delete e_.warp;var h$=gx.v.warpStyle.v.warpStyle,dH=gx.v.warpValues;
if(h$!="warpCylinder"&&dH){gx.v.warpValue={t:"doub",v:dH.v[0].v};delete gx.v.warpValues}if(e_.nonAffineTransform==null)e_.nonAffineTransform=JSON.parse(JSON.stringify(e_.Trnf));
if(e_.Impr==null)e_.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var ei=_.q(x,F);
n[k]={};var gg=ea.rv(x,n[k],F+4);break;case"vscg":var c6=_.xR(x,F,4),ei=_.q(x,F+4);n[c6]={};var gg=ea.rv(x,n[c6],F+8);
dv.Gr(n[c6],c6);break;case"vogk":var eg=_.q(x,F),ei=_.q(x,F+4);n[k]={};var gg=ea.rv(x,n[k],F+8);n[k]=n[k].keyDescriptorList.v;
for(var w=0;w<n[k].length;w++){var aB=n[k][w].v;if(!r.mq.Vw(aB))continue;if(aB.keyOriginBoxCorners==null){var gB=r.mq.q6(aB);
aB.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var jy=[gB[0],gB[1],gB[2],gB[1],gB[2],gB[3],gB[0],gB[3]];
if(aB.keyOriginType.v==4)jy=r.mq.aBD(r.mq.Av(aB),aB.keyOriginLineWeight.v);r.mq.cR(aB,"keyOriginBoxCorners",jy)}}break;
case"lnk2":case"lnkD__":case"lnk3__":n[k]=[];var Q=F;while(Q<F+V){var aV=new t.xN;n[k].push(aV);var ie=_.cW(x,Q);
Q+=8;var cT=Q;aV.type=_.xR(x,Q,4);Q+=4;if(aV.type!="liFD"){alert("Unknown Linked Layer type: "+aV.type);
break;throw aV.type}aV.Fi=_.q(x,Q);Q+=4;var a_=_.pM(x,Q);Q+=1+a_.kc.length;aV.sd=a_.kc;aV.GR=_.Rv(x,Q);
Q+=4+aV.GR.length*2+2;aV.d_=_.xR(x,Q,4);Q+=4;aV.Hr=_.xR(x,Q,4);Q+=4;var gs=_.cW(x,Q);Q+=8;aV.open=x[Q];
Q+=1;if(aV.open!=0){var gq={},fC=ea.rv(x,gq,Q+4);if(fC%4!=0)fC+=4-fC%4;console.log(gq);Q+=fC+4}aV.open=0;
aV.raw=_.xn(x,Q,gs);Q=cT+ie;if(ie%4!=0)Q+=4-ie%4}break;case"FEid":var Q=F;n[k]=[];var kr=Q+V,B=_.q(x,Q);
Q+=4;while(Q<kr){Q+=4;var ie=_.q(x,Q);Q+=4;var a={};n[k].push(a);a.id=_.pM(x,Q).kc;Q+=a.id.length+1;
var B=_.q(x,Q);Q+=4;Q+=4;var iN=_.q(x,Q);Q+=4;a.rect=_.YL(x,Q);Q+=16;var jH=_.q(x,Q);Q+=4;var h2=_.q(x,Q);
Q+=4;var an=new r.Co(0);for(var w=0;w<h2+2;w++){var bt=_.q(x,Q);Q+=4;if(bt!=0){Q+=4;var kH=_.q(x,Q),js=null;
Q+=4;if(w<3||w==25)js=dU.S9(!0,jH,x,a.rect.m,a.rect.e,Q,kH);if(w==0)an.o=js;if(w==1)an.r=js;if(w==2)an.z=js;
if(w==25)an.V=js;Q+=kH}}a.buffer=r.R(a.rect.P()*4);r.qe(an,a.buffer);var gA=x[Q];Q++;if(gA!=0){a.F=new t.gm;
a.F.rect=_.YL(x,Q);Q+=16;Q+=4;var jR=_.q(x,Q);Q+=4;a.F.channel=dU.S9(!0,jH,x,a.F.rect.m,a.F.rect.e,Q,jR);
a.F.color=255;a.F.iv();Q+=jR}if(ie%4!=0)Q+=4-ie%4}break;case"Lr16":ko.VS($,x,F);break;case"Anno":n[k]=[];
var c3=F,iU=F+4,c5=_.q(x,iU);iU+=4;for(var w=0;w<c5;w++){var ie=_.q(x,iU);iU+=4;var hn=_.xR(x,iU,4);
iU+=4;if(hn!="txtA")throw hn;var db=x[iU++],dy=x[iU++],c2=_.Vk(x,iU);iU+=2;var bk=_.YL(x,iU);iU+=16;
var cx=_.YL(x,iU);iU+=16;var Z=i9.po(x,iU);iU+=10;var ft=_.pM(x,iU);iU+=ft.length;var eZ=_.pM(x,iU);
iU+=eZ.length;var hf=_.pM(x,iU);iU+=hf.length;var jr=_.q(x,iU);iU+=4;var ix=_.xR(x,iU,4);iU+=4;var bF=_.q(x,iU);
iU+=4;var fA=_.Iu(x,iU+2,bF-2>>1);iU+=bF;n[k].push([bk.x,bk.y,Z,ft.kc,fA])}break;default:break}var ax="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(ax.indexOf(k)==-1)if(V%4!=0)console.log("size not multiple of 4!!!",k);if(k!="luni"&&k!="TySh"&&k!="tySh"&&k!="lfx2"&&k!="iOpa")if(V%4!=0)V+=4-V%4;
F+=V}var R=n.CgEd;if(R){var s=n.brit;if(s){s.Brgh.v=R.Brgh?R.Brgh.v:0;s.Cntr.v=R.Cntr?R.Cntr.v:0;s.useLegacy.v=R.useLegacy?R.useLegacy.v:0}delete n.CgEd}var jA=[];
for(var w=0;w<jA.length;w++)delete n[jA[w]];return F};dv.awX=function(x,F,W,n,L){if(W.SoLd){var $={};
for(var l in W){if(l=="SoLd")$.PlLd={};$[l]=W[l]}W=$}for(var k in W)if(W[k]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+k+"\" tag was present with a null value.");delete W[k]}for(var k in W){var V=n&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(k)!=-1,f=0;
_.bP(x,F,V?"8B64":"8BIM");F+=4;var i=F;_.bP(x,F,k);F+=4;_.N6(x,F,0);F+=V?8:4;switch(k){case"iOpa":_.Hl(x,F,W[k],1);
f=4;break;case"brst":f=0;for(var w=0;w<3;w++)if(W[k][w]==0){_.IJ(x,F+f,w);f+=4}break;case"knko":_.Hl(x,F,W[k],1);
f=4;break;case"infx":_.Hl(x,F,W[k],1);f=4;break;case"clbl":_.Hl(x,F,W[k],1);f=4;break;case"lmgm":_.Hl(x,F,W[k],1);
f=4;break;case"vmgm":_.Hl(x,F,W[k],1);f=4;break;case"fcmy":_.Hl(x,F,W[k],1);f=4;break;case"lyid":_.IJ(x,F,W[k]);
f=4;break;case"lsct":_.IJ(x,F,W[k].type);f=4;if(W[k].q_){_.bP(x,F+4,"8BIM");_.bP(x,F+8,W[k].q_);f=12}break;
case"lyvr":_.IJ(x,F,W[k]);f=4;break;case"lnsr":_.bP(x,F,W[k]);f=4;break;case"lspf":_.IJ(x,F,W[k]);f=4;
break;case"lclr":_.el(x,F,W[k]);f=8;break;case"luni":_.nD(x,F,W[k]);f=4+2*W[k].length;break;case"fxrp":_.S3(x,F,W[k].x);
_.S3(x,F+8,W[k].y);f=16;break;case"artb":case"artd":_.IJ(x,F,16);f=ea.GZ(x,W[k],F+4)+4;break;case"SoCo":_.IJ(x,F,16);
f=ea.GZ(x,W[k],F+4)+4;break;case"GdFl":_.IJ(x,F,16);f=ea.GZ(x,W[k],F+4)+4;break;case"PtFl":_.IJ(x,F,16);
f=ea.GZ(x,W[k],F+4)+4;break;case"CgEd":var X={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},s=X,R=W[k];
s.Brgh.v=R.Brgh.v;s.Cntr.v=R.Cntr.v;s.useLegacy.v=R.useLegacy.v;_.IJ(x,F,16);f=ea.GZ(x,X,F+4)+4;break;
case"brit":x.Gq(F,8);f=8;break;case"levl":var h=new aL;f=ef.Kt(h,W[k]);_.uc(x,F,h.data);break;case"curv":f=jL.kL(x,F,W[k]);
break;case"expA":f=14;x.Gq(F,14);_.zJ(x.data,F,1);_.zA(x.data,F+2,W[k].Exps?W[k].Exps.v:0);_.zA(x.data,F+6,W[k].Ofst?W[k].Ofst.v:0);
_.zA(x.data,F+10,W[k].gammaCorrection?W[k].gammaCorrection.v:1);break;case"vibA":_.IJ(x,F,16);f=ea.GZ(x,W[k],F+4)+4;
break;case"hue2":f=im.kL(x,F,W[k]);break;case"blnc":f=19;x.Gq(F,f);var B=["ShdL","MdtL","HghL"];for(var w=0;
w<3;w++){var e=W[k][B[w]].v;for(var U=0;U<3;U++)e.push(_.W7(x.data,F+w*6+U*2,e[U].v))}x.data[F+18]=W[k].PrsL.v?1:0;
break;case"blwh":var X={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},o="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var w=0;w<o.length;w++){X[o[w]]=W[k][o[w]]}_.IJ(x,F,16);f=ea.GZ(x,X,F+4)+4;break;case"phfl":_.el(x,F,2);
var b=W[k].Clr.v;_.el(x,F+2,7);_.el(x,F+4,Math.round(b.Lmnc.v*100));_.el(x,F+6,Math.round(b.A.v*100));
_.el(x,F+8,Math.round(b.B.v*100));_.el(x,F+10,0);var u=F+2+10;x.Gq(u,5);_.kv(x.data,u,W[k].Dnst.v);u+=4;
x.data[u]=W[k].PrsL.v?1:0;u++;f=u-F;break;case"mixr":f=44;x.Gq(F,f);var Z=a3.iq(W[k]);_.zJ(x.data,F,1);
_.zJ(x.data,F+2,Z.Y9?1:0);for(var w=0;w<20;w++)_.W7(x.data,F+4+w*2,Z.b[w]);break;case"clrL":case"rplc":_.el(x,F,1);
_.IJ(x,F+2,16);f=ea.GZ(x,W[k],F+6)+6;break;case"nvrt":f=0;break;case"post":_.el(x,F,W[k].Lvls.v);f=2;
break;case"thrs":_.el(x,F,W[k].Lvl.v);f=2;break;case"grdm":var I=W[k].Rvrs?W[k].Rvrs.v:!1,y=!1,D=867527939,N=!1,j=!1,H=2048,Q=[0,0,0,0],C=[32768,32768,32768,32768],J=W[k].Grad.v,E,T,c=J.Clrs==null?1:0;
if(c==0){E=J;T=JSON.parse(eC.CC.adc).v}else{E=ew.Iz("grdm").Grad.v;T=J}x.Gq(F,4);_.zJ(x.data,F,1);x.data[F+2]=I?1:0;
x.data[F+3]=y?1:0;var a=F+4;_.nD(x,a,J.Nm.v);a+=4+J.Nm.v.length*2;a=hJ.akE(x,a,E);_.el(x,a,c);a+=2;_.IJ(x,a,T.RndS.v);
a+=4;_.el(x,a,T.ShTr.v?1:0);a+=2;_.el(x,a,T.VctC.v?1:0);a+=2;_.IJ(x,a,T.Smth.v);a+=4;_.el(x,a,3);a+=2;
for(var w=0;w<4;w++)_.el(x,a+w*2,Q[w]);a+=8;for(var w=0;w<4;w++)_.el(x,a+w*2,C[w]);a+=8;a+=2;f=a-F;break;
case"selc":f=cG.kL(x,F,W[k]);break;case"FMsk":_.uc(x,F,W[k]);f=W[k].length;break;case"Txt2":var K=new aL,Y=j7.pm(W[k].Nb,K),p=r.R(Y,!0);
for(var w=0;w<Y;w++)p[w]=K.data[w];_.uc(x,F,p);f=p.length;break;case"vmsk":var P=W[k],m=0;_.IJ(x,F,3);
if(!P.eS)m+=1<<1;if(!P.isEnabled)m+=1<<2;_.IJ(x,F+4,m);f=8;var z=P.$.length;x.Gq(F+8,z*26);fZ.KH(x.data,F+8,P.$,L.m,L.e);
f+=z*26;break;case"shmd":_.IJ(x,F,Object.keys(W[k]).length);var u=F+4;for(var M in W[k]){_.bP(x,u,"8BIM");
u+=4;_.bP(x,u,M);u+=4;_.IJ(x,u,0);u+=4;_.IJ(x,u,0);u+=4;_.IJ(x,u,16);u+=4;var d=ea.GZ(x,W[k][M],u);if(d%4!=0)d+=4-d%4;
_.IJ(x,u-8,d+4);u+=d}f=u-F;break;case"TySh":var u=F;_.WO(x,u,1);u+=2;var A=W[k],K=new aL;A.OU.DocumentResources=JSON.parse(JSON.stringify(A.OU.ResourceDict));
var Y=eY.pm(A.OU,K),p=r.R(Y,!0);for(var w=0;w<Y;w++)p[w]=K.data[w];A.PJ.EngineData={t:"tdta",v:p};var G=A.OU.EngineDict.Editor.Text;
A.PJ.Txt.v=G.substring(0,G.length-1);_.aD0(x,u,A.i);u+=48;_.WO(x,u,50);u+=2;_.IJ(x,u,16);u+=4;u+=ea.GZ(x,A.PJ,u);
_.WO(x,u,1);u+=2;_.IJ(x,u,16);u+=4;u+=ea.GZ(x,A.Zb,u);_.akr(x,u,A.pX);u+=16;f=u-F;break;case"lmfx":_.IJ(x,F,0);
_.IJ(x,F+4,16);var X=JSON.parse(JSON.stringify(W[k])),kB=!1;dv.H7(X);for(var w=0;w<eC.UM.length;w++)if(X[eC.UM[w]]!=null)kB=!0;
_.bP(x,i,kB?"lmfx":"lfx2");f=ea.GZ(x,X,F+8)+8;break;case"Patt":var u=f1.Hq(x,F,W[k]);f=u-F;break;case"PlLd":var q=F;
x.Gq(F,60);var e=W.SoLd;_.bP(x,F,"plcL");_.IJ(x,F+4,3);var fO=x.data[F+8]=e.Idnt.v.length;_.bP(x,F+9,e.Idnt.v);
var u=F+9+fO,g=[1,1,16,2];for(var w=0;w<4;w++)_.IJ(x,u+w*4,g[w]);u+=16;g=O.Y.kT(e.nonAffineTransform);
for(var w=0;w<8;w++)_.S3(x,u+w*8,g[w]);u+=64;_.IJ(x,u,0);_.IJ(x,u+4,16);var jN=r.xP.aA0(e.quiltWarp).v;
u+=8+ea.GZ(x,jN,u+8);f=u-F;break;case"SoLd":var e=W[k],c6=e.quiltWarp;e.warp=r.xP.aA0(c6);if(r.xP.hh(c6.v)==16)delete e.quiltWarp;
_.bP(x,F,"soLD");_.IJ(x,F+4,4);_.IJ(x,F+8,16);f=ea.GZ(x,e,F+12)+12;e.quiltWarp=c6;delete e.warp;break;
case"vstk":case"pths":_.IJ(x,F,16);f=ea.GZ(x,W[k],F+4)+4;break;case"vscg__":_.bP(x,F,W[k].key);_.IJ(x,F+4,16);
f=ea.GZ(x,W[k].b,F+8)+8;break;case"vogk":_.IJ(x,F,1);_.IJ(x,F+4,16);r.mq.aDB(W[k]);for(var w=0;w<W[k].length;
w++){var a7=W[k][w].v.keyOriginResolution;if(a7)a7.v=L.Bq}var bd={classID:"null",keyDescriptorList:{t:"VlLs",v:W[k]}};
f=ea.GZ(x,bd,F+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var a=F;for(var w=0;w<W[k].length;w++){var ey=W[k][w],c5=a;
_.NF(x,a,0);a+=8;_.bP(x,a,ey.type);a+=4;_.IJ(x,a,ey.Fi);a+=4;x.Gq(a,1);x.data[a]=ey.sd.length;a++;_.bP(x,a,ey.sd);
a+=ey.sd.length;_.nD(x,a,ey.GR+"\0");a+=4+ey.GR.length*2+2;_.bP(x,a,ey.d_);a+=4;_.bP(x,a,ey.Hr);a+=4;
_.NF(x,a,ey.raw.length);a+=8;x.Gq(a,1);x.data[a]=ey.open;a++;_.uc(x,a,ey.raw);a+=ey.raw.length;_.IJ(x,a,1);
a+=4;a+=11;var bx=a-c5-8;_.NF(x,c5,bx);if(bx%4!=0){x.Gq(a,4-bx%4);a+=4-bx%4}}f=a-F;break;case"FEid":var a=F;
_.IJ(x,a,3);a+=4;for(var ap=0;ap<W[k].length;ap++){var fC=W[k][ap];a+=4;var kE=a;a+=4;_.Io(x,a,fC.id);
a+=fC.id.length+1;_.IJ(x,a,1);a+=4;var bm=r.R(fC.rect.P()),fe=fC.rect,g8=r.R(fe.P());a+=4;var e0=a;a+=4;
_.wO(x,a,fe);a+=16;_.IJ(x,a,8);a+=4;_.IJ(x,a,24);a+=4;for(var w=0;w<24+2;w++){var cF=-1;if(w==0)cF=0;
if(w==1)cF=1;if(w==2)cF=2;if(w==25)cF=3;_.IJ(x,a,cF!=-1?1:0);a+=4;if(cF!=-1){r.Tb(fC.buffer,bm,cF);r.Hz(bm,fC.rect,g8,fe);
a+=4;var ei=a;a+=4;x.Gq(a,fe.P()+2);a=dU._t(!0,g8,x.data,fe.m,fe.e,a,3);_.IJ(x,ei,a-(ei+4))}}_.IJ(x,e0,a-(e0+4));
x.Gq(a,1);x.data[a]=fC.F?1:0;a++;if(fC.F!=null){var cr=fe,e_=r.R(cr.P());e_.fill(fC.F.color);r.Hz(fC.F.channel,fC.F.rect,e_,cr);
_.wO(x,a,cr);a+=16;a+=4;var gg=a;a+=4;x.Gq(a,cr.P()+2);a=dU._t(!0,e_,x.data,cr.m,cr.e,a,3);_.IJ(x,gg,a-(gg+4))}var bx=a-(kE+4);
_.IJ(x,kE,bx);if(bx%4!=0)a+=4-bx%4}f=a-F;break;case"Anno":var bW=F,gx=W[k].length;_.el(x,bW,2);_.el(x,bW+2,1);
bW+=4;_.IJ(x,bW,gx);bW+=4;for(var w=0;w<gx;w++){var h$=W[k][w],dH=h$[0],eg=h$[1],aB=bW;bW+=4;_.bP(x,bW,"txtA");
bW+=4;x.Gq(bW,2);x.data[bW]=1;x.data[bW+1]=28;bW+=2;_.el(x,bW,1);bW+=2;_.wO(x,bW,new eu(dH,eg,17,21));
bW+=16;_.wO(x,bW,new eu(dH+8,eg+10,241,141));bW+=16;x.Gq(bW,10);i9.Go(x.data,bW,h$[2]);bW+=10;bW+=_.Io(x,bW,h$[3]);
bW+=_.Io(x,bW,"");bW+=_.Io(x,bW,"D:20211012120233+01'00'");var gB=h$[4].length*2;_.IJ(x,bW,12+2+gB);
bW+=4;_.bP(x,bW,"txtC");bW+=4;_.IJ(x,bW,2+gB);bW+=4;x.Gq(bW,2);x.data[bW]=254;x.data[bW+1]=255;bW+=2;
_.acZ(x,bW,h$[4]);bW+=gB;_.IJ(x,aB,bW-aB)}f=bW-F;break;default:console.log("unknown layer tag: "+k+", size: "+f);
F-=12;continue}var jy=["Txt2","artd","extd","pths"];if(jy.indexOf(k)==-1)if(f%4!=0)f+=4-f%4;if(V)_.NF(x,F-8,f);
else _.IJ(x,F-4,f);if(k!="luni"&&k!="TySh")if(f%4!=0)f+=4-f%4;F+=f}return F};dv.KL=function(x){for(var w=0;
w<eC.order.length;w++){var F=eC.order[w],W=eC.UM[w];if(x[W]==null)x[W]={t:"VlLs",v:[]};if(x[F]!=null){x[W].v.push(x[F]);
delete x[F]}var n=[];for(var L=0;L<x[W].v.length;L++){var $=x[W].v[L];if($.v.present==null||$.v.present.v==!0)n.push($)}x[W].v=n}};
dv.H7=function(x){for(var w=0;w<eC.order.length;w++){var F=eC.order[w],W=eC.UM[w],n=x[W].v.length;if(n==0){delete x[W];
continue}if(n==1){x[F]=x[W].v[0];delete x[W];continue}}};dv.Gr=function(x,F){if(F=="GdFl"){if(x.Angl==null)x.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(x.Algn==null)x.Algn={v:!0,t:"bool"};if(x.Scl==null)x.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(x.Ofst==null)x.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(x.Rvrs==null)x.Rvrs={v:!1,t:"bool"};if(x.Dthr==null)x.Dthr={v:!1,t:"bool"}}if(F=="PtFl"){if(x.Algn==null)x.Algn={v:!0,t:"bool"};
if(x.Angl==null)x.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(x.Scl==null)x.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(x.phase==null)x.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};dv.clone=function(x,F){var W={};
if(x=="TySh"){W.i=F.i.clone();W.PJ=JSON.parse(JSON.stringify(F.PJ));W.Zb=JSON.parse(JSON.stringify(F.Zb));
W.pX=F.pX.clone();W.OU=JSON.parse(JSON.stringify(F.OU));if(F.add)W.add={vmsk:F.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(F.add.vogk))};
return W}else if(x=="fxrp")return F.clone();else if(x=="vmsk")return F.clone();else return JSON.parse(JSON.stringify(F))};
function eV(x,F){}eV.cF=function(x,F,W,n){n=eV.a6F(x,F,W,n);return n};eV.pm=function(x,F,W,n,L){n=eV.ab$(x,F,W,n,L);
return n};eV.a6F=function(x,F,W,n){var L=n;x.rect=_.YL(W,n);n+=16;var $=_.Vk(W,n);n+=2;x.HL=[];var l=F.jp;
for(var w=0;w<$;w++){x.HL[w]={id:_.mf(W,n),length:(l?_.cW:_.q)(W,n+2)};n+=l?10:6}var k=_.xR(W,n,4);n+=4;
if(k!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(k));alert("Error in Photoshop file: wrong signature.");
throw"e"}x.q_=_.xR(W,n,4);n+=4;x.opacity=W[n];n+=1;x.gO=W[n]==1;n+=1;x.xb=W[n];n+=1;if(W[n]!=0)console.log("error in filler!");
n+=1;var V=_.q(W,n);n+=4;var i=n;n=eV.a19(x,W,n);n=eV.axJ(x,W,n);var f=_.pM(W,n);x.name=f.kc;n+=f.length;
if(f.length%4!=0)n+=4-f.length%4;n=dv.as9(W,n,i+V,x.add,l,F);if(x.add.lsct){if(x.add.lsct.q_)x.q_=x.add.lsct.q_;
x.add.lsct=x.add.lsct.type}return n};eV.ab$=function(x,F,W,n,L){var $=n;_.wO(W,n,x.rect);n+=16;var l=F.add.fcmy==1,k=x.anX(l);
_.el(W,n,k.length);n+=2;var V=F.jp;L.push(n);for(var w=0;w<k.length;w++){_.WO(W,n,k[w]);if(V)_.NF(W,n+2,0);
else _.IJ(W,n+2,0);n+=V?10:6}_.bP(W,n,"8BIM");n+=4;_.bP(W,n,x.q_);n+=4;_.Hl(W,n,x.opacity,1);n+=1;_.Hl(W,n,x.gO?1:0,1);
n+=1;_.Hl(W,n,x.xb,1);n+=1;_.Hl(W,n,0,1);n+=1;var i=n;_.IJ(W,n,0);n+=4;var f=n;n=eV.adp(x,W,n);n=eV.apT(x,W,n);
var X=_.Io(W,n,x.name.slice(0,255));n+=X;if(X%4!=0)n+=4-X%4;if(x.add.lsct){x.add.lsct={type:x.add.lsct};
if(x.q_=="pass"){x.add.lsct.q_="pass";x.q_="norm"}}if(x.q_=="pass")x.add.lsct={type:x.add.lsct,q_:"pass"};
if(x.add.brit)x.add.CgEd=x.add.brit;n=dv.awX(W,n,x.add,V,F);delete x.add.CgEd;if(x.add.lsct){if(x.add.lsct.q_)x.q_=x.add.lsct.q_;
x.add.lsct=x.add.lsct.type}var s=n-f;_.IJ(W,i,s);return n};eV.a19=function(x,F,W){var n=_.q(F,W);W+=4;
if(n==0)return W;var L=W;x.F=new t.gm;x.F.rect=_.YL(F,W);W+=16;x.F.color=F[W];W+=1;var $=eV.aaV(x.F,F,W);
W+=1;if($){var l=!1,k=255,V=0,i=255,f=0;for(var w=0;w<x.HL.length;w++)if(x.HL[w].id==-3)l=!0;if(l){x.y7=eV.arV(F,W);
W+=18}var X=W,s=F[W];W++;if(s>>0&1){k=F[W];W++}if(s>>1&1){V=_.aJ(F,W);W+=8}if(s>>2&1){i=F[W];W++}if(s>>3&1){f=_.aJ(F,W);
W+=8}if((W-X&1)==1)W++;x.uW=[k,V,i,f]}else{if(n==20)W+=2;else{x.y7=eV.arV(F,W);W+=18}}return L+n};eV.adp=function(x,F,W){_.IJ(F,W,0);
W+=4;if(x.F==null)return W;var n=x.GH(),L=x.add.vmsk,$=W,l=!0;_.IJ(F,W,0);_.wO(F,W,x.F.rect);W+=16;_.Hl(F,W,x.F.color);
W+=1;eV.abF(x.F,F,W,l);W+=1;if(l){if(x.y7){eV.a2w(F,W,x.y7);W+=18}var k=W;_.Hl(F,W,L?15:3);W+=1;_.Hl(F,W,n?n.q9:255);
W+=1;_.S3(F,W,n?n.vX:0);W+=8;if(L){_.Hl(F,W,L?L.q9:255);W+=1;_.S3(F,W,L?L.vX:0);W+=8}if((W-k&1)==1)W++}_.IJ(F,$-4,W-$);
return W};eV.arV=function(x,F){var W=new t.gm;eV.aaV(W,x,F);F+=1;W.color=x[F];F+=1;W.rect=_.YL(x,F);
F+=16;return W};eV.a2w=function(x,F,W){eV.abF(W,x,F,!1);F+=1;_.Hl(x,F,W.color);F+=1;_.wO(x,F,W.rect);
F+=16};eV.aaV=function(x,F,W){var n=F[W];x.eS=(n>>0&1)==0;x.isEnabled=(n>>1&1)==0;x.fU=(n>>3&1)==1;return n>>4&1};
eV.abF=function(x,F,W,n){var L=0;if(!x.eS)L+=1<<0;if(!x.isEnabled)L+=1<<1;if(x.fU)L+=1<<3;if(n)L+=1<<4;
_.Hl(F,W,L)};eV.axJ=function(x,F,W){var n=_.q(F,W);W+=4;for(var w=0;w<n;w++)x.mv[w]=F[W+w];return W+n};
eV.apT=function(x,F,W){_.IJ(F,W,x.mv.length);W+=4;F.Gq(W,40);for(var w=0;w<40;w++){F.data[W+w]=x.mv[w]}return W+40};
function dU(){}dU.cF=function(x,F,W,n){n=dU.aDG(F,F.jp,F.cb,F.rw,x,W,n);return n};dU.Kt=function(x,F,W,n,L,$,l){n=dU.anp(x,F,W,n,L,$,l);
return n};dU.aDG=function(x,F,W,n,L,$,l){var k=L.HL,V={},i=l;for(var w=0;w<k.length;w++){var f=k[w],X=f.id,s=f.length,R;
if(X==-2&&L.F==null)X=-1;if(X==-3)R=L.y7.rect;else if(X==-2)R=L.F.rect;else R=L.rect;var h=dU.S9(F,W,$,R.m,R.e,l,s);
l+=s;if(X==-3)L.y7.channel=h;else if(X==-2)L.F.channel=h;else V["c"+X]=h}var B=new r.Co(0);B.V=null;
if(n==3){B.o=V.c0;B.r=V.c1;B.z=V.c2;B.V=V["c-1"]}else if(n==1){B.o=V.c0;B.r=V.c0;B.z=V.c0;B.V=V["c-1"]}else if(n==4){var e=x.K3.r1039,U=null,o=V.c0,b=V.c1,u=V.c2,Z=V.c3;
if(e){var U=e.anY,I=17;if(U==null){var y=ICC.R(e.buffer);if(y.header.spaceIn=="RGB "){}else U=e.anY=ICC.U.sampleLUT(y,I)}}if(U){var D={o:o,r:b,z:u,V:Z},N=r.R(o.length*4);
r.qe(D,N);r.sx(N);ICC.U.applyLUT4(U,I,N,N);r.G6(N,D)}else{for(var w=0;w<o.length;w++){var j=1-o[w]*(1/255),H=1-b[w]*(1/255),Q=1-u[w]*(1/255),C=1-Z[w]*(1/255),J=r.go([j,H,Q,C]);
o[w]=Math.floor(.5+J[0]*255);b[w]=Math.floor(.5+J[1]*255);u[w]=Math.floor(.5+J[2]*255)}}B.o=o;B.r=b;
B.z=u;B.V=V["c-1"]}if(B.o==null)B.o=r.R(0);if(B.V==null&&B.o!=null){B.V=B.o.slice(0);B.V.fill(255)}if(B.r==null)B.r=B.o.slice(0);
if(B.z==null)B.z=B.o.slice(0);L.buffer=r.R(Math.max(0,L.rect.P()*4));r.qe(B,L.buffer);return l};dU.anp=function(x,F,W,n,L,$,l){var k=F.anX(l),V=F.buffer,i=new r.Co(F.rect.P());
if(l){var f=i.V.slice(0);r.Tb(V,f,3);V=V.slice(0);r.acK(V);r.G6(V,i);i.aq8=i.V;i.V=f}else r.G6(V,i);
for(var w=0;w<k.length;w++){var X=k[w],s,R;if(X==-3)s=F.y7.rect;else if(X==-2)s=F.F.rect;else s=F.rect;
if(X==-3)R=F.y7.channel;if(X==-2)R=F.F.channel;if(X==-1)R=i.V;if(X==0)R=i.o;if(X==1)R=i.r;if(X==2)R=i.z;
if(X==3)R=i.aq8;W.Gq(n,s.P()*3+4);var h=n;n=dU._t(x,R,W.data,s.m,s.e,n,$[1]?3:1);var B=n-h;if(x)_.aqF(W.data,L+w*10+2,B);
else _.kv(W.data,L+w*6+2,B)}return n};dU.S9=function(x,F,W,n,L,$,l){var k=_.Vk(W,$);$+=2;return dU.ia(x,F,W,n,L,$,k,l-2)};
dU._t=function(x,F,W,n,L,$,l){_.W7(W,$,l);$+=2;$=dU.KA(x,F,W,n,L,$,l);return $};dU.ia=function(x,F,W,n,L,$,l,k){var V,i=n*L*(F>>>3),f=i&3,X=i+(f==0?0:4-f);
if(k<=0){return r.R(X)}if(l>3){console.log("unknown compression: "+l,n,L,n*L,k);l=0}if(l==0){if($+X<=W.length)V=W.slice($,$+X);
else{V=r.R(i);for(var w=0;w<i;w++)V[w]=W[$+w]}$+=i}else if(l==1){V=r.R(i);var R=x?4:2,h=dU.axB(W,V,n,L,$,$+R*L,R);
$+=R*L+h}else if(l==2||l==3){var B=new Uint8Array(W.buffer,$+2,k-6),e=r.R(X);UZIP.inflateRaw(B,e);if(l==3){if(F==8)for(var U=0;
U<L;U++){var o=U*n+1,b=o+n-1,u=e[o-1];for(var Z=o;Z<b;Z++){u+=e[Z];e[Z]=u&255}}else for(var U=0;U<L;
U++){var o=U*n+1,b=o+n-1,u=e[2*o-2]<<8|e[2*o-1];for(var Z=o;Z<b;Z++){var I=Z<<1;u+=e[I]<<8|e[I+1];e[I]=u>>>8;
e[I+1]=u&255}}}if(e.length==X)V=e;else{V=r.R(X);for(var w=0;w<e.length;w++)V[w]=e[w]}}if(F==16){var y=r.R(n*L);
for(var w=0;w<i;w+=2)y[w>>>1]=V[w];V=y}return V};dU.KA=function(x,F,W,n,L,$,l){var k=n*L;if(l==0)for(var w=0;
w<k;w++)W[$++]=F[w];else if(l==1){var V=x?4:2,i=dU.aD2(F,W,n,L,$,$+V*L,V);$+=V*L+i}else if(l==2||l==3){if(l==3){var f=new Uint8Array(F.length);
for(var X=0;X<L;X++){var s=X*n+1,R=s+n-1,h=F[s-1];f[s-1]=h;for(var B=s;B<R;B++){f[B]=F[B]+(256-h)&255;
h=F[B]}}F=f}W[$]=120;W[$+1]=156;$+=2;var e=pako.deflateRaw(F,{aAJ:4});_.a2S(W,$,e);$+=e.length+4}else console.log("Unknown compression: "+l);
return $};dU.axB=function(x,F,W,n,L,$,l){if(!(x instanceof Uint8Array)||!(F instanceof Uint8Array))throw"e";
var k=$,V=n|0;if(l==2)for(var w=0;w<V;w++){var i=_.Vk(x,L+(w<<1));dU.JB(x,$,i,F,w*W,W);$+=i}else for(var w=0;
w<V;w++){var i=_.q(x,L+(w<<2));dU.JB(x,$,i,F,w*W,W);$+=i}return $-k};dU.aD2=function(x,F,W,n,L,$,l){var k=$;
if(l==2)for(var w=0;w<n;w++){var V=dU.a31(x,w*W,W,F,$);_.zJ(F,L+w*2,V);$+=V}else for(var w=0;w<n;w++){var V=dU.a31(x,w*W,W,F,$);
_.kv(F,L+w*4,V);$+=V}return $-k};dU.a31=function(x,F,dx,W,n){var L,$,l,k,V,j4,i;k=F+dx;for(l=F,$=n;dx>0;
l=L,dx-=j4){i=dx<128?dx:128;if(l<=k-3&&x[l+1]==x[l+0]&&x[l+2]==x[l+0]){for(L=l+3;L<l+i&&x[L]==x[l+0];
)++L;j4=L-l;W[$++]=1+256-j4;W[$++]=x[l+0]}else{for(L=l;L<l+i;)if(L<=k-3&&x[L+1]==x[L+0]&&x[L+2]==x[L+0])break;
else++L;j4=L-l;W[$++]=j4-1;for(var w=0;w<j4;w++)W[$+w]=x[l+w];$+=j4}}return $-n};dU.JB=function(x,F,W,n,L,$){for(var l=0;
l<W;){var dx=x[F++];if(dx>=128){var k=x[F++],V=L+(257-dx);n.fill(k,L,V);L=V;l+=2}else{for(var w=0;w<=dx;
w++)n[L+w]=x[F+w];F+=dx+1;L+=dx+1;l+=1+1+dx}}};function ko(){}ko.XV=function(x,F,W){return;var n="",L=F;
while(L!=0){var $=L%1e3+"";while($.length<3)$="0"+$;n=(n==""?$:$+" ")+n;L=Math.floor(L/1e3)}while(n.startsWith("0")&&n!="0")n=n.slice(1);
while(n.length<11)n=" "+n;console.log("===",n,"\t".repeat(x),": "+W)};ko.a61=function(x){var F={K3:{}},n=0,L=0,k;
F.jp=!1;F.cb=8;var W=new Uint8Array(x);L=ko.Pq(F,W,n);n=L;L=ko.a45(F,W,n);n=L;var $=_.q(W,n);n+=4+$;
var l=F.jp?8:4;if(F.jp)k=_.cW(W,n);else k=_.q(W,n);n+=l+k;L=ko.aoL(F,W,n);return[{Sf:new eu(0,0,F.m,F.e),data:F.buffer.buffer}]};
ko.cF=function(x,F){F.jp=!1;F.cb=8;var W=new Uint8Array(x),n=0,L=0,l=0,M,ap=!1,fC=!0,kE=!1,bm=0,ax=0;
L=ko.Pq(F,W,n);ko.XV(0,L-n,"PSD Header");n=L;L=ko.a45(F,W,n);ko.XV(0,L-n,"Color Mode Data");n=L;L=ko.a92(F,W,n);
ko.XV(0,L-n,"Image Resources");n=L;L=ko.apO(F,W,n);ko.XV(0,L-n,"Layer And Mask Info");n=L;L=ko.aoL(F,W,n);
ko.XV(0,L-n,"Merged Image");n=L;if(F.B.length==0){var $=F.dI();$.sc("Background");F.B.push($);$.buffer=F.buffer.slice(0);
$.rect=new eu(0,0,F.m,F.e)}for(var w=0;w<F.B.length;w++){var L=F.B[w],k=L.add.lsct;if(k==eD.iS)l++;else if(k==eD.en||k==eD.Tn)l--}while(l<0){F.B.unshift(F.Nz());
l++}if(F.K3.r1005){F.Bq=_.gn(F.K3.r1005,0)}if(F.K3.r1026){var W=F.K3.r1026;for(var w=0;w<W.length;w+=2){var L=F.B[w>>>1];
if(L)L.ju=_.Vk(W,w)}}if(F.K3.r1072){var W=F.K3.r1072;for(var w=0;w<W.length;w++){var L=F.B[w];if(L)L.nS=W[w]==1}}if(F.K3.r1032){F.Ul=ko.asd(F.K3.r1032,0)}delete F.K3.r1036;
F.hS(F.K3.r1039);if(F.K3.r1050){var V=_.q,i=F.K3.r1050,f=_.q(i,0);if(f==6){var X=4,s=_.YL(i,X);X+=16;
var R=_.AM(i,X);X+=4+R.length*2;var h=V(i,X);X+=4;var B=F.EC;for(var w=0;w<h;w++){var e=O.jH.uD(),o;
B.push(e);e=e.v;e.sliceID.v=V(i,X);X+=4;e.groupID.v=V(i,X);X+=4;var U=V(i,X);X+=4;if(U==1){o=V(i,X);
X+=4}var R=_.AM(i,X);X+=4+R.length*2;var b=V(i,X);X+=4;var u=[V(i,X),V(i,X+4),V(i,X+8),V(i,X+12)];X+=16;
O.jH.Bm(B,B.length-1,u);var Z=e.url.v=_.AM(i,X);X+=4+Z.length*2;var I=e.null.v=_.AM(i,X);X+=4+I.length*2;
var y=e.Msge.v=_.AM(i,X);X+=4+y.length*2;var D=e.altTag.v=_.AM(i,X);X+=4+D.length*2;e.cellTextIsHTML.v=i[X]==1;
X++;var N=e.cellText.v=_.AM(i,X);X+=4+N.length*2;var j=V(i,X);X+=4;var H=V(i,X);X+=4;var Q=i.slice(X,X+4);
X+=4;if(U!=2)B.pop()}}else if(f==8){var C={};ea.rv(i,C,8,!1);var i=F.EC=C.slices.v;for(var w=0;w<i.length;
w++){if(i[w].v.origin.v.ESliceOrigin!="userGenerated"){i.splice(w,1);w--}}}}if(F.K3.r1058){var J=F.K3.r1058,E=UTIF.decode(J.buffer,{parseMN:!1,debug:!1});
ks._W(E[0],F.dU);delete F.K3.r1058}if(F.K3.r1060){var T=_.NM(F.K3.r1060);ks.Rs(T,F.dU);delete F.K3.r1060}if(F.K3.r1065){var W=F.K3.r1065;
F.U9={};ea.rv(W,F.U9,4,!1)}if(F.K3.r1069){var W=F.K3.r1069,c=[];for(var w=2;w<W.length;w+=4){var o=_.q(W,w);
for(var a=0;a<F.B.length;a++){var L=F.B[a];if(L.add.lyid==o&&L.add.lsct!=3&&c.indexOf(a)==-1)c.push(a)}}F.g=c}if(F.K3.r1073){var W=F.K3.r1073,X=0,K=_.o3(W,X);
X+=4;var Y=_.o3(W,X);X+=4;for(var w=0;w<Y;w++){F.FK.push({y:K>=2?_.Pb(W,X+2):_.gn(W,X+2),x:K>=2?_.Pb(W,X+6):_.gn(W,X+6)});
X+=14}delete F.K3.r1073}if(F.K3.r1025){var p=F.K3.r1025;delete F.K3.r1025;var P=fZ.Sl(p,0,p.length,F.m,F.e),m=new t.C$;
m.$=P;F.V2[0]=az.r9("Working Path",{vmsk:m})}var z=F.add.pths;delete F.add.pths;var d=F.K3.r3000;if(d){M={};
ea.rv(d,M,4,!1);delete F.K3.r3000}if(z){var A=z.pathSymmetrySelectedPath;if(A){var G=z.pathList.v[A.v].v,kB=G.pathUnicodeName.v;
F.da=kB.startsWith("Tile Symmetry")}}for(var q=0;q<=997;q++){var fO="r"+(2e3+q),p=F.K3[fO];if(p==null)break;
var P=fZ.Sl(p,0,p.length,F.m,F.e),kB="Path "+q;if(z){var g=z.pathList.v[q].v;kB=g.pathUnicodeName.v;
if(kB=="Tile Symmetry 1")continue}var jN=M?M.keyRootDescriptorList.v[q].v.keyDescriptorList.v:t.oO(P),m=new t.C$;
m.$=P;F.V2.push(az.r9(kB,{vmsk:m,vogk:jN}));delete F.K3[fO]}delete F.jp;if(F.K3.r4000){F.WP=r.WP.cF(F.K3.r4000)}var c6=F.K3.r7000,a7=F.K3.r7001;
if(c6){var bd=_.NM(c6);F.C7=ko.a3w(bd)}if(a7){var bd=_.NM(a7);F.wD=ko.apS(bd)}delete F.K3.r7000;delete F.K3.r7001;
var ey=new eu(0,0,F.m,F.e),c5=F.add.Txt2,bx=c5;if(bx){bx=bx.Nb;if(bx._DocumentResources==null)bx=cV.apz(bx)}var fe=-1;
for(var w=0;w<F.B.length;w++){var L=F.B[w],g8=L.add.lsct,e0=L.add.vmsk,cF=L.GH();if(g8==eD.iS){bm++;
L.add.lspf=0}else if(g8==eD.en||g8==eD.Tn)bm--;if(L.name==""){L.name="Layer "+(w+1);kE=!0}if(kE&&L.vN()&&L.q_=="norm")L.q_="pass";
if(L.mK()&&L.DU(F)==null)delete L.add.SoLd;if(L.mK()&&L.DU(F).F){var ei=L.DU(F);ei.F.isEnabled=L.add.SoLd.filterFX.v.filterMaskEnable.v}if(e0&&L.qA()){var cr=eC.pr.Iz(!0);
if(L.add.vstk==null)L.add.vstk=JSON.parse(JSON.stringify(cr));else{var e_="strokeStyleLineDashSet";if(L.add.vstk[e_]==null)L.add.vstk[e_]=JSON.parse(JSON.stringify(cr[e_]))}L.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
L.add.vstk.strokeStyleResolution.v=F.Bq}if(e0&&(L.add.vogk==null||r.j.tn(e0.$)!=L.add.vogk.length))L.oO();
if(!1){var gg=L.add.vogk,bW=!0;for(var gx=0;gx<gg.length;gx++){var h$=gg[gx].v.keyShapeInvalidated;if(h$==null||h$.v==!1)bW=!1}if(bW)L.oO()}if(L.add.SoLd&&L.rect.ak()){console.log("redrawing smart instance");
L.Bw(F,null,null,!0)}if(cF==null&&L.F!=null){if(L.F.fU==!1){L.F.fU=!0;L.y7=L.F.clone()}}cF=L.GH();if(L.uW){var cr=L.uW,m=e0;
if(cF){cF.q9=cr[0];cF.vX=cr[1]}if(m){m.q9=cr[2];m.vX=cr[3]}L.uW=null}if(cF!=null&&e0!=null&&(cF.vX+e0.vX!=0||cF.q9+e0.q9!=2*255))L.pZ(F);
else if(e0!=null&&!L.qA())L.pZ();else if(cF&&cF.q9!=255&&L.qA())L.pZ(F);var dH=L.add.artb;if(dH&&dH.artboardBackgroundType==null)dH.artboardBackgroundType={t:"long",v:1};
if(dH&&bm!=0)delete L.add.artb;var eg=L.add.vstk;if(L.qA()&&(L.rect.ak()||e0&&e0.vX!=0||eg&&!eg.fillEnabled.v&&(!eg.strokeEnabled.v||eg.strokeStyleLineWidth.v.val==0)))L.SI(F);
if(L.add.TySh){ap=!0;if(!L.rect.ak())fC=!1}if(L.add.TySh&&bx){fe++;var aB=L.add.TySh.OU,gB=iV.T$(aB),jy=bx._DocumentObjects._TextObjects;
if(jy.length<=fe){console.log("Txt2 incomplete");continue}var aV=jy[fe]._Model,ie=aV._StyleRun?aV._StyleRun._RunArray:[],cT=aB.EngineDict.StyleRun.RunArray;
for(var a_=0;a_<cT.length;a_++){var gs=cT[a_].StyleSheet.StyleSheetData;if(ie[a_]==null)continue;var gq=ie[a_]._RunData._StyleSheet._Features;
if(gq&&gq._BaselineDirection)gs.BaselineDirection=parseInt(gq._BaselineDirection.slice(1));if(gq&&gq._FillBackgroundFlag)gs._FillBackgroundFlag=gq._FillBackgroundFlag;
if(gq&&gq._FillBackgroundColor){var kr=gq._FillBackgroundColor,iN=kr._Color._Values.slice(0);for(var a=0;
a<4;a++)iN[a]=parseFloat(iN[a].slice(1));gs._FillBackgroundColor={Type:1,Values:iN}}if(gq&&gq._LineWidth)gs._LineWidth=parseFloat(gq._LineWidth.slice(1))}var jH=aB.EngineDict.ParagraphRun.RunArray,h2=aV._ParagraphRun._RunArray;
if(h2==null)h2=[];var an=Math.min(h2.length,jH.length);for(var a=0;a<an;a++){var bt=jH[a].ParagraphSheet.Properties,kH=bx._DocumentResources._ParagraphSheetSet._Resources,js=h2[a]._RunData._ParagraphSheet;
if(typeof js=="string")js=kH[parseInt(js.slice(1))]._Resource;var gA=js._Parent==null?js:kH[parseInt(js._Parent.slice(1))]._Resource;
js=js._Features;gA=gA._Features;var jR=js._ParagraphDirection;if(jR==null)jR=gA._ParagraphDirection;
if(jR)bt._Direction=parseInt(jR.slice(1));if(js._ComposerEngine)bt._ComposerEngine=parseInt(js._ComposerEngine.slice(1))}if(aV._AlternateGlyphRun){var h2=aV._AlternateGlyphRun._RunArray,an=h2.length,c3=aB.EngineDict.AlternateGlyphRun=iV.ay7();
for(var a=0;a<an;a++){var js=h2[a],iU={},hn=js._RunData._AlternateGlyphSheet;if(hn)iU.Glyph=parseInt(hn._Glyph.slice(1));
c3.RunArray.push(iU);c3.RunLengthArray.push(parseInt(js._Length.slice(1)))}}var db=bx._DocumentResources,dy=db._TextFrameSet._Resources,c2=dy[fe]._Resource,bk=c2._Data,cx=new iJ(1,0,0,1,0,0);
if(c2._0){var ft=parseFloat(c2._0[0].slice(1)),eZ=parseFloat(c2._0[1].slice(1));cx.translate(ft,eZ)}if(gB){cx.translate(gB[0],gB[1]);
iV.J3(aB,[0,0,gB[2]-gB[0],gB[3]-gB[1]])}else{if(c2._Bezier&&c2._Bezier._Points){var P=c2._Bezier._Points,ft=parseFloat(P[0].slice(1)),eZ=parseFloat(P[1].slice(1));
if(ft!=0||eZ!=0){cx.translate(ft,eZ)}}}if(c2._Data&&c2._Data._FrameMatrix){var hf=c2._Data._FrameMatrix;
hf=hf.map(function(iA){return parseFloat(iA.slice(1))});cx.concat(new iJ(hf[0],hf[1],hf[2],hf[3],hf[4],hf[5]))}cx.concat(L.add.TySh.i);
L.add.TySh.i=cx;var b=bk._Type?parseInt(bk._Type.slice(1)):0;if(b==2||b==1&&bk._PathData&&bk._PathData._Spacing=="i-3")if(c2._Bezier){var jr=function(iA){return parseFloat(iA.slice(1))},P=c2._Bezier._Points.map(jr);
if(gB)r.Z.i(P,new iJ(1,0,0,1,-gB[0],-gB[1]),P);var ix=bk._PathData?bk._PathData._Reversed:!1,bF=bk._TextOnPathTRange;
if(bF==null)bF=["f-3","f-3"];aB.Curve={Points:P,TextOnPathTRange:bF.map(jr),Reversed:ix==null?!1:ix};
L.add.TySh.add={vmsk:new t.C$,vogk:null};iV.Gj(L.add.TySh)}if(bk._LineOrientation=="i2")aB._LineOrientation=2}}O.qb.nc(F,!0);
var fA={},jA=[];for(var w=0;w<F.B.length;w++){var g1=F.B[w].add.lyid;if(g1==null)continue;var ax=Math.max(ax,g1);
if(fA[g1]!=null)jA.push(w);else fA[g1]=!0}for(var w=0;w<jA.length;w++)F.B[jA[w]].add.lyid=ax+1+w};ko.asd=function(x,F){F+=12;
var W=_.q(x,F),n=[];F+=4;W=Math.min(W,Math.floor((x.length-F)/5));for(var w=0;w<W;w++){var L=Math.min(x[F+w*5+4],1),$=_.o3(x,F+w*5)/32;
n.push([L,$])}return n};ko.a3w=function(x){var F=new DOMParser,W=F.parseFromString(x,"text/xml").firstChild.children[0],n=W.getElementsByTagName("variables");
if(n.length==0)return[];n=n[0].children;var L=[],$="varName trait docRef placementMethod align valign clip".split(" ");
for(var l=0;l<n.length;l++){var k=n[l],V={};L.push(V);for(var i=0;i<$.length;i++){var f=$[i],X=k.getAttribute(f);
if(X==null)continue;V[f]=X}}return L};ko.apS=function(x){var F=new DOMParser,W=F.parseFromString(x,"text/xml").firstChild.children,n=[[]];
if(W==null)return n;for(var w=0;w<W.length;w++){var L=W[w],$=[];n.push($);for(var l=0;l<L.children.length;
l++){var k=L.children[l];if(w==0)n[0].push(k.tagName);$.push(k.textContent)}}return n};ko.pm=function(x,F,W){O.qb.ec(x);
O.qb.nc(x,!1);x.jp=W[3]==!0;var n=[],L=[],e=0,o=1,h=16,bx=0;for(var w=0;w<x.B.length;w++){var $=x.B[w];
if($.mK()&&$.DU(x).F){$.add.SoLd.filterFX.v.filterMaskEnable.v=$.DU(x).F.isEnabled}if($.add.TySh){var l=$.add.TySh.OU,k=iV.eQ(l);
$.add.TySh.PJ.TextIndex={t:"long",v:n.length};n.push(l);if(k==2)iV.QN($.add.TySh)}var V=$.add.vstk;if(V)V.strokeStyleResolution.v=x.Bq;
if($.qA()||W[2]&&$.add.SoLd){L[w]=[$.rect,$.buffer];$.rect=new eu;$.buffer=r.R(0);if($.add.SoLd){var i=$.DU(x);
if(i!=null){L[w].push(i.buffer);i.buffer=r.R(i.buffer.length)}}}}if(n.length>0){var f=x.add.Txt2?x.add.Txt2.Nb:null;
if(x.add.Txt2==null)x.add.Txt2={};x.add.Txt2.Nb=kt.azU(n,null,f)}var X=[x.add.lnk2,x.add.FEid,x.add.Patt],s=x.asY(x.B);
x.aeA(s);x.K3.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);_.a28(x.K3.r1005,0,x.Bq);_.a28(x.K3.r1005,8,x.Bq);
if(x.FK.length>0){var R=x.FK;x.K3.r1073=new Uint8Array(8+R.length*14);_.jK(x.K3.r1073,0,3);_.jK(x.K3.r1073,4,R.length);
for(var w=0;w<R.length;w++){var h=8+14*w;_.W7(x.K3.r1073,h,14);_.zA(x.K3.r1073,h+2,R[w].y);_.zA(x.K3.r1073,h+6,R[w].x);
_.W7(x.K3.r1073,h+10,-1);_.W7(x.K3.r1073,h+12,8)}}if(x.wm()){x.K3.r1022=new Uint8Array([0,3+x.o2.length-1,0])}else delete x.K3.r1022;
var B=new Uint8Array(x.B.length*2),U=new Uint8Array(x.B.length);for(var w=0;w<x.B.length;w++){var $=x.B[w],b=$.ju,u=$.nS?1:0;
_.zJ(B,w*2,b);U[w]=u;if(b>e)e=b;if(u==0)o=0}if(e>0)x.K3.r1026=B;if(o<1)x.K3.r1072=U;var Z=x.Ul,I=Z.length,y=x.K3.r1032=r.R(16+5*I,!0);
_.kv(y,0,1);_.kv(y,4,576);_.kv(y,8,576);_.kv(y,12,I);for(var w=0;w<I;w++){_.jK(y,h,Math.round(Z[w][1]*32));
y[h+4]=Z[w][0];h+=5}if(W[4]!=!0){var D=[x.buffer,new eu(0,0,x.m,x.e)],N=0;r.Bh(D);while(D[N+1].P()>200*200)N+=2;
var j=jW.w0("jpg"),H=D[N+1],Q=new Uint8Array(j.Rd([[D[N].buffer]],H.m,H.e)),y=x.K3.r1036=new Uint8Array(28+Q.length);
_.kv(y,0,1);_.kv(y,4,H.m);_.kv(y,8,H.e);_.kv(y,12,H.m*3);_.kv(y,16,H.P()*3);_.kv(y,20,Q.length);_.zJ(y,24,24);
_.zJ(y,26,1);y.set(Q,28)}var C=r.aa(x.buffer);if(x.add.fcmy)C=!1;var J=[];if(C)J.push({name:"Transparency",Rr:{o:255,r:0,z:0},eE:100,d$:1});
J=J.concat(x.o2);delete x.K3.r1045;delete x.K3.r1006;delete x.K3.r1077;var E=new aL;h=0;var T=new Uint8Array(4+J.length*13);
T[3]=1;for(var w=0;w<J.length;w++){var c=J[w],a=c.name+"\0";_.nD(E,h,a);h+=4+a.length*2;var K=4+w*13;
i9.Go(T,K,c.Rr);T[K+11]=c.eE;T[K+12]=c.d$}if(h!=0)x.K3.r1045=E.data.slice(0,h);x.K3.r1077=T;for(var w=0;
w<x.EC.length;w++)x.EC[x.EC.length-w-1].v.sliceID.v=2+w*3;var Y={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:x.EC}},E=new aL;
_.IJ(E,0,8);_.IJ(E,4,16);var p=ea.GZ(E,Y,8);x.K3.r1050=E.data.slice(0,p+8);var E=new aL;_.IJ(E,0,16);
var p=ea.GZ(E,x.U9,4);x.K3.r1065=E.data.slice(0,p+4);var P=x.g;y=x.K3.r1069=r.R(2+P.length*4,!0);_.zJ(y,0,P.length);
for(var w=0;w<P.length;w++)_.kv(y,2+4*w,x.B[P[w]].add.lyid);delete x.K3.r1058;delete x.K3.r1060;if(Object.keys(x.dU).length!=0){var m=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
ks.pu(x.dU,m[0],W[0]&&W[1]);x.K3.r1058=new Uint8Array(UTIF.encode(m));var z=ks.i0(x.dU);x.K3.r1060=_.Ug(z)}var M=[],d=[],A=x.V2.slice(0);
if(x.da){var G=fZ.arx([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),kB=new t.C$;
kB.$=G;A.push(az.r9("Tile Symmetry 1",{vmsk:kB,vogk:t.oO(G)}))}for(var w=0;w<A.length;w++){var q=A[w],G=q.add.vmsk.$;
if(w==0&&G.length==2)continue;var fO=r.R(G.length*26);fZ.KH(fO,0,G,x.m,x.e);var g=w==0?1025:2e3+w-1;
x.K3["r"+g]=fO;if(w!=0){var jN={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:q.name}};if(q.name=="Tile Symmetry 1")jN.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
M.push({t:"Objc",v:jN});d.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:q.add.vogk}}})}}if(M.length!=0){x.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:M}};
if(x.da)x.add.pths.pathSymmetrySelectedPath={t:"long",v:M.length-1};d={classID:"null",keyRootDescriptorList:{t:"VlLs",v:d}};
var E=new aL;_.IJ(E,0,16);var p=ea.GZ(E,d,4);x.K3.r3000=E.data.slice(0,p+4)}else{delete x.add.pths;delete x.K3.r3000}if(x.WP&&x.WP.length!=0){x.K3.r4000=r.WP.pm(x.WP)}if(x.C7.length!=0){var c6="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var w=0;w<x.C7.length;w++){var a7=x.C7[w],bd=[];for(var g in a7)bd.push(g+"=\""+a7[g]+"\"");c6+="<variable "+bd.join(" ")+">\n</variable>\n"}c6+="</variables>\n</variableSet>\n</variableSets>";
x.K3.r7000=_.Ug(c6)}if(x.wD.length!=0){var c6="<sampleDataSets psdPath=\""+x.name+"\">\n";for(var w=1;
w<x.wD.length;w++){var ey=x.wD[w];c6+="<sampleDataSet dataSetName=\"Data Set "+w+"\">\n";for(var c5=0;
c5<ey.length;c5++)c6+="<"+x.wD[0][c5]+">"+ey[c5].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+x.wD[0][c5]+">\n";
c6+="</sampleDataSet>\n"}c6+="</sampleDataSets>";x.K3.r7001=_.Ug(c6)}bx=ko.aBB(x,F,bx,3+J.length);bx=ko.a2d(x,F,bx);
bx=ko.agV(x,F,bx);bx=ko.akT(x,F,bx,W,C);bx=ko.a5t(x,F,bx,W[0],C);var ap=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var w=0;w<ap.length;w++)delete x.K3["r"+ap[w]];for(var w=0;w<x.B.length;w++){var $=x.B[w];if($.qA()||W[2]&&$.add.SoLd){$.rect=L[w][0];
$.buffer=L[w][1];if(L[w][2]){var i=$.DU(x);L[w].push(i.buffer);i.buffer=L[w][2]}}}x.aeA(X);O.qb.nc(x,!0);
delete x.jp;return bx};ko.Pq=function(x,F,W){var n=_.xR(F,W,4);W+=4;if(n!="8BPS")alert("invalid header signature: "+n);
var L=_.Vk(F,W);W+=2;x.jp=L==2;if(L!=1&&L!=2)alert("invalid version: "+L);W+=6;x.Dy=_.Vk(F,W);W+=2;x.e=_.o3(F,W);
W+=4;x.m=_.o3(F,W);W+=4;x.cb=_.Vk(F,W);W+=2;x.rw=_.Vk(F,W);W+=2;return W};ko.aBB=function(x,F,W,n){var L=x.add.fcmy==1;
F.Gq(0,64);_.Fl(F.data,W,"8BPS");W+=4;_.zJ(F.data,W,x.jp?2:1);W+=2;_.kv(F.data,W,0);W+=4;_.zJ(F.data,W,0);
W+=2;_.zJ(F.data,W,n+(L?1:0));W+=2;_.jK(F.data,W,x.e);W+=4;_.jK(F.data,W,x.m);W+=4;_.zJ(F.data,W,8);
W+=2;_.zJ(F.data,W,L?4:3);W+=2;return W};ko.a45=function(x,F,W){var n=_.o3(F,W);W+=4;if(n!=0)x.IF=F.slice(W,W+n);
W+=n;return W};ko.a2d=function(x,F,W){_.N6(F,W,0);W+=4;return W};ko.a92=function(x,F,W){var n=_.q(F,W),L=0;
W+=4;var $=[];while(L<n){var l=_.xR(F,W+L,4);L+=4;var k=_.Vk(F,W+L);L+=2;var V=_.pM(F,W+L);L+=V.length;
if(l=="MeSa"&&(k==7e3||k==7001)){}else if(l!="8BIM"){$.push(k);console.log("Unknown Image Resources signature: "+l+", ID: "+k)}var i=_.q(F,W+L);
L+=4;if(x.K3["r"+k]!=null)console.log("--- two resources with same ID");x.K3["r"+k]=_.xn(F,W+L,i);L+=i+(i&1)}for(var w=0;
w<$.length;w++)delete x.K3["r"+$[w]];return W+n};ko.agV=function(x,F,W){var n=W,l=0;W+=4;var L=[];for(var $ in x.K3){L.push(parseInt($.slice(1)))}L.sort(function(X,s){return X-s});
for(var w=0;w<L.length;w++){var k=L[w];_.bP(F,W+l,k==7e3||k==7001?"MeSa":"8BIM");l+=4;_.el(F,W+l,k);
l+=2;var V=_.Io(F,W+l,"");l+=V;var i=x.K3["r"+k],f=i.length;_.IJ(F,W+l,f);l+=4;_.uc(F,W+l,i);l+=f;if(f%2==1)l++}_.IJ(F,n,l);
return W+l};ko.apO=function(x,F,W){var n=W,L,$,l=x.jp?8:4;if(x.jp)L=_.cW(F,W);else L=_.q(F,W);W+=l;if(L==0)return n+l;
$=ko.aoj(x,F,W);ko.XV(1,$-W,"Layer Info");W=$;$=ko.ab3(x,F,W);ko.XV(1,$-W,"Global Layer Mask Info");
W=$;$=dv.as9(F,W,n+l+L,x.add,x.jp,x);ko.XV(1,$-W,"Project Add Info");W=$;return n+l+L};ko.akT=function(x,F,W,n,L){var $=W;
_.IJ(F,W,0);W+=4;if(x.jp){_.IJ(F,W,0);W+=4}W=ko.awq(x,F,W,n,L);W=ko.ac3(x,F,W);W=dv.awX(F,W,x.add,x.jp,x);
if(x.jp)_.NF(F,$,W-$-8);else _.IJ(F,$,W-$-4);return W};ko.aoj=function(x,F,W){var n,L=x.jp?8:4;if(x.jp)n=_.cW(F,W);
else n=_.q(F,W);W+=L;if(n!=0)ko.VS(x,F,W);return W+n};ko.VS=function(x,F,W){var n=_.mf(F,W);W+=2;var L=Math.abs(n);
for(var w=0;w<L;w++){var $=new t;W=eV.cF($,x,F,W);x.B[w]=$}var l=new eu(0,0,x.m,x.e);for(var w=0;w<L;
w++){var k=x.B[w],V=k.GH(),i=dU.cF(k,x,F,W);if(i-W>8)ko.XV(2,i-W,"Lay: "+k.getName());W=i;ko.aD8(k,l);
if(V)ko.aD8(V,l)}};ko.aD8=function(x,F){};ko.awq=function(x,F,W,n,L){var $=W,l=x.jp;W+=l?8:4;W=ko.a3f(x,F,W,n,L);
var k=W-$-(l?8:4);if(k%2!=0)k++;if(l)_.NF(F,$,k);else _.IJ(F,$,k);return $+k+(l?8:4)};ko.a3f=function(x,F,W,n,L){var $=x.B.length;
_.WO(F,W,L?-$:$);W+=2;var l=[];for(var w=0;w<$;w++)W=eV.pm(x.B[w],x,F,W,l);for(var w=0;w<$;w++)W=dU.Kt(x.jp,x.B[w],F,W,l[w],n,x.add.fcmy==1);
return W};ko.ab3=function(x,F,W){var n=_.q(F,W);W+=4;W+=n;return W};ko.ac3=function(x,F,W){var n=_.IJ(F,W,0);
W+=4;return W};ko.aoL=function(x,F,W){var n=x.rw,L="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),$=[1,1,1,3,4,1,1,3],l,B;
if(n!=3){if(n==1||n==2||n==4)console.log("Project will be converted from "+L[n]+" to "+L[3]+" mode.");
else{alert("Color mode "+L[n]+" is not supported yet :(")}if(n==4)x.add.fcmy=1}if(x.K3.r1045){l=[];var k=x.K3.r1045,V=0;
while(V<k.length){var i=_.Rv(k,V);l.push(i);V+=4+2+i.length*2}}var f=$[n]+(l==null||l[0]=="Transparency"?1:0),X=x.m,s=x.e,R=X*s,h=_.Vk(F,W);
W+=2;x.buffer=r.R(R*4);r.De(x.buffer,4278190080);var e=W;for(var U=0;U<x.Dy;U++){if(h==0){B=dU.ia(x.jp,x.cb,F,X,s,W,h);
W+=R*(x.cb>>>3)}else if(h==1){B=r.R(R);var o=x.jp?4:2;if(U==0)W+=x.Dy*s*o;W+=dU.axB(F,B,X,s,e+U*s*o,W,o)}else{console.log("unknown compression of image data: ",h);
return}if(U<f){r.rW(B,x.buffer,U);if(x.Dy==1&&U==0){r.rW(B,x.buffer,1);r.rW(B,x.buffer,2)}}else{var b=new t.gm,u=U-f,Z=U-$[x.rw];
b.name=l?l[Z]:"Alpha";if(b.name=="Quick Mask"){b.NZ=!0;x.kO.push(u)}b.rect=new eu(0,0,X,s);b.channel=B;
b.color=0;b.iv();x.o2[u]=b;if(x.K3.r1077){var k=x.K3.r1077.slice(4+Z*13);b.Rr=i9.po(k,0);b.eE=k[11];
b.d$=k[12];if(b.d$==2)b.NZ=!0}}}x.Dy=4;if(x.rw==2)for(var w=0;w<R;w++){var I=w*4,y=x.buffer[I];x.buffer[I]=x.IF[0+y];
x.buffer[I+1]=x.IF[256+y];x.buffer[I+2]=x.IF[512+y]}return W};ko.a5t=function(x,F,W,n,L){var $=1,l=16,k=x.m,V=x.e,f,X;
_.el(F,W,$);W+=2;var i=k*V;if(!n){X=new r.Co(k*V);r.G6(x.buffer,X);var s=X.o,R=X.r,h=X.z,B=X.V;for(var w=0;
w<i;w++){var e=B[w]*(1/255);s[w]=~~(s[w]*e+255*(1-e));R[w]=~~(R[w]*e+255*(1-e));h[w]=~~(h[w]*e+255*(1-e))}}else f=r.R(i);
var U=[f,f,f];if(!n)U=[X.o,X.r,X.z];if(x.add.fcmy==1){var o=f;if(!n){o=r.R(i);o.fill(255)}U.push(o)}if(L)U.push(n?f:X.V);
for(var w=0;w<x.o2.length;w++){U.push(x.o2[w].PM(new eu(0,0,x.m,x.e)))}var b=W;for(var u=0;u<U.length;
u++){F.Gq(W,k*V+4);f=U[u];if($==0||$==2||$==3)W=dU.KA(x.jp,f,F.data,k,V,W,$);else{var Z=x.jp?4:2;if(u==0)W+=U.length*V*Z;
var I=W;W+=dU.aD2(f,F.data,k,V,b+u*V*Z,W,Z)}}return W};function eY(){}eY.cF=function(x){var F={};eY.vx(x,F,0,0);
return F};eY.pm=function(x,F){var W=0;W=eY._K(x,F,W,0);return W};eY.vx=function(x,F,W,n){while(x[W]!="<".charCodeAt(0))W++;
W+=2;while(!0){if(x[W]=="/".charCodeAt(0)){W++;var L=_.indexOf(x," ".charCodeAt(0),W,W+50),$=_.indexOf(x,"\n".charCodeAt(0),W,W+50);
if($==-1)$=Infinity;if(L==-1)L=Infinity;var l=Math.min($,L),k=_.xR(x,W,l-W),V=eY.lF(x,l+1,n+1,k);F[k]=V.b;
W=l+1;W+=V.size}else if(x[W]==">".charCodeAt(0)){W+=2;break}else{var i=x[W];if(i==10||i==9||i==32)W++;
else{console.log("unknown byte: "+i+", char: "+String.fromCharCode(i),W);W++}}}return W};eY._K=function(x,F,W,n){_.bP(F,W,"<<\n");
W+=3;var L=eY.arp;for(var $ in x){_.Hl(F,W,"\t".charCodeAt(0),n+1);W+=n+1;_.bP(F,W,"/"+$);W+=1+$.length;
if(L(x[$])||x[$]instanceof Array){_.bP(F,W," ");W++}else{_.bP(F,W,"\n");W++;_.Hl(F,W,"\t".charCodeAt(0),n+1);
W+=n+1}W=eY.v$(x[$],F,W,n+1);_.bP(F,W,"\n");W++}_.Hl(F,W,"\t".charCodeAt(0),n);W+=n;_.bP(F,W,">>");W+=2;
return W};eY.lF=function(x,F,W,n){var L=F,$={size:0,b:0};while(!0){while(x[F]==" ".charCodeAt(0)||x[F]=="\t".charCodeAt(0)||x[F]=="\n".charCodeAt(0))F++;
if(x[F]=="<".charCodeAt(0)){$.b={};F=eY.vx(x,$.b,F,W+1);break}else if(x[F]=="(".charCodeAt(0)){F+=3;
var l=F;while(!0){if(x[l-1]!="\\".charCodeAt(0)&&x[l]==")".charCodeAt(0)&&(x[l+1]=="\n".charCodeAt(0)||x[l+1]==" ".charCodeAt(0)))break;
else l++}$.b=_.ajq(x,F,l);F=l+2;break}else if(x[F]=="[".charCodeAt(0)){F++;$.b=[];while(x[F]==" ".charCodeAt(0)||x[F]=="\t".charCodeAt(0)||x[F]=="\n".charCodeAt(0))F++;
while(x[F]!="]".charCodeAt(0)){var k=eY.lF(x,F,W+1,n);$.b.push(k.b);F+=k.size;while(x[F]==" ".charCodeAt(0)||x[F]=="\t".charCodeAt(0)||x[F]=="\n".charCodeAt(0))F++}F++;
break}else{var V=_.indexOf(x," ".charCodeAt(0),F,F+50),i=_.indexOf(x,"\n".charCodeAt(0),F,F+50);if(i==-1)i=Infinity;
if(V==-1)V=Infinity;var f=_.xR(x,F,Math.min(V,i)-F).trim(),X=parseFloat(f);if(!isNaN(X)){$.b=parseFloat(f);
F=Math.min(V,i)+1;break}else if(f=="true"||f=="false"){$.b=f=="true";F=Math.min(V,i)+1;break}else if(f=="null"||f=="NaN"||f=="undefined"){$.b=0;
F=Math.min(V,i)+1;break}else{console.log("unknown identifier: "+f);throw"e"}F=Math.min(V,i)+1}}$.size=F-L;
return $};eY.v$=function(x,F,W,n){if(x instanceof Array){var L=x.length==0||typeof x[0]=="number";if(L){_.bP(F,W,"[ ");
W+=2;for(var w=0;w<x.length;w++){var $=x[w]+" ";_.bP(F,W,$);W+=$.length}_.bP(F,W,"]");W+=1}else{_.bP(F,W,"[\n");
W+=2;for(var w=0;w<x.length;w++){_.Hl(F,W,"\t".charCodeAt(0),n);W+=n;W=eY.v$(x[w],F,W,n);_.bP(F,W,"\n");
W++}_.Hl(F,W,"\t".charCodeAt(0),n);W+=n;_.bP(F,W,"]");W+=1}}else if(x instanceof Object){W=eY._K(x,F,W,n)}else if(typeof x=="string"){_.bP(F,W,"(");
W++;_.Hl(F,W,254);W++;_.Hl(F,W,255);W++;W=_.azR(F,W,x);_.bP(F,W,")");W+=1}else{var $=x+"";_.bP(F,W,$);
W+=$.length}return W};eY.arp=function(x){var F=typeof x;return F=="string"||F=="number"||F=="boolean"};
function j7(){}j7.cF=function(x){var F={};j7.aeJ(x,F,0,0);return F};j7.pm=function(x,F){var W=0;_.bP(F,W," ");
W++;W=j7.avX(x,F,W,0);W--;F.Gq(W,2);F.data[W]=F.data[W+1]=0;W+=2;return W};j7.vx=function(x,F,W,n){while(x[W]!="<".charCodeAt(0)){W++;
console.log("šipka")}W+=2;W=j7.aeJ(x,F,W,n);return W};j7._K=function(x,F,W,n){_.bP(F,W,"<< ");W+=3;W=j7.avX(x,F,W,n);
_.bP(F,W,">>");W+=2;return W};j7.PP=function(x){return x==9||x==10||x==32};j7.aeJ=function(x,F,W,n){while(!0){while(j7.PP(x[W])||x[W]==0)W++;
if(W>=x.length)break;if(x[W]=="/".charCodeAt(0)){W++;var L=W;while(!j7.PP(x[L]))L++;var $=_.xR(x,W,L-W);
W=L+1;var l=j7.lF(x,W,n,$);F["_"+$]=l.b;W+=l.size}else if(x[W]==">".charCodeAt(0)){W+=2;break}else{var k=x[W];
console.log(_.xR(x,W,W+100));console.log("unknown byte: "+k+", char: "+String.fromCharCode(k)+", offset: "+W);
W++;throw"e";return-1}}return W};j7.avX=function(x,F,W,n){for(var L in x){var $=L.substring(1,L.length);
_.bP(F,W,"/"+$);W+=1+$.length;_.bP(F,W," ");W++;W=j7.v$(x[L],F,W,n+1,$);_.bP(F,W," ");W++}return W};
j7.lF=function(x,F,W,n){var L=F,$={type:"",size:0,b:0};while(j7.PP(x[F]))F++;if(x[F]=="<".charCodeAt(0)){$.type="Object";
$.b={};F=j7.vx(x,$.b,F,W+1)}else if(x[F]=="(".charCodeAt(0)){$.type="String";F++;if(x[F]==")".charCodeAt(0)){$.b="e";
F++}else if(x[F]==254&&x[F+1]==255){F+=2;var l=F,k=0;while(!0){if(x[l]==")".charCodeAt(0)&&x[l-1]!="\\".charCodeAt(0))break;
else l+=1}$.b="s"+_.ajq(x,F,l);F=l+2}else{var l=F;while(x[l]!=")".charCodeAt(0))l++;$.b="s"+_.xR(x,F,l-F);
F=l+1}}else if(x[F]=="[".charCodeAt(0)){F++;$.b=[];$.type="Array";while(j7.PP(x[F]))F++;while(x[F]!="]".charCodeAt(0)){var V=j7.lF(x,F,W+1,n);
if(V==-1)return-1;$.b.push(V.b);F+=V.size;delete V.size;while(j7.PP(x[F]))F++}F++}else{var i=F;while(!j7.PP(x[i]))i++;
var f=_.xR(x,F,i-F),X=parseFloat(f);if(!isNaN(X)&&f.indexOf(".")!=-1){$.type="Float";var s=parseFloat(f);
$.b="f"+s}else if(!isNaN(X)&&f.indexOf(".")==-1){$.type="Integer";$.b="i"+parseInt(f)}else if(f=="true"||f=="false"){$.type="Boolean";
$.b=f=="true"}else if(f.charAt(0)=="/"){$.type="BString";$.b=f}else if(f=="NaN"||f=="undefined"){$.type="Float";
$.b="f0"}else{console.log("unknown value",JSON.stringify(f));throw"e"}F=i+1}$.size=F-L;return $};j7.akd=function(x){if(x==Math.round(x))return x+".0";
var F=x.toFixed(5);while(F.endsWith("0")&&F[F.length-2]!=".")F=F.slice(0,F.length-1);if(0<x&&x<1)F=F.slice(1);
if(-1<x&&x<0)F="-"+F.slice(2);return F};j7.v$=function(x,F,W,n,L){var $=typeof x=="string"?x.charAt(0):"";
if(x instanceof Array){_.bP(F,W,"[ ");W+=2;for(var w=0;w<x.length;w++){W=j7.v$(x[w],F,W,n,"");_.bP(F,W," ");
W++}_.bP(F,W,"]");W+=1}else if(x instanceof Object){W=j7._K(x,F,W,n)}else if($=="e"){_.bP(F,W,"()");
W+=2}else if($=="s"){_.bP(F,W,"(");W++;if(L=="97"){_.bP(F,W,x.slice(1));W+=x.length-1}else{_.Hl(F,W,254);
W++;_.Hl(F,W,255);W++;W=_.azR(F,W,x.slice(1))}_.bP(F,W,")");W++}else if($=="/"){_.bP(F,W,x);W+=x.length}else if($=="f"){var l=parseFloat(x.substring(1)),k=j7.akd(l);
_.bP(F,W,k);W+=k.length}else if($=="i"){_.bP(F,W,x.substring(1));W+=x.length-1}else{var k=x+"";_.bP(F,W,k);
W+=k.length}return W};function _(){}_.aCT=function(dx){var x="";for(var w=3;w>=0;w--)x+=String.fromCharCode(dx>>w*8&255);
return x};_.alZ=function(x){var dx=0;for(var w=x.length-1;w>=0;w--)dx|=x.charCodeAt(w)<<(3-w)*8;return dx};
_.indexOf=function(x,F,W,n){if(W==null)W=0;if(n==null)n=x.length;n=Math.min(n,x.length);for(var w=W;
w<n;w++)if(x[w]==F)return w;return-1};_.RS=function(x,F,W){if(W==null)W=0;var n=F.length,L=x.length-n;
if(typeof F=="string"){var $=[];for(var w=0;w<n;w++)$.push(F.charCodeAt(w));F=$}if(F.length>0){var l=F[0];
for(var w=W;w<L;w++)if(x[w]==l){var k=!0;for(var V=1;V<n;V++)if(F[V]!=x[w+V]){k=!1;break}if(k)return w}}return-1};
_.ajq=function(x,F,W){var n=[],$="";while(F<W){var L=x[F++];if(L=="\\".charCodeAt(0))n.push(x[F++]);
else n.push(L)}for(var w=0;w<n.length;w+=2)$+=String.fromCharCode(n[w]<<8|n[w+1]);return $};_.asj=function(x,F,W){var n=new Uint8Array(2);
for(var w=0;w<W.length;w++){_.zJ(n,0,W.charCodeAt(w));if(n[0]==")".charCodeAt(0)||n[0]=="(".charCodeAt(0)||n[0]=="\\".charCodeAt(0)){x[F]="\\".charCodeAt(0);
F++}x[F]=n[0];F++;if(n[1]==")".charCodeAt(0)||n[1]=="(".charCodeAt(0)||n[1]=="\\".charCodeAt(0)){x[F]="\\".charCodeAt(0);
F++}x[F]=n[1];F++}return F};_.azR=function(x,F,W){x.Gq(F,4*W.length);return _.asj(x.data,F,W)};_.UC=function(x,F,W){var n="";
for(var w=0;w<W;w++){var L=x[F++]|x[F++]<<8;n+=String.fromCharCode(L)}return n};_.Iu=function(x,F,W){var n="";
for(var w=0;w<W;w++){var L=x[F++]<<8|x[F++];n+=String.fromCharCode(L)}return n};_.amE=function(x,F,W){for(var w=0;
w<W.length;w++){var n=W.charCodeAt(w);_.j8(x,F+2*w,n)}};_.aaJ=function(x,F,W){for(var w=0;w<W.length;
w++){var n=W.charCodeAt(w);_.zJ(x,F+2*w,n)}};_.acZ=function(x,F,W){x.Gq(F,2*W.length);_.aaJ(x.data,F,W)};
_.aCw=function(x,w,F){var W=[],n=0,L=0;F+=w;while(w<F){n=x[w++];if((n&128)==0)L=n;else if((n&224)==192){L=(n&31)<<6;
n=x[w++];L|=n&63}else if((n&240)==224){L=(n&15)<<12;n=x[w++];L|=(n&63)<<6;n=x[w++];L|=n&63}else if((n&248)==240){L=(n&7)<<18;
n=x[w++];L|=(n&63)<<12;n=x[w++];L|=(n&63)<<6;n=x[w++];L|=n&63}else throw"e";W.push(L)}return W};_.axH=window.TextDecoder?new window.TextDecoder("utf8"):null;
_.NM=function(x,F,W){if(F==null)F=0;if(W==null)W=x.length;if(_.axH&&F==0&&W==x.length)return _.axH.decode(x);
var n=_.aCw(x,F,W),L=n.length;for(var w=0;w<L;w++)n[w]=String.fromCharCode(n[w]);return n.join("")};
_.ap4=window.TextEncoder?new window.TextEncoder("utf8"):null;_.Ug=function(x){if(_.ap4)return _.ap4.encode(x);
var F=new Uint8Array(x.length*4),W=_.S1(x,F,0);return F.slice(0,W)};_.S1=function(x,F,W){var n=x.length,w=0;
for(var L=0;L<n;L++){var $=x.charCodeAt(L);if(($&4294967295-(1<<7)+1)==0){F[W+w]=$;w++}else if(($&4294967295-(1<<11)+1)==0){F[W+w]=192|$>>6;
F[W+w+1]=128|$>>0&63;w+=2}else if(($&4294967295-(1<<16)+1)==0){F[W+w]=224|$>>12;F[W+w+1]=128|$>>6&63;
F[W+w+2]=128|$>>0&63;w+=3}else if(($&4294967295-(1<<21)+1)==0){F[W+w]=240|$>>18;F[W+w+1]=128|$>>12&63;
F[W+w+2]=128|$>>6&63;F[W+w+3]=128|$>>0&63;w+=4}else throw"e"}return w};_.h$=function(x,F){var W=_.q(x,F),n=_.NM(x,F+4,W-1);
return{TR:n,XY:4+W}};_.aAl=function(x,F){var W=_.$J(x,F),n=_.UC(x,F+4,W);return n};_.AM=function(x,F){var W=_.q(x,F),n=_.Iu(x,F+4,W);
return n};_.Rv=function(x,F){var W=_.q(x,F),n=_.Iu(x,F+4,W-1);return n};_.aqU=function(x,F,W){_.qG(x,F,W.length);
F+=4;_.amE(x,F,W)};_.aCx=function(x,F,W){_.kv(x,F,W.length);F+=4;_.aaJ(x,F,W)};_.nD=function(x,F,W){x.Gq(F,4+2*W.length);
_.aCx(x.data,F,W)};_.av5=function(x,F,W){x.Gq(F,4+2*W.length);_.aqU(x.data,F,W)};_.O_=function(x,F,W){var n=[];
for(var w=0;w<W;w++)n.push(String.fromCharCode(x[F+w]));return n};_.a6P=function(x,F,W){var n=!1,L=x.length-W.length;
for(var w=F;w<L;w++){for(var $=0;$<W.length;$++){if(x[w+$]!=W.charCodeAt($))break;if($==W.length-1)return w}}};
_.xR=function(x,F,W){var n="";for(var w=0;w<W;w++)n+=String.fromCharCode(x[F+w]);return n};_.Fl=function(x,F,W){for(var w=0;
w<W.length;w++)x[F+w]=W.charCodeAt(w)};_.bP=function(x,F,W){x.Gq(F,W.length);_.Fl(x.data,F,W)};_.agH=function(x,F,W){var n="";
for(var w=0;w<W;w++){var L=x[F+w];if(L<10)n+="  ";else if(L<100)n+=" ";n+=L+", "}return n};_.Vk=function(x,F){return x[F]<<8|x[F+1]};
_.zJ=function(x,F,dx){x[F]=dx>>8&255;x[F+1]=dx&255};_.el=function(x,F,dx){x.Gq(F,4);_.zJ(x.data,F,dx)};
_.gn=function(x,F){var W=_.Vk(x,F),n=_.Vk(x,F+2);return W+n*(1/65536)};_.a28=function(x,F,dx){var W=Math.floor(dx),n=Math.floor((dx-W)*65536);
_.zJ(x,F,W);_.zJ(x,F+2,n)};_.sZ=function(x,F){return x[F+1]<<8|x[F]};_.j8=function(x,F,dx){x[F+1]=dx>>8&255;
x[F]=dx&255};_.nu=function(x,F,dx){x.Gq(F,4);_.j8(x.data,F,dx)};_.mf=function(x,F){_.vy[0]=x[F+1];_.vy[1]=x[F];
return _.Is[0]};_.zn=function(x,F){_.vy[0]=x[F];_.vy[1]=x[F+1];return _.Is[0]};_.W7=_.zJ;_.WO=_.el;_.o3=function(x,F){_.Mr[0]=x[F+3];
_.Mr[1]=x[F+2];_.Mr[2]=x[F+1];_.Mr[3]=x[F];return _.p2[0]};_.jK=function(x,F,dx){_.p2[0]=dx;x[F+3]=_.Mr[0];
x[F+2]=_.Mr[1];x[F+1]=_.Mr[2];x[F+0]=_.Mr[3]};_.N6=function(x,F,dx){x.Gq(F,4);_.jK(x.data,F,dx)};_.YS=function(x,F,W,n){W[n+0]=x[F+0];
W[n+1]=x[F+1];W[n+2]=x[F+2];W[n+3]=x[F+3]};_.$J=function(x,F){_.YS(x,F,_.Mr,0);return _.aq0[0]};_.qG=function(x,F,dx){_.aq0[0]=dx;
_.YS(_.Mr,0,x,F)};_.UH=function(x,F,dx){x.Gq(F,4);_.qG(x.data,F,dx)};_.IY=function(x,F){_.YS(x,F,_.Mr,0);
return _.p2[0]};_.as1=function(x,F,dx){_.p2[0]=dx;_.YS(_.Mr,0,x,F)};_.aiS=function(x,F,dx){x.Gq(F,4);
_.as1(x.data,F,dx)};_.q=function(x,F){var W=x[F]*(256*256*256)+(x[F+1]<<16|x[F+2]<<8|x[F+3]);return W};
_.kv=function(x,F,dx){x[F]=dx>>24&255;x[F+1]=dx>>16&255;x[F+2]=dx>>8&255;x[F+3]=dx>>0&255};_.IJ=function(x,F,dx){x.Gq(F,4);
_.kv(x.data,F,dx)};_.cW=function(x,F){return _.q(x,F)<<32|_.q(x,F+4)};_.aqF=function(x,F,dx){_.kv(x,F,dx>>16>>16);
_.kv(x,F+4,dx&4294967295)};_.NF=function(x,F,dx){x.Gq(F,8);_.aqF(x.data,F,dx)};_.aJ=function(x,F){var W=new Uint8Array(8);
for(var w=0;w<8;w++)W[w]=x[F+7-w];var n=new Float64Array(W.buffer);return n[0]};_.rD=function(x,F){var W=new Uint8Array(8);
for(var w=0;w<8;w++)W[w]=x[F+w];var n=new Float64Array(W.buffer);return n[0]};_.yw=function(x,F,dx){var W=new Float64Array(1);
W[0]=dx;var n=new Uint8Array(W.buffer);for(var w=0;w<4;w++){var L=n[w];n[w]=n[7-w];n[7-w]=L}for(var w=0;
w<8;w++)x[F+w]=n[w]};_.S3=function(x,F,dx){x.Gq(F,8);_.yw(x.data,F,dx)};_.Pb=function(x,F){_.Mr[0]=x[F+3];
_.Mr[1]=x[F+2];_.Mr[2]=x[F+1];_.Mr[3]=x[F+0];return _.JK[0]};_.gs=function(x,F){_.Mr[0]=x[F+0];_.Mr[1]=x[F+1];
_.Mr[2]=x[F+2];_.Mr[3]=x[F+3];return _.JK[0]};_.zA=function(x,F,dx){_.JK[0]=dx;x[F+0]=_.Mr[3];x[F+1]=_.Mr[2];
x[F+2]=_.Mr[1];x[F+3]=_.Mr[0]};_.a6$=function(x,F,dx){x.Gq(F,4);_.zA(x.data,F,dx)};_.st=function(x,F,dx){_.JK[0]=dx;
x[F+0]=_.Mr[0];x[F+1]=_.Mr[1];x[F+2]=_.Mr[2];x[F+3]=_.Mr[3]};_.ans=function(x,F,dx){x.Gq(F,4);_.st(x.data,F,dx)};
_.asz=function(x,F){var W=_.o3(x,F),n=W*(1/(1<<24));return n};_.aiH=function(x,F,W){var n=Math.floor(W*(1<<24));
_.jK(x,F,n)};_.aC9=function(x,F,W){x.Gq(F,4);_.aiH(x.data,F,W)};_.pM=function(x,F){var W=x[F],n=_.xR(x,F+1,W);
W+=1-W%2;return{kc:n,length:W+1}};_.atJ=function(x,F,W){var n=W.length;x[F]=n;_.Fl(x,F+1,W);if(n%2==0){x[F+1+n]=0;
++n}return n+1};_.Io=function(x,F,W){x.Gq(F,W.length+2);return _.atJ(x.data,F,W)};_.F$=function(x,F){var W=new iJ;
W.V=_.aJ(x,F+0*8);W.z=_.aJ(x,F+1*8);W.Pu=_.aJ(x,F+2*8);W.P9=_.aJ(x,F+3*8);W.yq=_.aJ(x,F+4*8);W.Ze=_.aJ(x,F+5*8);
return W};_.Qa=function(x,F,W){_.yw(x,F+0*8,W.V);_.yw(x,F+1*8,W.z);_.yw(x,F+2*8,W.Pu);_.yw(x,F+3*8,W.P9);
_.yw(x,F+4*8,W.yq);_.yw(x,F+5*8,W.Ze)};_.aD0=function(x,F,W){x.Gq(F,48);_.Qa(x.data,F,W)};_.aDl=function(x,F){var W=_.Pb(x,F),n=_.Pb(x,F+4),L=_.Pb(x,F+8),$=_.Pb(x,F+12);
return new eu(W,n,L-W,$-n)};_.a1t=function(x,F,W){_.zA(x,F,W.x);_.zA(x,F+4,W.y);_.zA(x,F+8,W.x+W.m);
_.zA(x,F+12,W.y+W.e)};_.akr=function(x,F,W){x.Gq(F,16);_.a1t(x.data,F,W)};_.YL=function(x,F){var W=_.o3(x,F),n=_.o3(x,F+4),L=_.o3(x,F+8),$=_.o3(x,F+12);
return new eu(n,W,$-n,L-W)};_.ahp=function(x,F,W){_.jK(x,F,W.y);_.jK(x,F+4,W.x);_.jK(x,F+8,W.y+W.e);
_.jK(x,F+12,W.x+W.m)};_.wO=function(x,F,W){x.Gq(F,16);_.ahp(x.data,F,W)};_.xn=function(x,F,W){var n=new Uint8Array(W);
for(var w=0;w<W;w++)n[w]=x[F+w];return n};_.a2S=function(x,F,W){x.set(W,F)};_.uc=function(x,F,W){x.Gq(F,W.length);
_.a2S(x.data,F,W)};_.abS=function(x,F,W,dx){if(!dx)dx=1;for(var w=0;w<dx;w++)x[F+w]=W};_.Hl=function(x,F,W,dx){if(!dx)dx=1;
x.Gq(F,dx);_.abS(x.data,F,W,dx)};_.Is=new Int16Array(1);_.vy=new Uint8Array(_.Is.buffer);_.p2=new Int32Array(1);
_.aq0=new Uint32Array(_.p2.buffer);_.Mr=new Uint8Array(_.p2.buffer);_.JK=new Float32Array(_.p2.buffer);
function cJ(){}cJ.cF=function(x,F){var W=new Uint8Array(x),n=0,L=_.xR(W,n,9),k=4,V=100;n+=9;var $=_.xR(W,n,4);
n+=4;n++;F.m=_.q(W,n);n+=4;F.e=_.q(W,n);n+=4;var l=_.q(W,n);n+=4;if(l!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf($)==-1){V=_.q(W,n);n+=4;if(parseInt($.slice(1))>=7){V=V}else alert("Unknown XCF version: "+$);
k=8}var i={};n=cJ.QB(W,n,i);var f=[];n=cJ.NO(W,n,f,k);var X=[];n=cJ.NO(W,n,X,k);F.kC=0;for(var w=0;w<f.length;
w++)cJ.afd(W,f[w],F,i,k,V);while(F.kC>0){F.B.push(F.Nz());F.kC--}F.B.reverse();delete F.kC;F.buffer=r.R(F.m*F.e*4);
if(F.B.length==0)console.log("No layers!!!");for(var w=0;w<X.length;w++){var s=cJ.a6b(W,X[w],i,k,V);
if(s.oi[jZ.aj$])F.u={channel:s._I,rect:new eu(0,0,F.m,F.e)}}};cJ.afd=function(x,F,W,n,L,$){var l=W.dI(),k=_.q(x,F),X=0;
F+=4;var V=_.q(x,F);F+=4;l.rect=new eu(0,0,k,V);var i=_.q(x,F);F+=4;var f=_.h$(x,F);F+=f.XY;l.sc(f.TR);
var s={};F=cJ.QB(x,F,s);if(s[jZ.a77]){var R=s[jZ.a77];X=R.length/4-1}if(s[jZ.DO]){l.rect.x=_.o3(s[jZ.DO],0);
l.rect.y=_.o3(s[jZ.DO],4)}if(s[jZ.aDH]){l.opacity=_.q(s[jZ.aDH],0)}if(s[jZ.alT]){l.add.lsct=eD.en;l.xb=24}if(s[jZ.ajO]){var h=_.q(s[jZ.ajO],0);
l.q_=jZ.agI[h];if(l.vN()&&l.q_=="norm")l.q_="pass"}if(s[jZ.akB]){if(_.q(s[jZ.akB],0)==0)l.xb+=2}if(s[jZ.an5]){var B=_.q(s[jZ.an5],0);
l.add.lsct=B&1==1?eD.en:eD.Tn}if(s[jZ.V6]){var e=s[jZ.V6];for(var U in e){var o=e[U];if(U=="gimp-text-layer"){var b=cJ.ax6(o),u=b.text,Z=b.font,I=b.color,y=b["font-size"];
if(u==null&&b.markup){var D=new DOMParser,N=D.parseFromString(b.markup,"image/svg+xml");while(N.firstChild!=null&&N.firstChild.tagName!=null){N=N.firstChild;
var j=N.getAttribute("font"),H=N.getAttribute("foreground"),Q=N.getAttribute("size");if(j!=null)Z=j;
if(H!=null){H=CSS.po(H);I=[1,H.o/255,H.r/255,H.z/255]}if(Q!=null){y=""+parseFloat(Q)/245}}u=N.textContent}l.add.lnsr="rend";
l.add.TySh=iV.P3(0,0);l.add.TySh.pX=new eu(0,0,100,100);l.add.TySh.i=new iJ(1,0,0,1,l.rect.x,l.rect.y);
var C=l.add.TySh.OU;iV.yb(C,0,u);var J=iV.f3(C,0,0),E=b.justify,T=b["line-spacing"];if(I)J.oE.FillColor={Type:1,Values:[1,parseFloat(I[1]),parseFloat(I[2]),parseFloat(I[3])]};
if(y){y=Math.round(parseFloat(y));J.oE.FontSize=y;l.add.TySh.i.Ze+=Math.min(17,y*.17)}if(T){T=Math.round(parseFloat(T)+J.oE.FontSize*1.2);
J.oE.Leading=T;J.oE.AutoLeading=!1}if(E)J.wt.Justification=["left","right","center","fill"].indexOf(E);
if(Z&&Z!="Sans-serif"){var c=Z.toLowerCase(),a="bold italic semi extra regular condensed light".split(" "),K=c.length;
for(var w=0;w<a.length;w++){var Y=c.indexOf(a[w]);if(Y!=-1&&Y<K&&c[Y-1]==" ")K=Y}if(K!=c.length)Z=Z.slice(0,K-1).split(" ").join("")+"-"+Z.slice(K).split(" ").join("");
iV.hU(J,Z)}iV.Aj(C,0,u.length,J);var p=b["box-width"],P=b["box-height"],m=p?parseFloat(p):l.rect.m,z=P?parseFloat(P):l.rect.e;
iV.xC(C,1);iV.J3(C,[0,0,Math.ceil(m),Math.ceil(z)])}else console.log("Unknown property "+U)}}while(W.kC>X){W.B.push(W.Nz());
W.kC--}W.kC=X;if(l.add.lsct==eD.en||l.add.lsct==eD.Tn)W.kC++;var M=L==4?_.q:_.cW,d=M(x,F);F+=L;var A=M(x,F);
F+=L;if(l.aQ()){l.buffer=r.R(l.rect.P()*4);var G=new r.Co(l.rect.P());cJ.acE(x,d,G,n,L,$);r.qe(G,l.buffer)}if(A!=0){l.F=new t.gm;
var kB=cJ.a6b(x,A,n,L,$);l.F.channel=kB._I;l.F.rect=l.rect.clone();if(s[jZ.a2m])l.F.isEnabled=_.q(s[jZ.a2m],0)==1;
l.F.color=l.F.channel[0];l.F.iv()}if(l.vN())l.rect=new eu;W.B.push(l)};cJ.ax6=function(x){var F="("+_.NM(x,0,x.length-1)+")",W=[],n={};
cJ.ass(F,1,W);cJ.ah4(W,n);return n};cJ.ah4=function(x,F){for(var w=0;w<x.length;w++){var W=x[w],n=W[0];
if(W.length==2)F[n]=W[1];else F[n]=W.slice(1)}};cJ.ass=function(x,F,W){while(!0){if(F>=x.length)throw"e";
var n=x.charAt(F);F++;if(n=="("){var L=[];F=cJ.ass(x,F,L);W.push(L)}else if(n==" "||n=="\n"||n=="\r"){}else if(n==")")return F;
else if(n=="\""){var $=F;while(!0){var l=x[F];F++;if(l=="\"")break;if(l=="\\")F++}W.push(JSON.parse(x.slice($-1,F)))}else{var $=F-1;
while(x[F]!=" "&&x[F]!=")")F++;W.push(x.slice($,F))}}};cJ.a6b=function(x,F,W,n,L){var $=_.q(x,F);F+=4;
var l=_.q(x,F);F+=4;var k=_.h$(x,F);F+=k.XY;var V={};F=cJ.QB(x,F,V);var i=new r.Co($*l),f=n==4?_.q:_.cW,X=f(x,F);
F+=n;cJ.acE(x,X,i,W,n,L);return{_I:i.o,oi:V}};cJ.acE=function(x,F,W,n,L,$){var l=_.q(x,F);F+=4;var k=_.q(x,F);
F+=4;var V=_.q(x,F);F+=4;var i=L==4?_.q:_.cW,f=i(x,F);F+=L;cJ.avc(x,f,W,n,V,L,$)};cJ.avc=function(x,F,W,n,L,$,l){var k=_.q(x,F),f=0,w=0;
F+=4;var V=_.q(x,F);F+=4;var i=new eu(0,0,k,V);if(l==100||l==150)f=1;else if(l==200||l==250)f=2;else if(l==300||l==350)f=4;
else if(l==500||l==550)f=2;else if(l==600||l==650)f=4;else if(l==700||l==750)f=8;else{alert("unsupported bit depth "+l);
throw"e"}var X=L/f,f=Math.round(L/X),s=[];F=cJ.NO(x,F,s,$);var R=new r.Co(64*64*f),h=new eu,B=n[jZ.az7][0],e=[R.o,R.r,R.z,R.V];
if(X==3)R.V.fill(255);var U=Date.now();if(s.length!=0)for(var o=0;o<V;o+=64)for(var b=0;b<k;b+=64){var u=Math.min(k-b,64),Z=Math.min(V-o,64),I=u*Z;
h.xz(b,o,u,Z);cJ.azZ(x,s[w++],I*f,B,X,e);if(l==100||l==150){}else if(l==250){for(var y=0;y<X;y++){var D=e[y];
for(var N=0;N<I;N++){var j=D[N]<<8|D[I+N];D[N]=Math.min(j>>>8,255)}}}else if(l==600){var H=cJ.aDk(),Q=new Uint32Array(1),C=new Float32Array(Q.buffer);
for(var y=0;y<X;y++){var D=e[y];for(var N=0;N<I;N++){Q[0]=D[N]<<24|D[I+N]<<16|D[(I<<1)+N]<<8|D[(I<<1)+I+N]<<0;
var J=C[0];if(J<0)J=0;else if(J>1)J=1;D[N]=H[~~(.5+J*1e3)]}}}else console.log("unknown data format",l);
r.ul(R,h,W,i)}};cJ.aDk=function(){var x=cJ.aqk;if(x!=null)return x;x=cJ.aqk=new Uint8Array(1001);for(var w=0;
w<1001;w++)x[w]=~~(.49+255*r.sW(w*.001));return x};cJ.azZ=function(x,F,W,n,L,$){if(n==1){for(var l=0;
l<L;l++){var k=$[l],V=0;while(V<W){var dx=x[F];F++;if(dx<127){var i=x[F];F++;dx++;for(var w=0;w<dx;w++)k[V+w]=i}else if(dx==127){var f=x[F];
F++;var X=x[F];F++;var i=x[F];F++;dx=f<<8|X;for(var w=0;w<dx;w++)k[V+w]=i}else if(dx==128){var f=x[F];
F++;var X=x[F];F++;dx=f<<8|X;for(var w=0;w<dx;w++)k[V+w]=x[F+w];F+=dx}else{dx=256-dx;for(var w=0;w<dx;
w++)k[V+w]=x[F+w];F+=dx}V+=dx}}}else if(n==2){var s=pako.inflate(x.slice(F)),R=Math.round(s.length/W);
for(var w=0;w<W;w++){var h=w*R;$[0][w]=s[h];$[1][w]=s[h+1];$[2][w]=s[h+2];$[3][w]=R==3?255:s[h+3]}}else alert("Unknown compression "+n)};
cJ.NO=function(x,F,W,n){var L=n==4?_.q:_.cW;while(!0){var $=L(x,F);F+=n;if($==0)break;else W.push($)}return F};
cJ.QB=function(x,F,W){while(!0){var n=_.q(x,F);F+=4;var L=_.q(x,F);F+=4;if(n==jZ.a57)break;else if(n==jZ.V6)W[n]=cJ.a5k(x,F,F+L);
else W[n]=_.xn(x,F,L);F+=L}return F};cJ.a5k=function(x,F,W){var n={};while(F<W){var L=_.h$(x,F);F+=L.XY;
var $=_.q(x,F);F+=4;if($!=1)console.log("unknown flags",$);var l=_.q(x,F);F+=4;n[L.TR]=_.xn(x,F,l);F+=l}return n};
var jZ={a57:0,a9u:1,agn:2,aAg:3,aj$:4,azI:5,aDH:6,ajO:7,akB:8,aou:9,av_:10,a2m:11,aCY:12,apU:13,a3Z:14,DO:15,amA:16,az7:17,aoc:18,agz:19,afn:20,V6:21,a67:22,a4q:23,a9X:24,aia:25,aj2:26,a9B:27,a7W:28,alT:29,a77:30,an5:31,ajd:32,a4A:33,ar9:34,aut:35,ax3:36,amY:37,aDb:38,aCG:0,ae6:1,aae:2,a1Y:3,aa1:1,asZ:2,ap7:0,ax8:1,auH:1};
jZ.agI="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var jc=function(){var x=!1,F,W,U=0,u;function n(){var y=_.xR(F,W,4);W+=4;return y[3]+y[2]+y[1]+y[0]}function L(){var y=_.xR(F,W,4);
W+=4;return y}function $(){var y=F[W];W+=1;return y}function l(){var y=_.sZ(F,W);W+=2;return y}function k(){var y=_.$J(F,W);
W+=4;return y}function V(){var y=_.IY(F,W);W+=4;return y}function i(){var y=_.$J(F,W);W+=8;return y}function f(){var y=_.gs(F,W);
W+=4;return y}function X(){var y=_.rD(F,W);W+=8;return y}function s(){var y=_.sZ(F,W),D=_.NM(F,W+2,y);
W+=2+y;return D}function R(){var y=_.$J(F,W),D=_.NM(F,W+4,y);W+=4+y;return D}function h(y){W=y;var D=[];
while(W!=0){var N=L();if(N!="#FT4"&&N!="#FT3"&&N!="#FT2")throw N;var j=i(),H=i(),Q=i(),C=i(),J=i(),E=k(),T=k(),c=k(),a=l(),K=$(),Y={};
D.push(Y);for(var w=0;w<E;w++){var p=k(),P=$();if(P!=0&&P!=1&&P!=2)throw P;var m=[];if(P==0||P==1){var z=i(),M=i(),d=i(),A=k(),G=$(),kB=k(),q=N!="#FT4"?0:k(),fO=null;
if(N=="#FAT"||N=="#FT2"){switch(G){case 1:G=1;break;case 2:G=65;break;case 3:G=129;break;case 4:G=193;
break;default:G=0;break}}if(P==0)fO=s();m=[z,M,d,G,fO]}Y["i"+p]=[P,m]}for(var w=0;w<a;w++){var g=l(),jN=l(),c6=i(),a7=_.xR(F,W,g);
W+=g}W=j}D.reverse();for(var bd=1;bd<D.length;bd++){var Y=D[bd],ey=D[bd]=JSON.parse(JSON.stringify(D[bd-1]));
for(var c5 in Y){var bx=Y[c5];if(bx[0]==0)ey[c5]=bx;else if(bx[0]==1){bx[1][4]=ey[c5][1][4];ey[c5]=bx}else if(bx[0]==2)delete ey[c5]}}var ap=D.pop(),fC=[];
for(var c5 in ap)fC.push(ap[c5][1]);fC.sort(function(kE,bm){return kE[0]-bm[0]});return fC}function B(y,D,N,j){while(W<F.length){var H=$(),E=null;
if(H==0){if(j){var Q=$();if(Q!=2){var C=n()}if(Q==0)W+=4;j=!1;continue}else{break}}var J=n();if(x)console.log("  ".repeat(D),H,H&127,J,y._type);
if(H>127)E=e(H,D,N);else E=o(H,D,N);if(x)console.log("  ".repeat(D),E);y[J]=E}}function e(y,D,N){var j=[];
y=y&127;if(y==43)W+=4;var H=k();if(y==50){var Q=n(),C=l();if(C!=1)throw"e";for(var w=0;w<H;w++){var J={_status:"NotShared",_type:Q};
j.push(J);var E=$();if(E!=1)throw E;B(J,D+1,N)}}else if(y==41){if(H>8)throw H;for(var w=0;w<H;w++)j.push((F[W]>>>w&1)==1);
W++}else for(var w=0;w<H;w++){j.push(o(y,D,N,w!=0));if(y==42)y=2}return j}function o(y,D,N,j){var H=null;
if(y==49){H={};var Q=$();if(Q!=0){var C=k();if(N==null){H._id=C;H._status=["Shared","Link"][Q-1]}if(N&&Q==2)H=N[C];
if(Q==1){if(N)N[C]=H;var J=$(),E=!1;if(J>1)throw J;H._type=n();if(x)console.log("  ".repeat(D),"new",H._type,J,W);
if(J==0){while(!0){var T=l();if(T!=0&&T!=1&&T!=2&&T!=3&&T!=4)throw T;if(F[W]!=0){E=!0;break}var c=l();
if(c==512)break;var a=n();if(c==256)break}}B(H,D+1,N,E)}}}else if(y==50){H={_status:"NotShared"};if($()==1){H._type=n();
W+=2;B(H,D+1,N)}}else if(y==1)H={type:"byte",value:$()};else if(y==2)H={type:"uint16",value:l()};else if(y==3)H={type:"uint32",value:k()};
else if(y==4)H={type:"uint64",value:i()};else if(y==7)H={type:"int32",value:V()};else if(y==8)H={type:"int64",value:i()};
else if(y==9)H={type:"float32",value:f()};else if(y==10)H={type:"float64",value:X()};else if(y==21)H={type:"Vec2i",value:[k(),k()]};
else if(y==23)H={type:"Vec4i",value:[k(),k(),k(),k()]};else if(y==33)H={type:"Vec4f",value:[f(),f(),f(),f()]};
else if(y==36)H={type:"Vec2",value:[X(),X()]};else if(y==38)H={type:"Vec4",value:[X(),X(),X(),X()]};
else if(y==40)H={type:"Vec6",value:[X(),X(),X(),X(),X(),X()]};else if(y==41)H={type:"bool",value:$()!=0};
else if(y==42)H={type:"Enum",value:k()};else if(y==43)H={type:"string",value:R()};else if(y==44){if(j!=!0)U=l();
H={type:"curv16",value:[X(),U==12?[$(),$(),$(),$()]:[k(),k()]]}}else if(y==45){var K=k();H={type:"buff",value:F.slice(W,W+K)};
W+=K}else if(y==47){H={type:"uint32",value:k()}}else if(y==48){var Y=[],p=l();if(p!=1)throw p;while(!0){if(F[W]==135){var P=e($(),D+1,N),m=e($(),D+1,N),z=e($(),D+1,N);
Y.push([P,m,z])}else{var M=1;if(F[W]==3){$();M=k()}for(var w=0;w<M;w++){if($()!=41)throw"e";var C=$();
if(C!=0&&C!=1)throw C;if($()!=172)throw"e";var d=k(),A=l(),G=[];Y.push(G);if(A!=18)throw A;if(d>4e3)throw d;
for(var kB=0;kB<d;kB++)G.push([X(),X(),$(),$()])}}if(F[W]==0){W++;break}}H={type:"curve",value:Y}}else if(y==51){H={type:"EmbeddedData"};
H[n()]=R()}else if(y==52)H={type:"uint32",value:k()};else if(y==56)H={type:"Color32",value:[$(),$(),$(),$()]};
else if(y==60)H={type:"ColorGRAY",value:[f(),f()]};else if(y==68)H={type:"ColorRGBA",value:[f(),f(),f(),f()]};
else if(y==72)H={type:"ColorCMYK",value:[f(),f(),f(),f(),f()]};else{throw y}return y==49||y==50||y==51?H:H.value}function b(y){var D=0,N=y.length;
for(var w=0;w<N;w++)y[w]=D=D+y[w]&255}function Z(y){F=y;W=4;var D=k(),N=L();if(N!="nsrP")throw N;var N=L();
if(N!="#Inf")throw N;var j=i();u=i();var H=i(),Q=i(),C=i(),J=k(),E=k(),N=L();if(N!="Prot")throw N;var J=k(),T=h(j),c={},a=Date.now();
for(var K=0;K<T.length;K++){var Y=T[K],p=Y[3],d=null;W=Y[0];var N=L();if(N!="#Fil")throw N;var P=p>>>5&1,m=p&3,z=p&192;
switch(z){case 64:z=1;P=0;break;case 128:z=2;break;case 192:z=3;break;default:z=0;P=0}var M=new Uint8Array(F.buffer,W,Y[2]);
if(m==0)d=M;else if(m==1)d=pako.inflate(M);else if(m==2)d=jW.gx.kY(M,Y[1]);else throw m;if(P==0){if(z==1)b(d);
if(z==2)throw"e"}else if(P==1){if(z==2)b(d);else throw z}else throw P;c[Y[4]]=d}return c}function I(y){var D=Z(new Uint8Array(y));
F=D["doc.dat"];W=16;var N={};B(N,0,[]);return[D,N,u]}return{agR:I}}();function cg(){}cg.cF=function(){function x(R,h){var B=Date.now(),e=jc.agR(R),U=e[0],o=e[1],b=e[2],u=o.DocR,Z=u.DfSz,I=u.Chld;
if(I.length!=1)console.log(I);var y=I[0],D=y.SprB;I=y.Chld;h.m=~~D[2];h.e=~~D[3];h.buffer=r.R(h.m*h.e*4);
var N=[0,{}];for(var w=0;w<I.length;w++)L(I[w],h,U,new iJ,N,0);h.jY(N[0]);console.log(Date.now()-B,"Document created");
B=Date.now()}function F(R){return new iJ(R[0],R[3],R[1],R[4],R[2],R[5])}function W(R,h){var B=h.Xfrm;
B=B?F(B):new iJ;B.concat(R);return B}function n(R){var h={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[R];
return h?h:"norm"}function L(R,h,B,e,U,o){var b=R._type,u=R.Chld,Z=h.dI();Z.sc(R.Desc==null||R.Desc==""?b=="Grup"?"Folder":"Layer":R.Desc);
Z.FH(R.Visi);Z.opacity=Math.round(255*R.Opac);if(R.FOpc!=1)Z.add.iOpa=Math.round(255*R.FOpc);var I=R.Blnd;
if(I!=null)Z.q_=n(I);var y=W(e,R),D=b=="ShpN"||b=="PCrv";if(u){h.B.push(h.Nz());Z.add.lsct=eD.en;Z.q_="pass";
Z.xb=24;if(b=="ShpN"){var N=R.ShpB;Z.lK(new eu(N[0]+y.yq,N[1]+y.Ze,N[2]-N[0],N[3]-N[1]));U[0]++;Z.add.artb.Clr={t:"Objc",v:r.I.GB({o:255,r:255,z:255})}}for(var w=0;
w<u.length;w++)L(u[w],h,B,y,U,o+1)}else if(b=="Rstr"||b=="ImgN"||b=="MRst"){var j=R.Bitm,H=j.Bckg,Q=Date.now(),C;
if(H==null){C=i(j,B,U[1]);Z.rect=C[2].clone();Z.buffer=C[1].slice(0);Z.rect.x+=y.yq;Z.rect.y+=y.Ze}if(H||y.NX()!=1){var J,E=0,T=0;
if(H){var c=B[H.Data],a=_.RS(c,"ataD")+4,K=_.$J(c,a);a+=4;J=c.slice(a,a+K)}else{E=Z.rect.x-y.yq;T=Z.rect.y-y.Ze;
if(C[3]==null)C[3]=new Uint8Array(jW.w0("PNG").Rd([[Z.buffer.buffer]],Z.rect.m,Z.rect.e));J=C[3].slice(0)}var Y=h.sP(J,Z.getName(),0,0);
Y.xb=Z.xb;Y.opacity=Z.opacity;Z=Y;var p=new iJ;p.translate(E,T);p.concat(y);var P=Z.rect.clone();P.x=P.y=0;
var m=r.Z.o4(P).p;r.Z.i(m,p,m);Z.add.SoLd.Trnf=O.Y.ud(m);Z.add.SoLd.nonAffineTransform=O.Y.ud(m);Z.Bw(h,!1)}}else if(b=="TxtA"||b=="TxtF"){Z.add.lnsr="rend";
Z.add.TySh=iV.P3(0,0);Z.add.TySh.pX=new eu(0,0,100,100);var z=R.TxtH.FrmB,M=1,d=1,A=Z.add.TySh.i=new iJ,g=0;
A.translate(z[0],z[1]);A.concat(y);if(b=="TxtF"){var G=Math.atan2(-A.z,A.V);A.rotate(-G);M=A.V;d=A.P9;
A.P9=A.V=1;A.rotate(G)}var kB=Z.add.TySh.OU,q=R.StSt,fO=q.Blok;if(fO.length!=1)throw"e";for(var jN=0;
jN<fO.length;jN++){var c6=fO[jN],a7=g,bd=0,ey=c6.Glyp.Utf8;if(ey==null)continue;ey=ey.replace(/\u2028/g,"\n");
ey=ey.replace(/\u2029/g,"\n");ey=ey.slice(0,ey.length-1);if(ey=="")continue;Z.sc(ey.slice(0,255));iV.yb(kB,g,ey);
g+=ey.length;var c5=c6.GAtt.Runs,bx=c6.PAtt.Runs[0],ap=bx.Item.Ints[0];for(var fC=0;fC<c5.length;fC++){var kE=c5[fC],bm=kE.Indx,fe=kE.Item,g8=fe.Objs,e0=iV.f3(kB,a7,1);
e0.wt.Justification=ap==0?0:ap==1?2:1;iV.hU(e0,fe.DFnt.Post);e0.oE.FontSize=fe.Doub[0];for(var w=0;w<g8.length;
w++){var cF=g8[w];if(cF._type=="FDsc"){var ei=cF.FDeF;if(ei._type=="FilS"){var cr=V(ei.Colr);e0.oE.FillColor={Type:1,Values:[1,cr[0],cr[1],cr[2]]}}}}iV.Aj(kB,a7+bd,a7+Math.min(bm,ey.length),e0);
bd=bm}}iV.xC(kB,1);iV.J3(kB,[0,0,Math.round((z[2]-z[0])*M),Math.round((z[3]-z[1])*d*1.2)]);h.Sv=!0}else if(D){Z.xb|=16;
var e_=Z.add.vstk=eC.pr.Iz(!0),gg=Z.add.vmsk=$(R);r.j.js(gg.$,y);if(R.BFFl){var bW=R.BFFl[0].FDeF,gx=bW._type;
if(gx=="FilS")Z.add.SoCo={classID:"null",Clr:k(bW.Colr)};else if(gx=="FilG"){var h$=Z.add.GdFl=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]);
l(bW,h$)}else if(gx=="FilN"){Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:0,r:0,z:0})}};e_.fillEnabled.v=!1}else console.log(gx)}if(R.LILn){var dH=R.LILn[0].LDeL,aB=dH.Wght;
if(aB!=0){e_.strokeEnabled.v=!0;e_.strokeStyleLineWidth.v.val=aB;var bW=R.LIFl[0].FDeF,gx=bW._type;if(gx=="FilS")e_.strokeStyleContent.v.Clr=k(bW.Colr);
else if(gx=="FilN")e_.strokeEnabled.v=!1}}Z.oO();Z.pZ(h)}else console.log(b);var gB=R.AdCh,jy=[];if(gB)for(var w=0;
w<gB.length;w++){var aV=gB[w],ie=aV._type;if(ie=="ShpN"||ie=="PCrv"){var gg=Z.add.vmsk=$(aV),cT=W(y,aV);
r.j.js(gg.$,cT);Z.oO();Z.pZ(h)}else if(aV.AdjP){var a_=aV.AdjP,gs=a_._type,gq={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[gs];
if(gq==null){console.log(a_);continue}var kr=ew.Il(gq,{});jy.push(kr);var iN=kr.v.Fltr.v;if(gs=="LevP"){var jH=ef.EJ(iN,0);
jH[0]=a_.OutB*255;jH[1]=a_.OutW*255;ef.Mm(iN,0,jH)}else if(gs=="WhBP"){var jH=ef.EJ(iN,2);jH[4]=100+a_.WBTi*20;
ef.Mm(iN,2,jH);var jH=ef.EJ(iN,3);jH[4]=100+a_.WBTi*200;ef.Mm(iN,3,jH)}else if(gs=="HSSP"){var jH=im.EJ(iN,0);
jH[0]=Math.round(a_.HueA*256);jH[1]=Math.round(a_.SatA*256);jH[2]=Math.round(a_.LumA*256);im.Mm(iN,0,jH)}else if(gs=="RecP"){iN.Clrz.v=!0;
var jH=im.EJ(iN,0);jH[0]=Math.round(a_.RecH*100);jH[1]=Math.round(a_.RecS*100);jH[2]=Math.round(a_.RecL*100);
im.Mm(iN,0,jH)}else if(gs=="B&CP"){iN.Brgh.v=Math.round(a_.Brig*100);iN.Cntr.v=Math.round(a_.Ctrs*100-100)}else if(gs=="PosP"){iN.Lvls.v=a_.Post}else if(gs=="VibP"){iN.vibrance.v=a_.Vibr-100;
iN.Strt.v=Math.round(a_.Satu*100)}else if(gs=="ExpP"){iN.Exps.v=a_.Expo;iN.gammaCorrection.v=a_.Gamm/2.2}else if(gs=="ThrP"){iN.Lvl.v=Math.round(a_.Thre*255)}else if(gs=="CrvP"){var h2=a_.Mast["Cnt "],an=a_.Mast.Vals,jH=jL.EJ(iN,0),bt=jH[0];
for(var kH=0;kH<h2;kH++){var js=jH[kH]=JSON.parse(JSON.stringify(bt));js.v.Hrzn.v=Math.round(an[kH]*255);
js.v.Vrtc.v=Math.round(an[4+kH]*255)}jL.Mm(iN,0,jH)}}else console.log(aV)}if(jy.length!=0&&Z.add.SoLd){Z.add.SoLd.filterFX=ew.yp();
h.Ky({id:Z.add.SoLd.placed.v,rect:new eu,buffer:r.R(1),F:new t.gm});Z.add.SoLd.filterFX.v.filterFXList.v=jy;
Z.Bw(h,!1)}var gA=R.FiEf;if(gA&&gA.length!=0){var jR=Z.add.lmfx=JSON.parse(eC.default);for(var w=0;w<eC.order.length;
w++)jR[eC.UM[w]]={t:"VlLs",v:[]};for(var c3=0;c3<gA.length;c3++){var iU=gA[c3],hn=iU._type,db={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[hn],h$=db?JSON.parse(eC.bc[eC.order.indexOf(db)]):null;
if(hn=="ColO"){h$.Clr=k(iU.Colr)}else if(hn=="GrdO"){l(iU.GrFl.FDeF,h$)}else if(hn=="Shad"||hn=="InnS"||hn=="OutG"||hn=="InnG"){h$.Clr=k(iU.Colr);
h$.blur.v.val=Math.round(iU.Radi/2.4);if(iU.Offs!=null){h$.Dstn.v.val=iU.Offs;h$.lagl.v.val=Math.round(180-iU.Angl*180/Math.PI);
h$.uglg.v=!1}}else if(hn=="Strk"){h$.Clr=k(iU.Colr);h$.Sz.v.val=Math.round(iU.Radi)}else if(hn=="PhgB"||hn=="BevE"){h$.blur.v.val=Math.round(iU.Radi);
if(hn=="BevE")h$.bvlS.v.BESl="PlEb"}else if(hn=="Gaus"){if(D&&iU.Enab){Z.add.vmsk.vX=iU.Radi/2.4;Z.add.vmsk.DQ=!0;
Z.oO();Z.pZ(h)}}if(db){h$.enab.v=iU.Enab;if(h$.Md&&iU.BlnM!=null)h$.Md.v.BlnM=a2.KN(n(iU.BlnM));if(h$.Opct&&iU.Opac!=null)h$.Opct.v.val=Math.round(iU.Opac*100);
var dy=eC.UM[eC.order.indexOf(db)];jR[dy].v.unshift({t:"Objc",v:h$})}}}h.B.push(Z)}function $(R){var h=new t.C$,B=R._type;
if(B=="PCrv"){var e=R.Crvs.Data,U=[],o=[];for(var w=0;w<e.length;w++){var b=e[w],u=b.length%3;if(u!=1){b=u==2?b[0][2]!=0?b.slice(0,b.length-1):b.slice(1):b.slice(1,b.length-1)}for(var Z=0;
Z<b.length;Z++){var I=b[Z],y=I[2];if(y!=0)U.push(Z==0?"M":"C");o.push(I[0],I[1])}}h.$=r.Z.zI({p:o,G:U},!0)}else{var D=R.ShpB,N=R.Shpe,j=N._type,H=D[2]-D[0];
if(j=="ShpE"){h.$=r.j.sk.Dd(D[0],D[1],D[2]-D[0],D[3]-D[1])}else if(j=="ShNR"){var Q=[0,0,0,0];if(N.CTyp){Q=N.ShCR.slice(0);
for(var w=0;w<4;w++)Q[w]*=D[2]-D[0]}h.$=r.j.sk.Rect(D[0],D[1],D[2]-D[0],D[3]-D[1],Q)}else if(j=="ShpT"){h.$=r.Z.zI({G:["M","L","L","Z"],p:[D[0],D[3],D[2],D[3],D[0]+H*.5,D[1]]},!0)}else if(j=="ShTz"){h.$=r.Z.zI({G:["M","L","L","L","Z"],p:[D[0]+H*N.PosL,D[1],D[0]+H*N.PosR,D[1],D[2],D[3],D[0],D[3]]},!0)}else{console.log("--",j);
h.$=r.j.sk.Rect(D[0],D[1],D[2]-D[0],D[3]-D[1],[0,0,0,0])}}return h}function l(R,h){var B=R.Grad,e=B.Cols;
h.Type.v.GrdT=R.Type==0?"Lnr":"Rdl";var U=[];for(var w=0;w<e.length;w++){var o=V(e[w]);U.push([B.Posn[w][0],o])}h.Grad.v.Intr.v=0;
r.I.yT(U,h.Grad.v);var b=B.Posn,u=new eX(b[0][0],b[0][1]),Z=new eX(b[1][0],b[1][1]);if(R.Type==0)u=new eX((u.x+Z.x)/2,(u.y+Z.y)/2);
r.I.cD(u,Z,new eu(0,0,1,1),h)}function k(R){var h=V(R);return{t:"Objc",v:r.I.GB({o:h[0]*255,r:h[1]*255,z:h[2]*255})}}function V(R){var h=R._col,B=R._type;
if(B=="HSLA"){var e=r.Eh(h[0],h[1],h[2]);return[e.o,e.r,e.z,h[3]]}else if(B=="RGBA")return h;else if(B=="CMYK")return r.go(h);
else if(B=="GRAY")return[h[0],h[1],h[2]];else{console.log(h);throw B}}function i(R,h,B){var e=R.Frmt,Q="";
if(e!=0&&e!=1&&e!=4&&e!=6)throw e;var U=R.BmpW,o=R.BmpH,b=e==1?128:256,u=e==4?5:e==0||e==1?4:1,Z=Math.ceil(U/b),I=Math.ceil(o/256),y=new eu(0,0,Z,I),D=new eu;
for(var w=0;w<u;w++){var N=new Uint8Array(R["Sta"+(w+1)]),j=r.c_(N,y);D=D.oA(j)}var H=[];for(var w=0;
w<u;w++){var N=new Uint8Array(R["Sta"+(w+1)]),C=r.R(D.P());r.Hz(N,y,C,D);H[w]=[];for(var J=0;J<C.length;
J++)H[w][J]=C[J];Q+=JSON.stringify(H[w])+","+JSON.stringify(R["Idx"+(w+1)])+","}if(B[Q]==null){var E=D.m*b,T=D.e*256,c=new Array(u);
for(var w=0;w<u;w++){var N=c[w]=new Uint8Array(E*T);f(N,R["Idx"+(w+1)],H[w],h,E,T,b)}var a=r.R(E*T*4);
if(e==0||e==1)r.qe({o:c[0],r:c[1],z:c[2],V:c[3]},a);else if(e==4){for(var w=0;w<c[0].length;w++){var K=w*4,Y=c[0][w]*(1/255),p=c[1][w]*(1/255),P=c[2][w]*(1/255),m=c[3][w]*(1/255),z=UDOC.C.cmykToRgb([Y,p,P,m]);
a[K]=z[0]*255;a[K+1]=z[1]*255;a[K+2]=z[2]*255;a[K+3]=c[4][w]}}else{a.fill(255);r.Mi(c[0],a)}var M=new eu(0,0,E,T),d={buffer:a,rect:M};
r.L4(d);B[Q]=[d.rect,d.buffer]}var j=B[Q][2]=B[Q][0].clone();j.x+=D.x*b;j.y+=D.y*256;return B[Q]}function f(R,h,B,e,U,o,b){var u=0,Z=U>>>(b==256?8:7),I=o>>>8;
for(var y=0;y<I;y++)for(var D=0;D<Z;D++){var N=D*b,j=y*256,H=y*Z+D,Q=j*U+N,C=B[H];if(C<=1)X(R,Q,0,U,b,256);
else if(C==2)X(R,Q,4294967295,U,b,256);else if(C==4){var J=h[u];u++;var E=e[J.Data.DatI],T=J.Rect;if(T==null)T=[0,0,b,256];
X(R,Q,0,U,b,256);s(R,(j+T[1])*U+N+T[0],E,T[1]*b+T[0],U,b,T[2]-T[0],T[3]-T[1])}else console.log(C)}}function X(R,h,B,e,U,o){var b=h+e*o;
for(;h<b;h+=e){var u=h+U;for(var Z=h;Z<u;Z++){R[Z]=B}}}function s(R,h,B,e,U,o,b,u){var Z=h+U*u,I=e+o*u;
for(;h<Z&&e<I;h+=U,e+=o){for(var w=0;w<b;w++)R[h+w]=B[e+w]}}return x}();function ff(){}ff.cF=function(x,F){var W=ff,n=fv.parse(x),$=0;
if(n.pages.length>1)console.log(n.pages.length,"pages");var L=[],l=new eu;for(var k=0;k<n.pages.length;
k++){var V=n.pages[k],i=V.layers,f=W.KR(i,k),s=!1;if(f.P()>8e3*8e3||f.m>3e4||f.e>3e4){W.aAp(i,!0);var X=W.KR(i,k);
if(X.P()>=f.P())W.aAp(i,!1)}f=W.KR(i,k);for(var R=0;R<i.length;R++){var h=i[R];if(W.mb(h)=="artboard")s=!0}if(!s){console.log("no artboard");
var B={};for(var e in V)B[e]=V[e];B._class="group";V.layers=[B]}L.push(f.clone());if(f.ak())continue;
f.x=0;f.y=$;$+=f.e+200;l=l.oA(f)}var U={};if(n.foreignSymbols)for(var w=0;w<n.foreignSymbols.length;
w++){var o=n.foreignSymbols[w].symbolMaster;U[o.symbolID]={NQ:o}}W.au5(n.pages,U,F);for(var b in U){var h=U[b].NQ,u=W.aCt(h.layers)}var Z=ff.Rk(l,8192*8192);
F.Sv=!0;F.m=Math.round(l.m/Z);F.e=Math.round(l.e/Z);F.buffer=r.R(F.m*F.e*4);F.jY(n.pages[0].layers.length);
F.yN={};F.xQ=[];$=0;for(var k=0;k<n.pages.length;k++){var I=n.pages[k],f=L[k],y=new iJ(Z,0,0,Z,f.x,f.y-$);
W.NU(I.layers,F,y,n,U,{},[]);$+=f.e+200}delete F.yN;delete F.xQ;if(Z!=1)alert("File scaled down "+Z+"x");
F.aeI()};ff.ac5=0;ff.mb=function(x){return x._class?x._class:x.$class};ff.Rk=function(x,F){var W=1;while(Math.round(x.m/W)*Math.round(x.e/W)>F||Math.max(Math.round(x.m/W),Math.round(x.e/W))>3e4)W++;
if(W!=1&&!window.confirm("Your image is quite large ("+x.m+" x "+x.e+" px).\n"+"Press OK to scale it down "+W+"x, or Cancel to keep the size."))W=1;
return W};ff.KR=function(x,F){var W=[],n=ff;for(var L=0;L<x.length;L++){var $=x[L],l=n.YL($.frame);if(F==0||n.mb($)=="artboard")W.push(l)}return r.rect.uL(W)};
ff.aAp=function(x,F){var W=[],n=ff;for(var L=0;L<x.length;L++){var $=x[L],l=n.YL($.frame);l.m+=150;l.e+=150;
W.push(l)}var k=r.rect.uL(W);r.rect.aB4(W,F);var V=r.rect.uL(W);if(V.P()*1.5<k.P()||k.m>3e4&&V.m<=3e4||k.e>3e4&&V.e<=3e4){alert("Re-arranging artboards");
for(var L=0;L<x.length;L++){var i=W[L],$=x[L],f=$.frame;f.x=i.x;f.y=i.y}}};ff.au5=function(x,F,W){var n=ff;
for(var L=0;L<x.length;L++){var $=x[L],l=n.mb($);if(["page","artboard","group"].indexOf(l)!=-1)n.au5($.layers,F,W);
else if(l=="symbolMaster")F[$.symbolID]={NQ:$}}};ff.aCt=function(x){var F=ff;for(var W=0;W<x.length;
W++){var n=x[W],L=F.mb(n),$=null;if(["page","artboard","group"].indexOf(L)!=-1)$=F.aCt(n.layers);if(L=="symbolMaster"||L=="symbolInstance")$=n;
if($!=null)return $}return null};ff.NU=function(x,F,W,n,L,$,l){var k=ff,V=[];for(var i=0;i<x.length;
i++){var f=x[i],X=f.frame?k.YL(f.frame):null,s=f.style,U="",y=null,D=!1;if(s==null){console.log("no styles")}var R=k.axa(f,W),h=k.mb(f),B=h=="shapeGroup"||h=="shapePath"||h=="rectangle"||h=="oval"||h=="triangle"||h=="polygon",e=["page","artboard","group"].indexOf(h)!=-1;
if(h=="shapeGroup"){for(var w=0;w<f.layers.length;w++)if(k.mb(f.layers[w])=="shapeGroup")e=!0}var o=f.exportOptions;
if(o){var b=o.exportFormats;if(b==null)b=o.sizes;if(h!="artboard"&&(b&&b.length!=0)){var u=b[0].scale}}var Z=F.dI();
Z.FH(f.isVisible);var I=f.name;if(!(typeof I=="string"))I=h;Z.sc(U+I.slice(0,250));if(s!=null)y=k.a0p(n,F,s,X,R,Z.getName(),B||h=="artboard"||e);
if(h=="rectangle"&&s&&s.fills&&s.fills[0]){var N=s.fills[0];if(N.fillType==4&&N.patternFillType>1&&N.image!=null)D=!0}if(f.shouldBreakMaskChain){while(V.length!=0)k.aaI(V.pop(),F)}if(e){Z.add.lsct=f.layerListExpandedType==2?eD.en:eD.Tn;
Z.q_="pass";Z.xb=24;Z.FH(f.isVisible);F.B.push(F.Nz());if(h=="artboard"){var j=X.clone(),H=R.NX();j.x=-Math.floor(R.yq/H);
j.y=-Math.floor(R.Ze/H);j.m=Math.floor(j.m/H);j.e=Math.floor(j.e/H);Z.lK(j);var Q=f.backgroundColor,C=Q?{o:255*Q.red,r:255*Q.green,z:255*Q.blue}:{o:255,r:255,z:255};
Z.add.artb.Clr={t:"Objc",v:r.I.GB(C)};Z.add.artb.artboardBackgroundType={t:"long",v:4}}k.NU(f.layers,F,R,n,L,$,l)}else if(B&&!D){var J=y!=null&&y.frameFXMulti.v.length==1;
Z.add.vmsk=new t.C$;Z.add.vstk=eC.pr.Iz(!0,J);var E=s?s.fills:null,T=s?k.ayE(n,E,X,R,Z.getName(),F,k.GC(l,f.do_objectID+"_image")):[];
if(T.length==0){if(J)Z.add.vstk.fillEnabled.v=!1;else Z.add.iOpa=0;Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:0,r:0,z:0})}}}else{var c=T[0],a=null,K=null;
if(c.type=="SoFi"){a="SoCo";K=eC.eK}if(c.type=="GrFl"){a="GdFl";K=eC.Qu}if(c.type=="patternFill"){a="PtFl";
K=eC.YZ}if(a!=null){Z.add[a]={classID:"null"};for(var w=0;w<K.length;w++){var Y=K[w];Z.add[a][Y]=c.b.v[Y]}var p=c.b.v.Opct.v.val;
if(J&&p==0)Z.add.vstk.fillEnabled.v=!1;else Z.add.iOpa=Math.round(255*p/100)}}Z.xb|=16;Z.add.vmsk.$=k.E0(f.layers?f.layers:[f],f.layers?R:W);
var P=s?s.blur:null;if(P&&P.isEnabled&&P.type<=1)Z.add.vmsk.vX=P.radius;if(Z.add.vmsk.$.length==2){console.log("shape with no content:",Z.getName())}if(J){var m=y.frameFXMulti.v[0].v,z=Z.add.vstk,M=s.borders[0];
y.frameFXMulti.v=[];hM.av3(m,z);var d=s.borderOptions,A=s.miterLimit;if(d)eC.pr.write(z,{lcap:d.lineCapStyle,ljoin:d.lineJoinStyle,dash:d.dashPattern,mlimit:A},1)}Z.oO();
Z.pZ(F)}else if(h=="bitmap"||D){if(!D&&f.image==null)continue;var G=D?s.fills[0]:null,kB=D?G.image.bdata:f.image.bdata,q=F.sP(kB,Z.getName(),0,0);
q.xb=Z.xb;Z=q;var P=s?s.blur:null,fO=s?s.colorControls:null;if(P||fO){Z.add.SoLd.filterFX=ew.yp();F.Ky({id:Z.add.SoLd.placed.v,rect:new eu,buffer:r.R(1),F:new t.gm});
var E=Z.add.SoLd.filterFX.v.filterFXList.v;if(P){var g=ew.Il("GsnB",{});g.v.enab.v=P.isEnabled;g.v.Fltr.v.Rds.v.val=P.radius;
E.push(g)}if(fO){var jN=fO.brightness,c6=fO.contrast,a7=fO.hue,bd=fO.saturation;if(a7!=0||bd!=1){var g=ew.Il("hue2",{});
g.v.enab.v=fO.isEnabled;im.Mm(g.v.Fltr.v,0,[Math.round(a7*180/Math.PI),Math.round((bd-1)*100),0]);E.push(g)}if(jN!=0||c6!=1){var g=ew.Il("brit",{});
g.v.enab.v=fO.isEnabled;c6=c6-1;if(c6>0)c6/=2;var ey=g.v.Fltr.v;ey.Brgh.v=Math.round(jN*255);ey.Cntr.v=Math.round(c6*255);
ey.useLegacy.v=!0;E.push(g)}}}if(D){var c5=G.patternFillType;if(c5==3){var bx=Z.rect.m/Z.rect.e,ap=X.m/X.e;
if(bx<ap){R.translate(-(X.m*(1-bx/ap))/2,0);R.scale(ap/bx,1)}else{R.translate(0,-(X.e*(1-ap/bx))/2);
R.scale(1,bx/ap)}}}X.x=X.y=0;var fC=r.Z.o4(X).p;R.sx();r.Z.i(fC,R,fC);Z.add.SoLd.Trnf=O.Y.ud(fC);Z.add.SoLd.nonAffineTransform=O.Y.ud(fC);
Z.Bw(F,!1)}else if(h=="text"){if(f.attributedString==null)continue;var kE=R.clone(),bm,fe,cr=0;kE.sx();
kE.V=kE.P9=Math.min(kE.V,kE.P9);Z.add.lnsr="rend";Z.add.TySh=iV.P3(0,0);Z.add.TySh.pX=new eu(0,0,X.m,X.e);
Z.add.TySh.i=kE;var g8=f.attributedString;if(g8.archivedAttributedString)g8=g8.archivedAttributedString;
var e0=g8.NSString;if(e0==null)e0=g8.string;if(e0==null)e0="";if(e0["NS.string"])e0=e0["NS.string"];
if($[f.do_objectID]!=null)e0=$[f.do_objectID];var cF=k.GC(l,f.do_objectID+"_stringValue");if(cF)e0=cF.value;
if(g8.attributes!=null){bm=[];fe=[];var ei=g8.attributes;for(var w=0;w<ei.length;w++){bm.push(ei[w].length,w);
fe.push(ei[w].attributes)}}else if(g8.NSAttributeInfo==null){bm=[e0.length,0];fe=[g8.NSAttributes]}else{bm=g8.NSAttributeInfo["NS.data"];
fe=g8.NSAttributes;bm=ff.agu(bm,fe)}for(var w=0;w<bm.length;w+=2)cr+=bm[w];if(cr!=e0.length){while(cr>e0.length){bm[bm.length-2]--;
cr--;if(bm[bm.length-2]==0){bm.pop();bm.pop()}}bm[bm.length-2]+=e0.length-cr}e0=e0.replace(/\u2028/g,"\n");
e0=e0.replace(/\u2029/g,"\n");e0=e0.replace(/\r/g,"\n");var e_=Z.add.TySh.OU;iV.yb(e_,0,e0);if(e0!=""){var gg=f.textBehaviour,bW=s.textStyle,gx=bW?bW.verticalAlignment:0,dH=k.acm(e_,bm,fe,e0),H=kE.NX(),eg=iV.f3(e_,0,1),ie=0;
if(eg.oE.Font){var aB=eg.zf[eg.oE.Font].Name;if(aB=="FontAwesome"||aB=="Ionicons")dH*=.87}var jy=eg.oE.AutoLeading?0:eg.oE.Leading*.6,cT=Math.max(dH,jy)*H,a_=X.m,gs=X.e;
if(gg==0){iV.xC(e_,0);var gq=iV.tu(eg.wt);if(gq==1)ie=a_*H;if(gq==2)ie=a_*H*.5;if(gx==0)cT*=1;else cT*=.9}else{iV.xC(e_,1);
iV.J3(e_,[0,0,Math.round(a_),Math.round(gs)]);if(gg==2&&gx==0)cT=cT*.2;else if(gg==2&&gx==1){cT=H*.5*(gs-eg.oE.FontSize)}else if(gg==1&&gx==0)cT=cT*.2;
else cT=cT*.35}Z.add.TySh.i.translate(ie,cT)}}else if(h=="symbolInstance"||h=="symbolMaster"){var kr=f.symbolID;
if($[f.do_objectID])kr=$[f.do_objectID].symbolID;var iN=k.GC(l,f.do_objectID+"_symbolID");if(iN)kr=iN.value;
if(kr=="")continue;var jH={};for(var Y in $)jH[Y]=$[Y];if(f.overrides)for(var Y in f.overrides)jH[Y]=f.overrides[Y];
var h2=l.slice(0);if(f.overrideValues)h2=h2.concat(f.overrideValues);var an=L[kr];if(an==null){console.log("Unknown master master",f.symbolID);
continue}var bt=ff.YL(an.NQ.frame),kH=bt.m/X.m,js=bt.e/X.e,gA=R.clone();gA.scale(kH,js);Z.add.lsct=eD.Tn;
Z.q_="pass";Z.xb=24;Z.FH(f.isVisible);F.B.push(F.Nz());var jR=an.NQ;if(F.xQ.indexOf(jR)==-1){F.xQ.push(jR);
k.NU(jR.layers,F,gA,n,L,jH,h2);F.xQ.pop()}}else if(h=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+h,f);continue}if(s&&s.contextSettings){var c3=s.contextSettings,iU=c3.blendMode;
if(iU<k.hd.length){Z.q_=a2.BL[a2.Se.indexOf(k.hd[iU])];if(e&&Z.q_=="norm")Z.q_="pass"}Z.opacity=Math.round(Z.opacity*c3.opacity)}if(y!=null){Z.add.lmfx=y}F.B.push(Z);
if(f.hasClippingMask&&x.length>1){V.push(Z);F.B.push(F.Nz())}}while(V.length!=0)k.aaI(V.pop(),F)};ff.GC=function(x,F){for(var w=0;
w<x.length;w++)if(x[w].overrideName.startsWith(F))return x[w]};ff.agu=function(x,F){var W=0,n=[];while(W+1<x.length){var L=x[W];
W++;if(L>127){L+=128*(x[W]-1);W++;if(x[W-1]>127){L+=128*(x[W]-1);W++}}var $=x[W];W++;n.push(L,$)}return n};
ff.acm=function(x,F,W,n){var L=ff,$=0,f=0,X=0;for(var w=0;w<n.length;w++){var l=n.charCodeAt(w),k=1473<=l&&l<=1479||1488<=l&&l<=1514||1520<=l&&l<=1524,V=1569<=l&&l<=1594||1600<=l&&l<=1749;
if(k||V)$++}var i=$>n.length/2;for(var w=0;w<F.length;w+=2){var s=F[w],Z=14,I="DejaVuSans";if(s==0)continue;
var R=F[w+1],h=W[R],B=iV.f3(x,f,f+s-1),e=h.NSColor;if(e==null){var e=h.MSAttributedStringColorDictionaryAttribute;
if(e==null)e=h.MSAttributedStringColorAttribute;if(e==null)e="0 0 0";else e=[e.red,e.green,e.blue].join(" ")}else if(L.mb(e)=="MSArchivedColor")e=e.dr+" "+e.dg+" "+e.db;
else if(e.NSRGB){e=e.NSRGB;e=_.xR(e,0,e.length-1)}else if(e.NSCMYK){e=e.NSCMYK;e=_.xR(e,0,e.length-1);
e=e.split(" ").map(parseFloat);var U=1-e[0],o=1-e[1],b=1-e[2],u=1-e[3];e=U*u+" "+o*u+" "+b*u}else if(e.NSWhite){e="1 1 1"}e=e.split(" ");
B.oE.FillColor={Type:1,Values:[1,parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])]};var y=h.MSAttributedStringFontAttribute;
if(h.NSFont){Z=h.NSFont.NSSize;I=h.NSFont.NSName}else if(y){if(y.attributes){y=y.attributes;Z=y.size;
I=y.name}else{var D=y.NSFontDescriptorAttributes;if(D==null)D=y.UIFontDescriptorAttributes;y=D;Z=y.NSFontSizeAttribute;
I=y.NSFontNameAttribute}if(I==null)I="DejaVuSans"}var X=Math.max(X,Z);B.oE.FontSize=Math.round(Z);iV.hU(B,I);
var N=h.NSKern;if(N==null)N=h.kerning;if(N!=null)B.oE.Tracking=Math.round(1e3*N/Z);if(h.NSUnderline!=null)B.oE.Underline=h.NSUnderline>0;
var j=h.NSStrikethrough;if(j==null)j=h.strikethroughStyle;if(j!=null)B.oE.Strikethrough=j>0;if(h.MSAttributedStringTextTransformAttribute==1)B.oE.FontCaps=2;
var H=h.NSParagraphStyle;if(H==null)H=h.paragraphStyle;if(H){var Q=H.paragraphSpacing;if(Q!=null){B.wt.SpaceAfter=Q}var C=H.NSAlignment;
if(C==null)C=H.alignment;if(C!=null){var J=0;if(!1){}else if(C==1)J=1;else if(C==2)J=2;else if(C==4)J=0;
else{J=C;console.log("unknown align",C)}if(i&&J<2)J=1-J;B.wt.Justification=J}var E=H.NSMinLineHeight;
if(E==null)E=H.minimumLineHeight;if(E!=null){B.oE.AutoLeading=!1;B.oE.Leading=E}}B.wt._Direction=i?1:0;
iV.Aj(x,f,f+s,B);f+=s}return X};ff.a0p=function(x,F,W,n,L,$,l){var k=ff,V=JSON.parse(eC.default),i=!1;
for(var w=0;w<eC.order.length;w++)V[eC.UM[w]]={t:"VlLs",v:[]};var f=W.fills,X=k.ayE(x,f,n,L,$,F);for(var s=0;
s<2;s++){var R=W[["shadows","innerShadows"][s]];if(R==null)continue;var h=["DrSh","IrSh"][s],B=eC.UM[eC.order.indexOf(h)];
for(var w=0;w<R.length;w++){var e=R[w];if(!e.isEnabled)continue;var U=e.contextSettings;if(U&&U.opacity==0||e.color.alpha==0)continue;
var o=JSON.parse(eC.bc[eC.order.indexOf(h)]);V[B].v.unshift({t:"Objc",v:o});i=!0;o.Clr.v=k.po(e.color);
o.blur.v.val=Math.round(e.blurRadius/L.NX());var b=L.clone();b.yq=b.Ze=0;b.sx();var u=b.dr(new eX(e.offsetX,e.offsetY)),Z=Math.sqrt(u.x*u.x+u.y*u.y);
o.Dstn.v.val=Math.round(Z);o.lagl.v.val=Math.round(Math.atan2(u.y,-u.x)*(180/Math.PI));if(o.layerConceals)o.layerConceals.v=X.length!=0;
k.hC(e,o)}}var I=W.borders;if(I!=null&&(X.length==0||W.blur==null||!W.blur.isEnabled))for(var w=0;w<I.length;
w++){var y=I[w];if(!y.isEnabled)continue;var o=JSON.parse(eC.bc[eC.order.indexOf("FrFX")]),B=eC.UM[eC.order.indexOf("FrFX")];
V[B].v.unshift({t:"Objc",v:o});i=!0;o.Clr.v=k.po(y.color);if(y.fillType!=0&&y.gradient){var D=k.xj(y.gradient,n,L,$),N=["Type","Angl","Ofst","Scl"];
for(var w=0;w<N.length;w++)o[N[w]]=D[N[w]];o.Grad.v=D.Grad.v;o.PntT.v.FrFl="GrFl"}o.Sz.v.val=Math.round(y.thickness/L.NX());
o.Styl.v.FStl=["CtrF","InsF","OutF"][y.position];k.hC(y,o)}for(var w=l?1:0;w<X.length;w++){var j=X[w],B=eC.UM[eC.order.indexOf(j.type)];
V[B].v.unshift(j.b);i=!0}return i?V:null};ff.ayE=function(x,F,W,n,L,$,l){if(F==null)return[];var k=ff,V=[];
for(var w=0;w<F.length;w++)if(F[w].isEnabled)V.push(F[w]);F=V;var i=[];for(var w=0;w<F.length;w++){var f=F[w],X=null,s=null;
if(f.fillType==0){X="SoFi";var R=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);s={t:"Objc",v:R};s.v.Clr.v=k.po(f.color)}else if(f.fillType==1){X="GrFl";
s={t:"Objc",v:k.xj(f.gradient,W,n,L)}}else if(f.fillType==4&&f.image!=null){var h=f.image;if(l)h=l.value;
var B=jW.XM(h.bdata.buffer);if(B=="fpng")B="png";if(B!=null&&B!="pdf"&&B!="eps"){var e,I=0,y=0,D=0;if($.yN[h.key])e=$.yN[h.key];
else{var U=jW.w0(B).La(h.bdata)[0],o=U.Sf.clone();e={};e.id=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f";e.name="someImage";
e.aB=[new Uint8Array(U.data),o];$.Dm(e);$.yN[h.key]=e}var b=e.aB[1],R=JSON.parse(eC.bc[eC.order.indexOf("patternFill")]);
X="patternFill";s={t:"Objc",v:R};var u=f.patternFillType,Z=f.patternTileScale;R.Algn.v=!0;R.Ptrn.v.Idnt.v=e.id;
if(u==0){I=Z*b.m/Math.min(b.m,b.e);y=-n.yq;D=-n.Ze}else{I=Math.max(W.m/b.m,W.e/b.e);y=-n.yq-(b.m*I-W.m)/2;
D=-n.Ze-(b.e*I-W.e)/2}R.Scl.v.val=100*I*(1/n.NX());R.phase.v.Hrzn.v=Math.round(y/n.NX());R.phase.v.Vrtc.v=Math.round(D/n.NX())}}else if(f.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",f.fillType);
if(X!=null){k.hC(f,s.v);i.push({type:X,b:s})}}return i};ff.aCv=function(x){var F=ff,W=new eu(0,0,1,1);
x=x.slice(0);while(!0){var n=!1;for(var w=0;w<x.length-1;w++){var L=x[w],$=x[w+1],l=null,k=L.contextSettings;
if(L.fillType==0&&(k==null||k.opacity==1&&k.blendMode==0)&&L.color.alpha==1){var V="norm",i=1,k=$.contextSettings;
if(k){i=k.opacity;V=a2.zy(F.hd[k.blendMode])}if($.fillType==0){l=JSON.parse(JSON.stringify($));F.aw_(l.color,L.color,l.color,W,V,i)}if($.fillType==1){l=JSON.parse(JSON.stringify($));
var f=l.gradient.stops;for(var X=0;X<f.length;X++)F.aw_(f[X].color,L.color,f[X].color,W,V,i)}if(l!=null&&l.contextSettings){var k=l.contextSettings;
k.opacity=1;k.blendMode=0}}if(l!=null){x.splice(w,0,l);n=!0;break}}if(!n||x.length<2)break}return x};
ff.aw_=function(x,F,W,n,L,$){var l=ff,k=r.R(4);l.a8Z(x,k);var V=r.R(4);l.a8Z(F,V);r.l.X3(L,k,n,V,n,n,$);
l.a3M(V,W)};ff.a8Z=function(x,F){F[0]=255*x.red;F[1]=255*x.green;F[2]=255*x.blue;F[3]=255*x.alpha};ff.a3M=function(x,F){F.red=x[0]/255;
F.green=x[1]/255;F.blue=x[2]/255;F.alpha=x[3]/255};ff.aaI=function(x,F){x=x.clone();x.xb=24;x.sc("Mask by "+x.getName());
F.B.push(x);x.add.lsct=eD.en;x.add.lyid=F.AY();delete x.add.lmfx;delete x.add.SoCo;delete x.add.GdFl;
delete x.add.PtFl;delete x.add.iOpa;if(x.add.vmsk)x.add.vmsk.DQ=!0;x.oO();x.pZ(F);if((x.xb&16)==16)x.xb-=16;
if((x.xb&2)==2)x.xb-=2;x.q_="pass";x.opacity=255};ff.hd="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
ff.xj=function(x,F,W,n){W=W.clone();W.sx();W.yq=W.Ze=0;var L=W.NX(),s=0,R=0;W.scale(1/L,1/L);var $=ff,l=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]),k=l.Grad.v;
k.Intr.v=0;if(x==null)return l;var V=x.gradientType,i=$.i$(x.from),f=$.i$(x.to);i.offset(-.5,-.5);f.offset(-.5,-.5);
i=W.dr(i);f=W.dr(f);var X=Math.atan2(-(f.y-i.y),f.x-i.x);l.Type.v.GrdT=["Lnr","Rdl","Angl"][V];l.Scl.v.val=100*eX.I9(i,f);
if(V==0){l.Angl.v.val=180/Math.PI*X;l.Scl.v.val=100*eX.I9(i,f);s=(i.x+f.x)/2;R=(i.y+f.y)/2}if(V==1){l.Scl.v.val=200*eX.I9(i,f);
s=i.x;R=i.y}if(V==2){l.Angl.v.val=180/Math.PI*(X-Math.PI/2)}var h=l.Ofst.v;h.Hrzn.v.val=s*100;h.Vrtc.v.val=R*100;
var B=[];for(var w=0;w<x.stops.length;w++){var e=x.stops[w],U=e.color;B.push([e.position,U?[U.red,U.green,U.blue]:[0,0,0],U.alpha])}r.I.yT(B,k);
return l};ff.hC=function(x,F){var W=ff,n=1,L=x.contextSettings;if(L!=null){F.Md.v.BlnM=W.hd[L.blendMode];
n*=L.opacity}else F.Md.v.BlnM=W.hd[0];F.enab.v=x.isEnabled;if(F.uglg!=null)F.uglg.v=!1;if(x.color!=null)n*=x.color.alpha;
F.Opct.v.val=Math.round(n*100)};ff.po=function(x){return r.I.GB(x?{o:x.red*255,r:x.green*255,z:x.blue*255}:{o:0,r:0,z:0})};
ff.E0=function(x,F){var W=ff,n=[{type:6},{type:8,all:0}];for(var L=0;L<x.length;L++){var $=x[L],l=$.booleanOperation,k=0,V=$._class,h=!1;
if(V=="group"||V=="text"||V=="symbolInstance"||V=="slice"){console.log(V+" inside ShapeGroup");continue}if(l==-1)k=0;
else if(l==0)k=1;else if(l==1)k=2;else if(l==2)k=3;else if(l==3)k=0;if(L==0)k=1;var i=ff.YL($.frame),f=W.axa($,F),X=$.path?$.path:$,s=[{type:0,length:0,eb:k,FN:2,qO:0,BF:0}],R=X.points;
for(var w=0;w<R.length;w++){var B=R[w],e=W.i$(B.curveTo),U=W.i$(B.point),o=W.i$(B.curveFrom);h=h||B.hasCurveFrom&&!o.rr(U)||B.hasCurveTo&&!e.rr(U)}var b=[];
if(!h){var u=[],dx=R.length;if(dx==0)continue;for(var w=0;w<dx;w++){b[w]=R[w].cornerRadius;var B=W.i$(R[w].point);
u.push(B.x,B.y)}f.scale(1/i.m,1/i.e);f.sx();r.Z.i(u,f,u);s=r.j.sk.fA(u,b).slice(2);s[0].eb=k}else{var Z=R.length;
s[0].length=Z;for(var w=0;w<Z;w++){var B=R[w],I=B.curveMode,y=W.i$(B.point);s[1+w]={type:I==2||I==4?1:2,Xs:B.hasCurveTo?W.i$(B.curveTo):y.clone(),L:y,vf:B.hasCurveFrom?W.i$(B.curveFrom):y.clone()}}f.scale(1/i.m,1/i.e);
f.sx();r.j.js(s,f);var b=[];for(var w=0;w<Z;w++){var B=R[w],I=B.curveMode,D=B.cornerRadius;if(I==1&&D!=0)b.push(D);
else b.push(0)}}if(!X.isClosed)for(var w=0;w<s.length;w++)s[w].type+=3;n=n.concat(s);var N=W.mb($);if(f.z==0&&f.Pu==0){var j=f.yq,H=f.Ze,Q=j+f.V,C=H+f.P9,J=[j,H,Q,C]}}return n};
ff.axa=function(x,F){var W=F.clone(),n=x.frame?ff.YL(x.frame):null;if(n)W.translate(-n.x-n.m/2,-n.y-n.e/2);
if(x.isFlippedHorizontal)W.scale(-1,1);if(x.isFlippedVertical)W.scale(1,-1);W.rotate(-x.rotation*(Math.PI/180));
if(n)W.translate(n.m/2,n.e/2);return W};ff.i$=function(x){x=x.slice(1,x.length-1).split(",");return new eX(parseFloat(x[0]),parseFloat(x[1]))};
ff.YL=function(x){return new eu(x.x,x.y,x.width,x.height)};ff.ahp=function(x){return{_class:"rect",constrainProportions:!1,x:x.x,y:x.y,width:x.m,height:x.e}};
function c9(){}c9.cF=function(x,F){var W=Date.now(),n=c9,L=UZIP.parse(x),$=JSON.parse(_.NM(L.manifest)),l=JSON.parse(_.NM(L["resources/graphics/graphicContent.agc"])).resources,k=[],V=[],i=$.children;
for(var w=0;w<i.length;w++){var f=i[w];if(f.name=="artwork"){var X=f.children;for(var s=0;s<X.length;
s++){var R=X[s],h=JSON.parse(_.NM(L["artwork/"+R.path+"/graphics/graphicContent.agc"])),B=h.children;
if(B.length==0){}else if(B.length==1){if(R["uxdesign#bounds"]){R._node=B[0];k.push(R)}}else{var e=B[0],U=e.transform,o=e.shape;
if(o==null)o={x:0,y:0,width:1e3,height:1e3};if(o.type=="path"){var b=r.Z.Gn(Typr.U.SVGToPath(o.path).crds);
o={x:b.x,y:b.y,width:b.m,height:b.e}}o=JSON.parse(JSON.stringify(o));if(U){o.x+=U.tx;o.y+=U.ty}R["uxdesign#bounds"]=o;
R._node={type:"artboard",artboard:{children:B}};V.push(R)}}}}if(k.length==0)k=V;var u=[],Z=new eu;for(var w=0;
w<k.length;w++){var R=k[w],I=ff.YL(R["uxdesign#bounds"]);u.push(I);Z=Z.oA(I)}var y=ff.Rk(Z,8192*8192);
F.Sv=!0;F.m=Math.round(Z.m/y);F.e=Math.round(Z.e/y);F.buffer=r.R(F.m*F.e*4);F.jY(k.length);var D=new iJ(y,0,0,y,Z.x,Z.y);
F.yN={};for(var w=0;w<k.length;w++){var R=k[w],I=ff.YL(R["uxdesign#bounds"]),N=R._node,j=D.clone(),H=I.clone(),Q=j.NX();
j.translate(-I.x,-I.y);H.x=-Math.floor(j.yq/Q);H.y=-Math.floor(j.Ze/Q);H.m=Math.floor(H.m/Q);H.e=Math.floor(H.e/Q);
j.translate(I.x,I.y);c9.YA(N,F,j,l,L,H);var C=F.B[F.B.length-1];C.sc(R.name);C.lK(H);if(w!=k.length-1)C.add.lsct=eD.Tn}delete F.yN};
c9.F$=function(x){if(x==null)return new iJ;return new iJ(x.a,x.b,x.c,x.d,x.tx,x.ty)};c9.YA=function(x,F,W,n,L,$){var l=c9,k=x.type,V=x[k],i=x.style,f=l.F$(x.transform),h,B="none",e,U="none",o,b;
f.sx();var X=W.clone();X.concat(f);var s=F.dI(),R=x.name;s.sc(R?R.slice(0,250):"Layer");if(x.visible!=null)s.FH(x.visible);
if(i){h=i.stroke;B=h?h.type:"none";e=i.fill;U=e?e.type:"none";if(e&&Object.keys(e).length==1)U="none";
o=i.filters;b=i.clipPath;if(b&&n.clipPaths[b.ref])b=n.clipPaths[b.ref].children;else b=null;if(i.opacity!=null)s.opacity=Math.round(255*i.opacity);
if(U=="solid"&&e.color.alpha)s.opacity=Math.round(s.opacity*e.color.alpha);if(o){s.add.lmfx=l.a9J(o);
for(var w=0;w<o.length;w++)if(o[w].type=="uxdesign#blur"){var u=o[w],Z=u.params,I=Z.brightnessAmount;
if(I==null)I=0;I=Math.abs(I/100);if((u.visible==null||u.visible==!0)&&Z.backgroundEffect)s.opacity=Math.round(s.opacity*(I+(1-I)*Z.fillOpacity))}}if(U=="pattern"&&e.pattern.meta.ux.uid=="")U="none"}if(b==null&&x.meta&&x.meta.ux&&x.meta.ux.clipPathResources)b=x.meta.ux.clipPathResources.children;
if(k=="artboard"||k=="group"){if(b){var y=b[0],D=y.shape,N=D!=null&&D.type=="rect"&&D.width*D.height>4e6;
if(y.type!="text"&&!N){if(D){var f=l.F$(y.transform);f.sx();var j=X.clone();j.concat(f);s.add.vmsk=new t.C$;
s.add.vmsk.$=l.E0(D);j=j.clone();j.sx();r.j.js(s.add.vmsk.$,j);s.oO();s.pZ(F)}}else if(!N)alert("Clipping by text has been ignored")}s.add.lsct=eD.en;
s.q_="pass";s.xb=24;if(x.visible!=null)s.FH(x.visible);F.B.push(F.Nz());var H=V.children,Q=e;if(Q)Q=Q.color;
if(Q)Q=Q.value;if(e){if(k=="artboard"&&U=="solid"){s.lK(new eu(0,0,10,10));s.add.artb.Clr={t:"Objc",v:r.I.GB({o:Q.r,r:Q.g,z:Q.b})};
s.add.artb.artboardBackgroundType={t:"long",v:4}}else{var C=F.dI();C.sc("BACKGROUND");C.xb|=16;C.add.vstk=eC.pr.Iz();
C.add.vmsk=new t.C$;C.add.vmsk.$=l.E0({type:"rect",x:$.x,y:$.y,width:$.m,height:$.e});l.M$(e,U,X,$,$,C,F,n,L);
C.oO();C.pZ(F);F.B.push(C)}}for(var w=0;w<H.length;w++){c9.YA(H[w],F,X,n,L,$)}}else if(k=="shape"&&(V.type=="rect"&&(V.r==null||V.r==0)||V.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(V.path)))&&U=="pattern"&&(Math.abs(V.width/V.height-e.pattern.width/e.pattern.height)<.01||i.fill.pattern.meta.ux.scaleBehavior=="fill")){var J=e.pattern,E=J.meta.ux,T=E.uid,c=L["resources/"+T];
if(c==null){console.log(J);return}var a=F.sP(c,s.getName(),0,0);a.xb=s.xb;a.opacity=s.opacity;s=a;var K=r.j.Bd(l.E0(V),null),Y=r.Z.o4(new eu(0,0,J.width,J.height)).p,p=new iJ;
p.scale(J.width/K.m,J.height/K.e);if(E.offsetX)p.translate(-E.offsetX*J.width,0);if(E.offsetY)p.translate(0,-E.offsetY*J.height);
X.concat(p);X.sx();r.Z.i(Y,X,Y);s.add.SoLd.Trnf=O.Y.ud(Y);s.add.SoLd.nonAffineTransform=O.Y.ud(Y);s.Bw(F,!1)}else if(k=="shape"){s.xb|=16;
s.add.vstk=eC.pr.Iz();s.add.vmsk=new t.C$;s.add.vmsk.$=l.E0(V);var K=r.j.Bd(s.add.vmsk.$,null),j=X.clone();
j.sx();r.j.js(s.add.vmsk.$,j);var P=r.j.Bd(s.add.vmsk.$,null);if(B=="none"){}else{var m=h.color.value,z,M;
z="SoFi";var d=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);M={t:"Objc",v:d};M.v.Clr.v=r.I.GB({o:m.r,r:m.g,z:m.b});
var A=h.align,G=h.cap;if(A==null)A="center";var kB=s.add.vstk;kB.strokeEnabled.v=!0;kB.strokeStyleLineWidth.v.val=h.width;
if(A)kB.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eC.pr.Uu[["inside","center","outside"].indexOf(A)];
if(G)kB.strokeStyleLineCapType.v.strokeStyleLineCapType=eC.pr.QP[["butt","round","square"].indexOf(G)];
var q=["SoFi","GrFl","patternFill"].indexOf(z),fO=[eC.eK,eC.Qu,eC.YZ][q];kB.strokeStyleContent.v={classID:eC.pr.K8[0]};
var g=kB.strokeStyleContent.v={classID:eC.pr.K8[q]};for(var w=0;w<fO.length;w++)g[fO[w]]=M.v[fO[w]]}if(o)for(var w=0;
w<o.length;w++)if(o[w].type=="uxdesign#blur"&&o[w].visible){var jN=o[w];s.add.vmsk.vX=jN.params.blurAmount}l.M$(e,U,X,K,P,s,F,n,L);
s.oO();s.pZ(F)}else if(k=="text"&&x.text){var c6=x.text,a7=c6.frame,bd=i.font,ey=i.textAttributes,f=X.clone(),bm=0;
f.sx();s.add.lnsr="rend";s.add.TySh=iV.P3(0,0);s.add.TySh.pX=new eu(0,0,100,100);s.add.TySh.i=f;var c5=s.add.TySh.OU,bx=c6.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
iV.yb(c5,0,bx);if(bx!=""){var ap=iV.f3(c5,0,1),fC=bd.postscriptName;if(fC==null)fC=bd.family;iV.hU(ap,fC);
ap.oE.FontSize=Math.round(bd.size);if(U=="solid"){var m=e.color.value;ap.oE.FillColor={Type:1,Values:[1,m.r/255,m.g/255,m.b/255]}}if(ey){if(ey.paragraphAlign)ap.wt.Justification=["left","right","center"].indexOf(ey.paragraphAlign);
if(ey.letterSpacing)ap.oE.Tracking=Math.round(ey.letterSpacing);if(ey.lineHeight){ap.oE.AutoLeading=!1;
ap.oE.Leading=Math.round(ey.lineHeight)}}iV.Aj(c5,0,bx.length,ap)}var kE=x.meta.ux.rangedStyles;if(kE)for(var w=0;
w<kE.length;w++){var V=kE[w],fe=Math.min(V.length,bx.length-bm);if(w==kE.length-1)fe=bx.length-bm;var ap=iV.f3(c5,bm,bm+fe),fC=V.postscriptName;
if(fC==null)fC=V.family;if(fC!=null)iV.hU(ap,fC);var e0=V.textScript,cF=V.underline,cr=V.fontSize,u=V.fill,gg=V.textTransform;
if(e0&&e0!="none")ap.oE.FontBaseline=e0=="superscript"?1:2;if(cF!=null)ap.oE.Underline=cF;if(cr!=null)ap.oE.FontSize=Math.round(cr);
if(gg!=null)ap.oE.FontCaps=gg=="uppercase"?2:0;if(gg=="lowercase"){iV.gp(c5,bm,bm+fe);iV.yb(c5,bm,bx.slice(bm,bm+fe).toLowerCase())}if(u!=null){var bW=u.value;
ap.oE.FillColor={Type:1,Values:[1,(bW>>>16&255)/255,(bW>>>8&255)/255,(bW>>>0&255)/255]}}iV.Aj(c5,bm,bm+fe,ap);
bm+=fe}if(a7.type=="area"||a7.type=="autoHeight"){var gx=a7.width,eg=a7.height;iV.xC(c5,1);iV.J3(c5,[0,0,gx,eg!=null?eg:gx*2])}}else if(k=="syncRef"){var aB=x.syncSourceGuid,gB=n.meta.ux.symbols,jy=l._J(gB,aB);
if(jy){var aV=X.clone();aV.concat(l.F$(jy.transform));c9.YA(jy,F,aV,n,L,$)}return}else console.log(k,x);
F.B.push(s)};c9._J=function(x,F){for(var w=0;w<x.length;w++){var W=x[w],n=W.group;if(W.id==F)return W;
if(n){var L=c9._J(n.children,F);if(L)return L}}return null};c9.E0=function(x){var F=x.type,W=[{type:6},{type:8,all:0}];
if(F=="rect"){var n=x.r,L=x.x,$=x.y,l=x.width,k=x.height;W=r.j.sk.Rect(L,$,l,k,n?n:0)}else if(F=="circle"){var n=x.r;
W=r.j.sk.Dd(x.cx-n,x.cy-n,2*n,2*n)}else if(F=="ellipse"){var V=x.rx,i=x.ry;W=r.j.sk.Dd(x.cx-V,x.cy-i,2*V,2*i)}else if(F=="path"||F=="compound"){var f=Typr.U.SVGToPath(x.path);
W=r.Z.zI({G:f.cmds,p:f.crds},!1)}else if(F=="line"){var X=x.x1,s=x.x2,R=x.y1,h=x.y2;W=r.j.sk.fA([X,R,s,h],0,!0)}else if(F=="polygon"){var B=x.points,e=[];
for(var w=0;w<B.length;w++)e.push(B[w].x,B[w].y);W=W.concat(r.j.sk.fA(e,0,!1).slice(2))}else console.log(F,x);
return W};c9.a9J=function(x){var F=JSON.parse(eC.default);for(var w=0;w<eC.order.length;w++)F[eC.UM[w]]={t:"VlLs",v:[]};
for(var w=0;w<x.length;w++){var W=x[w],n=W.type,L=W.params,$=W.visible;if(n=="dropShadow"){var l=eC.UM[eC.order.indexOf("DrSh")],k=JSON.parse(eC.bc[eC.order.indexOf("DrSh")]);
F[l].v.unshift({t:"Objc",v:k});var V=L.dropShadows;if(V.length!=1)throw"e";var i=V[0],f=i.color,X=f.value,s=i.dx,R=i.dy;
k.Clr.v=r.I.GB({o:X.r,r:X.g,z:X.b});k.Opct.v.val=Math.round((f.alpha!=null?f.alpha:1)*100);k.uglg.v=!1;
k.enab.v=$!=null?$:!0;k.lagl.v.val=Math.round(180/Math.PI*Math.atan2(R,-s));k.Dstn.v.val=Math.round(Math.sqrt(s*s+R*R));
k.blur.v.val=Math.round(i.r*2.3)}}return F};c9.M$=function(x,F,W,n,L,$,l,k,V){var i=c9;$.add.vstk.fillEnabled.v=F!="none";
if(F=="none"){$.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:0,r:0,z:0})}}}else{var f,X,s;if(F=="solid"){var R=x.color.value;
f="SoCo";X=eC.eK;var h=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);s={t:"Objc",v:h};s.v.Clr.v=r.I.GB({o:R.r,r:R.g,z:R.b})}else if(F=="gradient"){f="GdFl";
X=eC.Qu;var h=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]),B=h.Grad.v,u,Z,I;B.Intr.v=0;var e=x[F],U=e.ref?k.gradients[e.ref]:e.meta.ux.gradientResources,o=["linear","radial","angular"].indexOf(U.type),b=U.stops;
h.Type.v.GrdT=["Lnr","Rdl","Angl"][o];if(o==0){var u=new eX(e.x1,e.y1),Z=new eX(e.x2,e.y2);u.x=Z.x+.5*(u.x-Z.x);
u.y=Z.y+.5*(u.y-Z.y)}else{var u=new eX(e.cx,e.cy),Z=new eX(e.cx+e.r,e.cy)}I=L;if(e.units=="objectBoundingBox"){var y=new iJ(n.m,0,0,n.e,n.x,n.y);
u=y.dr(u);Z=y.dr(Z)}var y=i.F$(e.transform);u=y.dr(u);Z=y.dr(Z);y=W.clone();y.sx();u=y.dr(u);Z=y.dr(Z);
r.I.cD(u,Z,I,h);var D=[];for(var w=0;w<b.length;w++){var N=b[w],j=N.color,R=j.value,H=j.alpha;if(H==null)H=1;
D.push([N.offset,[R.r/255,R.g/255,R.b/255],H])}r.I.yT(D,B);s={t:"Objc",v:h}}else if(F=="pattern"){f="PtFl";
X=eC.YZ;var h=JSON.parse(eC.bc[eC.order.indexOf("patternFill")]),Y;s={t:"Objc",v:h};var Q=x[F],C=Q.meta.ux,J=C.uid,E=V["resources/"+J].buffer,T=C.flipX,c=C.flipY,a=J+T+c,K=jW.XM(E);
if(l.yN[a])Y=l.yN[a];else{var p=new eu(0,0,Q.width,Q.height),P;if(p.ak()||K==null){p=new eu(0,0,1,1);
P=new ArrayBuffer(4)}else{var m=jW.w0(K);if(m.sG){var z=new az;m.La(E,z);P=z.Hi().buffer}else{try{var M=m.La(E)[0];
P=M.data;p=M.Sf}catch(ii){P=new ArrayBuffer(p.P()*4)}}}Y={};Y.id=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f";
Y.name="someImage";Y.aB=[new Uint8Array(P),p];if(T)r.D.UZ(Y.aB[0].slice(0),Y.aB[0],p.m,p.e);if(c)r.D.ajQ(Y.aB[0].slice(0),Y.aB[0],p.m,p.e);
l.Dm(Y);l.yN[a]=Y}var d=W.clone();d.sx();d.translate(n.x,n.y);var A=n.m,G=n.e,kB=Y.aB[1].m,q=Y.aB[1].e,fO=Math.max(A/kB,G/q);
if(C.scale)fO*=C.scale;var g=new iJ;g.translate(-kB/2,-q/2);g.scale(1/kB,1/q);if(C.offsetX!=null)g.translate(C.offsetX,C.offsetY);
g.scale(kB,q);g.scale(fO,fO);g.translate(A/2,G/2);g.concat(d);hM.atD(Y,h,0,0,1e3,g)}else console.log(F);
if(f!=null){$.add[f]={classID:"null"};for(var w=0;w<X.length;w++){var jN=X[w];$.add[f][jN]=s.v[jN]}}}};
function cM(){}cM.cF=function(x,F,W){if(W&&W[0]==null)W=null;x=new Uint8Array(x);var n,b=1;if(x[0]==255&&x[1]==254)n=_.UC(x,2,(x.length>>>1)-1);
else n=_.NM(x,0,x.length);var L=new DOMParser,$=L.parseFromString(n,"image/svg+xml"),l=$.getElementsByTagName("style")[0];
if(l)l=Typr.U.SVG.cssMap(l.textContent);else l={};var k=$.firstChild;while(k.tagName!="svg")k=k.nextSibling;
var V=new eu(0,0,100,100),i=k.getAttribute("viewBox"),f=k.getAttribute("width"),X=k.getAttribute("height"),s=f!=null?parseFloat(f):parseFloat(X),R=X!=null?parseFloat(X):parseFloat(f);
if(i){var h=cM.arS(i);V.x=h[0];V.y=h[1];V.m=h[2];V.e=h[3];if(f!=null){var B=h[2]/h[3],e=s/R;if(e>B){var U=h[3]*e-V.m;
V.x-=U/2;V.m+=U}if(e<B){var o=h[2]/e-V.e;V.y-=o/2;V.e+=o}}}else if(f!=null||X!=null){V.m=s;V.e=R}V=r.Z.Jy(V);
while(W&&Math.max(V.m*b,V.e*b)<Math.max(W[0],W[1]))b++;while(W==null&&Math.max(V.m,V.e)*b>8192)b*=.5;
F.Sv=!0;F.m=~~(V.m*b);F.e=~~(V.e*b);var u=new iJ(b,0,0,b,-V.x*b,-V.y*b),Z={RB:cM.up(k),a6k:l,xs:0};cM.VS($,k.children,F,u,Z,new iJ,0);
if(F.B.length==0){var I=F.dI();I.sc("Layer");F.B.push(I)}};cM.arS=function(x){var F=" ";if(x.indexOf(",")!=-1)F=",";
return x.split(F).map(parseFloat)};cM.VS=function(x,F,W,n,L,$,l,k){var V=cM,i=["display","opacity","fill-opacity","filter","clip-path"],f=0;
for(var X=0;X<F.length;X++){var s=F[X],R=s.tagName,h=s.getAttribute("id"),U=13,I=1,N="clip-path",j=null,K=0;
if(h==null)h=s.getAttribute("data-name");var B=V.up(s,L.a6k);for(var e in L.RB)if(i.indexOf(e)==-1&&B[e]==null)B[e]=L.RB[e];
if(B["font-size"])U=V.Gs(B["font-size"],U);if(s.getAttribute("dx"))n.yq+=V.Gs(s.getAttribute("dx"),U);
if(s.getAttribute("dy"))n.Ze+=V.Gs(s.getAttribute("dy"),U);var o=V.Bf(s);o.concat(n);var b=s.getAttribute("visibility"),u=B.display,Z=W.dI();
if(b=="hidden"||u=="none")Z.FH(!1);Z.sc(h!=null?h.split(":::")[0]:"Layer");if(B.opacity)I*=parseFloat(B.opacity);
if(B["fill-opacity"]){var y=parseFloat(B["fill-opacity"]);if(y!=0)I*=y}Z.opacity=Math.round(255*I);if(B["mix-blend-mode"]){var D=a2.j2.indexOf(B["mix-blend-mode"]);
if(D!=-1)Z.q_=a2.BL[D]}if(s.getAttribute(N)==null)N="mask";if(s.getAttribute(N)!=null||B["clip-path"]){var H=s.getAttribute(N);
if(H==null)H=B["clip-path"];H=H.slice(4,H.length-1);var Q=x.getElementById(H.slice(1));if(Q){var C=Q.children;
j=W.dI();j.sc("Clip-Path"+(h?": "+h:""));j.add.lsct=l<2?eD.en:eD.Tn;j.q_="pass";j.xb=24;var J=j.add.vmsk=new t.C$;
W.B.push(W.Nz());var E=[];if(Q.getAttribute(N)){var H=Q.getAttribute(N);H=H.slice(4,H.length-1);E=x.getElementById(H.slice(1)).children}for(var w=0;
w<C.length;w++){var T=V.Bf(C[w]);T.concat(o);var c=V.E0(W,x,C[w],!1).slice(2);r.j.js(c,T);J.$=J.$.concat(c)}for(var w=0;
w<E.length;w++){var T=V.Bf(C[w]);T.concat(o);var c=V.E0(W,x,E[w],!1).slice(2);for(var a=0;a<c.length;
a++)if(c[w].eb!=null)c[w].eb=3;r.j.js(c,T);J.$=J.$.concat(c)}j.oO();j.pZ();l++}}if(B.filter&&B.filter!="none"){var Y=B.filter,P,m,z,d=!1,A=!1,G=!1;
Y=Y.slice(5,Y.length-1);var p=x.getElementById(Y),M=[0,0,0,.5],kB=o.NX();if(p)for(var w=0;w<p.children.length;
w++){var q=p.children[w];if(q.tagName=="feGaussianBlur"){d=!0;P=parseFloat(q.getAttribute("stdDeviation"))*kB}if(q.tagName=="feColorMatrix"){var fO=q.getAttribute("values");
if(fO){fO=fO.split(" ").map(parseFloat);M=[fO[4],fO[9],fO[14],fO[18]]}}if(q.tagName=="feComposite"){G=!0}if(q.tagName=="feOffset"){A=!0;
var g=q.getAttribute("dx"),jN=q.getAttribute("dy");m=parseFloat(g?g:0)*kB;z=parseFloat(jN?jN:0)*kB}}if(d&&(G||A)){var c6=G?"IrSh":"DrSh";
if(c6=="IrSh"){Z.add.iOpa=0}var a7=JSON.parse(eC.bc[eC.order.indexOf(c6)]);a7.blur.v.val=Math.round(P*2.4);
var bd=Math.sqrt(m*m+z*z);a7.uglg.v=!1;a7.Dstn.v.val=Math.round(bd);a7.lagl.v.val=Math.round(Math.atan2(z,-m)*(180/Math.PI));
a7.Clr.v=r.I.GB({o:M[0]*255,r:M[1]*255,z:M[2]*255});a7.Opct.v.val=Math.round(M[3]*100);V.aD7(Z,eC.UM[eC.order.indexOf(c6)],a7)}else if(d)K=P}if(R=="g"||R=="a"||R=="svg"||R=="switch"||(R=="text"||R=="textPath")&&s.children.length>0||R=="symbol"&&k){if(R=="text")$=V.hk(s,$);
var ey=s.getAttribute("viewBox"),c5=s.getAttribute("width"),bx=s.getAttribute("height");if(ey&&c5&&bx){var ap=cM.arS(ey),fC=V.hk(s),kE=new iJ;
kE.translate(-ap[0],-ap[1]);kE.scale(parseFloat(c5)/ap[2],parseFloat(bx)/ap[3]);kE.translate(fC.yq,fC.Ze);
kE.concat(o);o=kE}var bm=s.children.length,fe=L.RB;L.RB=B;var g8=L.xs;L.xs=Math.max(L.xs,K);var e0=R!="text"&&R!="textPath"||bm>1;
if(e0){var cF=Z.MG();Z.add.lsct=l<2&&cF&&(h==null||!h.endsWith(":::"))?eD.en:eD.Tn;Z.q_="pass";Z.xb=24;
Z.FH(cF);W.B.push(W.Nz())}V.VS(x,s.children,W,o,L,$,l+1);if(e0)W.B.push(Z);else{var ei=W.B[W.B.length-1];
ei.opacity=Z.opacity;ei.q_=Z.q_}L.xs=g8;L.RB=fe}else if(R=="use"){var kE=V.hk(s);kE.concat(o);var cr=V.Nn(s),e_=x.getElementById(cr.slice(1));
if(e_){var fe=L.RB;L.RB=B;if(B.filter)e_.setAttribute("filter",B.filter);V.VS(x,[e_],W,kE,L,$,l+1,!0);
L.RB=fe}}else if(R=="path"||R=="rect"||R=="circle"||R=="ellipse"||R=="polygon"||R=="polyline"||R=="line"){Z.xb|=16;
var J=Z.add.vmsk=new t.C$,gg=B.fill,bW=gg=="none"||B["fill-opacity"]&&parseFloat(B["fill-opacity"])==0;
J.$=V.E0(W,x,s,B["fill-rule"]=="evenodd",bW);r.j.js(J.$,o);var gx=r.j.Bd(J.$),h$=B.stroke,dH=B["stroke-width"],eg=B["stroke-dasharray"],aB=B["stroke-linejoin"];
if(aB==null)aB="miter";var gB=B["stroke-linecap"];if(gB==null)gB="butt";var jy=B["paint-order"],aV=!(h$==null||h$=="none"||h$=="null"),ie=Z.add.vstk=eC.pr.Iz(null,aV);
if(aV){var cT=V.aBr(x,h$,o,gx,W),a_=["SoFi","GrFl","patternFill"].indexOf(cT.type),gs=cT.b.v.Opct.v,iN=1;
if(gs.val!=100){Z.opacity=Math.round(Z.opacity*gs.val/100);gs.val=100}var gq=[eC.eK,eC.Qu,eC.YZ][a_],kr=ie.strokeStyleContent.v={classID:eC.pr.K8[a_]};
for(var w=0;w<gq.length;w++)kr[gq[w]]=cT.b.v[gq[w]];dH=dH?parseFloat(dH):1;if(jy&&jy.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){iN=2;
dH/=2}var jH={ljoin:["miter","round","bevel"].indexOf(aB),lcap:["butt","round","square"].indexOf(gB),lwidth:dH};
if(eg!=null&&eg!="none")jH.dash=eg.split(",").map(parseFloat);eC.pr.write(ie,jH,o.NX());ie.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eC.pr.Uu[iN];
ie.strokeStyleOpacity.v.val=100*(B["stroke-opacity"]?parseFloat(B["stroke-opacity"]):1)}Z.add.vstk.fillEnabled.v=!bW;
if(bW){Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:0,r:0,z:0})}}}else{var cT=V.aBr(x,gg,o,gx,W),h2=null,an=null;
if(cT.type=="SoFi"){h2="SoCo";an=eC.eK}if(cT.type=="GrFl"){h2="GdFl";an=eC.Qu}if(cT.type=="patternFill"){h2="PtFl";
an=eC.YZ}if(h2!=null){var gs=cT.b.v.Opct.v;if(gs.val!=100){Z.opacity=Math.round(Z.opacity*gs.val/100);
gs.val=100}Z.add[h2]={classID:"null"};for(var w=0;w<an.length;w++){var e=an[w];Z.add[h2][e]=cT.b.v[e]}}}var bt=Math.max(K,L.xs);
if(bt!=0)Z.add.vmsk.vX=bt;Z.oO();Z.pZ(W);W.B.push(Z)}else if((R=="text"||R=="tspan")&&s.textContent!=""){$=V.hk(s,$);
var kE=$.clone(),z=0;kE.concat(o);kE.translate(f,0);if(s.children.length>0){var kH=V.up(s.children[0],L.a6k);
for(var e in kH)if(i.indexOf(e)==-1)B[e]=kH[e]}var js=B["xml:space"],gA=s.textContent;if(js=="preserve")gA=gA.replace(/\t/g," ").replace(/\n/g," ");
if(h==null)Z.sc(gA);Z.add.lnsr="rend";Z.add.TySh=iV.P3(0,0);Z.add.TySh.pX=new eu(0,0,100,100);Z.add.TySh.i=kE.clone();
var jR=Z.add.TySh.OU;iV.yb(jR,0,gA);if(R=="tspan")f+=U*gA.length*.5*kE.NX();var gg=B.fill,c3=B["font-weight"],iU=B["font-family"],hn=B["text-decoration"],h$=B.stroke,dH=B["stroke-width"],db=B["dominant-baseline"];
if(db=="text-before-edge")z=U;else if(db=="middle")z=U/2;else if(db=="hanging")z=U;if(z!=0)Z.add.TySh.i.translate(0,z);
var dy=iV.f3(jR,0,1);if(gg&&gg!="none"){var M=CSS.po(gg);dy.oE.FillColor={Type:1,Values:[1,M.o/255,M.r/255,M.z/255]}}if(hn=="underline")dy.oE.Underline=!0;
dy.oE.FontSize=Math.round(U);iV.hU(dy,"LiberationSans");if(c3=="bold")iV.hU(dy,"LiberationSans-Bold");
if(iU){iU=iU.split(",")[0].trim();if(iU[0]=="\"")iU=iU.slice(1);if(iU[iU.length-1]=="\"")iU=iU.slice(0,iU.length-1);
var c2=iU+":"+(c3?c3:"normal"),bk={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(bk[c2])iV.hU(dy,bk[c2]);else iV.hU(dy,iU)}if(B["text-anchor"])dy.wt.Justification=["start","end","middle"].indexOf(B["text-anchor"]);
iV.Aj(jR,0,gA.length,dy);if(h$==null||h$=="none"){}else{var a7=JSON.parse(eC.bc[eC.order.indexOf("FrFX")]);
a7.Clr.v=r.I.GB(CSS.po(h$));a7.Sz.v.val=Math.round(parseFloat(dH)*kE.NX());V.aD7(Z,"frameFXMulti",a7)}W.B.push(Z)}else if(R=="image"){var cr=V.Nn(s);
if(cr&&cr.slice(0,4)=="data"){var cx=jW.jm(cr),ft=cx,eZ=W.sP(ft,Z.getName(),0,0);eZ.xb=Z.xb;Z=eZ;var hf=Z.rect.clone();
hf.x=hf.y=0;var jr=s.getAttribute("width"),ix=s.getAttribute("height");if(jr)hf.m=parseFloat(jr);if(ix)hf.e=parseFloat(ix);
var bF=V.hk(s);bF.concat(o);var fA=r.Z.o4(hf).p;r.Z.i(fA,bF,fA);Z.add.SoLd.Trnf=O.Y.ud(fA);Z.add.SoLd.nonAffineTransform=O.Y.ud(fA);
Z.Bw(W,!1);W.B.push(Z)}}else console.log("unknown tag: "+R,s.children.length,s.textContent.length);if(j!=null){W.B.push(j);
l--}}};cM.aD7=function(x,F,W){var n=x.add.lmfx;if(n==null){var n=x.add.lmfx=JSON.parse(eC.default);for(var w=0;
w<eC.order.length;w++)n[eC.UM[w]]={t:"VlLs",v:[]}}n[F].v.push({t:"Objc",v:W})};cM.E0=function(x,F,W,n,L){var $=cM,l=[{type:6},{type:8,all:0}],k=W.tagName;
if(k=="use"){var V=$.Nn(W),i=F.getElementById(V.slice(1)),f=new iJ;if(i.tagName!="rect")f=$.hk(i);f.concat($.Bf(i));
l=$.E0(x,F,i,n,L);r.j.js(l,f)}else if(k=="path"){var X=W.getAttribute("d");if(X==null)return l;var s=Typr.U.SVGToPath(X);
l=r.Z.zI({p:s.crds,G:s.cmds},n,L)}else if(k=="rect"){var R=W.getAttribute("rx"),h=new eX(0,0);$.B5("x",W,x,h,!0);
$.B5("y",W,x,h,!1);var B=new eX(0,0);$.B5("width",W,x,B,!0);$.B5("height",W,x,B,!1);l=r.j.sk.Rect(h.x,h.y,B.x,B.y,R?parseFloat(R):0)}else if(k=="circle"||k=="ellipse"){var e=[0,0,0,0],U=["cx","cy","rx","ry","r"];
for(var w=0;w<5;w++){var o=W.getAttribute(U[w]);if(o){o=parseFloat(o);if(w<4)e[w]=o;else e[2]=e[3]=o}}l=r.j.sk.Dd(e[0]-e[2],e[1]-e[3],2*e[2],2*e[3])}else if(k=="polygon"||k=="polyline"||k=="line"){var b;
if(k=="line")b=[W.getAttribute("x1"),W.getAttribute("y1"),W.getAttribute("x2"),W.getAttribute("y2")].map(parseFloat);
else b=W.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
l=r.j.sk.fA(b,0,k!="polygon")}return l};cM.Gs=function(x,F){if(x.charAt(x.length-1)=="m")return F*parseFloat(x.slice(0,x.length-2));
else return parseFloat(x)};cM.aBr=function(x,F,W,n,L){var $,l,k=cM,V=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]),i=F!=null?F.indexOf("("):-1;
if(i!=-1){var f=F.indexOf(")"),X=F.slice(0,i).trim(),s=F.slice(i+1,f).trim();if(s.charAt(0)=="'")s=s.slice(1,s.length-1);
if(X=="url"){if(s.charAt(0)=="#"){var R=x.getElementById(s.slice(1));if(R&&R.tagName.toLowerCase().endsWith("gradient")){var h=k.xj(x,R,W,n);
$="GrFl";l={t:"Objc",v:h}}else if(R&&R.tagName.toLowerCase()=="pattern"&&R.children[0]&&R.children[0].tagName=="use"){$="SoFi";
l={t:"Objc",v:V};var B=R.children[0],e=k.Bf(B),U=k.Nn(B),o=x.getElementById(U.slice(1)),b=jW.jm(k.Nn(o)).buffer,u=jW.w0(jW.XM(b)),Z=u.La(b)[0],I={};
I.id=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f";I.name="someImage";I.aB=[new Uint8Array(Z.data),Z.Sf];L.Dm(I);
var V=JSON.parse(eC.bc[eC.order.indexOf("patternFill")]);V.Scl.v.val=Math.round(100*n.m*e.V);var y=V.phase.v;
y.Hrzn.v=Math.round(n.x+e.yq*n.m);y.Vrtc.v=Math.round(n.y+e.Ze*n.e);V.Ptrn.v.Idnt.v=I.id;$="patternFill";
l={t:"Objc",v:V}}else{$="SoFi";l={t:"Objc",v:V}}}else console.log("unknown url",s)}else if(X=="rgb"||X=="rgba"){$="SoFi";
l={t:"Objc",v:V};l.v.Clr.v=r.I.GB(CSS.po(F));if(X=="rgba")l.v.Opct.v.val=Math.round(100*parseFloat(F.split(",").pop()))}else console.log("unknown fill",F)}else{$="SoFi";
l={t:"Objc",v:V};var D=CSS.po(F);l.v.Clr.v=r.I.GB(D);if(D.V!=null)l.v.Opct.v.val=Math.round(100*D.V/255)}return{type:$,b:l}};
cM.Bf=function(x){var F=new iJ,W=x.getAttribute("transform");if(W)F=cM.es(W);var n=x.getAttribute("style");
if(n!=null){var L={};cM.jF(L,n,["transform"]);n=L.transform;if(n)F.concat(cM.es(n))}return F};cM.hk=function(x,F){var W=new iJ,n=x.getAttribute("x"),L=x.getAttribute("y");
if(n)W.yq=parseFloat(n);else if(F)W.yq=F.yq;if(L)W.Ze=parseFloat(L);else if(F)W.Ze=F.Ze;return W};cM.es=function(x){var F=Typr.U.SVG.readTrnf(x);
return new iJ(F[0],F[1],F[2],F[3],F[4],F[5])};cM.up=function(x,F){var W={},n="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var w=0;w<n.length;w++){var L=x.getAttribute(n[w]);if(L!=null&&L!="inherit")W[n[w]]=L}var $=x.getAttribute("class");
if(F!=null&&$!=null&&F["."+$]!=null)cM.jF(W,F["."+$],n);var l=x.getAttribute("id");if(F!=null&&l!=null&&F["#"+l]!=null)cM.jF(W,F["#"+l],n);
var k=x.getAttribute("style");if(k!=null)cM.jF(W,k,n);return W};cM.jF=function(x,F,W){F=F.trim().split(";");
for(var w=0;w<F.length;w++){var n=F[w].split(":"),L=n[0]?n[0].trim():"",$=n[1]?n[1].trim():"";for(var l=0;
l<W.length;l++)if(L==W[l]&&$!="inherit")x[W[l]]=$}};cM.Nn=function(x){var F=x.getAttribute("xlink:href");
if(F==null)F=x.getAttribute("href");if(F==null)F=x.getAttribute("xl:href");return F};cM.B5=function(x,F,W,n,L){var $=F.getAttribute(x);
if($==null)return;var l=parseFloat($);if($.endsWith("%"))l*=(L?W.m:W.e)/100;if(L)n.x=l;else n.y=l};cM.xj=function(x,F,W,n){var L=cM,$=L.B5,l=new iJ,k=F.getAttribute("gradientTransform"),R=!1;
if(k)l=L.es(k);l.concat(W);var V=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]),i=V.Grad.v;i.Intr.v=0;var f=F.tagName,X=new eX(0,0),s=new eX(n.m,0);
if(f=="linearGradient"){V.Type.v.GrdT="Lnr";$("x1",F,n,X,!0);$("y1",F,n,X,!1);$("x2",F,n,s,!0);$("y2",F,n,s,!1);
X.x=s.x+.5*(X.x-s.x);X.y=s.y+.5*(X.y-s.y)}if(f=="radialGradient"){V.Type.v.GrdT="Rdl";if(F.getAttribute("cx"))X.x=parseFloat(F.getAttribute("cx"));
if(F.getAttribute("cy"))X.y=parseFloat(F.getAttribute("cy"));s.xz(X.x,X.y);if(F.getAttribute("r"))s.x+=parseFloat(F.getAttribute("r"))}var h=F;
while(!0){if(h.getAttribute("gradientUnits")=="userSpaceOnUse")R=!0;var B=L.Nn(h);if(B==null)break;h=x.getElementById(B.slice(1))}if(R){X=l.dr(X);
s=l.dr(s)}else{X.x=n.x+X.x*n.m;X.y=n.y+X.y*n.e;s.x=n.x+s.x*n.m;s.y=n.y+s.y*n.e}r.I.cD(X,s,n,V);var e=F.children;
if(e.length==0){var U=L.Nn(F);if(U==null)throw"gradient has no stops";var o=x.getElementById(U.slice(1));
if(o==null){console.log(U.slice(1))}else{var b=L.xj(x,o,l,n);V.Grad=b.Grad}}else{var u=[];for(var w=0;
w<e.length;w++){var Z=e[w],I=L.up(Z),y=I["stop-color"],D=I["stop-opacity"],N=Z.getAttribute("offset");
if(y==null)y="#000000";D=D==null?1:parseFloat(D);var j=N?parseFloat(N):0;if(N&&N.endsWith("%"))j/=100;
y=CSS.po(y);if(y.V!=null)D*=y.V/255;u.push([j,[y.o/255,y.r/255,y.z/255],parseFloat(D)])}r.I.yT(u,i)}return V};
cM.Kt=function(){var x=null,F=null,W="",n="",L;function $(D,N,j,H){var Q=[],T=" { ",c=" } ",a=!1;F=N;
n=N.lN?"":"\t";W=N.lN?"":" ";var C=N.a9P,J=N.ajI;L=new eu(0,0,D.m,D.e);if(H!=null){L=D.root.children[H].a.U$();
C=L.m;J=L.e}Q.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[L.x,L.y,L.m,L.e].join(" ")+"\" width=\""+C+"\" height=\""+J+"\">");
if(!N.lN)Q.push(l(1)+"<title>"+b(D.name.split(".")[0])+"</title>");var E={TA:[],$f:[],a_:0,yZ:0,SJ:0,sT:{},A8:{},VF:0,rg:{},atk:{},L_:0,op:[]};
B(D,E,D.root.children,1,N,j,H);if(E.TA.length!=0){Q.push(l(1)+"<defs>");Q=Q.concat(E.TA);Q.push(l(1)+"</defs>")}Q.push(l(1)+"<style>");
if(N.lN){T="{";c="}"}for(var w=0;w<D.B.length;w++)if(D.B[w].add.TySh)a=!0;if(a&&!N.axL&&!N.aaD)Q.push(l(2)+"tspan"+T+"white-space:pre"+c);
for(var K in E.rg)Q.push(l(2)+"."+K+T+E.rg[K]+c);Q.push(l(1)+"</style>");Q=Q.concat(E.$f);Q.push("</svg>");
Q=Q.join(N.lN?"":"\n");return _.Ug(Q)}function l(dx){var D="";for(var w=0;w<dx;w++)D+=n;return D}function k(dx,D){if(D==null)D=1;
var N=""+parseFloat(dx.toFixed(D));if(N.startsWith("0."))N=N.slice(1);return N}function V(D,N){var j=D.add.lmfx;
if(j)j=j[N].v[0];if(j)j=j.v;if(j&&!j.enab.v)j=null;return j}function i(D,N){var j=V(D,"frameFXMulti");
if(j){var H=j.Sz.v.val;if(j.Styl.v.FStl=="OutF"){N.push("paint-order:stroke fill markers");H*=2}h(N,CSS.uJ(j.Clr.v),1);
if(H!=1)N.push("stroke-width: "+H);N.push("stroke-linejoin: round;")}}var f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function X(D){var N=f.length,j="";for(var H=1;H<10;H++){var Q=(N-10)*~~Math.pow(N,H-1);if(D<Q){for(var w=0;
w<H;w++){var C=w==H-1?10:0,J=N-C,E=D%J;j=f[E+C]+j;D=Math.floor((D-E)/J)}break}D-=Q}return j}function s(D,N,j,H){if(D.length!=0){if(H==null)H="s";
var Q=D.join(";"),C=N.atk[Q];if(C==null){C=F.lN?X(N.L_):H+N.L_;N.L_++;N.atk[Q]=C;N.rg[C]=Q}if(j)j.push(C);
return C}}function R(D){if(F.lN&&D.length==7&&D[0]=="#"){if(D[1]==D[2]&&D[3]==D[4]&&D[5]==D[6])D="#"+D[1]+D[3]+D[5]}return D}function h(D,N,j){N=R(N);
if(N!="#000"||j==1)D.push((j==0?"fill:":"stroke:")+W+N)}function B(D,N,j,H,Q,C,J){var E=!1;for(var T=0;
T<j.length;T++){var c=j[T].a,a=c.add.lsct;if(c.add.artb&&J!=null&&T!=J)continue;if(!c.gO&&j[T+1]&&j[T+1].a.gO&&c.qA()&&c.add.vmsk){var K=[];
Z(c,c.add.vmsk,N,K);N.$f.push(l(H)+"<g "+K[0]+">");H++;E=!0}else if(!c.gO&&j[T-1]&&j[T-1].a.gO&&E){H--;
N.$f.push(l(H)+"</g>");E=!1}var Y=c.add.vmsk,p=c.add.vogk,P=c.add.vstk,m=c.add.TySh;if(Y&&!Y.isEnabled)Y=P=null;
var z=[];if(!Q.hidden&&!c.MG())continue;var M=c.opacity/255,d=c.add.iOpa?c.add.iOpa/255:1;if(c.vN()){M*=d;
d=1}if(M!=1)z.push("opacity:"+W+k(M));if(d!=1)z.push("fill-opacity:"+W+k(d));if(c.q_!="norm"){var A=a2.j2[a2.BL.indexOf(c.q_)];
if(A!=null)z.push("mix-blend-mode:"+W+A)}if(!c.MG())z.push("display:"+W+"none");var K=[],G=[],kB=c.getName(),q=kB.indexOf(" .");
if(!Q.lN)K.push("id=\""+b(kB)+"\"");var fO=hM.il(c.add.lmfx,c.add),g=fO[0],jN=fO[1],c6=c.add.SoLd;if(c6&&c6.filterFX){var a7=c6.filterFX.v;
if(a7.enab.v&&a7.filterFXList.v.length!=0)c6=null}if(c.vN()){var bd=j[T].children;if(!(bd.length==1&&bd[0].a.add.SoLd&&!Q.v9)){if(x&&c.getName().split("-").length==3){x.push({pL:c.getName(),fi:0,GO:[]})}Z(c,Y,N,K);
if(z.length!=0)K.push("style=\""+z.join(";")+"\"");if(g){var ey=CSS.uJ(g.Clr.v),c5="f"+N.yZ;N.yZ++;N.$f.push(l(H)+"<filter id=\""+c5+"\">");
N.$f.push(l(H+1)+"<feFlood flood-color=\""+ey+"\" flood-opacity=\""+k(g.Opct.v.val/100,2)+"\" />");N.$f.push(l(H+1)+"<feBlend mode=\""+a2.j2[a2.BL.indexOf(a2.zy(g.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
N.$f.push(l(H+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");N.$f.push(l(H)+"</filter>");
K.push("filter=\"url(#"+c5+")\"")}var bx=o(K,G),ap=Q.lN&&bx=="";if(!ap)N.$f.push(l(H)+"<g"+(bx==""?"":" "+bx)+">");
B(D,N,bd,H+1,Q,C);if(!ap)N.$f.push(l(H)+"</g>")}}else if(c.qA()&&Y==null){I(D,z,c.add,N,L,Q);if(z.length!=0)K.push("style=\""+z.join(";")+"\"");
N.$f.push(l(H)+"<rect width=\""+L.m+"\" height=\""+L.e+"\" "+o(K,G)+"/>")}else if(Y&&c6==null){var fC=r.j.Bd(Y.$,null,!0),kE,bm=null,fe=0,g8;
I(D,z,c.add,N,fC,Q);s(z,N,G);if(p.length!=0){kE=p[0].v;bm=kE.keyOriginType;if(bm)bm=bm.v;if(bm==2){var e0=r.mq.w9(kE);
fe=e0[0];for(var w=0;w<3;w++)if(fe!=e0[w+1])bm=null}}if(p.length==1&&bm==5&&Math.abs(r.mq.ahg(kE))<1e-4){var fC=r.mq.q6(kE),cF=(fC[0]+fC[2])/2,cr=(fC[1]+fC[3])/2,e_=cF-fC[0],gg=cr-fC[1],bW=Math.abs(e_-gg)<.01,gx=bW?"r=\""+k(e_)+"\"":"rx=\""+k(e_)+"\" ry=\""+k(gg)+"\"";
g8="<"+(bW?"circle":"ellipse")+" "+o(K,G)+" cx=\""+k(cF)+"\" cy=\""+k(cr)+"\" "+gx+"/>"}else if(p.length==1&&bm==2&&fe!=0&&Math.abs(r.mq.ahg(kE))<1e-4){var fC=r.mq.q6(kE),h$=fC[0],dH=fC[1],eg=fC[2]-fC[0],aB=fC[3]-fC[1],gB="";
if(h$!=0)gB+=" x=\""+k(h$)+"\"";if(dH!=0)gB+=" y=\""+k(dH)+"\"";gB+=" width=\""+k(eg)+"\"";gB+=" height=\""+k(aB)+"\"";
gB+=" rx=\""+k(fe)+"\"";g8="<rect "+o(K,G)+gB+"></rect>"}else{var jy=r.j.lp(Y.$,1);if(jy.Ce!=0){K.push("fill-rule=\"evenodd\"")}g8="<path "+o(K,G)+" d=\""+jy.g$+"\"/>"}N.$f.push(l(H)+g8);
if(x&&x[x.length-1]){var aV=r.Z.aE(Y.$);aV.p=aV.p.map(Math.round);var ie=x[x.length-1];ie.fi+=JSON.stringify(aV).length;
ie.GO.push([z[0].split("#").pop(),aV])}}else if(m&&Q.axL){W=Q.lN?"":" ";var cT=m.OU,a_=new iO(cT,C),gs=null;
if(g)gs=CSS.uJ(g.Clr.v);if(jN){var fC=c.rect.clone();y(jN,N,fC,Q);gs="url(#g"+N.a_+")"}if(gs)z.push("fill:"+W+gs);
i(c,z);var gq=kc.z_(a_,m,!0),kr=r.Z.nn(gq);for(var iN in kr){var jH=z.slice(0),h2=G.slice(0),an=K.slice(0);
if(gs==null){h(jH,iN.slice(0,7),0);if(iN.length>7){var bt=iN.slice(7).split("-");console.log(bt);h(jH,bt[1],1);
if(bt[2]!="1")jH.push("stroke-width:"+W+bt[2])}}s(jH,N,h2);var kH=kr[iN],bt=Typr.U.pathToSVG({crds:kH.p,cmds:kH.G},1);
N.$f.push(l(H)+"<path "+o(an,h2)+(Q.lN?"":" "+U(m))+" d=\""+bt+"\"/>")}}else if(m&&!Q.aaD){var cT=m.OU,js=m.i.clone(),gs=null;
z.push("transform:"+W+u(js));var gA=iV.YG(cT),a_=new iO(cT,C);i(c,z);if(z.length!=0)K.push("style=\""+z.join(";")+"\"");
N.$f.push(l(H)+"<text "+o(K,G)+" >");if(g)gs=CSS.uJ(g.Clr.v);if(jN){var fC=c.rect.clone();fC.x-=js.yq;
fC.y-=js.Ze;y(jN,N,fC,Q);gs=" url(#g"+N.a_+")"}for(var w=0;w<a_.wt.length;w++){var jR=a_.wt[w];if(jR.ae.length==1&&jR.ae[0].yB)continue;
for(var c3=0;c3<jR.qR.length;c3++){var iU=jR.qR[c3],cr=jR.GF.y+iU.GF.y,hn=jR.ae[iU.start].start,db=jR.ae[iU.end-1].end,dy=iV.axT(cT,hn,db),c2="";
for(var bk=0;bk<dy.length;bk++){var cx=a_.bd(hn),ft=dy[bk],eZ=iV.f3(cT,hn,hn),hf=eZ.zf[eZ.oE.Font].Name,iN=iV.z$(eZ.oE.FillColor),jr=Math.round(eZ.oE.FontSize),ix=gA.slice(hn,hn+ft);
if(eZ.oE.FontCaps==2)ix=ix.toUpperCase();var bF=new iJ;bF.translate(cx.fS.x,-cr);var fA=[];CSS.awV(fA,eZ,null,!0,!0,gs);
var ax=s(fA,N,null,"t");ax=ax?" class=\""+ax+"\"":"";var cF=cx.fS.x,jA=e(eZ,ix);c2+="<tspan "+(bk==0?"x=\""+k(cx.fS.x)+"\"":"")+" y=\""+k(cr)+"\""+ax+jA+">"+b(ix)+"</tspan>";
hn+=ft}N.$f.push(l(H+1)+c2)}}N.$f.push(l(H)+"</text>")}else if(c6&&Q.v9&&g==null){var c5=c6.Idnt.v,g1=0,iA=c6.Crop?c6.Crop.v:null;
if(N.A8[c5]!=null)g1=N.A8[c5];else{N.VF++;g1=N.VF;N.A8[c5]=N.VF;var iQ=D.OB(c5,iA),jp="";if(iQ==null)return;
var fB=iQ.mp,dn=jW.XM(iQ.raw.buffer);if(dn=="pdf"){var fP=new az("h");jW.w0("PDF").La(iQ.raw.buffer,fP);
fP.vq();fP.Qv();fP.W();fP.KS();if(c6.Crop&&c6.Crop.v==1){O.f7.e7(fP,fP.root.oU(fP,!0))}var k7=jW.w0("SVG").Rd(fP,fP.m,fP.e,null,{op:C});
jp="data:image/svg+xml;base64,"+jW.pe(k7)}else if(dn=="jpg"||dn=="png"||dn=="gif"||dn=="svg"){var hs={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
jp="data:"+hs[dn]+";base64,"+jW.pe(iQ.raw.buffer)}else{jp=jW.Lw(fB[0].buffer,fB[1].m,fB[1].e)}N.TA.push(l(2)+"<image width=\""+fB[1].m+"\" height=\""+fB[1].e+"\" id=\"img"+g1+"\" href=\""+jp+"\"/>")}var kb=r.D.V1(c6),gn=[];
Z(c,Y,N,gn);if(gn.length!=0)N.$f.push(l(H)+"<g "+o(gn,G)+">");if(z.length!=0)K.push("style=\""+z.join(";")+"\"");
var iy=o(K,G);N.$f.push(l(H)+"<use "+iy+" href=\"#img"+g1+"\" transform=\""+u(kb)+"\"/>");if(gn.length!=0)N.$f.push(l(H)+"</g>")}else if(!c.rect.ak()&&(Q.v9||m)){if(z.length!=0)K.push("style=\""+z.join(";")+"\"");
var iy=o(K,G),gU=c.buffer;if(g)gU=hM.a9c(gU,g,c.rect);var jV=c.rect;N.VF++;var jp=jW.Lw(gU.buffer,jV.m,jV.e,"png",null,!0);
N.TA.push(l(2)+"<image "+U(m)+" width=\""+c.rect.m+"\" height=\""+c.rect.e+"\" id=\"img"+N.VF+"\" href=\""+jp+"\"/>");
N.$f.push(l(H)+"<use "+iy+" href=\"#img"+N.VF+"\" x=\""+jV.x+"\" y=\""+jV.y+"\"/>")}}if(E){H--;N.$f.push(l(H)+"</g>");
E=!1}}function e(D,N){var j=D.oE.Tracking,H="";if(j!=null&&j!=0){j=Math.round(j*D.oE.FontSize/1e3);H=" dx=\"0";
for(var Q=1;Q<N.length;Q++)H+=" "+j;H+="\" "}return H}function U(D){if(D==null)return"";var N=D.OU,j=iV.YG(N);
j=b(j.slice(0,j.length-1));return"aria-label=\""+j+"\" "}function o(D,N){if(N.length!=0)D.push("class=\""+N.join(" ")+"\"");
return D.join(" ")}function b(D){return String(D).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function u(D){var N=[D.V,D.z,D.Pu,D.P9,D.yq,D.Ze];
for(var w=0;w<6;w++)N[w]=k(N[w],3);return"matrix("+N.join(",")+")"}function Z(D,N,j,H){if(N||D.add.artb){var Q;
if(N)Q=r.j.lp(N.$).g$;else{var C=D.U$(),J=r.Z.o4(C);Q=Typr.U.pathToSVG({crds:J.p,cmds:J.G},1)}j.SJ++;
H.push("clip-path=\"url(#cp"+j.SJ+")\"");j.TA.push(l(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+j.SJ+"\">");
j.TA.push(l(3)+"<path d=\""+Q+"\"/>");j.TA.push(l(2)+"</clipPath>")}}function I(D,N,j,H,Q,C){var J=j.vstk,E=j.vmsk,T=j.lmfx,c=[];
if(E&&E.vX!=0){var a=k(E.vX);if(H.sT[a]==null){H.yZ++;H.sT[a]=H.yZ;H.TA.push(l(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+H.yZ+"\"> <feGaussianBlur stdDeviation=\""+a+"\"/> </filter>")}c.push("url(#f"+H.sT[a]+")")}if(T)for(var w=0;
w<eC.order.length;w++){var K=eC.order[w],Y=eC.UM[w],p=T[Y].v;for(var P=0;P<p.length;P++){var m=p[P].v,z=m.classID;
if(!m.enab.v)continue;if(z=="OrGl"||z=="DrSh"){H.yZ++;c.push("url(#f"+H.yZ+")");var M=0,d=0,A=m.blur.v.val/2.4,G=m.Opct.v.val/100;
if(z=="DrSh"){var kB=m.uglg&&m.uglg.v?D.z8():m.lagl.v.val;kB=kB*(Math.PI/180);var q=m.Dstn.v.val;M=-Math.cos(kB)*q;
d=Math.sin(kB)*q}if(z=="OrGl")G/=m.Inpr.v.val/100;var fO="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+H.yZ+"\" >";
fO+="<feDropShadow dx=\""+M+"\" dy=\""+d+"\" stdDeviation=\""+A+"\" flood-color=\""+CSS.uJ(m.Clr.v)+"\" flood-opacity=\""+k(G)+"\"/>";
fO+="</filter>";H.TA.push(l(2)+fO)}}}if(c.length!=0)N.push("filter:"+W+c.join(" "));var g=hM.il(T,j),jN=g[0],c6=g[1];
if(J&&!J.fillEnabled.v)N.push("fill:"+W+"none");else if(jN){var a7=CSS.uJ(jN.Clr.v);h(N,a7,0)}else if(c6){y(c6,H,Q,C);
h(N,"url(#g"+H.a_+")",0)}if(J==null||!J.strokeEnabled.v)J=hM.hT(T);if(J&&J.strokeEnabled.v){var bd=J.strokeStyleContent.v,ey=bd.classID;
if(ey=="solidColorLayer")h(N,CSS.uJ(bd.Clr.v),1);else{y(bd,H,Q,C);h(N,"url(#g"+H.a_+")",1)}var c5=J.strokeStyleOpacity.v.val/100,bx=eC.pr.P6(J),ap=bx.lcap,fC=bx.ljoin,kE=bx.lwidth,bm=bx.sal,fe=bx.dash;
if(bm==2){kE*=2;N.push("paint-order:stroke fill markers")}if(ap!=0)N.push("stroke-linecap:"+W+["butt","round","square"][ap]);
if(fC!=0)N.push("stroke-linejoin:"+W+["miter","round","bevel"][fC]);if(c5!=1)N.push("stroke-opacity:"+W+k(c5));
if(kE!=1)N.push("stroke-width:"+W+k(kE));if(fe.length!=0)N.push("stroke-dasharray:"+W+fe.join(","))}}function y(D,N,j,H){N.a_++;
var Q=D.Grad.v,C=JSON.parse(JSON.stringify(Q.Clrs.v)),J=JSON.parse(JSON.stringify(Q.Trns.v)),E=D.Ofst.v,T=D.Type.v.GrdT,c=T=="Rdl"||T=="Dmnd"?1:0,a=(c==1?"radial":"linear")+"Gradient",K=r.I.l6(D,j),p="";
if(c==0){K[0].x=K[1].x+2*(K[0].x-K[1].x);K[0].y=K[1].y+2*(K[0].y-K[1].y)}var Y=l(2)+"<"+a+" id=\"g"+N.a_+"\"";
if(H.lN){if(N.a_==1)N.TA.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");p=" href=\"#P\""}else p=" gradientUnits=\"userSpaceOnUse\"";
if(c==0)N.TA.push(Y+" x1=\""+k(K[0].x)+"\" y1=\""+k(K[0].y)+"\" x2=\""+k(K[1].x)+"\" y2=\""+k(K[1].y)+"\""+p+">");
if(c==1)N.TA.push(Y+" cx=\""+k(K[0].x)+"\" cy=\""+k(K[0].y)+"\" r=\""+k(eX.I9(K[0],K[1]))+"\""+p+">");
var P=D.Rvrs.v,m=r.I.A2(Q,P),z=H.lN?2:3;for(var w=0;w<m.length;w++){var M=m[w],d=M[0],A=M[1],G=M[2];
G=G==1?"":" stop-opacity=\""+k(G,z)+"\"";var kB=d==0&&H.lN?"":" offset=\""+k(d,z)+"\"",q=CSS.Go({o:A[0]*255,r:A[1]*255,z:A[2]*255});
q=H.lN&&q=="#000000"?"":" stop-color=\""+R(q)+"\"";N.TA.push(l(3)+"<stop"+kB+q+G+"/>")}N.TA.push(l(2)+"</"+a+">")}cM.Qa=u;
return $}();cM.sk=function(x,F,W,n,L){var $=[],l=cM.sk,k=!1,V={Xv:x,eD:F,iJ:[!0,!0,!0],Ah:!1,ey:W,ax9:0};
V.ze=Math.round(Math.max(x,F)*(.02+l.lO(V)*.03));V.UE=l.az0(V);V.zZ=l.ars(V.UE,(l.lO(V)<.5?-1:1)*(.2+l.lO(V)*.3));
if(l.lO(V)<.5){var i=V.UE;V.UE=V.zZ;V.zZ=i}V.acB=l.lO(V)<.4&&l.adi(V.zZ,{o:1,r:1,z:1})>.3;V.apq=l.lO(V)<.5?0:1;
$.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+x+" "+F+"\" width=\""+x+"\" height=\""+F+"\">");
V.Dn=n[Math.floor(l.cr(V)*n.length)];V.l7=n[Math.floor(l.cr(V)*n.length)];$.push("<style>");$.push("@font-face {  font-family: "+V.Dn[2]+";  src: url(rsrc/fonts/"+V.Dn[5]+");  }");
$.push("@font-face {  font-family: "+V.l7[2]+";  src: url(rsrc/fonts/"+V.l7[5]+");  }");$.push("</style>");
var f=[0,0,x,F],X=f;if(L==null)$.push("<path style=\"fill: "+l.Pv(V.UE)+"\" d=\""+l.Rect(f[0],f[1],f[2]-f[0],f[3]-f[1])+"\" id=\"Background\" />");
else{V.Ah=!0;l.an9(V,f,$,L)}if(l.lO(V)<.25&&!V.Ah){V.iJ[0]=V.iJ[2]=!1;l.azv(f,V,$);X=f}else if(l.lO(V)<.25||V.Ah)X=f;
else{var s=.52+l.lO(V)*.2;if(l.lO(V)<.5)s=1-s;var R=f.slice(0),h=f.slice(0);if(l.lO(V)<.5)R[2]=h[0]=Math.round(s*x);
else R[3]=h[1]=Math.round(s*F);if(l.lO(V)<.5){var i=R;R=h;h=i}X=R;l.a1j(V,h,$,L)}l.abG(V,X,$);$.push("</svg>");
$=$.join("\n");var B=r.R(Math.round($.length*1.5)),e=_.S1($,B,0);return[B.buffer.slice(0,e),V.vj]};cM.sk.azv=function(x,F,W){var n=cM.sk,L=x[2]-x[0],$=x[3]-x[1];
if(n.lO(F)<.5){W.push("<path id=\"Border\" style=\"fill: "+n.Pv(F.zZ)+"\" d=\""+n.ak$(x[0],x[1],x[2]-x[0],x[3]-x[1],F.ze)+"\" />")}else if(n.lO(F)<-.4){n.azQ(F,x,W)}else{var l=n.lO(F)<.5?0:1,k=(l==0?$:L)/4,V=n.xo(F,l,x,W,k,!0),V=n.xo(F,l+2,x,W,k,!0,V)}};
cM.sk.abG=function(x,F,W){var n=cM.sk,L="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),$=2*Math.floor(n.lO(x)*L.length/2),l=F[2]-F[0],k=F[3]-F[1],i=0,X=0;
x.eM=(x.Xv+l)*.5*(.04+n.lO(x)*.05);x.eM=Math.min(x.eM,k*.4,l*.12);x.eM=Math.round(x.eM);var V=Math.min(x.eM*L[$].length*(.35+.3*n.lO(x)),l*.9),f=(F[1]+F[3])/2,s=r.fz(x.UE)<.85?{o:1,r:1,z:1}:{o:.1,r:.1,z:.1};
if(n.lO(x)<.25&&x.iJ[0]){X=0;i=F[0]+x.ze}else if(n.lO(x)<.33&&x.iJ[2]){X=2;i=F[2]-x.ze}else{X=1;i=(F[0]+F[2])/2}var R=s.o==1?"0,0,0":"255,255,255",h=x.Ah&&n.lO(x)<1;
if(h){var B=F[0],e=l,U=f-x.eM*1.1,o=x.eM*2.2,b=.7;if(X==1&&n.lO(x)<.5){B=U=.2*Math.min(l,k);e=l-2*U;
o=k-U-U}else if(n.lO(x)<.7){B=U=0;e=l;o=k;b=.25}W.push("<path id=\"Strip\" style=\"fill: rgb("+R+"); opacity: "+b+"\" d=\""+n.Rect(B,U,e,o)+"\" />")}if(n.lO(x)<.4){var u=x.eM*.07;
u*=1.5+n.lO(x)*1;if(X==-1&&l/k<3&&!h){W.push("<path id=\"Bar-bottom\" style=\"fill: "+n.Pv(s)+"\" d=\""+n.Rect(i-V/2,f+x.eM*1.1-u/2,V,u)+"\" />");
W.push("<path id=\"Bar-top\"    style=\"fill: "+n.Pv(s)+"\" d=\""+n.Rect(i-V/2,f-x.eM*1.1-u/2,V,u)+"\" />")}if(X!=1){W.push("<path id=\"Bar\" style=\"fill: "+n.Pv(s)+"\" d=\""+n.Rect(i-u/2,f-x.eM*.8,u,x.eM*.8*2)+"\" />");
i+=(X==0?1:-1)*x.eM/3}}var Z=x.eM*.4;W.push(n.aei(L[$+1],i,f+Z*1.6,Z,s,X,x.l7));W.push(n.aei(L[$],i,f+x.eM*.04,x.eM,s,X,x.Dn))};
cM.sk.a1j=function(x,F,W,n){var L=F[2]-F[0],$=F[3]-F[1],l=Math.max(L,$),k=Math.min(L,$),V=cM.sk;if(l/k<5&&!x.Ah&&!1){V.an9(x,F,W,n)}else if(V.lO(x)<0)W.push("<path style=\"fill: "+V.Pv(x.zZ)+"\" d=\""+V.Rect(F[0],F[1],L,$)+"\" />");
else{var i=0;if(F[3]!=x.eD)i=0;if(F[2]!=x.Xv)i=3;if(F[0]!=0)i=1;if(F[1]!=0)i=2;var f=i+2&3;if(l/k<3){var X=V.a8E(f),s=X[Math.round(V.lO(x)*(X.length-1))],R=s.pL.slice(0,4),h=R.indexOf(1);
s=JSON.parse(JSON.stringify(s));var B=-1;if(R!="0000"){var e=new iJ;if(s.pL[5]=="0"){if(h==3&&i==1){B=1;
e.scale(-1,1)}else B=h}else{var U=f;while(U==f)U=Math.floor(V.lO(x)*4)&3;e.rotate((-h+U)*Math.PI/2)}V.i(s,e)}var o=V.KR(s),b=L-2*x.ze,u=$-2*x.ze;
if(B!=-1){if((B&1)==0)u-=x.ze;else b-=x.ze}var Z=Math.min(b/o.m,u/o.e),I=new iJ;I.translate(-o.x,-o.y);
I.scale(Z,Z);var y=(L-o.m*Z)/2,D=($-o.e*Z)/2;if(B!=-1){if(B==3)y=0;if(B==0)D=0;if(B==1)y=L-o.m*Z;if(B==2)D=$-o.e*Z}I.translate(F[0]+y,F[1]+D);
V.bw(x,s,I,x.zZ,W)}else{V.xo(x,i,F,W,1e9)}}};cM.sk.an9=function(x,F,W,n){var L=F[2]-F[0],$=F[3]-F[1],l=Math.max(L,$),k=Math.min(L,$),V=cM.sk,i=V.cr(x),f,X,s,R=n[0]instanceof ArrayBuffer;
if(R){f="data:image/jpg;base64,"+jh.RU(n[0]);X=n[1];s=n[2]}else{var h=Math.floor(i*n.length),B=n[h];
x.vj=B;f=B.webformatURL;X=B.webformatWidth;s=B.webformatHeight}var e=F[0],U=F[1],o=L,b=$;if(L/$>X/s){b=o*s/X;
U=U-(b-$)/2}else{o=b*X/s;e=e-(o-L)/2}if(R){W.push("<defs>");W.push("<image width=\""+X+"\" height=\""+s+"\" id=\"Background\" href=\""+f+"\" />");
W.push("</defs>");var u=o/X;W.push("<use href=\"#Background\" transform=\""+cM.Qa(new iJ(u,0,0,u,e,U))+"\" />")}else{var Z="cp"+Math.random();
W.push("<clipPath id=\""+Z+"\">");W.push("<path style=\"fill: "+V.Pv(x.zZ)+"\" d=\""+V.Rect(F[0],F[1],L,$)+"\" />");
W.push("</clipPath>");W.push("<image  clip-path=\"url(#"+Z+")\" xlink:href=\""+f+"\" x=\""+e+"\" y=\""+U+"\" width=\""+o+"\" height=\""+b+"\" />")}};
cM.sk.aei=function(x,F,W,n,L,$,l){var k=cM.sk;return"<text x=\""+F+"\" y=\""+W+"\" style=\"fill:"+k.Pv(L)+"; font-size:"+n+"px; text-anchor:"+["start","middle","end"][$]+"; font-family:"+l[2]+";\"><tspan>"+x+"</tspan></text>"};
cM.sk.bw=function(x,F,W,n,L){var $=cM.sk,l=[];for(var w=0;w<F.GO.length;w++){l.push(n);if(x.acB){n=(w&1)==x.apq?{o:1,r:1,z:1}:l[0]}}L.push("<g id=\""+F.pL.split("-")[2]+":::\" style=\"transform: "+cM.Qa(W)+";\" >");
for(var w=0;w<F.GO.length;w++){var k=F.GO[w];n=l.pop();L.push("<path style=\"fill: "+(n?$.Pv(n):"#"+k[0])+"\" d=\""+Typr.U.pathToSVG({crds:k[1].p,cmds:k[1].G})+"\" />")}L.push("</g>")};
cM.sk.azQ=function(x,F,W){var n=cM.sk,L=cM.sk.x7,$=[];for(var w=0;w<L.length;w++){var l=L[w],k=l.pL.slice(0,4);
if(k!="1001")continue;$.push(l)}var l=$[Math.floor(n.lO(x)*$.length)];if(n.lO(x)<.5)n.i(l,new iJ(0,1,1,0,0,0));
var V=F[3]-F[1],i=F[2]-F[0],f=n.KR(l),X=.7*Math.min(i,V,.5*Math.max(i,V))/Math.max(f.m,f.e),s=new iJ;
s.scale(X,X);if(n.lO(x)<.5){s.scale(1,-1);s.translate(0,V)}n.bw(x,l,s,x.zZ,W);s.rotate(Math.PI);s.translate(i,V);
n.bw(x,l,s,x.zZ,W)};cM.sk.a8E=function(x){var F=cM.sk.x7,W=[];for(var w=0;w<F.length;w++){var n=F[w],L=n.pL.slice(0,4);
if(L=="0000"){W.push(n);continue}if(["1000","0100","0010","0001"].indexOf(L)==-1)continue;var $=L.indexOf("1");
if(n.pL[5]=="0"&&x==$&&$!=3)continue;W.push(n)}return W};cM.sk.xo=function(x,F,W,n,L,$,l){var k=cM.sk.x7,V=cM.sk,i=[],o,b;
for(var w=0;w<k.length;w++){var f=k[w],X=f.pL.slice(0,4);if(["1110","1101","1011","0111"].indexOf(X)==-1)continue;
var s=X.indexOf("0")+2&3;if(f.pL[5]=="0")if($==!0||F!=s&&!(F==1&&s==3))continue;i.push(f)}var R=l!=null?l:Math.floor(V.lO(x)*i.length),f=i[R],f=JSON.parse(JSON.stringify(f)),X=f.pL.slice(0,4),s=X.indexOf("0")+2&3;
if(s==3&&F==1)r.i(f,new iJ(1,0,0,-1,0,1e3));var h=new iJ;h.translate(-500,-500);h.rotate(-s*Math.PI/2);
h.translate(500,500);V.i(f,h);var B=W[3]-W[1],e=W[2]-W[0],U=V.KR(f);if(U.y<0){U.e+=U.y;U.y=0}if(U.y>0){U.e+=U.y;
U.y=0}if((F&1)==0){b=B;o=e}else{o=B;b=e}var u=Math.min(Math.min(.5+.5*V.lO(x))*Math.min(e,B),L)/U.e,Z=Math.ceil(o/(1e3*u)),I=new iJ,y=new iJ;
y.scale(u,u);if(F==0||F==2){y.translate(-(e/2),-(B/2));y.rotate(-F*Math.PI/2);y.translate(e/2+W[0],B/2+W[1])}else{y.rotate(Math.PI/2);
y.scale(1,-1);y.translate(W[0],W[1]);if(F==1){y.scale(-1,1);y.translate(e,0)}}n.push("<g id=\"Border-"+["top","right","bottom","left"][F]+":::\">");
for(var w=0;w<Z;w++){var D=I.clone();D.concat(y);V.bw(x,f,D,x.zZ,n);I.translate(1e3-2,0)}n.push("</g>");
return R};cM.sk.Rect=function(x,F,W,n){return Typr.U.pathToSVG({crds:[x,F,x+W,F,x+W,F+n,x,F+n],cmds:["M","L","L","L","Z"]})};
cM.sk.ak$=function(x,F,W,n,L){var $=[x,F,x+W,F,x+W,F+n,x,F+n];x+=L;F+=L;W-=2*L;n-=2*L;$.push(x,F,x,F+n,x+W,F+n,x+W,F);
return Typr.U.pathToSVG({crds:$,cmds:"M L L L Z M L L L Z".split(" ")})};cM.sk.ars=function(x,F){var W=r.Cl(x.o,x.r,x.z);
W.XY=Math.max(.1,Math.min(.9,W.XY+F));return r.Eh(W.eD,W.TR,W.XY)};cM.sk.a6d=function(x,F){var W=r.Cl(x.o,x.r,x.z);
W.eD+=F;return r.Eh(W.eD,W.TR,W.XY)};cM.sk.aDc=function(x){var F=r.Cl(x.o,x.r,x.z);F.XY=1-F.XY;return r.Eh(F.eD,F.TR,F.XY)};
cM.sk.adi=function(x,F){var W=x.o-F.o,n=x.r-F.r,L=x.z-F.z;return Math.sqrt(W*W+n*n+L*L)};cM.sk.az0=function(x){var F=cM.sk;
return{o:F.lO(x),r:F.lO(x),z:F.lO(x)}};cM.sk.Pv=function(x){return CSS.Go({o:x.o*255,r:x.r*255,z:x.z*255})};
cM.sk.KR=function(x){var F=x.GO,W=new eu;for(var w=0;w<F.length;w++)W=W.oA(r.Z.KR(F[w][1].p));return W};
cM.sk.i=function(x,F){var W=x.GO;for(var w=0;w<W.length;w++)r.Z.i(W[w][1].p,F,W[w][1].p)};cM.sk.lO=function(x){x.ax9++;
var F=x.ax9&3;if(F==0)x.ey=cM.sk.AX(x.ey);var W=x.ey>>>8*F&255;return W*(.99999999/255)};cM.sk.cr=function(x){var F=cM.sk.AX(x.ey);
x.ey=cM.sk.AX(F);return F*(1/4294967295)};cM.sk.AX=function(x){x=(x^61^x>>>16)>>>0;x=x+(x<<3)>>>0;x=(x^x>>>4)>>>0;
x=x*668265261>>>0;x=(x^x>>>15)>>>0;return x};cM.sk.x7=[{pL:"0001-0-bird",GO:[["4b3c34",{G:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),p:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{G:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),p:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{G:"M C C C C C C C C C C C C L Z".split(" "),p:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{pL:"0001-0-bird2",GO:[["ff7f2a",{G:"M L L L Z M L L L Z".split(" "),p:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{G:"M C C C C C C C C C C C L Z".split(" "),p:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{G:"M C C C C C C L Z M C C Z".split(" "),p:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{G:"M L L L Z M L L L Z".split(" "),p:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{G:"M L C C C C C C C C L Z".split(" "),p:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{G:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),p:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{pL:"0000-1-flower",GO:[["7a59a2",{G:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),p:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{pL:"0000-1-flower",GO:[["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),p:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{pL:"0000-1-flower",GO:[["ffac42",{G:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),p:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{pL:"0000-1-flower",GO:[["d04040",{G:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),p:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{pL:"0000-1-flower",GO:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),p:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{G:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),p:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{pL:"0000-0-hearts",GO:[["d17070",{G:"M C C C C C C C C C L Z".split(" "),p:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{G:"M C C C C C C C C C L Z".split(" "),p:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{G:"M C C C C C C C C C L Z".split(" "),p:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{pL:"0000-0-anchor",GO:[["2a3b66",{G:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),p:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{pL:"0000-1-leaf",GO:[["fbb600",{G:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),p:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{pL:"0000-1-acorn",GO:[["a05a2c",{G:"M C C C C C C C L Z".split(" "),p:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{G:"M C C C C C C C C C C C Z".split(" "),p:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{pL:"0000-0-skull",GO:[["808080",{G:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),p:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{pL:"0000-0-ghost",GO:[["e6e6e6",{G:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),p:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{G:"M C C C C Z M C C C C Z".split(" "),p:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{pL:"1001-1-rose",GO:[["9e1460",{G:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),p:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{G:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),p:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{pL:"1001-1-curls",GO:[["53a7ab",{G:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),p:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{G:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),p:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{pL:"0111-0-pines",GO:[["e9e9e9",{G:"M C C C C C C C C L L L Z".split(" "),p:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{G:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),p:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{pL:"0111-0-flowers",GO:[["8cae40",{G:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),p:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),p:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{pL:"1101-1-confetti",GO:[["e789ff",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{pL:"1101-1-branch",GO:[["7f500b",{G:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),p:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),p:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{pL:"1101-1-sticks",GO:[["ec7272",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{pL:"1101-1-dots",GO:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),p:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),p:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{G:["M","C","C","Z"],p:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{pL:"1101-1-strips",GO:[["ffc88c",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{G:["M","C","C","Z"],p:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{pL:"1101-1-circs",GO:[["ec7272",{G:"M C C C C Z M C C C C Z".split(" "),p:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{G:"M C C C C Z M C C C C Z".split(" "),p:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{G:["M","C","C","Z"],p:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{pL:"1101-1-squares",GO:[["014ea7",{G:"M L L L L Z M L L L L Z".split(" "),p:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{G:"M L L L L Z M L L L L Z".split(" "),p:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{G:["M","C","C","Z"],p:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{pL:"1101-0-christmas",GO:[["014ea7",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),p:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),p:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var fv={};fv.parse=function(x){var F=new Uint8Array(x),W=null;if(F[0]==80&&F[1]==75){var n=Date.now(),L=UZIP.parse(F.buffer),W=L["document.json"];
W=JSON.parse(_.NM(W,0,W.length));fv._U(W,L)}else{var $=k4.parse(x);W=fv.aaS($[2][0][1])}return W};fv._U=function(x,F){var W=typeof x;
if(W=="string"||W=="number"||W=="boolean")return x;if(x instanceof Array){for(var w=0;w<x.length;w++)x[w]=fv._U(x[w],F);
return x}var n=x._class;if(n==null)return x;if(n=="MSJSONFileReference"){var L=x._ref;if(!1){}else if(F[L+".json"]!=null){var $=F[L+".json"],l=$.length;
for(var w=0;w<l;w++)if($[w]==11||$[w]==3)$[w]=32;var k=_.NM($,0,l);x=JSON.parse(k)}else if(F[L+".png"]!=null)return{key:L.split("/").pop(),bdata:F[L+".png"]};
else if(F[L+".jpg"]!=null)return{key:L.split("/").pop(),bdata:F[L+".jpg"]};else if(F[L+".pdf"]!=null)return{key:L.split("/").pop(),bdata:F[L+".pdf"]};
else if(F[L]!=null)return{key:L.split("/").pop(),bdata:F[L]};else{console.log(x,F);return}}else if(n=="MSAttributedString"){var k=atob(x.archivedAttributedString._archive),V=k.length,i=new Uint8Array(V);
for(var w=0;w<V;w++)i[w]=k.charCodeAt(w);x.archivedAttributedString=fv.aaS(i)}for(var f in x)x[f]=fv._U(x[f],F);
return x};fv.arQ=function(x,F,W,n){if(x instanceof Uint8Array)return null;if(n.indexOf(x)!=-1)return null;
n.push(x);if(x==F)return W;for(var L in x){W.push(L);var $=fv.arQ(x[L],F,W,n);if($){console.log(x,$);
throw"e"}W.pop()}};fv.aaS=function(x){var F=eJ.parse(x,0),W=F.$objects,n=new Uint8Array(W.length),L=fv.fl(W,n,F.$top.root);
for(var w=0;w<W.length;w++)if(n[w]==0&&w!=0){console.log(w,W[w]);fv.arQ(L,w,[],[])}for(var w=0;w<W.length;
w++){var $=W[w];if($._class&&($._class=="bitmap"||$._class=="fill"&&$.fillType==4&&($.image||$.imageSHA))){var l=$.image,k=$.imageSHA,V=null,i=null;
if(l=="$null")l=null;if(k=="$null")k=null;if(l&&l.data){i=l.sha1["NS.bytes"];i=btoa(_.xR(i,0,i.length));
V=l.data instanceof Uint8Array?l.data:l.data["NS.bytes"]}else if(l==null&&k==null){var f=jW.w0("PNG").Rd([[r.R(4).buffer]],1,1);
V=new Uint8Array(f)}else{var X=(L.assets?L.assets.imageCollection:L.images).images;if(k)i=k instanceof Uint8Array?k:k["NS.bytes"];
else i=l.sha1["NS.bytes"];i=btoa(_.xR(i,0,i.length));var V=X[i].data;if(V["NS.bytes"])V=V["NS.bytes"]}V=new Uint8Array(V.buffer.slice(V.byteOffset,V.byteOffset+V.length));
delete $.imageSHA;$.image={key:i,bdata:V}}}return L};fv.axV=function(x){return x.slice(0,11)=="MSImmutable"?"MS"+x.slice(11):x};
fv.fl=function(x,F,W){var n=x[W];if(F[W]==1){return n}F[W]=1;if(typeof n=="string")return n;if(typeof n=="number")return n;
if(typeof n=="boolean")return n;if(n instanceof Array)return n;if(n instanceof Uint8Array){return n}if(x[n.$class]==null){if(n.$class==null&&n["NS.data"]!=null)return n;
console.log(W,n);throw"e"}var L=x[n.$class],$=fv.axV(L.$classname);F[n.$class]=1;n.$class=$;if(fv.aC3[$]){delete n.$class;
n._class=fv.aC3[$]}var l=fv.fl;if($=="NSMutableArray"||$=="NSArray"){var k=[];if(n["NS.objects"]!=null)for(var w=0;
w<n["NS.objects"].length;w++)k.push(l(x,F,n["NS.objects"][w]));else for(var w=0;n["NS.object."+w]!=null;
w++)k.push(l(x,F,n["NS.object."+w]));x[W]=k;return k}if($=="NSDictionary"||$=="NSMutableDictionary"){var V={$class:$};
if(n["NS.keys"]!=null)for(var w=0;w<n["NS.keys"].length;w++){var i=l(x,F,n["NS.keys"][w]);if(i instanceof Uint8Array)i=btoa(fv.JD.xR(i,0,i.length));
else if(typeof i!="string"&&typeof i!="number")i=btoa(fv.JD.xR(i["NS.bytes"],0,i["NS.bytes"].length));
V[i]=l(x,F,n["NS.objects"][w])}else for(var w=0;n["NS.key."+w]!=null;w++){var i=l(x,F,n["NS.key."+w]);
if(i instanceof Uint8Array)i=btoa(fv.JD.xR(i,0,i.length));else if(typeof i!="string"&&typeof i!="number")i=btoa(fv.JD.xR(i["NS.bytes"],0,i["NS.bytes"].length));
V[i]=l(x,F,n["NS.object."+w])}for(var f in n)delete n[f];for(var f in V)n[f]=V[f];return n}if($=="NSURL")return{$class:$,base:l(x,F,n["NS.base"]),relative:l(x,F,n["NS.relative"])};
if(fv.a8L.indexOf($)!=-1){x[W]=l(x,F,n.array_do);return x[W]}if(n.do_objectID!=null)n.do_objectID=l(x,F,n.do_objectID);
if(fv.am1.indexOf($)!=-1)return n;var X=fv.a8C[$];if(X==null){console.log(x,n);throw"unknown class "+$}for(var w=0;
w<X.length;w++)if(n[X[w]]!=null)n[X[w]]=l(x,F,n[X[w]]);if($=="MSTextLayer"){var s=n,R,h,B,e;if(s.attributedString)R=s.attributedString.archivedAttributedString;
else R=s.storage;e=R.NSString;if(typeof e!="string")e=_.NM(e["NS.bytes"],0,e["NS.bytes"].length);if(R.NSAttributeInfo)h=R.NSAttributeInfo["NS.bytes"];
else{var U=e.length,o=[];while(U>0){var b=Math.min(100,U);o.push(b,0);U-=b}h=new Uint8Array(o)}B=R.NSAttributes instanceof Array?R.NSAttributes:[R.NSAttributes];
var u={$class:"NSAttributedString",NSString:e,NSAttributes:B};s.attributedString={_class:"MSAttributedString",archivedAttributedString:u};
u.NSAttributeInfo={$class:"NSMutableData","NS.data":h};delete s.storage}return n};fv.JD={Vk:function(x,F){return x[F+1]<<8|x[F]},q:function(x,F){return x[F+3]<<24|x[F+2]<<16|x[F+1]<<8|x[F]},xR:function(x,F,W){var n="";
for(var w=0;w<W;w++)n+=String.fromCharCode(x[F+w]);return n}};fv.aC3={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
fv.a8L=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
fv.am1="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
fv.a8C={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var eJ={};eJ.parse=function(x,F){var W=_.xR(x,F,8);F+=8;var n=x.length-32,L=eJ.parse.a14(x,n),$=[];if(L.eO==1){var F=n-L.eO*L.LV;
for(var w=0;w<L.LV;w++)$.push(x[F+w])}else if(L.eO==2){var F=n-L.eO*L.LV;for(var w=0;w<L.LV;w++)$.push(_.Vk(x,F+w*2))}else if(L.eO==4){var F=n-L.eO*L.LV;
for(var w=0;w<L.LV;w++)$.push(_.q(x,F+w*4))}else{throw"e"}var l=eJ.parse.fl(x,$,L.root,L);return l};
eJ.parse.fl=function(x,F,W,n){var L=eJ.JD,$=n.aug,l=$==4?L.q:$==2?L.Vk:L.ajg,k=eJ.parse,V=F[W],i=x[V],f=i>>4,X=i&15,R=null;
V+=1;if([4,5,6,10,12,13].indexOf(f)!=-1&&X==15){var s=k.o3(x,V);V+=s.fi;X=s.b}if(!1){}else if(f==0)R=X==8?!1:X==9?!0:null;
else if(f==1)R=k.o3(x,V-1).b;else if(f==2)R=1<<X==4?_.Pb(x,V):_.aJ(x,V);else if(f==3)R=_.aJ(x,V);else if(f==4)R=new Uint8Array(x.buffer,V,X);
else if(f==5)R=_.xR(x,V,X);else if(f==6)R=_.Iu(x,V,X);else if(f==8){R=0;for(var w=0;w<X+1;w++)R=R<<8|x[V+w]}else if(f==10){R=[];
for(var w=0;w<X;w++)R.push(k.fl(x,F,l(x,V+$*w),n))}else if(f==12){R=[];for(var w=0;w<X;w++)R.push(k.fl(x,F,l(x,V+$*w),n))}else if(f==13){R={};
for(var w=0;w<X;w++){var h=k.fl(x,F,l(x,V+$*w),n),B=k.fl(x,F,l(x,V+$*(X+w)),n);R[h]=B}}else throw"unknown mask "+f;
return R};eJ.parse.o3=function(x,F){var W=1<<(x[F]&15),n=0;for(var w=0;w<W;w++)n=n<<8|x[F+1+w];return{b:n,fi:W+1}};
eJ.parse.a14=function(x,F){var W={};F+=6;W.eO=x[F];F++;W.aug=x[F];F++;F+=4;W.LV=_.q(x,F);F+=4;F+=4;W.root=_.q(x,F);
F+=4;F+=4;W.aoH=_.q(x,F);F+=4;return W};eJ.JD={ajg:function(x,F){return x[F]},Vk:function(x,F){return x[F]<<8|x[F+1]},q:function(x,F){return x[F]<<24|x[F+1]<<16|x[F+2]<<8|x[F+3]},xR:function(x,F,W){var n="";
for(var w=0;w<W;w++)n+=String.fromCharCode(x[F+w]);return n}};var k4={parse:function(x){var F=new Uint8Array(x),W=k4.Pq(F),n=[],L=new Uint8Array(F.length),$=[];
n.push($);k4.Y_(F,W,1,L,$);for(var w=0;w<$.length;w++){var l=[];n.push(l);k4.Y_(F,W,$[w][3],L,l,w==11);
$[w][3]=w+1}return n},Y_:function(x,F,W,n,L,$){W--;var l=W*F.VR+(W==0?100:0),k=x[l],V=k4.Vk(x,l+1),i=k4.Vk(x,l+3),f=k4.Vk(x,l+5),s=0;
if(f==0)f=65536;var X=x[l+7];l+=8;if(k==2||k==5){s=k4.q(x,l);l+=4}for(var R=0;R<i;R++){var h=W*F.VR+k4.Vk(x,l+2*R),B=-1,e=0,U=0,o=0;
if(k==2||k==5){B=k4.q(x,h);h+=4}if(k==2||k==10||k==13){e=k4.zQ(x,h);h+=e.fi}if(k==5||k==13){U=k4.zQ(x,h);
h+=U.fi}if(k==2||k==5){k4.Y_(x,F,B,n,L,$);continue}var b=F.VR-(W==0?100:0),u=e._M,Z=k==13?b-35:Math.floor((b-12)*64/255)-23,I=Math.floor((b-12)*32/255)-23,y=I+(u-I)%(b-4);
if(u<=Z){k4.Bj(x,h,n,0,u)}else{var D=y<=Z?y:I,N=0;k4.Bj(x,h,n,0,D);N+=D;o=k4.q(x,h+D);while(o!=0){var j=(o-1)*F.VR;
o=k4.q(x,j);var H=Math.min(F.VR-4,u-N);k4.Bj(x,j+4,n,N,H);N+=H}}L.push(k4.ayg(n,u))}if(s!=0)k4.Y_(x,F,s,n,L,$)},ayg:function(x,F){var W=0,n=k4.zQ(x,W);
W+=n.fi;var L=[],$=[];while(W<n._M){var l=k4.zQ(x,W);W+=l.fi;L.push(l._M)}if(W!=n._M)throw"e";for(var w=0;
w<L.length;w++){var l=L[w];if(!1){}else if(l==0)$.push(null);else if(l==1){$.push(k4.axm(x,W));W+=1}else if(l==2){$.push(k4.mf(x,W));
W+=2}else if(l==3){$.push(k4.acQ(x,W));W+=3}else if(l==4){$.push(k4.o3(x,W));W+=4}else if(l==5){$.push(k4.q(x,W+2));
W+=6}else if(l==6){$.push(k4.q(x,W)+":"+k4.q(x,W+4));W+=8}else if(l==7){$.push(k4.aaj(x,W));W+=8}else if(l==8)$.push(0);
else if(l==9)$.push(1);else if(l>=12&&(l&1)==0){var k=l-12>>1,V=new Uint8Array(k);k4.Bj(x,W,V,0,k);$.push(V);
W+=k}else if(l>=13&&(l&1)==1){var k=l-13>>1;$.push(k4.NM(x,W,k));W+=k}else throw"unknonw type "+l}return $},Pq:function(x){if(!(x[18]==1&&x[19]==1&&x[20]==0&&x[21]==64&&x[22]==32&&x[23]==32))throw"unexpected SQL3 header";
var F={d1:k4.xR(x,0,15),VR:k4.Vk(x,16),ahm:k4.q(x,24),size:k4.q(x,28),asU:k4.q(x,32),a0a:k4.q(x,36),aiJ:k4.q(x,40),amr:k4.q(x,44),aAP:k4.q(x,48),aaM:k4.q(x,52),ayN:k4.q(x,56),aem:k4.q(x,60),a8s:k4.q(x,64)!=0,axC:k4.q(x,68),abn:k4.q(x,92),aeW:k4.q(x,96)};
if(F.VR==1)F.VR=65536;if(F.ayN!=1)throw"unsupported text encoding "+F.ayN;return F},a4L:function(x,F){return x[F]<<16|x[F+1]<<8|x[F+2]},acQ:function(x,F){var W=k4.a4L(x,F),n=W&8388608;
return n?-(16777215-W+1):W},axm:function(x,F){k4.O$[0]=x[F];return k4.akP[0]},o3:function(x,F){var W=k4.O$;
for(var w=0;w<4;w++)W[w]=x[F+3-w];return k4.afx[0]},mf:function(x,F){var W=k4.O$;W[0]=x[F+1];W[1]=x[F];
return k4.aga[0]},Vk:function(x,F){return x[F]<<8|x[F+1]},q:function(x,F){var W=k4.O$;for(var w=0;w<4;
w++)W[w]=x[F+3-w];return k4.ac1[0]},aaj:function(x,F){var W=k4.O$;for(var w=0;w<8;w++)W[w]=x[F+7-w];
return k4.avp[0]},zQ:function(x,F){var W=F,dx=0;while(!0){var n=x[F];F++;dx=dx*128+(n&127);if(n<128)break}return{_M:dx,fi:F-W}},xR:function(x,F,W){var n="";
for(var w=0;w<W;w++)n+=String.fromCharCode(x[F+w]);return n},NM:function(x,F,W){var n="";for(var w=0;
w<W;w++)n+="%"+k4.ajn(x[F+w].toString(16));try{n=decodeURIComponent(n);return n}catch(ii){return n}},Bj:function(x,F,W,n,L){if(x[F+L-1]==null||W[n+L-1]==null){console.log(F,n,L);
throw"e"}for(var w=0;w<L;w++)W[n+w]=x[F+w]},ajn:function(dx){return dx.length<2?"0"+dx:dx}};k4.O$=new Uint8Array(8);
k4.akP=new Int8Array(k4.O$.buffer);k4.aga=new Int16Array(k4.O$.buffer);k4.afx=new Int32Array(k4.O$.buffer);
k4.ac1=new Uint32Array(k4.O$.buffer);k4.avp=new Float64Array(k4.O$.buffer);k4.a2l=function(x,F){var W=x[0],n={};
for(var w=0;w<W.length;w++){var L=W[w],$=L[1];if(L[0]!="table")continue;var l=L[4];l=l.slice(l.indexOf("(")+1,l.indexOf(")"));
l=l.split(",");for(var k=0;k<l.length;k++){var V=l[k].trim().split(" ")[0];if(F&&V.startsWith($))V=V.slice($.length);
l[k]=V}var i=n[$]=[],f=x[L[3]];for(var k=0;k<f.length;k++){var X=f[k],s={};i.push(s);for(var R=0;R<l.length;
R++){if(s[l[R]]!=null)throw"e";s[l[R]]=X[R]}}}return n};function fJ(x,F,W){this.Oq=x;this.Qz=F;this.aoo=W;
this.IR=new eX(0,0);this.d3=-1;this.HR=0;this.x9=0;this.dd=new eu;this.hA=[];this.m9=null;this.ab8=null;
this.LF=null;this.nt=null;this.oW=null;this.azp=null}fJ.prototype.StartPage=function(x,F,W,n,L){var $=this.Qz,l=$.NX(),k=1,V=(W-x)*(n-F);
if(L!=null)V=L;while(V*l*l/(k*k)>2*8192*8192)k++;$.scale(1/k,1/k);this.ab8=[x,F,W,n];var k=$.NX();x=Math.round(x*k);
F=Math.round(F*k);W=Math.round(W*k);n=Math.round(n*k);var i=this.Oq,f=this.LF;if(f==null){$.yq=-x}else{var X=f[2]-f[0]+30,s=Math.round(W-x)+30;
if(this.IR.x+X+s>8192){$.yq=-x;this.IR.x=0;this.IR.y+=this.x9+120;this.x9=0}else{$.yq+=X;this.IR.x+=X}}$.Ze=this.IR.y+(this.aoo?n:-F);
this.x9=Math.max(this.x9,Math.round(n-F));this.LF=[x,F,W,n];this.aww=[];i.B.push(i.Nz())};fJ.prototype.StartTGroup=function(x){this.LL();
var F=this.Oq;F.B.push(F.Nz());var W=fJ.Xz[x.bmode];if(W==null)W="norm";var n=F.dI();n.sc("<Group>");
n.add.lsct=eD.en;n.q_=W=="norm"?"pass":W;n.xb=24;n.opacity=Math.round(255*x.ca);this.aww.push(n)};fJ.prototype.EndTGroup=function(){this.Oq.B.push(this.aww.pop())};
fJ.prototype.a9k=function(){var x=this.Oq,F=x.B[x.B.length-1];return F};fJ.prototype.a3r=function(){var x=this.Oq,F=x.dI();
F.sc("Path "+x.B.length);this.Oq.B.push(F);F.xb|=16;F.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:0,r:0,z:0})}};
F.add.vmsk=new t.C$;F.add.vstk=eC.pr.Iz();return F};fJ.prototype.h5=function(x){var F={p:x.crds,G:x.cmds},W=r.Z.zI(F,!1);
r.j.js(W,this.Qz);return W};fJ.a1U=function(x,F){for(var w=0;w<x.length;w++)if(x[w].eb!=null)x[w].eb=F};
fJ.No=function(x){return r.I.GB({o:x[0]*255,r:x[1]*255,z:x[2]*255})};fJ.Et=function(x){return new iJ(x[0],x[1],x[2],x[3],x[4],x[5])};
fJ.prototype.Stroke=function(x){if(this.d3!=-1&&this.d3!=this.HR)return;if(x.pth.cmds.length<=1)return;
var F=this.h5(x.pth),$=null;if(F.length<=2)return;this.B4(x);fJ.a1U(F,-1);F[2].eb=1;var W=this.a9k(),n=eC.pr.Iz(null,!0),L=x.ctm;
eC.pr.write(n,x,Math.sqrt(Math.abs(L[0]*L[3]-L[1]*L[2]))*this.Qz.NX());if(!(x.COLR instanceof Array)){$=r.Z.KR(x.pth.crds);
var l=r.Z.o4($);r.Z.i(l.p,this.Qz,l.p);$=r.Z.KR(l.p)}var k=fJ.kN(x.COLR,this.Qz,$),V=["SoFi","GrFl","patternFill"].indexOf(k.type),i=[eC.eK,eC.Qu,eC.YZ][V],f=n.strokeStyleContent.v={classID:eC.pr.K8[V]};
for(var w=0;w<i.length;w++)f[i[w]]=k.b.v[i[w]];var X=W!=null&&W.add.vmsk!=null&&!W.vN(),s=X&&!W.add.vstk.fillEnabled.v&&JSON.stringify(n)==W.add.vsjs;
if(s){var R=W.add.vmsk.$;for(var w=2;w<F.length;w++)R.push(F[w])}else{var h=X&&!W.add.vstk.strokeEnabled.v&&t.C$.avM(W.add.vmsk.$,F,!0);
if(h){W.add.vstk=n;n.fillEnabled.v=!0}else{W=this.a3r();W.add.vmsk.$=F;W.add.vstk=n;W.add.vsjs=JSON.stringify(n)}}};
fJ.prototype.Fill=function(x,F){if(this.d3!=-1&&this.d3!=this.HR)return;if(x.ca==0)return;var W=x.pth.cmds;
if(W.length==0)return;if(W.length==2&&JSON.stringify(W)=="[\"M\",\"L\"]")return;var n=r.Z.KR(x.pth.crds),L=r.Z.KR(x.cpth.crds);
if(n.jB(L).ak())return;var $=x.pth,l=UDOC.G.isBox($,[n.x,n.y,n.x+n.m,n.y+n.e]),k=x.cpth,V=UDOC.G.isBox(k,[L.x,L.y,L.x+L.m,L.y+L.e]);
if(l&&V&&n.P()>L.P()*2){var i=n.jB(L),f=i.x,X=i.y,s=f+i.m,R=X+i.e;$={cmds:["M","L","L","L","Z"],crds:[f,X,s,X,s,R,f,R]};
n=i}else if(this.nt==null&&UDOC.G.isBox($,[n.x,n.y,n.x+n.m,n.y+n.e])&&n.Ic(L)){$=k;n=L}else this.B4(x);
var h=this.h5($),B=r.Z.o4(n);r.Z.i(B.p,this.Qz,B.p);n=r.Z.KR(B.p);var e=fJ.kN(x.colr,this.Qz,n),U=this.a9k(),o=U!=null&&U.opacity==Math.round(255*x.ca)&&U.add.vstk!=null&&!U.add.vstk.strokeEnabled.v&&U.add.SoCo&&e.type=="SoFi"&&JSON.stringify(U.add.SoCo.Clr.v)==JSON.stringify(e.b.v.Clr.v);
if(o){var b=!1;for(var w=0;w<h.length;w++){if(h[w].eb==0||h[w].eb==2)b=!0}if(b){var u=r.Z.KR(r.j.ja(U.add.vmsk.$)),Z=r.Z.KR(r.j.ja(h));
o=u.jB(Z).ak()}}if(o){var I=U.add.vmsk.$;for(var w=2;w<h.length;w++)I.push(h[w])}else{U=this.a3r();delete U.add.SoCo;
U.add.vmsk.$=t.C$.uF(h);fJ.M$(x.colr,U,this.Qz,n);fJ.ark(x,U)}};fJ.M$=function(x,F,W,n){var L=fJ.kN(x,W,n),$=null,l=null;
F.add.vstk.fillEnabled.v=!0;if(L.type=="SoFi"){$="SoCo";l=eC.eK}if(L.type=="GrFl"){$="GdFl";l=eC.Qu}if(L.type=="patternFill"){$="PtFl";
l=eC.YZ}if($!=null){F.add[$]={classID:"null"};for(var w=0;w<l.length;w++){var k=l[w];F.add[$][k]=L.b.v[k]}}};
fJ.prototype.B4=function(x){var F=this.Oq,W=x.cpth,n=W.cmds.join(""),L=W.crds,$=n+" "+L.join(","),l=UDOC.G.isBox(W,this.ab8);
if(l&&this.nt==null)return;if($==this.nt)return;this.LL();if(!l){this.nt=$;F.B.push(F.Nz());var k=F.dI();
k.sc("Mask");k.add.lsct=eD.Tn;k.q_="pass";k.xb=24;var V=k.add.vmsk=new t.C$;V.$=this.h5(x.cpth);if(UDOC.G.isBox(W)){this.oW=r.j.Bd(V.$);
this.oW.za(3,3)}else this.oW=null;this.azp=k}};fJ.prototype.LL=function(){var x=this.Oq;if(this.nt!=null){var F=x.B.length-1,w=F,W=!1;
while(w>=0&&x.B[w].add.lsct!=eD.iS)w--;var n=this.oW;if(n){var L=new eu,$=F;while($>w){L=x.B[$].JH(this.Oq,!1,!0);
$--}W=n.Ic(L)}if(W){this.hA.splice(w,1);x.B.splice(w,1)}else{x.B.push(this.azp)}this.nt=null}};fJ.kN=function(x,F,W){var n,L;
if(x.length!=null){n="SoFi";var $=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);L={t:"Objc",v:$};L.v.Clr.v=fJ.No(x)}else{var l=fJ.amt(x,F,W);
n="GrFl";L={t:"Objc",v:l}}return{type:n,b:L}};fJ.amt=function(x,F,W){var n=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]),L=n.Grad.v;
L.Intr.v=0;var $=fJ.Et(x.mat);$.concat(F);var l=new eX(0,0),k=new eX(W.m,0),V=x.crds;if(x.typ=="rad"){n.Type.v.GrdT="Rdl";
var i=.7;l.x=(1-i)*V[0]+i*V[3];l.y=(1-i)*V[1]+i*V[4];k.x=l.x;k.y=l.y;k.x+=Math.max(V[2],V[5])}else{n.Type.v.GrdT="Lnr";
l.x=V[0];l.y=V[1];k.x=V[2];k.y=V[3];l.x=k.x+.5*(l.x-k.x);l.y=k.y+.5*(l.y-k.y)}l=$.dr(l);k=$.dr(k);r.I.cD(l,k,W,n);
var f=x.grad;r.I.yT(f,L);return n};fJ.prototype.PutText=function(x,F,W,n){var L=F.charCodeAt(0),R=null;
if(this.d3!=-1&&this.d3!=this.HR)return;if(F.length==0||F.length==1&&(L==0||L==8203))return;this.B4(x);
var $=this.Oq,l=x.font,k=Math.round(255*x.ca);if(x.font.Tmode==3)k=0;var V=fJ.Et(x.ctm);V.concat(this.Qz);
var i=fJ.Et(l.Tm);i.concat(V);var f=i.NX(),X=new iJ(1/f,0,0,-1/f,0,0);X.concat(i);var s=l.Tfs*f,h=$.B.length-1;
while(h>=0&&$.B[h].add.TySh==null)h--;if(X.z*X.z+X.Pu*X.Pu<.001&&n==null&&h>=0&&$.B[h].add.TySh&&$.B[h].opacity==k){var B=$.B[h],e=this.hA[h],U=B.add.TySh.i,o=(X.yq-e.ag8)/s,b=Math.abs(o),u=U.V==X.V&&U.z==X.z&&U.Pu==X.Pu&&U.P9==X.P9,Z=X.Ze-e.Vg,I=u&&Math.abs(Z)<1e-5&&b<1;
if(I){R=B;if(o>.2&&[".",",","?",":","!"].indexOf(F)==-1){F=" "+F;W+=.5}}else if(u&&0<Z&&Z<s*1.7&&e.awx==s){R=B;
this.a2O(e);e.Vg=X.Ze;e.aaT=X.yq;F="\n"+F}}if(R==null){h=$.B.length;this.hA[h]={Xa:[],cS:0,ag8:X.yq,Vg:X.Ze,aaT:X.yq,Pc:"",awx:s};
R=$.dI();$.B.push(R);R.add.lnsr="rend";R.add.TySh=iV.P3(0,0);R.add.TySh.i=X}var e=this.hA[h];e.cS+=W*s;
e.Pc+=F;e.ag8=X.yq+W*s;var y=R.add.TySh.OU,D=iV.YG(y);if(n){iV.xC(y,1);var N=[0,0,Math.ceil(n[0]*f),Math.ceil(n[1]*f)];
iV.J3(y,N)}var j=D.length-1,H=j+F.length;iV.yb(y,j,F);if(this.m9==null)this.m9=iV.f3(y,j,j);var Q=this.m9;
Q.oE.FontSize=Math.round(s);Q.oE.Tracking=Math.round(l.Tc*100);Q.oE.Underline=l.Tun==1;Q.oE.FillColor={Type:1,Values:[1,x.colr[0],x.colr[1],x.colr[2]]};
if(l.Tal!=null)Q.wt.Justification=l.Tal;if(e.Xa.length!=0){Q.oE.AutoLeading=!1;Q.oE.Leading=e.Vg-e.Xa[e.Xa.length-1].y}var C=l.Tf;
C=C.replace(/#2B/g,"+");C=C.replace(/#2C/g,"-");C=C.split("+").pop();var J={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(J[C])C=J[C];iV.hU(Q,C);iV.Aj(y,j,H-1,Q);R.$w();R.opacity=k};fJ.prototype.a2O=function(x){x.Xa.push({Xv:x.cS,zs:x.Pc.slice(x.Xa.length==0?0:1)+"\n",x:x.aaT,y:x.Vg,TR:x.awx});
x.cS=0;x.Pc=""};fJ.prototype.BR=function(x,F,W){return new Uint8Array(jW.w0("PNG").Rd([[x.buffer,0]],F,W))};
fJ.prototype.PutImage=function(x,F,W,n,L,$,l){if(this.d3!=-1&&this.d3!=this.HR)return;var k=this.Oq,V=x.font.Tmode;
if(V==7&&k.B[k.B.length-1].add.TySh){return}this.B4(x);var i=fJ.Et(x.ctm);i.concat(this.Qz);var f=new iJ(1/W,0,0,-1/n,0,1);
f.concat(i);i=f;F=fJ.ahn(F,W,n,$,!1);if(L)L=fJ.ahn(L,W,n,l,!0);if(L==null){if(F.length==W*n*4)F=this.BR(F,W,n)}else{F=this.ar6(F,W,n,$,!1);
L=this.ar6(L,W,n,l,!0);var X=r.R(W*n);r.Tb(L,X,0);r.rW(X,F,3);F=this.BR(F,W,n)}var s=k.sP(F,"Bitmap",0,0),R=s.rect.clone();
R.x=R.y=0;var h=r.Z.o4(R).p;r.Z.i(h,i,h);s.add.SoLd.Trnf=O.Y.ud(h);s.add.SoLd.nonAffineTransform=O.Y.ud(h);
s.Bw(k,!1);fJ.ark(x,s);k.B.push(s)};fJ.ark=function(x,F){F.opacity=Math.round(255*x.ca);var W=fJ.Xz[x.bmode];
if(W==null)console.log("Unknown blend mode",W);else F.q_=W};fJ.Xz={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
fJ.abZ=function(x){if(x=="pass")x="norm";for(var F in fJ.Xz)if(fJ.Xz[F]==x)return F;return"/Normal"};
fJ.ahn=function(x,F,W,n,L){var $=jW.XM(x.buffer);if($=="jpg"){try{x=new Uint8Array(jW.w0("JPG").a7P(x.buffer))}catch(ii){x=new Uint8Array(F*W*4)}}else if($=="jb2"){x=new Uint8Array(jW.w0("JPG").La(x.buffer,n,L)[0].data)}else if(x.length!=F*W*4){var l=new Uint8Array(F*W*4),k=Math.ceil(F/8),V=new Uint8Array(W*k);
UTIF.decode._decodeG4(x,0,x.length,V,0,F,1);var i=V[0]==(L?255:0);for(var f=0;f<W;f++){var X=k*f;for(var s=0;
s<F;s++){var w=f*F+s,R=w*4,h=(V[X+(s>>3)]>>7-(s&7)&1)*255;if(i)h=255-h;l[R]=h;l[R+1]=h;l[R+2]=h;l[R+3]=255}}x=l}return x};
fJ.prototype.ar6=function(x,F,W,n,L){if(x.length!=F*W*4){var $=jW.XM(x.buffer);if($=="jb2")throw"e";
var l=jW.w0($);if(l==null||$=="tga")l=jW.w0("jpg");x=new Uint8Array(l.La(x,n,L)[0].data)}return x};fJ.prototype.ShowPage=function(){var x=this.Oq;
this.HR++;var F=this.LF;this.LL();var W=x.dI();x.B.push(W);var n=new eu(Math.round(this.IR.x),Math.round(this.IR.y),Math.round(F[2]-F[0]),Math.round(F[3]-F[1]));
if(n.ak())n.m=n.e=2e3;this.dd=this.dd.oA(n);W.lK(n);W.add.artb.artboardBackgroundType.v=1;W.sc("Page "+this.HR);
W.add.lsct=eD.Tn;W.q_="pass";W.xb=24};fJ.prototype.Print=function(x){console.log("Print:",x)};fJ.prototype.Done=function(){var x=this.Oq;
if(this.HR==1)x.B[x.B.length-1].add.lsct=eD.en;x.jY(this.HR);for(var w=0;w<x.B.length;w++){var F=x.B[w],W=F.add.vmsk,n=F.add.TySh,L=this.hA[w];
F.oO();delete F.add.vsjs;if(W){var $=!1;for(var l=0;l<W.$.length;l++){var k=W.$[l];if((k.type==0||k.type==3)&&k.length>32767)$=!0}if($){x.B.splice(w,1);
w--;continue}}F.pZ(x);if(n&&L&&L.Xa.length!=0){this.a2O(L);var V=n.OU,i=L.Xa.length,f=L.Xa[0],X=1e9,s=-1e9,I="";
for(var l=0;l<i;l++){var R=L.Xa[l];X=Math.min(X,R.x);s=Math.max(s,R.x+R.Xv)}var h=[];for(var l=0;l<i;
l++){var R=L.Xa[l],B=-1,e=f.TR*.1,U=Math.abs(R.x-X),o=Math.abs(R.x+R.Xv-s),b=Math.abs(U-o);if(b<e)B=2;
if(o<e){B=1;if(R.x!=X)if(l!=0&&L.Xa[l-1].x==R.x||l!=i-1&&L.Xa[l+1].x==R.x)B=-1}if(U<e)B=0;if(R.Xv==s-X)B=3;
h.push(B)}var u=[!1,!1,!1];for(var l=0;l<i;l++){var B=h[l];if(B==3)B=l==0?h[l+1]:h[l-1];if(B==3)B=0;
h[l]=B;u[B]=!0}var Z=(s-X)*.05;if(u[0]&&!u[1])s+=Z;if(!u[0]&&u[1])X-=Z;if(!u[0]&&!u[1]){X-=Z;s+=2*Z}iV.xC(V,1);
n.i.Ze-=f.TR*.7;n.i.yq=Math.round(X);iV.J3(V,[0,0,Math.ceil(s-X),Math.ceil(L.Xa[i-1].y-f.y+f.TR*2)]);
for(var l=0;l<i;l++){var R=L.Xa[l],B=h[l],y=0;if(B==-1){B=0;y=Math.round(R.x-X)}var D=I.length,N=D+R.zs.length;
I+=R.zs;var j={zf:[],oE:{},wt:{Justification:B,StartIndent:y}};iV.Aj(n.OU,D,N-1,j)}}if(n){var V=n.OU;
iV.amd(V);var H=iV.YG(V).split("\n");for(var l=0;l<H.length-1;l++){var R=H[l],Q=0;for(var C=0;C<R.length;
C++){var J=R.charCodeAt(C);if(1473<=J&&J<=1524)Q++}if(Q>R.length/2){H[l]=R.split("").reverse().join("");
var E=V.EngineDict.ParagraphRun.RunArray[l].ParagraphSheet.Properties;E._Direction=1;E.Justification=iV.tu(E)}}iV.Fz(V,H.join("\n"))}}x.Sv=!0;
x.m=this.dd.m;x.e=this.dd.e;x.buffer=r.R(this.dd.P()*4)};var go={};go.bn=null;go.Kt=function(x,F,W,n,L,$){if(L==null)L=x.m;
if($==null)$=x.e;go.bn=x;var l=!1,k=[x.root],V=x.root.children;if(x.add.artd){l=!0;for(var w=0;w<V.length;
w++)if(V[w].a.add.artb==null)l=!1;if(l)k=V}var i=new eu(0,0,x.m,x.e),f=F[0];f=f.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
f=f.split(" ");var X=[];for(var w=0;w<f.length;w++){var s=f[w];if(s=="-"){var R=X.pop(),h=parseInt(f[w+1]);
while(R<h){X.push(R);R++}}else X.push(parseInt(s))}f=X;for(var w=0;w<f.length;w++)if(isNaN(f[w])||f[w]<1||f[w]>k.length){f.splice(w,1);
w--}var B=L/x.m,e=$/x.e,U=B*72/x.Bq,o=e*72/x.Bq,b=F[5];if(b==null)b=0;var u=72*b,Z=72*b;for(var I=0;
I<k.length;I++){var w=I;if(F[2])w=k.length-1-I;if(f.length!=0&&f.indexOf(w+1)==-1)continue;var y=k[w],D=l?y.a.U$():i;
if(!y.a.MG())continue;var N=Math.round(D.m*U+2*u),j=Math.round(D.e*o+2*Z);W.StartPage(0,0,N,j);var H=UDOC.getState(),Q=new iJ;
Q.translate(-D.x,-D.y-D.e);Q.scale(U,-o);Q.translate(u,Z);if(l){var C=y.a.add.artb,J=C.artboardBackgroundType.v;
if(J!=1&&J!=3){var E=y.a.G9(),T=u*U,c=Z*o,a=T+D.m*U,K=c+D.e*o;H.colr=[(E>>>0&255)/255,(E>>>8&255)/255,(E>>>16&255)/255];
H.pth={cmds:["M","L","L","L","Z"],crds:[T,c,a,c,a,K,T,K]};W.Fill(H)}}if(F[3]){var Y=x.Hi();if(!i.rr(D)){Y=r.R(D.P()*4);
r.sh(x.Hi(),i,Y,D)}var p=x.xu();if(p)ICC.U.applyLUT(p[x.add.fcmy==1?5:3],p[2],Y,Y);var P=jW.w0("JPG").Rd([[Y.buffer]],D.m,D.e,[F[1]]);
Y=new Uint8Array(P);var m=new iJ;m.translate(D.x,D.y);go.Ae(H,W,Y,D,m,Q)}else{go.a90(x,y,H,W,Q,F,n);
if(u!=0){var T=u,c=Z,a=T+D.m,K=c+D.e,z=a+u,M=K+u;H.ca=1;H.colr=[1,1,1];H.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,M,z,M,z,0,T,c,a,c,a,K,T,K]};
W.Fill(H)}}if(F[6]){var d=[[0,0],[1,0],[1,1],[0,1]],A=50,G=5,kB=A*.5,q=G*.5;H.colr=[.1,.1,.1];for(var I in d){var fO=d[I],g=[I==0||I==3?-1:1,I==0||I==1?-1:1],jN=[u-kB+q*g[0]+fO[0]*x.m,Z-(g[1]!=1?G:0)+fO[1]*x.e],c6=[u-(g[0]!=1?G:0)+fO[0]*x.m,Z-kB+q*g[1]+fO[1]*x.e];
H.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[jN[0],jN[1],jN[0]+A,jN[1],jN[0]+A,jN[1]+G,jN[0],jN[1]+G,c6[0],c6[1],c6[0]+G,c6[1],c6[0]+G,c6[1]+A,c6[0],c6[1]+A]};
W.Fill(H)}}var a7=x.EC;for(var bd=0;bd<a7.length;bd++){var ey=a7[bd].v,D=r.xP.oU(ey),c5=r.Z.o4(D).p;
r.Z.i(c5,Q,c5);var bx=r.Z.KR(c5);if(!new eu(0,0,N,j).Ic(bx))continue;if(W.AddAnnot)W.AddAnnot([bx.x,bx.y,bx.x+bx.m,bx.y+bx.e],ey.url.v)}W.ShowPage()}W.Done();
go.bn=null};go.Iw=function(x){x=r.I.z$(x);return[x.o/255,x.r/255,x.z/255]};go.a90=function(x,F,W,n,L,$,l){var k=F.a,V=k.add.lsct,i=k.add.lmfx,f=k.add.vmsk,X=k.add.vstk,s=k.add.TySh,U,o,H;
if(!k.MG())return;var R=k.opacity/255,h=k.add.iOpa!=null?k.add.iOpa/255:1;W.bmode=fJ.abZ(k.q_);var B=W.ca;
W.ca=W.CA=R*h;var e=i;if(e)e=e.solidFillMulti.v[0];if(e)e=e.v;if(e&&!e.enab.v)e=null;var b=k.rect;if(k.VX()&&(!k.vN()||k.jT&&k.jT.Ad)){if(k.vN()){U=k.jT.Ad;
b=k.jT.ad3}else{U=r.R(k.rect.P());r.Tb(k.buffer,U,3)}o=hM.HK(i,k.add.fxrp,U,b,x,b).type;var u=["DrSh","OrGl"];
if(h!=1||X&&!X.fillEnabled.v){var Z=U.slice(0);r.sx(Z);for(var w=0;w<u.length;w++){var I=o[u[w]];for(var y=0;
y<I.length;y++){var D=I[y],N=D.mF.clone();N.x+=b.x;N.y+=b.y;r.L7(Z,b,D.Xu,N)}}}}if(o)go.a7S(k,U,b,o,W,n,L,$,!0);
var j=hM.aht(k,!1);if(j){n.StartTGroup(W);H=W;W=UDOC.getState()}var Q=f&&!k.qA();if(Q){var C=r.Z.vA(f.$,!1),J=C.g$;
r.Z.i(J.p,L,J.p);W.cpth={cmds:J.G,crds:J.p}}if(k.vN()){for(var w=0;w<F.children.length;w++)go.a90(x,F.children[w],W,n,L,$,l)}else if(f&&k.qA()&&k.add.PtFl==null){var E=f.$,T=r.j.Bd(E),c=!1;
if(X.fillEnabled.v){var a=hM.il(i,k.add),K=a[0],Y=a[1];W.colr=go.auV(K?K:Y,L,T);c=!0}var p=hM.hT(i);
if(!X.strokeEnabled.v&&p)X=p;var C=r.Z.vA(E,X.strokeEnabled.v),J=C.g$;r.Z.i(J.p,L,J.p);W.pth={cmds:J.G,crds:J.p};
go.aiw(n,W,c,X,L,T,C.Ce!=0)}else if(s&&$[4]){var P=s.OU,m=new iO(P,l),J=kc.z_(m,s,!0),z=r.Z.nn(J),M=hM.hT(i);
for(var d in z){var A=parseInt(d.slice(1,7),16),G=0;W.colr=e?go.Iw(e.Clr.v):go.axe(A);var kB=z[d];r.Z.i(kB.p,L,kB.p);
kB=r.Z.a1i(kB);W.pth={cmds:kB.G,crds:kB.p};var X=M;if(d.length>7){X=eC.pr.Iz();var q=d.slice(7).split("-"),A=parseInt(q[1].slice(1),16),fO=go.axe(A);
X.fillEnabled.v=!0;X.strokeEnabled.v=!0;X.strokeStyleLineWidth.v.val=parseFloat(q[2]);X.strokeStyleContent.v.Clr.v=e?e.Clr.v:r.I.GB({o:fO[0]*255,r:fO[1]*255,z:fO[2]*255});
X.strokeStyleMiterLimit.v=parseFloat(q[2])}go.aiw(n,W,!0,X,L,null,!1)}}else if(s){var P=JSON.parse(JSON.stringify(s.OU));
iV.amd(P);var g=s.i.clone(),jN=new iJ(1,0,0,-1,0,0);jN.concat(g);jN.concat(L);var c6=iV.YG(P),m=new iO(P,l);
for(var w=0;w<m.wt.length;w++){var a7=m.wt[w];if(a7.ae.length==1&&a7.ae[0].yB)continue;for(var y=0;y<a7.qR.length;
y++){var bd=a7.qR[y],ey=a7.GF.y+bd.GF.y,c5=a7.ae[bd.start].start,bx=a7.ae[bd.end-1].end,ap=iV.axT(P,c5,bx);
for(var fC=0;fC<ap.length;fC++){var kE=m.bd(c5),bm=ap[fC],fe=iV.f3(P,c5,c5),g8=fe.zf[fe.oE.Font].Name;
W.font.Tf=g8;var d=iV.z$(fe.oE.FillColor);W.colr=e?go.Iw(e.Clr.v):[d.o/255,d.r/255,d.z/255];var e0=W.font.Tfs=Math.round(fe.oE.FontSize),cF=c6.slice(c5,c5+bm);
if(fe.oE.FontCaps==2)cF=cF.toUpperCase();var cr=new iJ;cr.translate(kE.fS.x,-ey);cr.concat(jN);W.ctm=[cr.V,cr.z,cr.Pu,cr.P9,cr.yq,cr.Ze];
n.PutText(W,cF,0);for(var gg=0;gg<2;gg++){var bW=fe.oE[gg==0?"Strikethrough":"Underline"];if(!bW)continue;
var gx=m.bd(c5+bm-1),h$=gg==0?.27:-.2,dH=e0*h$,eg=e0*(h$+.07),G=gx.fS.x+gx.fS.m-kE.fS.x,aB=[0,dH,G,dH,G,eg,0,eg];
r.Z.i(aB,cr,aB);W.pth={cmds:["M","L","L","L","Z"],crds:aB};n.Fill(W)}W.ctm=[1,0,0,1,0,0];c5+=bm}}}}else if(!k.rect.ak()){var gB,jy,ie=!1,cT=new iJ,a_=k.add.SoLd,gs=!0;
if(a_)gs=r.D.nG(r.D.An(O.Y.kT(a_.Trnf)));var gq=x.xu();if(a_&&gs&&gq==null){var kr=a_.Idnt.v,iN=x.OB(kr,a_.Crop?a_.Crop.v:null),an="";
if(iN==null)return;var jH=iN.mp,h2=jW.XM(iN.raw.buffer);if($[7].indexOf(h2)!=-1){gB=iN.raw;ie=!0}else gB=jH[0];
jy=jH[1];cT=r.D.V1(a_)}else{gB=k.buffer;jy=k.rect;cT.translate(jy.x,jy.y);if(gq){gB=gB.slice(0);ICC.U.applyLUT(gq[x.add.fcmy==1?5:3],gq[2],gB,gB)}if(r.SB(gB,jy.m,jy.e)&&$[7]&&$[7].indexOf("jpg")!=-1){var bt=jW.w0("JPG").Rd([[gB.buffer]],jy.m,jy.e,[$[1]]);
gB=new Uint8Array(bt);ie=!0}}if(e&&!ie)gB=hM.a9c(gB,e,jy);go.Ae(W,n,gB,jy,cT,L);if(e&&ie){var aB=[0,0,jy.m,0,jy.m,jy.e,0,jy.e];
r.Z.i(aB,cT,aB);r.Z.i(aB,L,aB);var kH=JSON.parse(JSON.stringify(W));kH.ca=e.Opct.v.val/100;kH.pth={cmds:["M","L","L","L","Z"],crds:aB};
kH.colr=go.Iw(e.Clr.v);n.Fill(kH)}}if(Q)W.cpth=null;if(j){n.EndTGroup();W=H}W.ca=W.CA=B;if(o)go.a7S(k,U,b,o,W,n,L,$,!1)};
go.aiw=function(x,F,W,n,L,$,l){var k=!1,V=0,i=0;if(n&&n.strokeEnabled.v){var f=n.strokeStyleContent.v;
F.COLR=go.auV(f,L,$);eC.pr.P6(n,F,L.NX());V=F.sal;delete F.sal;i=F.lwidth;k=!0}var X=V==2;if(W&&!X)x.Fill(F,l);
if(k){F.lwidth=i*(V==2?2:1);x.Stroke(F)}if(W&&X)x.Fill(F,l)};go.avf=function(x){var F=go.bn;if(F==null)return x;
var W=F.xu();if(W&&F.add.fcmy){var n=new Uint8Array(4);n[0]=.5+x[0]*255;n[1]=.5+x[1]*255;n[2]=.5+x[2]*255;
ICC.U.applyLUT(W[F.add.fcmy==1?5:3],W[2],n,n);x=[n[0]/255,n[1]/255,n[2]/255]}return x};go.Iw=function(x){x=r.I.z$(x);
return go.avf([x.o/255,x.r/255,x.z/255])};go.axe=function(x){return go.avf([(x>>>16&255)/255,(x>>>8&255)/255,(x&255)/255])};
go.auV=function(x,F,W){if(x.Clr)return go.Iw(x.Clr.v);var n=x,L=n.Rvrs?n.Rvrs.v:!1,$=n.Type.v.GrdT,l,k=$=="Rdl"||$=="Dmnd"?"rad":"lin",V=r.I.l6(n,W),i=F.dr(V[0]),f=F.dr(V[1]);
if(k=="rad")l=[i.x,i.y,0,i.x,i.y,eX.I9(i,f)];else{i.xz(f.x+(i.x-f.x)*2,f.y+(i.y-f.y)*2);l=[i.x,i.y,f.x,f.y]}var X=r.I.A2(n.Grad.v,L);
return{typ:k,mat:[1,0,0,1,0,0],grad:X,crds:l}};go.a7S=function(x,F,W,n,L,$,l,k,V){var i=W.clone(),f=F;
if(x.add.TySh&&!k[3]&&!k[4])return;var X=L.ca,s=L.bmode;for(var w=eC.order.length-1;w>=0;w--){var R=eC.order[w];
if(R=="GrFl"||R=="SoFi")continue;if((x.add.vmsk||x.add.TySh)&&R=="FrFX")continue;var h=n[R],B=w>7||R=="FrFX";
if(B!=V)continue;for(var e=0;e<h.length;e++){var U=h[e];if(U.mF==null)U=U._S?U._S:U.i1;if(U==null)continue;
var o=U.mF.clone();o.offset(i.x,i.y);if(!B){if(!i.Ic(o)){var b=i.oA(o),u=r.R(b.P());r.Hz(f,i,u,b);f=u;
i=b}r.L7(f,i,U.Xu,o)}if(B&&R=="FrFX"&&U.s6)r.L7(U.s6,o,U.Xu,o);var Z=new iJ;Z.translate(o.x,o.y);L.ca=U.W0;
L.bmode=fJ.abZ(U.kh);go.Ae(L,$,U.Xu,o,Z,l)}}L.ca=X;L.bmode=s};go.Ae=function(x,F,W,n,L,$){var l=new iJ;
l.scale(n.m,-n.e);l.translate(0,n.e);l.concat(L);l.concat($);x.ctm=[l.V,l.z,l.Pu,l.P9,l.yq,l.Ze];F.PutImage(x,W,n.m,n.e);
x.ctm=[1,0,0,1,0,0]};var fi={};fi.cF=function(x){var F=new Uint8Array(x);return fi.ce(F,0)};fi.ce=function(x,F){var W=_.q,n=_.xR,L={sd:n(x,F,4),J:F+8,size:W(x,F+4)},$=L.sd=="FORM"||L.sd=="FOR4"||L.sd=="LIST"||L.sd=="CAT ";
if($)L.K8=n(x,F+8,4);if(L.size<0||L.J+L.size>x.length)throw"e";if($){L.sub=[];F+=12;var l=L.J+L.size;
while(F<l){var k=fi.ce(x,F);L.sub.push(k);var V=k.size&1,i=k.size&3;if(L.sd=="FOR4")V=i==0?0:4-i;F+=8+k.size+V}}return L};
var ao={};ao.cF=function(x,F){var W=new Uint8Array(x);return ao.ce(W,0,F)};ao.ce=function(x,F,W){var n=_.$J,L=_.xR,$={sd:L(x,F,4),J:F+8,size:n(x,F+4)};
if(W&&W[$.size]!=null)$.size=W[$.size];if($.sd=="RIFF"||$.sd=="LIST"){$.K8=L(x,F+8,4)}if($.size<0||$.J+$.size>x.length)throw"e";
if($.sd=="RIFF"||$.sd=="LIST"&&($.K8!="cmpr"&&$.K8!="stlt")){$.sub=[];F+=12;var l=$.J+$.size;while(F<l){var k=ao.ce(x,F,W);
$.sub.push(k);F+=8+k.size+(k.size&1)}}return $};var iH=function(){function x(A,G){var kB=null;if(A.sub==null)return kB;
for(var w=0;w<A.sub.length;w++){var q=A.sub[w];if(q.sd==G||q.K8==G)kB=q}return kB}function F(A){if(A==32)return 300;
else if(A<49)return 0;else if(A<58)return 100*(A-48);else if(A<65)return 0;return 100*(A-55)}var W;function n(A,G){var kB=new Uint8Array(A);
G.Sv=!0;W={};var q=_.xR(kB,0,2);if(q=="WL"){alert("Unsupported CDR version")}else{var fO,g,jN,bd,g8=300,ei=0;
if(q=="PK"){g=UZIP.parse(kB);kB=g["content/root.dat"];jN=_.NM(g["content/dataFileList.dat"]).split("\n")}fO=ao.cF(kB.buffer);
console.log(fO);var c6=F(kB[11]),a7={data:kB,J:0,w3:c6};a7.uP=a7.w3<600?16:32;D(kB,a7,jN,g,fO.sub,0);
var ey=[];if(g){bd=x(fO,"doc ");L(bd);var c5=fO.sub;for(var w=0;w<c5.length;w++)if(c5[w].K8=="page")ey.push(c5[w]);
ey=ey.slice(1)}else if(fO.sub[3].sd=="pack"){alert("We dont support this version of CDR files");return}else if(x(fO,"cmpr")==null){bd=x(fO,"page");
ey.push(bd);if(x(bd,"mcfg")==null){bd=x(fO,"doc ");L(bd);ey=[];var c5=fO.sub;for(var w=0;w<c5.length;
w++)if(c5[w].K8=="page")ey.push(c5[w]);ey=ey.slice(1)}}else{var bx=x(fO,"cmpr").sub;bd=bx[0];ey=[bx.slice(1)[1]];
if(x(bd,"filt"))L(bd)}var ap=x(bd,"mcfg").b,fC=ap.afo,kE=fC.x*.1,bm=fC.x*ey.length+kE*(ey.length-1),fe=fC.y;
g8/=ff.Rk(new eu(0,0,Math.round(bm*g8),Math.round(fe*g8)),8192*8192);var e0=Math.round(bm*g8),cF=Math.round(fe*g8);
G.m=e0;G.e=cF;G.buffer=r.R(G.m*G.e*4);for(var w=0;w<ey.length;w++){var cr=new iJ(g8,0,0,-g8,fC.x*g8/2+ei,fC.y*g8/2);
$(ey[w],bd,G,cr);var e_=G.B[G.B.length-1];e_.lK(new eu(Math.round(ei),0,Math.round(fC.x*g8),Math.round(fC.y*g8)));
e_.sc("Page "+(w+1));ei+=fC.x*g8+kE*g8}G.jY(ey.length)}}function L(A){var G=x(A,"filt").sub,kB=x(A,"otlt").sub,q=x(A,"fntt");
if(q)q=q.sub;A.hg={};for(var w=0;w<G.length;w++)A.hg[G[w].sub[0].b.id]=G[w].sub[0].b;A.U5={};for(var w=0;
w<kB.length;w++)A.U5[kB[w].b.id]=kB[w].b;if(q){A.fonts={};for(var w=0;w<q.length;w++)A.fonts[q[w].b.id]=q[w].b}}function $(A,G,kB,q){var fO=A.K8?A.K8:A.sd,g=x(A,"lgob"),jN=x(A,"txsm"),c6=null,a7=null;
if(g){c6=x(g,"trfl");a7=x(g,"loda")}else if(x(A,"lobj"))a7=x(A,"lobj");var bd=c6&&c6.sub[0].Rg?c6.sub[0].Rg.clone():new iJ;
bd.concat(q);var ey=kB.dI();if(fO=="page"||fO=="layr"||fO=="grp "){ey.sc((fO=="page"?"Page":"Group")+" "+kB.B.length);
ey.add.lsct=eD.en;ey.q_="pass";ey.xb=24;var c5=[];if(fO=="page")c5=x(A,"gobj").sub;if(fO=="layr")c5=A.sub.slice(2);
if(fO=="grp ")c5=A.sub.slice(4);if(c5.length==0)return;kB.B.push(kB.Nz());for(var w=c5.length-1;w>=0;
w--)$(c5[w],G,kB,q)}else if(fO=="obj "&&a7.b&&a7.b.path){var bx,ap;if(G.hg){bx=G.hg[a7.b.a4E];ap=G.U5[a7.b.a7a]}if(bx==null)bx=a7.b.afH;
if(ap==null)ap=a7.b.a8K;ey=l(kB,a7.b.path,q,bd,bx,ap)}else if(fO=="obj "&&jN){var fC=a7.b.aDx,kE=a7.b.aCr,g8="";
ey.add.TySh=iV.P3(0,0);var bm=bd.NX();ey.add.TySh.i.translate(bd.yq,bd.Ze);var fe=ey.add.TySh.OU,e0=jN.b.YQ;
if(e0==null)return;for(var w=0;w<e0.length;w++){var cF=e0[w],ei=g8.length;g8+=cF.text+"\n";iV.yb(fe,ei,cF.text+"\n");
if(cF.text=="")continue;var cr=k(cF.a7w,G),e_=cr.auB,gg=G.fonts[e_.afh],bW=iV.f3(fe,ei,g8.length);if(cr.align==3)bW.wt.Justification=1;
else if(cr.align==2)bW.wt.Justification=2;else bW.wt.Justification=0;var gx=cr.fill.b;if(gx==null)gx=[0,0,0];
if(gg.uZ)iV.hU(bW,gg.uZ);bW.oE.FillColor={Type:1,Values:[1,gx[0],gx[1],gx[2]]};bW.oE.FontSize=Math.round(e_.fontSize*q.NX());
iV.Aj(fe,ei,g8.length-1,bW)}if(kE){iV.xC(fe,0)}else{iV.xC(fe,1);iV.J3(fe,[0,0,Math.round(fC.x*bd.V),Math.round(-fC.y*bd.P9)])}ey.sc(g8.slice(0,10))}else{ey=null}if(ey)kB.B.push(ey)}function l(A,G,kB,q,fO,g){var jN=A.dI();
jN.sc("Object "+A.B.length);jN.xb|=16;var c6=jN.add.vstk=eC.pr.Iz();jN.add.vmsk=new t.C$;jN.add.vmsk.$=r.Z.zI(G,!1);
r.j.js(jN.add.vmsk.$,q);var a7=fO&&fO.type!=0,bd=a7&&fO.b!=null?fO.b:[0,0,0];fJ.M$(bd,jN,q,r.j.Bd(jN.add.vmsk.$));
c6.fillEnabled.v=a7;if(g&&g.afF!=1){c6.strokeEnabled.v=!0;c6.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var ey=c6.strokeStyleLineWidth.v.val=g.lineWidth*kB.NX(),c5=g.color;c6.strokeStyleContent.v.Clr.v=r.I.GB({o:c5[0]*255,r:c5[1]*255,z:c5[2]*255});
if(g.RG.length!=0)c6.strokeStyleLineDashSet.v=hM.Pg(g.RG,4/ey);var bx=g.atA,ap=g.an0;if(ap!=0){var fC=G.p,w=fC.length-4,kE=fC[w],bm=fC[w+1],fe=fC[w+2],g8=fC[w+3],e0=new iJ;
e0.scale(.15,.15);e0.rotate(-Math.PI/2+Math.atan2(g8-bm,-(fe-kE)));e0.translate(fe,g8);e0.concat(q);
if(W[ap]){var cF=l(A,W[ap],kB,e0,c5,null);A.B.push(cF)}}}jN.oO();jN.pZ(A);return jN}function k(A,G){var kB=x(G,"stlt").b,q=JSON.parse(JSON.stringify(kB.LX[A]));
if(q.$R!=0){var fO=kB.LX[q.$R];for(var g in fO)if(q[g]==null||q[g]==0)q[g]=fO[g];delete q.$R}q.align=kB.agD[q.atr];
q.fill=G.hg[kB.azM[q.aqK]];q.aq7=G.U5[kB.a7e[q.auN]];q.auB=kB.a2u[q.awC];return q}function V(w){var dx=w.data[w.J];
w.J+=1;return dx}function i(w){var dx=_.sZ(w.data,w.J);w.J+=2;return dx}function f(w){var dx=_.$J(w.data,w.J);
w.J+=4;return dx}function X(w){var dx=_.$J(w.data,w.J);w.J+=8;return dx}function s(w){var dx=_.zn(w.data,w.J);
w.J+=2;return dx}function R(w){var dx=_.IY(w.data,w.J);w.J+=4;return dx}function h(w){var dx=_.rD(w.data,w.J);
w.J+=8;return dx}function B(w){if(w.J>=w.data.length)throw"e";var A=0;while(w.data[w.J+A]!=0)A++;var G=_.xR(w.data,w.J,A);
w.J+=A+1;return G}function e(w){var A="";while(!0){var G=i(w);if(G==0)break;A+=String.fromCharCode(G)}return A}function U(A){var G=f(A),kB=(G&4294901760)>>>16,q=(G&65535)/65535;
return kB+q}function o(A){if(A.w3<600)return Math.PI*s(A)/1800;return Math.PI*R(A)/18e7}function b(A){if(A.w3<1500)return u(A);
else return h(A)/254e3}function u(A){if(A.w3<600)return s(A)/1e3;else return R(A)/254e3}function Z(A){if(A.w3<600)return i(A);
else return f(A)}function I(A){if(A.w3<600)return s(A);else return R(A)}function y(A,G,kB){var q="";
for(var w=0;w<kB;w++){for(var fO=0;fO<G;fO+=4){var dx=_.$J(A.data,A.J+w*G+fO);q+=(dx<500?dx:dx)+","}q+="\n"}return q}function D(A,G,kB,q,fO,g){var jN,c6,a7;
for(var bd=0;bd<fO.length;bd++){var ey=G.w3,c5=fO[bd];G.data=A;G.J=c5.J+(c5.sd=="LIST"?4:0);if(q&&c5.sub==null){jN=f(G);
c6=f(G);a7=f(G);var bx=i(G);if(bx!=0)throw"e";var ap=i(G);if(ap>32)throw"e";G.J-=16;if(jN!=4294967295){G.data=q["content/data/"+kB[jN]];
G.J=a7}}if(c5.sd=="vrsn"){if(c5.size==16)G.J+=8;var fC=i(G);G.w3=fC;console.log("Version",fC);G.uP=fC<600?16:32}else if(c5.sd=="DISP"){}else if(c5.sd=="pack"){var kE=f(G),bm=_.xR(G.data,G.J,4),e0=0;
if(bm!="CPng")throw bm;var fe=new Uint8Array(G.data.buffer,G.J+8+2,c5.size-10-4),g8=pako.inflateRaw(fe);
c5.sub=[];while(e0<g8.length){var cF=ao.ce(g8,e0);e0=cF.J+cF.size;c5.sub.push(cF)}var ei={data:g8,J:0,w3:ey,uP:G.uP};
D(g8,ei,kB,q,c5.sub,g+1)}else if(c5.sd=="LIST"&&c5.K8=="cmpr"){var cr=f(G),e_=f(G),gg=f(G),kE=f(G),bm=_.xR(G.data,G.J,4),e0=0;
if(bm!="CPng")throw bm;var fe=new Uint8Array(G.data.buffer,G.J+8+2,cr-6-8),g8=pako.inflateRaw(fe);G.J+=cr;
fe=new Uint8Array(G.data.buffer,G.J+8+2);var bW=pako.inflateRaw(fe),gx=[];for(var h$=0;h$<bW.length;
h$+=4)gx.push(_.$J(bW,h$));c5.sub=[];while(e0<g8.length){var cF=ao.ce(g8,e0,gx);e0=cF.J+cF.size;c5.sub.push(cF)}var ei={data:g8,J:0,w3:ey,uP:G.uP};
D(g8,ei,kB,q,c5.sub,g+1)}else if(c5.sd=="LIST"&&c5.K8=="stlt"||c5.sd=="stlt"){if(jN==4294967295)return;
var dH=G.J,cT="",c3=32;c5.b={};var eg=f(G);if(eg==0)return;c5.b.azM=c(G,ey>=1300);c5.b.a7e=c(G);c5.b.a2u={};
var aB=f(G);for(var w=0;w<aB;w++){var gB=f(G);G.J+=ey<1e3?12:20;var jy=i(G),aV=i(G);G.J+=8;var ie=u(G);
G.J+=ey<1e3?12:20;c5.b.a2u[gB]={afh:jy,a84:aV,fontSize:ie}}c5.b.agD=c(G);var a_=f(G);cT+="Intervals\n"+y(G,52,a_)+"\n";
G.J+=52*a_;var gs=f(G);cT+="Set5s\n"+y(G,152,gs)+"\n";G.J+=152*gs;var gq=f(G);cT+="Tabs\n"+y(G,784,gq)+"\n";
G.J+=784*gq;var kr=f(G);cT+="Bullets\n";for(var w=0;w<kr;w++){var iN=G.J,jH=f(G);G.J+=4*3;if(ey>1300)G.J+=4;
var h2=f(G);G.J+=4*5;if(ey>=1300){var an=f(G);if(an){if(f(G))G.J+=64;else G.J+=60}else G.J+=12}else{G.J+=20;
if(ey>=1e3)G.J+=8;if(f(G))G.J+=8;G.J+=8}var bt=G.J;G.J=iN;cT+=y(G,bt-iN,1);G.J=bt}cT+="\n";var kH=f(G);
cT+="Indents\n";c5.b.aDa={};for(var w=0;w<kH;w++){var iN=G.J,js=f(G),gA={};G.J+=12;gA.right=u(G);gA.a9b=u(G);
gA.left=u(G);c5.b.aDa[js]=gA;var bt=G.J;G.J=iN;cT+=y(G,bt-iN,1);G.J=bt}cT+="\n";var jR=f(G);if(ey>=1300)c3+=4;
cT+="Hypens\n"+y(G,c3,jR)+"\n";G.J+=c3*jR;var iU=f(G);cT+="Dropcaps\n"+y(G,28,iU)+"\n";G.J+=28*iU;if(ey>800){var hn=f(G);
cT+="Set11s\n"+y(G,28,hn)+"\n";G.J+=12*hn}c5.b.LX={};for(var w=0;w<eg;w++){var db=f(G);if(db>3)throw db;
var dy=f(G),c2={};c2.$R=f(G);G.J+=8;var bk=f(G);if(ey>=1200)bk*=2;G.J+=bk;c2.aqK=f(G);c2.auN=f(G);if(db>1){c2.awC=f(G);
c2.atr=f(G);c2.a7G=f(G);c2.a6t=f(G);if(ey>800)c2.adr=f(G)}if(db>2){c2.adY=f(G);c2.a9A=f(G);c2.axW=f(G);
c2.ae5=f(G);c2.a7f=f(G)}c5.b.LX[dy]=c2}}else if(c5.sd=="LIST")D(A,G,kB,q,c5.sub,g+1);else if(c5.sd=="txsm"){c5.b={};
if(ey<600)throw"e";if(ey<700)throw"e";if(ey>=1600){c5.b=T(G);return}if(ey>=1500)G.J+=37;else G.J+=36;
if(f(G)){if(ey<800)G.J+=32}if(ey<800)G.J+=4;c5.b.awr=f(G);c5.b.YQ=[];G.J+=48;if(ey>=800){if(f(G)){G.J+=32;
if(ey>=1300)G.J+=8}}if(ey>=1500)G.J+=12;var db=f(G),cx=1,ft=!1;if(!db){if(ey>=800)G.J+=4;if(ey>800)G.J+=2;
if(ey>=1400)G.J+=2;G.J+=24;if(ey<800)G.J+=8;cx=f(G)}for(var h$=0;h$<cx;h$++){var eZ=f(G),w=0;if(ey>=1300&&db)G.J++;
G.J++;var eg=f(G),hf=[];for(w=0;w<eg;w++){var jr=V(G),bF=0;V(G);var ix=V(G);if(ey>=800)bF=V(G);var c2={};
if(ix&1){c2.afh=i(G);var fA=i(G);if(fA)c2.ase=fA}if(ix&2)G.J+=4;if(ix&4)c2.aDr=u(G);if(ix&8)G.J+=4;if(ix&16)G.J+=4;
if(ix&32)G.J+=4;if(ix&64){c2.aqK=f(G);if(ey>=1500)G.J+=48}if(ix&128){c2.auN=f(G)}if(bF&8){if(ey>=1300){var ax=f(G);
if(G.J+ax*2>=G.data.length){ft=!0;break}G.J+=ax*2}else G.J+=4}if(bF&32){var jA=V(G);if(jA)G.J+=52}if(jr==2)if(ey>=1300)G.J+=48;
hf.push(c2)}if(ft){break}var g1=f(G);if(G.J+g1*4>G.data.length)break;var iA=[];for(w=0;w<g1;w++){var iQ=0;
if(ey>=1200)iQ=X(G)&4294967295;else iQ=f(G);iA[w]=iQ>>16|iQ&1}var fB=g1;if(ey>=1200)fB=f(G);var dn=B(G);
c5.b.YQ.push({a7w:eZ,text:dn,LX:hf})}}else if(c5.sd=="arrw")c5.b=N(G);else if(c5.sd=="font"){var iN=G.J,jp=i(G),fP=i(G),k7="";
G.J+=14;if(G.w3>=1200)k7=e(G);else k7=B(G);c5.b={id:jp,api:fP,name:k7};if(q){var hs=iN+c6;while(G.data[G.J]==0)G.J++;
G.J+=2;var kb=e(G);while(G.data[G.J]==0)G.J++;while(G.data[G.J]<=2)G.J+=4;c5.b.uZ=e(G)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(c5.sd)!=-1){}else if(c5.sd=="flgs")c5.b=f(G);
else if(c5.sd=="bbox"){var gn=u(G),iy=u(G),gU=u(G),jV=u(G);c5.b=new eu(gn,iy,gU-gn,jV-iy)}else if(c5.sd=="fild"){var jf=f(G),bU;
if(ey>=1300)G.J+=8;var gw=i(G);if(gw==0){}else if(gw==1){G.J+=ey>=1300?13:2;bU=M(G)}else if(gw==2){G.J+=ey>=1300?8:2;
var id=V(G),kC=0;if(ey>=1300){G.J+=17;kC=s(G)}else if(ey>=600){G.J+=19;kC=R(G)}else{G.J+=11;kC=s(G)}var cb=o(G),bw=.5+I(G),dr=.5+I(G)-.5;
if(ey>=600)G.J+=2;var hu=Z(G)&255,gi=V(G)/100;G.J++;var e6=Z(G)&65535;if(ey>=1300)G.J+=3;var fF=[];for(var w=0;
w<e6;w++){var by=M(G);if(ey>=1400)G.J+=26;else if(ey>=1300)G.J+=5;var dZ=(Z(G)&65535)/100;if(ey>=1300)G.J+=3;
fF.push([dZ,by])}bU={typ:id==1?"lin":"rad",crds:[bw-Math.cos(cb)/2,dr-Math.sin(cb)/2,bw,dr],grad:fF,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",gw);
c5.b={id:jf,type:gw,b:bU}}else if(c5.sd=="outl"){var i6=f(G);if(ey>=1300){var jm=0,d_=0;while(jm!=1){G.J+=d_;
jm=f(G);d_=f(G)}}var hg=i(G),bY=i(G),bA=i(G);if(ey<1300&&ey>=600)G.J+=2;var hc=u(G),de=i(G)/100;if(ey>=600)G.J+=2;
var cu=o(G);if(ey>=1300)G.J+=46;else if(ey>=600)G.J+=52;var bU=M(G);if(ey<600)G.J+=10;else G.J+=16;var f0=i(G),eh=G.J,eU=[];
for(var w=0;w<f0;++w)eU.push(i(G));if(ey<600)G.J=eh+20;else G.J=eh+22;var hV=f(G),fa=f(G);c5.b={id:i6,afF:hg,ayq:bY,arl:bA,lineWidth:hc,color:bU,RG:eU,atA:hV,an0:fa}}else if(c5.sd=="mcfg"){if(1300<=ey)G.J+=12;
else if(900<=ey)G.J+=4;else if(600<=ey&&ey<700)G.J+=28;var cR=0,cm=0;if(ey<400){G.J+=2;var gn=u(G),iy=u(G),gU=u(G),jV=u(G);
cR=Math.abs(gU-gn);cm=Math.abs(jV-iy)}else{cR=u(G);cm=u(G)}c5.b={afo:new eX(cR,cm)}}else if(c5.sd=="loda"||c5.sd=="lobj"){var dH=G.J,gm=Z(G),j_=Z(G),at=Z(G),a5=Z(G),ac=Z(G),aN=[],gJ=[],w=0,bV=null;
G.J=dH+at;while(w<j_)aN[w++]=Z(G);G.J=dH+a5;while(w>0)gJ[--w]=Z(G);c5.b={};for(w=0;w<j_;w++){G.J=dH+aN[w];
var d6=gJ[w];if(d6==30){if(ey>=400&&ac==1||ey<400&&ac==0){c5.b.path=J(G)}else if(ey>=400&&ac==2||ey<400&&ac==1){c5.b.path=C(G)}else if(ey>=400&&ac==3||ey<400&&ac==2){c5.b.path=p(G)}else if(ac==37){c5.b.path=Y(G)}else if(ey>=400&&ac==4||ey<400&&ac==3){c5.b.aCr=a(G)}else if(ey>=400&&ac==6||ey<400&&ac==5){c5.b.aDx=K(G)}else console.log(ac)}else if(d6==20){if(ey<400)c5.b.afH=H(G);
else c5.b.a4E=f(G)}else if(d6==10){if(ey<400)c5.b.a8K=Q(G);else c5.b.a7a=f(G)}else if(d6==200)c5.b.auU=Z(G);
else if(d6==100){if(ey<400)bV=j(G)}}if(bV&&c5.b.path)r.Z.i(c5.b.path.p,bV,c5.b.path.p)}else if(c5.sd=="trfd"){var dH=G.J,gm=Z(G),j_=Z(G),at=Z(G);
G.J=dH+at;var aN=[];for(var w=0;w<j_;w++)aN[w]=Z(G);for(var w=0;w<j_;w++){G.J=dH+aN[w];if(ey>=1300)G.J+=8;
var co=i(G);if(co==8){var iD,ck,gn,aT,ce,iy;if(ey>=600)G.J+=6;if(ey>=500){iD=h(G);ck=h(G);gn=h(G)/(ey<600?1e3:254e3);
aT=h(G);ce=h(G);iy=h(G)/(ey<600?1e3:254e3)}else throw"e";c5.Rg=new iJ(iD,aT,ck,ce,gn,iy)}else console.log(co)}}else if(!1){console.log(c5);
var io=Math.min(c5.size,32);console.log(_.O_(A,c5.J,io));console.log(_.agH(A,c5.J,io))}}}function N(A){var G=f(A);
A.J+=4;var kB=i(A);A.J+=4;var q=[];for(var fO=0;fO<kB;fO++)q.push(V(A));A.J+=1;var g=[];for(var jN=0;
jN<kB;jN++){var c6=[];c6[1]=u(A);c6[0]=u(A);g.push(c6)}var a7=m(g,q);W[G]=a7}function j(A){var G=0,kB=0,q=0,fO=0,g=0,jN=0;
if(A.w3>=300){var c6=A.J;A.J+=10;var a7=Z(A);A.J=c6+a7;G=U(A);kB=U(A);q=R(A)/1e3;fO=U(A);g=U(A);jN=R(A)/1e3}else{q=u(A);
jN=u(A);G=U(A);kB=U(A);q+=U(A)/1e3;fO=U(A);g=U(A);jN+=U(A)/1e3}return new iJ(G,kB,fO,g,q,jN)}function H(A){var G=V(A);
if(G==0)return null;else if(G==1)return M(A);else console.log(G)}function Q(A){var G=V(A);G<<=1;var kB=u(A),q=i(A)/100,fO=o(A),g=M(A);
return{afF:G,lineWidth:kB,color:g,RG:[],atA:0,an0:0}}function C(A){var G=u(A),kB=u(A),q=o(A),fO=o(A),g=r.Z.aE(r.j.sk.Dd(0,0,G,kB));
return g}function J(A){var G=A.w3,kB=b(A),q=b(A),fO=0,g=0,jN=0,c6=0,a7=0,bd=1,ey=1;if(G<1500){c6=b(A);
jN=G<900?c6:b(A);g=G<900?c6:b(A);fO=G<900?c6:b(A)}else{var c5=h(A);if(c5!=0)bd=c5;c5=h(A);if(c5!=0)ey=c5;
var bx=V(A);A.J+=7;if(bx==0){c6=h(A);a7=V(A);A.J+=15;jN=h(A);A.J+=16;g=h(A);A.J+=16;fO=h(A);var ap=Math.abs(kB*bd/2),fC=Math.abs(q*ey/2);
c6*=ap<fC?ap:fC;jN*=ap<fC?ap:fC;g*=ap<fC?ap:fC;fO*=ap<fC?ap:fC}else{c6=b(A);a7=V(A);A.J+=15;jN=b(A);
A.J+=16;g=b(A);A.J+=16;fO=b(A)}}return r.Z.aE(r.j.sk.Rect(0,0,kB,q,[fO,g,jN,c6]))}function E(A){var G=f(A);
if(A.w3<1700)G*=2;A.J+=G;return""}function T(A){var G=f(A),q=0;A.J+=37;var kB=f(A);for(var w=0;w<kB;
w++){var fO=f(A);q=fO;A.J+=48;var g=f(A);if(g==1)A.J+=12*4;else A.J+=8;if(!G){A.J+=16;E(A)}}var jN={awr:q,YQ:[]},c6=f(A);
for(var a7=0;a7<c6;a7++){var bd=f(A),cF="";A.J+=1;if(G)A.J+=1;var ey=E(A),c5=f(A);for(var w=0;w<c5;w++){A.J+=2;
var bx=i(A),ap=i(A);if(ap&4){var fC=f(A);fC*=2;A.J+=fC}if(bx||ap&4){var kE=E(A)}}var bm=f(A),fe=[];for(var w=0;
w<bm;w++){var g8=X(A)&4294967295;fe[w]=g8>>16|g8&1}var e0=f(A);for(var w=0;w<bm;w++){var ei=fe[w]&7,cr=0;
if(ei==0||ei==2||ei==4||ei==6)cr=A.data[A.J++];else if(ei==1||ei==3)cr=A.data[A.J++]+A.data[A.J++]*256;
else throw ei;cF+=String.fromCharCode(cr)}var e_=cF.split("\r");for(var w=0;w<e_.length;w++)jN.YQ.push({text:e_[w],a7w:bd,LX:[]})}return jN}function c(A,G){var kB={},q=f(A);
for(var w=0;w<q;w++){var fO=f(A);A.J+=4;var g=f(A);kB[fO]=g;if(G)A.J+=48}return kB}function a(A){var G=u(A),kB=u(A);
return new eX(G,kB)}function K(A){A.J+=4;var G=u(A),kB=u(A);return new eX(G,kB)}function Y(A){A.J+=4;
var G=i(A)+i(A);A.J+=16;var kB=P(A,G);return kB}function p(A){var G=i(A);A.J+=2;return P(A,G)}function P(A,G){var kB=[],q=[];
for(var w=0;w<G;w++)kB.push([u(A),u(A)]);for(var w=0;w<G;w++)q.push(V(A));return m(kB,q)}function m(A,G){var kB={p:[],G:[]},q=0,fO=0,g=0;
for(var w=0;w<A.length;w++){var q=A[w][0],fO=A[w][1],jN=G[w];if(!(jN&64)&&!(jN&128)||w==0){kB.p.push(q,fO);
kB.G.push("M");g+=2}else if(jN&64&&!(jN&128)){kB.p.push(q,fO);kB.G.push("L");g+=2}else if(!(jN&64)&&jN&128){kB.p.push(q,fO);
kB.G.push("C");g+=6}else if(jN&64&&jN&128){kB.p.push(q,fO)}}if(g!=kB.p.length)throw"e";return kB}function z(A,G){var kB=_.$J;
G+=8;var q=kB(A,G);G+=4;var fO=kB(A,G);G+=4;G+=4*7;var g=G,jN=r.R(q*fO*4);G+=1024;for(var c6=0;c6<fO;
c6++)for(var a7=0;a7<q;a7++){var w=c6*q+a7,bd=(fO-c6-1)*q+a7,ey=A[G+w]<<2,c5=bd<<2;jN[c5+0]=A[g+ey+2];
jN[c5+1]=A[g+ey+1];jN[c5+2]=A[g+ey+0];jN[c5+3]=255}return{Xu:jN,rect:new eu(0,0,q,fO)}}function M(A){var G=A.w3,kB=0,q=0,fO=0;
if(G>=500){kB=i(A);if(kB==1&&G>=1300)kB=25;if(kB==30){kB=25;q=30}else{q=i(A);A.J+=4}fO=f(A)}else if(G>=400)throw"e";
else{kB=V(A);fO=f(A)}return d(kB,q,fO)}function d(A,G,kB){var q=[0,0,0];if(A==2||A==3||A==9||A==17){var fO=[kB>>>0&255,kB>>>8&255,kB>>>16&255,kB>>>24&255];
if(A==2)for(var w=0;w<4;w++)fO[w]=Math.round(255*fO[w]/100);for(var w=0;w<4;w++)fO[w]/=255;q=UDOC.C.cmykToRgb(fO)}else if(A==1||A==5){q=[kB>>>0&255,kB>>>8&255,kB>>>16&255];
for(var w=0;w<3;w++)q[w]=q[w]/255;if(A==5)q.reverse()}else console.log("Unknown color model "+A,kB,kB.toString(16));
return q}return{cF:n}}(),gP=function(){var x,F,W=new ArrayBuffer(4),n=new Uint8Array(W),L=new Uint32Array(W),$=new Float32Array(W);
function l(s,R){for(var h=0;h<s.length;h++)if(s[h][0]==R)return s[h]}function k(){var s=0,R=0,h=0;do{h=x[F++];
s|=(h&127)<<R;R+=7}while(h&128&&R<35);return s>>>0}function V(s,R,h,B,e){x=s;F=R;var U=B[0]=="mesg",o=B[2],b={},u=1,Z=U?1e9:o.length;
while(u<=Z){var I=u;if(U){I=k();if(I==0)break}var y=l(o,I),D=y[2],N=y[1]==1,j=N?k():1,H=new Array(j);
if(D==3){if(!N)throw"e";H=x.slice(F,F+j);F+=j}else for(var w=0;w<j;w++){var Q;if((D&1)==1){if(D==1)Q=x[F++]==1;
else if(D==3)Q=x[F++];else if(D==5){var C=k();Q=C&1?~(C>>>1):C>>>1}else if(D==7)Q=k();else if(D==9){if(x[F]==0){Q=0;
F++}else{n[0]=x[F];n[1]=x[F+1];n[2]=x[F+2];n[3]=x[F+3];var J=L[0];L[0]=J<<23|J>>>9;Q=$[0];F+=4}}else if(D==11){var E=i(x,F);
Q=E[0];F+=E[1]+1}else throw D}else{var T=h[D>>>1];if(T[0]=="enum"){var c=k();Q=T[2][c]}else{var a=V(x,F,h,T,e+1);
Q=a[0];F=a[1]}}H[w]=Q}b[y[3]]=N?H:H[0];u++}return[b,F]}function i(s,R){var h=R;while(s[h]!=0)h++;return[_.NM(new Uint8Array(s.buffer,R,h-R)),h-R]}function f(s,R){var h=R;
while(s[h]!=0)h++;for(var w=R;w<h;w++)if(s[w]>127)throw"e";return _.xR(s,R,h-R)}function X(s){x=s;F=1;
var R=[];while(F<s.length){var h=F,B=R.length,e=f(s,F);F+=e.length+1;var U=k();if(U>2)throw"e";var o=k(),b=[];
for(var w=0;w<o;w++){var u=f(s,F);F+=u.length+1;var Z=k(),I=k(),y=k();b.push(U==0?u:[y,I,Z,u])}R.push([["enum","strc","mesg"][U],e,b])}return R}return{au1:X,ah5:V}}();
function gG(){}gG.cF=function(x,F){var W=Date.now(),n=new Uint8Array(x),L=8,$,X=0,a=0;if(n[0]==80&&n[1]==75){$=UZIP.parse(x);
n=$["canvas.fig"]}var l=_.$J(n,L);L+=4;var k=[];while(L<n.length){var V=_.$J(n,L);L+=4;var i=n.slice(L,L+V);
if(n[L]==137&&n[L+1]==80){}else i=UZIP.inflateRaw(i);k.push(i);L+=V}var f=gP.au1(k[0]);for(var w=0;w<f.length;
w++)if(f[w][1]=="Message")X=w;var s=gP.ah5(k[1],0,f,f[X],0)[0],R={ln:{},cH:{},ay0:{},WH:$},h=s.nodeChanges;
for(var B=0;B<h.length;B++){var e=h[B],U=e.guid;R.cH[U.sessionID+","+U.localID]=e}for(var B=0;B<h.length;
B++){var e=h[B],U=e.parentIndex;if(U){var o=gG._J(R.cH,U.guid);if(o.children==null)o.children=[];o.children.push(e)}}var b=h[0],u=b.children,Z=new eu,I=[],y=[];
for(var U=0;U<u.length;U++){var D=u[U],N=D.children;if(D.name=="Internal Only Canvas"||N==null)continue;
var j=new eu;for(var w=0;w<N.length;w++){var H=N[w],Q=H.transform,C=H.size;if(Q.m00==1&&Q.m10==0&&Q.m01==0&&Q.m11==1){var J=new eu(Q.m02,Q.m12,C.x,C.y);
j=j.oA(J)}}var E=Z.e==0?0:Z.e+100,T=j.clone();T.x=0;T.y=E;Z=Z.oA(T);I[U]=j;y[U]=E}var c=ff.Rk(new eu(0,0,Z.m,Z.e),8192*8192);
F.m=Math.round(Z.m/c);F.e=Math.round(Z.e/c);F.buffer=r.R(F.m*F.e*4);for(var U=0;U<u.length;U++){var D=u[U],N=D.children;
if(D.name=="Internal Only Canvas"||N==null)continue;N.sort(gG.aj0);var K=new iJ(1,0,0,1,-I[U].x,y[U]-I[U].y);
K.scale(1/c,1/c);for(var w=0;w<N.length;w++){var H=N[w];gG.YA(H,[],K,s.blobs,F,0,R);a++}}F.jY(a);F.Sv=!0;
if(c!=1)alert("File scaled down "+c+"x")};gG.YA=function(x,F,W,n,L,$,l){var k=gG,j=!1,H,J=!1,E,T;F=JSON.parse(JSON.stringify(F));
var V=x.overrideKey?x.overrideKey:x.guid;for(var w=0;w<F.length;w++){var i=F[w],f=i.guidPath.guids;if(k.aun(f[0],V)){if(f.length==1){var X={};
for(var s in x)X[s]=i[s]!=null?i[s]:x[s];x=X}else i.guidPath.guids=f.slice(1)}}var R=x.type,h=x.children,B=x.size,e=x.effects,U=L.dI();
U.sc(x.name);U.FH(x.visible);U.opacity=Math.round(x.opacity*255);var o=k.F$(x.transform),b=o.clone();
b.concat(W);if(B==null)B={x:0,y:0};var u=new eu(Math.round(b.yq),Math.round(b.Ze),Math.round(B.x*b.NX()),Math.round(B.y*b.NX()));
if(u.m==0||isNaN(u.m))u.m=100;if(u.e==0||isNaN(u.e))u.e=100;var Z=x.fillPaints,I=x.inheritFillStyleID;
if(I){var X=k._J(l.cH,I);if(X)Z=X.fillPaints}if(Z==null)Z=[];var Z=k.ams(Z),y=Z[0],D=x.strokePaints,I=x.inheritFillStyleIDForStroke;
if(I){var X=k._J(l.cH,I);if(X)D=X.fillPaints}if(D==null)D=[];var D=k.ams(D),N="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(R)!=-1;
if(N||R=="FRAME"){H=new t.C$;k.acf(x,n,H);j=r.j.Pk(H.$);r.j.js(H.$,b);var Q=r.Z.Jy(r.j.Bd(H.$));if(!Q.ak())u=Q;
if(l.ln.iR&&y){var C=t.C$.uF(l.ln.iR.$);for(var w=2;w<C.length;w++)if(C[w].eb!=null)C[w].eb=3;H.$=H.$.concat(C.slice(2))}}if(y&&y.type=="IMAGE"){T=y.imageScaleMode;
J=!0;var c=y.originalImageWidth,a=y.originalImageHeight;if(c*a==0){var K=k.Hi(n,gG.nZ(y),l);c=K.Sf.m;
a=K.Sf.e}var Y=c/a,p=B.x/B.y;E=Math.abs(Y-p)}if(R=="FRAME"){}else if(N&&j&&J&&(T=="FIT"||T=="FILL"&&E<=.05||T=="STRETCH"&&E<=.05)){var P=k.Hi(n,gG.nZ(y),l,!0),m=L.sP(P,U.getName(),0,0);
m.xb=U.xb;m.opacity=U.opacity;U=m;var z=new eu(0,0,B.x,B.y);if(T=="FIT"){var M=y.originalImageWidth,d=y.originalImageHeight,A=Math.min(B.x/M,B.y/d),G=M*A,kB=d*A;
z=new eu(z.x+(z.m-G)/2,z.y+(z.e-kB)/2,G,kB)}var q=r.Z.o4(z).p;r.Z.i(q,b,q);U.add.SoLd.Trnf=O.Y.ud(q);
U.add.SoLd.nonAffineTransform=O.Y.ud(q);var fO=[],e=x.effects,g=y.paintFilter;if(e)for(var w=0;w<e.length;
w++)if(e[w].type=="FOREGROUND_BLUR"){var jN=e[w],c6=ew.Il("GsnB",{});fO.push(c6);c6.v.enab.v=jN.visible;
c6.v.Fltr.v.Rds.v.val=jN.radius/2.4}if(g&&g.exposure!=0){var c6=ew.Il("brit",{});fO.push(c6);c6.v.Fltr.v.Brgh.v=Math.round(g.exposure*160);
c6.v.Fltr.v.useLegacy.v=!0}if(g&&g.vibrance!=0){var c6=ew.Il("vibA",{});fO.push(c6);c6.v.Fltr.v.Strt.v=Math.round(Math.round(g.vibrance*100))}if(fO.length!=0){U.add.SoLd.filterFX=ew.yp();
L.Ky({id:U.add.SoLd.placed.v,rect:new eu,buffer:r.R(1),F:new t.gm});U.add.SoLd.filterFX.v.filterFXList.v=fO}U.Bw(L,!1);
k.aoO(l,U,L)}else if(N){k.aDf(U,H,x,y,D,b,u,n,L,l);if(e)for(var w=0;w<e.length;w++){var jN=e[w];if(jN.type!="FOREGROUND_BLUR")continue;
H.vX=jN.radius/2.4}U.oO();U.pZ(L)}else if(R=="TEXT"){var a7=x.textData,bd=a7.layoutSize,ey=["LEFT","RIGHT","CENTER"].indexOf(x.textAlignHorizontal);
U.add.lnsr="rend";U.add.TySh=iV.P3(0,0);U.add.TySh.pX=new eu(0,0,100,100);var c5=b.clone();U.add.TySh.i=c5;
var bx=U.add.TySh.OU,ap=a7.characters;if(x.textCase=="TITLE"){for(var w=0;w<ap.length;w++)if(w==0||ap[w-1]==" "){var fC=ap.slice(0,w),kE=ap.slice(w+1);
ap=fC+ap[w].toUpperCase()+kE}}ap=ap.replace(/\u2028/g,"\n");ap=ap.replace(/\u2029/g,"\n");ap=ap.replace(/\r\n/g," \n");
iV.yb(bx,0,ap);var bm=x.textAutoResize,fe=a7.baselines;if(bm=="WIDTH_AND_HEIGHT"){var g8=ey==0?0:ey==1?bd.x:bd.x/2,e0=fe?fe[0].position.y:0;
c5.translate(g8*b.NX(),e0*b.NX());iV.xC(bx,0)}else if(bm=="HEIGHT"||bm=="NONE"||bm==null){var e0=fe?fe[0].position.y-x.fontSize*.7:0;
c5.translate(0,e0*b.NX());iV.xC(bx,1);iV.J3(bx,[0,0,Math.round(bd.x),Math.round((bm=="NONE"?1.8:1)*bd.y)])}else throw bm;
if(ap!=""){var cF=iV.f3(bx,0,1);k.atu(x,b,B,cF,U,n,L,l);iV.Aj(bx,0,ap.length,cF);var ei=a7.characterStyleIDs,cr=a7.styleOverrideTable;
if(ei){ei=ei.slice(0);for(var w=0;w<ei.length;w++)if(ap[w]=="\n")ei[w]=-w-1;var e_=[0],gg=0,bW=0;for(var w=0;
w<ei.length;w++){bW++;var gx=ei[w];if(w==0||gx==ei[w-1]){}else{e_.push(bW-1,w);bW=1}}e_.push(bW);for(var w=0;
w<e_.length;w+=2){var h$=e_[w],dH=e_[w+1];if(ap[h$]=="\n")continue;var gx=ei[h$];if(gx!=0){var eg;for(var aB=0;
aB<cr.length;aB++)if(cr[aB].styleID==gx)eg=cr[aB];var cF=iV.f3(bx,h$,h$+1);k.atu(eg,b,B,cF,U,n,L,l);
iV.Aj(bx,h$,h$+dH-1,cF)}}}}}else if(R=="SYMBOL"){}else if(R=="INSTANCE"){var gB=x.symbolData,jy=gB.symbolOverrides,X=k._J(l.cH,gB.symbolID);
if(X)h=X.children;else console.log(x.name,"symbol not found",gB.symbolID);F=F.slice(0);for(var w=0;w<jy.length;
w++)F.push(jy[w])}else console.log(R);if(!1){}else if(h&&!N){L.B.push(L.Nz());var aV=!1,ie=$==0&&R!="SYMBOL"&&R!="INSTANCE";
if(ie){if(u.ak())console.log(u);U.lK(u)}y=Z[Z.length-1];if(ie&&y&&y.type=="SOLID"){var cT=y.color;U.add.artb.artboardBackgroundType.v=4;
U.add.artb.Clr=k.po(cT)}else if((y||D[0])&&H){var a_=L.dI();a_.sc("Background");k.aDf(a_,H,x,y,D,b,u,n,L,l);
a_.oO();a_.pZ(L);L.B.push(a_);aV=!0}h.sort(k.aj0);var gs=l.ln;l.ln={};for(var gq=0;gq<h.length;gq++)k.YA(h[gq],F,b,n,L,$+1,l);
l.ln=gs;U.add.lsct=!1?eD.en:eD.Tn;U.q_="pass";var kr=U.MG();U.xb=24;U.FH(kr);var iN=$!=0&&Z.length!=0&&!x.frameMaskDisabled&&x.containerSupportsFillStrokeAndCorners;
if(!aV&&iN&&H){U.add.vmsk=H;U.oO();U.pZ(L)}else k.aoO(l,U,L);L.B.push(U)}else if(x.mask){if(H){l.ln.iR=H}}else{var jH=[],jR=1;
if(e)for(var h2=0;h2<e.length;h2++){var jN=e[h2],an=jN.color,bt=jN.type,kH=["DROP_SHADOW","INNER_SHADOW"].indexOf(bt);
if(kH!=-1){var js=["DrSh","IrSh"][kH],gA=JSON.parse(eC.bc[eC.order.indexOf(js)]);jH.push([js,gA]);gA.enab.v=jN.visible;
gA.Md.v.BlnM=a2.KN(k.amN(jN.blendMode));gA.Opct.v.val=Math.round(100*an.a);gA.blur.v.val=Math.round(jN.radius*b.NX());
gA.Clr=k.po(an);var g8=jN.offset.x,e0=jN.offset.y;gA.uglg.v=!1;gA.lagl.v.val=Math.round(180/Math.PI*Math.atan2(e0,-g8));
gA.Dstn.v.val=Math.round(Math.sqrt(g8*g8+e0*e0)*b.NX())}}if(R=="TEXT"&&Z[0]&&Z[0].type!="SOLID")jR=0;
for(var w=jR;w<Z.length;w++){var c3=Z[w],iU=k.gk(x,c3,b,u,n,L,l);if(iU[0]=="GdFl")jH.push(["GrFl",iU[1]]);
else if(iU[0]=="SoCo")jH.push(["SoFi",iU[1]]);else if(iU[0]=="PtFl")jH.push(["patternFill",iU[1]]);else if(iU[0]=="None"){}else throw iU}if(!N)for(var w=0;
w<D.length;w++){var c3=D[w],iU=k.gk(x,c3,b,u,n,L,l);if(iU[0]=="SoCo"){var gA=JSON.parse(eC.bc[eC.order.indexOf("FrFX")]);
jH.push(["FrFX",gA]);gA.enab=iU[1].enab;gA.Opct=iU[1].Opct;gA.Md=iU[1].Md;gA.Clr=iU[1].Clr;gA.Sz.v.val=x.strokeWeight}}if(jH.length!=0){var hn=JSON.parse(eC.default);
for(var w=0;w<eC.order.length;w++)hn[eC.UM[w]]={t:"VlLs",v:[]};for(var w=0;w<jH.length;w++){var db=jH[w],js=eC.UM[eC.order.indexOf(db[0])];
hn[js].v.unshift({t:"Objc",v:db[1]})}if(h==null)U.add.lmfx=hn}L.B.push(U)}};gG.aDf=function(x,F,W,n,L,$,l,k,V,i){var f=gG;
x.xb|=16;x.add.vmsk=F;var X=x.add.vstk=eC.pr.Iz(),s=f.gk(W,n,$,l,k,V,i);X.fillEnabled.v=s[0]!="None";
if(s[0]=="None"){x.add.SoCo=s[1]}else{f.tv(s,x);x.add[s[0]]=s[1]}var s=f.gk(W,L[0],$,l,k,V,i);if(s[0]!="None"){var X=x.add.vstk;
X.strokeEnabled.v=!0;X.strokeStyleLineWidth.v.val=W.strokeWeight*$.NX();X.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eC.pr.Uu[["INSIDE","CENTER","OUTSIDE"].indexOf(W.strokeAlign)];
var R={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[s[0]],h=["SoFi","GrFl","patternFill"].indexOf(R),B=[eC.eK,eC.Qu,eC.YZ][h];
X.strokeStyleContent.v={classID:eC.pr.K8[0]};var e=W.dashPattern;if(e)X.strokeStyleLineDashSet.v=hM.Pg(e,1/W.strokeWeight);
var U=X.strokeStyleContent.v={classID:eC.pr.K8[h]};for(var w=0;w<B.length;w++)U[B[w]]=s[1][B[w]];if(!X.fillEnabled.v)f.tv(s,x)}};
gG.tv=function(x,F){var W=x[1].Opct.v.val;if(W!=100)F.opacity=Math.round(F.opacity/255*(W/100)*255)};
gG.aj0=function(x,F){var W=x.parentIndex.position,n=F.parentIndex.position;return W>n?1:-1};gG.ams=function(x){for(var w=1;
w<x.length;w++){var F=x[w];if(F.type=="IMAGE"&&F.opacity==1){x=x.slice(w);break}}for(var w=0;w<x.length;
w++){var F=x[w],W=F.imageThumbnail;if(F.type=="IMAGE"&&(F.image==null||F.image.dataBlob==null)&&W&&W.dataBlob)F.image=W;
if(!F.visible){x.splice(w,1);w--}}return x};gG.aoO=function(x,F,W){if(x.ln.iR){F.add.vmsk=x.ln.iR.clone();
F.oO();F.pZ(W)}};gG.atu=function(x,F,W,n,L,$,l,k){var V=x.fontSize,i=x.lineHeight,f=x.fontName,X=x.textAlignHorizontal,s=x.textTracking,R=x.textCase,h=x.textDecoration;
if(V==null)V=n.oE.FontSize;if(f){var B=f.postscript;if(B==""){var e=f.family,U=f.style;B=e.split(" ").join("")+"-"+U}iV.hU(n,B)}if(V!=null)n.oE.FontSize=Math.round(V);
if(h=="UNDERLINE")n.oE.Underline=!0;if(s)n.oE.Tracking=Math.round(s*1e3);if(R)n.oE.FontCaps=R=="UPPER"?2:0;
if(i&&(i.units!="PERCENT"||i.value!=100)){if(V==null)V=15;var o=i.value;if(i.units=="PERCENT")o=1*V*o/100;
if(i.units=="RAW")o=1*V*o;n.oE.AutoLeading=!1;n.oE.Leading=Math.round(o)}if(X)n.wt.Justification=["LEFT","RIGHT","CENTER"].indexOf(X);
var b=x.fillPaints,u=x.inheritFillStyleID;if(u){var Z=gG._J(k.cH,u);if(Z)b=Z.fillPaints}if(b&&b[0]){var I=gG.gk(x,b[0],F,W,$,l,k);
if(I[0]=="SoCo"){var y=r.I.z$(I[1].Clr.v);n.oE.FillColor={Type:1,Values:[1,y.o/255,y.r/255,y.z/255]};
gG.tv(I,L)}}};gG.gk=function(x,F,W,n,L,$,l){var k=gG,V,i,f=x.size;if(f==null)f={x:0,y:0};if(F){var X=F.type,s=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(X);
if(X=="SOLID"){V="SoCo";var R=F.color;i=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);i.Clr=k.po(R)}else if(s!=-1){var h=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]),B=h.Grad.v;
B.Intr.v=0;h.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][s];var e=[],U=F.stops;for(var w=0;w<U.length;w++){var o=U[w],b=o.color;
e.push([o.position,[b.r,b.g,b.b],b.a])}r.I.yT(e,B);var u=k.F$(F.transform);u.sx();var Z=u.clone();if(f)Z.scale(f.x,f.y);
Z.concat(W);var I=new eX(0,.5),y=new eX(1,.5);I=Z.dr(I);y=Z.dr(y);if(!0){I.x=y.x+.5*(I.x-y.x);I.y=y.y+.5*(I.y-y.y)}r.I.cD(I,y,n,h);
if(s==3){if(Z.V*Z.P9-Z.z*Z.Pu<0)h.Rvrs.v=!h.Rvrs.v}V="GdFl";i=h}else if(X=="IMAGE"){var h=JSON.parse(eC.bc[eC.order.indexOf("patternFill")]),u=k.F$(F.transform);
u.sx();var D=gG.nZ(F),N=l.ay0[D];if(N==null){var j=k.Hi(L,D,l);N=l.ay0[D]={};N.id=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f";
N.aB=[new Uint8Array(j.data),j.Sf];if(u.V<0){var H=N.aB[0].slice(0);r.D.UZ(H,N.aB[0],j.Sf.m,j.Sf.e)}N.name="someImage";
$.Dm(N)}if(u.V<0)u.V=-u.V;var Q=["FILL","FIT","STRETCH","TILE"].indexOf(F.imageScaleMode),C=Q==3?F.scale:1;
hM.atD(N,h,f.x,f.y,Q,W,u,C);V="PtFl";i=h}else if(X=="VIDEO"){V="SoCo";i=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);
i.Clr=k.po({r:255,g:0,b:255})}else throw X;if(i)i.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(F.opacity*100)}}}if(V==null||F.opacity<.001){V="None";
i={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:0,r:0,z:0})}}}return[V,i]};gG.nZ=function(x){var F=x.image,W=F.dataBlob;
if(W==null){W="";for(var w=0;w<20;w++)W+=F.hash[w].toString(16).padStart(2,"0")}return W};gG.Hi=function(x,F,W,n){if(x[F]){var L=x[F];
if(n)return L.bytes;if(L.rslt)return L.rslt;var $=L.bytes.buffer;L.rslt=gG.a37($);return L.rslt}else{if(n)return W.WH["images/"+F];
var $=W.WH["images/"+F].buffer;if(W.WH["images/-"+F])return W.WH["images/-"+F];W.WH["images/-"+F]=gG.a37($);
return W.WH["images/-"+F]}};gG.a37=function(x){var F=jW.XM(x);if(F=="fpng")F="png";var W=jW.w0(F);try{return W.La(x)[0]}catch(ii){return{data:r.R(4),Sf:new eu(0,0,1,1)}}};
gG.acf=function(x,F,W){var n=x.type,L=x.size,$=x.cornerRadius,i;if($==null)$=0;var l=L.x,k=L.y,V=[$,$,$,$],f=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var w=0;w<4;w++)if(x[f[w]]!=null)V[w]=x[f[w]];if(n=="RECTANGLE"||n=="ROUNDED_RECTANGLE"||n=="FRAME"){i=r.j.sk.Rect(0,0,l,k,V)}else if(n=="ELLIPSE"){var X=x.arcData,s=X?X.startingAngle:0,R=X?X.endingAngle:2*Math.PI,h=X?X.innerRadius:0;
if(s==0&&R>1.999*Math.PI)i=r.j.sk.Dd(0,0,l,k,0);else i=r.j.sk.a4m(l/2,k/2,k/2,s,R);if(h!=0&&h!=1){var B=t.C$.uF(i).slice(3);
B.reverse();for(var w=0;w<B.length;w++){var e=B[w],U=e.Xs;e.Xs=e.vf;e.vf=U}var o=new iJ;o.translate(-l/2,-k/2);
o.scale(h,h);o.translate(l/2,k/2);r.j.js(B,o);i=i.concat(B);i[2].length*=2}}else if(n=="LINE"){i=r.j.sk.Rect(0,0,l,k,0);
i.pop();i.pop();i[2].length=2}else if(n=="STAR"){i=r.j.sk.anT(l/2,k/2,l/2,2*Math.PI*(1/4),5,0,x.starInnerScale)}else if(n=="REGULAR_POLYGON"){i=r.j.sk.UU(.5,.5,.5,Math.PI/2,x.count,0);
var b=new iJ;b.scale(l,k);r.j.js(i,b)}else if(n=="BOOLEAN_OPERATION"){i=[{type:6},{type:8,all:0}];var u=x.children,Z=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(x.booleanOperation);
if(Z==-1)throw x;if(u==null)u=[];for(var w=0;w<u.length;w++){var I=u[w],y=new t.C$,D=gG.acf(I,F,y);if(y.$==null)continue;
r.j.js(y.$,gG.F$(I.transform));i=i.concat(y.$.slice(2))}for(var w=3;w<i.length;w++)if(i[w].eb!=null)i[w].eb=Z}else if(n=="VECTOR"){var N,j,p=3;
if(!0){var H=x.vectorData;if(H==null)return;N=H.normalizedSize;j=H.vectorNetworkBlob}var Q=F[j].bytes,C=new Uint32Array(Q.buffer),J=new Float32Array(Q.buffer),E=C[0],T=C[1],c=C[2],a=[],K=[],Y=[],P=p+E*3,m=P+T*7;
for(var w=0;w<E;w++){var z=p+w*3,M=new eX(J[z+1],J[z+2]);a.push(M)}for(var w=0;w<T;w++){var d=P+w*7;
K.push([C[d+0],C[d+1],J[d+2],J[d+3],C[d+4],J[d+5],J[d+6]])}for(var w=0;w<c;w++){var A=C[m+1],G=Y[w]=[];
m+=2;for(var kB=0;kB<A;kB++){var q=C[m++],fO=G[kB]=[];for(var g=0;g<q;g++)fO[g]=C[m+g];m+=q}}if(m!=C.length)throw"e";
if(c==0){var jN=-1;for(var w=0;w<T;w++){if(jN==-1){}else{var c6=-1;for(var kB=w;kB<T;kB++)if(K[kB][4]==jN)c6=kB;
for(var kB=w;kB<T;kB++)if(K[kB][1]==jN)c6=kB;if(c6!=-1){var a7=0,U=K[c6];K[c6]=K[w];K[w]=U;if(U[1]!=jN){a7=U[1];
U[1]=U[4];U[4]=a7;a7=U[2];U[2]=U[5];U[5]=a7;a7=U[3];U[3]=U[6];U[6]=a7}}}jN=K[w][4]}Y.push([[]]);for(var w=0;
w<T;w++)Y[0][0].push(w)}var bd=[],c5=[];for(var bx=0;bx<Y.length;bx++){for(var ap=0;ap<Y[bx].length;
ap++){var fC=Y[bx][ap],kE=0;if(fC.length>1){var bm=K[fC[0]],fe=K[fC[1]];kE=bm[4]==fe[1]?1:0}for(var w=0;
w<fC.length;w++){var g8=K[fC[w]],e0=1,cF=4;if(kE==0){e0=4;cF=1}var ei=a[g8[e0]],cr=a[g8[cF]];if(w==0){c5.push("M");
bd.push(ei.x,ei.y)}c5.push("C");bd.push(ei.x+g8[e0+1],ei.y+g8[e0+2],cr.x+g8[cF+1],cr.y+g8[cF+2],cr.x,cr.y)}}}i=r.Z.zI({p:bd,G:c5},!1);
if($!=0){var V=[],e_=i[2].length;for(var w=0;w<e_;w++)V.push($);if(r.j.y$(i))r.j.DA(i,2,V)}var gg=new iJ;
gg.scale(N.x==0?1:L.x/N.x,N.y==0?1:L.y/N.y);r.j.js(i,gg)}W.$=i};gG._J=function(x,F){return x[F.sessionID+","+F.localID]};
gG.aun=function(x,F){return x.sessionID==F.sessionID&&x.localID==F.localID};gG.amN=function(x){var F={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[x];
if(F==null)throw x;return F};gG.po=function(x){return{t:"Objc",v:r.I.GB({o:x.r*255,r:x.g*255,z:x.b*255})}};
gG.F$=function(x){if(x==null)return new iJ;var F=[x.m00,x.m10,x.m01,x.m11,x.m02,x.m12];for(var w=0;w<6;
w++)if(Math.abs(F[w])<1e-20)F[w]=0;return new iJ(F[0],F[1],F[2],F[3],F[4],F[5])};function dc(){}dc.cF=function(){var x=_.xR;
function F(R,h,B,e){var U=e?[]:{};while(h<R.length-1&&R[h]!=125){var o=x(R,h,3),b=x(R,h+3,1),u;h+=4;
h++;if(b=="v"){var Z=F(R,h,B+1,o=="ELM"||o=="TIL");u=Z.b;h=Z.J}else if(b=="i"||b=="f"){var I=h;while(R[I]!=125)I++;
var y=x(R,h,I-h);u=b=="i"?parseInt(y,16):parseFloat(y);h=I+1}else if(b=="s"){var D=_.Vk(R,h),y="";h+=2;
for(var w=0;w<D;w++)y+=String.fromCharCode(R[h+2*w+1]);u=y;h=h+2*D+1}else if(b=="b"){u=R[h]==49;h=h+2}else throw"e";
if(e)U.push([o,u]);else if(U[o]==null)U[o]=u;else{if(!(U[o]instanceof Array))U[o]=[U[o]];U[o].push(u)}}h++;
return{b:U,J:h}}function W(R,h){var B=n(R).slice(1),R=h.Clr.v;R.Rd.v=B[0]*255;R.Grn.v=B[1]*255;R.Bl.v=B[2]*255}function n(R){return[(R>>>24&255)/255,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]}function L(R,h){var B=h&4278190080|(h&255)<<16|(h>>>8&255)<<8|h>>>16&255;
new Uint32Array(R.buffer).fill(B)}function $(R,h){var B=R.TSZ,e=R.WPX,U=R.HPX,o=R.TIL,b=new eu(0,0,e,U),u=r.R(e*U*4),Z=0;
for(var I=0;I<U;I+=B)for(var y=0;y<e;y+=B){var D=new eu(y,I,B,B),N,j=o[Z];if(j[0]=="TMC"){N=r.R(D.P()*4);
L(N,j[1])}else if(j[0]=="TID"){N=h[j[1]]}r.sh(N,D,u,b);Z++}return[u,b]}function l(R,h){R=new Uint8Array(R);
var B=8,e,U={},T=0;while(B<R.length){var o=_.q(R,B);B+=4;var b=x(R,B,4);B+=4;if(b=="mkTS"){var u=pako.inflate(R.slice(B,B+o)),Z=F(u,0,0);
e=Z.b}else if(b=="mkBT"){var I=_.q(R,B+4),y=_.q(R,B+8),u=pako.inflate(R.slice(B+76,B+o));if(y==0)for(var w=0;
w<u.length;w+=4){var D=u[w],N=u[w+1],j=u[w+2],H=u[w+3];u[w+3]=D;u[w+2]=H;u[w+1]=j;u[w]=N}else{var Q=r.R(u.length*4);
Q.fill(255);r.Mi(u,Q);u=Q}U[I]=u}B+=o+4}var C=e.PDC,J=C?C instanceof Array?C:[C]:[e.MKB],E=new eu;for(var w=0;
w<J.length;w++){var c=J[w];E=E.oA(new eu(0,T,c.WID,c.HIT));T+=c.HIT+100}h.m=E.m;h.e=E.e;h.buffer=r.R(E.P()*4);
h.jY(J.length);T=0;for(var a=0;a<J.length;a++){h.B.push(h.Nz());var c=J[a],K=c.WID,Y=c.HIT,p=c.BGC,P=(c.LYL?c:e).LYL.LAY,M=3;
for(var w=0;w<P.length;w++)V(P[w],h,null,U,new iJ(1,0,0,1,-c.XLC,-c.YLC+T));var m=h.dI();h.B.push(m);
var z=new eu(0,T,K,Y);T+=Y+100;m.lK(z);if(p>>>24!=0){var d=r.I.GB({o:p>>>16&255,r:p>>>8&255,z:p>>>0&255});
m.add.artb.Clr={t:"Objc",v:d};M=4}m.add.artb.artboardBackgroundType.v=M;m.sc(c.PGN?c.PGN:"Page "+(a+1));
m.add.lsct=eD.Tn;m.q_="pass";m.xb=24}}function k(R,h,B){var e=R[h];return e instanceof Array?e[B]:e}function V(R,h,B,e,U){var o=h.dI();
if(R.VIS!=null)o.FH(R.VIS);if(R.VIF!=null)o.FH(R.VIF.VIS);if(R.OPA!=null)o.opacity=Math.round(255*R.OPA/1e3);
o.q_=R.CLL||B=="GRP"?"pass":"norm";if(R.BLD!=null){var b=R.BLD,u={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[b+""];
if(u==null)console.log(R.OBN,b);else o.q_=u;if(b==30)o.opacity>>>=1}if(R.CLL){o.sc(R.LNM);h.B.push(h.Nz());
var Z=R.CLL.CEL;if(Z.length==null)Z=[Z];for(var I=Z.length-1;I>=0;I--){var y=Z[I].ELM;for(var w=y.length-1;
w>=0;w--)V(y[w][1],h,y[w][0],e,U)}o.add.lsct=R.DIS?eD.en:eD.Tn;o.xb|=24}else if(B=="GRP"){var D=o.add.lmfx=f(R.EFL),N;
h.B.push(h.Nz());var y=R.ELM;if(R.MNA){N=y[0][1];y=y.slice(1)}o.sc("Group: "+y.length+" objects");for(var w=y.length-1;
w>=0;w--)V(y[w][1],h,y[w][0],e,U);if(N){if(R.MRX){var j=$(N,e),H=o.F=new t.gm;H.rect=j[1].clone();H.rect.x=N.XLC;
H.rect.y=N.YLC+U.Ze;H.channel=r.R(H.rect.P());r.Tb(j[0],H.channel,0);r.sx(H.channel)}else{i(o,N,U);o.oO();
o.pZ(h)}}o.add.lsct=eD.Tn;o.xb|=24}else if(B=="IMG"){o.sc(R.OBN?R.OBN:"Bitmap");var j=$(R,e);o.rect=j[1].clone();
o.rect.x=R.XLC;o.rect.y=R.YLC+U.Ze;o.buffer=j[0]}else if(B=="TXT"){var Q=R.TFS,C=Q.TRN instanceof Array?Q.TRN.length:1,c="",a="Arial",K=20,Y=0;
o.add.lnsr="rend";o.add.TySh=iV.P3(0,0);o.add.TySh.pX=new eu(0,0,100,100);var J=new iJ(1,0,0,1,R.LFT,R.TOP);
if(R.MTX){var E=R.MTX,H=new iJ(E.M00,E.M01,E.M10,E.M11,E.M20,E.M21);J.concat(H)}J.concat(U);o.add.TySh.i=J;
var T=o.add.TySh.OU;for(var w=0;w<C;w++){var p=k(Q,"TRN",w);if(p==null)continue;p=p.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
p=p.replaceAll("\x03","\n").replaceAll("\r","\n");iV.yb(T,c.length,p);var P=iV.f3(T,0,1),m=k(Q,"FON",w);
if(m)a=m;iV.hU(P,a);var z=k(Q,"PTS",w);if(z!=null)K=z;P.oE.FontSize=Math.round(K);var M=k(Q,"LED",w);
if(M!=null){P.oE.Leading=M*K;P.oE.AutoLeading=!1}var d=k(Q,"UND",w);if(d!=null){P.oE.Underline=d}var A=k(Q,"ITL",w);
if(A!=null){P.oE.FauxItalic=A}var G=k(Q,"FCL",w);if(G!=null)Y=G;P.oE.FillColor={Type:1,Values:n(Y)};
var kB=k(Q,"JST",w);if(kB!=null)P.wt.Justification=[0,2,1,3,5,4,6,7,8][kB];iV.Aj(T,c.length,c.length+p.length,P);
c+=p}o.sc(c.slice(0,255));var q=R.RIT-R.LFT,fO=R.BOT-R.TOP;if(R.IMG){V(R.IMG,h,"IMG",e,U);var g=h.B.pop();
o.buffer=g.buffer;o.rect=g.rect.clone()}iV.xC(T,1);iV.J3(T,[0,0,q,fO])}else if(B=="PTH"){o.sc(R.OBN?R.OBN:"Path");
o.xb|=16;var jN=!1;i(o,R,U);var c6=o.add.vmsk,a7=o.add.vstk,bd=r.j.Bd(c6.$),ey=R.PAT,c5=ey.BPL,bx=ey.FPL,ap=ey.TXF;
if(bx&&bx.FEF)c6.vX+=bx.FEF/2.4;if(c5){var fC=c5.CAT;a7.strokeEnabled.v=!0;a7.strokeStyleLineWidth.v.val=c5.BDI;
a7.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eC.pr.Uu[R.BRP];W(ey.BCL,a7.strokeStyleContent.v);
if(fC!="bc_Basic"&&fC!="bc_Pencil")jN=!0}a7.fillEnabled.v=bx!=null;if(bx==null){o.add.SoCo=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);
W(0,o.add.SoCo)}else if(bx.CAT=="fc_Solid"){o.add.SoCo=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);W(R.PAT.FCL,o.add.SoCo)}else if(bx.CAT=="fc_Linear"||bx.CAT=="fc_Circular"||bx.CAT=="fc_Elliptical"){var kE=bx.CAT=="fc_Linear",bm=o.add.GdFl=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]),fe=bm.Grad.v,g8=[],e0=bx.FGL,cF,ei=[];
if(e0.FGY){var cr=e0.FGY,cF=cr.FG0.FGI,ei=cr.FG1.FGI}else cF=e0.FGV.FGI;for(var w=0;w<cF.length;w++){var e_=cF[w],gg=n(e_.FGC),bW=1;
if(ei.length==cF.length)bW=n(ei[w].FGC)[0];g8.push([e_.FGP,gg.slice(1),bW])}bm.Type.v.GrdT=kE?"Lnr":"Rdl";
r.I.yT(g8,fe);fe.Intr.v=0;var gx=R.PRI?R.PRI:R,h$=new eX(gx.PSX,gx.PSY),dH=new eX(gx.PEX,gx.PEY);if(bx.CAT=="fc_Elliptical"&&gx.PFX!=null){var eg=new eX(gx.PFX,gx.PFY),aB=eX.I9(h$,dH),gB=eX.I9(h$,eg);
if(gB<aB){var jy=aB;aB=gB;gB=jy}dH=new eX(h$.x+(aB+gB)/2,h$.y);if(aB/gB<.5)jN=!0}if(kE){h$.x=(h$.x+dH.x)/2;
h$.y=(h$.y+dH.y)/2}r.I.cD(h$,dH,bd,bm)}else console.log(bx.CAT);var D=o.add.lmfx=f(R.EFL,c6);if(bx&&bx.FTB!=0&&ap){var j=$(ap.MSK,e),ie={};
ie.id=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f";ie.name="someImage";ie.aB=j;h.Dm(ie);var cT=j[0];for(var w=0;
w<cT.length;w+=4){cT[w+3]=255-cT[w];cT[w]=cT[w+1]=cT[w+2]=255}var bm=JSON.parse(eC.bc[eC.order.indexOf("patternFill")]);
bm.Opct.v.val=Math.round(bx.FTB/10);bm.Algn.v=!0;bm.Ptrn.v.Idnt.v=ie.id;D.patternFillMulti.v.unshift({t:"Objc",v:bm})}if(jN&&R.IMG){V(R.IMG,h,"IMG",e,U);
var a_=h.B[h.B.length-1];a_.opacity=o.opacity;return}o.oO();o.pZ(h)}else if(B=="URL")return;else{console.log("unknown layer type",B,R);
o.sc("Layer")}h.B.push(o)}function i(R,h,B){if(h.PBL==null)return;var e=R.add.vmsk=new t.C$,U=R.add.vstk=eC.pr.Iz(!0),o=h.PBL.PBP;
if(!(o instanceof Array))o=[o];for(var b=0;b<o.length;b++){var u=o[b].PBT;if(u==null)continue;if(!(u instanceof Array))u=[u];
var Z=o[b].ISC?0:3;e.$.push({type:Z,length:u.length,eb:0,FN:2,qO:0,BF:0});for(var w=0;w<u.length;w++){var I=u[w],y=I.XLC,D=I.YLC,N=[y,D,y,D,y,D],j="XPC YPC XLC YLC XSC YSC".split(" ");
for(var H=0;H<6;H++){var Q=j[H],C=I[Q];if(C!=null)N[H]=C}e.$.push({type:Z+2,L:new eX(y,D),Xs:new eX(N[0],N[1]),vf:new eX(N[4],N[5])})}}r.j.js(e.$,B)}function f(R,h){var B=JSON.parse(eC.default);
for(var w=0;w<eC.order.length;w++)B[eC.UM[w]]={t:"VlLs",v:[]};if(R==null||R.EPS==null)return B;var e=R.EPS;
if(!(e instanceof Array))e=[e];for(var w=0;w<e.length;w++){var U=e[w].DCE,o={};for(var b=0;b<U.length;
b++)o[U[b].DCK]=U[b].DCV;if(o.EffectIsVisible=="false")continue;var u=o.mkbFile_WriteOnly_TemporaryEffectUiName;
if(u=="Gaussian Blur..."&&h){h.vX+=parseFloat(o.gaussian_blur_radius);continue}var Z=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(u);
if(Z==-1){continue}var I=["DrSh","ebbl","IrGl","OrGl"][Z],y=eC.UM[eC.order.indexOf(I)],D=JSON.parse(eC.bc[eC.order.indexOf(I)]);
B[y].v.unshift({t:"Objc",v:D});if(I=="DrSh"){D.uglg.v=!1;X(o,"ShadowDistance",D,"Dstn");X(o,"ShadowBlur",D,"blur");
X(o,"ShadowAngle",D,"lagl",180);D.Opct.v.val=100;s(o,"ShadowColor",D,"Clr")}if(I=="IrGl"){D.Md.v.BlnM="Nrml";
var N=o.MaskSoftness,j=o.GlowWidth;if(N&&j){N=parseInt(N);j=parseInt(j);D.blur.v.val=j+N;D.Ckmt.v.val=Math.round(100*j/(j+N))}X(o,"BevelContrast",D,"Opct");
s(o,"OuterBevelColor",D,"Clr")}if(I=="OrGl"){D.Md.v.BlnM="Nrml";var N=o.MaskSoftness,j=o.GlowWidth;if(N&&j){N=parseInt(N);
j=parseInt(j);D.blur.v.val=j+N}X(o,"BevelContrast",D,"Opct");s(o,"OuterBevelColor",D,"Clr")}if(I=="ebbl"){D.uglg.v=!1;
X(o,"BevelWidth",D,"blur");X(o,"AngleSoftness",D,"Sftn");X(o,"BevelContrast",D,"srgR");X(o,"LightAngle",D,"lagl")}}return B}function X(R,h,B,e,U){var o=R[h];
if(U==null)U=0;if(o)B[e].v.val=parseInt(o)+U}function s(R,h,B,e){var U=R[h];if(U){U=U.slice(1);if(U.length==6)U=U+"ff";
if(U.length!=8)throw"e";var o=n(parseInt(U,16)),b=B[e].v;b.Rd.v=o[0]*255;b.Grn.v=o[1]*255;b.Bl.v=o[2]*255;
B.Opct.v.val=Math.round(B.Opct.v.val/100*o[3]*100)}}return l}();var jK=function(){function x(L){var $=new Uint8Array(L.length);
_.Fl($,0,L);return $}function F(L){var $=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",x("")],l=$.length,V=0;
$.push("<< /AIMetaData  "+(l+2)+" 0 R /AIPrivateData1 "+(l+3)+" 0 R  /AIPrivateData2 "+(l+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
$.push(x(""));$.push(x(""));$.push(L);var k=new aL,i=[];function f(h){_.bP(k,V,h);V+=h.length}f("%PDF-1.5\n");
for(var w=0;w<$.length;w++){i.push(V);f(w+1+" 0 obj\n");var X=$[w];if(typeof X=="string")f($[w]+"\n");
else{var s=pako.ai4(X);f("<< /Length "+s.length+" /Filter [ /FlateDecode ] >>\nstream\n");k.Gq(V,s.length);
k.data.set(s,V);V+=s.length;f("\nendstream\n")}f("endobj\n")}var R=V;f("xref\n0 "+(i.length+1)+"\n0000000000 65535 f\r\n");
for(var w=0;w<i.length;w++)f((i[w]+"").padStart(10,"0")+" 00000 n\r\n");f("trailer\n<< /Root 1 0 R /Size "+(i.length+1)+" >>\nstartxref\n"+R+"\n%%EOF\n");
return k.data.slice(0,V)}function W(L,$){var l=Date.now(),k=new Uint8Array(L),V,i=k[2]==68;if($)console.log(!i?"EPS":"PDF");
if(i){var f=_.RS(k,"/AIMetaData "),u,Z,I;while(k[f]!=60)f--;f--;var X=_.RS(k,">>",f),s=_.xR(k,f+2,X-f-2).split("/"),R=[];
for(var w=0;w<s.length;w++){var h=s[w],B=h.startsWith("AIPrivateData"),e=h.startsWith("AIPDFPrivateData");
if(!B&&!e)continue;var U=h.trim().split(/\s+/),o=parseInt(U[1]),b=parseInt(U[0].slice(B?13:16));R.push([b,o])}if($)console.log("--- map made",Date.now()-l);
l=Date.now();while(!0){var y=FromPDF.indexOfXref(k),D=[],N=FromPDF.readXrefTrail(k,y,D),j={buff:k,off:0},H=!1;
u=new Array(R.length);Z=!1;I=!1;for(var w=0;w<R.length;w++){var b=R[w][0],o=R[w][1],E=0;if(D[o]==null){H=!0;
break}var Q=FromPDF.getIndirect(o,0,j,D),C=Q.buff,J=Q["/Filter"];if(J!=null&&typeof J=="string")J=[J];
var T=_.xR(C,E,E+20);if(T=="%AI12_CompressedData"){E+=20;Z=!0}else if(T=="%AI24_ZStandard_Data"){E+=20;
I=!0}C=new Uint8Array(C.buffer,C.byteOffset+E,C.length-E);if(J)for(var c=0;c<J.length;c++){var a=J[c];
if(a=="/FlateDecode")C=pako.inflate(C);else if(a=="/ASCIIHexDecode")C=FromPS.F.HexDecode({buff:C,off:0});
else if(a=="/ASCII85Decode")C=FromPS.F.ASCII85Decode({buff:C,off:0});else throw a}u[b-1]=C}if(H){console.log("extra xref after AI");
k=k.slice(0,y);continue}break}if($)console.log("--- arrays found",Date.now()-l);l=Date.now();var K=_.xR(u[0],0,13);
if(K=="%%BoundingBox"||K=="%AI7_Thumbnai")u=u.slice(1);if(K=="%AI24_ZStanda"){u[0]=u[0].slice(20);I=!0}if(_.xR(u[0],0,13)=="%AI12_Compres"){u[0]=u[0].slice(20);
Z=!0}V=n(u);if($)console.log("--- concatenated",Date.now()-l);l=Date.now();if(Z)V=UZIP.inflate(V);if(I)V=jW.gx.kY(V);
if($)console.log("--- inflated",Date.now()-l);l=Date.now()}else{var Y=_.NM(k);if(Y.indexOf("%AI5_BeginLayer")!=-1){V=k}else{var p=Y.split(/[\n\r]+/),P=[],m=!1;
for(var z=0;z<p.length;z++){var M=p[z].trim();if(M=="%AI9_PrivateDataEnd"){m=!1;break}else if(M=="%AI9_DataStream"||M=="%AI24_DataStream"){m=!0}else if(m)P.push(M.slice(1))}var d=_.Ug(P.join("")),A=FromPS.F.ASCII85Decode({buff:d,off:0});
if(A[0]==120&&A[1]==156)V=UZIP.inflate(A);else V=jW.gx.kY(A)}}return V}function n(L){var $=0,k=0;for(var w=0;
w<L.length;w++)$+=L[w].length;var l=new Uint8Array($);for(var w=0;w<L.length;w++){var V=L[w];l.set(V,k);
k+=V.length}return l}return{aAT:W,aeN:F}}();function d9(){}d9.cF=function(){function x(T,c,a){var K=!1,Y=Date.now(),p=jK.aAT(T,K);
if(K)console.log("part found",Date.now()-Y);Y=Date.now();var P=N(p),m=P.Layer,z=P.Header;if(K)console.log(P);
var M=P.Setup.TextDocument,d=m[0];d=P.Layer[0];if(K)console.log("document parsed",Date.now()-Y);Y=Date.now();
P.Setup.Gradient=D(P.Setup.Gradient,p);if(K)console.log("grads loaded",Date.now()-Y);Y=Date.now();P.Setup.Pattern=I(P.Setup.Pattern,p);
if(K)console.log("patts loaded",Date.now()-Y);Y=Date.now();P.Setup.Palette=y(P.Setup.Palette,p);if(K)console.log("palet loaded",Date.now()-Y);
Y=Date.now();var A=u(P.Setup.DocumentData,p),G=Z(A);P.Setup.DocumentData=A.pop();if(K)console.log("docdata loaded",Date.now()-Y);
Y=Date.now();P.Setup.SVGFilter=u(P.Setup.SVGFilter,p);if(K)console.log("svgfilter loaded",Date.now()-Y);
Y=Date.now();var kB=z.Cropmarks,q=z.BoundingBox.split(" ").map(parseFloat),fO=z.ArtSize?z.ArtSize.split(" ").map(parseFloat):[q[2]-q[0],q[3]-q[1]];
c.m=Math.round(fO[0]);c.e=Math.round(fO[1]);var g=[1,0,0,1,-q[0]+(c.m-(q[2]-q[0]))/2,-q[1]+(c.e-(q[3]-q[1]))/2];
g[3]=-1;g[5]=c.e-g[5];if(kB){kB=kB.split(" ").map(parseFloat);c.m=Math.round(kB[2]-kB[0]);c.e=Math.round(kB[3]-kB[1]);
g=[1,0,0,-1,-kB[0],c.e+kB[1]]}var A=P.Setup.DocumentData,jN=[],c6=[];if(A&&A[0]&&A[0].ArtboardArray){var jN=A[0].ArtboardArray;
if(jN.length!=1)console.log(jN.length,"artboards");var a7=new eu;for(var w=0;w<jN.length;w++){var bd=jN[w],ey=bd.PositionPoint1,c5=bd.PositionPoint2,bx=ey[0],ap=Math.min(ey[1],c5[1]),fC=c5[0],kE=Math.max(ey[1],c5[1]),bm=new eu(bx,ap,fC-bx,kE-ap);
c6.push(bm);a7=a7.oA(bm)}c.m=Math.round(a7.m);c.e=Math.round(a7.e);g[4]=-a7.x;g[5]=a7.y+c.e}if(A&&A[0]&&A[0]["#document"]){var fe=A[0]["#document"],g8=fe["xmlnode-children"][0];
if(g8&&g8["xmlnode-children"])g8=g8["xmlnode-children"][0];if(g8["xmlnode-nodename"]=="variableSets"){var e0=g8["xmlnode-children"][0]["xmlnode-children"],cF=e0[0],ei=e0[1],cr=E(cF);
c.C7=ko.a3w("<variableSets><variableSet>"+cr+"</variableSet></variableSets>");if(ei){var e_=E(ei),gg=c.wD=ko.apS(e_);
for(var w=0;w<gg.length;w++)for(var bW=0;bW<gg[w].length;bW++)gg[w][bW]=gg[w][bW].trim()}}}var gx=1/ff.Rk(new eu(0,0,c.m,c.e),8192*8192);
while(Math.max(c.m*gx,c.e*gx)<800)gx*=2;while(a&&Math.max(c.m*gx,c.e*gx)<Math.max(a[0],a[1]))gx++;c.m=Math.round(c.m*gx);
c.e=Math.round(c.e*gx);c.Bq=Math.round(72*gx);for(var w=0;w<6;w++)g[w]*=gx;var h$=[];if(jN.length!=[1,0][aH]){var dH=aH==0?c.B:[];
dH.push(c.Nz());for(var w=0;w<c6.length;w++){var bd=jN[w],bm=c6[w],eg=c.dI();eg.sc(bd.Name);dH.push(eg);
eg.add.SoCo=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);var aB=eg.add.SoCo.Clr.v;X(aB,[1,1,1]);var bx=bm.x,ap=bm.y,fC=bx+bm.m,kE=ap+bm.e,gB=[bx,ap,fC,ap,fC,kE,bx,kE];
r.Z.i(gB,R(g),gB);e(eg,{cmds:["M","L","L","L","Z"],crds:gB},c,0);eg.add.vstk=eC.pr.Iz(!0);var a=r.Z.KR(gB);
h$.push({pL:bd.Name,A$:[a.x,a.y,a.x+a.m,a.y+a.e],g:bd.IsArtboardSelected})}var eg=c.dI();eg.sc("_Artboards_");
eg.add.lsct=eD.Tn;eg.q_="pass";eg.xb=24;dH.push(eg)}else h$=[{pL:"Artboard",A$:new eu(0,0,c.m,c.e)}];
if(aH==1)c.add.arts=h$;W=[0,0,0];n=[0,0,0];L="SoCo";$="SoCo";for(var jy=0;jy<m.length;jy++){var aV=m[jy];
aV.Raster=F(aV,"Raster");aV.Place=F(aV,"Place");var ie=o(p,aV);l(c,ie,g,P,aV,p)}if(aH==0)for(var w=0;
w<c.B.length;w++){var eg=c.B[w];if(eg.Tg){c.B.splice(w,1);var cT=c.B[w];cT.add.vmsk=eg.add.vmsk;cT.add.vogk=eg.add.vogk;
cT.pZ(c)}}else{}if(K)console.log("layers created",Date.now()-Y);Y=Date.now()}function F(T,c){var a=T.Layer,K=T[c];
if(K==null)K=[];if(a){for(var w=0;w<a.length;w++){var Y=a[w],p=Y[c]=F(Y,c);K=K.concat(p)}K.sort(function(P,m){return P._begin-m._begin})}return K}var W,n,L,$;
function l(T,c,a,K,Y,p){var P=[],m=0,z="",M=!1,d={},A=UDOC.G,G=UDOC.getState(),kB="norm",q=1,fO=0,g=!1,jN=0,c6=!1,a7=!0,bd=null,ey=!1,c5=0,bx=null,ap,fC,kE=0,bm=0,fe=0,ei=0,cr=!1;
G.ctm=a;var g8=[0,0],e0=[],cF=[];for(var e_=0;e_<c.length;e_++){var gg=c[e_],aB=1e9;if(gg[0]=="%"){if(gg=="%_/ArtDictionary :"&&c5==0)bd=[gg.slice(2)];
else if(bd!=null){if(gg=="%_"&&c5==0){var bW=Q(bd)[0],gx=T.B[T.B.length-1],h$=bW.AI10_ArtUID,dH=bW.BBAccumRotation;
if(h$&&!h$.startsWith("XMLID"))gx.sc(J(h$));if(dH&&gx.add.vmsk)gx.add.vmsk._c=parseFloat(dH);bd=null}else{bd.push(gg.slice(ey?1:2));
if(gg=="%_X=")c5++;if(gg=="%_X+")c5--;if(gg=="%_/Binary : /ASCII85Decode ,")ey=!0;if(ey&&gg.endsWith("~>"))ey=!1}}else if(bx){ap+=(ap==""?"":" ")+gg.slice(2);
if(ap.endsWith("X#")){bx.push(ap.slice(0,ap.length-3));ap=""}}continue}else if(gg=="/Mesh X!"){bx=[];
ap="";continue}else if(gg=="/End X!"){i(bx,G,T);bx=null;continue}var eg="Xa XR m l c f U u *U w J j M d".split(" "),gB=-1,jy=gg.indexOf("(")!=-1;
for(var w=0;w<eg.length;w++){var aV=gg.indexOf(" "+eg[w]+" ");if(aV!=-1&&aV<aB&&!jy){aB=aV;gB=w}}if(gB!=-1){M=!0;
var ie=aB+1+eg[gB].length;c[e_]=gg.slice(0,ie);var cT=c[e_+1];if(cT==null||cT[0]=="%"||gB>9)c.splice(e_+1,0,gg.slice(ie));
else c[e_+1]=(gg.slice(ie)+" "+cT).replace(/\s\s+/g," ");e_--;continue}gg=gg.trim();var a_=gg.split(" "),gs=a_[a_.length-1],gq=gs.toLowerCase(),kr=a_.map(parseFloat);
if(gs=="m")A.moveTo(G,kr[0],kr[1]);else if(gs=="L"||gs=="l")A.lineTo(G,kr[0],kr[1]);else if(gs=="V"||gs=="v"){var iN=G.pth.crds,jH=G.cpos[0],h2=G.cpos[1];
A.curveTo(G,jH,h2,kr[0],kr[1],kr[2],kr[3]);var an=iN.length;iN[an-6]=jH;iN[an-5]=h2}else if(gs=="Y"||gs=="y")A.curveTo(G,kr[0],kr[1],kr[2],kr[3],kr[2],kr[3]);
else if(gs=="C"||gs=="c")A.curveTo(G,kr[0],kr[1],kr[2],kr[3],kr[4],kr[5]);else if(gs=="H"||gs=="h"){if(gs==gq)A.closePath(G);
if(!g){var bt=T.dI();T.B.push(bt);bt.sc("<Clipping Path>");bt.Tg=!0;bt.add.vstk=eC.pr.Iz();bt.add.SoCo=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);
e(bt,G.pth,T,fO)}else c6=!0}else if(gs=="XR"){fO=kr[0]}else if(gs=="Xy"){kB=d9.a8d[kr[0]];q=kr[1];if(kB==null){kB="norm";
console.log("unknown blend mode",kr[0])}}else if(gs=="Xd"){var gx=T.B[T.B.length-1];gx.opacity=Math.round(255*q);
gx.q_=gx.vN()&&kB=="norm"?"pass":kB}else if(gs=="AE")kE=kr[0];else if(gs=="Ae")bm=kr[0];else if(gs=="Xw")fe=kr[0];
else if(gs=="*"){var kH=G.pth.crds,js=G.ctm,aV=kH[0]==kH[2]?0:1;T.Ul.push([aV,kH[aV]]);A.newPath(G)}else if(gs=="XN")fC=gg.split(" ")[0];
else if(gs=="XI"){var gA=Y.Raster,jR,c3;if(gA==null||gA.length==0){console.log("no Raster");continue}if(gg!="XI"){continue}else{var iU=gA[m++];
if(iU.Data)iU=iU.Data;var hn=iU._begin,db=iU._end;while(p[hn]!=88)hn++;hn+=3;jR=p.slice(hn,db);c3=c[e_-2].split(" ").map(parseFloat)}var dy=c3.slice(8),c2=dy[2],bk=dy[3],cx=c2*bk,ft=r.R(cx*4);
ft.fill(255);var eZ=dy[7],hf=dy[8],jr=dy[6],ix=Math.ceil(c2*eZ*jr/8);if(eZ==1){if(jr==8)for(var w=0;
w<cx;w++)for(var bF=0;bF<3;bF++)ft[4*w+bF]=jR[w];else if(jr==1)for(var fA=0;fA<bk;fA++)for(var ax=0;
ax<c2;ax++)for(var bF=0;bF<3;bF++)ft[4*(fA*c2+ax)+bF]=255*(jR[fA*ix+(ax>>>3)]>>>7-(ax&7)&1);else throw jr}else if(eZ==3)for(var w=0;
w<cx;w++)for(var bF=0;bF<3;bF++)ft[4*w+bF]=jR[3*w+bF];else if(eZ==4||eZ==5)for(var w=0;w<cx;w++){var jA=h([jR[eZ*w+0]/255,jR[eZ*w+1]/255,jR[eZ*w+2]/255,jR[eZ*w+3]/255]);
ft[4*w+0]=jA[0]*255;ft[4*w+1]=jA[1]*255;ft[4*w+2]=jA[2]*255}else if(eZ==7)for(var w=0;w<cx;w++){ft[4*w+0]=jR[eZ*w+0];
ft[4*w+1]=jR[eZ*w+1];ft[4*w+2]=jR[eZ*w+2]}else console.log("unknown number of channels",eZ);if(hf==1){var g1=bk*ix;
for(var w=0;w<cx;w++)ft[4*w+3]=jR[g1+w]}var iA=r.SB(ft,c2,bk)?"JPG":"PNG";if(c2*bk<700*700)iA="PNG";
var iQ=jW.w0(iA).Rd([[ft.buffer]],c2,bk),fB=T.sP(new Uint8Array(iQ),"<Image>",0,0);T.B.push(fB);fB.q_=kB;
fB.opacity=Math.round(255*q);fB.FH(fe==0);var dn=new iJ;dn.scale(1,-1);dn.concat(R(c3.slice(1)));dn.concat(R(G.ctm));
var jp=fB.add.SoLd,fP=jp.Sz.v,k7=new eu(0,0,fP.Wdth.v,fP.Hght.v),a_=r.Z.o4(k7).p;r.Z.i(a_,dn,a_);fB.add.SoLd.Trnf=O.Y.ud(a_);
fB.add.SoLd.nonAffineTransform=O.Y.ud(a_);fB.Bw(T,!1)}else if(gs=="Ln"){P.push(f(gg))}else if(gs=="u"||gs=="q"||gs=="Lb"){e0.push(bm==1);
cF.push((gs=="Lb"?1-kr[0]:fe)==0);if(g)continue;T.B.push(T.Nz())}else if(gs=="U"||gs=="Q"||gs=="LB"){if(e0.length==0||cF.length==0)throw e_;
var hs=e0.pop(),kb=cF.pop();if(gs=="LB")hs=kE==1;if(g)continue;var fB=T.dI();fB.sc((gs=="U"?"<Group>":"<Clip Group>")+z);
if(gs=="LB")fB.sc(P.pop());fB.add.lsct=hs?eD.en:eD.Tn;fB.q_="pass";fB.xb=24;fB.FH(kb);T.B.push(fB);if(cr){if(T.B[T.B.length-3].getName()=="</Layer group>"){T.B.pop();
T.B.splice(T.B.length-2,1)}cr=!1}}else if(gs=="Bb")a7=kr[0]!=1;else if(gs=="BB"){}else if(gs=="Bm"||gs=="Bc"||gs=="Xm"){}else if(gs=="Bh")g8=kr.slice(2,4);
else if(gs=="Bg"){var gn=K.Setup.Gradient,iy=gn[f(gg)],a_=gg.slice(gg.indexOf(")")+2).split(" ").map(parseFloat);
if(iy==null){console.log("gradient not found");for(var gU in gn){iy=gn[gU];break}}var jV=a_[10];if(isNaN(jV))jV=1;
var jf=a_.slice(0,4);jf.push(jV,g8[0],g8[1]);var gw=[iy.d$,iy.a8a,jf,a_.slice(4,10)];V(gw,"GdFl",a7)}else if(gq=="p"){var bU=f(gg);
if(T.yN[bU]==null){var id=K.Setup.Pattern[bU],kC=id.A$,c2=Math.round(kC[2]-kC[0]),bk=Math.round(kC[3]-kC[1]),bW=new az;
bW.m=c2;bW.e=bk;bW.buffer=r.R(c2*bk*4);var cb=a[0],dn=new iJ(1,0,0,-1,-id.A$[0],bk+id.A$[1]);dn.concat(new iJ(cb,0,0,cb,0,0));
l(bW,id.Xa,[dn.V,dn.z,dn.Pu,dn.P9,dn.yq,dn.Ze],K,Y,p);bW.m*=cb;bW.e*=cb;bW.vq();bW.W();if(aH==0)bW.KS();
window.alY=id.Xa;T.yN[bU]=bW}var bw=gg.slice(gg.indexOf(")")+2),dr=bw.slice(0,bw.indexOf("[")-1).split(" ").map(parseFloat),hu=bw.slice(bw.indexOf("[")+1,bw.indexOf("]")).split(" ").map(parseFloat);
V([bU,[dr,hu]],"patt",gs=="p")}else if(gs=="J"||gs=="j"||gs=="w"||gs=="M"||gs=="d"){for(var w=1;w<a_.length;
w++){var gi=a_[w],e6=kr[w-1];if(gi=="w")G.lwidth=e6;if(gi=="j")G.ljoin=e6;if(gi=="J")G.lcap=e6;if(gi=="M")G.mlimit=e6;
if(gi=="d"){var fF=gg.slice(gg.indexOf("[")+1,gg.indexOf("]")).trim();if(fF.length!=0){var dZ=fF.split(" ").map(parseFloat);
G.dash=dZ}else if(fF=="")G.dash=[]}}}else if(gq=="xa"||gq=="xx"){var i6=B(gg);V(i6,"SoCo",gs=="Xa"||gs=="Xx")}else if(gq=="xk"){i6=B(gg);
V(i6,"SoCo",gs=="Xk")}else if(gq=="k"||gq=="x"){i6=B(gg);V(i6,"SoCo",gs==gq)}else if(gq=="g"){var i6=[kr[0],kr[0],kr[0]];
V(i6,"SoCo",gs==gq)}else if(gq=="n"){if(!g)A.newPath(G)}else if(gs=="*u"){g=!0;jN=0;cF.push(fe==0)}else if(gs=="*U"||gq=="s"||gq=="f"||gq=="b"){if(gs!="*U"&&g){if(gq=="f"||gq=="b")jN|=1;
if(gq=="s"||gq=="b")jN|=2;continue}if(gs==gq)A.closePath(G);if(gs=="*U"){g=!1}var fB;{fB=T.dI();fB.xb|=16;
e(fB,G.pth,T,fO);var jm=gq=="f"||gq=="b"||gs=="*U"&&jN&1,d_=gq=="s"||gq=="b"||gs=="*U"&&jN&2,hg=fB.add.vstk=eC.pr.Iz(jm,d_),bY=eC.J1.Iz();
bY.Hy=bY.MV=null;var dn=G.ctm,cb=Math.sqrt(Math.abs(dn[0]*dn[3]-dn[1]*dn[2]));eC.J1.write(bY,G,cb);if(jm)bY.Hy=W;
if(d_)bY.MV=n;if(aH==0){eC.pr.write(hg,G,cb);if(L=="SoCo"){fB.add.SoCo=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);
var bA=fB.add.SoCo.Clr.v;X(bA,W)}if(L=="GdFl"){fB.add.GdFl=d9.axM(W,fB.add.vmsk.$)}if(L=="patt"){fB.add.PtFl=k(W,T)}if(d_){var hc=["SoCo","GdFl","patt"].indexOf($);
console.log($,hc);var de=hc==0?{Clr:{t:"Objc",v:fJ.No(n)}}:hc==1?d9.axM(n,fB.add.vmsk.$):k(n,T),cu=[eC.eK,eC.Qu,eC.YZ][hc],f0=hg.strokeStyleContent.v={classID:eC.pr.K8[hc]};
for(var w=0;w<cu.length;w++)f0[cu[w]]=de[cu[w]]}}else fB.add.vstl=bY}if(gs=="*U"&&c6){fB.Tg=!0;c6=!1}fB.sc("<"+(gs=="*U"?"Compound ":"")+"Path>"+z);
fB.q_=kB;fB.opacity=Math.round(255*q);fB.FH(gs=="*U"?cF.pop():fe==0);fB.pZ(T);T.B.push(fB);A.newPath(G)}else if(gs==","&&a_[0]=="/XMLUID"){var gx=T.B[T.B.length-1];
for(var w=0;w<T.C7.length;w++)if("("+T.C7[w].docRef+")"==a_[2])T.C7[w].docRef="id('"+gx.add.lyid+"')"}else if(gs==","&&a_[1]=="/FreeUndo"){ei=kr[0]}else if(gs==","&&a_[1]=="/StoryIndex"){var eh=K.Setup.TextDocument,a5=null;
if(!(eh instanceof Array))window.azk=eh=K.Setup.TextDocument=b(eh,p);var eU=eh[0],hV=eh[2];if(eU._DocumentResources)eU=eh[0]=cV.aq$(eU);
else cV.apz(eU);var fB=T.dI();fB.add.lnsr="rend";fB.add.TySh=iV.P3(0,0);var fa=kr[0];if(ei==1){for(var w=1;
w<60;w++){var cT=c[e_+w];if(cT&&cT.endsWith("/StoryIndex ,")){fa=parseFloat(cT.slice(2,cT.indexOf(" ")));
cr=!0;break}}ei=0}var cR=kt.aBt(eU),cm=fB.add.TySh.OU=cR[fa];if(cm==null){console.log("text not found");
cr=!1;continue}fB.sc(iV.YG(cm).slice(0,50));fB.q_=kB;fB.opacity=Math.round(255*q);fB.FH(fe==0);var gm=eU._1._1[fa]._1._0[0]._0;
gm=parseInt(gm.slice(1));var j_=eU._0._8._0,at=j_[gm]._0;if(at._0)a5=s(at._0);else if(at._1)a5=s(at._1._0);
else a5=s(at._2._2).slice(3);if(a5.length!=2){var kC=r.Z.KR(a5);a5=[kC.x,kC.y];if(kC.P()!=0){iV.xC(cm,1);
iV.J3(cm,[0,0,Math.round(kC.m),Math.round(kC.e)])}}var ac=new iJ,aN=new iJ(1,0,0,1,a5[0],a5[1]),gJ=new iJ(1,0,0,1,-hV[0],-hV[1]),bV=R(G.ctm),d6=new iJ;
if(at._2&&at._2._2){var a=s(at._2._2);d6=new iJ(a[0],a[1],a[2],a[3],a[4],a[5])}ac.concat(aN);ac.concat(d6);
ac.concat(gJ);ac.scale(1,-1);ac.concat(bV);fB.add.TySh.i=ac;T.B.push(fB);T.Sv=!0}else if(gs=="Tp"){d.Rg=R(kr)}else if(gs=="Tf"){d.font=a_[0].slice(2)}else if(gs=="Tk"){var fB=T.dI();
fB.add.lnsr="rend";var co=fB.add.TySh=iV.P3(0,0),cm=co.OU,dn=d.Rg.clone(),fP=dn.NX();dn.concat(R(G.ctm));
var iD=new iJ(1/fP,0,0,-1/fP,0,0);iD.concat(dn);co.i=iD;var ck=f(gg);fB.sc(ck);iV.yb(cm,0,ck);var aT=iV.f3(cm,0,ck.length);
aT.oE.FontSize=fP;aT.oE.FillColor={Type:1,Values:[1,W[0],W[1],W[2]]};iV.hU(aT,d.font);iV.Aj(cm,0,ck.length,aT);
T.B.push(fB);T.Sv=!0}else if(M&&kr.length>3){var ce=!1;for(var w=0;w<kr.length;w++)if(isNaN(kr[w]))ce=!0;
if(!ce)c[e_+1]=(gg+" "+c[e_+1]).replace(/\s\s+/g," ")}}}function k(W,T){if(T.Nh==null)T.Nh={};var c=T.Nh[W[0]];
if(c==null){var a=T.yN[W[0]],c=T.Nh[W[0]]={};c.id=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f";c.name="someImage";
c.aB=[a.Hi(),new eu(0,0,a.m,a.e)];T.Dm(c)}var K=JSON.parse(eC.bc[eC.order.indexOf("patternFill")]);K.Ptrn.v.Idnt.v=c.id;
var Y=R(W[1][1]),p=-Math.atan2(-Y.z,Y.V);K.Angl.v.val=Math.round(p*180/Math.PI);K.Scl.v.val=Math.round(100*Y.NX());
return K}d9.axM=function(T,c){var a=d9.afC(T,c),K=[0,0,1,0];if(T[0]==0)K[0]=.5;r.Z.i(K,a,K);var Y=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]),p=Y.Grad.v;
p.Intr.v=0;Y.Type.v.GrdT=["Lnr","Rdl"][T[0]];r.I.yT(T[1],p);r.I.cD(new eX(K[0],K[1]),new eX(K[2],K[3]),r.j.Bd(c),Y);
return Y};d9.cQ=function(T,c){var a=["Lnr","Rdl"].indexOf(T.Type.v.GrdT),K=r.j.Bd(c),Y=r.I.l6(T,K),p=Y[0],P=Y[1];
if(a==0){p.x-=P.x-p.x;p.y-=P.y-p.y}var m=P.x-p.x,z=P.y-p.y,M=Math.sqrt(m*m+z*z),d=new iJ;d.rotate(Math.atan2(-z,m));
d.scale(M,M);d.translate(p.x,p.y);var A=d9.ayl(a,d,K),G=T.Grad.v;A[1]=r.I.A2(G,null,null);return A};
d9.ayl=function(T,c,a){c.translate(-a.x,-a.y);var K=a.m,Y=a.e,p,P,m=Math.atan2(-c.z,c.V),z;if(T==0){c.translate(-K/2,-Y/2);
var M=d9.a7k(K,Y,m);c.scale(1/M,1/M);c.rotate(-m);c.scale(1/K,1/Y);p=c.yq+.5;P=c.Ze+.5;z=c.V}else{p=c.yq/K-.5;
P=c.Ze/Y-.5;var d=(p-.5)*K/2,A=(P-.5)*Y/2;z=c.NX()/Math.sqrt(2*(d*d+A*A))}return[T,null,[p,P,m*180/Math.PI,z,1,0,0],[1,0,0,1,0,0]]};
d9.afC=function(T,c){var a=T[0],K=T[2],Y=T[3],p=new iJ(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]);p.sx();var P=t.C$.uF(c);
r.j.js(P,p);var m=r.j.Bd(P),z=m.m,M=m.e,d=K[0],A=K[1],G=K[2]*Math.PI/180,kB=K[3],q=new iJ;if(a==0){q.scale(kB,kB);
q.translate(d-.5,A-.5);q.scale(z,M);q.rotate(G);var fO=d9.a7k(z,M,G);q.scale(fO,fO);q.translate(z/2,M/2)}else{var g=(d-.5)*z/2,jN=(A-.5)*M/2,fO=kB*Math.sqrt(2*(g*g+jN*jN));
q.scale(fO,fO*K[4]);q.rotate(G);q.translate((d+.5)*z,(A+.5)*M)}q.translate(m.x,m.y);q.concat(new iJ(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]));
return q};function V(T,c,a){if(a){L=c;W=T}else{$=c;n=T}}function i(T,c,a){var K=UDOC.G,Y=[],p=[],P="/DeviceGray",m=1,z=[],M=1;
for(var d=0;d<T.length;d++){var A=T[d];if(A.endsWith(" /CS")){var G=A.indexOf("/NChannel"),kB=A.indexOf("/Process");
if(A.startsWith("/DeviceRGB")){P="/DeviceRGB";m=3}else if(A.startsWith("/DeviceGray")){P="/DeviceGray";
m=1}else if(A.startsWith("/DeviceCMYK")){P="/DeviceCMYK";m=4;z=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(G!=-1){P="/DeviceCMYK";
m=parseInt(A.slice(G-2,G-1));var q=1;for(var w=0;w<m;w++){q=A.indexOf("[",q);z[m-1-w]=A.slice(q+1,q+8).split(" ").map(parseFloat);
q++}}else if(kB){P="/DeviceGray";m=1}else throw A}else if(A[0]=="["){var fO=A.indexOf("]"),g=A.slice(1,fO).split(" ").map(parseFloat),jN=A.slice(fO+2),c6,a7,bd,ey,c5,bx;
if(jN=="/Size"||jN=="/P"||jN=="/R")continue;if(jN=="/S"||jN=="/A"){c6=g[0];a7=g[1];bd=g[2];ey=g[3];c5=g[4];
bx=g[5]}else if(jN=="/N"){var ap=m+(M==1?0:1),fC;c6=g[ap+0];a7=g[ap+1];bd=g[ap+2];ey=g[ap+3];c5=g[ap+5];
bx=g[ap+6];if(P=="/DeviceRGB")fC=g.slice(0,3);else if(P=="/DeviceGray")fC=[g[0],g[0],g[0]];else if(P=="/DeviceCMYK"){var kE=[0,0,0,0];
for(var w=0;w<m;w++){var bm=g[w],fe=z[w];kE[0]+=bm*fe[0];kE[1]+=bm*fe[1];kE[2]+=bm*fe[2];kE[3]+=bm*fe[3]}fC=h(kE)}else throw fC;
fC.push(g[m]);p.push([fC,c6,a7])}else throw jN;Y.push([jN,c5,bx,c6,a7,bd,ey])}else if(A=="/E"){var g8=Y.slice(0),e0=0;
for(var w=0;w<Y.length;w++){var cF=Y[w][0];if(cF=="/N"){e0++;continue}var ei=w,cr=w+1;while(Y[cr][0]!="/N"&&cr<Y.length)cr++;
if(e0==0||e0==3){for(var e_=0;e_<cr-ei;e_++)g8[ei+e_]=Y[cr-1-e_]}else for(var e_=ei;e_<cr;e_++){var gg=g8[e_],bW=gg[1];
gg[1]=gg[5];gg[5]=bW;bW=gg[2];gg[2]=gg[6];gg[6]=bW}w=cr-1}Y=[];for(var w=0;w<g8.length;w++){var gg=g8[w];
Y.push(gg[1],gg[2],gg[3],gg[4],gg[5],gg[6])}var gx=Y.length;K.moveTo(c,Y[2],Y[3]);for(var w=0;w<gx;w+=6){var bd=Y[(w+4)%gx],ey=Y[(w+5)%gx],c5=Y[(w+6)%gx],bx=Y[(w+7)%gx],c6=Y[(w+8)%gx],a7=Y[(w+9)%gx];
K.curveTo(c,bd,ey,c5,bx,c6,a7)}K.closePath(c);Y=[]}else if(A.endsWith("/Version"))M=parseFloat(A[0])}var h$=a.dI();
h$.xb|=16;h$.sc("<Mesh>");var dH=h$.add.vstk=eC.pr.Iz(!0);if(p.length>=2){var eg=0,aB=0,gB=0;for(var w=0;
w<p.length;w++)for(var e_=w+1;e_<p.length;e_++){var jy=p[w][0],aV=p[e_][0],ie=jy[0]-aV[0],cT=jy[1]-aV[1],a_=jy[2]-aV[2],gs=Math.sqrt(ie*ie+cT*cT+a_*a_);
if(gs>gB){gB=gs;eg=w;aB=e_}}var gq=p[eg],kr=p[aB],iN=h$.add.GdFl=JSON.parse(eC.bc[eC.order.indexOf("GrFl")]),jH=iN.Grad.v;
jH.Intr.v=0;iN.Type.v.GrdT="Lnr";r.I.yT([[0,gq[0]],[1,kr[0]]],jH);var h2=R(c.ctm),an=h2.dr(new eX(gq[1],gq[2])),bt=h2.dr(new eX(kr[1],kr[2])),kH=r.Z.KR(c.pth.crds);
an.x=(an.x+bt.x)/2;an.y=(an.y+bt.y)/2;r.I.cD(an,bt,kH,iN)}e(h$,c.pth,a,0);a.B.push(h$);K.newPath(c)}function f(T){var c=T.indexOf(")");
while(T[c-1]=="\\")c=T.indexOf(")",c+1);return T.slice(T.indexOf("(")+1,c).replaceAll("\\","")}function X(T,W){T.Rd.v=W[0]*255;
T.Grn.v=W[1]*255;T.Bl.v=W[2]*255}function s(T){var c=[];for(var w=0;w<T.length;w++)c[w]=parseFloat(T[w].slice(1));
return c}function R(T){return new iJ(T[0],T[1],T[2],T[3],T[4],T[5])}function h(T){return r.go(T.slice(0,4)).slice(0,3)}function B(T){var c=T.split(" "),a=c[c.length-1],K=a.toLowerCase(),Y=c.map(parseFloat),p=null;
if(K=="xa"||K=="xx"||K=="xz"){var p=Y[4]==null?Y.slice(0,3):[Y[4],Y[5],Y[6]];if(K=="xx"&&Y[Y.length-2]==2)p=h(Y)}else if(K=="g")p=h([0,0,0,1-Y[0]]);
else if(K=="x"||K=="k"){if(K=="x"){Y.pop();var P=1-Y.pop();for(var w=0;w<4;w++)Y[w]*=P}p=h(Y)}else if(K=="xk"){var m=Y[Y.length-2],z=Y[Y.length-3];
if(m==0)p=h(Y);else if(m==1){p=[Y[4],Y[5],Y[6]];for(var w=0;w<3;w++)p[w]=z*1+(1-z)*p[w]}else throw T}else throw K;
return p}function e(T,c,a,K){T.add.vmsk=new t.C$;if(c.crds.length!=0)T.add.vmsk.$=U(c);T.add.vmsk.eb=K;
T.oO();T.pZ(a)}function U(T){var c={p:T.crds,G:T.cmds},a=r.Z.zI(c,!1);return a}function o(T,c){var a=[],M=0,kB=0;
for(var K=0;K<2;K++){var Y=c[["Raster","Place"][K]];if(Y){for(var w=0;w<Y.length;w++){var p=Y[w][["Data","Document","PlacedObjectPreview"][K]];
if(p==null)continue;var P=p._begin,m=p._end;if(P>m)P=m;a.push([P,m])}}}a.sort(function(fO,g){return fO[0]-g[0]});
var z=[c._begin];for(var w=0;w<a.length;w++){var d=a[w],P=d[0]+32;z.push(P,d[1]);M+=d[1]-P}z.push(c._end);
var A=c._end-c._begin,G=new Uint8Array(A-M);for(var w=0;w<z.length;w+=2){var P=z[w],q=z[w+1]-P;G.set(new Uint8Array(T.buffer,P,q),kB);
kB+=q}return _.NM(G).split(/\r\n|\r|\n/)}function b(T,c){if(T==null)return[];var a=o(c,T),K="",Y="",p=0,P;
for(var w=2;w<a.length;w++){var m=a[w];if(m[0]=="%"){if(p==0)K+=m.slice(1);else Y+=m.slice(1)}else if(m==";")p++;
else if(m.endsWith("/RulerOrigin ,"))P=m.split(" ").slice(0,2).map(parseFloat)}var z=[K,Y],M=[];for(var w=0;
w<2;w++){var d=z[w],A=new Uint8Array(d.length);_.Fl(A,0,d);var G=FromPS.F.ASCII85Decode({buff:A,off:0}),kB=j7.cF(G);
M.push(kB)}M.push(P);return M}function u(T,c){if(T==null)return[];var a=o(c,T);a=a.slice(1);for(var w=0;
w<a.length;w++){var K=a[w];if(K[0]=="%")a[w]=K.slice(K[1]=="_"?2:1)}var Y=Q(a);return Y}function Z(T){var c=[];
j(T,c);for(var w=0;w<c.length;w++)c[w]="%_"+c[w];return c}function I(T,c){var a={};if(T==null)return a;
for(var w=0;w<T.length;w++){var K=o(c,T[w]),Y=K[1],p=f(Y),P=Y.slice(Y.lastIndexOf(")")+2).split(" ").map(parseFloat),m=[];
for(var z=2;z<K.length;z++)m.push(K[z].slice(2));a[p]={A$:P,Xa:m}}return a}function y(T,c){var a=[],Y,p;
if(T==null)return a;var K=o(c,T);for(var w=1;w<K.length;w++){var P=K[w];if(P=="0 0 Pb"||P=="PB"||P==""){}else if(P.endsWith("Xa")||P.endsWith("Xz")||P.endsWith("Xx")||P.endsWith("Xk")||P.endsWith(" k")||P.endsWith(" g")||P.endsWith(" x"))Y=[0,B(P)];
else if(P.endsWith("Xs"))Y=[0,[0,0,0]];else if(P.endsWith("Bg"))Y=[1,f(P)];else if(P.endsWith("Pg"))Y=[2,f(P)];
else if(P[0]=="(")p=f(P);else if(P=="Pc")a.push([p,Y]);else if(P=="0 BB"||P=="Bb"||P.endsWith("Bh")){}else throw P}return a}function D(T,c){var a={},K,Y;
if(T==null)return a;var p=[];for(var w=0;w<T.length;w++){var P=o(c,T[w]);for(var m=0;m<P.length;m++){var z=P[m];
if(z.endsWith("%_Bs")){var M=z.slice(0,z.length-4);if(!M.endsWith(" "))M+=" ";z=M+"%_BS"}if(z[0]=="("){K=f(z);
var d=z.split(")"),A=d[1].split(" ");Y=parseInt(A[1])}else if(z.endsWith("%_BS")){var d=z.split(" "),fO,g=1;
d.pop();d=d.map(parseFloat);var G=d.pop(),kB=d.pop(),q=d.pop();if(q==0)fO=[d[0],d[0],d[0]];else if(q==2||q==4)fO=[d[4],d[5],d[6]];
else if(q==1||q==3)fO=h(d);else if(q==6){if(d.length==3)fO=[d[0],d[0],d[0]];else if(d.length>=8)fO=d.slice(4,7);
else fO=h(d);g=d.pop()}else{throw q}p.push([G/100,fO,g,kB/100])}else if(z=="BD"){for(var jN=0;jN<p.length-1;
jN++)p[jN][3]=p[jN+1][3];p.sort(function(c6,a7){return c6[0]-a7[0]});a[K]={d$:Y,a8a:p};p=[]}}}return a}function N(T){var c="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),a=Date.now(),K=0,Y=[],p={Header:{}},P=[p],m=T.length;
while(K<m){var z=K;while(z!=m&&T[z]!=13&&T[z]!=10){z++}if(T[K]==37&&T[K+1]==95&&T[K+2]==37)K+=2;if(T[K]==37&&(T[K+1]==37||T[K+1]==65)){var M=_.xR(T,K,z-K);
if(M=="%%EOF")break;if(M=="%%EndComments"||M=="%EndComments"||M=="%AI5_Begin_NonPrinting"||M=="%AI5_End_NonPrinting--"||M.startsWith("%AI17_Begin_Content_if_version_gt")||M=="%AI17_End_Versioned_Content"){}else{var d=M.indexOf("Begin"),A=Math.max(M.indexOf("_End"),M.indexOf("%End"));
if(d!=-1&&M[d-1]!="%"&&M[d-1]!="_")d=-1;if(d!=-1){var G=M.slice(d+5).split(":")[0],kB={_begin:K,_end:K},q=P[P.length-1];
if(c.indexOf(G)!=-1){if(q[G]==null)q[G]=[];q[G].push(kB)}else{if(q[G]!=null){console.log(P);throw M}q[G]=kB}P.push(kB);
if(M.startsWith("%%BeginData")){z=_.RS(T,"%%EndData",K)}else if(M.slice(0,15)=="%%BeginDocument")z=_.RS(T,"%%EndDocument",z);
else if(M=="%AI9_BeginDocumentData")z=_.RS(T,"%AI9_EndDocumentData",z);else if(M=="%AI11_BeginTextDocument")z=_.RS(T,"%AI11_EndTextDocument",z)}else if(A!=-1){if(P.length>1)P.pop()._end=K}else if(P.length==1&&(M.startsWith("%AI")||M.startsWith("%%")&&M.indexOf(" ")!=-1)){var fO=1;
if(M.startsWith("%AI"))while(M[fO]!="_"&&fO<M.length)fO++;var g=M.indexOf(":");if(g==-1)g=M.indexOf(" ");
var jN=M.slice(fO+1,g),c6=M.slice(g+1).trim();p.Header[jN]=c6}}}K=z;if(T[K]==13)K++;if(T[K]==10)K++}return p}function j(T,c){if(T instanceof Array)for(var w=0;
w<T.length;w++)j(T[w],c);else if(typeof T=="object"){for(var a in T){var K=T[a];if(typeof K=="number")c.push(K+" /Int ("+a+") ,");
else if(typeof K=="string")c.push("("+K+") /String ("+a+") ,");else if(K instanceof Array){c.push("/Array :");
j(K,c);c.push("; ("+a+") ,")}else if(typeof K=="object"){c.push("/Dictionary :");j(K,c);c.push("; ("+a+") ,")}}}}function H(T,c){for(var w=0;
w<c.length;w++)if(T.startsWith(c[w]))return!0;return!1}function Q(T){var c=[],a=[],top=-1,K,Y=null,p=null,P=null,m=0;
for(var z=0;z<T.length;z++){var M=T[z];if(K){M=K+M;K=null}var d="\t".repeat(c.length);if(Y!=null){Y.push(M);
if(M.endsWith("~>")){var A=_.Ug(Y.join("")),G=FromPS.F.ASCII85Decode({off:0,buff:A});c.push(G);a.push(!1);
top++;Y=null}}else if(P!=null){if(M=="X+"){if(m==1){c.push(P);a.push(!1);top++;P=null}else m--}else if(M=="X=")m++;
else P.push(M)}else if(p!=null){if(M=="/Def ; "){c.push(p);a.push(!1);top++;p=null}else p.push(M)}else if(M=="/Binary : /ASCII85Decode ,"){Y=[]}else if(M=="X="){P=[];
m++}else if(M=="/FillStyle : 0 O"){p=["0 O"]}else if(M=="/SVGFilter :"||M=="; /Def ;")continue;else if(M.startsWith("/XMLUIDREF :")){var kB=C(M);
c[top][kB[4]]=kB[2]}else if(M.startsWith("/")&&M[1].toUpperCase()!=M[1].toLowerCase()){if(M.startsWith("/XMLUID")){var kB=C(M);
if(a[top])throw"e";c[top][kB[4]]=kB[2]}if(M.startsWith("/GObjRef")){var kB=C(M);if(kB.length==7){if(a[top])throw"e";
c[top][kB[5]]=kB[2]}else{if(!a[top])throw"e";c[top].push(kB[2])}}else{var q=M.startsWith("/Array")||M.startsWith("/Document");
c.push(q?[]:{});a.push(q);top++}}else if(M.endsWith(",")){var fO,g,kB=C(M);kB.pop();if(kB[0]==";"||kB.length==1||M==" ,"){g=c.pop();
a.pop();top--;fO=a[top]?null:kB.pop()}else{fO=a[top]?null:kB.pop();var jN=kB.pop(),c6=kB[0];if(jN=="/Int")g=parseInt(c6);
else if(jN=="/Real")g=parseFloat(c6);else if(jN=="/Bool")g=c6=="1";else if(jN=="/String"||jN=="/UnicodeString")g=kB.join("");
else if(jN=="/RealMatrix"||jN=="/RealPoint"||jN=="/RealPointRelToROrigin")g=kB.map(parseFloat);else throw jN}if(a[top])c[top].push(g);
else c[top][fO]=g}else if(M==";"){}else if(M==""){}else{if(M.indexOf("/RealPoint")!=-1){}else if(M.startsWith("(")&&M.endsWith(")")){}else if(M.endsWith("/RealMatrix")){}else throw M;
K=K?K+M:M}}return c}function C(T){var c=0,a=[];while(c<T.length){var K=T[c],Y=K.charCodeAt(0);if(K==" ")c++;
else if(K==","||K==";"||K==":"){a.push(K);c++}else if(K=="("){var p=c+1;while(!(T[p]==")"&&(T[p-1]!="\\"||T[p-2]=="\\")))p++;
var P=T.slice(c+1,p);a.push(P);c=p+1}else if(K=="/"||K=="-"||48<=Y&&Y<=57){var p=c;while(T[p]!=" ")p++;
a.push(T.slice(c,p));c=p}else throw K}return a}function J(T){var c="";for(var w=0;w<T.length;w++){if(T[w]=="_"&&T[w+1]=="x"){var dx=parseInt(T.slice(w+2,w+4),16);
c+=String.fromCharCode(dx);w+=4}else if(T[w]=="_")c+=" ";else c+=T[w]}return c}function E(T){var c="xmlnode-nodename",a="xmlnode-nodevalue",K="xmlnode-attributes",Y="xmlnode-children",p=T[c].split(":").pop().replace("#",""),P=T[K],m=T[Y],z="<"+p;
for(var M in P)if(M!="xmlns"&&M!="xmlns:v")z+=" "+M.split(":").pop()+"=\""+P[M][a]+"\"";z+=">"+(m.length==0?"":"\n");
for(var w=0;w<m.length;w++)z+=E(m[w]);if(T[a])z+=T[a];return z+"</"+p+">\n"}return x}();d9.a7k=function(x,F,W){var n=r.Z.o4(new eu(0,0,x,F)).p,L=new iJ;
L.rotate(W);r.Z.i(n,L,n);var $=r.Z.KR(n);return $.m/x};d9.a8d=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
d9.Kt=function(){function x(s){var R=72/s.Bq,h=new iJ(R,0,0,-R,0,0),B=s.root.children,e=[],U={Wy:[],ao9:0},o=16383,A=0,kB=0;
for(var w=0;w<B.length;w++)l(B[w],s,h,U,e,0);var b=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+o+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
b.push("%%BeginSetup\r");b=b.concat(U.Wy);for(pn in s.yN){var u=s.yN[pn],Z=s.Bq/72;b.push("%AI3_BeginPattern: ("+pn+")");
b.push("("+pn+") 0 0 "+Math.round(u.m/Z)+" "+Math.round(u.e/Z));var B=u.root.children,I=[];for(var w=0;
w<B.length;w++)l(B[w],u,h,U,I,1);I=window.alY;for(var w=0;w<I.length;w++){var y=I[w];b.push(y.startsWith("%_")?y:"%_"+y)}b.push("E","%AI3_EndPattern");
console.log(R);console.log(u)}b=b.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var D=s.add.arts;for(var w=0;w<D.length;w++){var N=D[w];console.log(N);var j=N.A$[0]*R,H=-N.A$[1]*R,Q=N.A$[2]*R,C=-N.A$[3]*R;
b.push("/Dictionary :","("+N.pL+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",o/2+" "+o/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",W(j)+" "+W(H)+" /RealPointRelToROrigin"," (PositionPoint1) ,",W(Q)+" "+W(C)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}b=b.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var J=[],E=[];for(var w=0;w<s.B.length;w++){var T=s.B[w],c=T.add.TySh;if(c){J.push(c.OU);E.push(c)}}if(J.length!=0){var a=kt.azU(J,null,null);
function K(N){return N.map(function(q){return"f"+q})}for(var Y=0;Y<J.length;Y++){var c=E[Y],p=a._1._1[Y],P=p._1._0[0]._0;
P=parseInt(P.slice(1));var m=a._0._8._0[P]._0,z=c.i.clone();z.concat(h);z.scale(1,-1);m._2._2=K([z.V,z.z,z.Pu,z.P9,z.yq,z.Ze])}var M=F(a),d=F(a);
b.push("%AI11_BeginTextDocument");b.push("/AI11TextDocument : /ASCII85Decode ,");b=b.concat(M);b.push("0.0001 0.0001 /RulerOrigin ,");
b.push(";");b.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");b=b.concat(d);b.push(";");b.push("%AI11_EndTextDocument")}b.push("%%EndSetup\r");
b=b.concat(e);console.log(b.join("\n"));b.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var w=0;w<b.length;w++){var N=b[w];if(typeof N=="string")N=b[w]=_.Ug(N);A+=N.length+1}var G=new Uint8Array(A);
for(var w=0;w<b.length;w++){var N=b[w];G.set(N,kB);kB+=N.length;G[kB]=13;kB++}return jK.aeN(G).buffer}function F(s){var R=new aL,h=j7.pm(s,R)-2,B=X(R.data.slice(0,h)),e=[];
for(var U=0;U<B.length;U+=100){if(B.length-U<103){e.push("%"+B.slice(U));break}e.push("%"+B.slice(U,U+100))}return e}function W(dx){return dx.toFixed(3)}function n(s,R){var h=s.getName(),B=null;
R.push("%_/ArtDictionary :");if(s.add.vmsk)B=s.add.vmsk._c;if(s.add.SoLd){var e=r.D.V1(s.add.SoLd);B=Math.atan2(-e.z,e.V)}if(s.add.TySh){var e=s.add.TySh.i;
B=Math.atan2(-e.z,e.V)}if(B!=null&&B!=0)R.push("%_("+B+") /String (BBAccumRotation) ,");if(s.add.TySh)R.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!h.startsWith("<")&&!h.endsWith(">")){R.push("%_/XMLUID : "+L(h)+" ; (AI10_ArtUID) ,")}R.push("%_;","%_")}function L(s){var R="";
for(var w=0;w<s.length;w++){var h=s[w],B=s.charCodeAt(w);if(h==" ")R+="_";else if(h=="."||h==":"||h=="-"||48<=B&&B<=57||65<=B&&B<=90||97<=B&&B<=122||127<B)R+=h;
else R+="_x"+B.toString(16).toUpperCase()+"_"}return"("+R+")"}function $(s,R,h){h.push(W(s[0])+" "+W(s[1])+" "+W(s[2])+" "+R)}function l(s,R,h,B,e,U){var o=s.a;
if(U!=0)e.push((o.MG()?0:1)+" Xw");if(o.vN()){var b=!1;for(var w=0;w<s.children.length;w++)if(s.children[w].a.Tg)b=!0;
var u=o.add.lsct==eD.en?1:0;if(U==0){e.push("%AI5_BeginLayer");e.push((o.MG()?1:0)+" 1 1 1 0 0 -1 51 44 43 Lb");
e.push("("+o.getName()+") Ln");e.push(u+" AE");n(o,e)}else{e.push(u+" Ae");e.push(b?"q":"u")}for(var w=0;
w<s.children.length;w++)l(s.children[w],R,h,B,e,U+1);if(U==0)e.push("LB","%AI5_EndLayer--");else{e.push(b?"Q":"U");
n(o,e);k(o,e);e.push("0 0 Xd","6 () XW")}}else{k(o,e);var Z=o.add.TySh,I=o.add.vmsk;if(Z){e.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",B.ao9+" /StoryIndex ,");
if(iV.eQ(Z.OU)==1){var y=iV.T$(Z.OU),D=r.Z.o4(new eu(y[0],y[1],y[2],y[3])).p;r.Z.i(D,Z.i,D);r.Z.i(D,h,D);
e.push("/Art :","X=","1 Ap",D[0]+" "+D[1]+" m",D[2]+" "+D[3]+" L",D[4]+" "+D[5]+" L",D[6]+" "+D[7]+" L",D[0]+" "+D[1]+" L","n","X+","; /ConfiningPath ,")}e.push("2 /TextAntialiasing ,",";");
B.ao9++}else if(o.add.SoLd){var N,j,H,Q=o.add.SoLd,C=Q.Idnt.v,J=R.OB(C,Q.Crop?Q.Crop.v:null),E=J.mp,N=E[0],j=E[1];
H=r.D.V1(Q);var T=new iJ(1,0,0,-1,0,0);T.concat(H);T.concat(h);var c=j.P(),a=j.m,K=j.e,Y=r.R(c*4+8);
for(var w=0;w<c;w++){var p=w*4,P=w*3;Y[P]=N[p];Y[P+1]=N[p+1];Y[P+2]=N[p+2];Y[3*c+w]=N[p+3]}_.Fl(Y,c*4,"%EndData");
e.push("%AI5_File:","%AI5_BeginRaster","[ "+[T.V,T.z,T.Pu,T.P9,T.yq,T.Ze].map(W).join(" ")+" ] 0 0 "+[a,K,a,K].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(c*4+4),"XI",Y,"XH","%AI5_EndRaster","N")}else if(I){var m=o.add.vstk,z=o.add.vstl,M=z.Hy,d=z.MV,A=r.j.tn(I.$)>1;
if(A)e.push("*u","0 Xw");if(M){if(M.length==3)$(M,"Xa",e);else if(M.length==4){var G=i(M,B);e.push("Bb",G,"2 BB")}else{e.push("("+M[0]+") "+M[1][0].join(" ")+" ["+M[1][1].join(" ")+"] p")}}if(d){var kB=eC.J1.P6(z,kB,h.NX());
e.push(kB.lcap+" J "+kB.ljoin+" j "+kB.lwidth+" w "+W(kB.mlimit)+" M ["+kB.dash.join(" ")+"]0 d");if(d.length==3)$(d,"XA",e);
else{var q=m.strokeStyleContent.v,G=i(d,B);e.push("1 Bb",G,"2 BB")}}var fO=r.Z.aE(I.$,1);r.Z.i(fO.p,h,fO.p);
var g=o.Tg?"h\nW\nn":M&&d?"b":M?"f":"s";V(fO,g,I.eb,e);if(A)e.push("*U")}n(o,e)}}function k(s,R){var h=d9.a8d.indexOf(s.q_);
if(h==-1)h=0;R.push(h+" "+W(s.opacity/255)+" 0 0 0 Xy")}function V(s,R,h,B){B.push(h+" XR");var e=0;
for(var U=0;U<s.G.length;U++){var o=s.G[U],b,u=0,Z="";if(o=="M"){u=2;b="m"}if(o=="L"){u=2;b="l"}if(o=="C"){u=6;
b="c"}for(var w=0;w<u;w++)Z+=W(s.p[e+w])+" ";e+=u;if(u!=0)B.push(Z+b);if(U==s.G.length-1||s.G[U+1]=="M"){B.push(o=="Z"?R:R.toUpperCase())}}}function i(s,R){var h=f(s,R),B="";
if(s[0]==1)B="0 0 "+s[2].slice(5).map(W).join(" ")+" Bh\n";return B+"1 ("+h+") "+s[2].slice(0,4).map(W).join(" ")+" "+s[3].map(W).join(" ")+" "+W(s[2][4])+" Bg"}function f(s,R){var h=s[0],B=s[1].slice(0),e="grd"+R.Wy.length;
R.Wy.push("%AI5_BeginGradient: ("+e+")","("+e+") "+h+" "+B.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(h==0)B=B.reverse();for(var w=0;w<B.length;w++){var U=B[w],o=r.yC(U[1]),b=o.concat(U[1]).map(W).join(" ")+" 2 "+W(U[2])+" 6 50 "+W(U[0]*100);
R.Wy.push(b+" %_BS");R.Wy.push("%_"+b+" Bs")}R.Wy.push("BD","%AI5_EndGradient");return e}function X(s){var R=[85*85*85*85,85*85*85,85*85,85,1],h="",B=s.length,e=new Uint8Array(4),U=new Uint32Array(e.buffer);
for(var w=0;w<B;w+=4){var o=B-w;e[3]=s[w];e[2]=o>1?s[w+1]:0;e[1]=o>2?s[w+2]:0;e[0]=o>3?s[w+3]:0;var b=U[0],u=1+Math.min(4,o);
for(var Z=0;Z<u;Z++){var I=Math.floor(b/R[Z]);h+=String.fromCharCode(33+I);b-=I*R[Z]}}return h+"~>"}return x}();
function df(){}df.cF=function(){var x,F,W,n,L,U,o,b;function $(T){return _.rD(x,T)}function l(T){return _.sZ(x,T)}function k(T){return _.$J(x,T)}function V(T){return _.IY(x,T)}function i(T,c){var a=[];
for(var w=0;w<c;w++)a.push(k(T+w*4));return a}function f(T,c){var a=[];for(var w=0;w<c;w++)a.push($(T+w*8));
return a}function X(T){return k((T+1)*4096-12)}function s(T){return k((T+1)*4096-8)}function R(T,F,c,a){if(n[T]==null)n[T]=[];
n[T].push([a,new Uint8Array(x.buffer,F,c)])}function h(T,c,a,K){var Y=W[T],F=Y*4096;F=F+k(F+4096-24-12-c*4);
var p=l(F),P=x[F+2],m=x[F+3];if(c!=P)throw P;if(m==0)R(K,F+4,a,9);else{var z=l(F+6),M=k(F+8);R(K,F+12,p-12,9);
h(M,z,a-(p-12),K)}}function B(){var T=k(352),c=k(T*4096+128),a=k(936);W=[];n={};L={};for(var w=0;w<1e9;
w++){var K=k(a*4096+128+w*4);if(K==0)break;var Y=i(K*4096+128,4096-128-12>>>2);W=W.concat(Y)}for(var p=0;
p<W.length;p++){var P=W[p],m=X(P);if(m!=6)continue;var F=P*4096,z=k(F);F+=4;for(var w=0;w<z;w++){var M=k(F);
F+=4;var d=k(F);F+=4;var A=k(F);F+=4;var G=k(F);F+=4;if(M==0)L[d]=A;else{var kB=A&65535,q=A>>>16;if(q==0)R(d,G*4096,kB,8);
else h(G,q,kB,d)}}}var U={};for(var fO in n){var g=n[fO],jN=g.length;if(jN==1)U[fO]=g[0][1];else{var c6=0,F=0;
for(var w=0;w<jN;w++)c6+=g[w][1].length;var a7=U[fO]=new Uint8Array(c6);for(var w=0;w<jN;w++){a7.set(g[w][1],F);
F+=g[w][1].length}}}return U}function e(F,T){var c=T?k(F):l(F),a="";F+=T?4:2;while(a.length<c){var K=x[F++],Y=x[F++],p=0,P="";
K+=(Y&15)*256;Y=Y&240;for(var w=0;w<K;w++){if(Y==64)p=x[F++];else if(Y==128)p=x[F++]|x[F++]<<8;else throw Y;
P+=String.fromCharCode(p)}a+=P}return[a,F]}function u(F,T,c){var a=i(F,T);for(var w=0;w<T;w++){c.push(w);
if(a[w]>o)throw"e";a[w]=I(a[w],c);c.pop()}return a}var Z={};function I(T,c){if(b.indexOf(T)!=-1)return U[T];
if(T==0)return null;if(U[T]==null)return null;if(!(U[T]instanceof Uint8Array))return U[T];var a=x,F=0;
x=U[T];b.push(T);var K=L[T].toString(16),Y=U[T]={_type:E[K]?E[K]+":"+K:"typ-"+K,_eid:T};while(F+8<x.length){var p=k(F);
F+=4;var P=p.toString(16),m=k(F);F+=4;var z=F+m;if(F+m>x.length){Y._bin=x;break}y(P,H,Y,F,m,c);F=z}x=a;
b.pop();return Y}function y(T,c,a,F,K,Y){var p=c[T+":"+a._type];if(p==null)p=c[T];Y.push(p?p[0]==""?T:p[0]:T);
if(p){var P=p[0],m=null,z=p[1];if(P=="")P=z+"-"+T;if(C[z]&&K!=C[z]){console.log(z);console.log(T,p);
console.log(x.slice(F,F+K));throw"e"}if(z=="mat")m=f(F,6);else if(z=="mmat")m=[I(k(F),Y),f(F+6,6)];else if(z=="rect")m=f(F,4);
else if(z=="mrct"){m=f(F,4);m.push(l(F+32))}else if(z=="doub")m=$(F);else if(z=="pointArr"){var M=l(F);
m=i(F+2,M*2)}else if(z=="usrt")m=l(F);else if(z=="uint")m=k(F);else if(z=="pntr"||z=="ptr6"){m=I(k(F),Y)}else if(z=="bool2"){if(l(F)!=0&&l(F)!=1)throw l(F);
m=l(F)==1}else if(z=="bool4"){if(k(F)!=0&&k(F)!=1)throw T+","+k(F);m=k(F)==1}else if(z=="color"){if(K!=38&&K!=30)throw K;
var d=k(F),A=l(F+4);m=[d];for(var w=0;w<A;w++)m.push($(F+6+w*8))}else if(z=="path"){var G=F+K;m=[];var kB=k(F);
F+=4;for(var w=0;w<kB;w++){var q=[[]];m.push(q);var fO=k(F);F+=4;for(var g=0;g<fO;g++){var d=k(F);F+=4;
if(d<2){q[0].push([d,$(F),$(F+8),$(F+16),$(F+24),$(F+32),$(F+40)]);F+=48}else if(d==2){q[0].push([d,$(F),$(F+8)]);
F+=16}else throw d}q.push(l(F));F+=2}}else if(z=="ptrAndList"){var jN=k(F),c6=k(F+4);m=u(F+8,c6,Y);m.unshift(I(jN,Y))}else if(z=="ptrArray"||z=="ptrArrayX"){var a7=K>>2;
if(z=="ptrArray"){a7=k(F);F+=4;if(K!=4+a7*4)throw K}m=u(F,a7,Y)}else if(z=="ptrArray2"){var a7=k(F);
F+=4;m=u(F,a7,Y);F+=a7*4;a7=k(F);F+=4;m.push(u(F,a7,Y))}else if(z=="cldrn"){var bd=k(F),ey=k(F+4),a7=k(F+8);
m={H:I(bd,Y),IO:I(ey,Y),WF:u(F+12,a7,Y)};if(K!=12+a7*4){console.log(T,sa);throw"e"}if(bd==0)throw bd}else if(z=="aprnc"){var a7=k(F);
F+=4;m={};for(var w=0;w<a7;w++){var c5=k(F),bx=l(F+4),ap=l(F+6);F+=8;var fC=J[c5.toString(16)];if(fC==null)fC="prm-"+c5.toString(16);
else fC=j(fC);m[fC]=[];for(var g=0;g<ap;g++){var kE=k(F),bm=l(F+4),fe=null;F+=6;if(kE==28264)fe=$(F);
else if(kE==28263)fe=k(F);else if(kE==279||kE==6917)fe=I(k(F),Y);else if(kE==28261)fe=l(F)==1;else if(kE==28265)fe=[$(F),$(F+4)];
else if(kE==6914||kE==83231)fe=e(F+3)[0];else if(kE==28259||kE==28260||kE==23094||kE==67679){fe=x.slice(F,F+bm)}else throw kE.toString(16);
m[fC].push(fe);F+=bm}}}else if(z=="lopts"){m={a9R:l(F+0)==1,show:l(F+2)==1,aBR:l(F+4)==1,hV:k(F+10),name:e(F+21)[0]}}else if(z=="origin"){var G=F+K;
if(x[F++]!=1)throw"e";var M=k(F);F+=4;var g8=_.xR(x,F,M);F+=M;if(x[F++]!=1)throw"e";var e0=x[F++];if(e0!=1&&e0!=53)throw e0;
var cF=l(F);F+=2;if(cF!=0&&cF!=1)throw cF;var ei=k(F);F+=4;if(ei!=0&&ei!=1)throw ei;var cr=k(F);F+=4;
if(cr!=0&&cr!=2&&cr!=3)throw cr;var e_=k(F);F+=4;var gg=e(F,!0);F=gg[1];gg=gg[0];var bW=k(F),gx=k(F+4);
F+=8;var h$=k(F);F+=4;if(h$!=0)throw h$;var dH=k(F);F+=4;F+=3;var eg=e(F)[0];F+=2+2+eg.length;m={file:g8,id:gg,BW:eg}}else if(z=="string")m=e(F+3)[0];
else if(z=="relEnt"){var aB=l(F);F+=2;m=[];for(var w=0;w<aB;w++)m.push([k(F+w*8),I(k(F+w*8+4),Y)])}else if(z=="textData"){var G=F+K,gB=k(F);
F+=4;var c5=k(F);F+=4;var A=l(F);F+=2;var jy=[];for(var w=0;w<A;w++){var aV=k(F);F+=4;if(gB==514)jy.push(e(F,!0)[0]);
else if(gB==515){var ie=k(F),T=k(F+4),cT=D(F+8,Y);jy.push([ie,I(T,Y),cT])}else if(gB==516){var ie=k(F),T=k(F+4),a_=l(F+8),cT=D(F+8,Y);
jy.push([ie,I(T,Y),cT])}else jy.push(x.slice(F,F+aV));F+=aV}if(G-F!=12)throw G-F;m=jy}else if(z=="storyProps"){var gs=k(F);
if(l(F+4)>1)throw"e";var gq=I(k(F+6),Y),A=k(F+10),kr=I(k(F+14+A*4),Y);m={ac0:gs,a6m:gq,WF:u(F+14,A,Y),avY:kr,a1V:i(F+14+A*4+4,4)}}else if(z=="styleProps")m=D(F,Y);
else if(z=="bounds"){var iN=F,aB=k(F);F+=4;m=[];for(var w=0;w<aB;w++){var jH=[];m.push(jH);for(var g=0;
g<4;g++)jH.push($(F+g*8));F+=32;jH.push(x[F]);F++}if(F!=iN+K)throw"e"}else if(z=="columnPos"){var aB=k(F);
F+=4;m=[f(F,aB),$(F+aB*8)];F+=aB*8+8}else if(z=="StyleName"){m=[k(F+4)]}else if(z=="fontName"){var G=F+K;
m=[l(F)];F+=2;for(var w=0;w<2;w++){var g8=e(F+3);F=g8[1];m.push(g8[0])}m.push(k(F));F+=4;var h2=l(F);
F+=2;m.push(h2);var an=l(F);F+=2;var bt=[];m.push(bt);for(var kH=0;kH<an;kH++){var js=[];bt.push(js);
var g8=e(F+3);F=g8[1];js.push(g8[0]);var gA=l(F);F+=2;var g8=_.xR(x,F,gA);F+=gA;js.push(g8);for(var w=0;
w<3;w++){var g8=e(F+3);F=g8[1];js.push(g8[0])}js.push(k(F));F+=4;var g8=e(F,!0);F=g8[1];js.push(g8[0])}if(F+4!=G)throw"e";
m.push(k(F))}else throw z;if(a[P]!=null){console.log(P,a[P],m);console.log(Y.slice(0));console.log(eid,T,F,a[P],p,m);
throw"e"}a[P]=m}else{var jR=x.slice(F,F+K);a["prop-"+T]=jR}Y.pop()}function D(F,T){var c=l(F);F+=2;var a={};
for(var w=0;w<c;w++){var K=k(F);F+=4;var Y=K.toString(16),p=l(F);F+=2;var P=l(F);F+=2;for(var m=0;m<P;
m++){var z=k(F);F+=4;var M=l(F);F+=2;y(Y,Q,a,F,M,T);F+=M}}return a}function N(T){x=new Uint8Array(T);
U=B();var c=U[2147483649];c=_.NM(c,4,c.length-4);delete U[2147483649];o=0;for(var a in U)o=Math.max(o,parseInt(a));
b=[];var K={};for(var a in U)K[a]=U[a];for(var a in U)I(parseInt(a),[]);return U}function j(T){T=T.split(" ").join("");
return T[0].toLowerCase()+T.slice(1)}var H={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},Q={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},C={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},J={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},E={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return N}();function iu(){}iu.cF=function(){var x=0;function F(X,s){var R=df.cF(X),Q=1;x=0;var h=R[1],B=h.spreads,e=[],U=new eu;
for(var o=0;o<B.length;o++){var b=B[o],u=b.children.WF,Z=n(b),I=u[0].children.WF,y=new eu;for(var D=0;
D<I.length;D++){var N=I[D],j=n(N);j.concat(Z);var H=W(N);H.offset(j.yq,j.Ze);H=r.Z.Jy(H);y=y.oA(H)}e.push(y);
U=U.oA(y)}while(Math.sqrt(U.P())*Q<1e3)Q++;s.m=U.m*Q;s.e=U.e*Q;s.buffer=new Uint8Array(4*s.m*s.e);s.Sv=!0;
s.Bq=Math.round(72*Q);s.jY(B.length);for(var o=0;o<B.length;o++){var b=B[o],u=b.children.WF,C=s.dI();
C.xb=24;C.add.lsct=eD.en;C.sc("Artboard "+(o+1));var J=e[o].clone();J.offset(-U.x,-U.y);J.x*=Q;J.y*=Q;
J.m*=Q;J.e*=Q;J=r.Z.Jy(J);C.lK(J);C.q_="pass";s.B.push(s.Nz());var Z=n(b);Z.translate(-U.x,-U.y);Z.scale(Q,Q);
var E={};for(var T=0;T<u.length-1;T++){var c=u[T],a=c.children.WF,K=s.dI(),Y=c.layer.lopts;if(Y.name=="Internal_pages_layer_name"||E[Y.name])continue;
E[Y.name]=!0;K.xb=24;K.add.lsct=eD.en;K.sc(Y.name);K.FH(Y.show);if(Y.a9R)K.add.lspf=1<<31;K.q_="pass";
s.B.push(s.Nz());for(var w=0;w<a.length;w++)V(a[w],s,Z,R);s.B.push(K)}s.B.push(C)}}function W(X){var s=X.rect;
return new eu(s[0],s[1],s[2]-s[0],s[3]-s[1])}function n(X){var s=X.transform;return new iJ(s[0],s[1],s[2],s[3],s[4],s[5])}function L(X){var s=X.color,R=X.parentFill,B;
if(s==null&&R)s=R.color;if(s==null){console.log("strange color",X);return[0,0,0]}var h=s[0];if(h==5)B=s.slice(1);
else if(h==6)B=UDOC.C.cmykToRgb(s.slice(1));else if(h==7){var e=r.Qo(s[1],s[2],s[3]);B=[e.o/255,e.r/255,e.z/255]}else if(h==14){B=s.slice(1);
console.log("unsure about the color")}else{console.log(s);throw h}return B}function $(X){var s=L(X);
return r.I.GB({o:s[0]*255,r:s[1]*255,z:s[2]*255})}function l(X){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[X]}function k(X,s){var w=0,R=0;
while(X[w+1]&&R+X[w][0]<=s){R+=X[w][0];w++}X=X[w][1].textData;w=0;while(X[w+1]&&R+X[w][0]<=s){R+=X[w][0];
w++}return X[w]}function V(X,s,R,h){var B=X.transform?n(X):new iJ;B.concat(R);var e=X.path,U=X.appearance,o=X.visible,b=X.children?X.children.WF:null,u=s.dI();
if(o!=null)u.FH(o);var Z=b&&b.length==1&&b[0].bitmapFill,I=X["bool2-1623"]&&b&&b.length==1&&b[0].rect&&b[0]._type.startsWith("TextFrame");
if(Z){u.sc("bitmap");var y=b[0],D=W(y),N=n(y),J=null;N.concat(B);var j=y.bitmapFill.bitmap;j=h[j]._bin;
if(j.length!=j.buffer.byteLength)j=j.slice(0);if(j[0]==123){console.log("unknown bitmap format");return}var H=s.sP(j,"img.jpg",0,0);
H.xb=u.xb;u=H;var Q=[0,0,D.m,0,D.m,D.e,0,D.e];r.Z.i(Q,N,Q);u.add.SoLd.Trnf=O.Y.ud(Q);u.add.SoLd.nonAffineTransform=O.Y.ud(Q);
u.Bw(s,!1);var C=y.path;if(C&&C.length!=0)J=f(C,N,U);else if(e&&e.length!=0)J=f(e,B,U);if(J){var E=r.j.Bd(J.$),T=r.Z.KR(Q);
if(E.P()/T.jB(E).P()>1.1){if(E.contains(T))J=null;var c=X.children;X.children=null;V(X,s,R,h);X.children=c}}if(J)u.add.vmsk=J;
u.oO();u.pZ(s)}else if(I){if(U&&U.strokeSwatch){var a=s.dI();i(a,s,U,e,B);s.B.push(a)}var K=b[0],D=W(K),N=n(K),bd=0;
N.concat(B);var Y=K.children.WF[0],p=Y.obj228,P=p[0].story[1],m=P.stoProps.a6m.relEnt,z=P.stoProps.WF[0].relEnt,M=P.stoProps.WF[1]["ptrArrayX-210"][0].textData,d=h[m[0][1].textData[0][1].name[0]],A=d?d.styProps:{};
M=M.join("").replace(/\r/g,"\n");var G=-1;while((G=M.indexOf("\uFFFC"))!=-1){M=M.slice(0,G)+(M[G-1]=="\n"?" ":" ")+M.slice(G+1)}u.sc(M.slice(0,255));
u.add.lnsr="rend";u.add.TySh=iV.P3(0,0);u.add.TySh.pX=D;u.add.TySh.i=N;var kB=u.add.TySh.OU;iV.yb(kB,0,M);
var q=iV.f3(kB,0,M.length);q.oE.FontSize=10;iV.Aj(kB,0,M.length,q);var fO=[];if(M.length!=0){var g=k(m,0),jN=k(z,0),c6=1;
for(var w=1;w<M.length;w++){var e=k(m,w),a7=k(z,w);if(e!=g||a7!=jN){fO.push(c6);c6=0}g=e;jN=a7;c6++}if(c6!=0)fO.push(c6)}for(var w=0;
w<fO.length;w++){var ey=k(z,bd),c5=fO[w],bx=Math.min(bd+c5,M.length-1),ap=ey[2],fC=ey[1].styProps;if(fC==null)fC={};
var kE=k(m,bd),bm=kE[1].styProps,fe=kE[2],g8={};for(var e0 in A)g8[e0]=A[e0];for(var e0 in bm)g8[e0]=bm[e0];
for(var e0 in fe)g8[e0]=fe[e0];for(var e0 in fC)g8[e0]=fC[e0];for(var e0 in ap)g8[e0]=ap[e0];var q=iV.f3(kB,bd,bx),cF=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],ei=cF.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var cr=0;cr<ei.length;cr++){var e0=ei[cr],e_=cr<cF.length?q.oE:q.wt;if(g8[e0]!=null)e_[e0]=g8[e0]}if(g8.fillColor){var gg=L(g8.fillColor);
q.oE.FillColor={Type:1,Values:[1].concat(gg)}}if(g8.font){var bW=g8.font.name[5],gx=g8.fontStyle;if(gx==null)gx="Regular";
for(var h$=0;h$<bW.length;h$++)if(bW[h$][0]==gx)iV.hU(q,bW[h$][1])}if(g8.leading!=null&&g8.leading>1){q.oE.Leading=g8.leading;
q.oE.AutoLeading=!1}if(g8.align!=null)q.wt.Justification=[0,2,1,6,3,5,4,0,0,0][g8.align];iV.Aj(kB,bd,bx,q);
bd+=c5}iV.xC(kB,1);iV.J3(kB,[0,0,Math.round(D.m),Math.round(D.e)])}else if(X._type.startsWith("Path")&&(b==null||b.length==0)&&e){i(u,s,U,e,B)}else{var eg=X["prop-14526"];
if(b==null&&eg){var aB=h[_.$J(eg,20)];b=[aB]}if(b){if(e&&e.length!=0){u.add.vmsk=f(e,B,U);u.oO();u.pZ(s)}u.sc("group");
u.xb=24;u.add.lsct=eD.en;s.B.push(s.Nz());for(var w=0;w<b.length;w++)V(b[w],s,B,h)}}if(U){var gB=U.objectBlendingMode,jy=U.objectOpacity,aV=U.fillTint,cT=!1;
if(gB)u.q_=l(gB[0]);if(jy)u.opacity=Math.round(u.opacity*jy[0]/100);if(!Z&&aV)u.opacity=Math.round(u.opacity*aV[0]/100);
var ie=JSON.parse(eC.default);for(var w=0;w<eC.order.length;w++)ie[eC.UM[w]]={t:"VlLs",v:[]};var a_="dropShadow innerShadow satin bevel iglow oglow".split(" "),gs="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var w=0;w<a_.length;w++){var gq=a_[w];if(U[gq]&&U[gq][0]){var kr=U[gq],jH=135,h2=10;cT=!0;var iN=JSON.parse(eC.bc[eC.order.indexOf(gs[w])]);
ie[eC.UM[eC.order.indexOf(gs[w])]].v.push({t:"Objc",v:iN});if(U[gq+"Color"])iN.Clr.v=$(U[gq+"Color"][0]);
else if(a_[w]=="iglow"||a_[w]=="oglow")iN.Clr.v=r.I.GB({o:255,r:255,z:255});if(U[gq+"ColorH"])iN.hglC.v=$(U[gq+"ColorH"][0]);
if(U[gq+"ColorS"])iN.sdwC.v=$(U[gq+"ColorS"][0]);if(U[gq+"BMode"])iN.Md.v.BlnM=a2.KN(l(U[gq+"BMode"][0]));
if(U[gq+"BModeH"])iN.hglM.v.BlnM=a2.KN(l(U[gq+"BModeH"][0]));if(U[gq+"BModeS"])iN.sdwM.v.BlnM=a2.KN(l(U[gq+"BModeS"][0]));
if(U[gq+"Opacity"])iN.Opct.v.val=U[gq+"Opacity"][0];if(U[gq+"OpacityH"])iN.hglO.v.val=U[gq+"OpacityH"][0];
if(U[gq+"OpacityS"])iN.sdwO.v.val=U[gq+"OpacityS"][0];if(U[gq+"Size"])iN.blur.v.val=U[gq+"Size"][0];
if(U[gq+"Angle"])jH=U[gq+"Angle"][0];if(U[gq+"Dist"])h2=U[gq+"Dist"][0];if(U[gq+"DX"]){var an=U[gq+"DX"][0],bt=U[gq+"DY"][0];
h2=Math.round(Math.sqrt(an*an+bt*bt));jH=Math.round(Math.atan2(bt,-an)*180/Math.PI)}if(iN.lagl)iN.lagl.v.val=jH;
if(iN.Dstn)iN.Dstn.v.val=h2;if(iN.uglg)iN.uglg.v=!1;if(U[gq+"Invert"])iN.Invr.v=U[gq+"Invert"][0];else if(a_[w]=="satin")iN.Invr.v=!1;
if(U[gq+"Alt"])iN.Lald.v.val=U[gq+"Alt"][0];if(U[gq+"Depth"])iN.srgR.v.val=U[gq+"Depth"][0];if(U[gq+"Choke"])iN.Ckmt.v.val=U[gq+"Choke"][0]}}if(cT)u.add.lmfx=ie}if(X.name)u.sc(X.name);
else if(U&&U.name)u.sc(U.name[0]);s.B.push(u)}function i(X,s,R,h,B){X.sc("path");X.xb|=16;X.add.vmsk=f(h,B,R);
var e=X.add.vstk=eC.pr.Iz(!0),U=null;if(R){var o=R.strokeSwatch,b=R.fillSwatch,u=R.basicFeather,Z=R.basicFeatherWidth,I=R.strokeWeight;
e.strokeEnabled.v=o!=null;e.fillEnabled.v=b!=null;if(u)X.add.vmsk.vX=Z?Z[0]:9;if(o){e.strokeStyleLineWidth.v.val=I?I[0]:1;
U=$(o[0]);e.strokeStyleContent.v.Clr.v=U}if(b){U=$(b[0])}}if(U)X.add.SoCo={classID:"null",Clr:{t:"Objc",v:U}};
X.oO();X.pZ(s)}function f(X,s,R){var h=new t.C$,B=h.$;for(var e=0;e<X.length;e++){var U=X[e],o=U[0].length,b=U[1]==0,u=b?0:3;
B.push({type:u,length:o,eb:0,FN:2,qO:0,BF:0});for(var w=0;w<o;w++){var Z=U[0][w],I=Z[0],y=new eX(Z[1],Z[2]),D=new eX(Z[3],Z[4]),N=new eX(Z[5],Z[6]);
if(I==0||I==1)B.push({type:u+2,Xs:y,L:D,vf:N});else if(I==2)B.push({type:u+2,Xs:y,L:y,vf:y});else throw I}}r.j.js(B,s);
return h}return F}();var hw=function(x){function F(l,k){var V=[];for(var w=0;w<9;w++){var i=_.q(l,k+w*4);
if(w%3==2)V.push((i>>>30)+(i&1073741823)/1073741823);else V.push((i>>>16)+(i&65535)/65535)}return V}function W(l,k,V,i){var f={},X=_.q,s=_.Vk;
while(k<V){var R=k,h=_.q(l,k);k+=4;if(h==0){h=_.q(l,k);k+=4}var B=_.xR(l,k,4);k+=4;if(h==0)throw"e";
if(h==1){h=_.cW(l,k);k+=8}var e=R+h,U="".padStart(i,"\t"),o={};if(B=="mvhd"){var b=l[k];if(b!=0)throw"e";
k+=4;o.ax4=X(l,k);k+=4;o.aDg=X(l,k);k+=4;o.SZ=X(l,k);k+=4;o.duration=X(l,k);k+=4;o.ajh=X(l,k);k+=4;o.volume=s(l,k);
k+=2;k+=10;o.asP=F(l,k);k+=4*9;o.a2C=[];for(var w=0;w<6;w++)o.a2C.push(X(l,k+w*4));k+=4*6;o.axX=X(l,k);
k+=4}else if(B=="tkhd"){var b=l[k];if(b!=0)throw"e";k+=4;o.ax4=X(l,k);k+=4;o.aDg=X(l,k);k+=4;o.aCC=X(l,k);
k+=4;k+=4;o.duration=X(l,k);k+=4;k+=8;o.a=s(l,k);k+=2;o.a0D=s(l,k);k+=2;o.volume=s(l,k);k+=2;k+=2;o.asP=F(l,k);
k+=4*9;o.Xv=X(l,k)>>>16;k+=4;o.eD=X(l,k)>>>16;k+=4}else if(B=="mdhd"){o.xb=X(l,k);k+=4;o.ax4=X(l,k);
k+=4;o.aDg=X(l,k);k+=4;o.SZ=X(l,k);k+=4;o.duration=X(l,k);k+=4;o.lang=s(l,k);k+=2;o.U1=s(l,k);k+=2}else if(B=="hdlr"){var u=X(l,k);
k+=4;if(u!=0)throw u;o.d$=_.xR(l,k,4);k+=4;o.aoV=_.xR(l,k,4);k+=4;o.axE=X(l,k);k+=4;o.xb=X(l,k);k+=4;
o.adS=X(l,k);k+=4;var Z=k;while(l[Z]!=0)Z++;o.name=_.xR(l,k,Z-k);k+=Z-k+1}else if(B=="stsd"){var u=X(l,k);
k+=4;if(u!=0)throw u;var I=X(l,k);k+=4;if(I!=1)throw I;var y=X(l,k);k+=4;o.Cd=_.xR(l,k,4);k+=4;if(o.Cd=="mett"){o.av1=_.xR(l,k,e-k)}else{for(var w=0;
w<6;w++)if(l[k+w]!=0)throw"e";k+=6;o.apv=s(l,k);k+=2;o.auu=s(l,k);k+=2;o.aBI=s(l,k);k+=2;o.acJ=X(l,k);
k+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ".split(",").indexOf(o.Cd)!=-1){o.a70=X(l,k);k+=4;
o.ash=X(l,k);k+=4;o.a0k=[s(l,k),s(l,k+2)];k+=4;o.a98=[X(l,k)/(1<<16),X(l,k+4)/(1<<16)];k+=8;var D=X(l,k);
k+=4;if(D!=0)throw"e";var N=s(l,k);k+=2;if(N!=1)throw"e";var j=l[k];k++;o.ae7=_.xR(l,k,j);k+=31;o.ahB=s(l,k);
k+=2;var H=s(l,k);k+=2;if(H!=65535)throw"e";if(k!=e)o.awu=W(l,k,e,i+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(o.Cd)!=-1){o.o2=s(l,k);
k+=2;o.akK=s(l,k);k+=2;var Q=s(l,k);k+=2;if(Q!=0&&Q!=65534)throw Q;var C=s(l,k);k+=2;if(C!=0)throw C;
o.aAN=X(l,k)/(1<<16);k+=4}else if(o.Cd=="CTMD"){o.b=l.slice(k,e)}else if(o.Cd=="tx3g"||o.Cd=="text"||o.Cd=="mebx"){}else if(o.Cd=="tmcd"){}else if(o.Cd=="CRAW"){}else throw o.Cd}}else if(B=="stts"||B=="stsz"||B=="stco"||B=="stsc"||B=="ctts"){var u=X(l,k),J=0,T=0;
k+=4;if(u!=0)throw u;if(B=="stsz"){J=X(l,k);k+=4}var E=X(l,k)*(B=="stsc"?3:B=="stts"||B=="ctts"?2:1);
k+=4;o=[];for(var w=0;w<E;w++){if(J!=0)o.push(J);else{o.push(X(l,k));k+=4}}for(var w=0;w<E;w++)T+=o[w]}else if(B=="co64"){var u=X(l,k);
k+=4;if(u!=0)throw u;var E=X(l,k);k+=4;o=[];for(var w=0;w<E;w++){o.push(_.cW(l,k));k+=8}}else if(B=="moov"||B=="trak"||B=="mdia"||B=="minf"||B=="dinf"||B=="stbl"||B=="uuid"){if(B=="uuid")k+=16;
o=W(l,k,e,i+1)}else if(B=="CMT1"||B=="CMT2"||B=="CMT3"||B=="CMT4"){o=UTIF.decode(l.slice(k,e))}else{o.J=k;
o.LM=h}k=e;if(B=="trak"||B=="free"||B=="uuid"){if(f[B]==null)f[B]=[];f[B].push(o)}else{if(f[B]!=null)throw B;
f[B]=o}}return f}function n(l){var k=new Uint8Array(l);return W(k,0,k.length,0)}function L(l,k,V){var i=$(l,k),f=i.mdia.minf.stbl,X=f.stsc,s=0,R=0;
for(var w=0;w<X.length;w+=3){var h=(w+3<X.length?X[w+3]:1e4)-X[w],B=R+h*X[w+1];if(R<=V&&V<B){while(R+X[w+1]<=V){s++;
R+=X[w+1]}break}s+=h;R=B}var e=f.stco;if(e==null)e=f.co64;var U=e[s];while(R<V){U+=f.stsz[R];R++}return[U,f.stsz[V]]}function $(l,k){var V=l.moov.trak;
for(var w=0;w<V.length;w++)if(V[w].mdia.hdlr.aoV==k)return V[w]}return{cF:n,a8R:L,a5I:$}}(),O={};O.e1=function(x){return window.devicePixelRatio||1};
O.m8=function(x,F){return(F.akA=="touch"?12:8)*O.e1()/x.U.Q};O.p9=function(x,F,W){this.name=x;this.id=F;
this.gP=null;if(W!=null)this.CZ=W};O.p9.prototype.LB=function(x,F,W,n,L){};O.p9.prototype.enable=function(x,F,W,n,L,$){var l=new gT(S.E.M,!0);
l.data={d:S.H.W_,VD:"default"};F.T(l)};O.p9.prototype.disable=function(x,F,W,n,L){};O.p9.prototype.apx=function(x,F,W,n,L){return!1};
O.p9.prototype.pI=function(x,F,W,n,L){};O.p9.prototype.u6=function(x,F,W,n,L){};O.p9.prototype.Lx=function(x,F,W,n,L){};
O.p9.prototype.t8=function(x,F,W,n,L,$){};O.p9.prototype.Nc=function(x,F,W,n,L){};O.p9.prototype.lH=function(x,F,W,n){};
O.p9.prototype.HS=function(x,F,W,n){};O.p9.prototype.Th=function(x,F){};O.p9.prototype.hm=function(x,F){};
O.p9.prototype.p$=function(x){return 0};O.p9.prototype.FD=function(x,F,W,n,L){};O.p9.prototype.AW=function(x,F){};
O.p9.prototype.Us=function(x,F){return!1};O.p9.prototype.R0=function(x,F){return!1};O.p9.prototype.ek=function(){return!1};
O.p9.prototype.pn=function(x,F){return!0};O.p9.prototype.CH=function(){return null};O.p9.prototype.LP=function(x,F,W){};
O.p9.prototype.a5Q=function(){return!1};O.p9.prototype.OA=function(x,F,W,n){};O.p9.prototype.track=function(x){var F=new gT(S.E.BD,!0);
F.data=x;x.Sd=!0;this.gP.T(F)};O.p9.KO=function(x,F,W,n){var L=10*O.e1()*(x.akA=="touch"?2:1),$=x.x+L,l=x.y-L,k=r.uX.e3(F.m,W.Bq,n,W.m,!0),V=r.uX.e3(F.e,W.Bq,n,W.e,!0);
while(k.length<V.length)k=" "+k;while(k.length>V.length)V=" "+V;O.p9.iT($,l,[hz.get([12,41]).charAt(0)+": "+k,hz.get([12,42]).charAt(0)+": "+V],W)};
O.p9.iT=function(x,F,W,n){function L(i,B,e,U,o,b){i.beginPath();i.moveTo(B,e+b);i.arcTo(B,e+o,B+b,e+o,b);
i.arcTo(B+U,e+o,B+U,e+o-b,b);i.arcTo(B+U,e,B+U-b,e,b);i.arcTo(B,e,B,e+b,b)}var $=O.e1(),l=Math.round,k=l(11*$),V=O.p9.a5s,f=0;
if(V==null)V=O.p9.a5s=document.createElement("canvas");var i=V.getContext("2d");i.font=k+"px monospace";
for(var w=0;w<W.length;w++)f=Math.max(f,i.measureText(W[w]).width);var X=l(f+12*$),s=l((W.length*14+5)*$),R=new eu(x,F-s,X,s);
if(V.width!=X||V.height!=s){V.width=X;V.height=s;i.font=k+"px monospace"}i.clearRect(0,0,X,s);i.fillStyle="rgba(0,0,3,0.8)";
L(i,0,0,X,s,l(4*$));i.fill();i.fillStyle="rgba(255,255,255,1)";for(var w=0;w<W.length;w++)i.fillText(W[w],l(6*$),l((w+1)*13*$));
var h=[i.getImageData(0,0,X,s).data,R.clone()];if(n)n.N.v7=[h];return h};O.p9.a5s=null;O.iY="0";O.Yg="1";
O.aai="2";O.avB="3";O.r2="5";O.azq="6";O.aDN="7";O.B0="8";O.dg="9";O.yA="10";O.zw="11";O.cY="12";O.qo="13";
O.ph="14";O.a5R="15";O.LD="16";O.qC="18";O.S_="19";O.a3x="90";O.Vj="20";O.h3="21";O.A7="22";O.s3="23";
O.mU="24";O.g0="25";O.DC="27";O.xZ="31";O.vV="32";O.a36="33";O.e9="34";O.a0P="35";O.Jk="36";O.WY="37";
O.p0="38";O.WV="39";O.jM="40";O.Ew="41";O.XA="42";O.lC="43";O.ar2="44";O.at1="45";O.asl="46";O.agj="72";
O.w1="47";O.s7="48";O.iM="51";O.cp="52";O.gX="54";O.fK="55";O.di="56";O.Zy="57";O.S4="58";O.CD="59";
O.ZD="60";O._6="61";O.wl="70";O.aAF="71";O.d9="100";O.Uj="101";O.h2="102";O.Ym="103";O.B8="120";O.t7="230";
O.azT="231";O.o7="232";O.c9="233";O.pj="234";O.T2="235";O.aR="236";O.XR={};O.XR[O.s3]="tools/brush";
O.XR[O.mU]="tools/pencil";O.XR[O.xZ]="tools/eraser";O.Np={PcTl:O.mU,PbTl:O.s3,moveTool:O.iY,cloneStampTool:O.DC,typeCreateOrEditTool:O.w1,artboardTool:O.wl,marqueeRectTool:O.Yg,typeVerticalCreateOrEditTool:O.s7,perspectiveCropTool:O.zw,marqueeEllipTool:O.aai,eyedropperTool:O.ph,eraserTool:O.xZ,pathComponentSelectTool:O.iM,lassoTool:O.r2,backgroundEraserTool:O.vV,directSelectTool:O.cp,polySelTool:O.azq,rectangleTool:O.gX,magneticLassoTool:O.aDN,gradientTool:O.e9,quickSelectTool:O.B0,bucketTool:O.a0P,ellipseTool:O.fK,magicWandTool:O.dg,blurTool:O.Jk,polygonTool:O.di,cropTool:O.yA,sharpenTool:O.WY,lineTool:O.Zy,sliceTool:O.cY,smudgeTool:O.p0,customShapeTool:O.S4,sliceSelectTool:O.qo,dodgeTool:O.WV,spotHealingBrushTool:O.qC,burnInTool:O.jM,saturationTool:O.Ew,penTool:O.XA,redEyeTool:O.A7,freeformPenTool:O.lC,rulerTool:O.LD,paintbrushTool:O.s3,handTool:O.CD,pencilTool:O.mU,zoomTool:O._6,objectSelectTool:O.avB,healingBrushTool:O.S_,patchTool:O.Vj,contentAwareMoveTool:O.h3,colorReplacementBrushTool:O.g0,curvaturePenTool:O.ar2,rotareViewTool:O.ZD};
O.P1=function(x,F,W){O.p9.call(this,x,F,W);this.y6={brush:x?jq.zu():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Mh=null;this.g9=null;this.sl=null;this.Oh=null;this.vn=null;this.$i=null;this.Qe=null;this.E1=null;
this.yV=null;this.CM=null;this.vh=null;this.H5=null;this.WZ=null;this.Hv=1;this.Zf=!1;this.yE=null;this.caller=null};
O.P1.prototype=new O.p9;O.P1.prototype.R0=function(x,F){return x.Pz&&F.S(gp.ca)};O.P1.prototype.u6=function(x,F,W,n,L){if(n.S(gp.d8)){this.$i=new eX(L.x,L.y);
var $=this.y6.brush.Brsh.v,l=$.Dmtr.v.val,k=$.Hrdn!=null?$.Hrdn.v.val:-1;this.Qe=[l,k,!0,JSON.parse(JSON.stringify(this.y6.brush)),L];
this.ee(W)}};O.P1.prototype.As=function(x,F,W){var n=this.Qe,L=x.U.Q,$=W.x-n[4].x,l=W.y-n[4].y,k=n[0],V=n[1],i=Math.abs($)>Math.abs(l);
if(i&&n[2]){var f=Math.round(2*$/L);k+=f;W.x-=$-.5*f*L}if(!i&&!n[2]&&V!=-1){var f=Math.round(.25*l);
V+=f;W.y-=l-4*f}k=Math.max(1,k);V=n[1]==-1?-1:Math.max(0,Math.min(100,V));var X=n[3];X.Brsh.v.Dmtr.v.val=k;
if(V!=-1)X.Brsh.v.Hrdn.v.val=V;this.Qe=[k,V,i,X,W];var s=dp.jf(X,F.rj.kF,L),R=s[1];R.x=Math.round(this.$i.x-R.m/2);
R.y=Math.round(this.$i.y-R.e/2);x.N.pF=[s];var h=x.U.m$(this.$i.x,this.$i.y);x.N.Pt={Gz:[],rJ:[h.x-k/2,h.y,h.x+k/2,h.y]};
if(V!=-1)x.N.Pt.rJ.push(h.x+50/L,h.y-V/2,h.x+50/L,h.y+V/2);x.yW=!0};O.P1.prototype.Nc=function(x,F,W,n,L){if(this.id==O.Vj||this.id==O.h3)return;
if(this.$i){this.$i=null;this.qu(JSON.parse(JSON.stringify(this.Qe[3])));x.N.pF=[];x.N.Pt=null;x.yW=!0;
return}var $=new gT(S.E.M,!0);$.data={d:S.H.QQ,f:this.id,akn:"showBrushOpts",_b:new eX(L.PC+4,L.RX)};
F.T($)};O.P1.prototype.qu=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.DD,jL:iC.rb,BX:x};this.caller.T(F)};
O.P1.fg=function(x,F,W,n,L,$){if(x==null)x="FrgC";if(F==null)F="norm";if(W==null)W=1;if(L==null)L=!1;
var l={classID:"Fl",Usng:{t:"enum",v:{FlCn:x}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(W*100)}},PrsT:{t:"bool",v:L},Md:{t:"enum",v:{BlnM:a2.KN(F)}}};
if(x=="Clr")l.Clr={t:"Objc",v:n};if(x=="contentAware")l.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(x=="Ptrn")l.Ptrn={t:"Objc",v:$};return{Y3:"fill",Xe:l}};O.P1.prototype.LB=function(x,F,W,n,L){this.gP=F;
var $=W.kO.length;if($==0&&!W.SP())return;var l=$!=0?-1-W.kO[0]:W.g[0],k=W.B[l];if(x.d=="fromAction"){var V=x.$V,i=V.Xe;
if(i&&i.null&&i.null.v[0]&&i.null.v[0].v.classID=="Path"){var f=W.x8(),X=f[0],s=f[1],R=X[s.length==0?0:s[0]].add.vmsk;
if(V.Y3=="fill"){var h=R.GH(),B=L.A_,e=this.y6,U=B>>16&255,o=B>>8&255,b=B>>0&255;this.OM(W,k,h,U,o,b,Math.round(e.opacity*255),e.bmode,"Fill Path")}else{var u=i&&i.Prs&&i.Prs.v,Z=JSON.stringify(this.y6.brush);
if(u)jq.a4o(this.y6.brush,[!1,!0]);for(var I=0;I<1e3;I++){var y=r.j.Of(R.$,I,!0);if(y==-1){this.t8(W,F,L,n,null);
break}var D=R.$[y],N=R.$.slice(y,y+1+D.length),j=r.Z.aE(N,2).p,H=j.slice(0,8);for(var Q=8;Q<j.length;
Q+=6)H.push(j[Q-2],j[Q-1],j[Q],j[Q+1],j[Q+2],j[Q+3],j[Q+4],j[Q+5]);var C={};C.Points=H;C.TextOnPathTRange=R.GO.slice(0);
var C=iO.yD(C,2,D.type==3),J=C[0],E=W.U.Q0(J[0],J[1]);if(u)E.x2=0;if(I==0)this.pI(W,F,L,n,E);else this.g9.moveTo(J[0],J[1]);
var T=J.length,c=D.type==0?T+2:T;for(var w=2;w<c;w+=2){E=W.U.Q0(J[w%T],J[(w+1)%T]);E.Pz=!0;if(u){var a=w/c;
E.x2=2*Math.min(a,1-a)}this.Lx(W,F,L,n,E,this.y6.flow)}this.g9.finish();this.VE(W)}if(u)this.y6.brush=JSON.parse(Z)}}else if(V.Y3=="fill"){var K=i.PrsT?i.PrsT.v:!1,Y=k?k.add.lspf:0;
if(K&&k){k.add.lspf=Y==null?1:Y|1}var p=(i.Opct?i.Opct.v.val:100)/100,P=i.Md?a2.zy(i.Md.v.BlnM):"norm",m=i.Usng.v.FlCn;
if(m=="contentAware"||m=="aiHeal"){if(W.u==null){alert("Select an area to heal first.");return}if(!W.SP())return;
var z=W.u;if(m=="aiHeal"&&!dm.Rt(W))return;this.B3(W);this.ay(W,0);if(m=="contentAware"){var M=r.R(z.rect.P()*4);
r.rW(z.channel,M,3);this.Yo(W,"sheal",M,z.rect,z.rect);this.W(W,z.rect);this.finish(W,z.rect)}else{this.bn=W;
console.log(x);dm.awm(!0,null,i.prmt?i.prmt.v:"empty background",W,this.avI.bind(this),i.jL);alert("Processing ...",5e3)}}else if(m=="Ptrn"){var d=L.Oz,A=W.u?W.u.rect.clone():new eu(0,0,W.m,W.e),G=r.R(A.P()*4);
hM.dh(i,G,A,d,new eX(0,0));this.uV(W,k,W.u,G,"norm",[6,48,0,2])}else{var B;if(m=="FrgC")B=L.A_;else if(m=="BckC")B=L.G8;
else if(m=="Blck")B=0;else if(m=="Wht")B=16777215;else if(m=="Gry")B=8421504;else if(m=="Clr"){var kB=r.I.z$(i.Clr.v);
B=kB.o<<16|kB.r<<8|kB.z}var U=B>>16&255,o=B>>8&255,b=B>>0&255;this.OM(W,k,W.u,U,o,b,Math.round(255*p),P,[2,3])}if(K&&k){k.add.lspf=Y==null?0:Y}}else if(V.Y3=="delete"){var q=l<0?1:k.sj,z=W.u,c6;
if(z==null)return;var fO=l<0?W.o2[-l-1]:q<=0?null:q==1?k.GH():k.DU(W).F,A=q<=0?k.rect:fO.rect,g=q<=0?z.rect.jB(A):z.rect.clone();
if(g.ak())return;var jN=g.P();if(q<=0){c6=r.R(jN*4);r.sh(k.buffer,k.rect,c6,g)}else{c6=r.R(jN);fO.extend(g);
r.Hz(fO.channel,fO.rect,c6,g)}if(0<=l&&k.zG(W,z)){if(q<=0){r.De(c6,0);r.sh(k.vp.A$,k.vp.J9,c6,g)}else{c6.fill(255);
r.Hz(k.vp.A$,k.vp.J9,c6,g)}}else{if(q<=0){var a7=r.R(c6.length>>2);r.Tb(c6,a7,3);r.l.f9(r.I2(z.rect.P()),z.rect,a7,g,z.channel,g,1);
r.rW(a7,c6,3)}else{var bd=r.R(z.rect.P()),U=L.G8>>>16&255,o=L.G8>>8&255,b=L.G8>>0&255;bd.fill(Math.round(r.Ns(U,o,b)));
r.l.f9(bd,z.rect,c6,g,z.channel,g,1)}}this.NS(W,!0,[2,2],l,q,g,c6)}}if(x.d=="stroke"){var ey=x.ah9,z=W.u;
if(z==null){z={rect:k.rect.clone(),channel:r.R(k.rect.P())};r.Tb(k.buffer,z.channel,3)}var c5=hM.bE(ey),bx=O.FA.a0u(z,Math.ceil(c5[0]),Math.ceil(c5[1])),B=r.I.z$(ey.Clr.v),U=Math.round(B.o),o=Math.round(B.r),b=Math.round(B.z);
this.OM(W,k,bx,U,o,b,Math.round(255*ey.Opct.v.val/100),a2.zy(ey.Md.v.BlnM),[14,9])}if(x.d=="fillBMP"){this.uV(W,k,W.u,x.kQ,x.kh,x.Sa)}if(x.d=="draw"){var ap=x.v2,fC=ap.rect;
this.B3(W);var kE=W.B[W.g[0]];if(x.aw3&&kE&&kE.sj<=0&&W.kO.length==0){fC=O.RC.aih(ap,W);kE.buffer=ap.buffer.slice(0);
kE.rect=fC.clone()}else{var bm=this.y6.bmode,fe=this.y6.opacity;this.y6.bmode="norm";this.y6.opacity=1;
this.Yo(W,"draw",ap.buffer,fC,fC.jB(new eu(0,0,W.m,W.e)));this.y6.bmode=bm;this.y6.opacity=fe}this.W(W,fC);
W.Md=!0;this.finish(W,fC,x.Sa,x.aw3)}};O.P1.prototype.avI=function(x){var F=UPNG.decode(x.target.response),W=new Uint8Array(UPNG.toRGBA8(F)[0]),n=dm.BN(this.bn),L=this.bn;
this.bn=null;this.Yo(L,"draw",W,n,n);this.W(L,n);this.finish(L,n);dm.UG("remove")};O.P1.prototype.OM=function(x,F,W,n,L,$,l,k,V){var i=W==null?new eu(0,0,x.m,x.e):W.rect,f=l<<24|$<<16|L<<8|n<<0,X=r.R(i.P()*4);
r.De(X,f);this.uV(x,F,W,X,k,V)};O.P1.prototype.uV=function(x,F,W,n,L,$){var l=x.kO.length!=0?-1-x.kO[0]:x.g[0],k=l<0?1:F.sj,V=l<0?x.o2[-1-l]:k<=0?null:k==1?F.GH():F.DU(x).F,i=k<=0?F.rect:V.rect,f=W==null?new eu(0,0,x.m,x.e):W.rect,X=W==null?r.Yv(x.m*x.e):W.channel;
if(W!=null)r.Wz(X,n);var s=f.P(),R=r.R(s*4);if(k<=0)r.sh(F.buffer,F.rect,R,f);else{V.extend(f);R.fill(255);
r.Mi(V.QY(f),R)}if(0<=l&&W&&F.zG(x,W)&&k<=0){var h=F.vp.WS,B=F.vp.WS.slice(0);if(k<=0)r.Bj(n,B);else r.Bj(fullc,B);
var e=new fd([2,3],this);e.data={d:"drawtemp",a:x.g[0],Ca:k,aoP:h,aDi:B};x.fC(e);this.Th(e.data,x)}else{if(k<=0){var U;
if(F._3(0)){U=r.R(f.P());r.Tb(R,U,3)}r.l.X3(L,n,f,R,f,f,1);if(F._3(0))r.rW(U,R,3)}else{r.l.X3(L,n,f,R,f,f,1);
var o=r.R(s);r.ad(R,o);R=o}this.NS(x,!0,$,l,k,f,R)}};O.P1.prototype.Us=function(x){if(gp.TT.indexOf(x)!=-1)return!0;
return!1};O.P1.prototype.lH=function(x,F,W,n){var L=this.y6.brush,$=n.S(gp.d8),l=$!=this.Zf,k=O.P1.gG(L,n);
if(k!=null)this.qu(k);if(!n.S(gp.Fr)&&n.de()!=-1){var V=gp.kn(Math.round(this.y6.opacity*100),n.de())/100;
this.c5({opacity:V},F)}if(this.id==O.B0&&l&&x!=null){var i=this.y6.qsmode;if(i==2)i=x.u==null?0:1;else i=2;
this.c5({qsmode:i},F)}this.Zf=$;if(l){if(x)this.Hv=x.U.Q;this.ee(W,n)}};O.P1.gG=function(x,F){var W=x.Brsh.v.Dmtr.v.val,n=x.Brsh.v.Hrdn!=null?x.Brsh.v.Hrdn.v.val:-1,L=W,$=n,l=F.S(gp.ca);
if(F.S(gp.E3)){if(l)n=25*Math.floor((n-1)/25);else{if(W<=10)W--;else if(W<=50)W=5*Math.floor((W-1)/5);
else if(W<=100)W=10*Math.floor((W-1)/10);else if(W<=200)W=25*Math.floor((W-1)/25);else if(W<=400)W=50*Math.floor((W-1)/50);
else W=100*Math.floor((W-1)/100)}}if(F.S(gp.si)){if(l)n=25*Math.ceil((n+1)/25);else{if(W<10)W++;else if(W<50)W=5*Math.ceil((W+1)/5);
else if(W<100)W=10*Math.ceil((W+1)/10);else if(W<200)W=25*Math.ceil((W+1)/25);else if(W<400)W=50*Math.ceil((W+1)/50);
else W=100*Math.ceil((W+1)/100)}}W=Math.max(1,W);n=Math.max(0,Math.min(100,n));if($==-1)n=-1;if(W!=L||n!=$){var k=JSON.parse(JSON.stringify(x));
k.Brsh.v.Dmtr.v.val=W;if($!=-1)k.Brsh.v.Hrdn.v.val=n;return k}return null};O.P1.prototype.ee=function(x,F,W,n){if(x.rj.list.length==0)return;
var L=this.id,$;if((L==O.DC||L==O.S_||L==O.s3||L==O.mU)&&(F!=null&&F.S(gp.d8)||this.y6.alt[0]))$="crosshair";
else{var l=this.Hv,k=this.y6.brush;if((L==O.DC||L==O.S_)&&W&&this.H5&&this.H5.length==this.vh.P()*4){var V=W.U.m$(n.x,n.y),i=this.a1z(V),f=this.H5,X=this.vh,s=new eu(X.x+i.x,X.y+i.y,X.m,X.e),R=dp.jf(k,x.rj.kF,l),h=R[0],B=R[1],e=Math.ceil(B.m/l),U=new eu(Math.round(V.x-e/2),Math.round(V.y-e/2),e,e),o=r.R(U.P()*4),b,u;
r.sh(f,s,o,U);if(l==1){b=o;u=U}else{var Z=new iJ(l,0,0,l,0,0),I=O.Y.f$([o,U],Z,!0);u=B.clone();u.x=I.rect.x;
u.y=I.rect.y;if(u.rr(I.rect))b=I.buffer;else{b=r.R(u.P()*4);r.sh(I.buffer,I.rect,b,u)}}var y=this.y6.opacity/255;
for(var w=0;w<b.length;w+=4)b[w+3]=y*(h[w+3]*b[w+3]);dp.ad2(new Uint32Array(b.buffer),u,4278190080,4294967295);
$={vj:b,fS:u,C8:new eX(u.m/2,u.e/2)}}else $=dp.OF(k,x.rj.kF,l,L==O.g0||L==O.vV)}var D=new gT(S.E.M,!0);
D.data={d:S.H.W_,VD:$};if(this.caller)this.caller.T(D)};O.P1.prototype.enable=function(x,F,W,n){this.Mh=W;
this.caller=F;this.qu(JSON.parse(JSON.stringify(this.y6.brush)));if(x&&x.U.Q!=0)this.Hv=x.U.Q;this.ee(W,n)};
O.P1.prototype.AW=function(x,F){if(F==iC.rb){this.y6.brush=x.rj.gd;this.ee(x)}};O.P1.prototype.FD=function(x,F,W,n,L){for(var $ in x)this.y6[$]=x[$];
if(this.y6.alt[0])this.ee(L,n,W)};O.P1.prototype.ajS=function(x){var F=x.kO.length!=0?-1-x.kO[0]:x.g[0],W=x.B[F],n=F<0?1:W.sj,L=F<0?x.o2[-F-1]:n<=0?null:n==1?W.GH():W.DU(x).F,$=L?L.channel:W.buffer,l=(L?L.rect:W.rect).clone();
return[W,n,L,$,l]};O.P1.prototype.B3=function(x,F){this.WZ=x.u==null?null:{rect:x.u.rect.clone(),channel:x.u.channel.slice(0)};
var W=this.CM,n=this.ajS(x),L=n[0],$=n[1],l=n[2];this.CM=n[3];this.yV=n[4];var k=new eu(0,0,x.m,x.e),V=k.oA(this.yV);
if((this.yc()&&$<=0||V.rr(this.yV))&&F!=!0){if(W&&W.length==this.CM.length){W.set(this.CM);this.CM=W}else this.CM=this.CM.slice(0)}else{if(l)l.extend(V);
else L.extend(V)}};O.P1.prototype.ay=function(x,F){var W=this.ajS(x),n=W[1],L=W[3],$=W[4],l=[L,$],k=F!=null?F:this.y6.sfrom;
if(n<=0&&k!=0){l[1]=new eu(0,0,x.m,x.e);l[0]=x.Hi(k==1&&x.g[0]!=x.B.length-1?x.g[0]:null).slice(0)}this.vh=l[1].clone();
this.H5=l[0].slice(0)};O.P1.prototype.qT=function(x,F,W,n,L,$){if(L.Pz&&n.S(gp.d8)&&this.$i==null){if($)this.KJ=W.A_;
var l=new gT(S.E.v,!0);l.f=O.ph;l.data={d:"pickhere",ahP:L};F.T(l);var k=O.c2.axy(x,!1,!0,L,null,W.A_,this.KJ,1),l=new gT(S.E.M,!0);
l.data={d:S.H.W_,VD:k};F.T(l);return!0}return!1};O.P1.prototype.sE=function(x,F,W,n,L,$){if(this.id!=O.B0&&!x.SP(this.caller)){this.g9=null;
return}if(this.id!=O.B0&&this.g9)return;this.B3(x);var l=new eu(0,0,x.m,x.e),k=null;if($!=null){var V=x.kO.length!=0?-1-x.kO[0]:x.g[0],i=x.B[V],f=V<0?x.o2[-V-1]:i.sj<=0?null:i.sj==1?i.GH():i.DU(x).F;
k=r.R(l.P()*4);if(f)O.P1.bm(this.CM,this.yV,f.color,k,l);else r.sh(this.CM,this.yV,k,l)}var X=this.y6;
if(this.g9&&this.id==O.B0&&X.qsmode!=0&&x.u!=null){}else{var s=F.A_,R=F.G8;if(this.yE=="erase"){var h=s;
s=R;R=h}var B=this.id==O.B0?this.yV:l;this.g9=new dp(X.brush,F.rj.kF,F.rj.r5,{BE:L,US:$,a4R:X.smth*50/x.U.Q,hW:this.id==O.mU||X.emode==1,da:x.da},s,R,B,k)}if(this.id==O.B0){this.g9.abd(X.brush,X.qsmode==2?0:16777215)}var e=x.U.m$(n.x,n.y);
if(W.S(gp.ca)&&this.sl){var U=this.sl;this.g9.moveTo(U.x,U.y,n.x2);this.g9.lineTo(.001*U.x+.999*e.x,.001*U.y+.999*e.y,n.x2);
this.g9.lineTo(e.x,e.y,n.x2)}else this.g9.moveTo(e.x,e.y,n.x2);this.sl=e;this.Oh=e.clone();this.vn=new d0(e,x.U.O4)};
O.P1.prototype.un=function(x,F,W){if(x&&x.U.Q!=0&&x.U.Q!=this.Hv){this.Hv=x.U.Q;this.ee(W)}};O.P1.prototype.FU=function(x,F,W,n){if(this.g9==null)return;
var L=x.B[x.g[0]],$=x.U.m$(n.x,n.y),l=this.vn.PD($,W);if(l.rr(this.sl))return 1;this.g9.lineTo(l.x,l.y,n.x2);
this.sl=l;if(this.id==O.DC||this.id==O.S_){var k=this.Cy(),V=11;k=x.U.Q0($.x-k.x,$.y-k.y);var i=V>>>1,f=new eu(Math.round(k.x)-i,Math.round(k.y)-i,V,V),X=r.R(f.P()*4);
r.De(16777215);for(var w=0;w<V;w++)X[(w*V+i)*4+3]=X[(V*i+w)*4+3]=255;x.N.v7=[[X,f]];x.yW=!0}};O.P1.prototype.HS=function(x,F,W,n){if(W.Dj!=this.id)return;
if(this.id!=O.B0||x==null)return;if(x.u==null||x.g[0]!=this.a2k){this.a2k=x.g[0];this.c5({qsmode:0},F)}};
O.P1.prototype.W=function(x,F){if(x.kO.length!=0){x.yW=!0;return}var W=x.B[x.g[0]];if(F==null){F=this.g9.Kf();
if(this.yc()&&W.sj<=0)F=F.jB(this.yV)}var n=W.sj;if(n==1||n==3){var L=Math.round((n==1?W.GH():W.DU(x).F).vX*2.4);
F=F.clone();F.za(L,L)}if(F.ak())return;if(n<=0){W.W(F)}if(n==1){W.GH().DQ=!0;W.pZ(x,F)}if(n==3){W.W(F)}x.W(x.root.cn(F,x,x.g[0],!0))};
O.P1.prototype.t8=function(x,F,W,n,L){if(this.g9==null)return;this.g9.finish();if(this.id!=O.qC&&this.id!=O.S_&&this.id!=O.B0)this.VE(x);
if(this.id==O.DC||this.id==O.S_){x.N.v7=[];x.yW=!0}if(this.id==O.B0){var $=x.u;x.u=this.WZ;var l=new gT(S.E.v,!0);
l.data={d:"setsel",Sa:this.name,u:$};l.f=O.Yg;F.T(l);if(this.y6.qsmode==0)this.c5({qsmode:1},F)}else{this.finish(x,this.g9.FV());
this.g9=null;this.E1=null}this.dir=0};O.P1.prototype.c5=function(x,F){for(var W in x)this.y6[W]=x[W];
var n=new gT(S.E.M,!0);n.data={d:S.H.QQ,f:this.id,Z_:x};F.T(n)};O.P1.prototype.yc=function(){var x=this.id;
return x==O.B0||x==O.xZ||x==O.WV||x==O.jM||x==O.Ew||x==O.A7};O.P1.prototype.finish=function(x,F,W,n,L){var $=x.kO.length!=0?-1-x.kO[0]:x.g[0],l=x.B[$],k=$<0?1:l.sj,V=$<0?x.o2[-$-1]:k<=0?null:k==1?l.GH():l.DU(x).F,i=V?V.rect:l.rect,s;
if(this.yc()||!i.rr(this.yV)){if(V==null){if(this.yc())l.iv();else{var f=F.oA(this.yV),X=r.R(f.P()*4);
r.sh(l.buffer,l.rect,X,f);l.buffer=X;l.rect=f}}else V.iv();this.W(x,i)}if(k<=0){s=r.R(F.P()*4);r.sh(this.CM,this.yV,s,F)}else{s=r.R(F.P());
s.fill(V.color);r.Hz(this.CM,this.yV,s,F)}this.NS(x,!1,W?W:this.name,$,k,F,s,n,L)};O.P1.prototype.NS=function(x,F,W,n,L,$,l,k,V){var i=l;
if(L>0){i=r.R($.P()*4);O.P1.bm(l,$,0,i,$)}var f=new fd(W,this);f.data=[{a:n,Ca:L,fS:$,LK:i}];if(k)f.data.xm=[x.u,null];
if(V)f.data.xm=[this.WZ,x.u];x.fC(f);if(F)this.Th(f.data,x);else if(k)x.u=null;O.dl.ag5(x,f.data)};O.P1.prototype.hm=function(x,F){this.aA3(x,F,!1)};
O.P1.prototype.Th=function(x,F){this.aA3(x,F,!0)};O.P1.prototype.p$=function(x){return O.dl.p$(x)};O.P1.prototype.aA3=function(x,F,W){if(x.d=="drawtemp"){var n=W?x.aDi:x.aoP,L=F.B[x.a];
L.vp.WS=n;L.FE(F,0,0,F.u);L.W();F.Md=!0}else{O.dl.dq(F,x);if(x.xm){F.u=x.xm[W?1:0];F.eT=!0}}F.W()};O.P1.prototype.VE=function(x){this.Yo(x,this.yE,this.g9.Eo(),this.g9.oU(),this.g9.Kf());
this.W(x)};O.P1.prototype.Yo=function(x,F,W,n,L){var $=this.y6,l=x.B[x.g[0]],k=x.kO.length!=0?x.o2[x.kO[0]]:l.sj<=0?null:l.sj==1?l.GH():l.DU(x).F,V=r.R(L.P()*4),i,f=l._3(0);
if(k==null){if(this.id==O.h3&&F=="heal")r.sh(l.buffer,l.rect,V,L);else r.sh(this.CM,this.yV,V,L);if(f){i=r.R(L.P());
r.Tb(V,i,3)}}else{O.P1.bm(this.CM,this.yV,k.color,V,L)}if(x.u&&F!="qselect"){var X=L.jB(x.u.rect),s=r.R(X.P()*4);
if(F=="copy"){var R=r.R(X.P());r.Hz(x.u.channel,x.u.rect,R,X);r.sh(V,L,s,X);r.l.qV(W,n,s,X,R,X,0,X,1,!1)}else{r.sh(W,n,s,X);
r.L7(x.u.channel,x.u.rect,s,X)}W=s;n=X}function h(U,fC){var bm=Math.max(fC.x,Math.min(fC.x+fC.m-1,U.x)),fe=Math.max(fC.y,Math.min(fC.y+fC.e-1,U.y));
return new eX(bm,fe)}if(F=="idraw"||F=="ierase"){if(this.E1==null)this.E1=r.R(this.yV.P());var B=this.y6.samp,e=this.Mh.G8,U=h(this.sl,L),o=B==0?U:this.Oh,b=o.x,u=o.y,Z=O.uw.H_(this.CM,this.yV,[o,new eX(b-2,u),new eX(b+2,u),new eX(b,u-2),new eX(b,u+2)]);
if(B==2)Z=[[e>>>16&255,e>>>8&255,e>>>0&255,255]];var I=O.uw.Xb(V,L,U,Z,this.y6.wconf),y=r.R(L.P());r.Hz(this.E1,this.yV,y,L);
r.KF.oA(I,y,y);r.Hz(y,L,this.E1,this.yV);r.L7(y,L,W,n);F=F.slice(1)}if(F=="erase"&&(O.dl.a4f(x)!=16777215||k))F="draw";
if(F=="draw")r.l.X3($.bmode,W,n,V,L,L,$.opacity);else if(F=="erase"){var D=$.opacity;if(this.id==O.vV)D=1;
var N=r.R(L.P()*4);r.sh(W,n,N,L);if(k==null){var j=r.R(L.P());r.Tb(N,j,3);r.LH(j,D);r.sx(j);r.L7(j,L,V,L)}else{r.De(N,0,4278190080);
r.l.X3("norm",N,L,V,L,L,D)}}else if(F=="clone"||F=="heal"){var H=this.Cy(),Q=this.vh.clone();Q.offset(H.x,H.y);
var C=L.clone();C.za(1,1);var J=r.R(C.P()*4),E=r.R(C.P());r.sh(W,n,J,C);r.Tb(J,E,3);r.De(J,0);if(k==null){r.sh(this.H5,Q,J,C);
var T=r.R(C.P());r.Tb(J,T,3);r.RF(T,E)}else O.P1.bm(this.H5,Q,k.color,J,C);if(F=="clone"){r.rW(E,J,3);
r.l.X3($.bmode,J,C,V,L,L,$.opacity)}if(F=="heal"){var c=E.slice(0);r.round(c,20);var a=r.R(C.P()*4);
if(k==null)r.sh(this.CM,this.yV,a,C);else O.P1.bm(this.CM,this.yV,k.color,a,C);r.l.qV(J,C,a,C,c,C,0,C,1,!1);
r.iw.e5(a,c,C);r.l.qV(a,C,V,L,E,C,0,L,1,!1)}}else if(F=="dodge"||F=="burn"){var J=r.R(L.P()*4),p=1,P=0,m=0,z=0;
r.sh(W,n,J,L);var K=L.P()*4,Y=O.P1.mV;if(this.Zf){if(F=="dodge")F="burn";else F="dodge"}var M=$.rng;
if(F=="dodge"){P=[1-p/2,1,1+p][M];m=[1,1/(1+p),1][M];z=[p/2,0,0][M]}if(F=="burn"){P=[1/(1-p/2),1,1-p/2][M];
m=[1,1+p,1][M];z=[-(p/2)/(1-p/2),0,0][M]}for(var w=0;w<K;w+=4){var d=J[w+3];V[w+0]=Y(V[w+0],P,m,z,d);
V[w+1]=Y(V[w+1],P,m,z,d);V[w+2]=Y(V[w+2],P,m,z,d)}}else if(F=="sponge"||F=="redeye"){var J=r.R(L.P()*4),E=r.R(L.P());
r.sh(W,n,J,L);r.Tb(J,E,3);r.Bj(V,J);var A=$.smode;if(this.Zf)A=1-A;var G=ew.Iz("hue2");if(F=="sponge")im.Mm(G,0,[0,[-50,46][A],[6,5][A]]);
else im.Mm(G,1,{Bo:[265,305,25,55],xB:[0,-90,-70]});var kB=a3.So("hue2",G);a3.Pl(kB,J,J,L);r.l.qV(J,L,V,L,E,L,0,L,1,!1)}else if(F=="copy")r.sh(W,n,V,L);
else if(F=="sheal"){var J=r.R(L.P()*4),E=r.R(L.P());r.sh(W,n,J,L);r.Tb(J,E,3);J.fill(0);var q=this.H5,fO=this.vh;
if(k){q=r.R(fO.P()*4);O.P1.bm(this.H5,fO,0,q,fO)}else if(l.GH()&&l.GH().isEnabled){var g=l.GH(),jN=r.R(g.rect.P()*4);
r.sh(q,fO,jN,g.rect);r.rW(g.channel,jN,3);q=jN;fO=g.rect}var c6=r.El.e5(q,fO,E,J,L);if(c6!=0)r.sh(q,fO,J,L);
if(this.y6.sfrom==0)r.sh(J,L,V,L);else{r.sh(this.CM,this.yV,V,L);r.rW(E,J,3);r.l.X3("norm",J,L,V,L,L,1)}}else if(F=="qselect"){var a7=this.yV,bd=a7.m,ey=a7.e,c5=bd*ey,bx=this.g9.Eo(),Z=this.CM,ap=O.FA.wj,E=ap.sg;
E.fill(128);for(var w=0;w<c5;w++){var fC=bx[w<<2],kE=bx[(w<<2)+3];if(kE==255&&(fC==0||fC==255))E[w]=fC}E[0]=E[bd-1]=0;
E[(ey>>>1)*bd]=E[(ey>>>1)*bd+bd-1]=0;O.kW.UN(ap,!0,x);x.u={rect:a7,channel:ap.u.slice(0)};x.eT=!0}if(k==null){if(f)r.rW(i,V,3);
r.sh(V,L,l.buffer,l.rect)}else O.P1.H2(V,L,k)};O.P1.Cy=function(){return null};O.P1.mV=function(x,F,W,n,L){var $=x*(1/255),l=n+F*Math.pow($,W),k=Math.round(l*L+$*(255-L));
return Math.max(0,Math.min(255,k))};O.P1.bm=function(x,F,W,n,L){var $=r.R(L.P());$.fill(W);r.Hz(x,F,$,L);
n.fill(255);r.Mi($,n)};O.P1.H2=function(x,F,W){var n=r.R(F.P());r.ad(x,n);r.Hz(n,F,W.channel,W.rect)};
O.FA=function(x,F,W){O.p9.call(this,x,F,W);this.y6={binop:0,feat:0,cstr:{zs:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.XO=new eX(-1,-1);this.eY=new eX(-1,-1);this.Vv="default";this.gP=null;this.Wb=!1;this.IC=new j1;
this.sV=!1;this.rY=null;this.if=null;this.dz=!1;this.b6=!1};O.FA.prototype=new O.p9;O.FA.prototype.CH=function(){var x=this.y6,F=[x.binop,x.feat],W=x.wconf,n=W.join(",")=="16,true,true";
if(F[0]==0&&F[1]==0&&n)return null;if(!n)F.push(W);return F};O.FA.prototype.LP=function(x,F,W){var n=this.y6;
if(x[0])n.binop=x[0];if(x[1])n.feat=x[1];if(x[2])n.wconf=x[2];this.pS(W)};O.FA.prototype.pS=function(x){var F=new gT(S.E.M,!0);
F.data={d:S.H.QQ,f:this.id,y6:this.y6};x.T(F)};O.FA.wj={key:""};O.FA.Ii=function(x,F,W){var n={Y3:x,Xe:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(F)n.Xe.T=F;if(W!=null)n.Xe.AntA={t:"bool",v:W};return n};O.FA.ue=function(x,F,W){return O.FA.Ii("set",{t:"Objc",v:{classID:x,Top:{t:"UntF",v:{type:"#Pxl",val:F.y}},Left:{t:"UntF",v:{type:"#Pxl",val:F.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:F.y+F.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:F.x+F.m}}}},W)};
O.FA.j9=function(x,F,W){var n=[],L=[],l="set";for(var w=0;w<x.length;w+=2){n.push(x[w]);L.push(x[w+1])}var $={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:n},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:L}]}}}};
if(F)l=["set","addTo","subtractFrom","interfaceWhite"][F];return O.FA.Ii(l,$,W)};O.FA.a2h=function(x,F,W){var n={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:x.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:x.y}}}},L=O.FA.Ii("set",n);
L.Xe.Tlrn={t:"long",v:F[0]};L.Xe.AntA={t:"bool",v:F[1]};L.Xe.Cntg={t:"bool",v:F[2]};if(W==!0)L.Xe.Mrgd={t:"bool",v:W};
return L};O.FA.YT=function(x){return O.FA.Ii("set",{t:"enum",v:{Ordn:x?"Al":"None"}})};O.FA.px=function(x,F,W){var n={classID:"null"};
if(x!="border")n.selectionModifyEffectAtCanvasBounds={t:"bool",v:W};var L={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[x[0]];
n[L]={t:"UntF",v:{type:"#Pxl",val:F}};return{Y3:x,Xe:n}};O.FA.HW=function(x,F,W){var n={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},L={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:F}}]};
if(W)L.v.push({t:"name",v:{classID:"Lyr",val:W}});var $=[{classID:"null",null:n,T:L},{classID:"null",null:L,T:n},{classID:"null",null:L,From:n},{classID:"null",null:L,With:n}],l=["set","add","subtract","interfaceIconFrameDimmed"];
return{Y3:l[x],Xe:$[x]}};O.FA.a1D=function(x,F){var W=new gT(S.E.M,!0);W.data={d:S.H.DD,jL:iC.Yr};if(!F.AU)x.T(W);
W.data={d:S.H.DD,jL:iC.oo};if(!F._X.H9)x.T(W)};O.FA.prototype.LB=function(x,F,W,n,L){O.FA.a1D(F,L);this.gP=F;
var $=x.d,l,k,V=new eu(0,0,W.m,W.e),ie=!1,cT,a_,gs,gq;if($=="fromAction"){var i=x.$V,f=i.Y3,X=i.Xe,s=X?X.selectionModifyEffectAtCanvasBounds:null,R=s&&s.v;
if(f=="colorRange"){if(X.Clrs){var h=X.Clrs.v.Clrs,B=0,e=255,U=["Shdw","Mdtn","Hghl"].indexOf(h),Z=.4;
if(U==0)e=60;else if(U==1){B=100;e=150}else B=190;var o=["shadows","midtones","highlights"][U],b=X[o+"LowerLimit"],u=X[o+"UpperLimit"];
if(b)B=b.v;if(u)e=u.v;var I=X[o+"Fuzziness"];if(I)Z=I.v/100;l=O.FA.cL(W,B,e,Z,!0)}else{var B=X.Mnm.v,e=X.Mxm.v,Z;
B={$_:B.Lmnc.v,V:B.A.v,z:B.B.v};e={$_:e.Lmnc.v,V:e.A.v,z:e.B.v};Z=X.Fzns.v/200;l=O.FA.cL(W,B,e,Z)}k=[7,8]}else if(f=="inverse"){if(W.u==null){alert("No selection!");
return}l={channel:r.R(V.P()),rect:V};r.Hz(W.u.channel,W.u.rect,l.channel,l.rect);r.sx(l.channel);k=[7,2]}else if(f=="expand"){var y=X.By.v.val,D=W.u.rect.clone();
D.za(y,y);var N=r.R(D.P()),j=r.R(D.P());r.Hz(W.u.channel,W.u.rect,j,D);r.style.stroke(j,N,D,y);l={channel:N,rect:D};
k=[7,4]}else if(f=="contract"){var y=X.By.v.val,H=W.u.rect.clone();H.za(1,1);if(!R)H=H.jB(V);var j=r.R(H.P()),Q=r.R(j.length);
r.Hz(W.u.channel,W.u.rect,j,H);r.sx(j);r.style.stroke(j,Q,H,y);r.sx(Q);l={channel:Q,rect:H};r.iv(l);
k=[7,5]}else if(f=="border"){var y=X.Wdth.v.val;l=O.FA.a0u(W.u,y/2,y/2);k=[7,9]}else if(f=="feather"||f=="smoothness"){var y=X.Rds.v.val;
l=O.FA.aBk(W.u,y,f=="smoothness",V,R);k=f=="feather"?[7,6]:[19,3,0]}else if(f=="move"){var C=X.T.v,D=W.u.rect.clone();
D.x+=C.Hrzn.v.val;D.y+=C.Vrtc.v.val;l={channel:W.u.channel,rect:D};k=[7,7]}else if(f=="grow"||f=="similar"){var J=this.y6.wconf.slice(0);
if(X.Tlrn)J[0]=X.Tlrn.v;J[2]=f=="grow";var E=W.Hi(),T=new eu(0,0,W.m,W.e),c=W.u.rect,a=Math.round(Math.sqrt(c.P())/10),K=r.R(T.P());
r.Hz(W.u.channel,c,K,T);var Y=[];for(var p=0;p<c.e;p+=a)for(var P=(c.P()+p)%a;P<c.m;P+=a)if(W.u.channel[p*c.m+P]==255){var m=new eX(c.x+P,c.y+p);
Y.push(m);if(J[2])r.KF.oA(O.uw.Xb(E,T,m,null,J),K,K)}if(!J[2])r.KF.oA(O.uw.Xb(E,T,m,O.uw.H_(E,T,Y),J),K,K);
l={channel:K,rect:T};k=f=="grow"?"Grow Selection":"Similar Selection";console.log(X)}else{var z=X.null.v,M=X.AntA!=null&&X.AntA.v;
function d(ft){var eZ=ft.Top.v.val,jH=ft.Left.v.val;return new eu(jH,eZ,ft.Rght.v.val-jH,ft.Btom.v.val-eZ)}function A(ft){var eZ=ft[0].arr,hf=ft[1].arr,jr={p:[],G:[]};
for(var w=0;w<eZ.length;w++){jr.G.push(w==0?"M":"L");jr.p.push(eZ[w],hf[w])}jr.G.push("Z");return jr}var G=["set","addTo","subtractFrom","interfaceWhite"].indexOf(f),kB=X.T?X.T.v:null;
if(kB&&kB.classID=="Elps"){l=this.ajK(O.nK.a7A(d(kB)));k=[10,4]}else if(kB&&kB.classID=="Rctn"){var q=d(kB);
l={channel:r.R(q.P()),rect:q.clone()};l.channel.fill(255);k=[10,15]}else if(kB&&kB.classID=="ObSl"){var q=d(kB),fO=O.FA.wj,g=fO.rect,jN=fO.sg,c6=g.m,a7=g.e,bd=q.x-g.x,ey=bd+q.m-1,c5=Math.max(bd,Math.min(ey,bd+ey>>>1)),bx=q.y-g.y,ap=bx+q.e-1,fC=Math.max(bx,Math.min(ap,bx+ap>>>1)),kE=Math.max(bd,0),bm=Math.min(ey,c6),fe=Math.max(bx,0),g8=Math.min(ap,a7);
jN.fill(128);if(0<=bx)for(var P=kE;P<bm;P++)jN[bx*c6+P]=0;if(ap<a7)for(var P=kE;P<bm;P++)jN[ap*c6+P]=0;
if(0<=bd)for(var p=fe;p<g8;p++)jN[p*c6+bd]=0;if(ey<c6)for(var p=fe;p<g8;p++)jN[p*c6+ey]=0;var e0=O.DZ.age,cF=Math.round(q.m*e0),ei=Math.round(q.e*e0);
for(var P=Math.max(0,c5-cF);P<Math.min(c6,c5+cF);P++)jN[fC*c6+P]=255;for(var p=Math.max(0,fC-ei);p<Math.min(a7,fC+ei);
p++)jN[p*c6+c5]=255;O.kW.UN(fO,!0);l={channel:fO.u.slice(0),rect:g.clone()};k=[10,44]}else if(kB&&kB.classID=="Plgn"){l=this.ajK(A(kB.Pts.v.arr));
k=[10,9]}else if(kB&&kB.classID=="Pnt"){l=O.uw.af6(W,new eX(kB.Hrzn.v.val,kB.Vrtc.v.val),[X.Tlrn.v,M,X.Cntg==null||X.Cntg.v],X.Mrgd?X.Mrgd.v:!1);
k=[10,12]}else if(kB&&kB.Ordn=="None"){l=null;k=[7,1]}else if(kB&&kB.Ordn=="Al"){var cr=V;if(W.g.length!=0){var e_=W.root.y9(W.g[0]);
while(e_.parent&&e_.parent.parent)e_=e_.parent;if(e_.a.add.artb)cr=e_.a.U$()}l={channel:r.R(cr.P()),rect:cr};
l.channel.fill(255);k=[7,0]}else if(kB&&kB[0]&&kB[0].v.keyID=="WrPt"){var gg={d:"frompath",U0:[-1,0,0]};
this.LB(gg,F,W,n,L);return}else{var bW=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(f),gx=f=="set"?kB:z,dH=gx[0].v.enum,gg;
if(dH=="Trsp"||dH=="Msk"||dH=="vectorMask"||dH=="Trgt"){var eg=W.g[0];if(gx.length==2)eg=ga.CA(W,gx[1]);
var aB=["Trsp","Msk","vectorMask"].indexOf(dH);if(dH=="Trgt"&&W.B[eg].sj==1)aB=1;gg={d:"fromlayer",U0:[eg,aB,bW]}}else{if(gx[0].t=="name"){var eg=0;
for(var w=0;w<W.o2.length;w++)if(W.o2[w].name==gx[0].v.val)eg=w;gg={d:"fromchannel",U0:[-5-eg,0,bW]}}else{var gB=["RGB","Rd","Grn","Bl"].indexOf(dH);
gg={d:"fromchannel",U0:[-1-gB,0,bW]}}}this.LB(gg,F,W,n,L);return}if(l){if(!M)r.round(l.channel);if(X.Fthr)l=O.FA.aBk(l,X.Fthr.v.val,!1);
if(f!="set"&&W.u!=null)l=r.KF.e$(l,W.u,G)}}if(f=="expand"||f=="contract")if(!R&&!V.contains(l.rect)){var jy=l.rect.jB(V),aV=r.R(jy.P());
r.Hz(l.channel,l.rect,aV,jy);l.channel=aV;l.rect=jy}}if($=="qmask"){ie=!0;var kr=W.wm(),T=new eu(0,0,W.m,W.e);
if(kr){l=kr.rect.rr(T)&&r.k4(kr.channel,255)?null:{rect:kr.rect.clone(),channel:kr.channel.slice(0)};
cT=kr}else{l=null;a_=new t.gm;a_.color=0;a_.name="Quick Mask";a_.NZ=!0;if(W.u){a_.rect=W.u.rect.clone();
a_.channel=W.u.channel.slice(0)}else{a_.rect=T;a_.channel=r.R(a_.rect.P());a_.channel.fill(255)}}k=[6,6,1];
W.Md=!0}if($=="setsel"){l=x.u;k=x.Sa}if($=="crange"){var B=x.jw,e=x.IH;l=O.FA.cL(W,B,e,x.Iq);k=[7,8]}if($=="fromlayer"||$=="fromchannel"||$=="frompath"){var iN=x.U0[0],aB=x.U0[1],G=x.U0[2];
if($=="fromlayer"){if(iN==null)iN=W.g[0];var jH=W.B[iN];if(aB==0){var h2=jH.rect,an=jH.buffer;if(h2.ak())return;
var bt=r.R(an.length>>>2);r.Tb(an,bt,3);l={channel:bt,rect:h2.clone()}}else{if(jH.F==null)jH.pZ(W);var kH=aB==1?jH.GH():jH.F;
l=O.FA.a2x(kH,V)}this.track(O.FA.HW(G,["Trsp","Msk"][aB],jH.getName()))}else if($=="frompath"){var js=W.x8(),gA=js[1],js=js[0],iU=!0;
if(iN==null)if(js.length==0||gA.length==0)return;var jR=js[gA[0]];if(iN!=null)for(var w=0;w<js.length;
w++)if(js[w].Fp==iN)jR=js[w];var kH=jR.add.vmsk.GH(),c3=kH.oU();if(c3.P()==0)return;var bt=kH.Jb();if(x.U0[3]!=null)iU=x.U0[3];
if(!iU){bt=bt.slice(0);r.round(bt)}gs=[JSON.stringify(W._H),JSON.stringify(W.TQ)];gq=["[]","[]"];W._H=[];
W.TQ=[];l={channel:bt,rect:c3}}else{if(iN==null)iN=O.FA.av9(W);l=O.FA.awB(W,iN)}if(G!=0&&W.u)l=r.KF.e$(l,W.u,G);
k=[14,11]}if($=="bgrm"){var hn=window.locStor.getItem("bgrmt"),db=60;if(hn==null)hn=0;var dy=O.FA.agq.bind([W,F,x]),c2=Math.floor((Date.now()-hn)/1e3);
if(!ii.vR()&&c2<db){var bk="Non-Premium users can use it once in "+db+" seconds ("+(db-c2)+" sec remain). Watch a short ad and skip waiting?";
hQ.CQ(dy,bk,"rmbg")}else dy();return}if(l!=null&&r.k4(l.channel,0)){l=null;k=[7,1]}if(l)r.iv(l);var cx=new fd(k,this);
cx.data={d:"changesel",u:l,wm:ie,arA:cT,atB:a_,In:gs,auL:gq};W.fC(cx);this.Th(cx.data,W)};O.FA.agq=function(){console.log("remBG");
var x=this[0],F=this[1],W=this[2],n=x.B[x.g[0]],L=n.rect,$=n.buffer,l=1,X="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)fec`[,)%R}SVHnq8l241,*ZN}Jyu =l?580djbW#\"zFDt><n66NUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c";
while(Math.max(L.m,L.e)>4096){var k=r.gR($,L);L=k.rect;$=k.Xu;l*=2}var V=jW.w0("png"),i=jW.w0("jpg"),f=i.Rd([[$.buffer]],L.m,L.e);
X=JSON.parse(c$.m6(X));var L=new XMLHttpRequest;L.open("POST",X[0]);L.setRequestHeader(X[1],X[2]);L.setRequestHeader(X[3],X[4]);
var s=new FormData;s.append("image",new Blob([f],{type:"ima"+"ge/j"+"pg"}));L.send(s);alert(hz.get([23,5])+" ...",2800);
L.onload=function(R){var h=JSON.parse(R.target.response),B=h.results[0].entities[0].image,e=jW.Ip(B),B=V.La(e)[0],U=B.Sf,o=r.R(U.P());
r.ad(new Uint8Array(B.data),o);for(var w=0;w<o.length;w++){if(o[w]>250)o[w]=255}if(l!=1){var k=O.Y.Sz([o,U],new iJ(l,0,0,l,0,0));
U=k.rect;o=k.channel}U.x=n.rect.x;U.y=n.rect.y;var b=new gT(S.E.v,!0);if(W.b==1){b.f=O.c9;b.data={d:t.Tc,au:X[5],arP:!0};
F.T(b);var u=n.GH();u.color=0;u.rect=U;u.channel=o;u.iv();n.pZ()}else if(W.b==2){b.f=O.Yg;b.data={d:"setsel",u:{channel:o,rect:U},Sa:"Select Subject"};
F.T(b)}else throw"e";ii.event("rembg_Rem"+"ove B"+"G:  "+(ii.vR()?"Pre"+"mium":"Free"));window.locStor.setItem("bgrmt",Date.now())}};
O.FA.av9=function(x){var F=0;if(x.kO.length!=0)F=-5-x.kO[0];else if(JSON.stringify(x.U.O)=="[1,1,1]")F=-1;
else F=-2-x.U.O.indexOf(1);return F};O.FA.awB=function(x,F){var W,n=new eu(0,0,x.m,x.e);if(-5<F&F<0){var L=-F-1,$=x.Hi(),l=r.R(n.P());
if(L==0)r.ad($,l);else r.Tb($,l,L-1);W={channel:l,rect:n.clone()}}if(F<-4){W=O.FA.a2x(x.o2[-F-5],n)}return W};
O.FA.a2x=function(x,F){var W,n;if(x.z$()==0){n=x.oU().clone();if(n.P()==0)return;W=x.Jb()}else{n=F;W=r.R(n.P());
x.PM(n,W)}return{channel:W,rect:n}};O.FA.prototype.R0=function(x){return this.sV||x.Pz&&this.id!=O.r2};
O.FA.prototype.Nm=function(x,F,W){var n=new gT(F,!0);n.data=W;x.T(n)};O.FA.prototype.a7C=function(x,F){var W=new gT(S.E.M,!0);
W.data={d:S.H.W_,VD:F};x.T(W)};O.FA.prototype.oU=function(x,F,W){F=x.u==null||this.IC.Ck(1)||this.IC.sB(1)?F:null;
var n=this.XO,L=this.eY;if(W){n.x=Math.max(0,Math.min(x.m,n.x));n.y=Math.max(0,Math.min(x.e,n.y));L.x=Math.max(0,Math.min(x.m,L.x));
L.y=Math.max(0,Math.min(x.e,L.y))}var $=O.bw.R9(n,L,F,!0,this.y6.cstr),l=$[0].x,k=$[0].y,V=new eu(l,k,$[1].x-l,$[1].y-k);
if(W){V.x=Math.max(V.x,0);V.y=Math.max(V.y,0)}return V};O.FA.prototype.pI=function(x,F,W,n,L){this.b6=!0;
if(this.oj())return;this.gP=F;this.Wb=!1;this.IC.pI(n);this.XO=x.U.m$(L.x,L.y);this.XO=O.fI.FW(x,this.XO,W);
if(this.amB(x,this.XO,n)){this.sV=!0;this.rY=x.u.rect.clone();return}this.uT(x,W,n,L);x.U.M2=new eu};
O.FA.prototype.amB=function(x,F,W){var n=W.S(gp.ca),L=W.S(gp.d8);if(x.u&&!n&&!L&&this.y6.binop==0)return r.VY(F,x.u.channel,x.u.rect);
return!1};O.FA.prototype.Lx=function(x,F,W,n,L){this.gP=F;if(this.dz)return;var $=x.U.m$(L.x,L.y);if(eX.I9(this.XO,$)*x.U.Q>5){this.Wb=!0;
this.IC.Lx()}if(n.S(gp.QM)){if(this.if==null)this.if=new eX($.x-this.XO.x,$.y-this.XO.y);this.XO.x=$.x-this.if.x;
this.XO.y=$.y-this.if.y}else this.if=null;this.eY=$;if(!this.sV&&this.id!=O.r2)this.eY=O.fI.FW(x,this.eY,W);
if(this.amB(x,this.eY,n))this.a7C(F,"move");else this.a7C(F,this.Vv);if(this.sV){var l=this.rY.clone();
l.x+=this.eY.x-this.XO.x;l.y+=this.eY.y-this.XO.y;var k=O.fI.QF(x,l,W);x.u.rect.x=Math.round(this.eY.x-this.XO.x+this.rY.x+k[0]);
x.u.rect.y=Math.round(this.eY.y-this.XO.y+this.rY.y+k[1]);x.eT=!0;O.fI.HY(x,l,k);return}this.Fj(x,W,n,L,F);
if(x.U.M2)x.U.M2=this.oU(x,n)};O.FA.prototype.oj=function(){return!1};O.FA.prototype.t8=function(x,F,W,n,L,$){var l=this.b6;
this.b6=!1;if($||!l)return;x.U.M2=null;this.eY=x.U.m$(L.x,L.y);this.eY=O.fI.FW(x,this.eY,W);if(this.sV){this.sV=!1;
if(x!=null&&x.N.kr){x.N.kr=null;x.yW=!0}if(this.eY.rr(this.XO)&&this.rl()==0){this.Nm(F,S.E.BD,O.FA.YT());
return}this.ayD(x,this.rY,x.u.rect.clone());return}this.ji(x,W,n,L,F);O.FA.a1D(F,W);this.IC.t8();this.FY(F)};
O.FA.prototype.ayD=function(x,F,W){var n=x.Ao();if(n!=null&&n.f==this&&n.data.d=="movesel"){}else{n=new fd([7,7],this);
n.data={d:"movesel",Mk:F};x.fC(n)}n.data.Tw=W;this.Th(n.data,x)};O.FA.prototype.u6=function(x,F,W,n,L){this.dz=!0};
O.FA.prototype.Nc=function(x,F,W,n,L){var $=new gT(S.E.M,!0);$.data={d:S.H.QQ,f:this.id,t4:L,Oq:x,gr:W};
F.T($);this.dz=!1};O.FA.prototype.lH=function(x,F,W,n){this.IC.lH(n);if(x!=null&&x.u!=null){var L=n.xa();
if(L.x!=0||L.y!=0){var $=x.u.rect.clone();$.x+=L.x;$.y+=L.y;this.ayD(x,x.u.rect.clone(),$)}}this.FY(F)};
O.FA.prototype.FY=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.QQ,f:this.id,W0:this.rl()};x.T(F)};
O.FA.prototype.rl=function(){var x=this.IC.Ck(0),F=this.IC.sB(0);return O.FA.qQ(this.y6.binop,x,F)};
O.FA.qQ=function(x,F,W){if(F)x=1;if(W)x=2;if(F&&W)x=3;return x};O.FA.prototype.finish=function(x,F,W,n){var L=x.u,$=this.getSelection(x,F,W,n);
if($==null)$=O.FA.YT();else{var l=this.y6.feat,k=this.rl();if(l!=0)$.Xe.Fthr={t:"UntF",v:{type:"#Pxl",val:l}};
if(k!=0&&k!=4)$.Y3=["","addTo","subtractFrom","interfaceWhite",""][k]}this.Nm(this.gP,S.E.BD,$);this.XO.xz(-1,-1);
this.eY.xz(-1,-1)};O.FA.prototype.getSelection=function(x,F,W,n){return null};O.FA.prototype.uT=function(x,F,W,n){};
O.FA.prototype.Fj=function(x,F,W,n){};O.FA.prototype.ji=function(x,F,W,n){};O.FA.prototype.hm=function(x,F){var W=x.d;
if(W=="changesel"){var n=F.u;F.u=x.u;x.u=n}if(W=="movesel")F.u.rect=x.Mk;if(x.wm){if(x.arA){F.kO=[F.o2.length];
F.o2.push(x.arA)}else{F.o2.pop();F.kO=[]}}if(x.In){F._H=JSON.parse(x.In[0]);F.TQ=JSON.parse(x.In[1])}F.eT=!0};
O.FA.prototype.Th=function(x,F){var W=x.d;if(W=="changesel"){var n=F.u;F.u=x.u;x.u=n}if(W=="movesel")F.u.rect=x.Tw;
if(x.wm){if(x.atB){F.kO=[F.o2.length];F.o2.push(x.atB)}else{F.o2.pop();F.kO=[]}}if(x.In){F._H=JSON.parse(x.auL[0]);
F.TQ=JSON.parse(x.auL[1])}F.eT=!0};O.FA.prototype.p$=function(x){return x.d=="changesel"&&x.u?x.u.channel.length:0};
O.FA.prototype.FD=function(x){for(var F in x.y6)this.y6[F]=x.y6[F]};O.FA.prototype.ajK=function(x){var F=r.Z.Gn(x.p);
if(F.ak())return null;var W=r.bz(F.m,F.e);W.save();W.beginPath();W.translate(-F.x,-F.y);Typr.U.pathToContext({cmds:x.G,crds:x.p},W);
W.closePath();W.fill();W.restore();var n=r.R(F.P()),L=W.getImageData(0,0,F.m,F.e);r.Tb(L.data,n,3);return{rect:F,channel:n}};
O.FA.aBk=function(x,F,W,n,L){if(W)F=Math.round(F*.7);var $=Math.ceil(2.6*F),l=x.rect.clone();l.za($,$);
if(n&&!L)l=l.jB(n);var k=r.R(l.P()),V=r.R(k.length);r.Hz(x.channel,x.rect,V,l);r.wG.kt(V,k,l,F);if(W){var i=k.length;
for(var w=0;w<i;w++){var f=(k[w]-128)*F*2.5;k[w]=Math.max(0,Math.min(255,Math.round(128+f)))}}return{channel:k,rect:l}};
O.FA.a0u=function(x,F,W){var n=Math.max(1,Math.ceil(W)),L=x.rect.clone();L.za(n,n);var $=L.P(),l={channel:r.R($),rect:L},k=r.R($);
r.Hz(x.channel,x.rect,k,l.rect);if(W!=0)r.style.stroke(k,l.channel,l.rect,W);else r.Bj(k,l.channel);
var V=r.R($);r.sx(k);if(F!=0)r.style.stroke(k,V,l.rect,F);else r.Bj(k,V);r.KF.jB(l.channel,V,l.channel);
return l};O.FA.cL=function(x,F,W,n,L){var $=new eu(0,0,x.m,x.e),l=x.Hi();if(x.u){var k=x.u.rect.jB($),V=r.R(k.P()*4);
r.sh(l,$,V,k);$=k;l=V}var i=$.P(),f=r.R(i),X=1/n;if(L){if(F>=W)F=W-1;var s=F*(1-n),R=F,h=W,B=W+(255-W)*n,e=s==R?0:1/(R-s),U=h==B?0:1/(B-h);
for(var w=0;w<i;w++){var o=w<<2,b=r.Ns(l[o],l[o+1],l[o+2]),u=0;if(b<s)u=0;else if(b<R)u=(b-s)*e;else if(b<=h)u=1;
else if(b<=B)u=1-(b-h)*U;else u=0;f[w]=l[o+3]*u*u}}else for(var w=0;w<i;w++){var o=w<<2,Z=r.YX(l[o],l[o+1],l[o+2]),u=r.a2U(Z,F,W,n,X);
f[w]=l[o+3]*u}return{rect:$,channel:f}};O.JN=function(){O.P1.call(this,[10,18],O.Jk,"tools/blur");this.yE="copy"};
O.JN.prototype=new O.P1;O.JN.prototype.pI=function(x,F,W,n,L){var $=n.S(gp.d8)?dp.Em:dp.Jk;this.sE(x,W,n,L,this.y6.strn,$);
if(this.g9==null)return;this.VE(x)};O.JN.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);if(this.$i)this.As(x,W,L);
if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};O.WA=function(){O.P1.call(this,[10,0],O.s3,"tools/brush");
this.yE="draw"};O.WA.prototype=new O.P1;O.WA.prototype.pI=function(x,F,W,n,L){if(this.qT(x,F,W,n,L,!0))return;
this.sE(x,W,n,L,this.y6.flow);if(this.g9==null)return;this.VE(x)};O.WA.prototype.Lx=function(x,F,W,n,L){if(this.qT(x,F,W,n,L))return;
this.un(x,F,W);if(this.$i)this.As(x,W,L);if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};
O.aj=function(){O.P1.call(this,[10,42],O.g0,"tools/crepl");this.yE="idraw";this.y6.bmode="hue "};O.aj.prototype=new O.P1;
O.aj.prototype.pI=function(x,F,W,n,L){if(this.qT(x,F,W,n,L,!0))return;this.sE(x,W,n,L,this.y6.flow);
if(this.g9==null)return;this.VE(x)};O.aj.prototype.Lx=function(x,F,W,n,L){if(this.qT(x,F,W,n,L))return;
this.un(x,F,W);if(this.$i)this.As(x,W,L);if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};
O.cc=function(){O.P1.call(this,[10,43],O.A7,"tools/redeye");this.y6.smode=0;this.yE="redeye"};O.cc.prototype=new O.P1;
O.cc.prototype.pI=function(x,F,W,n,L){this.sE(x,W,n,L,this.y6.flow);if(this.g9==null)return;this.VE(x)};
O.cc.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);if(this.$i)this.As(x,W,L);if(this.g9==null)return;
if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};O.CJ=function(){O.P1.call(this,[10,38],O.mU,"tools/pencil");
this.yE="draw"};O.CJ.prototype=new O.P1;O.CJ.prototype.pI=function(x,F,W,n,L){if(this.qT(x,F,W,n,L,!0))return;
this.sE(x,W,n,L,this.y6.flow);if(this.g9==null)return;this.VE(x)};O.CJ.prototype.Lx=function(x,F,W,n,L){if(this.qT(x,F,W,n,L))return;
this.un(x,F,W);if(this.$i)this.As(x,W,L);if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};
O.jQ=function(){O.P1.call(this,[10,22],O.jM,"tools/burn");this.yE="burn"};O.jQ.prototype=new O.P1;O.jQ.prototype.pI=function(x,F,W,n,L){this.sE(x,W,n,L,this.y6.expo/Math.E);
if(this.g9==null)return;this.VE(x)};O.jQ.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);if(this.$i)this.As(x,W,L);
if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};O.dJ=function(x,F,W){O.P1.call(this,x==""?null:x?x:[10,1],F?F:O.DC,W?W:"tools/clone");
this.yE="clone";this.QC=null;this.J=null};O.dJ.prototype=new O.P1;O.dJ.prototype.pI=function(x,F,W,n,L){var $=this.y6,l=$.alt[0];
if(n.S(gp.d8)||n.S(gp.xl)||l){this.QC=x.U.m$(L.x,L.y);this.J=null;if(l)this.c5({alt:[!1]},F);this.ay(x);
this.ee(W,n,x,L);return}if(this.QC==null){alert(hz.get([15,7,0]));return}this.ee(W,n);this.sE(x,W,n,L,this.y6.flow);
if(this.g9==null)return;this.J=this.a1z(x.U.m$(L.x,L.y));this.VE(x)};O.dJ.prototype.a1z=function(x){var F=this.J;
if(F==null||!this.y6.algnd)F=new eX(Math.round(x.x-this.QC.x),Math.round(x.y-this.QC.y));return F};O.dJ.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);
if(this.$i)this.As(x,W,L);if(this.g9==null){if(this.QC!=null)this.ee(W,n,x,L);return}if(!L.Pz||this.QC==null)return;
this.FU(x,W,n,L);this.VE(x)};O.dJ.prototype.Cy=function(){return this.J};O.nf=function(){O.p9.call(this,[10,53],O.a5R,"tools/csamp");
this.ap=-1;this.a05=null};O.nf.prototype=new O.p9;O.nf.prototype.pI=function(x,F,W,n,L){this.a05=JSON.stringify(x.FK);
var $=x.U.m$(L.x,L.y),l=x.FK,k=1e9,V=-1;for(var w=0;w<l.length;w++){var i=l[w],f=$.x-i.x,X=$.y-i.y,s=f*f+X*X;
if(s<k){k=s;V=w}}var R=15/x.U.Q;V=k<R*R?V:-1;if(V==-1){V=l.length;l.push({x:$.x,y:$.y})}else if(n.S(gp.d8)){l.splice(V,1);
V=-1}this.ap=V;x.yW=!0};O.nf.prototype.Lx=function(x,F,W,n,L){var $=this.ap;if($!=-1){var l=x.U.m$(L.x,L.y);
x.FK[$].x=l.x;x.FK[$].y=l.y;x.yW=!0}};O.nf.prototype.t8=function(x,F,W,n,L,$){var l=new fd(this.name,this);
l.data={aG:this.a05,k9:JSON.stringify(x.FK)};x.fC(l);this.ap=-1};O.nf.prototype.hm=function(x,F){F.FK=JSON.parse(x.aG)};
O.nf.prototype.Th=function(x,F){F.FK=JSON.parse(x.k9)};O.f7=function(x,F,W){O.p9.call(this,x,F,W);this.tl={Ds:{zs:0,x:0,y:0},e7:!1,p1:!1};
this.$n=!1;this.et=null;this.cursor=null;this.apk=0;this.Hh=null;this.XO=null;this._D=null;this.LN=!1};
O.f7.prototype=new O.p9;O.f7.prototype.ek=function(){return this.et!=null};O.f7.prototype.R0=function(x){return this.XO!=null||this.et&&this.et.atY()};
O.f7.prototype.pI=function(x,F,W,n,L){this.Hh=L;var $=x.U.m$(L.x,L.y),l=this.tl.Ds,k=l.zs!=0?l.x/l.y:null,V=this.LN;
this.LN=!1;if(this.et){var i=this.et.h7($,x.U.Q);if(V&&i==null){this.et.clear(x);this.et=null}else{this.et.pI(x,W,n,$,k,!1,L);
return}}this.XO=O.fI.FW(x,$,W)};O.f7.prototype.uz=function(x,F,W){if(W==null)W=[x.x,x.y,x.x+x.m,x.y,x.x+x.m,x.y+x.e,x.x,x.y+x.e];
return new fn(W,!0,!1,this.id==O.zw,!0,F,this.id==O.zw?2:0,this.id==O.zw?4:3)};O.f7.prototype.ee=function(x){var F=new gT(S.E.M,!0);
F.data={d:S.H.W_,VD:this.cursor};x.T(F)};O.f7.prototype.enable=function(x,F,W,n){this.gP=F;this.cursor="crosshair";
this.ee(F);if(x!=null&&this.et==null){var L=x.u?{_1:"cropby",acq:3}:{_1:"config",tl:this.tl,a1N:!0};
this.FD(L,F,x,n,W);if(x.u==null&&this.tl.Ds.zs==0)this.LN=!0}};O.f7.prototype.Lx=function(x,F,W,n,L){this.Hh=L;
var $=x.U.m$(L.x,L.y);if(!L.Pz){var l="crosshair";if(this.et){var k=this.et.h7($,x.U.Q,null,L);if(k)l=k;
else l="default"}if(l!=this.cursor){this.cursor=l;this.ee(F)}}if(this.et)this.et.Lx(x,W,n,$);else if(this.XO){if(this.$n){x.N.HV={G:["M","L"],p:[this.XO.x,this.XO.y,$.x,$.y]}}else{var V=O.bw.R9(this.XO,O.fI.FW(x,$,W),n,!0,this.tl.Ds),i=V[0].x,f=V[0].y,X=this._D=new eu(i,f,V[1].x-i,V[1].y-f);
x.N.HV=r.Z.o4(X);O.p9.KO(L,X,x,W)}x.yW=!0}};O.f7.ajD=function(x,F,W){var n,L,k,V;if(F<=W){n=F;L=W}else{n=W;
L=F}var $=x-Math.floor((x+Math.PI)/(2*Math.PI))*2*Math.PI;$=Math.abs($);if($>Math.PI/2)$=Math.PI-$;var l=n/(L*Math.sin($)+n*Math.cos($));
if(F<=W){k=n*l;V=L*l}else{k=L*l;V=n*l}return{Xv:k,eD:V}};O.f7.prototype.t8=function(x,F,W,n,L){this.Hh=L;
var $=x.U.m$(L.x,L.y);if(this.et==null){var l=this._D;if(this.XO&&(l||this.$n)){if(this.$n){var k=this.XO,V=$,i=V.x-k.x,f=V.y-k.y;
if(Math.abs(i)<Math.abs(f))V=new eX(k.x-f,k.y+i);if(k.x>V.x){var X=k;k=V;V=X}var k=Math.atan2(-(V.y-k.y),V.x-k.x),s=O.f7.ajD(k,x.m,x.e);
if(this.tl.p1){var R=r.Z.o4(new eu(0,0,x.m,x.e)),h=new iJ;h.rotate(k);r.Z.i(R.p,h,R.p);s=r.Z.Gn(R.p);
s={Xv:s.m,eD:s.e}}var B=[0,0,s.Xv,0,s.Xv,s.eD,0,s.eD],e=new iJ;e.translate(-s.Xv/2,-s.eD/2);e.rotate(k);
e.translate(x.m/2,x.e/2);r.Z.i(B,e,B);this.et=this.uz(l,!1,B);this.$n=!1}else{var U=this.tl.Ds;this.et=this.uz(l,U.zs!=0)}this.et.XW(x,W);
this._D=null;this.Nm(F,S.E.M,{d:S.H.QQ,f:this.id,hN:!0});this.XO=null;x.N.v7=[];x.N.HV=null;x.yW=!0}return}this.et.t8(x,W,n,$);
this.Nm(F,S.E.M,{d:S.H.QQ,f:this.id,hN:!0});var B=this.et.Pi();if(Math.abs(B[0]-B[4])<2&&Math.abs(B[1]-B[5])<2){this.kf(x,F,null,n);
return}if(Date.now()-this.apk<200&&this.et.yM($)){this.MF(x,W);this.kf(x,F,W,n);return}this.apk=Date.now()};
O.f7.prototype.lH=function(x,F,W,n){var L=this.et;if(L==null||this.Hh&&this.Hh.Pz)return;if(n.S(gp.hI)){this.MF(x,W);
this.kf(x,F,W,n)}else if(n.S(gp.oX)){this.kf(x,F,W,n)}else L.lH(x,W,n)};O.f7.a3q=function(x,F,W){var n={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:x[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:x[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:x[1]+x[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:x[0]+x[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:F!=null?F:0}},Dlt:{t:"bool",v:W!=null?W:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{Y3:"crop",Xe:n}};O.f7.nd=function(x,F){if(F==null)F=[!0,!0,!0,!0];var W={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][x]}}},n=["Top","Left","Btom","Rght"];
for(var w=0;w<4;w++)W[n[w]]={t:"bool",v:F[w]};return{Y3:"trim",Xe:W}};O.f7.a4U=function(x,F,W,n){var L={classID:"null"};
if(n!=null){L.Wdth={t:"UntF",v:{type:"#Pxl",val:x}};L.Hght={t:"UntF",v:{type:"#Pxl",val:F}};L.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][n]}}}if(W!=null)L.Rslt={t:"UntF",v:{type:"#Rsl",val:W}};
return{Y3:"imageSize",Xe:L}};O.f7.aDn=function(x,F,W,n){if(W==null)W=4;if(n==null)n=!1;var L=Math.floor(W/3),$=W%3;
return{Y3:"canvasSize",Xe:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:x}},Hght:{t:"UntF",v:{type:"#Pxl",val:F}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][$]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][L]}},Rltv:{t:"bool",v:n}}}};
O.f7.prototype.LB=function(x,F,W,n,L){var $=new eu(0,0,W.m,W.e),l=[11,3],k=W.Bq,V=W.m/2,i=W.e/2,f=1,z,M,d;
if(x.d=="fromAction"){var X=x.$V,s=X.Y3,R=X.Xe,h=W.m/W.e,B=R.Wdth?R.Wdth.v.val:-1,e=R.Hght?R.Hght.v.val:-1,k=R.Rslt?R.Rslt.v.val:null,U=R.Wdth?R.Wdth.v.type:R.Hght?R.Hght.v.type:-1,o=1,b;
if(U=="#Prc"){if(B!=-1)B=Math.round(W.m*B/100);if(e!=-1)e=Math.round(W.e*e/100)}if(s=="imageSize"){if(R.Intr){if(R.Intr.v.Intp=="Nrst")o=0;
if(R.Intr.v.Intp=="bicubicSharper")o=2;if(B==-1&&e==-1){var u=k/W.Bq;B=Math.round(W.m*u);e=Math.round(W.e*u)}if(R.CnsP&&R.CnsP.v){if(B==-1)B=Math.round(e*h);
if(e==-1)e=Math.round(B/h)}}else{if(U=="#Prc")k=Math.round(W.Bq*(W.m/B));else if(U==-1)k=Math.round(k);
else throw"e";B=W.m;e=W.e}b={d:"imgsize",IU:B,uG:e,MR:k,nq:o}}else if(s=="canvasSize"){if(B==-1)B=W.m;
if(e==-1)e=W.e;if(R.Rltv&&R.Rltv.v==!0){if(R.Wdth)B+=W.m;if(R.Hght)e+=W.e}var Z=R.Vrtc?R.Vrtc.v.VrtL:"Cntr",I=R.Hrzn?R.Hrzn.v.HrzL:"Cntr";
b={d:"canvsize",IU:B,uG:e,TL:3*["Top","Cntr","Btom"].indexOf(Z)+["Left","Cntr","Rght"].indexOf(I)}}else if(s=="revealAll"){b={d:"revealAll"}}else if(s=="trim"){var y={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[R.trimBasedOn.v.trimBasedOn];
if(y==null)throw"e";var D=["Top","Left","Btom","Rght"],N=[!0,!0,!0,!0];for(var w=0;w<4;w++)if(R[D[w]])N[w]=R[D[w]].v;
b={d:"trim",aix:y,ml:N}}else if(s=="crop"){var j,H,Q,C;if(R.T){var J=R.T.v,j=Math.round(J.Left.v.val),H=Math.round(J.Top.v.val),Q=Math.round(J.Rght.v.val)-j,C=Math.round(J.Btom.v.val)-H}else{var E=W.u.rect;
j=E.x;H=E.y;Q=E.m;C=E.e}b={d:"canvsize",IU:Q,uG:C,J:new eX(j,H),adh:R.Dlt!=null&&R.Dlt.v}}else console.log(X);
if(b)this.LB(b,F,W,n,L);return}else if(x.d=="imgsize"){$=new eu(0,0,x.IU,x.uG);if(x.MR)k=x.MR;f=x.nq}else if(x.d=="canvsize"){var T=x.TL!=null?x.TL:0;
$=new eu(0,0,x.IU,x.uG);var c=W.m-x.IU,a=W.e-x.uG,K=Math.round(c/2),Y=Math.round(a/2);if(T==1||T==4||T==7)$.x=K;
if(T==2||T==5||T==8)$.x=c;if(T==3||T==4||T==5)$.y=Y;if(T==6||T==7||T==8)$.y=a;if(x.J){$.x=x.J.x;$.y=x.J.y}}else if(x.d=="rot"&&(x.b+2*Math.PI)%(Math.PI/2)!=0){var p=r.Z.o4($).p,P=new iJ;
P.translate(-V,-i);P.rotate(x.b);P.translate(V,i);r.Z.i(p,P,p);$=r.Z.Gn(p)}else if(x.d=="rot"&&x.b!=Math.PI&&x.b!=-Math.PI){$=new eu(V-W.e/2,i-W.m/2,W.e,W.m);
if((W.m+W.e&1)==1){V=Math.floor(V);i=Math.floor(i);$=new eu(V-Math.floor(W.e/2),i-Math.floor(W.m/2),W.e,W.m);
if((W.m&1)==1&&x.b!=-Math.PI/2)$.y--;if((W.e&1)==1&&x.b==-Math.PI/2)$.x--}}else if(x.d=="trim"){l=[11,12,0];
var m=W.Hi(),E=new eu(0,0,W.m,W.e);$=r.M5(m,E,x.aix,x.ml);if($.ak())$=E}else if(x.d=="revealAll"){l=[11,12,2];
$=W.root.oU(W,!0)}var A=x.d=="canvsize"&&x.adh;if(x.d=="imgsize"||x.d=="rot"||x.d=="scl"||A){var G=new iJ;
if(x.d=="imgsize"){l=[11,10];G.scale(x.IU/W.m,x.uG/W.e);d=W.L6();for(var w=0;w<d[0].length;w++)d[0][w][1]*=d[0][w][0]==0?G.V:G.P9}else if(A){}else{G.translate(-V,-i);
if(x.d=="rot")G.rotate(x.b);if(x.d=="scl")G.scale(x.b.x,x.b.y);G.translate(V,i);l=x.Sa}M=r.D.Mz(G);z=this.aX(W,L,!0,M,f,A?$:null)}else if(x.d=="auto-align"){if(W.g.length<2){alert("Select two or more layers.");
return}var kB=[];for(var w=0;w<W.g.length;w++){var q=W.B[W.g[w]];if(!q.aQ()&&q.add.SoLd==null){alert("Unsupported layer selected.");
return}if(q.rect.ak()){alert("Empty layer selected.");return}kB.push([q.buffer,q.rect])}var fO=r.HO.Je(kB);
if(fO==null){alert("No similarity found.");return}M=fO[1];z=this.aX(W,L,!1,fO,f);$=W.root.oU(W,!0);l=[2,10,1]}var g=new eu(0,0,W.m,W.e);
if(!$.ak()&&(!$.rr(g)||z!=null)){var jN=new fd(l,this);jN.data={ai2:W.Bq,MR:k,Gm:z,E_:M,nJ:O.f7.asH(W,$,g,z!=null)};
if(d){jN.data.arh=W.L6();jN.data.axP=d}O.f7.anM(W,jN.data,$);W.fC(jN);this.Th(jN.data,W)}};O.f7.asH=function(x,F,W,n){if(x.EC.length==0)return null;
var L=JSON.stringify(x.EC),$=JSON.parse(L);O.jH.aeS($,F,W,n);$=JSON.stringify($);return[L,$]};O.f7.prototype.aX=function(x,F,W,n,L,$,l){var k={B:[],UI:null,uy:null};
if(W){for(var w=0;w<x.B.length;w++)k.B.push(w);for(var w=0;w<x.V2.length;w++)k.B.push(-1-w);for(var w=0;
w<x.o2.length;w++)k.B.push(-1e3-w)}else k.B=x.g.slice(0);k.UI=O.Y.__(x,k.B,!0);var V=Math.abs(n[3]*n[1])>1e-9;
O.Y.aV(x,F,k.B,k.UI,L,n,null,!0,V?null:$);if(W&&l&&x.SP()){var i=x.B[x.g[0]],f=i.buffer,X=i.rect,s=V?X.clone():$.clone(),R=r.R(s.P()*4),h=r.R(X.P());
r.Tb(f,h,3);var B=r.R(s.P());r.Hz(h,X,B,s);r.round(B,255);r.sx(B);var e=r.El.e5(f,X,B,R,s);if(e==0){i.rect=s;
i.buffer=R}}k.uy=O.Y.__(x,k.B,!0);return k};O.f7.prototype.Th=function(x,F){if(x.MR)F.Bq=x.MR;if(x.nJ)F.EC=JSON.parse(x.nJ[1]);
if(x.Gm){O.f7.Zt(F,r.D.N9(x.E_));O.Y.y3(F,x.Gm.B,x.Gm.uy);if(x.axP)F.Ox(x.axP)}O.f7.Iv(F,x)};O.f7.prototype.hm=function(x,F){if(x.ai2)F.Bq=x.ai2;
if(x.nJ)F.EC=JSON.parse(x.nJ[0]);O.f7.Ux(F,x);if(x.T8)F.U.J.B1(x.T8);F.a1I();if(x.Gm){var W=r.D.N9(x.E_).clone();
W.sx();O.f7.Zt(F,W);O.Y.y3(F,x.Gm.B,x.Gm.UI);if(x.arh)F.Ox(x.arh)}};O.f7.Zt=function(x,F){for(var w=0;
w<x.B.length;w++){var W=x.B[w];if(W.add.artb==null)continue;var n=r.Z.o4(W.U$()).p;r.Z.i(n,F,n);var L=r.Z.Gn(n);
W.lK(L)}};O.f7.I6=function(x){var F=new eu,W=0,n=x.root.children.length;for(var w=0;w<n;w++){var L=x.root.children[w].a;
if(L.add.artb==null)continue;F=F.oA(L.U$());W++}var $=new eu(0,0,x.m,x.e);if(!F.ak()&&!$.rr(F))return F;
return null};O.f7.tb=function(x){var F=O.f7.I6(x);if(F)O.f7.e7(x,F,!0);return F};O.f7.e7=function(x,F,W){var n=x.m,L=x.e,$=F.m,l=F.e,k=F.x==0&&F.y==0;
if(k&&n==$&&L==l)return;x.m=$;x.e=l;var V=[];for(var w=0;w<x.B.length;w++)V.push(w);if(!k)O.fI.on(x,V,null,-F.x,-F.y);
for(var w=0;w<x.B.length;w++){x.B[w].pZ(x)}x.a1I();if(W){var i=x.U.J,f=x.U.Q;i.x+=Math.round((F.x+($-n)/2)*f);
i.y+=Math.round((F.y+(l-L)/2)*f)}else x.U.J.xz(0,0);if(x.u)x.u.rect.offset(-F.x,-F.y);var X=x.L6();for(var s=0;
s<X[0].length;s++)if(X[1][s]==-1){var R=x.Ul[s];R[1]-=R[0]==0?F.x:F.y}for(var w=0;w<x.o2.length;w++)x.o2[w].rect.offset(-F.x,-F.y)};
O.f7.prototype.FD=function(x,F,W,n,L){if(x._1=="commit"){this.MF(W,L);this.kf(W,F,null,n)}else if(x._1=="cancel"){this.kf(W,F,null,n)}var $=null,l=new eu(0,0,W.m,W.e),k=this.tl.Ds;
if(x._1=="config"){this.tl=x.tl;k=this.tl.Ds;if(W==null||!x.a1N)return;$=l;if(k.zs==1){var V=k.x/k.y;
if($.m/V<$.e)$.e=Math.round($.m/V);else $.m=Math.round($.e*V)}if(k.zs==2){$.m=k.x;$.e=k.y}$.x=Math.round((W.m-$.m)/2);
$.y=Math.round((W.e-$.e)/2)}if(x._1=="straighten"){alert("Draw a line in the image.");this.$n=!0}if(x._1=="cropby"){if(W==null)return;
var i=x.acq,$;if(i==0)$=W.root.oU(W,!0);if(i==1){if(W.g.length==0)alert("No layer is selected.");else{var f=W.root.y9(W.g[0]);
$=f.oU(W,!0)}}if(i==2){if(W.g.length==0)alert("No layer is selected.");else{$=r.M5(W.Hi(),l,0);if($.ak())$=l.clone()}}if(i==3){if(W.u!=null)$=W.u.rect;
else alert("There is no selection.")}if(i==4){$=new eu(0,0,W.m,W.e)}}if($&&$.ak())$=null;if($!=null){this.et=this.uz($,k.zs!=0);
this.et.XW(W,L);this.Nm(F,S.E.M,{d:S.H.QQ,f:this.id,hN:!0})}};O.f7.prototype.HS=function(x,F,W,n){this.Nm(F,S.E.M,{d:S.H.QQ,f:this.id,jV:[x.m,x.e]})};
O.f7.prototype.MF=function(x,F){var W=this.et.Pi(),n=r.Z.Gn(W),L=this.az_(x,W),$=!1,l=this.tl,k=l.Ds,V=l.e7,i=k.x,f=k.y,R;
if(this.id==O.yA&&k.zs==2&&L.P()!=i*f){L=new eu(L.x,L.y,i,f);$=!0}var X=r.D.An(W,L);X=r.D.sx(X);var s=r.D.nG(X),h=Math.atan2(X[3],X[0]),B=new eu(0,0,x.m,x.e);
if(Math.abs(h)>1e-9||!s||$||V||l.p1)R=this.aX(x,F,!0,X,1,n,l.p1);else if(L.rr(B))return;var e=new fd(this.name,this);
e.data={Gm:R,E_:X,T8:x.U.J.clone(),nJ:O.f7.asH(x,L,B,!1)};O.f7.anM(x,e.data,L);x.fC(e);this.Th(e.data,x);
this.track(O.f7.a3q([n.x,n.y,n.m,n.e],null,V))};O.f7.anM=function(x,F,W){if(W==null)return;F.Mk=new eu(0,0,x.m,x.e);
F.Tw=W};O.f7.Iv=function(x,F){if(F.Tw==null)return;O.f7.e7(x,F.Tw)};O.f7.Ux=function(x,F){if(F.Tw==null)return;
var W=F.Mk.clone();W.offset(-F.Tw.x,-F.Tw.y);O.f7.e7(x,W)};O.f7.prototype.az_=function(x,F){var W=r.D.An(F),n=r.D.nG(W),L=r.D.N9(W),$=L.yq,l=L.Ze,k=Math.atan2(L.z,L.V);
L.rotate(k);var V=new eu($,l,L.V,L.P9);if(!n){function i(b,w,u){var Z=b[w]-b[u],I=b[w+1]-b[u+1];return Math.sqrt(Z*Z+I*I)}var f=i(F,0,2),X=i(F,4,6),s=Math.max(f,X),R=i(F,2,4),h=i(F,6,0),B=Math.max(R,h),e=O.f7.Fo(F,x.m/2,x.e/2),U,o;
if(isNaN(e)||e==Infinity||e==-Infinity||Math.min(e,1/e)<.1)e=(f+X)/(R+h);if(s/B>e){U=s*1;o=U/e}else{o=B*1;
U=o*e}V.m=U;V.e=o}V.x=Math.round(V.x);V.y=Math.round(V.y);V.m=Math.round(V.m);V.e=Math.round(V.e);return V};
O.f7.Fo=function(x,F,W){var n=x[0]-F,L=x[1]-W,$=x[2]-F,l=x[3]-W,k=x[6]-F,V=x[7]-W,i=x[4]-F,f=x[5]-W,X=((L-f)*k-(n-i)*V+n*f-L*i)/((l-f)*k-($-i)*V+$*f-l*i),s=((L-f)*$-(n-i)*l+n*f-L*i)/((V-f)*$-(k-i)*l+k*f-V*i),R=-((s*V-L)*(X*l-L)+(s*k-n)*(X*$-n))/((s-1)*(X-1));
function h(e){return e*e}var B=Math.sqrt((h(X-1)+h(X*l-L)/R+h(X*$-n)/R)/(h(s-1)+h(s*V-L)/R+h(s*k-n)/R));
if(X==1&&s==1)B=Math.sqrt((h(l-L)+h($-n))/(h(V-L)+h(k-n)));return B};O.f7.prototype.kf=function(x,F,W,n){if(x==null)return;
if(this.et)this.et.clear(x);this.et=null;this.Nm(F,S.E.M,{d:S.H.QQ,f:this.id,hN:!1})};O.f7.prototype.disable=function(x,F,W,n){if(this.et)this.MF(x,W);
this.kf(x,F,W,n)};O.f7.prototype.Nm=function(x,F,W,n){var L=new gT(F,!0);L.data=W;if(n)L.f=n;x.T(L)};
O.abU=function(){O.f7.call(this,[10,2],O.yA,"tools/rcrop")};O.abU.prototype=new O.f7;O.aqh=function(){O.f7.call(this,[10,39],O.zw,"tools/pcrop")};
O.aqh.prototype=new O.f7;O.Gv=function(){O.P1.call(this,[10,21],O.WV,"tools/dodge");this.yE="dodge"};
O.Gv.prototype=new O.P1;O.Gv.prototype.pI=function(x,F,W,n,L){this.sE(x,W,n,L,this.y6.expo/Math.PI);
if(this.g9==null)return;this.VE(x)};O.Gv.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);if(this.$i)this.As(x,W,L);
if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};O.b0=function(){O.P1.call(this,[10,3],O.xZ,"tools/eraser");
this.yE="erase"};O.b0.prototype=new O.P1;O.b0.prototype.pI=function(x,F,W,n,L){this.sE(x,W,n,L,this.y6.flow);
if(this.g9==null)return;this.VE(x)};O.b0.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);if(this.$i)this.As(x,W,L);
if(this.g9==null)return;if(!L.Pz)return;var $=this.FU(x,W,n,L);this.VE(x)};O.pK=function(){O.P1.call(this,[10,45],O.vV,"tools/beraser");
this.yE="ierase"};O.pK.prototype=new O.P1;O.pK.prototype.pI=function(x,F,W,n,L){if(this.qT(x,F,W,n,L,!0))return;
this.sE(x,W,n,L,this.y6.flow);if(this.g9==null)return;this.VE(x)};O.pK.prototype.Lx=function(x,F,W,n,L){if(this.qT(x,F,W,n,L))return;
this.un(x,F,W);if(this.$i)this.As(x,W,L);if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};
O.II=function(){O.FA.call(this,[10,15],O.Yg,"tools/rselect");this.Vv="crosshair"};O.II.prototype=new O.FA;
O.II.prototype.Fj=function(x,F,W,n){if(!n.Pz||!this.Wb)return;var L=this.oU(x,W,!0);x.N.HV=r.Z.o4(L);
x.yW=!0;O.p9.KO(n,L,x,F)};O.II.prototype.ji=function(x,F,W,n){x.N.HV=null;x.N.v7=[];x.yW=!0;this.finish(x,F,W,n)};
O.II.prototype.getSelection=function(x,F,W,n){if(this.XO.rr(this.eY)||!this.Wb)return null;var L=this.oU(x,W,!0);
if(L.ak())return null;return O.FA.ue("Rctn",L,this.y6.anta)};O.nK=function(){O.FA.call(this,[10,4],O.aai,"tools/eselect");
this.Vv="crosshair"};O.nK.prototype=new O.FA;O.nK.prototype.Fj=function(x,F,W,n){if(!n.Pz||!this.Wb)return;
var L=this.oU(x,W);x.N.HV=O.nK.a7A(L);x.yW=!0;O.p9.KO(n,L,x,F)};O.nK.prototype.ji=function(x,F,W,n){x.N.HV=null;
x.N.v7=[];x.yW=!0;this.finish(x,F,W,n)};O.nK.prototype.getSelection=function(x,F,W,n){if(this.XO.rr(this.eY)||!this.Wb)return null;
var L=this.oU(x,W);if(!L.yU(new eu(0,0,x.m,x.e)))return null;return O.FA.ue("Elps",L,this.y6.anta)};
O.nK.a7A=function(x){var F=x.x,W=x.y,n=x.x+x.m,L=x.y+x.e,$=(F+n)/2,l=(W+L)/2,k=(F-n)/2,V=(W-L)/2,i=.5522848,f={p:[$,l-V],G:["M","C","C","C","C"]};
f.p.push($+i*k,l-V,$+k,l-i*V,$+k,l);f.p.push($+k,l+i*V,$+i*k,l+V,$,l+V);f.p.push($-i*k,l+V,$-k,l+i*V,$-k,l);
f.p.push($-k,l-i*V,$-i*k,l-V,$,l-V);return f};O.c2=function(x){O.p9.call(this,[10,5],x?O.Ym:O.ph,"tools/eyedropper");
this.d5=null;this.a6g=!1;this.KJ=0;this.A9=null;this.gI=1;this.qE=2;this.aCo=!0;this.km=!1};O.c2.prototype=new O.p9;
O.c2.prototype.R0=function(x){return x.Pz};O.c2.prototype.enable=function(x,F,W,n,L){O.p9.prototype.enable.call(this,x,F,W,n,L);
this.a6g=L};O.c2.prototype.LB=function(x,F,W,n,L){if(x.d=="pickhere")this.b7(W,F,L,null,x.ahP);if(x.d=="supertool")this.d5=x.f};
O.c2.prototype.pI=function(x,F,W,n,L){var $=this.d5;if($){$.pI(x,F,W,n,L);return}this.KJ=W.A_;this.A9=L;
var l=this.b7(x,null,W,n,L);this.ee(x,F,l,L)};O.c2.prototype.Lx=function(x,F,W,n,L){var $=this.d5;if($){$.Lx(x,F,W,n,L);
return}var l=this.A9;if(l){var k=L.x-l.x,V=L.y-l.y,i=1,f=new eX(l.x+k*i,l.y+V*i),X=this.b7(x,null,W,n,f);
this.ee(x,F,X,f,new eX(k*(1-i),V*(1-i)))}};O.c2.prototype.ee=function(x,F,W,n,L){var $=this.aCo,l=this.km;
if(x.U.Q>4)l=!1;if(!l&&!$)return;var k=O.c2.axy(x,l,$,n,L,W,this.KJ,this.gI),V=new gT(S.E.M,!0);V.data={d:S.H.W_,VD:k};
F.T(V)};O.c2.prototype.t8=function(x,F,W,n,L,$){var l=this.d5;if(l){l.t8(x,F,W,n,L);return}this.b7(x,F,W,n,L);
if(this.A9){this.A9=null;if($)this.b7(x,F,W,n,L,this.KJ);var k=new gT(S.E.M,!0);k.data={d:S.H.W_,VD:"default"};
F.T(k)}};O.c2.prototype.b7=function(x,F,W,n,L,$){if($==null)$=O.c2.gJ(x,L,this.gI,this.qE);var l=new gT(S.E.M);
l.data={d:S.H.DD,jL:iC.N1,k1:!this.a6g&&n&&n.S(gp.d8)?1:0,b:$};if(F)F.T(l);return $};O.c2.axy=function(x,F,W,n,L,$,l,k){if(L==null)L=new eX(0,0);
var V=new eu(0,0,x.m,x.e),i=x.Hi(),f=12,X=11,s=(f*2+1)*X,R=new eX(s/2,s/2),h=new eu(0,0,s,s),B=r.R(h.P()*4),e=x.U.m$(n.x,n.y),U=Math.floor(e.x),o=Math.floor(e.y),b=new iJ;
b.scale(1/X,1/X);b.translate(U-f,o-f);if(F)r.scale.aod(i,V,b,B,h);var u=(f-3.4)*X,Z=(f-1.7)*X,I=f*X;
for(var y=0;y<s;y++)for(var D=0;D<s;D++){var N=eX.I9(new eX(D,y),R);if(N>u){if(W){var j=Math.max(0,u-N+1),H=(y*s+D)*4,Q=B[H+3]<<24|B[H]<<16|B[H+1]<<8|B[H+2],C=255<<24|(y<I+X*.5?$:l);
if(N>Z){j=Math.max(0,Z-N+1);Q=C;C=4286611584}else if(!F){Q=C&16777215}B[H+0]=(1-j)*(C>>>16&255)+j*(Q>>>16&255);
B[H+1]=(1-j)*(C>>>8&255)+j*(Q>>>8&255);B[H+2]=(1-j)*(C>>>0&255)+j*(Q>>>0&255);B[H+3]=(1-j)*(C>>>24&255)+j*(Q>>>24&255)}if(N>I){B[(y*s+D)*4+3]=Math.max(0,255*(I-N+1))}}}function J(w){var q=w<<2;
B[q]=0;B[q+1]=0;B[q+2]=0;B[q+3]=255}function E(w){var q=w<<2;B[q]=255;B[q+1]=255;B[q+2]=255;B[q+3]=255}var T=k*X+2,c=s-T>>>1,a=c+T-1;
if(F&&T<s)for(var w=0;w<T;w++){var K=c*s+c+w,Y=a*s+c+w,p=(c+w)*s+c,P=(c+w)*s+a;J(K);J(Y);J(p);J(P);if(w!=0&&w!=T-1){E(K+s);
E(Y-s);E(p+1);E(P-1)}}if(!F)for(var w=-9;w<=9;w++){if(-3<w&&w<3)continue;var m=s>>>1,D=m*s+m+w,y=(m+w)*s+m;
E(D-s);J(D);E(D+s);E(y-1);J(y);E(y+1)}var z=$>>>16&255,M=$>>>8&255,d=$>>>0&255,A="RGB "+z+","+M+","+d,G=r.yC([z/255,M/255,d/255]);
if(x.add.fcmy)A="CMYK "+G.map(function(q){return Math.round(q*100)}).join(",");var kB=O.p9.iT(0,0,["#"+r.mZ($),A]),V=kB[1];
V.y=0;V.x=s-V.m>>>1;r.sh(kB[0],V,B,h);return{vj:B,fS:h,C8:new eX(R.x+L.x,R.y+L.y)}};O.c2.gJ=function(x,F,W,n,L){if(n==null)n=2;
var $=x.U.m$(F.x,F.y),l,k,V=x.g.length==1&&x.B[x.g[0]].sj>0&&L!=!0,i=x.kO.length!=0,Z=0,I=0,y=0;if(V||i){var f;
if(i)f=x.o2[x.kO[0]];else{var X=x.B[x.g[0]];f=X.sj==1?X.GH():X.a5H()}k=f.oU();if(!k.U4($))return f.color==0?0:16777215;
l=r.R(k.P()*4);l.fill(255);var s=f.Jb();r.Mi(s,l)}else if(n==0&&x.g.length!=0){var X=x.B[x.g[0]];l=X.buffer;
k=X.rect}else{l=n==2?x.Hi():x.Hi(x.g[0]);k=new eu(0,0,x.m,x.e)}var R=Math.floor($.x)-k.x,h=Math.floor($.y)-k.y,B=(W-1)/2,e=Math.max(0,R-B),U=Math.max(0,h-B),o=Math.min(k.m,R+B+1),b=Math.min(k.e,h+B+1),u=(o-e)*(b-U);
for(var R=e;R<o;R++)for(var h=U;h<b;h++){var w=4*(h*k.m+R);Z+=l[w];I+=l[w+1];y+=l[w+2]}Z=Math.round(Z/u);
I=Math.round(I/u);y=Math.round(y/u);return Z<<16|I<<8|y};O.c2.prototype.FD=function(x){var F=x.y6;this.gI=[1,3,5,11,31][F[0]];
this.qE=F[1];this.aCo=F[2];this.km=F[3]};O.zE=function(){O.p9.call(this,[10,6],O.e9,"tools/gradient");
this.y6={I:JSON.parse(eC.CC.ac4).v,RB:"Lnr",TC:!1,Nx:!1,aur:"norm",BE:1};this.O1=!1;this.rG=null};O.zE.prototype=new O.p9;
O.zE.prototype.enable=function(x,F,W,n){var L=new gT(S.E.M,!0);L.data={d:S.H.W_,VD:"default"};F.T(L)};
O.zE.prototype.FD=function(x){this.y6=x.jL};O.zE.prototype.pI=function(x,F,W,n,L){if(!x.SP())return;
this.rG=x.U.m$(L.x,L.y);this.rG=O.fI.FW(x,this.rG,W);this.O1=!0};O.zE.prototype.Lx=function(x,F,W,n,L){if(!this.O1)return;
var $=x.U.m$(L.x,L.y);$=O.fI.FW(x,$,W);if(n.S(gp.ca))$=O.zE._l(this.rG,$);x.N.HV={p:[this.rG.x,this.rG.y,$.x,$.y],G:["M","L"]};
x.N.sC=[this.rG.x,this.rG.y,$.x,$.y];x.yW=!0};O.zE.prototype.t8=function(x,F,W,n,L){if(!this.O1)return;
var $=x.B[x.g[0]],l=x.U.m$(L.x,L.y);l=O.fI.FW(x,l,W);if(n.S(gp.ca))l=O.zE._l(this.rG,l);var k=l.ZC(this.rG),V=eX.av(this.rG,l,.5),i=Math.atan2(k.y,k.x),f=eX.I9(this.rG,l),X=Math.sin(i),s=Math.cos(i);
if(f>2){var R;if(x.u)R=x.u.rect;else R=new eu(0,0,x.m,x.e);var h=r.R(R.P()*4),B=this.y6,e=B.RB;if(e!="Lnr"){f*=2;
V=this.rG}r.I.wL(B.I,h,R,[s*1/f,X*1/f,-X*1/f,s*1/f],V.x,V.y,B.TC,eC.I.types.indexOf(e),W.A_,W.G8,null,B.Nx);
var U=Math.round(B.BE*256),o=h.length;if(U!=256)for(var w=0;w<o;w+=4)h[w+3]=h[w+3]*U>>>8;var b=new gT(S.E.v);
b.f=O.xZ;b.data={d:"fillBMP",kQ:h,kh:B.aur,Sa:this.name};F.T(b)}x.N.HV=null;x.N.sC=[];x.yW=!0;this.O1=!1};
O.zE.prototype.LB=function(x,F,W,n,L){function $(s){s=s.v;var R=s.Hrzn.v.val,h=s.Vrtc.v.val;return W.U.Q0(R,h)}if(x.d=="fromAction"){var l=this.y6,k=this.y6={};
for(var V in l)k[V]=l[V];var i=x.$V.Xe;if(i.Opct)k.BE=i.Opct.v.val/100;if(i.Dthr)k.Nx=i.Dthr.v;if(i.Grad)k.I=i.Grad.v;
if(i.Type)k.RB=i.Type.v.GrdT;var f=$(i.From),X=$(i.T);this.pI(W,F,L,n,f);this.t8(W,F,L,n,X);this.y6=l}};
O.zE._l=function(x,F){if(x.rr(F))return x;var W=F.x-x.x,n=F.y-x.y,L=Math.abs(W),$=Math.abs(n);if(L>$)$=L/2>$?0:L;
if($>L)L=$/2>L?0:$;L=W>0?L:-L;$=n>0?$:-$;var l=Math.sqrt(W*W+n*n)/Math.sqrt(L*L+$*$);return new eX(x.x+L*l,x.y+$*l)};
O.zE.k7=function(x,F,W,n,L,$,l){var k=new eu(0,0,F,W),V=r.R(F*W*4);r.aq(V,F,W,4);var i=Math.sin(n),f=Math.cos(n),X=r.R(F*W*4);
r.I.wL(x,X,k,[f*1/F,i*1/F,-i*1/W,f*1/W],F/2,W/2,!1,0,L,$);r.l.X3("norm",X,k,V,k,k,1);if(l)return new ImageData(new Uint8ClampedArray(V.buffer),F,W);
else return jW.Lw(V.buffer,F,W,null,null,!0)};O.zE.ae8=function(x,F,W){var n=JSON.parse(JSON.stringify(x));
if(n.Clrs)for(var w=0;w<n.Clrs.v.length;w++){var L=n.Clrs.v[w].v,$=L.Type.v.Clry;if($=="UsrS")continue;
var l=$=="FrgC"?F:W;L.Type.v.Clry="UsrS";L.Clr={t:"Objc",v:r.I.GB({o:l>>16&255,r:l>>8&255,z:l&255})}}return n};
O.ga=function(){O.p9.call(this,[10,7],O.CD,"tools/hand");this.MJ=!1;this.A9=new eX(0,0);this.AB=null;
this.mA=0};O.ga.prototype=new O.p9;O.ga.prototype.FD=function(x,F,W,n){this.MJ=x.MJ};O.ga.prototype.LB=function(x,F,W,n,L){var $=x.d;
if($=="setcls"){W.U.O=x.O;W.yW=!0;W.bA=!0}if($=="scroll"&&!n.S(gp.d8)){if(n.S(gp.Fr))O.ga.dK(W,W.U.J.x-x.zO.y,W.U.J.y-x.zO.x);
else O.ga.dK(W,W.U.J.x-x.zO.x,W.U.J.y-x.zO.y)}};O.ga.prototype.enable=function(x,F,W,n){this.AB=null;
var L=new gT(S.E.M,!0);L.data={d:S.H.W_,VD:"grab"};F.T(L);if(x&&Date.now()-this.mA<300){L.type=S.E.v;
L.f=O._6;L.data={d:"adapt",b:"fitscr"};F.T(L)}this.mA=Date.now()};O.ga.prototype.pI=function(x,F,W,n,L){this.AB=x.U.J.clone();
this.A9.xz(L.x,L.y)};O.ga.prototype.Lx=function(x,F,W,n,L){if(!L.Pz)return;if(this.AB==null)this.pI(x,F,W,n,L);
var $=this.MJ?F.iV:[x];for(var w=0;w<$.length;w++)O.ga.dK($[w],this.AB.x+(L.x-this.A9.x),this.AB.y+(L.y-this.A9.y))};
O.ga.prototype.t8=function(x,F,W,n,L){this.AB=null};O.ga.dK=function(x,F,W){var n=x.U.Q,L=x.U.$f,$=L.m,l=L.e,k=x.m*n,V=x.e*n,i=k<$&&V<l,f=$/2+k/2-64,X=l/2+V/2-64;
x.U.J.xz(Math.max(-f,Math.min(f,F)),Math.max(-X,Math.min(X,W)));x.bA=!0};O.RW=function(){O.p9.call(this,[10,47],O.ZD,"tools/rview");
this.A9=new eX(0,0);this.sl=null;this.Q$=null;this.mA=0};O.RW.prototype=new O.p9;O.RW.prototype.enable=function(x,F,W,n){this.AB=null;
var L=new gT(S.E.M,!0);L.data={d:S.H.W_,VD:"grab"};F.T(L);if(x&&Date.now()-this.mA<300&&x.U.O4!=0){x.U.O4=0;
x.yW=!0}this.mA=Date.now();if(x)this.Tf(x,F)};O.RW.prototype.disable=function(x,F,W,n,L){if(x)this.Tf(x,F)};
O.RW.prototype.OA=function(x,F,W,n){if(x)this.Tf(x,F)};O.RW.prototype.pI=function(x,F,W,n,L){this.A9.xz(L.x,L.y);
var $=x.U;this.sl=$.m$($.$f.m/2,$.$f.e/2);this.Q$=$.gy();var l=$.m$($.$f.m/2,$.$f.e/2),k=Math.min($.$f.m,$.$f.e)*.35/$.Q,V=k*.2,i=l.x,f=l.y;
x.N.HV={G:"M L L L L L".split(" "),p:[i,f,i,f-k,i+V,f,i,f+k,i-V,f,i,f-k]};x.yW=!0};O.RW.prototype.alE=function(x){var F=x.U,W=F.m$(F.$f.m/2,F.$f.e/2);
x.N.HV={G:["M","L"],p:[W.x,W.y,W.x,W.y-200]}};O.RW.prototype.Lx=function(x,F,W,n,L){if(!L.Pz)return;
var $=x.U,l=this.sl,k=this.A9,V=new eX($.$f.m/2,$.$f.e/2),i=Math.atan2(L.y-V.y,L.x-V.x),f=Math.atan2(k.y-V.y,k.x-V.x),X=Math.atan2(this.Q$.z,this.Q$.V),s=i-f,R=Math.PI/4;
if(n.S(gp.ca)){s=X+R*Math.round((s-X)/R)}this.aka(x,F,this.Q$.clone(),l,s)};O.RW.prototype.t8=function(x,F,W,n,L){x.N.HV=null;
x.yW=!0};O.RW.prototype.FD=function(x,F,W,n){this.aka(W,F,null,null,x.YD-W.U.O4);W.U.O4=x.YD};O.RW.prototype.aka=function(x,F,W,n,L){var $=x.U;
if(W==null)W=$.gy();if(n==null)n=$.m$($.$f.m/2,$.$f.e/2);W.translate(-n.x,-n.y);W.rotate(L);W.translate(n.x,n.y);
$.at4(W);if(x.m*$.Q<$.$f.m&&x.e*$.Q<$.$f.e)$.J.xz(0,0);x.yW=!0;this.Tf(x,F)};O.RW.prototype.Tf=function(x,F){var W=new gT(S.E.M,!0);
W.data={d:S.H.QQ,f:this.id,YD:x.U.O4};F.T(W)};O.h9=function(){O.dJ.call(this,[10,25],O.S_,"tools/hbrush")};
O.h9.prototype=new O.dJ("");O.h9.prototype.t8=function(x,F,W,n,L){if(this.g9==null)return;this.Yo(x,"heal",this.g9.Eo(),this.g9.oU(),this.g9.FV());
this.W(x,this.g9.FV());O.P1.prototype.t8.call(this,x,F,W,n,L);if(!this.y6.algnd)this.J=null};O.a6=function(x){O.p9.call(this,x?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],x?O.s7:O.w1,x?"tools/vtype":"tools/htype");
this.zr=[];this.gr=null;this.caller=null;this._T=1;this.bU=null;this.az$=0;this.jJ=0;this.aAs=null;this.Ql=null;
this.tX=null;this.N2=null;this.fp=null;this.cK=null;this.anx=null;this.T3=null;this.et=null;this.eR=null;
this.a7o=null;this.wf=!1;this.oI=!1;this.bJ=!1;this.rQ=null;this.Uk=null;this.acR=null;this.xJ=!1;this.lJ=!1;
this.rP=-1;this.i7=-1;this.gE=document.createElement("textarea");this.gE.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.gE.addEventListener("input",this.y5.bind(this),!1);this.gE.addEventListener("keydown",this.aoE.bind(this),!1);
this.gE.addEventListener("keyup",this.aA2.bind(this),!1)};O.a6.prototype=new O.p9;O.a6.prototype.R0=function(x){return x.Pz};
O.a6.prototype.HS=function(x,F,W,n){if(this.tX!=null||this.id==O.s7)return;this.caller=F;var L=this.adk(x);
if(L.length!=0){var $=null,l=[],k=[];for(var w=0;w<L.length;w++){var V=x.B[L[w]],i=V.add.TySh,f=0,X=iV.YG(i.OU).length-2,s=iV.f3(i.OU,f,X);
iV.Be(s,i.i.NX());if(s.oE.Font!=null)s.oE.Font=s.zf[s.oE.Font].Name;$=s.zf;l.push(s.oE);k.push(s.wt)}var s={zf:$,oE:iV.pY(l),wt:iV.pY(k)};
if(s.oE.Font!=null)iV.hU(s,s.oE.Font);this.apu(F,s,i)}};O.a6.prototype.adk=function(x){var F=[];for(var w=0;
w<x.g.length;w++)if(x.B[x.g[w]]&&x.B[x.g[w]].add.TySh)F.push(x.g[w]);return F};O.a6.prototype.LB=function(x,F,W,n,L){var $=x.d=="insertGlyph",l=x.d=="copyText",k=x.d=="selectAll";
if(($||l||x.d=="insertText"||k)&&this.tX){var V=$?String.fromCharCode(65533):x.b,i=this.gE,f=i.value,X=i.selectionStart,s=i.selectionEnd;
if(l){jh.M0(new Blob([f.slice(X,s)],{type:"text/plain"}))}else if(k){this.rP=i.selectionStart=0;this.i7=i.selectionEnd=f.length;
this.li(W);i.focus()}else{i.value=f.slice(0,X)+V+f.slice(s);i.selectionStart=i.selectionEnd=X+V.length;
this.y5(null,$?x.b:null);i.focus()}}if(x.d=="updateStyles"){if(this.tX==null){var R=this.adk(W),h=!1;
if(R.length!=0){this.y1(W,F,L,R);for(var w=0;w<R.length;w++){var B=W.B[R[w]],e=B.add.TySh;iV.bf(e,this._T);
this.tX=B;var U=iV.YG(e.OU);this.rP=0;this.i7=U.length-1;iV.Aj(e.OU,this.rP,this.i7,this.SQ(L,e));var o=this.Fw(W,L);
if(o==!1)h=!0}if(h){this.xJ=!0;return}this.W3(W,F,!0)}return}this.w8(L)}if(x.d.startsWith("warp")){var b=this.lJ;
if(x.d=="warp"||x.d=="warpCancel"){if(this.tX==null)return;if(x.d=="warp")this.tX.add.TySh.Zb=x.xP;else this.tX.add.TySh.Zb=this.anx;
this.Fw(W,L);if(!b)this.li(W)}if(x.d!="warp")this.gE.focus();if((x.d=="warpConfirm"||x.d=="warpCancel")&&b){this.lJ=!1;
if(x.d=="warpConfirm")this.W3(W,F);else this.Wa(W,F)}}if(x.d=="editCurr"){if(L.Dj!=O.w1){this.bU=L.Dj;
var u=new gT(S.E.M,!0);u.data={d:S.H.Ac,f:O.w1};F.T(u)}if(this.tX!=null)this.disable(W,F,L,n);this.gr=L;
this.caller=F;this.y1(W,F,L,[x.ax]);var U=iV.YG(this.tX.add.TySh.OU);this.rP=0;this.i7=U.length-1;this.li(W);
this.nB();this.gE.focus()}if(x.d=="switchPntPrgr"){if(this.tX)return;var B=W.B[W.g[0]],e=B.add.TySh,Z=e.i.NX(),I=B.JH(),y=JSON.parse(JSON.stringify(e.OU)),D=iV.eQ(y),N=D==1?iV.T$(y):[0,0,Math.round(I.m*1.05/Z),Math.round(I.e*1.25/Z)],j=iV.f3(y,0,0),H=j.zf[j.oE.Font].Name,Q=L.op.Z6(H),C=[0,N[2],N[2]/2][j.wt.Justification%3],J=(Q?iO.OT(Q):.8)*j.oE.FontSize;
iV.xC(y,1-D);if(D==0){console.log(iO.OT(Q,H,j.oE));C=-C;J=-J;iV.J3(y,[0,0,N[2],N[3]])}var E=new iJ(1,0,0,1,C,J);
E.concat(e.i);this.LB({Wf:W.g[0],d:"newED",Vo:y,i:E,aoy:[16,3,D==1?0:1]},F,W,n,L)}if(x.d=="newED"){var B=W.B[x.Wf],e=B.add.TySh,T=this.ow(W,[x.Wf]);
e.OU=x.Vo;if(x.i)e.i=x.i;if(kc.Tq(e,L.op,F)){kc.Fw(B,L.op,W);W.W()}else W.Sv=!0;var c=new fd(x.aoy?x.aoy:this.name,this);
c.data={Qf:T,Vc:this.ow(W,[x.Wf])};W.fC(c)}if(x.d=="fromAction"){var a=x.$V.Xe.Usng.v,K=a.TxtC.v,Y=[];
for(var w=0;w<2;w++){var p=K[w==0?"Hrzn":"Vrtc"].v,V=p.val;if(p.type=="#Prc")V=(w==0?W.m:W.e)*(V/100);
Y[w]=V}this.bV(W,F,L,n,W.U.Q0(Y[0],Y[1]),!0);var B=W.B[W.g[0]],e=B.add.TySh,P=e.OU,f=iV.YG(P);iV.gp(P,0,f.length-1);
iV.yb(P,0,a.Txt.v.replace(/\r/g,"\n"));f=iV.YG(P);for(var D=0;D<2;D++){var m=a[D==0?"Txtt":"paragraphStyleRange"].v;
for(var w=0;w<m.length;w++){var z=m[w].v,X=z.From.v,s=Math.min(z.T.v-1,f.length-1);z=z[D==0?"TxtS":"paragraphStyle"].v;
var M=iV.f3(P,X,s),d=D==0?M.oE:M.wt;for(var A in z){var G=z[A].v;if(A=="Sz")d.FontSize=Math.round(G.val*(G.type=="#Pnt"?W.Bq/72:1));
else if(A=="fontPostScriptName")iV.hU(M,G);else if(A=="Algn")d.Justification={Left:1,Cntr:2}[G.Alg];
else if(A=="leading")d.Leading=z[A].v.val;else if(A=="baselineShift")d.BaselineShift=z[A].v.val;else if(A=="autoLeading")d.AutoLeading=z[A].v;
else if(A=="syntheticBold")d.FauxBold=z[A].v;else if(A=="syntheticItalic")d.FauxItalic=z[A].v;else if(A=="Trck")d.Tracking=z[A].v;
else if(A=="verticalScale")d.VerticalScale=z[A].v/100;else if(A=="horizontalScale")d.HorizontalScale=z[A].v/100;
else if(A=="Clr")d.FillColor={Type:1,Values:[1,G.Rd.v/255,G.Grn.v/255,G.Bl.v/255]}}iV.Aj(P,X,s,M)}}if(kc.OQ(W,L.op,F))kc.Fw(B,L.op,W);
else W.Sv=!0;W.W();this.W3(W,F)}};O.a6.prototype.w8=function(x){var F=Math.min(this.rP,this.i7),W=Math.max(this.rP,this.i7),n=this.tX.add.TySh;
iV.bf(n,this._T);var L=this.SQ(x,n);iV.Aj(n.OU,F,W-1,L);var $=this.caller.eo(),l=this.Fw($,x);if(l)this.li($);
if(document.activeElement.tagName.toLowerCase()!="input")this.gE.focus()};O.a6.prototype.Us=function(x){return this.zr.indexOf(x)!=-1};
O.a6.prototype.enable=function(x,F,W,n){var L=this.gE;F.n.appendChild(L);this.T3="default";this.ee(F)};
O.a6.prototype.ek=function(){return this.tX!=null};O.a6.SM=function(x,F){var W=new eX(F.x,F.y);for(var w=x.B.length-1;
w>=0;w--){var n=x.B[w],L=n.add.TySh;if(L&&x.ag3(w)){var $=W,l=n.rect;if(aH==1){var k=L.i.clone();k.sx();
$=k.dr(W);l=n.jT.hq}if(!l.U4($))continue;var V=n._3(31);return V?-2:w}}return-1};O.a6.prototype.pI=function(x,F,W,n,L){this.gr=W;
this.caller=F;var $=x.U.m$(L.x,L.y),l=this.tX==null;if(l){var k=O.a6.SM(x,$);if(k==-2){alert(hz.get([6,57,0]));
return}if(k>=0&&!n.S(gp.ca)){if(!kc.Tq(x.B[k].add.TySh,W.op,F)){alert("Fonts not loaded yet");return}this.y1(x,F,W,[k])}else{this.bJ=!0;
this.rQ=L;return}}var V=l?-1:iV.eQ(this.tX.add.TySh.OU),i=this.eR?this.eR:this.et,f=i&&i.pI(x,W,n,$,null,null,L)&&r.xP.oK(this.tX.add.TySh.Zb),X=!l&&r.Z.aqw($,this.tX.JH())>20/x.U.Q&&(V==0||V==1);
if(f||X){this.wf=!0;this.Uk=$;this.acR=this.tX.add.TySh.i.clone();if(this.rP==-1&&this.i7==-1)this.rP=this.i7=this.EB($)}else{if(this.fp==null){alert("Fonts not loaded yet");
return}this.oI=!0;this.rP=this.i7=this.EB($);var s=Date.now();if(s-this.az$>300)this.jJ=0;this.jJ++;
this.az$=s;if(this.jJ==2)this.aC7();if(this.jJ==3)this.aye();if(this.jJ>1){this.oI=!1}}this.nB();this.li(x)};
O.a6.prototype.y1=function(x,F,W,n){var L=x.B[n[0]];this.tX=L;this.Nm(F,S.E.M,{d:S.H.QQ,f:this.id,_1:"showactive"});
this.N2=n;x.g=n.slice(0);x.pz();x.XB=!0;this.cK=this.ow(x,n);this.$K(L.add.TySh);this.Fw(x,W)};O.a6.prototype.$K=function(x){if(iV.eQ(x.OU)!=1)return;
var F=iV.T$(x.OU);F=new eu(0,0,F[2]-F[0],F[3]-F[1]);var W=[F.x,F.y,F.x+F.m,F.y,F.x+F.m,F.y+F.e,F.x,F.y+F.e];
r.Z.i(W,x.i,W);this.et=new fn(W,!1,!1,!1,!0);this.et.KB(0)};O.a6.prototype.aC7=function(){var x=iV.YG(this.tX.add.TySh.OU);
this.rP=this.agg(x,this.rP);this.i7=this.a74(x,this.rP)};O.a6.prototype.agg=function(x,F){var W=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",n=[];
for(var w=0;w<W.length;w++)n.push(W.charAt(w));var L=n.indexOf(x[F])==-1?!0:!1;for(var w=F-1;w>=0;w--)if(n.indexOf(x.charAt(w))!=-1==L)return w+1;
return 0};O.a6.prototype.a74=function(x,F){var W=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",n=[];for(var w=0;
w<W.length;w++)n.push(W.charAt(w));var L=n.indexOf(x[F])==-1?!0:!1;for(var w=F+1;w<x.length;w++)if(n.indexOf(x.charAt(w))!=-1==L)return w;
return x.length-1};O.a6.prototype.aye=function(){var x=this.fp.avK(this.rP);this.rP=x[0];this.i7=x[1]};
O.a6.prototype.ee=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.W_,VD:this.T3};x.T(F)};O.a6.prototype.Lx=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y),l=this.tX;
if(!L.Pz){var k="default",V=this.et,i=this.eR?this.eR:V;if(i&&r.xP.oK(l.add.TySh.Zb)){var f=i.h7($,x.U.Q,null,L);
if(f)k=f;else if(i==V&&V.yM($))k="text"}else if(l&&r.Z.aqw($,l.JH())>20/x.U.Q)k="move";else if(O.a6.SM(x,$)>=0)k="text";
if(k!=this.T3){this.T3=k;this.ee(F)}}var X=this.rQ;if(this.bJ&&Math.min(L.x-X.x,L.y-X.y)>4/x.U.Q){this.bJ=!1;
this.bV(x,F,W,n,L);l=this.tX;this.wf=!0;this.et=new fn(null,!1,!1,!1,!0);this.et.KB(0);var s=x.U.m$(this.rQ.x,this.rQ.y);
s.x=Math.round(s.x);s.y=Math.round(s.y);this.et.pI(x,W,n,s,null,null,L,x.U.O4)}if(this.wf){var R=l.add.TySh;
if(this.eR){this.eR.Lx(x,W,n,$);var h=r.D.N9(r.D.An(this.eR.Pi(),this.a7o));R.i=h;this.Fw(x,W);iV.Gj(R)}else if(this.et){this.et.Lx(x,W,n,$);
var B=R.i.clone(),e=Math.atan2(B.z,B.V);B.rotate(e);var h=r.D.N9(r.D.An(this.et.Pi())),U=Math.atan2(h.z,h.V);
h.rotate(U);if(!isNaN(h.V)&&h.V*h.P9-h.z*h.Pu!=0){var o=new eu(0,0,h.V/B.V,h.P9/B.P9),b=Math.round(o.m),u=Math.round(o.e),Z=R.OU.Curve;
if(Z){var I=iV.T$(R.OU),y=new iJ(b/I[2],0,0,u/I[3],0,0);r.Z.i(Z.Points,y,Z.Points);iV.Gj(R)}iV.J3(R.OU,[0,0,b,u]);
R.i=r.D.N9(r.D.An(this.et.Pi(),o));this.Fw(x,W);iV.Gj(R)}}else{var D=$.x-this.Uk.x,N=$.y-this.Uk.y;R.i=this.acR.clone();
var j=new eX(R.i.yq+D,R.i.Ze+N);j=O.fI.FW(x,j,W);R.i.yq=j.x;R.i.Ze=j.y;this.Fw(x,W)}}if(this.oI)this.i7=this.EB($);
if(this.wf||this.oI)this.li(x)};O.a6.prototype.bV=function(x,F,W,n,L,$){var l=x.x8(),k=l[0],V=l[1],i=x.dI();
i.add.lnsr="rend";var f=x.B.slice(0);i.sc("Text layer "+f.length);this.tX=i;var X=x.g.length==0?x.B.length-1:x.g[x.g.length-1],s=X+1;
if(f[X].add.lsct==eD.en)s--;this.cK={Ua:f.slice(0),WZ:x.g.slice(0)};f.splice(s,0,i);x.g=[s];this.rP=this.i7=0;
x.me(f);this.cK.bZ=f.slice(0);this.cK.U_=x.g.slice(0);this.Nm(F,S.E.M,{d:S.H.QQ,f:this.id,_1:"showactive"});
var R=x.U.m$(L.x,L.y),h=W.Sq;console.log(h);if(this.id==O.s7){h=JSON.parse(JSON.stringify(h));h.oE.BaselineDirection=1}i.add.TySh=iV.P3(R.x,R.y,h,x.U.O4);
var B=i.add.TySh,e=B.OU;if(this.id==O.s7)e._LineOrientation=2;iV.bf(B,this._T);if(L.Pz)iV.xC(e,1);else{iV.xC(e,0);
var U=k[V.pop()],o=U?U.add.vmsk:null;if($)o=null;if(o&&!n.S(gp.ca)){o=o.clone();var b=o.$,Z,I;for(var w=0;
w<b.length;w++)if(b[w].eb!=null)b[w].eb=0;var u=5/x.U.Q;Z=r.j.VY(o.$,R,!0,u);if(Z.Fp==-1)Z=r.j.VY(o.$,R);
if(Z.Fp!=-1){iV.xC(e,1);var y=r.j.Of(b,Z.Fp),D=r.j.dy(b,Z.Fp)-1;b=o.$=b.slice(0,2).concat(b.slice(y,y+D+1));
o.g=[];B.add={vmsk:o,vogk:t.oO(b)};e.Curve={};iV.QN(B);if(Z.ln!=null){var N=iO.yD(e.Curve);r.Z.i(N[0],B.i,N[0]);
var j=r.Z.cu(N[0],R.x,R.y),H=W.Sq.wt.Justification;if(H==2||H==5){var Q=(N[2][j]+N[3]*.5)%N[3];j=iO.mS(Q,N[2])}var C=N[1][j];
C=C%D;o.GO=[C,C];iV.QN(B)}else this.$K(B)}}}return i};O.a6.prototype.t8=function(x,F,W,n,L,$){if($){this.bJ=!1;
return}if(this.tX==null&&!this.bJ)return;var l=x.U.m$(L.x,L.y),k=this.bJ;if(this.bJ){this.bJ=!1;this.bV(x,F,W,n,L);
this.oI=!0}if(this.wf||this.oI){this.li(x);this.nB();if(k)this.w8(W)}if(this.wf&&this.et)this.et.t8(x,W,n,l);
this.wf=this.oI=!1;this.gE.focus()};O.a6.prototype.nB=function(){var x=this.tX.add.TySh,F=Math.min(this.rP,this.i7),W=Math.max(this.rP,this.i7),n,L;
if(F==W){var $=iV.YG(x.OU);if(F==0||$.charAt(F-1)=="\n")n=L=F;else n=L=F-1}else{n=F;L=W-1}var l=iV.f3(x.OU,n,L);
iV.Be(l,x.i.NX());this.apu(this.caller,l,x)};O.a6.prototype.apu=function(x,F,W){this.Nm(x,S.E.M,{d:S.H.DD,jL:iC.LC,Sq:F});
var n=this._T=iV.rL(W);this.Nm(this.caller,S.E.M,{d:S.H.QQ,f:this.id,_1:"changeAA",k9:n})};O.a6.prototype.Nc=function(x,F,W,n,L){if(x==null)return;
var $=x.U.m$(L.x,L.y),l=O.a6.SM(x,$);if(l==-1)return;var k=new gT(S.E.M,!0);k.data={d:S.H.QQ,f:this.id,_1:"showpan",a7x:this.tX!=null,ax:l,t4:L,Oq:x,gr:W};
F.T(k)};O.a6.prototype.aC4=function(){var x=this.tX;if(x&&!this.wf&&this.eR!=null){var F=this.caller.eo();
this.eR.t8(F,this.gr,null,null);this.eR=null;this.$K(x.add.TySh);this.li(F)}};O.a6.prototype.disable=function(x,F,W,n){var L=this.tX;
this.W3(x,F)};O.a6.prototype.FD=function(x,F,W,n,L){if(this.lJ)return;if(x._1=="commit")this.W3(W,F);
if(x._1=="cancel")this.Wa(W,F);if(x._1=="changeAA"){this._T=x.k9;if(W!=null)this.LB({d:"updateStyles"},F,W,n,L)}if(x._1=="showwarp"){if(W==null)return;
if(this.tX==null){var $=W.B[W.g[0]],l=$.add.TySh;if(l==null)return;this.y1(W,F,L,[W.g[0]]);this.gE.focus();
this.lJ=!0}this.anx=this.tX.add.TySh.Zb;var k=new gT(S.E.M,!0);k.data={d:S.H.Ar,ip:"textwarp"};F.T(k)}};
O.a6.prototype.AW=function(x,F){if(F!=iC.nx)return;if(this.xJ){this.xJ=!1;var W=this.caller.eo(),n=this.N2;
for(var w=0;w<n.length;w++){this.tX=W.B[n[w]];this.Fw(W,x)}this.W3(W,this.caller);return}if(this.tX)this.w8(x)};
O.a6.prototype.SQ=function(x,F){var W=JSON.parse(JSON.stringify(x.Sq));iV.Be(W,1/F.i.NX());return W};
O.a6.prototype.Th=function(x,F){if(x.Qf!=null)this.vc(F,x.Vc);else this.aav(F,x.bZ,x.U_)};O.a6.prototype.hm=function(x,F){if(x.Qf!=null)this.vc(F,x.Qf);
else this.aav(F,x.Ua,x.WZ)};O.a6.prototype.vc=function(x,F){for(var w=0;w<F.length;w++){var W=F[w],n=W.Wf,L=x.B[n];
L.buffer=W.LK;L.rect=W.fS.clone();L.W();L.jT.aB=null;L.jT.path=null;var $=L.add.TySh;$.Zb=W.xP;$.pX=W.pX.clone();
$.i=W.i.clone();$.OU=JSON.parse(JSON.stringify(W.OU));L.$w()}x.W()};O.a6.prototype.ow=function(x,F){var W=[];
for(var w=0;w<F.length;w++){var n=F[w],L=x.B[n],$=L.add.TySh;W.push({Wf:n,i:$.i.clone(),xP:JSON.parse(JSON.stringify($.Zb)),pX:$.pX.clone(),OU:JSON.parse(JSON.stringify($.OU)),LK:L.buffer.slice(0),fS:L.rect.clone()})}return W};
O.a6.prototype.aav=function(x,F,W){x.g=W;x.me(F);x.W();x.Md=!0};O.a6.prototype.Fw=function(x,F,W){if(W==null)W=!1;
var n=this.tX.add.TySh;if(!kc.Tq(n,F.op,this.caller))return!1;if(!W){var L=iV.YG(n.OU);this.gE.value=L.slice(0,L.length-1)}var $=this.tX.rect,l=kc.Fw(this.tX,F.op,x);
this.fp=l[1];var k=this.fp.Lf();if(r.xP.oK(n.Zb))n.pX=new eu;else{if(iV.eQ(n.OU)==1){var V=iV.T$(n.OU),dx=k.y;
n.pX=new eu(0,dx,V[2]-V[0],V[3]-V[1]-dx)}else n.pX=k}x.vq();if(l[2])x.W(x.root.cn(l[2].fS.oA($),x,x.B.indexOf(this.tX)));
return!0};O.a6.prototype.y5=function(x,F){if(this.tX==null||this.lJ)return;var W=this.gE.selectionStart,n=this.tX.add.TySh,L=iV.YG(n.OU),$=this.gE.value+"\n",l=Math.min(this.rP,this.i7),k=Math.max(this.rP,this.i7),s=!1;
this.rP=Math.min(W,l);if($.length-W<L.length-this.i7)this.i7=L.length-$.length+W;if(L!=$){while(this.rP>0&&L.charAt(this.rP-1)!=$.charAt(this.rP-1))this.rP--}var V=L.substring(0,this.rP),i=L.substring(this.i7,L.length),f=$.substring(this.rP,$.length-i.length);
iV.gp(n.OU,this.rP,this.i7);iV.yb(n.OU,this.rP,f);if(F!=null)iV.aB2(n.OU,this.rP,F);var X=this.SQ(this.gr,n),R=-1,h=Array.from(f);
for(var w=0;w<h.length;w++)R=Math.max(R,h[w].codePointAt(0));if(R!=-1&&R>128&&R!=65533&&X.oE.Font!=null){var B=X.zf[X.oE.Font].Name,e=this.gr.op.h4(R,B,X.zf);
if(B!=e){iV.hU(X,e);s=!0}}if(this.Ql!=null&&f==this.Ql){var U=JSON.parse(this.aAs);X.oE=U.oE;X.zf=U.zf;
s=!0}iV.Aj(n.OU,this.rP,this.rP+f.length-1,X);this.rP=this.i7=V.length+f.length;var o=this.caller.eo(),b=this.Fw(o,this.gr,!0);
if(b)this.li(o,!0);if(s)this.nB()};O.a6.prototype.aA2=function(x){var F=gp;if(!x.ctrlKey)this.aC4();
x.stopPropagation()};O.a6.prototype.aoE=function(x){x.stopPropagation();var F=x.ctrlKey||x.metaKey,W=gp,V=0,i=0,b=0,J=!1;
if(this.tX==null||this.lJ)return;if(this.tX==null)return;if(this.caller.Fg.pJ())return;var n=this.caller.eo();
if(this.eR==null&&F){var L=this.tX.add.TySh,$=iV.eQ(L.OU),l;if($==1){l=iV.T$(L.OU);l=new eu(0,0,l[2]-l[0],l[3]-l[1])}else l=this.fp.Lf();
var k=[l.x,l.y,l.x+l.m,l.y,l.x+l.m,l.y+l.e,l.x,l.y+l.e];r.Z.i(k,L.i,k);this.eR=new fn(k,!0,!0,!1,!1);
this.eR.KB(0);this.a7o=l;this.li(n)}if(W.ii(x.code,W.Oe))V=1;if(W.ii(x.code,W.tY))V=-1;if(W.ii(x.code,W.fH))i=-1;
if(W.ii(x.code,W.ZM))i=1;var f=W.ii(x.code,gp.as),X=W.ii(x.code,gp.ahR);if(W.ii(x.code,gp.hI)&&F){this.W3(n,this.caller);
return}if(W.ii(x.code,gp.oX)){this.Wa(n,this.caller);return}if(W.ii(x.code,gp.fF)){x.preventDefault();
var s=this.gE,R=s.value,h=s.selectionStart,B=s.selectionEnd;s.value=R.substring(0,h)+"\t"+R.substring(B);
s.selectionStart=s.selectionEnd=h+1;this.y5(null);return}var e=W.ii(x.code,W.Yu),U=W.ii(x.code,W.VB);
if(F&&(e||U)){x.preventDefault();var o=new gT(S.E.v,!0);o.f=O._6;o.data={d:"zoom",sm:e};this.caller.T(o)}if(W.ii(x.code,W.X7))b=1;
if(W.ii(x.code,W.CE))b=-1;var u=this.rP==this.i7,Z=F&&x.shiftKey&&b!=0&&!u;if(Z||x.altKey&&V!=0){var I=JSON.parse(JSON.stringify(this.gr.Sq));
if(Z){var y=I.oE.FontSize;if(y==null)y=16;I.oE.FontSize=Math.max(1,y+b*(x.altKey?5:1))}else{if(u){I.oE.Kerning+=20*V;
I.oE.AutoKerning=!1}else I.oE.Tracking+=20*V}x.preventDefault();var D=new gT(S.E.M,!0);D.data={d:S.H.DD,jL:iC.LC,Sq:I};
this.caller.T(D);var o=new gT(S.E.v,!0);o.f=O.w1;o.data={d:"updateStyles"};this.caller.T(o);return}if((W.ii(x.code,W.PA)||W.ii(x.code,W.v0))&&F){var N=this.rP,j=this.i7;
if(N>j){var H=N;N=j;j=H}var L=this.tX.add.TySh,Q=iV.YG(L.OU);if(N!=j){this.Ql=Q.slice(N,j);this.aAs=JSON.stringify(this.gr.Sq)}}var C=iV.YG(this.tX.add.TySh.OU);
if(V!=0||i!=0||f||X){x.preventDefault();var E=this.rP;if(V!=0){if(F&&V==-1)E=this.agg(C,this.rP-1);else if(F&&V==1)E=this.a74(C,this.rP);
else{var s=this.gE,R=s.value;E=this.rP+V;if(E!=0&&R.codePointAt(E-1)>65535)E+=V}}else if(i!=0){var T=this.fp.bd(this.rP);
if(i==-1&&T.I0==0)E=0;else if(i==1&&T.I0==this.fp.aq_()-1)E=99999999999;else E=this.fp.aes(new eX(T.fS.x+T.fS.m/2,0),T.I0+i)}else if(f){var c=this.rP-1;
while(c>0&&C.charCodeAt(c)!=10)c--;E=c==0?0:c+1}else if(X){var c=this.rP;while(c<C.length-1&&C.charCodeAt(c)!=10)c++;
E=c}E=Math.max(0,Math.min(C.length-1,E));if(x.shiftKey)this.rP=E;else this.rP=this.i7=E;J=!0}if(W.ii(x.code,gp.H)&&F){this.rP=0;
this.i7=C.length-1;J=!0}if(J){this.nB();this.li(n)}};O.a6.a0C=function(x,F){var W=x.length;if(W!=F.length)return!1;
for(var w=0;w<W;w++)if(x[w].Wf!=F[w].Wf)return!1;return!0};O.a6.prototype.W3=function(x,F,W){if(this.tX==null)return;
this.tX.$w();var n=this.cK;if(n instanceof Array){var L=this.ow(x,this.N2),$=x.Ao();if($!=null&&$.f==this&&$.data.Qf&&O.a6.a0C($.data.Qf,n)&&W)$.data.Vc=L;
else{var l=new fd(this.name,this);l.data={Qf:n,Vc:L};x.fC(l)}}else{var l=new fd(this.name,this);l.data={Ua:n.Ua,bZ:n.bZ,WZ:n.WZ,U_:n.U_};
x.fC(l)}this.escape(x,F)};O.a6.prototype.Wa=function(x,F){if(this.tX==null)return;if(this.cK instanceof Array){this.vc(x,this.cK);
if(this.tX)iV.Gj(this.tX.add.TySh)}else{x.g=this.cK.WZ;x.me(this.cK.Ua);x.Md=!0}x.W();this.escape(x,F)};
O.a6.prototype.escape=function(x,F){this.aC4();this.tX=null;this.N2=null;this.fp=null;this.et=null;this.gE.blur();
x.N.HV=null;x.N.Ys=null;x.N.sC=[];x.yW=!0;this.wf=!1;this.oI=!1;this.rP=this.i7=-1;this.Nm(F,S.E.M,{d:S.H.QQ,f:this.id,_1:"hideactive"});
if(this.bU){var W=new gT(S.E.M,!0);W.data={d:S.H.Ac,f:this.bU};F.T(W);this.bU=null}};O.a6.prototype.Nm=function(x,F,W,n){var L=new gT(F,!0);
L.data=W;if(n)L.f=n;x.T(L)};O.a6.prototype.EB=function(x){var F=this.tX.add.TySh,W=this.fp,n=F.i.clone();
n.sx();var L=n.dr(x),$=iV.oU(F,W),l=r.xP.Bs(F.Zb,$),k=r.AH.IW(l,L);if(k==null)k=new Float64Array(2);
L=new eX($.x+k[0]*$.m,$.y+k[1]*$.e);if(W.nQ){var V=W.nQ.clone();V.sx();L=V.dr(L)}var i=W.aes(L);return i};
O.a6.prototype.li=function(x,F){if(F==null)F=!1;var W=this.tX.add.TySh,n=iV.eQ(W.OU),L=this.fp,$=L?iV.oU(W,L):null;
x.N.sC=[];x.N.HV=null;x.N.Ys=null;var l=this.eR?this.eR:this.et;if(l){l.XW(x,this.gr,!r.xP.oK(W.Zb));
var k=W.i.clone();k.sx();if(L&&L.nQ&&L.d$==1){var V=L.nQ.clone();V.sx();k.concat(V)}r.Z.i(x.N.sC,k,x.N.sC);
r.Z.i(x.N.HV.p,k,x.N.HV.p);if(L&&L.nQ==null&&L.abM()){var i=$.m-20,f=$.e+8;x.N.HV.p.push(i,f,i+10,f,i+5,f-5,i+5,f+5);
x.N.HV.G.push("M","L","M","L")}}else if(n==0)this.apZ(x,W,L);else x.N.HV={p:[],G:[]};var X=Math.min(this.rP,this.i7),s=Math.max(this.rP,this.i7);
if(!F){this.gE.selectionStart=X;this.gE.selectionEnd=s}if(L!=null){var R=function(l,u){var Z=l.x,I=l.y+l.e,y=new iJ;
y.translate(-Z,-I);y.rotate(-u);y.translate(Z,I);l.y+=l.e*.27;var b=r.Z.o4(l);r.Z.i(b.p,y,b.p);return b};
if(X==s){X=Math.max(X,0);var h=L.bd(X);if(h){var B=h.fS,e=this.gr.Sq.oE.FontSize;if(e!=null&&e!=0){e/=W.i.NX();
B.y+=B.e-e;B.e=e}var U=L.akH(X);if(U!=null&&U.DW==1)B.x+=B.m;var o=R(B,h.O4).p;x.N.HV.G.push("M","L");
x.N.HV.p.push(o[0],o[1]-1,o[6],o[7]-1)}}else{x.N.Ys={p:[],G:[]};for(var w=X;w<s;w++){var h=L.bd(w),b=R(h.fS,h.O4);
r.Z.concat(x.N.Ys,b)}}}x.N.HV=kc.OX(x.N.HV,W,L,!0);x.N.Ys=kc.OX(x.N.Ys,W,L,!0);x.N.sC=kc.OX({p:x.N.sC},W,L,!0).p;
x.yW=!0};O.a6.prototype.apZ=function(x,F,W){if(W==null)return;x.N.sC.push(0,0);if(x.N.HV==null)x.N.HV={G:[],p:[]};
for(var w=0;w<W.wt.length;w++){var n=W.wt[w];for(var L=0;L<n.qR.length;L++){var $=n.qR[L],l=n.GF.x+$.GF.x+$.fS.x,k=n.GF.y+$.GF.y+$.fS.y+$.fS.e;
x.N.HV.G.push("M","L");x.N.HV.p.push(l,k,l+$.fS.m,k)}}x.yW=!0};O.Yi=function(){O.a6.call(this,!0)};O.Yi.prototype=new O.a6;
O.gi=function(x){O.FA.call(this,x?"Magic Replace":[10,9],x?O.a3x:O.r2,x?"tools/mremove":"tools/lasso");
this.Vv="crosshair";this.iy=null;this.rk=null;this.Uk=null};O.gi.prototype=new O.FA;O.gi.prototype.uT=function(x,F,W,n){this.iy=this.XO;
this.rk={p:[this.iy.x,this.iy.y],G:["M"]}};O.gi.prototype.Fj=function(x,F,W,n){this.Uk=n;var L=this.rk;
if(L==null)return;if(!n.Pz){if(this.rk!=null&&this.IC.sB(1)&&W.S(gp.d8)){L.p.pop();L.p.pop();L.p.push(this.eY.x,this.eY.y);
x.N.HV=L;x.yW=!0}return}L.G.push("L");L.p.push(this.eY.x,this.eY.y);this.iy=this.eY;if(this.Wb){x.N.HV=L;
x.yW=!0}};O.gi.prototype.ek=function(){return this.rk!=null};O.gi.prototype.oj=function(){return this.rk!=null};
O.gi.prototype.lH=function(x,F,W,n){O.FA.prototype.lH.call(this,x,F,W,n);if(this.rk&&this.IC.sB(1)&&this.Uk&&!this.Uk.Pz&&!n.S(gp.d8))this.axz(x,W,n)};
O.gi.prototype.ji=function(x,F,W,n){this.Uk=n;var L=this.rk;if(L==null)return;if(this.IC.sB(1)&&W.S(gp.d8)){L.G.push("L");
L.p.push(this.eY.x,this.eY.y);return}this.axz(x,F,W)};O.gi.prototype.axz=function(x,F,W){this.finish(x,F,W,this.Uk);
this.rk=null;x.N.HV=null;x.yW=!0};O.gi.prototype.getSelection=function(x,F,W,n){if(this.XO.rr(this.eY)||!this.Wb)return null;
return O.FA.j9(this.rk.p,null,this.y6.anta)};O.fI=function(){O.p9.call(this,[10,11],O.iY,"tools/move");
this.SG=new eX(0,0);this.uY=new eX(0,0);this.ew=null;this.vn=null;this.jy=new eX(0,0);this.yo=null;this.Mh=null;
this.gP=null;this.mA=0;this.jO=null;this.aY=[];this.G5=null;this.P8=null;this.O1=!1;this.d=0;this.S6=null;
this.wi=null;this.Aq=null;this.im=!1;this.y6={z0:!0,Pw:!1,Pt:!1,ajo:1};this.aAB=!1;this.amO=!1;this.et=null;
this.l2=null;this.R6=null;var x=[];for(var w=0;w<r.uX.k6.length;w++)x.push({name:r.uX.k6[w],w:function(F,W,n){return{BV:W._X.$o==n}}});
this.rp=new g$(x);this.rp.k("select",this.D7,this)};O.fI.prototype=new O.p9;O.p9.prototype.R0=function(x){return this.O1&&this.d!=2};
O.fI.prototype.a5Q=function(){return this.O1&&(this.d==0||this.d==1)};O.fI.prototype.OA=function(x,F,W,n){this.dj(x,-this.jy.x,-this.jy.y);
this.jy.xz(0,0);this.Yw(x,null,W);this.rI(x)};O.fI.prototype.CH=function(){var x=this.y6;return[x.z0?1:0,x.Pw?1:0,x.Pt?1:0]};
O.fI.prototype.LP=function(x,F,W){var n=this.y6;if(x&&x[0]!=null)n.z0=x[0]==1;if(x&&x[1]!=null)n.Pw=x[1]==1;
if(x&&x[2]!=null)n.Pt=x[2]==1;var L=new gT(S.E.M,!0);L.data={d:S.H.QQ,f:this.id,qm:n,a7E:F};W.T(L)};
O.fI.alM=function(x,F,W,n,L,$,l){if(l==null)l=[!1,!0];var k=x.zm(null,L,!0),V,i=L==null?x.g[0]:L;if(x.add.artd&&(L!=null||x.g.length==1)&&x.B[i].add.artb){var f=x.B[i].U$();
V=x.io(k,f,f)[0]}else{var X=new eu(0,0,x.m,x.e),V=x.io(k,l[0]?X:null,l[1]?null:X)[0];delete V.add.artd;
if(l[1]){var s=r.M5(V.Hi(),new eu(0,0,V.m,V.e),2);O.f7.e7(V,s)}}if(W!=1){var R=new eu(0,0,Math.round(V.m*W),Math.round(V.e*W));
O.f7.e7(V,R);var h=[];for(var w=0;w<V.B.length;w++)h.push(w);var B=O.Y.__(V,h,!0);O.f7.Zt(V,new iJ(W,0,0,W,0,0));
O.Y.aV(V,n,h,B,1,r.D.Mz(new iJ(W,0,0,W,0,0)),null,!0);V.KS()}var e=[];for(var w=0;w<F.length;w++)if(V.m*V.e!=0)e.push(jW.Ko(V,F[w].toUpperCase(),null,null,$?$[w]:null,n));
return e};O.fI.prototype.am$=function(x,F,W,n,L){if(x==null||x.g.length==0)return;var $=O.fI.alM(x,[F],W,n,null)[0],l=new gT(S.E.M,!0);
l.data={d:S.H.Ps,data:$,name:x.B[x.g[0]].getName()+(W==1?"":"@"+W+"x")+"."+F};L.T(l)};O.fI.prototype.FD=function(x,F,W,n,L){if(x.k1=="getPNG"){this.am$(W,"png",x.VM,L,F)}else if(x.k1=="getSVG"){this.am$(W,"svg",x.VM,L,F)}if(x.k1=="prms"){this.y6=x;
this.rI(W)}};O.fI.axq=function(x){var dx=x.length,W=0;x.sort(function($,l){return $[0]+$[1]/2-(l[0]+l[1]/2)});
var F=x[dx-1][0]+x[dx-1][1]-x[0][0];for(var w=0;w<dx;w++)W+=x[w][1];var n=Math.round((F-W)/(dx-1)),L=x[0][0];
for(var w=0;w<dx;w++){x[w][0]=L;L+=x[w][1]+n}};O.fI.prototype.LB=function(x,F,W,n,L){var $=x.d;if($=="trsl"){var l=Math.round(x.eH),k=Math.round(x.u7);
this.jy.xz(l,k);this.AK(W,F,n,L,!1,x.a);this.dj(W,l,k);this.Yw(W,null,L)}else if($=="fcmy"||$=="fvec"){var V=["RGB","CMYK"][x.b]+" Color";
if($=="fvec")V=["Raster","Vector"][x.b]+" Mode";var i=new fd(V,this);i.data={d:x.d,aG:W.add[$]==null?0:W.add[$],k9:x.b};
W.fC(i);this.Th(i.data,W)}else if($=="pview"){var $=new fd([8,14],this);$.data={d:x.d};W.fC($);this.Th($.data,W)}else if($=="lockguides"){if(W)W.Rz=!W.Rz}else if($=="gids"||$=="gidsFromLayer"){var f=x.wi,X,s;
if(f==null)f=W.L6();if($=="gids"){X=x.Lb;var R=f[0].length,h=X[0].length;s=R==h?[23,2]:R>h?[23,3]:[23,4];
if(h==0)s=[11,15,0]}else if($=="gidsFromLayer"){var B=[],e=[],U=W.gD();for(var w=0;w<W.g.length;w++){var o=W.B[W.g[w]].rect;
if(o.ak())continue;B.push([0,o.x],[1,o.y],[0,o.x+o.m],[1,o.y+o.e]);e.push(U,U,U,U)}s=[11,15,1];X=W.L6();
O.fI.af(X,[B,e])}if(JSON.stringify(f)==JSON.stringify(X))return;var $=new fd(s,this);$.data={d:2,wi:f,Lb:X};
W.fC($);this.Th($.data,W)}else if($=="algn"){var b=x.b;if(W==null)return;if(W.g.length<2&&!(W.u!=null&&b!=3&&b!=7)){alert(hz.get([15,7,5]));
return}var u=W.u;W.u=null;var o=u?u.rect:O.Y.oU(W);this.AK(W,F,n,L,!1);if(!this.O1)return;var Z=this.jO,I={},y=[],D=[],N=[];
for(var w=0;w<Z.length;w++){var j=Z[w];while(W.B[j].getName()=="</Layer group>")j++;var H=W.root.y9(j),Q=H;
while(H.parent!=null){H=H.parent;if(Z.indexOf(H.index)!=-1)Q=H}var C=D.indexOf(Q.index);if(C==-1){C=D.length;
D.push(Q.index)}y[w]=C}var J=[],E=[],T=[];for(var w=0;w<D.length;w++){var c=O.Y.oU(W,W.zm(!0,D[w]));
T.push(c);var a=b==3?[c.y,c.e]:[c.x,c.m];J[w]=a;E.push(a)}O.fI.axq(E);for(var w=0;w<D.length;w++){var c=T[w],K=c.x,Y=c.y;
if(b==0)K=o.x;if(b==1)K=o.x+(o.m-c.m)/2;if(b==2)K=o.x+(o.m-c.m);if(b==3)Y=J[w][0];if(b==4)Y=o.y;if(b==5)Y=o.y+(o.e-c.e)/2;
if(b==6)Y=o.y+(o.e-c.e);if(b==7)K=J[w][0];N.push(Math.round(K-c.x),Math.round(Y-c.y))}var p=[];for(var w=0;
w<Z.length;w++){var P=y[w];p[2*w]=N[2*P];p[2*w+1]=N[2*P+1]}this.dj(W,0,0,null,p);var m=b==3||b==7?[20,4,6]:[20,4,b<3?b:b-1];
this.Yw(W,null,L,p,m);W.u=u}else if($=="disabAuto"){this.LP([!1],null,F)}};O.fI.af=function(x,F){for(var w=0;
w<F[0].length;w++){var W=F[0][w],n=F[1][w],L=!1;for(var $=0;$<x[0].length;$++){var l=x[0][$],k=x[1][$];
if(W[0]==l[0]&&W[1]==l[1]&&n==k)L=!0}if(!L){x[0].push(W.slice(0));x[1].push(n)}}};O.fI.prototype.enable=function(x,F,W,n,L){this.Mh=W;
this.gP=F;this.im=L?!0:!1;this.rI(x);this.ee("default",F);this.lH(x,F,W,n)};O.fI.prototype.disable=function(x,F,W,n){this.aqi(x)};
O.fI.prototype.aqi=function(x){if(x==null)return;if(this.et){this.et.clear(x);this.et=null}if(x.N.Pt){x.N.Pt=null;
x.yW=!0}if(x.N.kr){x.N.kr=null;x.yW=!0}if(x.N.lI[this.id]){delete x.N.lI[this.id];x.yW=!0}if(x.N.v7.length!=0){x.N.v7=[];
x.yW=!0}};O.fI.prototype.HS=function(x,F,W,n){if(W.Dj!=this.id)return;this.rI(x)};O.fI.prototype.rI=function(x,F){if(x==null)return;
var W=this.y6;this.aqi(x);if(!this.im){var n;if(W.Pw||W.Pt)n=r.Z.Jy(O.Y.oU(x));if(W.Pw&&!n.ak()){var L=x.B[x.g[0]],$=r.Z.o4(n).p;
if(aH==1&&x.g.length==1){if(L.add.vmsk)$=L.add.vmsk.aim();if(L.add.SoLd)$=O.Y.kT(L.add.SoLd.nonAffineTransform);
if(L.add.TySh){$=r.Z.o4(L.jT.hq).p;r.Z.i($,L.add.TySh.i,$)}}this.et=new fn($,!0);this.et.XW(x,this.Mh)}if(W.Pt){var l=null,s=null,R=!1;
if(x.gD()!=-1)l=x.B[x.gD()].U$();else l=new eu(0,0,x.m,x.e);x.N.Pt={Gz:[n],rJ:[]};var k=x.N.Pt.rJ,V=n.x+n.m,i=n.y+n.e,f=n.x+Math.floor(n.m/2),X=n.y+Math.floor(n.e/2);
if(F){var h=x.root.VY(new eX(Math.floor(F.x),Math.floor(F.y)));if(h){s=r.Z.Jy(h.a.JH(x));if(s.yU(n)){R=(s.Ic(n)||n.Ic(s))&&!n.rr(s);
if(!R)s=null}}}this.asE(n,k);if(s!=null){x.N.Pt.Gz.push(s);var B=s.x+s.m,e=s.y+s.e,U=s.x+Math.floor(s.m/2),o=s.y+Math.floor(s.e/2);
if(R){var b=f,u=X;if(n.Ic(s)){b=U;u=o}k.push(n.x,u,s.x,u);k.push(V,u,B,u);k.push(b,n.y,b,s.y);k.push(b,i,b,e)}else{this.asE(s,k);
var Z=i<s.y||e<n.y,I=V<s.x||B<n.x;if(V<s.x)k.push(V,X,s.x,X);if(B<n.x)k.push(B,X,n.x,X);if(i<s.y)k.push(f,i,f,s.y);
if(e<n.y)k.push(f,e,f,n.y);if(Z&&!I){if(n.x<s.x)k.push(n.x,o,s.x,o);if(s.x<n.x)k.push(s.x,X,n.x,X)}}}else{if(n.y>l.y)k.push(f,l.y,f,n.y);
if(i<l.y+l.e)k.push(f,i,f,l.y+l.e);if(n.x>l.x)k.push(l.x,X,n.x,X);if(V<l.x+l.m)k.push(V,X,l.x+l.m,X)}x.yW=!0}}if(this.d==2&&this.O1){var y=new eu(0,0,x.m,x.e),D=x.gD();
if(D!=-1){var N=x.L6(),j=N[1][this.jO];if(j==-1)j=D;y=x.B[j].U$()}var H=x.Ul[this.jO],Q=H[0],C=(Q==0?"X":"Y")+": "+r.uX.e3(H[1]-(Q==0?y.x:y.y),x.Bq,this.Mh,Q==0?y.m:y.e,!0);
O.p9.iT(Math.round(this.ew.x)+10,Math.round(this.ew.y)-10,[C],x);x.yW=!0}if(this.d==3&&this.O1){var J=r.Z.o4(this.S6);
x.N.lI[this.id]={HV:J};x.yW=!0}};O.fI.prototype.asE=function(x,F){var W=x.m,n=x.e,L=x.x+Math.floor(W*.2),$=x.y+Math.floor(n*.2);
F.push(L,x.y,L,x.y+n);F.push(x.x,$,x.x+W,$)};O.fI.prototype.ee=function(x,F){var W={d:S.H.W_,VD:x},n=new gT(S.E.M,!0);
n.data=W;F.T(n)};O.fI.prototype.Y5=function(x){var F=this.l2.wK()[0];if(F==this.R6.length){var W=new gT(S.E.M,!0);
W.data={d:S.H.Li,BW:"psd"};this.gP.T(W);return}var n=this.yo,L=this.R6[F];this.a9j(n,L)};O.fI.prototype.D7=function(x){var F=JSON.parse(JSON.stringify(this.Mh._X));
F.$o=this.rp.wK()[0];var W=new gT(S.E.M,!0);W.data={d:S.H.DD,jL:iC.qt,k9:F};this.gP.T(W)};O.fI.prototype.Nc=function(x,F,W,n,L){if(this.O1)this.t8(x,F,W,n,L);
this.yo=x;this.Mh=W;this.gP=F;var $=x.U.m$(L.x,L.y),l;if(O.fI.B2(W,L,x.U)){l=this.rp}else{if(this.l2)this.l2.removeEventListener("select",this.Y5);
var k=[];x.root.VY($,k);if(k.length==0)return;var V=[];this.R6=k;for(var w=0;w<k.length;w++)V.push({name:x.B[k[w]].getName(),sz:w==k.length-1});
V.push({name:[1,18],PT:!0});l=this.l2=new g$(V);l.k("select",this.Y5,this)}l.parent=F;l._();l.update(x,W);
var i=new gT(S.E.M,!0);i.data={d:S.H.OO,f_:l,x:L.PC+2,y:L.RX+1};F.T(i)};O.fI.prototype.apx=function(x,F,W,n,L){var $=O.fI.VC(x,L);
return $!=-1||O.fI.B2(W,L,x.U)};O.fI.VC=function(x,F){if(x==null||x.add.artd==null)return-1;var W=x.U.m$(F.x,F.y),n=12*O.e1()/x.U.Q;
for(var w=0;w<x.B.length;w++){var L=x.B[w];if(!L.MG()||L.add.artb==null)continue;var $=L.U$(),l=new eu($.x,$.y-1.7*n,n*L.getName().length*.5,n);
if(l.U4(W))return w}return-1};O.fI.prototype.pI=function(x,F,W,n,L){var $=O.fI.VC(x,L),l=O.fI.agY(x,x.U.m$(L.x,L.y));
if($!=-1){x.g=[$];if(W.Dj==O.iY){var k=new gT(S.E.M);k.data={d:S.H.Ac,f:O.wl};F.T(k)}return}if(l!=-1){x.U.LQ=l;
x.bA=!0;var k=new gT(S.E.M,!0);k.data={d:S.H.Tl,ip:bs.Kz.agm};F.T(k);return}this.ew=L;this.SG.xz(L.x,L.y);
this.uY=x.U.m$(L.x,L.y);this.vn=new d0(this.uY);this.AK(x,F,n,W,!0)};O.fI.B2=function(x,F,W,n){var L=r.uX.YW,$=W.$f.e;
return x.TG&&(0<F.x&&F.x<L||0<F.y&&F.y<L||n&&0<F.x&&F.x<4*L&&$-L<F.y&&F.y<$)};O.fI.prototype.AK=function(x,F,W,n,L,$){var l,k=this.uY,V=!1;
if(L){var i=n.AU&&n._X.Ul;if(O.fI.B2(n,this.SG,x.U)){l=x.L6();var f=x.L6(),X=null;if(this.SG.x<r.uX.YW){X=[0,k.x]}if(this.SG.y<r.uX.YW){X=[1,k.y]}f[0].push(X);
f[1].push(x.gD(!0));x.Ox(f);if(!i){var s=new gT(S.E.M);if(!n._X.Ul){s.data={d:S.H.DD,jL:iC.Zq};F.T(s)}if(!n.AU){s.data={d:S.H.DD,jL:iC.Yr};
F.T(s)}i=!0}}var R=this.a7i(x,k);if(i&&R!=null&&!x.Rz){this.d=2;this.wi=l?l:x.L6();this.jO=R;this.O1=!0;
this.P8=O.Y.oU(x);return}if(x.kO.length!=0){this.d=4;this.P8=x.o2[x.kO[0]].rect.clone();this.O1=!0;return}if(this.et&&this.et.h7(k,x.U.Q,!0,this.ew)!=null){var s=new gT(S.E.M);
s.data={d:S.H.Ac,f:O.d9,acb:!0};F.T(s);return}if(x.u&&x.u.rect.U4(k)){var h=Math.round(k.x),B=Math.round(k.y),e=x.u.rect;
V=x.u.channel[(B-e.y)*e.m+h-e.x]>128}if(!V&&(!this.im&&this.y6.z0||this.im&&this.y6.z0&&(W.S(gp.ca)||x.g.length<2))){var U=this.ajX(x,k,W);
if(!U){x.g=[];x.TQ=null;x.Md=x.m3=!0;this.d=3;this.S6=new eu;this.O1=!0;return}}if(W.S(gp.d8)&&!V){var o=new gT(S.E.v);
o.f=O.c9;o.data={d:t.Fu,awa:!0};F.T(o)}}if(x.kO.length!=0){this.d=4;this.P8=x.o2[x.kO[0]].rect.clone();
this.O1=!0;return}this.jO=x.zm($==null,$,null,!0);for(var w=0;w<this.jO.length;w++){var b=this.jO[w],u=x.B[b];
if(u._3(2)||u._3(31)||x.Z2(b)){alert(hz.get([6,57,0]));return}}if(x.add.artd&&L){var Z=this.jO,I=!1;
for(var w=0;w<Z.length;w++)if(x.B[Z[w]].add.artb)I=!0;if(!I){this.G5=[x,x.B.slice(0),x.g.slice(0),-1];
this.jO.sort(function(J,E){return J-E})}}this.aY=O.fI.avF(x,this.jO);this.d=0;if(x.u&&(!L||V)&&x.g.length==1&&x.SP(!1)){if(!x.a56()){this.O1=!1;
return}var y=x.B[x.g[0]],D=W.S(gp.d8);this.d=1;var N=x.history[x.Mw];if(N.f==this&&N.data.d==1&&N.data.a==x.g[0]&&y.sj==y.vp.sj&&!D){this.Aq=N}else{var j=y.vp,H=!1,Q;
if(!y.zG(x,x.u)||D){H=!0;y.Gx(x,x.u,D)}if(y.vp.sj<=0){Q=r.R(y.vp.WS.length>>2);r.Tb(y.vp.WS,Q,3)}else Q=x.u.channel.slice(0);
var C={rect:y.vp.Ce.clone(),channel:Q};this.Aq=new fd(D?[12,53]:[12,54],this);this.Aq.data={d:1,a:x.g[0],vp:y.vp,Nt:j,$X:H,WZ:x.u,U_:C,P9:new eX(0,0)};
x.fC(this.Aq);x.u=C;x.eT=!0}}this.O1=!0;this.P8=O.Y.oU(x)};O.fI.prototype.ajX=function(x,F,W){var n=x.root.VY(new eX(Math.floor(F.x),Math.floor(F.y)));
if(n){if(n.a.add.vmsk)x.yW=!0;var L=x.B.indexOf(n.a);if(this.y6.ajo==0){var $=x.root.y9(L);while($.parent&&$.parent.depth!=0&&$.parent.a.add.artb==null)$=$.parent;
L=$.index}if(W.S(gp.ca)){var l=x.g.indexOf(L);if(l==-1)x.g.push(L);else if(x.g.length>1)x.g.splice(l,1)}else if(x.g.indexOf(L)==-1){this.a9j(x,L)}}return n!=null};
O.fI.prototype.a9j=function(x,F){x.B[F].sj=0;x.g=[F];x.TQ=null;x.pz();x.XB=!0;x.Md=!0};O.fI.agY=function(x,F){var W=x.add.Anno;
if(W==null||W.length==0)return-1;var n=30/x.U.Q;for(var w=0;w<W.length;w++)if(new eu(W[w][0],W[w][1],n,n).U4(F))return w;
return-1};O.fI.prototype.Lx=function(x,F,W,n,L){this.ew=L;var $=x.U.m$(L.x,L.y),R,h;if(this.vn&&this.d<2)$=this.vn.PD($,n);
if(!this.O1){if(W.AU&&W._X.Ul&&x&&!x.Rz){var l=this.a7i(x,$),k="default",V=O.fI.VC(x,L);if(l!=null)k=["col-resize","row-resize"][x.Ul[l][0]];
else if(this.et){var i=this.et.h7($,x.U.Q,null,L);if(i)k=i}else if(V!=-1||O.fI.agY(x,$)!=-1){k="pointer"}this.ee(k,F)}this.rI(x,$);
return}var f=this.uY,X=Math.round($.x-f.x)-this.jy.x,s=Math.round($.y-f.y)-this.jy.y;if(this.P8){if(this.d==2){var B=[];
if(x.u)B.push(x.u.rect);if(this.P8)B.push(this.P8);if(x.U.M2)B.push(x.U.M2);$=O.fI.FW(x,$,W,[!1,B,!0,!0])}else{h=this.P8.clone();
h.offset(this.jy.x+X,this.jy.y+s);R=O.fI.QF(x,h,W);var e=this.vn.aqM(n);if(e==1){R[0]=0;R[2]=1e9}if(e==2){R[1]=0;
R[3]=1e9}X+=Math.round(R[0]);s+=Math.round(R[1])}}this.jy.x+=X;this.jy.y+=s;var U=this.G5;if(U&&x==U[0]){x.me(U[1]);
x.g=U[2].slice(0);U[3]=-1}this.dj(x,X,s,$,null,n.S(gp.ca));if(U&&x==U[0]){var o=this.P8.clone();o.offset(this.jy.x,this.jy.y);
var b=$,V=x.gD(),u=-1;for(var w=0;w<x.B.length;w++){var Z=x.B[w];if(!Z.MG()||Z.add.artb==null)continue;
var I=Z.U$();if(I.U4(b))u=w}if(u!=-1&&u!=V){var y=O.RC.Y6(x,this.jO,u,!0,null,!1);x.me(y[0]);x.g=y[1];
U[3]=u}}this.rI(x,$);if(R)O.fI.HY(x,h,R)};O.fI.prototype.a7i=function(x,F){var W=O.m8(x,this.ew);F=[F.x,F.y];
var n=x.L6(),L=x.gD();for(var w=0;w<n[0].length;w++){var $=n[0][w],l=n[1][w];if(l!=-1&&l!=L)continue;
if(Math.abs($[1]-F[$[0]])<W)return w}return null};O.fI.prototype.dj=function(x,F,W,n,L,$){if(this.d==0){if(L)O.fI.Pn(x,this.jO,this.aY,L);
else O.fI.on(x,this.jO,this.aY,F,W)}else if(this.d==1){var l=this.Aq.data;l.P9.offset(F,W);O.fI.Wr(x,l.a,F,W)}else if(this.d==2){var k=1e-5;
if($)k=x.U.Q<=1?10:1;var V=k*Math.round(n.x/k),i=k*Math.round(n.y/k),f=[V,i],X=x.Ul[this.jO];X[1]=f[X[0]]}else if(this.d==3){var s=this.uY,R=r.Z.Gn([s.x,s.y,n.x,n.y]);
this.S6=R;var h=[];x.root.anI(R,h);if(JSON.stringify(x.g)!=JSON.stringify(h)){x.g=h;x.Md=x.m3=!0}}else if(this.d==4){for(var w=0;
w<x.kO.length;w++)x.o2[x.kO[w]].rect.offset(F,W);x.yW=!0}};O.fI.Wr=function(x,F,W,n){var L=x.B[F];x.u.rect.offset(W,n);
L.FE(x,W,n,x.u);x.eT=!0;x.W()};O.fI.prototype.t8=function(x,F,W,n,L,$){this.Yw(x,L,W);this.rI(x);if(Date.now()-this.mA<300&&!$){var l=O.a6.SM(x,x.U.m$(L.x,L.y));
if(O.fI.B2(W,L,x.U,!0)){var k=new gT(S.E.M);if(L.y>x.U.$f.e-20){k.data={d:S.H.Ar,ip:"doczoom",aG:x.U.Q*100,MT:{K:S.E.v,f:O._6,C:{d:"pzoom"}}}}else{k.data={d:S.H.Ar,ip:"preferences"}}F.T(k)}else if(l>=0){var V=new gT(S.E.v,!0);
V.f=O.w1;V.data={d:"editCurr",ax:l};F.T(V)}}this.mA=Date.now();O.f7.tb(x)};O.fI.prototype.Yw=function(x,F,W,n,L){if(!this.O1)return;
this.O1=!1;if(this.d==0){if(n){this.a3e(x,null,n,L)}else{if(this.jy.x==0&&this.jy.y==0)return;this.a3e(x,this.jy.clone())}x.bA=!0}else if(this.d==2){var $=0;
F=[F.x,F.y];var l=this.jO,k=x.Ul[l],cs=this.wi[0].length,V=x.Ul.length;if(W.TG&&F[k[0]]<r.uX.YW){var i=x.L6();
i[0].splice(l,1);i[1].splice(l,1);x.Ox(i);$=1;if(cs==V-1)return}if(cs<V)$=2;var f=new fd([[23,2],[23,3],[23,4]][$],this);
f.data={d:2,wi:this.wi,Lb:x.L6()};x.fC(f)}else if(this.d==4){var f=new fd([12,54],this);f.data={d:4,g:x.kO.slice(0),J:this.jy.clone()};
x.fC(f)}this.jy.xz(0,0)};O.fI.prototype.lH=function(x,F,W,n){var L=n.xa(x?x.U.O4:0);if(x!=null&&(L.x!=0||L.y!=0)){if(n.S(gp.d8)&&x.u==null){var $=new gT(S.E.v);
$.f=O.c9;$.data={d:t.Fu,awa:!0};F.T($)}this.jy.xz(L.x,L.y);this.AK(x,F,n,W,!1);if(!this.O1)return;this.dj(x,L.x,L.y);
this.Yw(x,null,W);this.rI(x)}var l=n.S(gp.Fr);if(!this.im&&this.amO!=l){if(l){this.aAB=this.y6.z0;this.y6.z0=!0}else{this.y6.z0=this.aAB}this.amO=l;
var k=new gT(S.E.M,!0);k.data={d:S.H.QQ,f:this.id,qm:this.y6};F.T(k)}};O.fI.prototype.hm=function(x,F){if(x.d==0){var W=x.b2;
if(W){F.me(W.Ua);F.g=W.$D.slice(0);F.W();F.Md=!0}O.fI.Pn(F,x.g,x.e_,x.oM,!0);O.f7.tb(F)}else if(x.d=="fcmy"||x.d=="fvec"){if(x.aG==0)delete F.add[x.d];
else F.add[x.d]=x.aG;F.yW=!0}else if(x.d=="pview"){F.da=!F.da;F.W()}else if(x.d==2){F.Ox(x.wi);F.yW=!0}else if(x.d==4){for(var w=0;
w<x.g.length;w++)F.o2[x.g[w]].rect.offset(-x.J.x,-x.J.y);F.yW=!0}else{var n=F.B[x.a];if(x.$X){n.LG(F,x.Nt);
F.u=x.WZ;F.eT=!0;F.W();n.W()}else{O.fI.Wr(F,x.a,-x.P9.x,-x.P9.y)}}};O.fI.prototype.Th=function(x,F){if(x.d==0){O.fI.Pn(F,x.g,x.e_,x.oM);
var W=x.b2;if(W){F.me(W.bZ);F.g=W.bq.slice(0);F.W();F.Md=!0}O.f7.tb(F)}else if(x.d=="fcmy"||x.d=="fvec"){if(x.k9==0)delete F.add[x.d];
else F.add[x.d]=x.k9;F.yW=!0}else if(x.d=="pview"){F.da=!F.da;F.W()}else if(x.d==2){F.Ox(x.Lb);F.yW=!0}else if(x.d==4){for(var w=0;
w<x.g.length;w++)F.o2[x.g[w]].rect.offset(x.J.x,x.J.y);F.yW=!0}else{var n=F.B[x.a];if(x.$X){n.vp=x.vp;
F.u=x.U_;O.fI.Wr(F,x.a,0,0);n.W()}else{O.fI.Wr(F,x.a,x.P9.x,x.P9.y)}}};O.fI.prototype.a3e=function(x,F,W,n){if(W){var L=!0;
for(var w=0;w<W.length;w++)if(W[w]!=0)L=!1;if(L)return}var $=x.history[x.Mw],l=this.G5,k=l!=null&&l[3]!=-1&&l[0]==x;
if(!k&&W==null&&$.data&&$.f==this&&$.data.d==0&&JSON.stringify($.data.g)==JSON.stringify(this.jO)&&JSON.stringify($.data.e_)==JSON.stringify(this.aY)){var V=$.data.oM,i=$.data.agQ.Xe.T.v;
i.Hrzn.v.val+=F.x;i.Vrtc.v.val+=F.y;for(var w=0;w<V.length;w+=2){V[w]+=F.x;V[w+1]+=F.y}}else{if(F==null)F=new eX(W[0],W[1]);
var f={Y3:"move",Xe:{classID:"null",null:ga.oY("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:F.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:F.y}}}}}},X=null;
if(k)X={Ua:l[1],$D:l[2],bZ:x.B.slice(0),bq:x.g.slice(0)};this.G5=null;var s=new fd(n?n:[12,54],this);
if(W)s.data={d:0,g:this.jO,e_:this.aY,b2:X,oM:W};else s.data={d:0,g:this.jO,e_:this.aY,b2:X,oM:O.fI.auZ(this.jO,F.x,F.y)};
s.data.agQ=f;x.fC(s);this.track(f)}};O.fI.auZ=function(x,F,W){var n=[];for(var w=0;w<x.length;w++)n.push(F,W);
return n};O.fI.on=function(x,F,W,n,L){O.fI.Pn(x,F,W,O.fI.auZ(F,n,L))};O.fI.Pn=function(x,F,W,n,L){if(F.length==0)return;
if(W==null){W=[];for(var w=0;w<F.length;w++){W.push(x.B[F[w]].ET(x,!0))}}var $=new eu,l=new eu(0,0,x.m,x.e);
for(var w=0;w<F.length;w++){var k=n[2*w],V=n[2*w+1];if(L){k=-k;V=-V}var i=x.B[F[w]],f=W[w];if(i.add.fxrp&&(f.indexOf(0)!=-1||i.qA()))i.add.fxrp.offset(k,V);
for(var X=0;X<f.length;X++){var s=f[X];if(s==0){i.rect.offset(k,V);if(i.mK()&&i.DU(x))i.DU(x).rect.offset(k,V);
if(i.add.artb){var R=i.U$();R.offset(k,V);i.lK(R);var h=i.add.artb.guideIndeces;h=h?h.v:[];for(var B=0;
B<h.length;B++){var e=x.Ul[h[B].v];e[1]+=e[0]==0?k:V}}if(i.add.TySh){i.add.TySh.i.translate(k,V);if(i.add.TySh.add){i.add.TySh.add.vmsk.offset(k,V)}}if(i.add.SoLd){var U=new iJ(1,0,0,1,k,V),o=i.add.SoLd,b=O.Y.kT(o.Trnf),u=O.Y.kT(o.nonAffineTransform);
r.Z.i(b,U,b);r.Z.i(u,U,u);o.Trnf=O.Y.ud(b);o.nonAffineTransform=O.Y.ud(u);O.Y.aiD(o,U)}}if(s==1)i.GH().rect.offset(k,V);
if(s==2){i.add.vmsk.offset(k,V);if(i.add.vogk)r.mq.i(i.add.vogk,[1,0,k,0,1,V,0,0],[]);if(i.jT.rk){var Z=i.jT.rk.g$.p;
r.Z.i(Z,new iJ(1,0,0,1,k,V),Z)}}if(s==3){i.DU(x).F.rect.offset(k,V);if(f.length==1)i.W()}}if(f.length>0){var I=i.add.GdFl;
if(I==null)I=i.add.PtFl;if(i.qA()&&!i.gS()&&i.add.vmsk!=null&&r.j.Km(i.add.vmsk.$)&&i.add.vmsk.q9==255&&(I==null||I.Algn&&I.Algn.v)){i.rect.offset(k,V)}else i.pZ(x);
var y=x.root.cn(i.JH(x),x,F[w]);if(i.add.artb)y=y.oA(i.U$());$=$.oA(y);y.offset(-k,-V);$=$.oA(y);if(i.VX()&&i.F&&i.F.color==255)$=$.oA(l);
i.a8x()}}x.W(r.Z.Jy($))};O.fI.avF=function(x,F){var W=[];for(var w=0;w<F.length;w++){var n=x.B[F[w]];
W.push(n.ET(x))}return W};O.fI.HY=function(x,F,W){var n={p:[],G:[]},L=F.x+W[0],$=F.y+W[1];if(W[2]!=1e9){n.G.push("M","L");
var l=$+F.e;if(W[4])n.p.push(W[2],Math.min($,l,W[4][1]),W[2],Math.max($,l,W[4][1]));else n.p.push(W[2],$,W[2],$+F.e)}if(W[3]!=1e9){n.G.push("M","L");
var k=L+F.m;if(W[5])n.p.push(Math.min(L,k,W[5][0]),W[3],Math.max(L,k,W[5][0]),W[3]);else n.p.push(L,W[3],k,W[3])}if(n.p.length!=0){x.N.kr=n;
x.yW=!0}};O.fI.FW=function(x,F,W,n){var L=O.fI.ar4(x,[[F.x],[F.y]],W,n);return new eX(F.x+L[0],F.y+L[1])};
O.fI.QF=function(x,F,W,n,L){var $=L==!0?1:.5,l=O.fI.ar4(x,[[F.x,F.x+Math.round(F.m*$),F.x+F.m],[F.y,F.y+Math.round(F.e*$),F.y+F.e]],W,n);
return l};O.fI.ar4=function(x,F,W,n){if(n==null)n=[!0,null,!0];var L=[0,0,1e9,1e9,null,null];if(!W.ya)return L;
var $=JSON.parse(JSON.stringify(F));for(var l=0;l<2;l++){var k=1e9,V=F[l],i=0,f=null;for(var X=0;X<V.length;
X++){var s=O.fI.as3(x,V[X],$[1-l][X],l,W,n),R=s[0];if(R!=1e9)$[l][X]=R;if(R!=1e9&&Math.abs(R-V[X])<Math.abs(k)){k=R-V[X];
i=R;f=s[1]}}if(k!=1e9){L[l]=k;L[l+2]=i;L[l+4]=f}}return L};O.fI.as3=function(x,F,W,n,L,$){var l=1e9,k=null,V=L.my,i=L._X,f=[x.root];
while(f.length!=0&&V[2]){var X=f.pop(),s=X.a,R=s.rect;if(!s.MG())continue;if(X.children)for(var w=0;
w<X.children.length;w++)f.push(X.children[w]);if(x.g.indexOf(X.index)!=-1||R.ak())continue;var h=R.m,B=h>>>1,e=R.e,U=e>>>1,o=l;
if(n==0){if(Math.abs(R.x-F)<Math.abs(l-F))l=R.x;if(Math.abs(R.x+B-F)<Math.abs(l-F))l=R.x+B;if(Math.abs(R.x+h-F)<Math.abs(l-F))l=R.x+h}else{if(Math.abs(R.y-F)<Math.abs(l-F))l=R.y;
if(Math.abs(R.y+U-F)<Math.abs(l-F))l=R.y+U;if(Math.abs(R.y+e-F)<Math.abs(l-F))l=R.y+e}if(o!=l){k=[R.x+B,R.y+U]}}var b=l;
l=1e9;if($[0]&&V[0]&&i.Ul&&L.AU){var u=x.L6(),Z=u[0],I=u[1],y=x.gD();for(var w=0;w<Z.length;w++)if((I[w]==-1||I[w]==y)&&Z[w][0]==n&&Math.abs(Z[w][1]-F)<Math.abs(l-F))l=Z[w][1]}if(V[1]&&i.xg&&L.AU){var D=Math.round(r.uX.aL(i.hh,x.Bq,x.m,i.wq));
if(n==1&&i.MX==1){var N=W*.5*Math.sqrt(4/3),j;D*=Math.sqrt(4/3);j=Math.round((F-N)/D)*D+N;if(Math.abs(j-F)<Math.abs(l-F))l=j;
j=Math.round((F+N)/D)*D-N;if(Math.abs(j-F)<Math.abs(l-F))l=j}else{var j=Math.round(F/D)*D;if(Math.abs(j-F)<Math.abs(l-F))l=j}}var H=x.EC;
if(V[3]&&i.EC&&L.AU&&H.length!=0){for(var w=0;w<H.length;w++){if(!$[2]&&x.oJ.indexOf(w)!=-1)continue;
var Q=O.jH.xM(H,w);for(var C=0;C<3;C+=2)if(Q[C+n]!=F&&Math.abs(Q[C+n]-F)<Math.abs(l-F))l=Q[C+n]}}if($[1])for(var J=0;
J<$[1].length;J++){var R=$[1][J],h=R.m,e=R.e,B=h>>>1,U=e>>>1;if($[3]){B=h/2;U=e/2}var E=[R.x,R.y,R.x+B,R.y+U,R.x+h,R.y+e];
for(var w=0;w<6;w+=2)if(Math.abs(E[w+n]-F)<Math.abs(l-F))l=E[w+n]}if(V[4]){var R=new eu(0,0,x.m,x.e),y=x.gD();
if(y!=-1)R=x.B[y].U$();var h=R.m,e=R.e,B=h>>>1,U=e>>>1;if($[3]){B=h/2;U=e/2}var E=[R.x,R.y,R.x+B,R.y+U,R.x+h,R.y+e];
for(var w=0;w<6;w+=2)if(Math.abs(E[w+n]-F)<Math.abs(l-F))l=E[w+n]}if(Math.abs(l-F)<=Math.abs(b-F))k=null;
else l=b;var T=Math.abs(l-F)<=4*O.e1()/x.U.Q?l:1e9;return[T,k]};O.uw=function(){O.FA.call(this,[10,12],O.dg,"tools/mwand");
this.yl=null};O.uw.prototype=new O.FA;O.uw.prototype.uT=function(x,F,W,n){this.yl=n;this.auk=this.y6.wconf[0];
this.finish(x,F,W,n)};O.uw.prototype.Fj=function(x,F,W,n,L){if(!n.Pz)return;var $=new gT(S.E.v);$.f=O.o7;
$.data={d:"h_stepbck"};L.T($);var l=n.x-this.yl.x,k=Math.max(0,Math.min(255,Math.round(this.auk+l/4)));
this.y6.wconf[0]=k;this.pS(L);this.finish(x,F,W,this.yl)};O.uw.prototype.ji=function(x,F,W,n,L){this.y6.wconf[0]=this.auk;
this.pS(L)};O.uw.prototype.getSelection=function(x,F,W,n){var L=this.eY;L=x.U.m$(n.x,n.y);var $=O.FA.a2h(new eX(Math.floor(L.x),Math.floor(L.y)),this.y6.wconf,this.y6.sall);
return $};O.uw.af6=function(x,F,W,n,L){if(F.x<0||F.x>x.m||F.y<0||F.y>x.e)return null;var $,l=new eu(0,0,x.m,x.e);
if(n)$=x.Hi();else{var k=x.g.length,i=null;if(k!=1){alert(k==0?"No layer selected.":"More than one layer selected.");
return null}var V=x.B[x.g[0]],f=V.sj<=0?null:V.sj==1?V.GH():V.DU(x).F;if(L||f&&f.NZ)i=f;if(i==null&&V.add.lsct!=null&&V.add.lsct!=eD.g_){alert("No layer selected.");
return null}if(i==null&&l.rr(V.rect))$=V.buffer;else{$=r.R(l.P()*4);if(i==null)r.sh(V.buffer,V.rect,$,l);
else O.P1.bm(i.channel,i.rect,i.color,$,l)}}var X=O.uw.Xb($,l,F,null,W),s=r.c_(X,l),R=r.R(s.P());r.Hz(X,l,R,s);
return{rect:s,channel:R}};O.uw.H_=function(x,F,W){var n=F.m,L=F.e,l=0,k=0,V=0,i=0;x=new Uint32Array(x.buffer);
var $=[],f=W.length;for(var w=0;w<f;w++){var X=W[w],s=Math.round(X.x-.5-F.x),R=Math.round(X.y-.5-F.y);
s=Math.max(0,Math.min(n-1,s));R=Math.max(0,Math.min(L-1,R));var h=R*n+s,B=x[h];$.push([B&255,B>>8&255,B>>16&255,B>>>24])}return $};
O.uw.Xb=function(x,F,W,n,L){x=new Uint32Array(x.buffer);var $=F.m,l=F.e,k=$*l;if(n==null)n=O.uw.H_(x,F,[W]);
var V=Math.round(W.x-.5-F.x),i=Math.round(W.y-.5-F.y),f=i*$+V,X=Date.now(),s=r.R($*l),R=L[0],h=1/R,B=L[1]&&R>0?255:0;
if(L[2]){var e=r.R(s.length),U=new Uint32Array(k),o=1;U[0]=V<<16|i;e[f]=1;while(o>0){var b=U[o-1];o--;
var u=b>>>16,Z=b&65535,w=Z*$+u,I=O.uw.Js(x[w],n);if(I>R){var y=B*(1-Math.max(0,Math.min(1,(I-R)*h)));
s[w]=~~y}else{s[w]=255;if(Z!=l-1&&e[w+$]==0){U[o++]=u<<16|Z+1;e[w+$]=1}if(Z!=0&&e[w-$]==0){U[o++]=u<<16|Z-1;
e[w-$]=1}if(u!=$-1&&e[w+1]==0){U[o++]=u+1<<16|Z;e[w+1]=1}if(u!=0&&e[w-1]==0){U[o++]=u-1<<16|Z;e[w-1]=1}}}}else{for(var w=0;
w<k;w++){var I=O.uw.Js(x[w],n);if(I<=R)s[w]=255}for(var Z=0;Z<l;Z++)for(var u=0;u<$;u++){var w=Z*$+u;
if(s[w]==0&&(u>0&&(s[w-1]==255||Z>0&&s[w-$-1]==255||Z<l-1&&s[w+$-1]==255)||u<$-1&&(s[w+1]==255||Z>0&&s[w-$+1]==255||Z<l-1&&s[w+$+1]==255)||Z>0&&s[w-$]==255||Z<l-1&&s[w+$]==255)){var I=O.uw.Js(x[w],n),y=B*(1-Math.max(0,Math.min(1,(I-R)*h)));
s[w]=~~y}}}return s};O.uw.Js=function(x,F){var W=F.length,n=O.uw.acU(x,F[0]),w=1;while(w!=W){n=Math.min(n,O.uw.acU(x,F[w]));
w++}return n};O.uw.acU=function(x,F){var W=x&255,n=x>>>8&255,L=x>>>16&255,$=x>>>24&255;if(F[3]==0)return $<5?0:255;
var l=Math.max(Math.abs(W-F[0]),Math.max(Math.abs(n-F[1]),Math.abs(L-F[2])));return $==0?255:l};O.x_=function(x,F){if(F)O.P1.call(this);
else if(x)O.P1.call(this,[10,49],O.h3,"tools/camove");else O.P1.call(this,[10,26],O.Vj,"tools/patch");
this.iy=null;this.rk=null;this.J=null;this.GF=null;this.Op=new eX;this.Nq=null;this.MM=null};O.x_.prototype=new O.P1;
O.x_.prototype.pI=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y);if(x.u&&r.VY($,x.u.channel,x.u.rect)){var l=new eu(0,0,x.m,x.e),k=l.jB(x.u.rect);
if(!x.SP()||k.ak())return;if(!0){var V=r.R(k.P());r.Hz(x.u.channel,x.u.rect,V,k);x.u={channel:V,rect:k}}this.B3(x);
this.ay(x);this.GF=$;this.Op=new eX($.x-x.u.rect.x,$.y-x.u.rect.y);this.MM=r.R(x.u.rect.P()*4);this.MM.fill(255);
if(this.y6.patch==1){var i=x.B[x.g[0]];i.Gx(x,x.u,!0);if(i.vp==null)this.GF=null}this.Nq=x.u.rect.clone()}else{this.rk={p:[$.x,$.y],G:["M"]};
this.iy=$}};O.x_.prototype.Lx=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y);if(this.GF){if(this.y6.patch==1){if(x.kO.length==0){var l=x.B[x.g[0]].vp,k=$.x-this.Op.x,V=$.y-this.Op.y;
O.fI.Wr(x,x.g[0],Math.round(k-l.Ce.x),Math.round(V-l.Ce.y))}}else this.a9h(x,$,"clone")}if(this.iy){this.rk.G.push("L");
this.rk.p.push($.x,$.y);this.iy=$;x.N.HV=this.rk;x.yW=!0}};O.x_.prototype.t8=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y);
if(this.GF){var l=x.u.rect.clone();if(this.id==O.h3){var k=x.B[x.g[0]];k.LG(x,k.vp);x.u.rect=this.Nq.clone();
var V=r.R(x.u.rect.P()*4);r.rW(x.u.channel,V,3);this.Yo(x,"sheal",V,x.u.rect,x.u.rect);x.u.rect=l;l=l.oA(this.Nq)}this.a9h(x,$,"heal");
this.finish(x,l,null,null,!0);x.W(l);this.GF=null}if(this.iy){var i=O.FA.qQ(this.y6.setop,n.S(gp.ca),n.S(gp.d8)),f=new gT(S.E.BD,!0);
if(this.rk.p.length<=4)f.data=O.FA.YT();else f.data=O.FA.j9(this.rk.p,i);F.T(f);this.iy=null;x.N.HV=null;
x.yW=!0}};O.x_.prototype.Cy=function(){return this.J};O.x_.prototype.FD=function(x,F,W,n,L){O.P1.prototype.FD.call(this,x,F,W,n,L);
this.ee(L,n)};O.x_.prototype.ee=function(x,F){var W="auto;";if(F!=null&&F.S(gp.ca)&&!F.S(gp.d8)||this.y6.setop=="union")W="copy";
var n=new gT(S.E.M,!0);n.data={d:S.H.W_,VD:W};if(this.caller)this.caller.T(n)};O.x_.prototype.a9h=function(x,F,W){var n=new eX(Math.round(this.GF.x-F.x),Math.round(this.GF.y-F.y));
if(this.y6.patch==1)n.xz(-n.x,-n.y);this.J=n;this.Yo(x,W,this.MM,x.u.rect,x.u.rect);this.W(x,x.u.rect)};
O.axQ=function(){O.x_.call(this,!0);this.y6.patch=1};O.axQ.prototype=new O.x_(!0,!0);O.Zm=function(x){if(x)O.P1.call(this,[10,52],O.a36,"tools/meraser");
else O.P1.call(this,[10,13],O.a0P,"tools/pbucket");this.A5=!1;this.a4P=x};O.Zm.prototype=new O.P1;O.Zm.prototype.enable=function(x,F,W,n){var L=new gT(S.E.M,!0);
L.data={d:S.H.W_,VD:"default"};F.T(L)};O.Zm.prototype.AW=function(x,F){};O.Zm.prototype.pI=function(x,F,W,n,L){if(this.qT(x,F,W,n,L,!0))return;
this.A5=!0};O.Zm.prototype.Lx=function(x,F,W,n,L){if(this.qT(x,F,W,n,L))return};O.Zm.prototype.t8=function(x,F,W,n,L,$){this.enable(x,F,W,n);
var l=this.A5;this.A5=!1;if(!l||$)return;if(!x.SP())return;var k=x.U.m$(L.x,L.y),V=O.uw.af6(x,k,this.y6.wconf,this.y6.sall,!0);
if(V==null)return;var i=r.R(V.rect.P()*4);r.De(i,(W.A_&255)<<16|(W.A_>>8&255)<<8|(W.A_>>16&255)<<0);
r.rW(V.channel,i,3);this.B3(x);this.Yo(x,this.a4P?"erase":"draw",i,V.rect,V.rect);this.W(x,V.rect);this.finish(x,V.rect)};
O.GP=function(){O.FA.call(this,[10,14],O.azq,"tools/plasso");this.Vv="crosshair";this.zr=[];this.Wg=null;
this.rk=null;this.afB=0};O.GP.prototype=new O.FA;O.GP.prototype.disable=function(x,F,W,n){this.nR(x)};
O.GP.prototype.uT=function(x,F,W,n){this.zr=[gp.bl,gp.F_]};O.GP.prototype.Us=function(x){return this.zr.indexOf(x)!=-1};
O.GP.prototype.R0=function(x){return this.rk!=null};O.GP.prototype.oj=function(){return this.rk!=null};
O.GP.prototype.ek=function(){return this.rk!=null};O.GP.prototype.Fj=function(x,F,W,n){if(this.rk==null)return;
var L=this.rk,$=L.p,l=$.length-2,k=this.eY;if(this.IC.sB(1)&&W.S(gp.d8)&&n.Pz){$.push(0,0);L.G.push("L");
l+=2}else if(W.S(gp.ca))k=O.zE._l(new eX($[l-2],$[l-1]),k);$[l]=k.x;$[l+1]=k.y;x.N.HV=L;x.yW=!0};O.GP.prototype.ji=function(x,F,W,n){var L=Date.now();
if(this.rk==null)this.rk={p:[this.eY.x,this.eY.y,this.eY.x,this.eY.y],G:["M","L"]};else{this.Fj(x,F,W,n);
if(L-this.afB<250||eX.I9(this.eY,new eX(this.rk.p[0],this.rk.p[1]))<O.m8(x,n)){this.Wg=this.rk;this.finish(x,F,W,n);
this.nR(x);return}this.rk.G.push("L");this.rk.p.push(this.eY.x,this.eY.y)}this.afB=L;x.N.HV=this.rk};
O.GP.prototype.nR=function(x){this.rk=null;this.zr=[];if(x!=null){x.N.HV=null;x.yW=!0}};O.GP.prototype.lH=function(x,F,W,n){O.FA.prototype.lH.call(this,x,F,W,n);
if(n.S(gp.oX)&&this.rk==null&&this.Wg&&x.u!=null){var L=new gT(S.E.v);L.f=O.o7;L.data={d:"h_stepbck"};
F.T(L);this.uT(x,W,n,null);this.rk=this.Wg;return}if(this.rk==null)return;if(n.S(gp.bl)||n.S(gp.F_)){this.rk.p.pop();
this.rk.p.pop();this.rk.G.pop();this.Fj(x,W,n)}if(n.S(gp.hI)){if(this.rk.p.length>4){this.Wg=this.rk;
this.finish(x,W,n)}this.rk=null}if(n.S(gp.oX)){this.rk=null}x.N.HV=this.rk;x.yW=!0};O.GP.prototype.getSelection=function(x,F,W,n){return O.FA.j9(this.rk.p,null,this.y6.anta)};
O.BM=function(){O.FA.call(this,[10,10],O.aDN,"tools/mlasso");this.Vv="crosshair";this.zr=[];this.$=[];
this.NC=[];this.qR=[];this.az=null;this.Kj=null;this.Wu=null;this.mA=0;this.tq=0};O.BM.prototype=new O.FA;
O.BM.prototype.disable=function(x,F,W,n){this.clear(x)};O.BM.prototype.R0=function(x){return this.$.length!=0};
O.BM.prototype.ek=function(){return this.$.length!=0};O.BM.prototype.Us=function(x){return this.zr.indexOf(x)!=-1};
O.BM.prototype.uT=function(x,F,W,n){this.zr=[gp.bl,gp.F_];var L=this.yg(this.XO,x);if(this.$.length!=0&&(eX.I9(L,this.$[0])<O.m8(x,n)||Date.now()-this.mA<300)){this.tz(x,this.$[0]);
this.finish(x,F,W);this.clear(x);return}this.mA=Date.now();if(this.$.length!=0)L=this.ZH(L,x);else{var $=x.m,l=x.e,k=r.R($*l),V=x.Hi(),i=$*l*4;
for(var w=0;w<i;w+=4)k[w>>>2]=~~(.5+r.Ns(V[w],V[w+1],V[w+2])*(V[w+3]*(1/255)));this.az=r.ev.auR(k,$,l);
this.Wu=new Uint16Array(k.length)}this.tz(x,L);this.tq=W.S(gp.d8)?1:0;this.sr(x)};O.BM.prototype.tz=function(x,F){var W=this.$;
this.NC[W.length]=this.qR.length;if(W.length!=0){r.ev.O8(this.Kj,F.y*x.m+F.x);var n=this.XF(x,F);n.reverse();
var L=O.BM.aul(x,n);this.qR=this.qR.concat(L)}W.push(F);this.aiA(x)};O.BM.prototype.aiA=function(x){var F=this.$[this.$.length-1],W=F.y*x.m+F.x;
this.Kj=r.ev.a8e(this.az.JQ,this.az.XY,W);this.Wu.fill(0)};O.BM.prototype.yg=function(x,F){return new eX(Math.floor(Math.max(0,Math.min(F.m-1,x.x))),Math.floor(Math.max(0,Math.min(F.e-1,x.y))))};
O.BM.prototype.clear=function(x){this.qR=[];this.$=[];this.NC=[];this.az=null;this.Kj=null;this.Wu=null;
if(x!=null){x.N.HV=null;x.N.sC=[];x.yW=!0}this.zr=[]};O.BM.prototype.Fj=function(x,F,W,n){var L=this.$,$=L.length;
if($==0)return;var l=this.ZH(this.yg(this.eY,x),x),k=this.XF(x,l);for(var w=0;w<k.length;w++){var V=k[w],i=new eX(V%x.m,Math.floor(V/x.m));
if(this.Wu[V]>30&&eX.I9(i,L[$-1])>20){this.tz(x,i);return}this.Wu[V]++}if(this.tq==1&&n.Pz)this.tz(x,l);
this.sr(x)};O.BM.prototype.sr=function(x){var F=this.$;if(F.length!=0){var W=this.ZH(this.yg(this.eY,x),x),n=this.XF(x,W);
n.reverse();var L=O.BM.aul(x,n),$=this.qR.concat(L),l=x.N.HV={p:$,G:["M"]};for(var w=2;w<$.length;w+=2)l.G.push("L")}x.N.sC=[];
for(var w=0;w<F.length;w++)x.N.sC.push(F[w].x+.5,F[w].y+.5);x.yW=!0};O.BM.prototype.ji=function(x,F,W,n){};
O.BM.prototype.lH=function(x,F,W,n){if(this.$.length==0)return;if(n.S(gp.bl)||n.S(gp.F_)){this.$.pop();
this.qR=this.qR.slice(0,this.NC[this.$.length]);this.NC.pop();if(this.$.length==0)this.clear(x);else this.aiA(x);
this.sr(x)}if(n.S(gp.hI)){var L=this.yg(this.eY,x);this.tz(x,L);this.finish(x,W,n);this.clear(x)}if(n.S(gp.oX)){this.clear(x)}};
O.BM.prototype.getSelection=function(x,F,W,n){return O.FA.j9(this.qR,null,this.y6.anta)};O.BM.prototype.XF=function(x,F){var W=this.$[this.$.length-1],n=W.y*x.m+W.x,L=F.y*x.m+F.x;
if(this.tq==1)return[L,n];var $=[L];while(L!=n){L=this.Kj.jG[L];$.push(L);if($.length>5e3){console.log($);
throw"e"}}return $};O.BM.aul=function(x,F){var W=[],n=x.m;for(var w=0;w<F.length;w++){var L=F[w];W.push(L%n+.5,Math.floor(L/n)+.5)}return W};
O.BM.prototype.ZH=function(x,F){var W=F.m,n=F.e,L=x.clone(),l=3;r.ev.O8(this.Kj,x.y*W+x.x);var $=this.Kj.Dc[x.y*W+x.x];
for(var k=-l+1;k<l;k++)for(var V=-l+1;V<l;V++){var i=x.x+V,f=x.y+k;if(i<0||i>=W||f<0||f>=n)continue;
r.ev.O8(this.Kj,f*W+i);if(this.Kj.Dc[f*W+i]<$)L.xz(i,f)}return L};O.Kg=function(){O.p9.call(this,[10,36],O.LD,"tools/ruler");
this.GO=null;this.SC=null;this.HH=null;this.RR=null;this.Ie=null};O.Kg.prototype=new O.p9;O.Kg.prototype.R0=function(x){return x.Pz};
O.Kg.prototype.enable=function(x,F,W,n){O.p9.prototype.enable.call(this,x,F,n,W);if(x)this.rI(x)};O.Kg.prototype.disable=function(x,F,W,n){if(x)this.nR(x)};
O.Kg.prototype.LB=function(x,F,W,n,L){this.GO=this.HH=null;this.rI(W)};O.Kg.prototype.pI=function(x,F,W,n,L){var $=O.m8(x,L),l=x.U.m$(L.x,L.y);
l.x=Math.round(l.x);l.y=Math.round(l.y);var k=this.GO;this.SC=k?k.slice(0):null;var V=k&&eX.I9(l,k[0])<$,i=k&&eX.I9(l,k[1])<$,f=k&&k[2]&&eX.I9(l,k[2])<$;
if(V||i||f){if(n.S(gp.d8)&&k.length==2){if(i){var X=k[0];k[0]=k[1];k[1]=X}k[2]=k[0].clone();this.HH=[2]}else this.HH=[V?0:i?1:2]}else if(k&&O.Kg.asM(k[0],k[1],l)<$&&Math.min(k[0].x,k[1].x)-5<=l.x&&l.x<=Math.max(k[0].x,k[1].x)+5&&Math.min(k[0].y,k[1].y)-5<=l.y&&l.y<=Math.max(k[0].y,k[1].y)+5){this.HH=[];
this.Ie=[];for(var w=0;w<k.length;w++){this.HH.push(w);this.Ie.push(k[w].clone())}this.RR=l}else{this.GO=[l.clone(),l.clone()];
this.HH=[1]}};O.Kg.prototype.Lx=function(x,F,W,n,L){if(this.HH==null)return;var $=this.GO,l=this.HH,k=x.U.m$(L.x,L.y);
k.x=Math.round(k.x);k.y=Math.round(k.y);if(l.length>1){var V=k.x-this.RR.x,i=k.y-this.RR.y;for(var w=0;
w<$.length;w++){$[w]=this.Ie[w].clone();$[w].offset(V,i)}}else{$[l[0]].xz(k.x,k.y);if(n.S(gp.ca)){$[l[0]]=O.zE._l($[1-l[0]],$[l[0]])}}this.rI(x);
this.Nm(F,S.E.M,{d:S.H.QQ,f:this.id,apC:$[0],R1:$[1],Ru:$[2],Bq:x.Bq,awc:x.m});x.U.M2=r.Z.Gn([$[0].x,$[0].y,$[1].x,$[1].y]);
console.log(x.U.M2)};O.Kg.prototype.t8=function(x,F,W,n,L,$){this.HH=null;if($){this.GO=this.SC.slice(0);
this.rI(x)}};O.Kg.prototype.Nm=function(x,F,W){var n=new gT(F,!0);n.data=W;x.T(n)};O.Kg.prototype.rI=function(x){var F=this.GO;
if(F==null)this.nR(x);else{var W=[F[1].x,F[1].y,F[0].x,F[0].y],n=["M","L"];if(F.length>2){W.push(F[2].x,F[2].y);
n.push("L")}x.N.HV={G:n,p:W};x.N.sC=W}x.yW=!0};O.Kg.prototype.nR=function(x){x.N.HV=null;x.N.sC=[]};
O.Kg.asM=function(x,F,W){var n=F.x-x.x,L=F.y-x.y,$=Math.abs(L*W.x-n*W.y+F.x*x.y-F.y*x.x),l=Math.sqrt(n*n+L*L);
return l==0?0:$/l};O.b$=function(){O.P1.call(this,[10,19],O.WY,"tools/sharpen");this.yE="copy"};O.b$.prototype=new O.P1;
O.b$.prototype.pI=function(x,F,W,n,L){var $=this.y6.pdetail?dp.Em:dp.WY;if(n.S(gp.d8))$=dp.Jk;this.sE(x,W,n,L,this.y6.strn,$);
if(this.g9==null)return;this.VE(x)};O.b$.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);if(this.$i)this.As(x,W,L);
if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};O.GY=function(){O.P1.call(this,[10,24],O.qC,"tools/shbrush");
this.yE="draw";this.y6.opacity=.5};O.GY.prototype=new O.P1;O.GY.prototype.pI=function(x,F,W,n,L){this.sE(x,W,n,L,1);
if(this.g9==null)return;this.ay(x);this.VE(x)};O.GY.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);
if(this.$i)this.As(x,W,L);if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};O.GY.prototype.t8=function(x,F,W,n,L){if(this.g9==null)return;
this.Yo(x,"sheal",this.g9.Eo(),this.g9.oU(),this.g9.FV(),null);this.W(x,this.g9.FV());O.P1.prototype.t8.call(this,x,F,W,n,L)};
O.Yc=function(){O.P1.call(this,[10,20],O.p0,"tools/smudge");this.yE="copy"};O.Yc.prototype=new O.P1;
O.Yc.prototype.pI=function(x,F,W,n,L){var $=this.y6.brush.toolOptions;this.sE(x,W,n,L,this.y6.strn,dp.p0);
if(this.g9==null)return;this.VE(x)};O.Yc.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);if(this.$i)this.As(x,W,L);
if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};O.qd=function(){O.P1.call(this,[10,23],O.Ew,"tools/sponge");
this.yE="sponge"};O.qd.prototype=new O.P1;O.qd.prototype.pI=function(x,F,W,n,L){this.sE(x,W,n,L,this.y6.flow);
if(this.g9==null)return;this.VE(x)};O.qd.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);if(this.$i)this.As(x,W,L);
if(this.g9==null)return;if(!L.Pz)return;this.FU(x,W,n,L);this.VE(x)};O.Ov=function(){O.p9.call(this,[10,17],O._6,"tools/zoom");
this.sx=!1;this.sm=!0;this.MJ=!1;this.FS=0;this.X9=null;this.rG=null;this.q8=0;this.T8=null;this.ayA=0;
this.rp=new g$([{name:[8,0],$H:"Ctrl + +"},{name:[8,1],$H:"Ctrl + -",sz:!0},{name:[20,3],$H:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],$H:"Ctrl + 1"}],[{K:S.E.v,f:O._6,C:{d:"zoom",sm:!0}},{K:S.E.v,f:O._6,C:{d:"zoom",sm:!1}},{K:S.E.v,f:O._6,C:{d:"adapt",b:"fitscr"}},{K:S.E.v,f:O._6,C:{d:"adapt",b:"pixel"}}])};
O.Ov.prototype=new O.p9;O.Ov.prototype.Nc=function(x,F,W,n,L){var $=this.rp;$._();$.parent=F;$.update(x,W);
var l=new gT(S.E.M,!0);l.data={d:S.H.OO,f_:$,x:L.PC+2,y:L.RX+1};F.T(l)};O.Ov.prototype.enable=function(x,F,W,n){this.Gb(F,n);
if(x&&Date.now()-this.FS<300)this.LB({d:"adapt",b:"pixel"},F,x,n,W);this.FS=Date.now()};O.Ov.prototype.pI=function(x,F,W,n,L){this.rG=new eX(L.x,L.y);
this.q8=x.U.Q;this.T8=x.U.J.clone()};O.Ov.prototype.Lx=function(x,F,W,n,L){if(this.rG==null)return;var $=Math.exp(Math.log(this.q8)+(L.x-this.rG.x)/64);
$=Math.max(.02,Math.min(O.Ov.Ja[0],$));x.U.Q=this.q8;x.U.J=this.T8.clone();this.LB({d:"zoom",Q:$,ew:this.rG,MJ:this.MJ},F,x,n,W)};
O.Ov.prototype.t8=function(x,F,W,n,L){if(eX.I9(this.rG,L)<4){var $=this.a71(n);this.LB({d:"zoom",sm:$,ew:L,MJ:this.MJ},F,x,n,W)}this.rG=null};
O.Ov.Ja=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
O.Ov._i=function(x,F,W,n){var L=1;while(x*L*1/2>W||F*L*1/2>n)L*=1/2;if(x*L*2/3>W||F*L*2/3>n)L*=1/2;else if(x*L>W||F*L>n)L*=2/3;
return L};O.Ov.anQ=function(x,F){var W=O.Ov.aBM(x);if(F&&W==0)return x;if(!F&&W==O.Ov.Ja.length-1)return x;
return O.Ov.Ja[F?W-1:W+1]};O.Ov.aBM=function(x){var F=0;while(O.Ov.Ja[F]>x)F++;return F};O.Ov.qU=function(x,F,W,n){var L=x.GE;
if(n==0||n==null){n=O.Ov.anQ(x.Q,W);if(n==x.Q)return}var $=x.m$(F.x,F.y);$.x=Math.max(0,Math.min(L.m,$.x));
$.y=Math.max(0,Math.min(L.e,$.y));if(!1){}else{var l=x.gy(),k=x.Q/n;l.translate(-$.x,-$.y);l.scale(k,k);
l.translate($.x,$.y);x.at4(l)}};O.Ov.prototype.LB=function(x,F,W,n,L){if(x.d=="pzoom"){if(typeof x.b=="string")return;
x={d:"zoom",Q:x.b/100}}var $=0,l=!1,k=null;if(x.d=="adapt"){var V=0;if(x.b=="pixel")V=1;if(x.b=="fitscr"){var V=0,i=W.U.$f.m,f=W.U.$f.e,X=new eu(0,0,W.m,W.e),s=r.Z.o4(X).p,R=new iJ;
R.rotate(W.U.O4);r.Z.i(s,R,s);var h=r.Z.KR(s),B=L.TG?r.uX.YW+4:8;V=Math.min((i-B*2)/h.m,(f-B*2)/h.e);
W.U.J.xz(0,0)}k=new eX(Math.round(W.U.$f.m/2),Math.round(W.U.$f.e/2));$=V;O.Ov.qU(W.U,k,l,$);W.bA=!0}if(x.d.startsWith("multi")){function e(C){var a=C[0].x-C[1].x,K=C[0].y-C[1].y;
return Math.sqrt(a*a+K*K)}function U(C){return new eX((C[0].x+C[1].x)/2,(C[0].y+C[1].y)/2)}function o(C){var a=C[0].x-C[1].x,K=C[0].y-C[1].y;
return Math.atan2(K,a)}var b=x.Rl,u=U(b);if(x.d=="multidown"){this.X9=[b,W.U.Q,W.U.m$(u.x,u.y),W.U.O4]}else{var Z=O.Ov.Ja,j=.15;
$=this.X9[1]*e(b)/e(this.X9[0]);$=Math.max(Z[Z.length-1],Math.min(Z[0],$));if($!=W.U.Q)O.Ov.qU(W.U,u,l,$);
var I=this.X9[2],y=W.U.Q0(I.x,I.y),D=W.U.J;D.x=Math.round(D.x+u.x-y.x);D.y=Math.round(D.y+u.y-y.y);var N=this.X9[3]+(o(b)-o(this.X9[0]));
N=N%(2*Math.PI);while(N<0)N+=2*Math.PI;if(N<j||N>2*Math.PI-j)N=0;W.U.O4=N;W.bA=!0}}if(x.d=="scroll"){k=x.ew;
var Z=O.Ov.Ja,H=x.zO.y,Q=1+Math.abs(H)*8e-4*(x.aoD?10:1);if(H>0)Q=1/Q;$=W.U.Q*Q;O.Ov.qU(W.U,k,l,Math.min(Z[0],Math.max(Z[Z.length-1],$)));
W.bA=!0}if(x.d=="zoom"){var C=x.MJ?F.iV:[W];for(var w=0;w<C.length;w++){var J=C[w],E=J.U;k=x.ew?x.ew:new eX(Math.round(E.$f.m/2),Math.round(E.$f.e/2));
if(x.Q!=null)$=x.Q;else l=x.sm;O.Ov.qU(E,k,l,$);J.bA=!0}}if(x.d=="mskView"){var T=W.B[W.g[0]];if(T.sj<=0){T.sj=1;
W.Md=!0}var c=T.sj==3?T.DU(W).F:T.GH();if(x.b==0){W.U.O=[1,1,1];c.NZ=!1}if(x.b==1){W.U.O=[1,1,1];c.NZ=!0}if(x.b==2){W.U.O=[0,0,0];
c.NZ=!0}for(var w=0;w<W.o2.length;w++)W.o2[w].NZ=!1;W.kO=[];W.yW=!0}};O.Ov.prototype.lH=function(x,F,W,n){if(this.sx!=n.S(gp.d8)){this.sx=n.S(gp.d8);
var L={d:S.H.QQ,f:this.id,sx:this.sx},$=new gT(S.E.M,!0);$.data=L;F.T($);this.Gb(F,n)}};O.Ov.prototype.Gb=function(x,F){var W=new gT(S.E.M,!0),n=this.a71(F);
W.data={d:S.H.W_,VD:n?"zoom-in":"zoom-out"};x.T(W)};O.Ov.prototype.FD=function(x,F,W,n){this.sm=x.sm;
this.MJ=x.MJ;this.Gb(F,n)};O.Ov.prototype.a71=function(x){var F=this.sm;if(x.S(gp.QM)&&x.S(gp.Fr))F=!0;
if(this.sx)F=!F;return F};O.Ov.ast=function(x,F){if(x.S(gp.Yu)||x.S(gp.avq)){F.f=O._6;F.data={d:"zoom",sm:!0}}if(x.S(gp.VB)){F.f=O._6;
F.data={d:"zoom",sm:!1}}if(x.S(gp.t5)){F.f=O._6;F.data={d:"adapt",b:"fitscr"}}if(x.S(gp.K9)){F.f=O._6;
F.data={d:"adapt",b:"pixel"}}};O.Sj=function(x,F,W){O.p9.call(this,x,F,W);this.YR=null;this.Mh=null;
this.gP=null;this.agC=0};O.Sj.prototype=new O.p9;O.Sj.Va=function(x,F){var W={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},n=x==null?{classID:"null",null:W,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:W,Usng:{t:"type",v:{classID:x}},__name:"Stroke"};
if(F)n.Prs={t:"bool",v:!0};return{Y3:x==null?"fill":"stroke",Xe:n}};O.Sj.prototype.enable=function(x,F,W,n,L){this.Mh=W;
var $=new gT(S.E.M,!0);$.data={d:S.H.W_,VD:"default"};F.T($)};O.Sj.prototype.Nc=function(x,F,W,n,L){var $=x.x8(),l=$[0],k=$[1];
if(k.length==0)return;var V=l[k[0]],i=V.add.vmsk,f=x.U.m$(L.x,L.y),X=4*O.e1()/x.U.Q,s=new eu(f.x-X,f.y-X,X*2,X*2),R=r.j.JJ(i.$,s)[0];
if(R.length!=0){i.Au=R;x.yW=!0}var h=r.j.VY(i.$,f).Fp;if(h!=-1){i.g=[h];x.yW=!0}var B=new gT(S.E.M,!0);
B.data={d:S.H.QQ,f:this.id,t4:L,Oq:x,gr:W};F.T(B)};O.Sj.prototype.a2E=function(x,F){var W=new gT(S.E.M,!0);
W.data={d:S.H.DD,jL:iC.Yr};if(!F.AU)x.T(W);W.data={d:S.H.DD,jL:iC.Lc};if(!F._X.V2)x.T(W)};O.Sj.prototype.HS=function(x,F,W,n,L){if(W.Dj!=this.id&&L==null)return;
if(x.g.length==0)return;var $=x.B[x.g[0]],l=$.add.vmsk,k=$.add.vstk,V=$.add.vstl;if(aH==0){var i=eC.Bz($.add);
this.YR=x;this.gP=F;if($.qA()&&l!=null&&(JSON.stringify(k)!=JSON.stringify(W.Yy)||JSON.stringify(i)!=JSON.stringify(W.nC))){this.agC=Date.now();
var f=new gT(S.E.M,!0);f.data={d:S.H.DD,jL:iC.JL,b:i};F.T(f);f.data={d:S.H.DD,jL:iC.ys,b:k};F.T(f)}}else if(V){var X=JSON.stringify(V);
if(X!=JSON.stringify(W.J1)){var f=new gT(S.E.M,!0);f.data={d:S.H.DD,jL:iC.aW,b:JSON.parse(X)};F.T(f)}}};
O.Sj.prototype.AW=function(x,F){if(this.YR==null)return;if(F==iC.tB||F==iC.JL||F==iC.ys){if(Date.now()-this.agC<50)return;
var W=F==iC.JL,n=this.YR,L=W?x.nC:x.Yy,$=[],l=n.g;for(var w=0;w<l.length;w++){var k=l[w],V=n.B[k];if(!V.qA()||V.add.vmsk==null)continue;
$.push(k)}var i=new gT(S.E.v,!0);i.f=O.c9;i.data={d:t.lr,te:$,v5:W,b:L};if($.length!=0)this.gP.T(i)}};
O.Sj.prototype.ahU=function(x){if(typeof x=="number"){var F=new gT(S.E.BD,!0);F.data=O.bw.fg(0);F.data.Xe.Usng.v.Type.v.Clr.v=r.I.GB({o:x>>>16&255,r:x>>>8&255,z:x>>>0&255});
this.gP.T(F)}};O.Sj.prototype.LB=function(x,F,W,n,L){this.gP=F;if(x.d=="newfill"){if(x.d$==0){var $=new gT(S.E.M,!0);
$.data={d:S.H.Ar,ip:"colorpicker",Rr:L.A_,$O:this.ahU.bind(this)};F.T($)}}else if(x.d=="smplp"){if(W==null)return;
var l=W.x8(),k=l[0],V=l[1];if(V.length==0){alert("No paths selected");return}var i=k[V[0]];if(i.add.vmsk.g.length<=0){alert("No paths selected");
return}if(this.Ty==null){this.Ty=i.add.vmsk.clone();this.U3=JSON.stringify(i.add.vogk);this.rk=i;this.YR=W}var $=new gT(S.E.M,!0);
$.data={d:S.H.Ar,ip:"simplifypath",aG:100,Fv:this.a5x.bind(this)};F.T($)}else if(x.d=="pathedit"){var X=x.k1,s="",R=W.V2.slice(0),h=W._H.slice(0),B=W.V2.slice(0),e=W._H.slice(0);
if(X=="rnm"){var U=-1-x.Fp,o=R[U],b=az.r9(x.name,o.add);if(U!=0)B[U]=b;else{e=[B.length];B.push(b);B[0]=az.r9("Work Path")}s="Rename"}else if(X=="new"){var b=az.r9("Path "+R.length);
if(x.ag$){var l=W.x8(),k=l[0],V=l[1],u=k[V[0]];b.add.vmsk=u.add.vmsk.clone();b.add.vogk=JSON.parse(JSON.stringify(u.add.vogk));
if(u.Fp==-1){var Z=B[e[0]]=az.r9("Path "+R.length);Z.name=u.name;Z.Fp=u.Fp}}B.push(b);e=[B.length-1];
s="New"}else if(X=="del"){if(e.length==0)return;e.sort(function(J,d){return J-d});if(e[0]==0){B[0]=az.r9(R[0].name);
e=e.slice(1)}var I=0;while(e.length!=0){B.splice(e[0]-I,1);e=e.slice(1);I++}s="Delete"}else if(X=="fromsel"){var i=B[0]=az.r9("Work Path");
e=[0];if(W.u==null)return;var y=W.u.channel.slice(0);for(var w=0;w<y.length;w++)y[w]=y[w]>128?2:1;var D=W.u.rect.clone();
D.za(1,1);var N=r.R(D.P());r.Hz(y,W.u.rect,N,D);var j=jX.Gl(N,D.m,D.e,Math.round(D.P()*5e-4)),k=jX.x8(j),H=new iJ(1,0,0,1,-1+W.u.rect.x,-1+W.u.rect.y);
for(var w=0;w<k.length;w++)r.Z.i(k[w].path.p,H,k[w].path.p);for(var w=0;w<k.length;w++){var Q=k[w];if(Q.color==1&&Q.parent==-1)continue;
var C=r.Z.zI(k[w].path,!1);i.add.vmsk.$=i.add.vmsk.$.concat(C.slice(2))}i.add.vogk=t.oO(i.add.vmsk.$);
s="Selection to"}var J=new fd(s+" Path",this);J.data={SC:R,ki:h,aCe:B,vG:e};if(X=="fromsel"){J.data.WZ=W.u;
J.data.U_=null}W.fC(J);this.Th(J.data,W)}else{var E=x.Sa,l=W.x8(x.d=="append"||x.d=="fromAction"),k=l[0],V=l[1],i=k[V[0]],T=i.add.vmsk,c=i.add.vogk,a=T.clone(),K=T.clone(),Y=JSON.stringify(c);
if(x.d=="fromAction"){var p=x.$V,P=p.Y3,m=p.Xe,z=m.T;if(P=="set"){if(z){c.push(r.mq.ht(z));K.$.push({type:0,eb:1,length:0});
r.mq.Er(c,K);E=[12,76,0]}else throw m}else if(P=="draw"){c=[r.mq.ht(m.Shp)];K.$.push({type:0,eb:1,length:0});
r.mq.Er(c,K);O.Sj.aaB(K.$,m.AntA.v,L.A_,F);return}else throw P}else if(x.d=="remove"){if(x.em&&K.Au.length!=0){K.$=r.j.ae4(K.$,K.Au,c,x.ah7);
var M=r.j.tn(K.$);for(var w=0;w<K.g.length;w++)if(K.g[w]>=M){K.g.splice(w,1);w--}K.Au=[];E="Delete Anchors"}else{if(K.g.length==0)return;
var I=0;for(var w=0;w<K.g.length;w++){c.splice(K.g[w]+I,1);I--}K.$=r.j.aoU(K.$,K.g);K.g=[];K.Au=[];if(E==null)E="Delete Paths"}}if(x.d=="append"){O.Sj.ox(x.a2T,K,c)}this.Oo(W,i.Fp,K,c);
this.Zp(W,E,i.Fp,a,K.clone(),null,Y,JSON.stringify(c))}};O.Sj.aaB=function(x,F,W,n){var L=new t.C$;L.$=L.$.concat(x.slice(2));
var $=L.GH();if(!F)r.round($.channel);var l=r.R($.rect.P()*4);r.De(l,(W&255)<<16|(W>>8&255)<<8|(W>>16&255)<<0);
r.rW($.channel,l,3);var k=new gT(S.E.v,!0);k.f=O.s3;k.data={d:"draw",v2:{buffer:l,rect:$.rect.clone()},Sa:this.name};
n.T(k)};O.Sj.JY=function(x,F){var W=r.j.a5a(x.$,x.g),n=[];for(var w=0;w<x.g.length;w++)n.push(JSON.parse(JSON.stringify(F[x.g[w]])));
return[W,n]};O.Sj.ox=function(x,F,W){var n=r.j.tn(F.$),L=r.j.tn(x[0]);F.$=F.$.concat(x[0].slice(2));
F.g=[];for(var w=0;w<L;w++)F.g.push(n+w);for(var w=0;w<L;w++)W.push(JSON.parse(JSON.stringify(x[1][w])))};
O.Sj.prototype.Us=function(x,F){if(F==null)return!1;var W=F.x8(),n=W[0],L=W[1];if(L.length==0)return!1;
var $=n[L[0]],l=$.add.vmsk;if(l&&l.g.length+l.Au.length!=0)return[gp.bl,gp.F_].indexOf(x)!=-1};O.Sj.prototype.lH=function(x,F,W,n){if(x==null)return;
var L=x.x8(),$=L[0],l=L[1];if(l.length==0)return;var k=$[l[0]],V=k.add.vmsk;if(n.S(gp.oX)||n.S(gp.hI)||this.id==O.XA&&n.S(gp.CV)&&V.Au.length==1){V.Au=[];
x.yW=!0}if(V.g.length!=0){var i=n.xa(x?x.U.O4:0);if(i.x!=0||i.y!=0){var f=V.clone(),X=V.clone(),s=new iJ(1,0,0,1,i.x,i.y),R=k.add.vogk,h=JSON.stringify(R);
if(n.S(gp.d8)){var B=O.Sj.JY(X,R);O.Sj.ox(B,X,R)}r.j.js(X.$,s,X.g);r.mq.i(R,r.D.Mz(s),X.g);this.Oo(x,k.Fp,X,R);
this.Zp(x,"Move Paths",k.Fp,f,X.clone(),!0,h,JSON.stringify(R))}if(n.S(gp.bl)||n.S(gp.F_))this.LB({d:"remove",em:this.id==O.XA},F,x,n,W)}};
O.Sj.prototype.Zp=function(x,F,W,n,L,$,l,k){var V=new fd(F,this);V.data={b4:W,Cj:n,xd:L,a7z:$,auy:l,Kp:k};
x.fC(V)};O.Sj.prototype.Th=function(x,F){if(x.b4!=null)this.Oo(F,x.b4,x.xd.clone(),JSON.parse(x.Kp));
else{F.V2=x.aCe.slice(0);F._H=x.vG.slice(0);F.yW=F.Md=!0}if(x.WZ||x.U_){F.u=x.U_;F.eT=!0}};O.Sj.prototype.hm=function(x,F){if(x.b4!=null)this.Oo(F,x.b4,x.Cj.clone(),JSON.parse(x.auy));
else{F.V2=x.SC.slice(0);F._H=x.ki.slice(0);F.yW=F.Md=!0}if(x.WZ||x.U_){F.u=x.WZ;F.eT=!0}};O.Sj.prototype.Oo=function(x,F,W,n){var L=F<0?x.V2[-1-F]:F<1e6?x.B[F]:x.B[F-1e6].add.TySh,$=L.add.vmsk;
$.channel=null;$.DQ=!0;if($.y7){$.y7.channel=null;$.y7.DQ=!0}L.add.vmsk=W;L.add.vogk=n;if(1e6<=F){iV.QN(L);
var l=x.B[F-1e6],k=L,V=this.Mh;kc.Fw(l,V.op);x.W()}else if(0<=F){W.DQ=!0;L.pZ(x);x.W()}x.yW=x.Md=!0};
O.bw=function(x,F,W,n){O.Sj.call(this,x,F,W);this.y6={shape:fZ.Iz(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{zs:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.aCI=n;this.MC=null;this.UP=null;this.H4=null;this.IC=new j1};O.bw.prototype=new O.Sj;O.bw.prototype.R0=function(x){return x.Pz&&this.id!=O.lC};
O.bw.prototype.enable=function(x,F,W,n,L){this.Mh=W;var $=new gT(S.E.M,!0);$.data={d:S.H.W_,VD:"crosshair"};
F.T($)};O.bw.prototype.lH=function(x,F,W,n){O.Sj.prototype.lH.call(this,x,F,W,n);this.IC.lH(n);this.FY(F,W)};
O.bw.prototype.FY=function(x,F){var W=new gT(S.E.M,!0);W.data={d:S.H.QQ,f:this.id,W0:this.rl(F)};x.T(W)};
O.bw.prototype.rl=function(x){var F=this.IC.Ck(0),W=this.IC.sB(0),n=O.FA.qQ(this.y6.binop,F,W);if(x.X0==1&&n==0)n=1;
return n};O.bw.prototype.FZ=function(x,F,W,n){};O.bw.prototype.pI=function(x,F,W,n,L){var $=W.X0;if($!=2)this.a2E(F,W);
if($==2&&!x.SP())return;var l=x.U.m$(L.x,L.y);l=O.fI.FW(x,l,W);this.H4=[l.x,l.y];this.MC=l;this.UP=new eX(0,0);
this.IC.pI(n)};O.bw.prototype.abA=function(x,F,W,n){var L=[this.MC.clone(),F.clone()];W=this.IC.Ck(1)||W.S(gp.ca)||this.IC.sB(1)?W:null;
if(this.aCI)L=O.bw.R9(L[0],L[1],W,!0,this.y6.cstr);if(x)x.U.M2=new eu(L[0].x,L[0].y,L[1].x-L[0].x,L[1].y-L[0].y);
return this.FZ(L[0],L[1],this.IC.Ck(1)&&W.S(gp.ca),this.H4,x.U,n)};O.bw.prototype.aBu=function(x,F,W){var n=x.U.m$(F.x,F.y);
if(this.id==O.lC)return n;var L=this.y6.cstr;if(L.zs==2){var $=new eu(n.x-L.x,n.y-L.y,L.x,L.y),l=O.fI.QF(x,$,W);
n.x+=l[0];n.y+=l[1];O.fI.HY(x,$,l)}else n=O.fI.FW(x,n,W);return n};O.bw.prototype.Lx=function(x,F,W,n,L){if(this.MC==null)return;
var $=this.H4,l=$.length,k=L?this.aBu(x,L,W):new eX($[l-2],$[l-1]);if(n.S(gp.QM))this.MC=k.ZC(this.UP);
else this.UP=k.ZC(this.MC);$.push(k.x,k.y);if(this.y6.shape==null)this.y6.shape=W.hx[0];var V=this.abA(x,k,n,!0)[0],i=r.Z.aE(V);
x.N.HV=i;if(this.id!=O.lC&&this.id!=O.di&&this.id!=O.Zy)O.p9.KO(L,x.U.M2,x,W);x.yW=!0;this.IC.Lx()};
O.bw.prototype.aD4=function(x,F,W,n){var L=x[4].clone();if(n){L.x-=F/2;L.y-=W/2}if(this.id==O.di){F/=2;
W/=2;L.x+=F;L.y+=W;W=-W;F=0}var $=this.FZ(L,new eX(L.x+F,L.y+W),!1,this.H4);this.aBW(x[0],x[1],x[2],$)};
O.bw.prototype.aBW=function(x,F,W,n){var L=W.X0,$=new gT(S.E.BD,!0);if(L==0)$.data=O.bw.aCj(n[1],W);
else if(L==1){var l={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:n[1]};
$.data={Y3:"set",Xe:l}}else{var l={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:n[1]};$.data={Y3:"draw",Xe:l}}F.T($);
if(n[1].v.classID=="customShape"&&n[1].v.Nm.v.startsWith("--")){var k=x.x8(),V=k[0],i=k[1],X=V[i.pop()],s=X.add.vmsk,R=X.add.vogk;
r.mq.ayO(R);var h=s.clone();h.$=n[0];this.Oo(x,X.Fp,h,R)}};O.bw.prototype.t8=function(x,F,W,n,L,$){if(this.MC==null)return;
var l=this.aBu(x,L,W),k=this.rl(W),V=W.X0,i=this.H4,f=i.length;if(this.id==O.lC&&f<=4){}else if(f<=4){l.x=Math.round(l.x);
l.y=Math.round(l.y);var X=new gT(S.E.M);X.data={d:S.H.Ar,ip:"createshape",am9:this.aD4.bind(this),arv:this.name,agM:[x,F,W,n,l]};
if(!$)F.T(X)}else if(f!=2){var s=this.abA(x,l,n),R=s[0],h=x.x8(!0),B=h[0],e=h[1],U=e.length-1;if(V==1&&R.length>2||V==0&&k!=0&&U!=-1&&B[e[U]].Fp>=0){R[2].eb=[1,2,3,0][k-1];
var o=B[e.pop()],b=o.add.vmsk,u=o.add.vogk,Z=b.clone(),I=b.clone(),y=JSON.stringify(u);I.$=I.$.concat(R.slice(2));
I.g=[r.j.tn(I.$)-1];var D=r.mq.ht(s[1]);u.push(D?D:r.mq.I2());this.Oo(x,o.Fp,I,u);this.Zp(x,this.name,o.Fp,Z,I,null,y,JSON.stringify(u))}else if(V==0){this.aBW(x,F,W,s)}else if(V==2){O.Sj.aaB(R,this.y6.anta,W.A_,F)}}this.MC=null;
x.N.HV=null;x.N.kr=null;x.N.v7=[];x.U.M2=null;x.yW=!0;this.IC.t8();this.FY(F,W)};O.bw.prototype.FD=function(x,F,W,n,L){for(var W in x)this.y6[W]=x[W]};
O.bw.R9=function(x,F,W,n,L){var $=x.x,l=x.y,k=F.x,V=F.y;if(L&&L.zs==2){if(n){k=Math.round(k);V=Math.round(V)}$=k-L.x;
l=V-L.y}else{var i=0;if(L&&L.zs==1)i=L.y/L.x;else if(W&&W.S(gp.ca))i=1;if(i!=0){if(n){if($<k)$=Math.floor($);
else $=Math.ceil($);if(l<V)l=Math.floor(l);else l=Math.ceil(l)}var f=Math.abs(k-$),X=Math.abs(V-l),s=f;
if(X/f<i)s*=X/f/i;k=k>$?$+s:$-s;V=V>l?l+s*i:l-s*i}if(W&&W.S(gp.d8)){$-=k-$;l-=V-l}}var x=new eX($,l),F=new eX(k,V);
if(n)O.bw.ayV(x,F);return[x,F]};O.bw.ayV=function(x,F){if(x.x>F.x){var W=x.x;x.x=F.x;F.x=W}if(x.y>F.y){var W=x.y;
x.y=F.y;F.y=W}x.x=Math.floor(x.x);x.y=Math.floor(x.y);F.x=Math.ceil(F.x);F.y=Math.ceil(F.y)};O.bw.anC=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
O.bw.fg=function(x,F){var W=O.bw.anC(),n=W.Usng.v.Type;if(F==null){n.v=JSON.parse(JSON.stringify(eC.Ir[x]));
n.v.classID=["solidColorLayer","gradientLayer","patternLayer"][x]}else O.RC.x$(F,n.v,x);return{Y3:"make",Xe:W}};
O.bw.aCj=function(x,F){var W=F.nC,n=JSON.parse(JSON.stringify(F.Yy));n.fillEnabled.v=W.d_!=0;var L=O.bw.fg(Math.max(0,W.d_-1),W.oa);
L.Xe.Usng.v.Shp=x;L.Xe.Usng.v.strokeStyle={t:"Objc",v:n};return L};O.o5=function(x){O.Sj.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][x],[O.XA,O.ar2,O.at1,O.asl,O.agj][x],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][x]);
this.tq=x;this.OJ=null;this.Uk=null;this.Ty=null;this.U3=null;this.$t=0;this.$U=null;this.Qj=!1;this.l3=!1;
this.$a=!1;this.SH=!1;this.nl=!1;this.V5=!1;this.FS=0};O.o5.prototype=new O.Sj;O.o5.prototype.R0=function(x){return this.Ty!=null};
O.o5.prototype.lH=function(x,F,W,n){if(!n.S(gp.d8))this.nl=!1;if(this.tq==1&&(n.S(gp.bl)||n.S(gp.F_))&&this.Us(gp.bl,x)){this.LB({d:"remove",em:!0},F,x,n,W);
return}if(this.Uk)this.ee(x,F,W,n,this.Uk);O.Sj.prototype.lH.call(this,x,F,W,n)};O.o5.prototype.hv=function(x,F,W,n){var L=x.U.m$(n.x,n.y,!0),$=O.fI.FW(x,L,F),l=this.tq,k=F.X0,V=this.$t;
if(k==2)k=0;var i=x.x8(k==1),f=i[0],X=i[1],s=f[X.pop()],R=s?s.add.vmsk:null;if(k==0&&V!=0&&s&&s.Fp>=0)k=1;
var h=O.m8(x,n);if(l<2&&k==0&&(R==null||R.Au.length==0&&r.j.VY(R.$,L,!0,h).Fp==-1))return["new",!0];
if(R==null)return[null];var B=R.$,e=r.j.JJ(B,new eu(L.x-h,L.y-h,h*2,h*2),R.Au,!0),U=r.j.VY(B,L,!0,h);
if(l<3&&U.Fp!=-1&&e[0].length==0)return["add"];if((e[3]!=0||U.Fp!=-1)&&(W.S(gp.d8)||l==4))return["cnv"];
var o=e[0].length==1&&B[e[0][0]-1]&&(B[e[0][0]-1].L!=null||B[e[0][0]-1].type==0||B[e[0][0]-1].length==1);
if(o)return[l==0||l==3?"del":l==2?"mva":"mov"];if(l<2){var b=r.j.Of(B,r.j.Qx(B,R.Au[0]));if(b!=-1&&eX.I9(L,B[b+1].L)<h)return["fin"];
if(R.Au.length!=1)return["new"];return["nrm"]}return[null]};O.o5.prototype.pI=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y,!0),l=O.fI.FW(x,$,W),k=this.tq,V=W.X0,i=this.$t;
if(V==2)V=0;var f=x.x8(V==1),X=f[0],s=f[1],R=X[s.pop()],h=R?R.add.vmsk:null;if(V==0&&i!=0&&R&&R.Fp>=0)V=1;
var B=O.m8(x,L),e=this.hv(x,W,n,L);if(e[0]==null)return;if(e[1]){var U=new gT(S.E.BD,!0),o=r.mq.PN("customShape",[0,0,1,1],null,null,null,"--");
U.data=O.bw.aCj(o,W);F.T(U);this.V5=!0;f=x.x8(!0);X=f[0];s=f[1];R=X[s.pop()];h=R.add.vmsk;h.$=h.$.slice(0,2)}var b=R.add.vogk,u=h.$;
this.Ty=h.clone();this.U3=JSON.stringify(b);this.OJ=L;this.a2E(F,W);var Z=r.j.JJ(u,new eu($.x-B,$.y-B,B*2,B*2),h.Au,!0),I=r.j.VY(u,$,!0,B);
if(e[0]=="add"){var y=r.j.Of(u,I.Fp),D=u[y].length;while(D<=I.ln){I.ln-=D;y+=D+1}var N={type:4,Xs:l.clone(),L:l.clone(),vf:l.clone()},j=y+2+I.ln,H=y+1+(1+I.ln)%D,Q=u[j-1],C=u[H];
if(!Q.L.rr(Q.vf)||!C.Xs.rr(C.L)){var J=r.Z.awk(Q.L,Q.vf,C.Xs,C.L,I._b);Q.vf=J[0];N.Xs=J[1];N.L=J[2];
N.vf=J[3];C.Xs=J[4]}this.SH=!0;u.splice(j,0,N);u[y].length++;h.Au=[j];if(k==1){N.Xs.x+=2;this.Jj(h)}}else if(e[0]=="cnv"){var E=-1;
if(Z[0].length!=0){E=Z[0][0];var T=u[E],c=T.type>=3?3:0,a=E==u.length-1;T.type=c+1;if(!(k==4&&n.S(gp.d8))&&!(k==0&&a))T.Xs=T.L.clone();
T.vf=T.L.clone();this.SH=!0;if(k==0&&!a)this.nl=!0}else if(Z[1].length+Z[2].length!=0){var E=Z[2][0];
if(E==null){E=Z[1][0];this.l3=!0}var T=u[E],c=T.type>=3?3:0;T.type=c+2}else E=r.j.Of(u,I.Fp)+I.ln+1;
if(E!=-1)h.Au=[E]}else if(e[0]=="mva"){this.$a=!0;h.Au=[Z[0][0]]}else if(e[0]=="mov"){var E=Z[0][0],K=u[E],Y=K.L,p=Math.abs(r.Z.TW(K.Xs.x,K.Xs.y,Y.x,Y.y,K.vf.x,K.vf.y));
if(p>.01){K.Xs=Y.clone();K.vf=Y.clone()}if(Date.now()-this.FS<300){var P=K.Xs.rr(Y)&&K.vf.rr(Y);if(P)K.vf.offset(2,2);
else{K.Xs=Y.clone();K.vf=Y.clone()}this.FS=0}else this.FS=Date.now();h.Au=[E];this.Jj(h)}else if(e[0]=="del"){var E=Z[0][0],y=r.j.Of(u,r.j.Qx(u,E)),o=u[y],m=y+o.length;
if(E!=m||o.type==0){u[y].length--;u.splice(E,1);m--;if(o.length==0){u.splice(y,1);m=-1}}if(m!=-1)h.Au=[m];
else h.Au=[]}else if(e[0]=="fin"){var y=r.j.Of(u,r.j.Qx(u,h.Au[0]));u[y].type=0;h.Au=[y+1];this.$U=l;
this.Qj=!0;this.SH=!0}else{var z=0;if(e[0]=="new"){h.g=[r.j.tn(u)];u.push({type:3,length:1,eb:[1,2,3,0][Math.max(0,i-1)],FN:0,qO:0,BF:0});
z=u.length;b.push(r.mq.I2())}if(e[0]=="nrm"){var y=r.j.Of(u,r.j.Qx(u,h.Au[0])),K=y+u[y].length;u[y].length++;
z=K+1;if(K==y+1&&u[y].length!=2)z=y+1}if(n.S(gp.ca)&&u[z-1]&&u[z-1].L)l=O.zE._l(u[z-1].L,l);var N={type:4,Xs:l.clone(),L:l.clone(),vf:l.clone()};
u.splice(z,0,N);h.Au=[z];this.$U=l;if(this.tq==1){N.Xs.x+=2;this.Jj(h)}this.SH=!0;this.FS=Date.now()}this.Oo(x,R.Fp,h,b);
x.yW=!0};O.o5.prototype.Jj=function(x){var F=x.$,W=x.Au[0],n=r.j.Of(F,r.j.Qx(F,W))+1,L=F[n-1].length;
if(L<3)return;var $=[],l=[];for(var w=0;w<5;w++){var k=n+(W-n-2+w+5*L)%L;l.push(k);var V=F[k].L;$.push(V.x,V.y)}var i=r.Z.aCm($);
for(var w=1;w<4;w++){var f=w*4,X=F[l[w]],V=X.L,s=X.Xs.rr(V)&&X.vf.rr(V);if(!s){X.Xs.xz(i[f],i[f+1]);
X.vf.xz(i[f+2],i[f+3])}else{X.Xs=V.clone();X.vf=V.clone()}}};O.o5.prototype.ee=function(x,F,W,n,L){var $=this.hv(x,W,n,L)[0],l=null;
if($==null)l="default";else l=O.o5.OF($);var k=new gT(S.E.M,!0);k.data={d:S.H.W_,VD:l};F.T(k)};O.o5.prototype.Lx=function(x,F,W,n,L){this.Uk=L;
if(this.Ty==null){this.ee(x,F,W,n,L);return}var $=this.OJ;if($&&eX.I9($,L)<O.m8({U:{Q:1}},L))return;
this.OJ=null;var l=x.U.m$(L.x,L.y),k=O.fI.FW(x,l,W),V=x.x8(W.X0==1),i=V[0],f=V[1],X=i[f.pop()],s=X.add.vmsk,R=s.$,h=R[s.Au[0]];
if(this.tq==1){var B=h.L.rr(h.Xs)&&h.L.rr(h.vf);h.L=l.clone();h.Xs=l.clone();h.vf=l.clone();if(!B)h.Xs.x+=2;
this.Jj(s)}else if(n.S(gp.QM)){if(n.S(gp.ca))k=O.zE._l(this.$U,k);var e=h.L.ZC(h.vf),U=h.Xs.ZC(h.L);
h.vf=k;h.L=k.add(e);h.Xs=h.L.add(U)}else if(this.$a){var o=h.Xs.ZC(h.L),b=h.vf.ZC(h.L);h.L=k;h.Xs=h.L.add(o);
h.vf=h.L.add(b)}else{if(n.S(gp.ca))k=O.zE._l(h.L,k);if(this.l3){var u=h.Xs;h.Xs=h.vf;h.vf=u}if(this.Qj){var Z=eX.I9(h.L,k),I=Z==0?0:eX.I9(h.L,h.vf)/Z;
h.vf.x=h.L.x+I*(k.x-h.L.x);h.vf.y=h.L.y+I*(k.y-h.L.y)}else h.vf=k;var y=h.type>=3?3:0;if(this.SH&&!this.nl)h.type=y+n.S(gp.d8)?2:1;
if(h.type-y==1){h.Xs=h.L.add(h.L.ZC(k))}this.$U=k;if(this.l3){var u=h.Xs;h.Xs=h.vf;h.vf=u}}this.Oo(x,X.Fp,s,X.add.vogk);
x.yW=!0};O.o5.prototype.t8=function(x,F,W,n,L){if(this.Ty==null)return;var $=x.x8(W.X0==1),l=$[0],k=$[1],V=l[k.pop()],i=V.add.vmsk,f=V.add.vogk;
if(this.Qj){i.Au=[];this.Oo(x,V.Fp,i,V.add.vogk)}var X=this.Ty.$.length,s=i.$.length;if(!this.V5)this.Zp(x,this.Qj?"Close Path":(X==s?"Move":X<s?"Add":"Delete")+" Anchor Point",V.Fp,this.Ty,i.clone(),null,this.U3,JSON.stringify(f));
this.V5=!1;this.Qj=!1;this.l3=!1;this.$a=!1;this.SH=!1;this.Ty=null};O.o5.prototype.FD=function(x,F,W,n,L){this.$t=x.binop};
O.o5.a0G={};O.o5.OF=function(x){var F=O.o5.a0G[x],W=64,k=2,V=10,i=25,f=5,X=35;if(F)return F;var n=new eu(0,0,W,W),L=-.38,$=r.bz(W,W);
$.clearRect(0,0,W,W);var l=O.e1();$.save();$.lineWidth=k;$.translate(4-k/2,4-k/2);$.rotate(L);if(l<1.5){var s=.66;
V*=s;i*=s;f*=s;X*=s}$.lineJoin="miter";$.beginPath();if(x=="cnv"){$.moveTo(-V,i);$.lineTo(0,0);$.lineTo(V,i);
$.stroke()}else{$.moveTo(0,0);$.lineTo(V,i);$.lineTo(f,X);$.lineTo(-f,X);$.lineTo(-V,i);$.lineTo(0,0);
$.moveTo(0,0);$.lineTo(0,i);$.fillStyle="white";$.fill();$.stroke();$.fillStyle="black";$.fillRect(-f-1,X,2*f+2,6);
$.beginPath();$.arc(0,i-2,2.5,0,2*Math.PI,!1);$.fill();$.rotate(-L);$.translate(24,7);$.beginPath();
if(x=="add"||x=="del"||x=="new"){$.moveTo(-5,0);$.lineTo(5,0);if(x=="add"){$.moveTo(0,-5);$.lineTo(0,5)}if(x=="new"){$.moveTo(-2.5,-4.5);
$.lineTo(2.5,4.5);$.moveTo(2.5,-4.5);$.lineTo(-2.5,4.5)}}else if(x=="fin")$.arc(0,0,5,0,2*Math.PI,!1);
else if(x=="mov"||x=="mva"){for(var w=0;w<4;w++){$.moveTo(0,0);$.lineTo(-7,0);var R=1+k;$.moveTo(-7+R,-R);
$.lineTo(-7,0);$.lineTo(-7+R,R);$.rotate(Math.PI/2)}}$.stroke()}$.restore();var h=new Uint8Array($.getImageData(0,0,W,W).data.buffer),B=r.R(W*W);
r.Tb(h,B,3);var e=r.R(W*W),U=[3,5,3,4,8,4,3,5,3];U=r.Ro.vt(U);r.Ro.Yh(B,e,W,W,U);for(var w=0;w<e.length;
w++)e[w]=Math.min(255,e[w]*2);r.Ro.Yh(e,B,W,W,U);for(var w=0;w<B.length;w++)B[w]=Math.min(255,B[w]*2);
var o=h.slice(0);h.fill(255);r.rW(B,h,3);r.l.X3("norm",o,n,h,n,n,1);O.o5.a0G[x]=F={vj:h,fS:n,C8:new eX(4,4)};
return F};O.Eg=function(){O.bw.call(this,[10,30],O.lC,"tools/fpen",!1)};O.Eg.prototype=new O.bw;O.Eg.prototype.FZ=function(x,F,W,n,L,$){var l=n.length-1,k=Math.sqrt((n[l-1]-n[0])*(n[l-1]-n[0])+(n[l]-n[1])*(n[l]-n[1]))<6/L.Q;
return[r.j.vJ(n,k,$),r.mq.PN("customShape",[0,0,1,1],null,null,null,"--")]};O.dn=function(){O.Sj.call(this,[10,27],O.iM,"tools/pselect");
this.mt=null;this.ni=!1;this.rk=null;this.Ty=null;this.DP=null;this.U3=null;this.If=null;this.P8=null;
this.$k=null;this.vn=null};O.dn.prototype=new O.Sj;O.dn.prototype.R0=function(x){return x.Pz};O.dn.prototype.pI=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y),l=x.x8(),k=l[0],V=l[1],i,f;
for(var w=0;w<V.length;w++){var X=k[V[w]],s=X.add.vmsk,R=r.j.VY(s.$,$).Fp;if(R!=-1){this.rk=i=X;f=R}for(var h=0;
h<s.GO.length;h++){var B=r.j.aC8(s.$,s.GO[h]);if(B==null)continue;var e=eX.I9(B,$);if(e<4*O.e1()/x.U.Q){var U=x.B[X.Fp-1e6].add.TySh,o=U.OU.Curve,b=U.i,u=o.Reversed;
o.Reversed=!1;var o=iO.yD(U.OU.Curve);o.Reversed=u;r.Z.i(o[0],b,o[0]);this.$k=[o,h,b.V*b.P9-b.z*b.Pu];
this.rk=i=X;f=0}}if(this.$k)break}if(i!=null){var s=i.add.vmsk;s.Au=[];var Z=s.g.indexOf(f);if(n.S(gp.ca)){if(Z==-1){s.g.push(f);
this.ni=!0}else s.g.splice(Z,1)}else{if(Z==-1)s.g=[f];this.ni=!0}this.P8=r.j.Bd(s.$,s.g)}this.mt=$;this.vn=new d0($);
x.Md=!0;x.yW=!0};O.dn.prototype.Lx=function(x,F,W,n,L){if(this.mt==null)return;var $=x.U.m$(L.x,L.y);
if(this.ni){$=this.vn.PD($,n);var l=this.rk;if(this.Ty==null){this.Ty=this.DP=l.add.vmsk.clone();this.U3=this.If=JSON.stringify(l.add.vogk);
if(n.S(gp.d8)){var k=this.Ty.clone(),V=JSON.parse(this.U3),i=O.Sj.JY(k,V);O.Sj.ox(i,k,V);this.DP=k;this.If=JSON.stringify(V)}}var k=this.DP.clone(),V=JSON.parse(this.If);
if(this.$k){var f=this.$k,X=f[0][0],s=r.Z.cu(X,$.x,$.y);k.GO[f[1]]=f[0][1][s];var R=X[s*2],h=X[s*2+1],B=(X[s*2+2]-R)*($.y-h)-(X[s*2+3]-h)*($.x-R);
if(f[2]<0)B=-B;k.TC=B>0}else{var e=this.P8.clone(),U=e.x,o=e.y;e.offset($.x-this.mt.x,$.y-this.mt.y);
e.x=Math.round(e.x);e.y=Math.round(e.y);var b=O.fI.QF(x,e,W),u=new iJ(1,0,0,1,e.x-U+b[0],e.y-o+b[1]);
r.j.js(k.$,u,k.g);r.mq.i(V,r.D.Mz(u),k.g);O.fI.HY(x,e,b)}this.Oo(x,l.Fp,k,V)}else{var Z=this.mt;x.N.HV=r.Z.o4(new eu(Z.x,Z.y,$.x-Z.x,$.y-Z.y));
x.yW=!0}};O.dn.prototype.t8=function(x,F,W,n,L){if(this.mt==null)return;var $=x.U.m$(L.x,L.y),l=this.rk,k=l?l.add.vmsk:null;
if(this.ni){var V=JSON.stringify(l.add.vogk);if(!this.mt.rr($))this.Zp(x,"Move Paths",l.Fp,this.Ty,k,null,this.U3,V);
if(x!=null&&x.N.kr){x.N.kr=null;x.yW=!0}}else{if(k){var i=this.mt,f=new eu(i.x,i.y,$.x-i.x,$.y-i.y),X=r.j.al0(k.$,f);
if(n.S(gp.ca)){for(var w=0;w<X.length;w++)if(k.g.indexOf(X[w])==-1)k.g.push(X[w])}else k.g=X}x.N.HV=null;
x.yW=!0}this.mt=null;this.Ty=null;this.$k=null;this.ni=!1;this.vn=null};O.dn.prototype.a5x=function(x){var F=this.rk,W=this.YR,n=F.add.vmsk,L=F.add.vogk,$=L.length;
if(x=="confirm"){if(n!=this.Ty)this.Zp(W,[12,94,2],F.Fp,this.Ty,n,null,this.U3,JSON.stringify(L));this.nR();
return}if(x=="cancel"){this.Oo(this.YR,this.rk.Fp,this.Ty.clone(),JSON.parse(this.U3));this.nR()}else{var n=this.Ty.clone(),L=JSON.parse(this.U3);
n.$=r.j.asQ(n.$,n.g,x);this.Oo(this.YR,this.rk.Fp,n,L)}};O.dn.prototype.nR=function(){this.rk=null;this.Ty=null;
this.mt=null;this.EM=this.MB=-1;this.vn=null};O.dn.prototype.HS=function(x,F,W,n){O.Sj.prototype.HS.call(this,x,F,W,n);
if(W.Dj!=this.id)return;if(x.g.length==0)return;var L=x.x8(),$=L[0],l=L[1];if(l.length==0)return;var k=$[l[0]],V=k.add.vmsk,i=k.add.vstk,f=k.add.vogk,X=new gT(S.E.M,!0);
X.data={d:S.H.QQ,f:this.id,_1:"main",iR:V?V:null,mq:f};F.T(X)};O.dn.prototype.FD=function(x,F,W,n,L){var $=x.U0;
if($.iR){var l=W.x8(),k=l[0],V=l[1];if(V.length==0)return;var i=k[V[0]],f=i.add.vmsk.clone(),X=JSON.stringify(i.add.vogk),s=$.iR;
this.Oo(W,i.Fp,s,$.mq);var R=[18,5];if(f.$.length==s.$.length)R=f.g[0]==s.g[0]?"Fill Rule":"Path Order";
this.Zp(W,R,i.Fp,f,s,null,X,JSON.stringify($.mq))}};O.Ax=function(){O.Sj.call(this,[10,28],O.cp,"tools/dselect");
this.EM=-1;this.MB=-1;this.AC=null;this.mt=null;this.rk=null;this.Ty=null;this.U3=null;this.YR=null;
this.mA=0;this.EH={psnap:!1};this.vn=null};O.Ax.prototype=new O.Sj;O.Ax.prototype.R0=function(x){return x.Pz};
O.Ax.prototype.FD=function(x){this.EH=x};O.Ax.prototype.LB=function(x,F,W,n,L){if(x.d=="crnr"){if(W==null)return;
var $=W.x8(),l=$[0],k=$[1];if(k.length==0){alert("No paths selected");return}var V=l[k[0]],i=V.add.vmsk;
if(i.Au.length==0){alert("No corners selected");return}for(var w=0;w<i.Au.length;w++){var f=i.$[i.Au[w]];
if(!f.L.rr(f.vf)||!f.L.rr(f.Xs)){alert("Only sharp corners can be rounded");return}}if(this.Ty==null){this.Ty=V.add.vmsk.clone();
this.U3=JSON.stringify(V.add.vogk);this.rk=V;this.YR=W}var X=new gT(S.E.M,!0);X.data={d:S.H.Ar,ip:"cornerradius",aG:5,Fv:this.aBG.bind(this)};
F.T(X)}else O.Sj.prototype.LB.call(this,x,F,W,n,L)};O.Ax.prototype.aBG=function(x){if(x=="confirm"){var F=this.YR,W=this.rk,n=W.add.vmsk,L=W.add.vogk;
this.Zp(F,[12,94,0],W.Fp,this.Ty,n,null,this.U3,JSON.stringify(L));this.nR();return}var n=this.Ty.clone(),L=JSON.parse(this.U3),$=n.Au;
if(x=="cancel"){}else{var l=[];for(var w=0;w<$.length;w++){var k=$[w],V=r.j.Qx(n.$,k,!0),X=0;if(l.indexOf(V)!=-1)continue;
l.push(V);var i=r.j.Of(n.$,V,!0),f=n.$[i].length,s=[];for(var R=0;R<f;R++){var h=n.Au.indexOf(i+R+1)==-1?0:x;
s.push(h);if(h!=0)X++}r.j.DA(n.$,i,s);for(var R=0;R<$.length;R++)if($[R]>i+f)$[R]+=X}this.NB(n,L);n.Au=[]}this.Oo(this.YR,this.rk.Fp,n,L);
if(x=="cancel")this.nR()};O.Ax.prototype.disable=function(x,F,W,n){this.T1(x)};O.Ax.prototype.pI=function(x,F,W,n,L){this.T1(x);
var $=x.U.m$(L.x,L.y),X,s,R;this.AC=$.clone();var l=x.x8(),k=l[0],V=l[1];if(V.length==0)return;var i=O.m8(x,L),f=new eu($.x-i,$.y-i,i*2,i*2);
for(var h=0;h<V.length;h++){X=this.rk=k[V[h]];s=X.add.vmsk;R=r.j.JJ(s.$,f);if(R[0].length+R[1].length+R[2].length!=0)break}var B=[!1,!1,!1];
for(var w=0;w<3;w++){for(var e=0;e<R[w].length;e++){var U=R[w][e],o=s.$[U];if(s.Au.indexOf(U)!=-1||w==1&&s.Au.indexOf(U-1)!=-1&&!o.L.rr(o.Xs)||w==2&&s.Au.indexOf(U+1)!=-1&&!o.L.rr(o.vf)){R[w]=[U];
B[w]=!0;break}}}if(R[0].length!=0&&(B[0]||!B[1]&&!B[2])){var b=R[0][0],u=s.Au.indexOf(b);if(n.S(gp.ca)){if(u==-1)s.Au.push(b);
else{s.Au.splice(u,1);x.yW=!0;return}}else if(u==-1)s.Au=[b];this.EM=b;this.MB=0}else if(R[1].length!=0&&B[1]){this.EM=R[1][0];
this.MB=1}else if(R[2].length!=0&&B[2]){this.EM=R[2][0];this.MB=2}else{var Z=r.j.VY(s.$,$,!0,i);if(Z.Fp==-1)this.mt=$;
else{s.g=[Z.Fp];s.Au=[]}}if(this.Ty==null){this.Ty=X.add.vmsk.clone();this.U3=JSON.stringify(X.add.vogk)}this.vn=new d0($);
x.yW=!0};O.Ax.prototype.Lx=function(x,F,W,n,L){if(x==null)return;var $=x.U.m$(L.x,L.y),l=this.rk;if(this.EM!=-1){var k=this.Ty.clone(),V=l.add.vogk,i=k.$[this.EM];
i=[i.L,i.Xs,i.vf][this.MB];if(n.S(gp.ca)){if(this.MB==0){$=this.vn.PD($,n);$.x+=i.x-this.AC.x;$.y+=i.y-this.AC.y}else $=O.zE._l(k.$[this.EM].L,$)}else{if(this.EH.psnap){$.x=Math.round($.x);
$.y=Math.round($.y)}$=O.fI.FW(x,$,W)}if(this.MB==0){var f=new iJ(1,0,0,1,$.x-i.x,$.y-i.y);r.j.js(k.$,f,null,k.Au)}else{var X=k.$[this.EM],s=X.Xs,R=X.vf;
if(this.MB==2){s=X.vf;R=X.Xs}if(n.S(gp.d8)&&(X.type==1||X.type==4))X.type++;s.xz($.x,$.y);if(X.type==1||X.type==4){var h=eX.I9(s,X.L),B=eX.I9(R,X.L);
if(B!=0){R.x=X.L.x-(s.x-X.L.x)*(B/h);R.y=X.L.y-(s.y-X.L.y)*(B/h)}}}this.NB(k,V);this.Oo(x,l.Fp,k,V)}else if(this.mt!=null){var e=this.mt;
x.N.HV=r.Z.o4(new eu(e.x,e.y,$.x-e.x,$.y-e.y));x.yW=!0}else{var U=x.x8(),o=U[0],b=U[1],l,k,I;if(b.length==0)return;
var u=O.m8(x,L),Z=new eu($.x-u,$.y-u,u*2,u*2);for(var y=0;y<b.length;y++){l=o[b[y]];k=l.add.vmsk;I=r.j.JJ(k.$,Z);
if(I[0].length+I[1].length+I[2].length!=0)break}this.T1(x);for(var w=0;w<3;w++){for(var D=0;D<I[w].length;
D++){var N=I[w][D],j=k.$[N];j=w==0?j.L:w==1?j.Xs:j.vf;x.N.Vq.push(j.x,j.y);x.yW=!0}}}};O.Ax.prototype.T1=function(x){if(x&&x.N.Vq.length!=0){x.N.Vq=[];
x.yW=!0}};O.Ax.prototype.t8=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y),l=this.rk,k=l?l.add.vmsk:null,V=l?l.add.vogk:null;
if(this.EM!=-1){if(Date.now()-this.mA<300){var i=k.$[this.EM],f=this.MB,X=null;if(f==0){var s=i.Xs.rr(i.L),R=i.vf.rr(i.L);
if(!s&&!R){X="Anchor Type";if(i.type==1||i.type==4)i.type++;else{i.type--;i.vf=i.L.add(i.L.ZC(i.Xs))}}else{X="Add Handles";
if(s&&R){i.Xs.x-=30;i.vf.x+=30}else if(s)i.Xs=i.L.add(i.L.ZC(i.vf));else if(R)i.vf=i.L.add(i.L.ZC(i.Xs))}}else{X="Remove Handle";
if(f==1)i.Xs.B1(i.L);else i.vf.B1(i.L)}this.NB(k,V);this.Oo(x,l.Fp,k,V);this.Zp(x,X,l.Fp,this.Ty,k,null,this.U3,JSON.stringify(V))}else if(!this.AC.rr($)){this.Zp(x,"Drag Anchors",l.Fp,this.Ty,k,null,this.U3,JSON.stringify(V))}this.mA=Date.now()}else if(this.mt!=null){var h=this.mt,B=new eu(h.x,h.y,$.x-h.x,$.y-h.y);
if(B.m<0)B.x+=B.m;if(B.e<0)B.y+=B.e;B.m=Math.abs(B.m);B.e=Math.abs(B.e);var e=r.j.JJ(k.$,B);k.Au=e[0].concat(n.S(gp.ca)?k.Au:[]);
x.N.HV=null}this.nR();x.yW=!0};O.Ax.prototype.nR=function(){this.rk=null;this.Ty=null;this.mt=null;this.EM=this.MB=-1;
this.vn=null};O.Ax.prototype.NB=function(x,F){for(var w=0;w<x.Au.length;w++){var W=r.j.Qx(x.$,x.Au[w]);
r.mq.Ef(F,W)}};O.Ax.prototype.lH=function(x,F,W,n){if(x==null)return;var L=x.x8(),$=L[0],l=L[1];if(l.length==0)return;
var k=$[l[0]],V=k.add.vmsk;if(V==null||V.Au.length==0)return;var i=k.add.vogk,f=JSON.stringify(i),X=n.xa(x?x.U.O4:0);
if(X.x!=0||X.y!=0){var s=V.clone(),R=V.clone(),h=new iJ(1,0,0,1,X.x,X.y);r.j.js(R.$,h,null,R.Au);this.NB(R,i);
this.Oo(x,k.Fp,R,i);this.Zp(x,"Move Anchors",x.g[0],s,R.clone(),!0,f,JSON.stringify(i))}if(n.S(gp.bl)||n.S(gp.F_))this.LB({d:"remove",em:!0,ah7:!0},F,x,n,W)};
O.Ax.prototype.Zp=function(x,F,W,n,L,$,l,k){var V=x.Ao();if($&&V!=null&&V.f==this&&V.data.a7z&&V.data.b4==W&&JSON.stringify(V.data.Cj.Au)==JSON.stringify(n.Au)){V.data.xd=L;
V.data.Kp=k}else{var V=new fd(F,this);V.data={b4:W,Cj:n,xd:L,a7z:$,auy:l,Kp:k};x.fC(V)}};O.Rect=function(){O.bw.call(this,[10,32],O.gX,"tools/rect",!0)};
O.Rect.prototype=new O.bw;O.Rect.prototype.FZ=function(x,F,W){var n=this.y6.crad,L=F.x-x.x,$=F.y-x.y;
return[r.j.sk.Rect(x.x,x.y,L,$,n),r.mq.PN("Rctn",[x.x,x.y,F.x,F.y],[n,n,n,n])]};O.Dd=function(){O.bw.call(this,[10,33],O.fK,"tools/ellipse",!0)};
O.Dd.prototype=new O.bw;O.Dd.prototype.FZ=function(x,F,W){var n=F.x-x.x,L=F.y-x.y;return[r.j.sk.Dd(x.x,x.y,n,L),r.mq.PN("Elps",[x.x,x.y,F.x,F.y])]};
O.D4=function(){O.bw.call(this,[10,34],O.di,"tools/pshape",!1);this.y6.aopts=[!1,!0,50,100,0]};O.D4.prototype=new O.bw;
O.D4.prototype.FZ=function(x,F,W){var n=this.y6.pshape,L=this.y6.crad,$=this.y6.irad/100,l=this.y6.sides,k=this.y6.width,V=this.y6.aopts,i=this.y6.length,e;
F=F.clone();var f=x.x,X=x.y,s=F.x,R=F.y,h=Math.sqrt((s-f)*(s-f)+(R-X)*(R-X)),B=Math.atan2(-R+X,s-f);
if(W)B=Math.round(B*180/Math.PI/15)*15*Math.PI/180;if(n==0)e=r.j.sk.UU(f,X,h,B,l,L);if(n==1)e=r.j.sk.anT(f,X,h,B,l,L,$);
if(n==2)e=r.j.sk.gZ(x.x,x.y,F.x,F.y,k,V);if(n==3)e=r.j.sk.ac9(f,X,h,B,i);return[e,r.mq.PN("customShape",[x.x,x.y,F.x,F.y],null,null,null,"--")]};
O.D4.prototype.lH=function(x,F,W,n){O.bw.prototype.lH.call(this,x,F,W,n);var L=n.xa(),$=this.y6,l,k;
if(L.y!=0){var V=-L.y,i=$.pshape;if(i<2){l="sides";k=Math.max(3,Math.min(100,$.sides+V))}else if(i==2){l="width";
k=Math.max(1,Math.min(100,$.width+V))}else if(i==3){l="length";k=Math.max(4,Math.min(40,$.length+V))}}if(L.x!=0){l="pshape";
k=Math.max(0,Math.min(3,$.pshape+L.x))}if(l){var f=new gT(S.E.M,!0),X={};X[l]=k;$[l]=k;f.data={d:S.H.QQ,f:this.id,k1:"vals",a6q:X};
F.T(f);this.Lx(x,F,W,n)}};O.iu=function(){O.bw.call(this,[10,35],O.Zy,"tools/line",!1)};O.iu.prototype=new O.bw;
O.iu.prototype.FZ=function(x,F,W){var n=this.y6.width,L=this.y6.aopts;F=F.clone();if(W){F=O.zE._l(x,F)}return[r.j.sk.gZ(x.x,x.y,F.x,F.y,n,L),r.mq.PN("Ln",null,null,[x.x,x.y,F.x,F.y],n,null,L)]};
O.Y1=function(){O.bw.call(this,[10,31],O.S4,"tools/cshape",!0)};O.Y1.prototype=new O.bw;O.Y1.prototype.FZ=function(x,F,W){var n=this.y6.shape,L=n.A$.m/n.A$.e,$=t.C$.uF(n.$);
F=F.clone();if(W){F.y=x.y+(F.x-x.x)/L}var l=F.x-x.x,k=F.y-x.y;r.j.js($,new iJ(l,0,0,k,x.x,x.y));return[$,r.mq.PN("customShape",[x.x,x.y,F.x,F.y],null,null,null,n.DX)]};
O.Y=function(x,F,W){O.p9.call(this,x,F,W);this.G2=0;this.B=null;this.qJ=null;this.gr=null;this.nq=1;
this.MZ=0;this.Vi=!0;this.Jd=!1;this.cursor=null;this.Nt=null;this.WZ=null;this.$X=!1;this.UI=null;this.a7N=0;
this.OD=null;this.tq=0;this.Mk=null;this.et=null;this._L=null;this.oq=null;this.a9d=null;this.gc=null};
O.Y.prototype=new O.p9;O.Y.GV=function(x,F,W){var n={classID:"null",null:ga.oY(W?"Lyr":"Dcmn",!0)};if(x)n.Angl={t:"UntF",v:{type:"#Ang",val:F}};
else n.Axis={t:"enum",v:{Ornt:F}};return{Y3:x?"rotateEventEnum":"flip",Xe:n}};O.Y.prototype.Nc=function(x,F,W,n,L){var $=new gT(S.E.M,!0);
$.data={d:S.H.QQ,f:this.id,t4:L,Oq:x,gr:W};F.T($);this.dz=!1};O.Y.prototype.R0=function(x){return this.et&&this.et.atY()};
O.Y.prototype.LB=function(x,F,W,n,L){this.gr=L;if(x.d=="again"&&this.OD==null)return;if(!this.pn(W,L))return;
if(this.et){this.an$(x,this.et.cv(),F,W,n,L);this.Pr(W,L,0,!0);this.Lo(W);return}this.ava(W,x.a==null,x.a);
this.a5S(W);this.an$(x,x.ag6,F,W,n,L);this.W3(W,F,x.Sa,!1)};O.Y.prototype.an$=function(x,F,W,n,L,$){var l=this.Mk;
if(F==null){var k=x.TL!=null?x.TL:4;F=this.et.a9q()[k]}var V=F.x,i=F.y;if(x.d=="rot"&&x.b!=Math.PI&&(l.m+l.e&1)==1){V=Math.floor(V);
i=Math.floor(i)}var f=new iJ;f.translate(-V,-i);if(x.d=="rot")f.rotate(x.b);if(x.d=="scl")f.scale(x.b.x,x.b.y);
if(x.d=="mat")f.concat(x.b);f.translate(V,i);if(x.d=="again")f=this.OD;var X=r.D.Mz(f);if(x.d=="dtr"){var s=r.D;
X=s.pY(x.b,s.R(-V,-i));X=s.pY(s.R(V,i),X)}var R=this.et.Pi();r.D.i(X,R);this.et.GI(R);if(x.pG){var h=x.pG.v;
this.FD({_1:"switchWarp"},W,n,L);this.FD({_1:"wrp",pG:h},W,n,L)}};O.Y.prototype.ek=function(){return!0};
O.Y.prototype.pn=function(x,F,W){if(x==null)return!1;if(this.id==O.Uj)return x.u!=null;var n=x.zm(!0,null,null,!0);
if(this.id==O.h2&&x.B[n[0]].rect.ak()){alert("Layer is empty.");return!1}for(var w=0;w<n.length;w++){var L=x.B[n[w]];
if(L._3(2)||L._3(31)){alert(hz.get([6,57,0]));return!1}if(L.add.artb){alert("You can not transform the whole artboard");
return!1}if(L.add.TySh)if(!kc.Tq(L.add.TySh,F.op))return!1;if(L.add.SoLd){if(n.length==1&&(W&&W.tj==-1)&&(L.GH()&&L.GH().eS||L.add.vmsk&&L.add.vmsk.eS)){alert("Unlink masks before transforming Smart Object");
return!1}if(!x.acO(L.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+x.hz(L.add.SoLd.Idnt.v).GR+")");
return!1}}}if(x.u==null)return!0;if(!x.SP())return!1;return x.a56()};O.Y.prototype.pI=function(x,F,W,n,L){var $=this.xF(L,x),l=$[0],k=$[1],V=this.tq==0?this.et:this._L;
x.U.Q*=k;this.Jd=V.pI(x,W,n,l,null,null,L);this.Lo(x,l);x.U.Q/=k;if(this.Jd&&V.yM(l)){if(Date.now()-this.a7N<250)this.W3(x,F,null,!0);
this.a7N=Date.now()}};O.Y.prototype.ee=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.W_,VD:this.cursor};
x.T(F)};O.Y.prototype.xF=function(x,F){var W=1;x=F.U.m$(x.x,x.y);if(this.tq==1){var n=r.D.An(this.et.Pi(),this.Mk);
W=r.D.N9(n).NX();var L=r.D.sx(n);x=r.D.abC(L,x)}return[x,W]};O.Y.prototype.Lx=function(x,F,W,n,L){var $=this.xF(L,x),l=$[0],k=$[1],V=this.tq==0?this.et:this._L;
if(!L.Pz){var i="default";if(V){var f=V.h7(l,x.U.Q*k,null,L);if(f)i=f}if(i!=this.cursor){this.cursor=i;
this.ee(F)}if(this._L){this.Lo(x,l)}}if(!this.Jd)return;x.U.Q*=k;var X=this.IN=V.Lx(x,W,n,l,this.Vi);
x.U.Q/=k;this.Pr(x,W,0,!0);this.Lo(x,l);this.EL(F)};O.Y.prototype.t8=function(x,F,W,n,L){var $=this.xF(L,x),l=$[0],k=$[1];
this.et.t8(x,W,n,l);if(this._L){var V=this._L.t8(x,W,n,l);if(V){this.EL(F,!0);this.Lo(x)}}if(this.IN){var i=this.MN(),f=r.Z.o4(this.Mk).p;
r.D.i(i,f);this.et.GI(f);this.IN=null}this.Jd=!1};O.Y.prototype.lH=function(x,F,W,n){if(n.S(gp.hI))this.W3(x,F,null,!0);
else if(n.S(gp.oX))this.Wa(x,F);else{var L=this.et.lH(x,W,n);if(L){this.Pr(x,W,0,!0);this.EL(F)}}};O.Y.prototype.FD=function(x,F,W,n){if(x._1=="commit")this.W3(W,F,null,!0);
else if(x._1=="cancel")this.Wa(W,F);else if(x._1=="switchWarp"){this.tq=1-this.tq;this.agK();this.Lo(W);
this.EL(F)}else if(x._1=="wrp"){this._L.amG(x.pG);this.Lo(W);this.Pr(W,this.gr,0,!0)}else if(x._1=="splt")this._L.a3i(x.b);
else if(x._1=="ctyp"){this.et.a7d(x.dS);this.Lo(W);this.EL(F)}else if(x._1=="cen"){this.et.aml(x.C8);
this.Lo(W);this.Pr(W,this.gr,0,!0)}else if(x._1=="trn"){var L=r.D.Mz(x.Iy),$=this.Mk,l=r.D.An(this.et.Pi(),this.Mk);
L[6]=l[6],L[7]=l[7];var k=[$.x,$.y,$.x+$.m,$.y,$.x+$.m,$.y+$.e,$.x,$.y+$.e];r.D.i(L,k);this.nq=x.nq;
if(x.MZ!=this.MZ){this.MZ=x.MZ;this.akl(W)}this.Vi=x.Vi;this.et.GI(k);this.Lo(W);this.Pr(W,this.gr,0,!0)}};
O.Y.prototype.Lo=function(x,F){if(this.tq==0)this.et.XW(x,this.gr);else{this._L.XW(x,F);var W=this.MN();
r.D.i(W,x.N.DG.p);r.D.i(W,x.N.uf);r.D.i(W,x.N.kV)}};O.Y.prototype.W3=function(x,F,W,n){this.Pr(x,this.gr,this.nq);
var L=new fd(W?W:this.name,this),Z="";if(this.G2==0)L.data={type:this.G2,B:this.B,UI:this.qJ,uy:O.Y.__(x,this.B)};
else if(this.G2==1){var $=x.B[this.B[0]],l;if($.vp.sj<=0){l=r.R($.vp.Ce.P());r.Tb($.vp.WS,l,3)}else l=x.u.channel;
var k={rect:$.vp.Ce.clone(),channel:l};L.data={type:this.G2,a:this.B[0],WZ:this.WZ,U_:k,Nt:this.Nt,$X:this.$X,vp:$.vp,UI:this.UI,uy:{fS:$.vp.Ce,LK:$.vp.WS}}}else if(this.G2==2){L.data={type:this.G2,WZ:this.WZ,U_:{rect:x.u.rect.clone(),channel:x.u.channel.slice(0)}}}x.fC(L);
var V=this.Mk,i=r.D.An(this.et.Pi(),V),f=this.qJ,X=f?f[0]:null;if(f&&f.length==1&&X[4]){var s=O.Y.kT(X[4].nonAffineTransform),V=r.Z.KR(r.xP.Bs(X[4].quiltWarp.v)[3]),R=r.D.An(s,V);
i=r.D.pY(i,r.D.sx(R))}var h=r.D.N9(i),B=this.et.cv(),e=new iJ;e.translate(B.x,B.y);e.concat(h);e.translate(-B.x,-B.y);
h=e.clone();var U=-Math.atan2(-h.z,h.V),o=new iJ;o.rotate(U);h.concat(o);function b(j,H){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][H],val:j}}}var u=ga.oY("Lyr",!0);
if(this.id==O.Uj)u.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var I=O.Y.am2;for(var y in I)if(I[y]==this.et.VO)Z=y;
if(Z==""){Z="Qcsi";e.yq=e.Ze=0}var D={classID:"null",null:u,FTcs:{t:"enum",v:{QCSt:Z}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:b(e.yq,0),Vrtc:b(e.Ze,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:b(Math.atan(h.Pu/h.P9)*180/Math.PI,2),Vrtc:b(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:b(100*0,1),Vrtc:b(100*0,1)}},Wdth:b(h.V*100,1),Hght:b(h.P9*100,1),Angl:b(U*180/Math.PI,2)};
if(Z=="Qcsi")D.Pstn={t:"Objc",v:{Hrzn:b(B.x,0),Vrtc:b(B.y,0)}};var N=this._L?this._L.wY():null;if(N&&!r.xP.oK(N)){D.quiltWarp={t:"Objc",v:N}}this.gP=F;
this.track({Y3:"transform",Xe:D});this.escape(x,F,n)};O.Y.am2={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
O.Y.prototype.Wa=function(x,F){if(this.G2==0)O.Y.y3(x,this.B,this.qJ);else if(this.G2==1){var W=x.B[this.B[0]];
x.u=this.WZ;if(!this.$X){W.vp.Ce=this.UI.fS;W.vp.WS=this.UI.LK;W.FE(x,0,0,x.u)}else{W.LG(x,this.Nt)}x.W();
x.eT=!0}else if(this.G2==2){x.u=this.WZ;x.eT=!0}this.escape(x,F,!0)};O.Y.prototype.escape=function(x,F,W){this.et.clear(x);
if(this._L)this._L.clear(x);this.et=null;this._L=null;this.gc=null;this.tq=0;if(W)this.Nm(F,S.E.M,{d:S.H.g3})};
O.Y.prototype.Th=function(x,F){if(x.type==0)O.Y.y3(F,x.B,x.uy);else{if(x.type==1){var W=F.B[x.a];if(x.$X){W.vp=x.vp}else{W.vp.Ce=x.uy.fS;
W.vp.WS=x.uy.LK}W.FE(F,0,0,F.u);F.W()}F.u={rect:x.U_.rect.clone(),channel:x.U_.channel.slice(0)};F.eT=!0}};
O.Y.prototype.hm=function(x,F){if(x.type==0)O.Y.y3(F,x.B,x.UI);else{if(x.type==1){var W=F.B[x.a];if(x.$X){W.LG(F,x.Nt)}else{W.vp.Ce=x.UI.fS;
W.vp.WS=x.UI.LK;W.FE(F,0,0,F.u)}F.W()}F.u=x.WZ;F.eT=!0}};O.Y.prototype.ava=function(x,F,W){x.x8();var n=[];
if(W==null)for(var w=0;w<x._H.length;w++)if(x.V2[x._H[w]].add.vmsk.$.length>2)n.push(-1-x._H[w]);var L=[],$=x.U.O;
if($[0]+$[1]+$[2]==3)if(W!=null||n.length==0||x.TQ!=null&&x.TQ.length!=0){if(x.g.length==1){var l=x.B[x.g[0]];
if(l.vN()&&l.HZ)L=[x.g[0]]}if(L.length==0)L=x.zm(F,W,null,!0)}L=L.concat(n);for(var w=0;w<x.kO.length;
w++)L.push(-1e3-x.kO[w]);this.B=L};O.Y.prototype.enable=function(x,F,W,n,L,$){if(this.cursor==null)this.cursor="default";
this.ee(F);if(this.et)return;this.gr=W;this.ava(x,!0);this.a5S(x,$&&$.tj!=null&&$.tj!=-1?$.tj:null);
this.EL(F,null,x);this.Lo(x);if($&&$.tj==-1)this.FD({_1:"switchWarp"},F,x,n)};O.Y.prototype.CH=function(){return[this.Vi?1:0]};
O.Y.prototype.LP=function(x,F,W){if(x&&x[0]!=null)this.Vi=x[0]==1};O.Y.prototype.EL=function(x,F,W){var n={d:S.H.QQ,f:this.id};
if(this.tq==0){var L=r.D.An(this.et.Pi(),this.Mk),$=r.D.N9(L);n.Iy={Rg:$,dS:this.et.a4z(),C8:this.et.cv(),fS:this.Mk.clone(),Vi:this.Vi}}else{n.afu=F;
n.pG=this._L.wY()}if(W){n.o2=["---"];for(var w=0;w<W.o2.length;w++)n.o2.push(W.o2[w].name)}n.a2r=this._L!=null;
this.Nm(x,S.E.M,n)};O.Y.prototype.a5S=function(x,F){var W=this.id==O.Uj,n=!0,L=this.B[0],$=x.B[L],k=null,V=null,i=null,s=null;
if(W){this.G2=2;this.WZ=x.u}else if(x.u&&this.B.length==1&&L>=0&&!$.rect.ak()){this.G2=1;this.WZ=x.u;
this.Nt=$.vp;this.$X=!1;if(!$.zG(x,x.u)){this.$X=!0;$.Gx(x,x.u,!1)}this.UI={LK:$.vp.WS,fS:$.vp.Ce}}else{this.G2=0;
this.qJ=O.Y.__(x,this.B,null);for(var w=0;w<this.qJ.length;w++)if(this.qJ[w][3]!=null)n=!1}var l=this.G2==1;
if(this.qJ&&this.qJ.length==1){var f=this.qJ[0];if(f[2]!=null)V=f[2].iR;if(f[3]==null)l=!0;if(f[3]!=null)i=f[3];
if(f[4]!=null){k=x.B[this.B[0]].add.SoLd;if(f[1]||f[2])l=!1}}var X=W?x.u.rect.clone():O.Y.oU(x,this.B);
this.Mk=X;if(!W&&V&&aH==1){s=V.aim();this.oq=r.D.An(s,this.Mk)}else if(!W&&i&&aH==1){var R=x.B[this.B[0]],i=R.add.TySh;
s=r.Z.o4(R.jT.hq).p;r.Z.i(s,i.i,s);this.oq=r.D.An(s,this.Mk)}else if(!W&&k){s=O.Y.kT(k.nonAffineTransform);
this.Mk=r.Z.KR(r.xP.Bs(k.quiltWarp.v)[3]);if(l)this._L=new cQ(k.quiltWarp.v);this.oq=r.D.An(s,this.Mk)}else{if(l||W)this._L=new cQ(r.xP.R(this.Mk));
this.oq=[1,0,0,0,1,0,0,0];if(this.id==O.h2)F=3;s=[X.x,X.y,X.x+X.m,X.y,X.x+X.m,X.y+X.e,X.x,X.y+X.e]}this.et=new fn(s,!0,!0,n,!1,!1,F);
this.a9d=[1,0,0,0,1,0,0,0];this.akl(x)};O.Y.prototype.akl=function(x){if(this.id==O.h2){var F,W,$=null;
if(this.qJ&&x.u==null){var n=this.qJ[0][0],L=n.Bg;F=L[0];W=L[1]}else if(this.UI){F=this.UI.LK;W=this.UI.fS}if(this.MZ!=0)$=x.o2[this.MZ-1].PM(W);
this.gc=r.s1.ajT(F,W.m,W.e,$)}};O.Y.oU=function(x,F){if(F==null)F=x.zm(!0,null,null,!0);var W=new eu,n=new eu;
if(x.u&&F.length==1&&F[0]>=0)W=x.u.rect.clone();else for(var w=0;w<F.length;w++){var L=F[w],$=0<=L?x.B[L]:-1e3<L?x.V2[-1-L]:x.o2[-1e3-L],l=$.add?$.add.vmsk:null,k=0<=L?$.JH(x,F.length==1,!1,!0):-1e3<L?r.j.Bd(l.$,F.length==1&&l.g.length!=0?l.g:null):$.rect.clone();
W=W.oA(k);if(L>0&&$.add.artb)n=n.oA($.U$())}return!n.ak()?n:W};O.Y.prototype.Nm=function(x,F,W,n){var L=new gT(F,!0);
L.data=W;if(n)L.f=n;x.T(L)};O.Y.__=function(x,F,W){var n=[];for(var w=0;w<F.length;w++){var L=F[w],$,l;
if(L>=0){$=x.B[L];l=$.ET(x,W,!0)}else if(L>-1e3){$=x.V2[-1-L];l=[2]}else{n.push([null,null,null,null,null,null,null,x.o2[-1e3-L].clone()]);
continue}var k=[],V=l.indexOf(0)!=-1;if(V){var i={Bg:$.add.SoLd?null:[$.buffer.slice(0),$.rect.clone()]};
k.push(i);if($.mK()){var f=$.DU(x);i.ay8=f.buffer.slice(0);i.aw5=f.rect.clone()}}else k.push(null);if(l.indexOf(1)!=-1)k.push($.GH().clone());
else k.push(null);if(l.indexOf(2)!=-1)k.push({iR:$.add.vmsk.clone(),pr:$.add.vstk?JSON.parse(JSON.stringify($.add.vstk)):null,oa:$.add.vstk?eC.Bz(x.B[L].add):null,J1:$.add.vstl?JSON.stringify($.add.vstl):null,mq:$.add.vogk?JSON.parse(JSON.stringify($.add.vogk)):null});
else k.push(null);if($.add.TySh&&V){iV.QN($.add.TySh);k.push($.add.TySh.i.clone())}else k.push(null);
if($.add.SoLd&&V)k.push(JSON.parse(JSON.stringify($.add.SoLd)));else k.push(null);if(l.indexOf(3)!=-1)k.push($.DU(x).F.clone());
else k.push(null);if($.add.lmfx)k.push(JSON.stringify($.add.lmfx));else k.push(null);n.push(k)}return n};
O.Y.y3=function(x,F,W){for(var w=0;w<F.length;w++){var n=F[w],L=0<=n?x.B[n]:-1e3<n?x.V2[-1-n]:x.o2[-1e3-n],$=W[w];
if($[0]){if($[0].Bg){L.rect=$[0].Bg[1].clone();L.buffer=$[0].Bg[0].slice(0)}if(L.mK()){var l=L.DU(x);
l.buffer=$[0].ay8.slice(0);l.rect=$[0].aw5.clone()}}if($[1]){L.GH().channel=$[1].channel.slice(0);L.GH().rect=$[1].rect.clone();
L.GH().DQ=!0}if($[2]){L.add.vmsk=$[2].iR.clone();if($[2].oa)eC.zW(L.add,$[2].oa);if($[2].pr)L.add.vstk=JSON.parse(JSON.stringify($[2].pr));
if($[2].mq)L.add.vogk=JSON.parse(JSON.stringify($[2].mq));if($[2].J1)L.add.vstl=JSON.parse($[2].J1)}if($[3]){L.add.TySh.i=$[3].clone();
iV.Gj(L.add.TySh)}if($[4]){L.add.SoLd=JSON.parse(JSON.stringify($[4]))}if($[5]){var k=L.DU(x).F;k.channel=$[5].channel.slice(0);
k.rect=$[5].rect.clone()}if($[6]){L.add.lmfx=JSON.parse($[6])}if($[7]){L.channel=$[7].channel.slice(0);
L.rect=$[7].rect.clone();L.DQ=!0}if(0<=n){L.pZ(x);L.W();if($[4])L.Bw(x,!1)}}x.W()};O.Y.aV=function(x,F,W,n,L,$,l,k,V,i){if(typeof $[0]=="number"){var f=[];
for(var w=0;w<W.length;w++)f[w]=$;$=f}for(var w=0;w<W.length;w++){var X=$[w],s=r.D.N9(X),R=s.NX(),h=W[w],B=0<=h?x.B[h]:-1e3<h?x.V2[-1-h]:x.o2[-1e3-h],e=n[w];
if(B.add&&B.add.lmfx&&k)hM.Fe(B.add.lmfx,R);if(e[0]&&!e[3]&&!e[4]&&!e[5]){var U=e[0].Bg;if(V){var o=V.clone(),b=r.R(o.P()*4);
r.sh(U[0],U[1],b,o);U=[b,o]}var u=O.Y.QJ(U,L,X,l,L==0?B.buffer.buffer:null,null,null,i);if(u){B.rect=u.rect;
B.buffer=u.buffer}}if(e[1]){var Z=B.GH();O.Y.lL(x,e[1],Z,L,X,l,Z.eS&&l&&!r.xP.oK(l)&&e[0]?e[0].Bg[1]:null);
if(V){var o=B.rect.jB(V),I=r.R(o.P());r.Hz(Z.channel,Z.rect,I,o);Z.channel=I;Z.rect=o}}if(e[2]){var y=l&&!r.xP.oK(l),D=e[2].iR.clone(),N=W.length==1&&D.g.length!=0,j=W.length==1&&D.Au.length>1;
if(j)N=!1;var H=N?D.g:null,Q=j?D.Au:null;if(y){var C=r.xP.Bs(l);r.D.i(X,C[3]);r.j.awt(D.$,C,H,Q)}else r.j.ade(D.$,X,H,Q);
if(B.add.vstk&&k){B.add.vstk.strokeStyleLineWidth.v.val=e[2].pr.strokeStyleLineWidth.v.val*R;var J=e[2].oa;
if(J&&J.d_==3){J=JSON.parse(JSON.stringify(J));var E=J.oa.phase.v;J.oa.Scl.v.val=Math.round(J.oa.Scl.v.val*R);
E.Hrzn.v=Math.round(E.Hrzn.v*R);E.Vrtc.v=Math.round(E.Vrtc.v*R);eC.zW(B.add,J)}}if(B.add.vogk){B.add.vogk=JSON.parse(JSON.stringify(e[2].mq));
if(y||j)r.mq.ayO(B.add.vogk);else r.mq.i(B.add.vogk,X,W.length>1?[]:D.g,k)}if(B.add.vstl){var T=B.add.vstl=JSON.parse(e[2].J1);
for(var c=0;c<2;c++){var a=c==0?T.Hy:T.MV;if(a==null||a[3]==null)continue;var K=a[3],Y=new iJ(K[0],K[1],K[2],K[3],K[4],K[5]);
Y.concat(s);a[3]=[Y.V,Y.z,Y.Pu,Y.P9,Y.yq,Y.Ze]}}D.vX*=R;var p=new iJ;p.rotate(D._c);p.concat(s);D._c=Math.atan2(-p.z,p.V);
B.add.vmsk=D;if(B.add.vogk)r.mq.Er(B.add.vogk,B.add.vmsk)}if(e[3]){var Y=e[3].clone();Y.concat(s);B.add.TySh.i=Y;
iV.Gj(B.add.TySh);kc.Fw(B,F.op)}if(e[4]){var P=B.add.SoLd,m=O.Y.kT(e[4].nonAffineTransform);r.D.i(X,m);
var z=r.Z.Gn(m);if(fn.R$(m)){if(l){var M=r.Z.KR(r.xP.Bs(e[4].quiltWarp.v)[3]),I=r.D.An(m,M),d=r.Z.KR(r.xP.Bs(l)[3]);
m=[d.x,d.y,d.x+d.m,d.y,d.x+d.m,d.y+d.e,d.x,d.y+d.e];r.D.i(I,m);P.quiltWarp.v=l}var A=r.D.An(m),G=m;if(!r.D.nG(A)){A[6]=A[7]=0;
G=[0,0,1,0,1,1,0,1];r.D.i(A,G)}P.Trnf=O.Y.ud(G);P.nonAffineTransform=O.Y.ud(m);if(P.filterFX)P.filterFX=JSON.parse(JSON.stringify(e[4].filterFX));
O.Y.aiD(P,s);B.Bw(x,L==0,F.op)}}if(e[5])O.Y.lL(x,e[5],B.DU(x).F,L,X,l);if(e[7])O.Y.lL(x,e[7],B,L,X,l);
if(0<=h){if(!i)B.iv();B.pZ(x);B.W()}}x.W()};O.Y.Sz=function(x,F){var W=F.NX(),n=0;r.kP(x);var L=r.apm(x,F,.3,4);
n=L[0];F=L[1];var $=x[n],l=x[n+1],k=l.m,V=l.e,i=r.Z.o4(l).p;r.Z.i(i,F,i);var f=r.Z.Gn(i),X=r.R(f.P()),s=f.x,R=f.y,h=f.m,B=f.e,e=F.clone();
e.sx();var U=e.dr(new eX(0,0)),o=e.dr(new eX(1,0)),b=o.x-U.x,u=o.y-U.y;for(var Z=0;Z<B;Z++){var I=e.V*(s+.5)+e.Pu*(Z+R+.5)+e.yq,y=e.z*(s+.5)+e.P9*(Z+R+.5)+e.Ze;
for(var D=0;D<h;D++){X[Z*h+D]=Math.floor(.5+r.D.aDj(I,y,$,k,V));I+=b;y+=u}}return{rect:f,channel:X}};
O.Y.f$=function(x,F,W,n,L,$){if(W==null)W=!1;return O.Y.QJ(x,W?0:1,r.D.Mz(F),null,n,L,$,W)};O.Y.QJ=function(x,F,W,n,L,$,l,k){if(k==null)k=!1;
if(k&&l)throw"e";var V={},f=0;if(n&&!r.xP.oK(n)){var i=r.xP.Bs(n);r.D.i(W,i[3]);V.rect=r.Z.Gn(i[3]);
V.buffer=r.R(V.rect.P()*4);r.AH.drawImage(i,x[0],x[1].m,x[1].e,V.buffer,V.rect,F==0);return V}if(r.D.nG(W)){r.Bh(x);
var X=.3,f=0,s=r.D.N9(W),R=x[1],h=R.P()*s.NX();if(k&&h>4e6)X=h>8e6?2.2:1.2;var B=r.apm(x,s,X,16);f=B[0];
W=r.D.Mz(B[1])}var e=x[f],R=x[f+1],U=r.D.pY(W,r.D.Mz(new iJ(R.m,0,0,R.e,R.x,R.y))),o=[0,0,1,0,1,1,0,1];
r.D.i(U,o);V.rect=r.Z.Gn(o);if(l)V.rect=V.rect.jB(l);if(k){while((V.rect.m&3)!=0)V.rect.m++;while((V.rect.e&3)!=0)V.rect.e++}if(!fn.R$(o)||V.rect.m>1e5||V.rect.e>1e5||V.rect.P()>3e4*3e4)return null;
var b=V.rect.P()*4;if(L&&L.byteLength>=b&&b>=L.byteLength>>2){V.buffer=new Uint8Array(L)}else{V.buffer=r.R(b)}r.D.drawImage(U,e,R.m,R.e,V.buffer,V.rect,F==0,$,k);
if(F==2&&V.buffer){var u=V.rect.m,Z=V.rect.e,I;I=[0,-1,0,-1,16,-1,0,-1,0];I=r.Ro.vt(I);var y=V.buffer.slice(0);
r.Ro.sA(y,V.buffer,u,Z,I,255,!1,!0)}if(V.buffer)return V};O.Y.lL=function(x,F,W,n,L,$,l){var k=F.rect,V=F.channel;
if(l){k=l;V=F.PM(k)}if(F.color==255)r.sx(V);var i=r.R(k.P()*4);r.rW(V,i,3);var f=O.Y.QJ([i,k],n,L,$);
if(f){W.rect=f.rect;W.channel=r.R(f.rect.P());r.Tb(f.buffer,W.channel,3);W.DQ=!0}if(F.color==255){r.sx(V);
if(f)r.sx(W.channel)}};O.Y.aiD=function(x,F){var W=x.filterFX;if(W)W=W.v.filterFXList;if(W)W=W.v;if(W)for(var n=0;
n<W.length;n++){var L=W[n].v.Fltr;if(L==null||L.v.classID!="rigidTransform")continue;L=L.v;console.log(L);
var $=[];for(var l=0;l<4;l++)$.push(L["PuX"+l].v,L["PuY"+l].v);r.Z.i($,F,$);for(var l=0;l<4;l++){L["PuX"+l].v=$[l*2];
L["PuY"+l].v=$[l*2+1]}var k=["PinP","posFinalPins"],V=["originalVertexArray","deformedVertexArray"],i=L.puppetShapeList.v;
for(var f=0;f<i.length;f++){var X=i[f].v;for(var s=0;s<k.length;s++){var R=O.Y.kT(X[k[s]]);r.Z.i(R,F,R);
X[k[s]]=O.Y.ud(R);var h=new Uint8Array(X[V[s]].v),B=new Float32Array(h.buffer);r.Z.i(B,F,B);var e=[];
for(var U=0;U<h.length;U++)e[U]=h[U];X[V[s]].v=e}}}};O.Y.kT=function(x){var F=[],W=x.v.length;for(var w=0;
w<W;w++)F.push(x.v[w].v);return F};O.Y.ud=function(x){var F={t:"VlLs",v:[]},W=x.length;for(var w=0;w<W;
w++)F.v.push({t:"doub",v:x[w]});return F};O.Y.prototype.agK=function(){var x=r.Z.KR(r.xP.Bs(this._L.wY())[3]),F=r.D.An(this.et.Pi(),this.Mk),W=[x.x,x.y,x.x+x.m,x.y,x.x+x.m,x.y+x.e,x.x,x.y+x.e];
r.D.i(F,W);this.et.GI(W);this.Mk=x};O.Y.prototype.MN=function(){var x=r.D.An(this.et.Pi(),this.Mk);if(this.IN)x=r.D.pY(x,r.D.Mz(this.IN));
return x};O.Y.prototype.Pr=function(x,F,W,n){var L=this.MN();L=r.D.pY(L,r.D.sx(this.oq));var $=this._L?this._L.wY():null;
if(this.G2==0){var l=this.OD=r.D.N9(L);if(this.id==O.h2){var k=this.qJ[0][0],V=k.Bg,i=V[1],f=~~(i.m*Math.max(0,l.V)),X=~~(i.e*Math.max(0,l.P9)),s=new eu(Math.round(l.V*i.x+l.yq),Math.round(l.P9*i.y+l.Ze),f,X),R=r.s1.i(this.gc,s),h=x.B[this.B[0]];
h.buffer=R;h.rect=s;h.W();x.W()}else O.Y.aV(x,F,this.B,this.qJ,W,L,$,null,null,n)}else if(this.G2==1){var B=x.B[this.B[0]],i=this.UI.fS;
if(B.sj<=0){var e=this.UI.LK,U=this.WZ,o=null;if($&&!r.xP.oK($)&&!U.rect.rr(i)){var R=r.R(U.rect.P()*4);
r.sh(e,i,R,U.rect);e=R;i=U.rect}if(this.id==O.h2){var l=this.OD=r.D.N9(L),f=~~(i.m*Math.max(0,l.V)),X=~~(i.e*Math.max(0,l.P9)),s=new eu(Math.round(l.V*i.x+l.yq),Math.round(l.P9*i.y+l.Ze),f,X),R=r.s1.i(this.gc,s);
o={buffer:R,rect:s}}else o=O.Y.QJ([e,i],W,L,$);if(o){B.vp.WS=o.buffer;B.vp.Ce=o.rect;var b=r.R(o.rect.P());
r.Tb(B.vp.WS,b,3);x.u={channel:b,rect:B.vp.Ce.clone()}}}else{var u=r.R(i.P()*4);r.rW(this.UI.LK,u,3);
var o=O.Y.QJ([u,i],W,L,$);if(o){B.vp.WS=r.R(o.rect.P());r.Tb(o.buffer,B.vp.WS,3);B.vp.Ce=o.rect}this.a1A(x,W,L,$)}B.FE(x,0,0,x.u);
if(W!=0){B.iv();r.iv(x.u)}x.eT=!0;x.W()}else if(this.G2==2)this.a1A(x,W,L,$)};O.Y.prototype.a1A=function(x,F,W,n){var L=this.WZ.rect,$=r.R(L.P()*4);
r.rW(this.WZ.channel,$,3);var l=O.Y.QJ([$,L],F,W,n),k=r.R(l.rect.P());r.Tb(l.buffer,k,3);x.u={channel:k,rect:l.rect};
x.eT=!0};O.Y.prototype.disable=function(x,F,W,n){if(this.et)this.W3(x,F,null,!0)};O.ahv=function(){O.Y.call(this,[10,16],O.d9,"tools/transform")};
O.ahv.prototype=new O.Y;O.a3d=function(){O.Y.call(this,[7,10],O.Uj,"tools/transform")};O.a3d.prototype=new O.Y;
O.anW=function(){O.Y.call(this,[10,48],O.h2,"tools/transform")};O.anW.prototype=new O.Y;O.dC=function(x,F,W){O.p9.call(this,[10,46],O.B8,"tools/transform");
this.gz=[1,1,2,!0];this.Rc="rigidTransform";this.qH=null;this.am_=null;this.BY=null;this.aU=null;this.Uk=null;
this.Ki=null;this.LI=[]};O.dC.prototype=new O.p9;O.dC.prototype.ek=function(){return!0};O.dC.Rt=function(x){if(x==null)return!1;
if(x.g.length!=1)return!1;var F=x.B[x.g[0]];return F.add.SoLd||x.SP(!1)};O.dC.prototype.pn=function(x,F){return O.dC.Rt(x)};
O.dC.prototype.enable=function(x,F,W,n,L,$,l){this.am_=$.zL;var k=$.zL,V,B=null;if(k){var i=x.B[k.a];
if(i.add.SoLd.filterFX!=null){var f=i.add.SoLd.filterFX.v.filterFXList.v;if(f[k.index])V=JSON.parse(JSON.stringify(f[k.index].v.Fltr.v))}}var X=V==null,i=x.B[x.g[0]],s=i.buffer,R=i.rect,h=i.add.SoLd;
if(h){var e=h.nonAffineTransform.v;B=[];for(var w=0;w<4;w++)B.push(e[w*2].v,e[w*2+1].v);if(X)this.s9("edit",F);
var U=i.DU(x);s=U.buffer;R=U.rect}this.qH={buffer:s.slice(0),rect:R.clone(),aaW:B};if(X)V=O.dC.Ub(this.qH,this.gz);
this.BY=V;this.aU=O.dC.NH(this.BY,this.gz);this.Te();this.rI(x);if(X)this.tW(F);var o=new gT(S.E.M,!0);
o.data={d:S.H.QQ,f:this.id,jL:this.gz};F.T(o);o.data={d:S.H.W_,VD:"default"};F.T(o)};O.dC.prototype.disable=function(x,F,W,n){if(this.aU)this.W3(x,F,!0)};
O.dC.prototype.Te=function(x){var F=this.aU;this.LI=[];for(var w=0;w<F.length;w++){var W=F[w];for(var n=0;
n<W.g.length;n++)this.LI.push([w,W.g[w]]);W.cO=r.fb.abo(W);if(x)r.fb.ao5(W)}};O.dC.prototype.FD=function(x,F,W,n){if(x._1=="commit")this.W3(W,F,!0);
else if(x._1=="cancel")this.Wa(W,F,!0);else if(x._1=="prm"){var L=!1;for(var w=0;w<3;w++)if(this.gz[w]!=x.jL[w])L=!0;
this.gz=x.jL;if(L){this.BY=O.dC.Ub(this.qH,this.gz,this.BY);this.aU=O.dC.NH(this.BY,this.gz);this.Te(!0);
this.tW(F)}this.rI(W)}else if(x._1=="moveDepth"){var $=this.aU;for(var l=0;l<$.length;l++){var k=$[l];
for(var w=0;w<k.g.length;w++){var V=k.g[w];k.Ij[V]+=x.avW?1:-1}}this.tW(F)}};O.dC.prototype.Us=function(x,F){return x==gp.bl||x==gp.F_};
O.dC.prototype.lH=function(x,F,W,n){var L=n.xa();if(n.S(gp.hI))this.W3(x,F,!0);else if(n.S(gp.oX))this.Wa(x,F,!0);
else if(n.S(gp.bl)||n.S(gp.F_)){var $=this.aU;for(var l=0;l<$.length;l++){var k=$[l];k.g.sort(function(f,X){return X-f});
for(var w=0;w<k.g.length;w++){var V=k.g[w],i=V*2;k.Ij.splice(V,1);k.zt.splice(V,1);k.h1.splice(V,1);
k.N7.splice(V,1);k.sL.splice(i,2);k.rc.splice(i,2)}k.g=[];if(k.N7.length==0){k.t$=k.y0.slice(0);k.l_=k.y0.slice(0)}}this.Te(!0);
this.tW(F);this.rI(x)}else if(L.x!=0||L.y!=0){this.aaA(x,L.x,L.y,F);this.Tt=null}};O.dC.prototype.W3=function(x,F,W){this.s9("confirm",F);
this.escape(x,F,W)};O.dC.prototype.Wa=function(x,F,W){this.s9("cancel",F);this.escape(x,F,W)};O.dC.prototype.escape=function(x,F,W){x.N.HV=null;
x.N.Vq=[];x.N.dM=[];x.yW=!0;this.aU=null;var n=new gT(S.E.M,!0);n.data={d:S.H.g3};if(W)F.T(n)};O.dC.prototype.pI=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y),l=$.x,k=$.y,V=this.aU,i=null,f=[0,2,4,1.2,1.2,1.2],X=-1,s=O.m8(x,L);
for(var w=0;w<V.length;w++){var R=V[w],h=r.Z.cu(R.rc,l,k,s);if(h!=-1)i=[w,h];if(X==-1&&r.fb.aw7.ayn(R.l_,R.m4,l,k))X=w}if(i==null&&X!=-1){var R=V[X];
O.dC.aiI(R,l,k,l,k,0);i=[X,R.N7.length-1];R.cO=r.fb.abo(R)}this.Uk=$;if(i){var B=V[i[0]].g.indexOf(i[1])!=-1;
if(n.S(gp.ca)&&!B){V[i[0]].g.push(i[1]);this.LI.push(i)}else if(!B){V[i[0]].g=[i[1]];this.LI=[i]}}this.rI(x)};
O.dC.aiI=function(x,F,W,n,L,$){var l=r.Z.cu(x.l_,F,W);x.N7.push(l);x.rc.push(n,L);x.sL.push(x.l_[l*2]-F,x.l_[l*2+1]-W);
x.h1.push(0);x.zt.push(!1);x.Ij.push($)};O.dC.prototype.Lx=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y),l=this.Uk;
if(l)this.aaA(x,$.x-l.x,$.y-l.y,F)};O.dC.prototype.aaA=function(x,F,W,n){var L={},$=this.LI,l=this.aU;
if(this.Tt==null){this.Tt=[];for(var w=0;w<l.length;w++)this.Tt.push(l[w].rc.slice(0))}for(var w=0;w<$.length;
w++){var k=this.LI[w],V=k[0],i=l[k[0]],f=k[1]*2;i.rc[f+0]=this.Tt[V][f+0]+F;i.rc[f+1]=this.Tt[V][f+1]+W;
L[V]=V}for(var V in L)r.fb.ao5(this.aU[L[V]]);this.rI(x);this.tW(n)};O.dC.prototype.s9=function(x,F){var W=new gT(S.E.v,!0);
W.f=O.T2;W.data={d:x,zL:this.am_,Rc:this.Rc,_M:this.BY};F.T(W)};O.dC.prototype.t8=function(x,F,W,n,L){this.Uk=null;
this.Tt=null};O.dC.prototype.tW=function(x){O.dC.agh(this.aU,this.gz,this.BY);this.s9("edit",x)};O.dC.prototype.rI=function(x){var F=this.aU,W=this.BY;
x.N.HV={p:[],G:[]};x.N.Vq=[];x.N.dM=[];for(var w=0;w<F.length;w++){var n=F[w];for(var L=0;L<n.rc.length;
L+=2){var $=x.N.dM;if(n.g.indexOf(L>>>1)!=-1)$=x.N.Vq;$.push(n.rc[L],n.rc[L+1])}if(this.gz[3])r.Z.concat(x.N.HV,r.Z.aya(n.l_,n.m4))}x.yW=!0};
O.dC.Ub=function(x,F,W){var n=x.buffer,L=x.rect,$=x.aaW,l=ew.Iz("rigidTransform");if($)for(var w=0;w<4;
w++){l["PuX"+w].v=$[w*2];l["PuY"+w].v=$[w*2+1]}var k=l.puppetShapeList.v,V=r.fb.auQ(n,L.m,L.e,F[1],F[2]),i=[];
for(var f=0;f<V.length;f++){var X={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
X.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var s=V[f];k.push({t:"Objc",v:X});var R=s.y0.slice(0);r.Z.i(R,new iJ(1,0,0,1,L.x,L.y),R);var h=s.m4;
for(var w=0;w<h.length;w+=3){var B=h[w+1];h[w+1]=h[w+2];h[w+2]=B}i.push({m4:h,y0:R,t$:R,l_:R,N7:[],sL:[],rc:[],cO:null,g:[],h1:[],zt:[],Ij:[]})}if(W){var e=O.dC.NH(W,[]),U=i[0];
for(var w=0;w<e.length;w++){var o=e[w];for(var b=0;b<o.g.length;b++)U.g.push((U.rc.length>>>1)+o.g[b]);
for(var b=0;b<o.N7.length;b++){var u=o.N7[b]*2,Z=o.y0[u]-o.sL[b*2],I=o.y0[u+1]-o.sL[b*2+1];O.dC.aiI(U,Z,I,o.rc[b*2],o.rc[b*2+1],o.Ij[b])}}}O.dC.agh(i,F,l);
return l};O.dC.NH=function(x,F){var W=O.Y.kT,n=x.puppetShapeList.v,L=[];for(var $=0;$<n.length;$++){var l=n[$].v;
F[0]=l.meshRigidity.v-1;F[1]=l.meshQuality.v-1;F[2]=l.meshExpansion.v;var k=l.pinVertexIndices.v.length,V=l.meshBoundaryPath.v.pathComponents.v;
if(V.length!=0){var i=V[0].v.SbpL.v[0].v.Pts;i.v=[]}var f=new Uint32Array(new Uint8Array(l.indexArray.v).buffer),X=new Float32Array(new Uint8Array(l.originalVertexArray.v).buffer),s=new Float32Array(new Uint8Array(l.deformedVertexArray.v).buffer),R=[],h=[],B=[];
for(var w=0;w<f.length;w++)R.push(f[w]);for(var w=0;w<X.length;w++){h.push(X[w]);B.push(s[w])}var e=W(l.pinVertexIndices),U=W(l.pinOffsets),o=W(l.posFinalPins),b=W(l.PnRt),u=W(l.PnOv),Z=W(l.PnDp),I=W(l.selectedPin);
L.push({m4:R,y0:h,t$:B.slice(0),l_:B,N7:e,sL:U,rc:o,cO:null,h1:b,zt:u,Ij:Z,g:I})}return L};O.dC.agh=function(x,F,W){function n(s,R){var h=[];
for(var w=0;w<s.length;w++)h.push({t:R,v:s[w]});return h}function L(s,R,h){var B=new(h?Uint32Array:Float32Array)(s),e=new Uint8Array(B.buffer);
for(var w=0;w<e.length;w++)R[w]=e[w]}var $=W.puppetShapeList.v;for(var l=0;l<$.length;l++){var k=x[l],V=$[l].v;
V.meshRigidity.v=F[0]+1;V.meshQuality.v=F[1]+1;V.meshExpansion.v=F[2];L(k.m4,V.indexArray.v,!0);L(k.y0,V.originalVertexArray.v);
L(k.l_,V.deformedVertexArray.v);var i=[];for(var w=0;w<k.N7.length;w++){var f=k.N7[w]*2,X=w*2;i[X]=k.y0[f]-k.sL[X];
i[X+1]=k.y0[f+1]-k.sL[X+1]}V.PinP.v=n(i,"doub");V.pinVertexIndices.v=n(k.N7,"long");V.pinOffsets.v=n(k.sL,"doub");
V.posFinalPins.v=n(k.rc,"doub");V.PnRt.v=n(k.h1,"long");V.PnOv.v=n(k.zt,"bool");V.PnDp.v=n(k.Ij,"doub");
V.selectedPin.v=n(k.g,"long")}};O.jH=function(x,F,W){O.p9.call(this,x?x:[10,40],F?F:O.cY,W?W:"tools/slice");
this.bn=null;this.gP=null;this.Xq=null;this.aqN=null;this.Cv=null;this.rp=null};O.jH.prototype=new O.p9;
O.jH.VY=function(x,F){var W=-1;for(var w=0;w<x.length;w++){var n=O.jH.xM(x,w);if(n[0]<=F.x&&F.x<=n[2]&&n[1]<=F.y&&F.y<=n[3]){W=w;
break}}return W};O.jH.prototype.LB=function(x,F,W,n,L){if(W==null)return;this.yr(W);if(x.d=="fromAction"){var $=x.$V,l=$.Y3,k=$.Xe,V=W.L6(),i=W.gD(),f=i==-1?new eu(0,0,W.m,W.e):W.B[i].U$();
if(l=="divide"){if(W.oJ.length!=0){var X=W.oJ[0],s=O.jH.xM(W.EC,X);f=new eu(s[0],s[1],s[2]-s[0],s[3]-s[1]);
W.EC.splice(X,1);W.oJ=[]}V=[[],[]];for(var R=0;R<2;R++){var h=["Across","Down"][R],B=k["pixels"+h]?0:1,e=k[["pixels","slices"][B]+h];
if(e==null)continue;e=e.v;var U=R==0?f.x:f.y,o=R==0?f.m:f.e;if(B==0)for(var w=1;w*e<o;w++){V[0].push([R,U+w*e]);
V[1].push(i)}else{var b=Math.floor(o/e);for(var w=1;w<e;w++){V[0].push([R,U+w*b]);V[1].push(i)}}}}var u=[f.x,f.x+f.m],Z=[f.y,f.y+f.e];
for(var w=0;w<V[0].length;w++){var I=V[0][w],y=Math.round(I[1]),D=V[1][w];if(D!=-1&&D!=i)continue;if(I[0]==0&&u.indexOf(y)==-1)u.push(y);
if(I[0]==1&&Z.indexOf(y)==-1)Z.push(y)}u.sort(function(a,K){return a-K});Z.sort(function(a,K){return a-K});
for(var N=1;N<Z.length;N++)for(var j=1;j<u.length;j++){W.EC.push(O.jH.uD());O.jH.Bm(W.EC,W.EC.length-1,[u[j-1],Z[N-1],u[j],Z[N]]);
W.yW=!0}}else if(x.d=="reorder"){if(W.oJ.length==0)return;var H=W.EC,Q=W.oJ;Q.sort(function(a,K){return a-K});
console.log(Q);var C=H.slice(0),J=[],E=[];for(var w=0;w<Q.length;w++){var X=Q[w],T=H[X];E.push(T);C.splice(C.indexOf(T),1)}var c=Math.max(0,Math.min(C.length,Q[0]-x.dir));
for(var w=0;w<E.length;w++){C.splice(c+w,0,E[w]);J.push(c+w)}W.EC=C;W.oJ=J}else if(x.d=="delete"){var H=W.EC.slice(0);
for(var w=0;w<W.oJ.length;w++)W.EC.splice(W.EC.indexOf(H[W.oJ[w]]),1);W.oJ=[]}else if(x.d=="deleteAll"){W.EC=[];
W.oJ=[]}else{W.EC[W.oJ[0]].v=x;W.yW=!0}this.Jp(W)};O.jH.prototype.enable=function(x,F,W,n,L,$){O.p9.prototype.enable.call(this,x,F,W,n,L,$);
if(!W._X.EC){var l=new gT(S.E.M,!0);l.data={d:S.H.DD,jL:iC.Eu};F.T(l)}};O.jH.prototype.disable=function(){this.bn=null;
this.gP=null};O.jH.prototype.Nc=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y),l=O.jH.VY(x.EC,$);if(l==-1)return;
this.bn=x;this.gP=F;x.oJ=[l];x.yW=!0;if(this.rp==null){this.rp=new g$([{name:[5,4]},{name:[8,11,1],PT:!0}]);
this.rp.k("select",this.D7,this)}var k=this.rp;k.parent=F;k._();k.update(x,W);var V=new gT(S.E.M,!0);
V.data={d:S.H.OO,f_:k,x:L.PC+2,y:L.RX+1};F.T(V)};O.jH.prototype.D7=function(x){var F=this.rp.wK()[0],W=this.bn;
if(F==0){this.yr(W);W.EC.splice(W.oJ[0],1);W.oJ=[];W.yW=!0;this.Jp(W)}if(F==1){var n=new gT(S.E.M,!0);
n.data={d:S.H.Ar,ip:"soptions",b:W.EC[W.oJ[0]].v};this.gP.T(n)}};O.jH.prototype.pI=function(x,F,W,n,L){if(x==null)return;
this.yr(x);var $=x.U.m$(L.x,L.y);$=O.fI.FW(x,$,W,[!0,null,!1]);$.x=Math.round($.x);$.y=Math.round($.y);
this.Cv=$;x.EC.unshift(O.jH.uD());x.oJ=[0];O.jH.Bm(x.EC,0,[$.x,$.y,$.x+20,$.y+20]);x.yW=!0};O.jH.prototype.Lx=function(x,F,W,n,L){if(this.Xq==null)return;
var $=x.U.m$(L.x,L.y),l=this.Cv;$=O.fI.FW(x,$,W,[!0,null,!1]);$.x=Math.round($.x);$.y=Math.round($.y);
var k=[l.x,l.y,$.x,$.y];O.jH.afe(k);O.jH.Bm(x.EC,0,k);x.yW=!0};O.jH.prototype.t8=function(x,F,W,n,L){this.Jp(x);
this.Cv=null};O.jH.prototype.yr=function(x){this.Xq=JSON.stringify(x.EC);this.aqN=JSON.stringify(x.oJ)};
O.jH.prototype.Jp=function(x){var F=JSON.stringify(x.EC);if(F!=this.Xq){var W=new fd(this.name,this);
W.data={UI:this.Xq,uy:F,a0K:this.aqN,apw:JSON.stringify(x.oJ)};x.fC(W)}this.Xq=null};O.jH.prototype.hm=function(x,F){F.EC=JSON.parse(x.UI);
F.oJ=JSON.parse(x.a0K);F.yW=!0};O.jH.prototype.Th=function(x,F){F.EC=JSON.parse(x.uy);F.oJ=JSON.parse(x.apw);
F.yW=!0};O.jH.prototype.Us=function(x,F){return F!=null&&F.oJ.length!=0&&(x==gp.bl||x==gp.F_)};O.jH.prototype.lH=function(x,F,W,n){if(x==null)return;
if(n.S(gp.bl)||n.S(gp.F_))this.LB({d:"delete"},F,x,n,W);var L=n.xa();if(L.x!=0||L.y!=0){this.yr(x);O.jH.oI(x,L);
this.Jp(x)}};O.jH.prototype.FD=function(x,F,W,n,L){};O.jH.aeS=function(x,F,W,n){var L=new eX(-F.x,-F.y),$=F.m/W.m,l=F.e/W.e,k=[0,0,F.m,F.e];
for(var w=0;w<x.length;w++){var V=O.jH.xM(x,w);if(n){V[0]=Math.round(V[0]*$);V[1]=Math.round(V[1]*l);
V[2]=Math.round(V[2]*$);V[3]=Math.round(V[3]*l)}else{O.jH.qI(V,L);O.jH.a1m(V,k)}if(V[0]>=V[2]||V[1]>=V[3]){x.splice(w,1);
w--;continue}O.jH.Bm(x,w,V)}};O.jH.oI=function(x,F){var W=x.EC;for(var w=0;w<x.oJ.length;w++){var n=O.jH.xM(W,x.oJ[w]);
O.jH.qI(n,F);O.jH.Bm(W,x.oJ[w],n)}};O.jH.a1m=function(x,F){if(x[0]<F[0])x[0]=F[0];if(x[1]<F[1])x[1]=F[1];
if(F[2]<x[2])x[2]=F[2];if(F[3]<x[3])x[3]=F[3]};O.jH.qI=function(x,F){x[0]=Math.round(x[0]+F.x);x[2]=Math.round(x[2]+F.x);
x[1]=Math.round(x[1]+F.y);x[3]=Math.round(x[3]+F.y)};O.jH.Bm=function(x,w,F){var W=x[w].v.bounds.v;W.Left.v=F[0];
W.Top.v=F[1];W.Rght.v=F[2];W.Btom.v=F[3]};O.jH.xM=function(x,w){var F=x[w].v.bounds.v;return[F.Left.v,F.Top.v,F.Rght.v,F.Btom.v,w]};
O.jH.afe=function(x){if(x[2]<x[0]){var F=x[0];x[0]=x[2];x[2]=F}if(x[2]==x[0])x[2]++;if(x[3]<x[1]){var F=x[1];
x[1]=x[3];x[3]=F}if(x[3]==x[1])x[3]++};O.jH.KR=function(x,F){var W=1e9,n=-1e9,L=1e9,$=-1e9;for(var w=0;
w<F.length;w++){var l=O.jH.xM(x,F[w]);W=Math.min(W,l[0]);L=Math.min(L,l[1]);n=Math.max(n,l[2]);$=Math.max($,l[3])}return[W,L,n,$]};
O.jH.uD=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
O.Bu=function(){O.jH.call(this,[10,41],O.qo,"tools/sselect");this.Cv=null;this.rq=null;this.aT=null;
this.Ki=null;this.Mg=!1};O.Bu.prototype=new O.jH;O.Bu.prototype.pI=function(x,F,W,n,L){if(x==null)return;
var $=x.U.m$(L.x,L.y),l=O.Bu.aeE($,4/x.U.Q,x.EC,x.oJ);l.pop();if(l.length!=0){this.Cv=$;this.aT=l;this.yr(x);
return}var k=x.EC,V=O.jH.VY(k,$);if(V==-1)x.oJ=[];else{var i=x.oJ.indexOf(V);if(n.S(gp.ca)){if(i==-1)x.oJ.push(V);
else x.oJ.splice(i,1)}else{x.oJ.sort(function(B,e){return B-e});if(i==-1)x.oJ=[V];this.Cv=$;this.yr(x);
this.rq=O.jH.KR(k,x.oJ);this.Ki=[];for(var w=0;w<x.oJ.length;w++)this.Ki.push(O.jH.xM(k,x.oJ[w]));if(n.S(gp.d8)){var f=k.slice(0),X=x.oJ,s=[];
for(var w=0;w<X.length;w++){var V=X[w],R=f[V],h=k.indexOf(R);s.push(h);k.splice(h,0,JSON.parse(JSON.stringify(R)))}x.oJ=s}}}x.yW=!0};
O.Bu.prototype.Lx=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y);if(this.Cv==null){var l=O.Bu.aeE($,4/x.U.Q,x.EC,x.oJ),k=l.pop(),V=l.length==0?"default":["ew","nwse","ns","nesw"][k]+"-resize",i=new gT(S.E.M,!0);
i.data={d:S.H.W_,VD:V};F.T(i);return}if(!this.Mg&&$.rr(this.Cv))return;this.Mg=!0;var X=x.EC,l=this.aT;
if(l){$=O.fI.FW(x,$,W,[!0,null,!1]);var s=Math.round($.x),R=Math.round($.y);for(var w=0;w<l.length;w+=2){var h=O.jH.xM(X,l[w]),B=l[w+1];
h[B]=(B&1)==0?s:R;O.jH.afe(h);O.jH.Bm(X,l[w],h)}}else{var e=$.ZC(this.Cv),U=this.rq.slice(0);O.jH.qI(U,e);
var o=new eu(U[0],U[1],U[2]-U[0],U[3]-U[1]),b=O.fI.QF(x,o,W,[!0,null,!1],!0);O.fI.HY(x,o,b);e.x+=b[0];
e.y+=b[1];for(var w=0;w<x.oJ.length;w++)O.jH.Bm(X,x.oJ[w],this.Ki[w]);O.jH.oI(x,e)}x.yW=!0};O.Bu.prototype.t8=function(x,F,W,n,L){if(this.Cv==null)return;
this.Jp(x);x.N.kr=null;x.yW=!0;this.Cv=null;this.aT=null;this.Ki=null;this.Mg=!1};O.Bu.aeE=function(x,F,W,n){var L=x.x,$=x.y,l=[],k=-1,V=[];
for(var w=0;w<n.length;w++){var i=n[w],f=O.jH.xM(W,i),X=f[0],s=f[1],R=f[2],h=f[3];if(L<X-F||R+F<L||$<s-F||h+F<$)continue;
var B=[L<X+F,$<s+F,R-F<L,h-F<$],e=-1;for(var U=0;U<4;U++){if(B[U]&&B[U+1&3])e=1+2*(U&1);if(B[U])l.push(i,U)}if(e==-1){if(B[0]||B[2])e=0;
if(B[1]||B[3])e=2}if(e!=-1){k=e;V.push(i)}}var o=l.length;for(var w=0;w<o;w+=2){var i=l[w],b=l[w+1],u=O.jH.xM(W,i)[b];
for(var U=0;U<n.length;U++){var Z=n[U];if(V.indexOf(Z)!=-1)continue;var f=O.jH.xM(W,Z);if(f[b&1]==u)l.push(Z,b&1);
if(f[2+(b&1)]==u)l.push(Z,2+(b&1))}}l.push(k);return l};O.DZ=function(){O.FA.call(this,[10,44],O.avB,"tools/oselect");
this.Vv="crosshair";this.a81=0};O.DZ.prototype=new O.FA;O.DZ.prototype.uT=function(x,F,W,n){if(Math.random()<1/(1+this.a81)){alert("The cross should be fully inside the object.",3500);
this.a81++}};O.DZ.prototype.Fj=function(x,F,W,n){O.kW.Z5(x,O.FA.wj,this.gP);if(!n.Pz||!this.Wb)return;
var L=this.oU(x,W,!1),$=L.m,l=L.e,k=L.x,V=L.y,i=L.x+$,f=L.y+l,X=k+$/2,s=V+l/2,R=O.DZ.age;x.N.HV={p:[k,V,i,V,i,f,k,f,X-$*R,s,X+$*R,s,X,s-l*R,X,s+l*R],G:"M L L L Z M L M L".split(" ")};
x.yW=!0};O.DZ.age=.12;O.DZ.prototype.ji=function(x,F,W,n){x.N.HV=null;x.yW=!0;this.finish(x,F,W,n)};
O.DZ.prototype.getSelection=function(x,F,W,n){if(this.XO.rr(this.eY)||!this.Wb)return null;var L=this.oU(x,W,!1),$=x.B[x.g[0]];
if(L.ak()||!L.yU($.rect))return null;return O.FA.ue("ObSl",L)};O.kW=function(){O.P1.call(this,[10,37],O.B0,"tools/qselect");
this.yE="qselect"};O.kW.prototype=new O.P1;O.kW.prototype.pI=function(x,F,W,n,L){O.kW.Z5(x,O.FA.wj,F,!0);
this.sE(x,W,n,L,1);if(this.g9==null)return;this.VE(x)};O.kW.prototype.Lx=function(x,F,W,n,L){this.un(x,F,W);
O.kW.Z5(x,O.FA.wj,F);if(this.$i)this.As(x,W,L);if(this.g9==null)return;if(!L.Pz)return;var $=this.FU(x,W,n,L);
if($!=1)this.VE(x)};O.kW.Z5=function(x,F,W,n){if(x&&F.key!=O.kW.SK(x)){F.key=O.kW.SK(x);var L=x.B[x.g[0]].rect.P(),l="Image Analysis ...";
if(L==0)return;var $=L>1e6&&n!=!0,k=new gT(S.E.M,!0);k.data={d:S.H.OI,hw:l};if($)W.T(k);var V=function(){var i=O.kW.ann(x);
for(var X in i)F[X]=i[X];var k=new gT(S.E.M,!0);k.data={d:S.H.tU,hw:l};if($)W.T(k)};if(n)V();else setTimeout(V,30)}};
O.kW.SK=function(x){var F=x.g[0],W=x.B[F],n=W.rect,L=n.m,$=n.e,l=L*$,k=W.buffer;return[F,n.x,n.y,L,$,k[0],k[1],k[2],k[3]].join(",")};
O.kW.ann=function(x){var F=x.g[0],W=x.B[F],n=W.rect,L=n.m,$=n.e,l=L*$,k=W.buffer,V=Date.now(),i=r.R(l);
i.fill(128);var f=r.Cf.bC(k,L,$);console.log(Date.now()-V);var X={key:O.kW.SK(x),qP:k,rect:n.clone(),Xv:L,eD:$,Iq:12,sg:i,o1:f,u:r.R(l),g5:null,CK:null,qF:null};
O.kW.UN(X,null,x);return X};O.kW.UN=function(x,F,W){var n=x.Xv,L=x.eD,$=0,l=0,k=Date.now(),V=x.g5!=null&&r.Cf.Wl(x.g5.m4,x.g5.xl,x.sg)==-1;
$=Date.now()-k;k=Date.now();if(!V){var i=r.Cf.Wl(x.o1.m4,x.o1.xl,x.sg),f=0;while(i!=-1){var X=[],s=[],R=x.o1.m4;
for(var h=0;h<L;h++)for(var B=0;B<n;B++){var w=h*n+B;if(R[w]==i){var e=x.sg[w];if(e==0)X.push(B,h);if(e==255)s.push(B,h)}}var U=W.B[W.g[0]],o=U.buffer;
r.Cf.bC.Hs(o,n,L,x.o1,X,s);i=r.Cf.Wl(x.o1.m4,x.o1.xl,x.sg);f++;if(f>=10){console.log("too many subdivisions");
break}}x.g5=r.Cf.vJ(x.o1,n,L,x.sg,x.Iq);x.CK=r.Cf.abD(x.qP,n,L,x.g5.m4,x.g5.xl);x.qF=[x.CK[0].slice(0),[]];
l=Date.now()-k;k=Date.now()}var k=Date.now();if(F){x.qF[0].set(x.CK[0]);var b=x.CK[1],u=x.qF[1];for(var Z=0;
Z<b.length;Z++)u[Z]=b[Z].slice(0);r.Cf.a6n(x.g5.m4,n,L,x.g5.xl,x.sg,x.u,x.qF)}};O.SR=function(){O.p9.call(this,[10,50],O.wl,"tools/artb");
this.WE=null;this.zD=!1;this.et=null;this.Sy=!1;this.am0=null;this.NA=100;this.SL=null;this.mA=0};O.SR.prototype=new O.p9;
O.SR.prototype.LB=function(x,F,W,n,L){this.kg(W,x.a15,F,x.tj)};O.SR.a7Q=function(x,F){var W=x[0],n=0,L=0;
if(W==0)L=-1;else if(W==1)n=1;else if(W==2)L=1;else n=-1;return[20/F.jA,x[1]+n*60/F.jA,x[2]+L*60/F.jA]};
O.SR.prototype.FD=function(x,F,W,n,L){this.WE=x.jL;this.mA=Date.now()};O.SR.prototype.HS=function(x,F,W,n){if(W.Dj!=this.id)return;
if(x==null||x.g.length!=1){this.nR(x);return}var L=x.g[0],$=x.B[L],l=$.add.artb;if(l==null){this.nR(x);
return}if(this.Sy)return;if(Date.now()-this.mA>50){this.WE={};var k=["artboardBackgroundType","Clr"];
for(var w=0;w<k.length;w++)if(l[k[w]])this.WE[k[w]]=JSON.parse(JSON.stringify(l[k[w]]));var V=new gT(S.E.M,!0);
V.data={d:S.H.QQ,f:this.id,qm:this.WE};F.T(V)}var i=$.U$(),X=r.Z.o4(i).p,s=this.et=new fn(X,!0,!1,!1,!0,!1,3,!1);
s.XW(x,W,!1);var R={p:[1,0],G:["M"]};for(var w=1;w<30;w++){var h=Math.PI*2*w/30;R.p.push(Math.cos(h),Math.sin(h));
R.G.push("L")}R.G.push("Z","M","L","M","L");R.p.push(-.5,0,.5,0,0,-.5,0,.5);var B=i.x+i.m/2,e=i.y+i.e/2,U=this.NA*1.1,o=this.am0=[B,i.y,i.x+i.m,e,B,i.y+i.e,i.x,e],b=[0,-U,U,0,0,U,-U,0],u=x.root.children;
x.N.JA=[];for(var w=0;w<4;w++){var Z=new eX(o[w*2]+b[w*2],o[w*2+1]+b[w*2+1]),I=!1;for(var y=0;y<u.length;
y++){var $=u[y].a;if($.add.artb==null)continue;var i=$.U$();if(i.U4(Z))I=!0}if(I){o[w*2]=1e9;continue}x.N.JA.push([w,o[w*2],o[w*2+1]])}};
O.SR.prototype.disable=function(x,F,W,n,L){this.nR(x)};O.SR.prototype.nR=function(x){if(this.et){this.et.clear(x);
this.et=null;x.N.JA=null}};O.SR.prototype.pI=function(x,F,W,n,L){this.mA=Date.now();var $=x.U.m$(L.x,L.y),l=this.et;
if(l){var k=new gT(S.E.v),V=l.hv(null,$,x,L);if(V<9){this.Sy=l.pI(x,W,n,$,null,!0,L);return}else if(l.yM($)){k.f=O.iY;
k.data={d:"disabAuto"};F.T(k);var i=new gT(S.E.M);i.data={d:S.H.Ac,f:O.iY,acb:!0};F.T(i);return}else{var X=-1,s=x.N.JA;
for(var w=0;w<s.length;w++){var R=O.SR.a7Q(s[w],x.U);if(eX.I9($,new eX(R[1],R[2]))<R[0])X=s[w][0]}if(X!=-1){var h=x.B[x.g[0]].U$(),B=h.clone(),e=(X==0||X==2?h.e:h.m)+this.NA;
if(X==0||X==3)e=-e;if(X==0||X==2)h.y+=e;else h.x+=e;if(n.S(gp.d8)){var U=new eu(0,0,x.m,x.e);k.f=O.c9;
k.data={d:t.Fu};F.T(k);O.fI.on(x,x.zm(null,x.g[0],null,!0),null,h.x-B.x,h.y-B.y);x.g=x.g.slice(x.g.length-1);
var o=O.f7.tb(x);if(o){var b=x.Ao();b.data.Mk=U;b.data.Tw=o;b.data.bq=x.g}}else this.kg(x,h,F);return}}}this.SL=O.fI.FW(x,$,W)};
O.SR.prototype.kg=function(x,F,W,n){if(n==null)n=0;var L=x.B.slice(0),$=[x.B.length+1],l=x.dI();l.sc(hz.get([1,16,0])+" "+(x.add.artd==null?1:x.root.children.length+1));
l.add.lsct=eD.en;l.lK(F);if(this.WE){var k=l.add.artb,V=this.WE;for(var i in V)k[i]=V[i]}l.q_="pass";
l.xb=24;if(n==0){if(x.add.artd||F.jB(new eu(0,0,x.m,x.e)).ak())L.push(x.Nz());else L.unshift(x.Nz())}else{var f=x.zm();
f.sort(function(B,e){return B-e});var X=O.RC.Y6(x,f,L.length-1,!1,null,!1),s=X.pop(),R=X.pop();L=X.pop();
L.splice(x.B.length-f.length,0,x.Nz())}L.push(l);var h=new gT(S.E.v);h.f=O.c9;h.data={d:t.Br,bZ:L,U_:$,Sa:[1,16,2]};
W.T(h)};O.SR.prototype.Lx=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y),l=this.et,k=this.SL;if(l){if(this.Sy){l.Lx(x,W,n,$)}else{var V=l.h7($,x.U.Q,null,L);
if(V==null)V="default";var i=new gT(S.E.M,!0);i.data={d:S.H.W_,VD:V};F.T(i)}}if(k){var X=this.xM(x,$,n,W);
x.N.HV=r.Z.o4(X);x.yW=!0;O.p9.KO(L,X,x,W)}};O.SR.prototype.t8=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y),l=this.SL;
if(this.Sy){this.et.t8(x,W,n,$);this.Sy=!1;var k=r.Z.Gn(this.et.Pi()),V=t.x6(k),i=x.B[x.g[0]],f=JSON.parse(JSON.stringify(i.add.artb));
f.artboardRect.v=V;var X=new gT(S.E.v,!0);X.f=O.c9;X.data={d:t.pV,Ed:f};F.T(X)}if(l){var s=this.xM(x,$,n,W);
if(s.P()>20)this.kg(x,s,F);x.N.HV=null;x.yW=!0;this.SL=null;x.N.v7=[]}};O.SR.prototype.xM=function(x,F,W,n){var L=this.SL,$=O.fI.FW(x,F,n),l=O.bw.R9(L,$,W,!0);
L=l[0];$=l[1];return r.Z.Gn([L.x,L.y,$.x,$.y])};function fn(x,F,W,n,L,$,l,k){this.SC=null;this.GO=x?x.slice(0):null;
this.lg=1;this.VO=4;this.eY=null;this.lE=null;this.HU=null;this.ap=-1;this.ND=null;this.aBm=!1;this.aoA=[];
for(var w=0;w<8;w++)this.aoA.push(jW.adP(0,PIMG.rotate,-.5,-.5,-45-w*45));this.afW=F;this.a9x=W;this.af9=n;
this.axD=L;this.ao0=$;this.tj=l;this.aqo=k==null?1:k}fn.prototype.atY=function(){return this.ap!=-1};
fn.prototype.Pi=function(){return this.GO.slice(0)};fn.prototype.GI=function(x){this.GO=x};fn.prototype.a9q=function(){return this.zj(this.GO)};
fn.prototype.a4z=function(){return this.VO};fn.prototype.a7d=function(x){this.VO=x};fn.prototype.cv=function(x){if(x==null)x=this.GO;
if(this.VO==9)return this.eY;else return this.zj(x)[this.VO]};fn.prototype.aml=function(x){if(this.VO==9)this.eY=x.clone();
else{var F=this.cv(),W=new iJ(1,0,0,1,x.x-F.x,x.y-F.y);r.Z.i(this.GO,W,this.GO)}};fn.prototype.KB=function(x){this.lg=x};
fn.prototype.h7=function(x,F,W,n,L){var $=this.Kr(null,x,F,n),l;if($==9)return"default";if($==10){if(W)return null;
return!this.afW?"move":null}if($==-1||$==4)return null;if($==11){var k=this.cv().ZC(x);if(L==null)L=Math.atan2(k.y,k.x);
l=90-L*180/Math.PI;var V=Math.round(8*(l/360));V=(V+8)%8;return this.aoA[V]}else{var i=this.hc(x,this.GO);
l=[135,90,45,180,0,0,225,270,315][$]*Math.PI/180;var f=r.D.An(this.GO);return fn.arB(f[0],f[3],l)}};
fn.arB=function(x,F,W){var n=Math.atan2(-F,x);if(W)n+=W;var L="ew nesw ns nwse ew nesw ns nwse".split(" "),$=Math.round(8*(n/(2*Math.PI)));
$=($+8)%8;return L[$]+"-resize"};fn.prototype.hc=function(x,F){var W=r.D.sx(r.D.An(F)),n=new Float64Array(2);
r.D.m0(x.x,x.y,W,n);return new eX(n[0],n[1])};fn.prototype.yM=function(x){var F=this.hc(x,this.GO);return 0<=F.x&&F.x<=1&&0<=F.y&&F.y<=1};
fn.prototype.pI=function(x,F,W,n,L,$,l,k){this.aBm=$;this.ND=n;var V=x.U.Q,i;if(this.GO==null)n=O.fI.FW(x,n,F);
this.HU=n.clone();if(this.GO==null){if(k==null)k=0;var f=new iJ;f.rotate(k);var X=f.dr(new eX(1,1));
this.HU.offset(X.x,X.y);var s=L==null?1:1/L,R=this.GO=[0,0,1,0,1,s,0,s];f.translate(n.x,n.y);r.Z.i(this.GO,f,this.GO);
i=8}else{i=this.Kr(W,n,V,l);if(0<=i&&i<=8)this.HU=this.zj(this.GO)[i];if(i==9){this.VO=9;this.eY=n.clone()}}this.SC=this.GO.slice(0);
this.ap=i;this.XW(x,F);this.lE=this.cv();return i!=-1};fn.prototype.hv=function(x,F,W,n){return this.Kr(x,F,W.U.Q,n)};
fn.prototype.Kr=function(x,F,W,n){var L=-1,$=this.zj(),l=[0,2,6,8,1,3,5,7],k=n?O.m8({U:{Q:W}},n):8*O.e1()/W,V=eX.I9($[0],$[2]),i=eX.I9($[0],$[6]),f=this.hc(F,this.GO);
f.x*=V;f.y*=i;var X=new eu(0,0,V,i);X.za(k,k);if(L==-1)if(eX.I9(this.cv(),F)<k)L=9;if(L==-1)for(var w=0;
w<l.length;w++)if(eX.I9($[l[w]],F)<k)L=l[w];if(L==-1&&X.U4(f)){if(Math.abs(f.y-0)<k)L=1;if(Math.abs(f.x-0)<k)L=3;
if(Math.abs(f.y-i)<k)L=7;if(Math.abs(f.x-V)<k)L=5}if(L==-1&&x&&x.S(gp.d8))L=9;if(L==-1||this.tj==4){if(this.yM(F)){if(this.afW)L=10}else{var s=[3,.85][aH];
X.za(s*k,s*k);L=X.U4(f)&&this.tj!=3?11:10}}return L};fn.prototype.Lx=function(x,F,W,n,L){if(this.ap==-1)return;
this.ND=n;var $=W&&W.S(gp.ca),l=W&&W.S(gp.d8),k=W&&W.S(gp.Fr),V=x.U.Q,i=this.HU,f=this.ap,X=this.zj(),s=O.fI.FW(x,i,F),R=O.fI.FW(x,n,F),h,B;
if(f==9){var X=this.zj(),e=-1;for(var w=0;w<X.length;w++)if(eX.I9(X[w],R)*V<10)e=w;this.VO=e==-1?9:e;
this.eY=$?O.zE._l(s,R):R.clone()}else if(f==10){B=r.Z.KR(this.SC);var U=B.x,o=B.y;B.offset(n.x-i.x,n.y-i.y);
if(this.aCH()){B.x=Math.round(B.x);B.y=Math.round(B.y)}h=O.fI.QF(x,B,F);var b=new iJ(1,0,0,1,B.x-U+h[0],B.y-o+h[1]);
r.Z.i(this.SC,b,this.GO)}else if(f==11){var u=this.cv(this.SC),Z=u.ZC(n),I=u.ZC(i),y=Math.atan2(Z.y,Z.x),D=Math.atan2(I.y,I.x),b=new iJ(1,0,0,1,-u.x,-u.y),N=Math.PI/12;
if($)b.rotate(Math.round((D-y)/N)*N);else b.rotate(D-y);b.translate(u.x,u.y);r.Z.i(this.SC,b,this.GO)}else{var j=$,H;
if(L&&!k)j=!j;if(this.ao0)j=!0;var Q=this.SC,C=f==0||f==2||f==6||f==8;if(this.tj==1){if(C)$=l=k=!0}else if(this.tj==2&&C&&this.aBm!=!0)k=!0;
if(this.tj==3)k=!1;else if(this.tj==5){$=k=!0}if(this.af9&&C&&k){var w=[0,0,2,0,0,0,6,0,4,0][f],J=-1,E=R.x,T=R.y;
if($){var c=w+6&7,a=w+10&7,K=fn.apb(Q[w],Q[w+1],Q[c],Q[c+1],R.x,R.y),Y=fn.apb(Q[w],Q[w+1],Q[a],Q[a+1],R.x,R.y),p=K[2]<Y[2]?K:Y;
E=p[0];T=p[1];if(l)J=K[2]<Y[2]?c:a}else if(l)J=w+4&7;H=Q.slice(0);if(J!=-1){var P=Q[J],m=Q[J+1],z=(Q[w]+P)/2,M=(Q[w+1]+m)/2;
H[J]=z-(E-z);H[J+1]=M-(T-M)}H[w]=E;H[w+1]=T}else if(C&&l){var u=this.lE,d=u.x,A=u.y,G=s.x-d,kB=s.y-A,q=1,fO=1;
if(Math.abs(G)>=1)q=(R.x-d)/G;if(Math.abs(kB)>=1)fO=(R.y-A)/kB;if(j)q=fO=(q+fO)/2;var b=new iJ;b.translate(-d,-A);
b.scale(q,fO);b.translate(d,A);H=Q.slice(0);r.Z.i(H,b,H)}else{if(this.aCH()){R.x=Math.round(R.x);R.y=Math.round(R.y)}var g=[0,1,2,5,8,7,6,3],jN=g[(g.indexOf(f)+4)%8],c6=[];
for(var w=0;w<3;w++)for(var J=0;J<3;J++)c6.push(new eX(J/2,w/2));var u=this.lE,a7=this.hc(R,Q),bd=this.hc(i,Q),ey=l&&(this.VO==4||this.VO==9)?this.hc(u,Q):c6[jN],c5=new iJ,bx=new iJ,q=(a7.x-ey.x)/(bd.x-ey.x);
if(q==0)q=1e-4;var fO=(a7.y-ey.y)/(bd.y-ey.y);if(fO==0)fO=1e-4;if(this.axD){q=Math.max(q,0);fO=Math.max(fO,0)}if(f==0||f==2||f==6||f==8){if(j)c5.scale(q,q);
else c5.scale(q,fO)}if(f==1||f==3||f==5||f==7){var ap=j,fC=k&&$;if(fC)ap=!1;if(f==1||f==7)c5.scale(ap?fO:1,fC?1:fO);
else c5.scale(fC?1:q,ap?q:1);if(this.a9x&&k){if(f==1||f==7)bx.Pu=(a7.x-ey.x)/(a7.y-ey.y);else bx.z=(a7.y-ey.y)/(a7.x-ey.x)}}var b=new iJ;
b.translate(-ey.x,-ey.y);b.concat(c5);b.concat(bx);b.translate(ey.x,ey.y);H=[0,0,1,0,1,1,0,1];r.Z.i(H,b,H);
var p=r.D.An(Q);r.D.i(p,H)}if(fn.R$(H))this.GO=H}this.XW(x,F);if(h)O.fI.HY(x,B,h)};fn.apb=function(x,F,W,n,L,$){var l=W-x,k=n-F,V=L-x,i=$-F,f=l*l+k*k,X=V*l+i*k,s=X/f,R=x+s*l,h=F+s*k,B=L-R,e=$-h;
return[R,h,Math.sqrt(B*B+e*e)]};fn.prototype.aCH=function(){var x=this.GO;return Math.abs(x[1]-x[3])<1e-6&&Math.abs(x[2]-x[4])<1e-6||Math.abs(x[0]-x[2])<1e-6&&Math.abs(x[3]-x[5])<1e-6};
fn.R$=function(x){return r.Z.aeK(x)||r.Z.aeK([x[6],x[7],x[4],x[5],x[2],x[3],x[0],x[1]])};fn.prototype.t8=function(x,F,W,n){this.ap=-1;
this.ND=null;x.N.kr=null;x.N.v7=[];x.yW=!0};fn.prototype.lH=function(x,F,W){var n=W.xa(x?x.U.O4:0);if(n.x||n.y){var L=new iJ(1,0,0,1,n.x,n.y);
r.Z.i(this.GO,L,this.GO);this.XW(x,F);return!0}return!1};fn.prototype.zj=function(x){if(x==null)x=this.GO;
var F=x[6]-x[0],W=x[7]-x[1],n=x[4]-x[2],L=x[5]-x[3],$=[x[0],x[1],x[2],x[3],x[0]+F/2,x[1]+W/2,x[2]+n/2,x[3]+L/2,x[6],x[7],x[4],x[5]],l=[];
for(var w=0;w<3;w++){var k=w*4,V=$[k+0],i=$[k+1],f=$[k+2],X=$[k+3];l.push(new eX(V,i));l.push(new eX(V+(f-V)/2,i+(X-i)/2));
l.push(new eX(f,X))}return l};fn.prototype.XW=function(x,F,W){if(x.N==null)return;if(W==null)W=!1;var n=this.lg,L=this.zj(),$=L[0],l=L[2],k=L[6],V=L[8],i={G:[],p:[]};
if(n==0)x.N.HV=i;else x.N.DG=i;i.G.push("M","L","L","L","Z");i.p.push($.x,$.y,l.x,l.y,V.x,V.y,k.x,k.y);
var f=this.aqo;if(f>1){x.N.PY=JSON.parse(JSON.stringify(i));var X=l.ZC($),s=k.ZC($),R=V.ZC(l),h=V.ZC(k);
for(var w=1;w<f;w++){i.G.push("M","L","M","L");var B=w/f;i.p.push($.x+X.x*B,$.y+X.y*B,k.x+h.x*B,k.y+h.y*B);
i.p.push($.x+s.x*B,$.y+s.y*B,l.x+R.x*B,l.y+R.y*B)}}x.U.M2=new eu(0,0,eX.I9(L[0],L[2]),eX.I9(L[0],L[6]));
if(this.ap!=-1&&this.ap<9&&this.ND){var e=x.U.Q0(this.ND.x,this.ND.y);O.p9.KO(e,x.U.M2,x,F)}if(!W){var U=[];
if(n==0)x.N.sC=U;else x.N.uf=U;for(var w=0;w<L.length;w++)if(w!=4)U.push(L[w].x,L[w].y);var o=this.cv();
U.push(o.x,o.y)}x.yW=!0};fn.prototype.clear=function(x){x.U.M2=null;x.N.kr=null;x.N.HV=null;x.N.DG=null;
x.N.PY=null;x.N.sC=[];x.N.uf=[];x.yW=!0};function cQ(x){this.xP=null;this.ap=-1;this.hb=null;this.aoW=null;
this.rC=null;this.jD=-1;this.ajm=null;this.amG(x)}cQ.prototype.wY=function(){return JSON.parse(JSON.stringify(this.xP))};
cQ.prototype.amG=function(x){this.xP=JSON.parse(JSON.stringify(x))};cQ.prototype.a3i=function(x){this.jD=x};
cQ.prototype.yM=function(x){return!0};cQ.prototype.h7=function(x,F,W,n){var L=this.Kr(x,F,n);if(L==-1)return"default";
return"pointer"};cQ.prototype.pI=function(x,F,W,n,L,$,l){if(this.jD!=-1)return!0;this.ap=this.Kr(n,x.U.Q,l);
var k=r.xP.Bs(this.xP),V=r.AH.IW(k,n),i=0<V[0]&&V[0]<1&&0<V[1]&&V[1]<1;this.hb=i?V:null;this.aoW=JSON.stringify(k);
this.ajm=JSON.stringify(this.xP);this.rC=n;return this.ap!=-1||i};cQ.prototype.Kr=function(x,F,W){var n=W?O.m8({U:{Q:F}},W)*2:20*O.e1()/F,L=this.xP,$=cQ.ajv(L),l=-1;
if($){l=r.Z.cu($,x.x,x.y,n);if(l!=-1)l+=1e6}else{var k=r.xP.Bs(L);l=r.Z.cu(k[3],x.x,x.y,n);if(l!=-1&&this.W9(k,l)==null)l=-1}return l};
cQ.prototype.Lx=function(x,F,W,n){if(this.jD!=-1)return;var L=this.xP,$=this.ap,l=this.hb,k=JSON.parse(this.aoW),V=k[0],i=k[1],f=k[3];
if($>=1e6){var X=L.warpStyle.v.warpStyle,s=r.xP.oU(L);if(X=="warpCylinder"){this.xP=L=JSON.parse(this.ajm);
var R=O.Y.kT(L.warpValues),h=(R[2]-R[0])/(R[1]-R[3]),B=R[4]*h*s.e,e=R[5]*h*s.e,U=n.x-this.rC.x,o=n.y-this.rC.y;
R[0]=s.x;R[1]=s.y+s.e;R[2]=s.x+s.m;R[3]=s.y;$-=1e6;if($==0){R[0]+=U;R[1]+=o}if($==1){R[2]+=U;R[3]+=o}if($==2){B+=2*o;
e+=2*o}if($==3){e+=2*o}if($==4){R[6]=Math.max(0,Math.min(1,R[6]-2*U/s.m))}var b=r.Z.KR(R.slice(0,4)),u=b.m/s.m,Z=b.e/s.e;
R[4]=B/b.m;R[5]=e/b.m;L.warpValues=O.Y.ud(R);var I=new iJ;I.translate(-s.x,-s.y);I.scale(u,Z);I.translate(b.x,b.y);
if($<4)return I}else{var y=L.warpRotate.v.Ornt,D=y=="Vrtc",N=r.xP.a7B[X],j=D?-n.x/s.m:-n.y/s.e;j+=N[1];
if(N[1]>.5)j=-j;j/=N[2];var u=s.m/s.e;if(D)u=1/u;if(N[3])j/=u;L.warpValue.v=100*Math.max(-1,Math.min(1,j))}}else if($!=-1){var H=[$],U=n.x-f[$*2],o=n.y-f[$*2+1];
if(V*i>16){var Q=this.W9(k,$);if(Q[0]==0){var C=Math.floor($/V),J=$-C*V;if(J>0)H.push($-1);if(J<V-1)H.push($+1);
if(C>0)H.push($-V);if(C<i-1)H.push($+V)}}for(var w=0;w<H.length;w++){f[H[w]*2]+=U;f[H[w]*2+1]+=o}r.xP.oz(L,k)}else if(l){r.AH.ab4(k,l[0],l[1],n.x-this.rC.x,n.y-this.rC.y);
r.xP.oz(L,k)}};cQ.prototype.t8=function(x,F,W,n){var L=this.jD;this.hb=null;this.jD=-1;if(L!=-1){var $=r.xP.Bs(this.xP),l=r.AH.IW($,n);
if(L==0||L==1)r.AH.split($,0,l[0]);if(L==0||L==2)r.AH.split($,1,l[1]);r.xP.oz(this.xP,$)}x.yW=!0;return L!=-1};
cQ.prototype.lH=function(x,F,W){var n=W.xa();if(n.x||n.y){var L=new iJ(1,0,0,1,n.x,n.y);r.Z.i(this.GO,L,this.GO);
this.XW(x)}};cQ.prototype.W9=function(x,w){var F=x[0],W=x[1],n=this.ap,L=Math.floor(n/F),$=n-L*F,l=n%3,k=n%3,V=l==0&&k==0,L=Math.floor(w/F),$=w-L*F,l=$%3,k=L%3;
if(l!=0&&k!=0)return null;if(l==0&&k==0)return[0];else{var i=0;if(k==0)i=l==1?w-1:w+1;if(l==0)i=k==1?w-F:w+F;
if(F*W>16){var f=n==w||n==w+1||n==w-1||n==w+F||n==w-F;if(V&&(f||n==w+2||n==w-2||n==w+2*F||n==w-2*F)){}else if(!V&&f){}else return null}return[1,i]}};
cQ.ajv=function(x,F){var F=x.warpStyle.v.warpStyle,n;if(F=="warpCustom"||F=="warpNone")return null;var W=r.xP.Bs(x);
if(F=="warpCylinder"){var L=x.warpValues.v;n=[0,1,1,0,.5,0,.5,1,.75-.25*L[6].v,.5]}else{var $=x.warpRotate.v.Ornt,l=r.xP.a7B[F];
n=$=="Hrzn"?[l[0],l[1]]:[l[1],l[0]]}r.AH.i(W,n,new eu(0,0,1,1));return n};cQ.prototype.XW=function(x,F){var W=this.xP,n=W.warpStyle.v.warpStyle,L=r.xP.Bs(W),$=L[0],l=L[1],k=L[3],V=x.N.DG={G:[],p:[]},i=x.N.uf=[],f=x.N.kV=[],X=this.ap;
if(n=="warpCustom")for(var s=0;s<l;s++)for(var R=0;R<$;R++){var w=s*$+R,h=this.W9(L,w);if(h==null)continue;
var B=k[2*w],e=k[2*w+1],U=f;if(h[0]==0)U=w==X&&$*l>16?f:i;else{var o=h[1];V.G.push("M","L");V.p.push(B,e,k[2*o],k[2*o+1])}U.push(B,e)}else{var b=cQ.ajv(W);
if(b)for(var w=0;w<b.length;w++)i.push(b[w])}for(var s=0;s+1<l;s+=3)for(var R=0;R+1<$;R+=3){V.G.push("M","C","C","C","C");
var w=s*$+R,u=w+$+$,Z=[w,w+1,w+2,w+3,w+$+3,u+3,u+$+3,u+$+2,u+$+1,u+$,u,w+$,w];for(var w=0;w<Z.length;
w++){var B=k[Z[w]*2],e=k[Z[w]*2+1];V.p.push(B,e)}}var I=[],y=[];function D(N,R,Q){for(var Z=0;Z<=Q;Z++){y.push(Z==0?"M":"L");
if(N==0)I.push(R,Z/Q);else I.push(Z/Q,R)}}if(F)F=r.AH.IW(L,F);for(var N=0;N<2;N++){var j=L[2][N],H=N==0?$:l,Q=H*5;
for(var C=1;C<H;C++){var J=Math.floor((C-1)/3),E=C-(1+J*3);if(E==0)continue;var R=j[J]+E/3*(j[J+1]-j[J]);
D(N,R,Q)}var T=this.jD;if(F&&T!=-1&&(T==0||T-1==N))D(N,F[N],Q)}r.AH.i(L,I,new eu(0,0,1,1));r.Z.concat(V,{p:I,G:y});
x.yW=!0};cQ.prototype.clear=function(x){x.N.DG=null;x.N.uf=[];x.N.kV=[];x.yW=!0};function j1(){this.AG=!1;
this.Zi=!1;this.avJ=!1;this.azl=!1;this.g6=!1;this.Zf=!1;this.oy=0;this.ez=0}j1.prototype.pI=function(x){this.AG=!0;
this.Zi=!1;this.g6=x.S(gp.ca);this.Zf=x.S(gp.d8);this.oy=this.g6?0:1;this.ez=this.Zf?0:1};j1.prototype.lH=function(x){var F=this.azl=x.S(gp.ca),W=this.avJ=x.S(gp.d8);
if(this.Zi){if(this.oy==0&&!F)this.oy++;if(this.oy==1&&F)this.oy++;if(this.ez==0&&!W)this.ez++;if(this.ez==1&&W)this.ez++}};
j1.prototype.Lx=function(){this.Zi=!0};j1.prototype.t8=function(){this.AG=!1};j1.prototype.sB=function(w){if(w==0)return this.AG?this.Zf:this.avJ;
if(w==1)return this.Zi?this.ez==2:!1};j1.prototype.Ck=function(w){if(w==0)return this.AG?this.g6:this.azl;
if(w==1)return this.Zi?this.oy==2:!1};O.History=function(){O.p9.call(this,"History",O.o7);this._A=!0;
this.a32=0};O.History.prototype=new O.p9;O.History.prototype.LB=function(x,F,W,n){W.bA=!0;if(x.d=="h_itemchange"){if(x.index<W.Mw)for(var w=W.Mw;
w>x.index;w--)this.Xl(W);if(x.index>W.Mw)for(var w=W.Mw;w<x.index;w++)this.ZP(W)}if(x.d=="h_stepfwd")this.ZP(W);
if(x.d=="h_stepbck")this.Xl(W);if(x.d=="h_undoredo"){var L=this._A||this.a32!=W.Mw;if(L){this.Xl(W);
L=!1}else{this.ZP(W);L=!0}this._A=L;this.a32=W.Mw}if(x.d=="h_clear"){if(x.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
W.history=[new fd([1,0],null)];W.Mw=0}else this._A=!0};O.History.prototype.Xl=function(x){if(x.Mw==0)return;
var F=x.history[x.Mw];F.f.hm(F.data,x);x.Mw--};O.History.prototype.ZP=function(x){if(x.Mw==x.history.length-1)return;
var F=x.history[x.Mw+1];F.f.Th(F.data,x);x.Mw++};O.RC=function(){O.p9.call(this,"Layers",O.c9);this.gP=null};
O.RC.prototype=new O.p9;O.RC.prototype.LB=function(x,F,W,n,L){this.gP=F;var $=x.d,l=x.a!=null?x.a:W.g.length!=0?W.g[0]:W.B.length-1,k=W.B[l];
W.Md=!0;var V=n.S(gp.d8),i=n.S(gp.ca),f=n.S(gp.Fr);if($==t.G$&&W.u==null&&(W.g.length>1||!W.SP(!1)))$=t.Fu;
if($==t.rX){var X=new fd([6,33],this),s=k.vN()?["pass"].concat(a2.BL):a2.BL,R=s[x.k9],h=x.a!=null?[x.a]:W.g,B=JSON.stringify(h),e=[];
for(var w=0;w<h.length;w++)e.push(W.B[h[w]].q_);X.data={d:$,te:B,Zw:e,k9:R};W.fC(X);this.Th(X.data,W);
this.track(ga.Lr("Md",{t:"enum",v:{BlnM:a2.KN(R)}}))}if($==t.W2){var X,U=W.Ao(),h=x.a!=null?[x.a]:W.g,B=JSON.stringify(h);
if(U&&U.data&&U.data.d==$&&U.data.te==B)X=U;else{var o=ga.Lr("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(o);var e=[];for(var w=0;w<h.length;w++)e.push(W.B[h[w]].opacity);X=new fd([6,32],this);X.data={d:$,te:B,Zw:e,k9:x.k9,L$:o.Xe};
W.fC(X)}X.data.k9=x.k9;X.data.L$.T.v.Opct.v.val=Math.round(x.k9*100/255);this.Th(X.data,W)}if($==t.MD){if(k.add.iOpa==null)k.add.iOpa=255;
var X,U=W.Ao();if(U&&U.data&&U.data.d==$&&U.data.a==l)X=U;else{X=new fd("Fill Opacity Change",this);
X.data={d:$,a:l,Zw:k.add.iOpa,k9:x.k9};W.fC(X)}X.data.k9=x.k9;this.Th(X.data,W)}if($==t.ku){var b=x.k9,u=x.a!=null?[x.a]:W.g.slice(0),Z=[],I=[],X;
for(var y=0;y<u.length;y++){var D=W.B[u[y]];if(D.add.lspf==null)D.add.lspf=0;var e=D.add.lspf,R=e;for(var w=0;
w<b[0].length;w++){var N=b[1][w],j=1<<N;if((R&j)==0&&b[0][w])R^=j;else if((R&j)!=0&&!b[0][w])R^=j}Z.push(e);
I.push(R)}var U=W.Ao(),h=JSON.stringify(u);if(U&&U.data&&U.data.d==$&&JSON.stringify(U.data.te)==h){X=U;
X.data.k9=I}else{var X=new fd([6,57,1],this);X.data={d:$,te:h,Zw:Z,k9:I};W.fC(X)}this.Th(X.data,W)}if($==t.R3){var H="----",Q=x.xS,R=null;
for(var w=0;w<eb.V$.we.length;w++)if(k.add[eb.V$.we[w]])H=eb.V$.we[w];var C=k.add[H];if(Q=="TySh")R=iV.P3(50,50,L.Sq);
var X=new fd("Layer Type",this);X.data={d:$,a:l,a7F:[H,C],xS:[Q,R]};W.fC(X);this.Th(X.data,W)}if($==t._k){var u=[];
if(V){var J=W.Ao(),E=J?J.data:null;if(J!=null&&J.f==this&&E.d==t._k&&E.te.length!=1){var T=new gT(S.E.v);
T.f=O.o7;T.data={d:"h_stepbck"};F.T(T);if(E.a==l)return}var c=W.root.y9(l),a=c,K=[x.a];while(a.parent!=W.root){K.push(a.parent.index);
a=a.parent}for(var w=0;w<W.B.length;w++){var Y=W.B[w],a=W.root.y9(w),p=K.indexOf(w)!=-1?!0:Y.MG()&&c.depth<a.depth;
if(p!=Y.MG())u.push(w)}}else if(x.te)u=x.te;else{u.push(l);var P=W.B[l].MG(),o={Y3:P?"hide":"show",Xe:{classID:P?"Hd":"Shw",null:{t:"VlLs",v:[ga.oY("Lyr",!0)]}}};
this.track(o)}var X=new fd("Layer visibility",this,!0);X.data={d:$,te:u,a:l};W.fC(X);this.Th(X.data,W)}if($==t.uA){if(L.Dj==O.wl){var m=new gT(S.E.M);
m.data={d:S.H.Ac,f:O.iY};F.T(m)}var z=x.ao4,M=x.ll,G,escape=!1,kB=!1;if(x.i3){if(f&&(M==0||M==1||M==2)){var d=0;
if(i)d++;if(V)d+=2;var A=new gT(S.E.v,!0);A.f=O.Yg;A.data={d:"fromlayer",U0:[x.a,M,d]};F.T(A);return}}var o={Y3:"select",Xe:{classID:"null",MkVs:{t:"bool",v:!1}}};
W.alp();if(n.S(gp.Fr)||x.bi==0){var q=W.g.indexOf(l);if(q==-1)W.g.push(l);else if(W.g.length>1){if(x.bi!=0)W.g.splice(q,1)}W.g.sort(function(X,c0){return X-c0});
o.Xe.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};G=l}else if(i&&!V&&M>0){$=M==1?t.Xt:M==2?t.ha:t.OG;
escape=!0}else if((i||x.bi==1)&&W.g.length>0){var fO=Math.min(l,W.g[0]),g=Math.max(l,W.g[W.g.length-1]);
W.g=[];for(var w=fO;w<=g;w++)if(W.B[w].add.lsct!=eD.iS)W.g.push(w);o.Xe.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
G=l}else{G=l;if(l>=W.B.length)return;var Y=W.B[l];if(Y&&Y.vN()&&x.akD)Y.add.lsct=eD.en;else if(W.g.length==1&&W.g[0]==l&&Math.max(0,M)==Y.sj){kB=!0;
W.Md=!1}if(!kB){W.g=[l];W.pz()}}if(!kB){if(G!=null&&G<W.B.length){o.Xe.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:W.B[G].getName()}}]},this.track(o)}if(!escape){console.log("no escape");
if(W.g.length==1){var jN=W.g[0];for(var w=0;w<W.B.length;w++){if(w==jN)continue;var D=W.B[w];D.sj=0;
D.HZ=!1}var k=W.B[jN];if(M==2){k.HZ=!k.HZ;W._H=[]}else if(k){k.sj=M<=0?0:M}}else for(var w=0;w<W.B.length;
w++){var D=W.B[w];D.sj=0;D.HZ=!1}W.TQ=null;W.bA=!0}}if(x.i3&&V){if((M==1||M==3)&&z!=null){var A=new gT(S.E.v,!0);
A.f=O._6;A.data={d:"mskView",b:z!=0?0:i?1:2};F.T(A)}else{this.LB({d:t.rF,a:x.a},F,W,n,L)}}}if($==t.Xt||$==t.OG){var c6=$==t.Xt,a7=c6?k.GH():k.DU(W).F;
if(a7==null)return;var X=new fd(a7.isEnabled?c6?[6,15]:[6,42]:c6?[6,14]:[6,41],this);X.data={d:$,a:l};
W.fC(X);this.Th(X.data,W)}if($==t.ha){var a7=k.add.vmsk;if(a7==null)return;var X=new fd(a7.isEnabled?[6,17]:[6,16],this);
X.data={d:$,a:l};W.fC(X);this.Th(X.data,W)}if($==t.aoC){var bd=k.add.lsct==eD.en?eD.Tn:eD.en,a=W.root.y9(W.B.indexOf(k)),bx=!1;
if(n.S(gp.Fr)){var ey=a.parent;for(var w=0;w<ey.children.length;w++){var c5=ey.children[w].a;if(c5.vN())c5.add.lsct=bd}}else k.add.lsct=bd;
for(var w=0;w<W.g.length;w++){var ap=W.g[w];if(a.PF<ap&&ap<a.index)bx=!0}if(bx)W.g=[a.index];W.bA=!0}if($==t.rF){if(!W._B(l))return;
var X=new fd(k.gO?[6,19]:[6,18],this);X.data={d:$,a:l};W.fC(X);if(x.k9==null||x.k9!=k.gO)this.Th(X.data,W)}if($==t.aii){if(k.gN())k.xb-=32;
else k.xb+=32;W.bA=!0}if($==t.Zn||$==t.bN){var X;if($==t.Zn)X=new fd(k.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if($==t.bN)X=new fd(k.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);X.data={d:$,a:l};W.fC(X);this.Th(X.data,W)}if($==t.Tm||$==t.Lk){var jN=x.index,X;
if($==t.Tm)X=new fd(k.add.lmfx[eC.UM[jN[0]]].v[jN[1]].v.enab.v?[6,30,0]:[6,29],this);if($==t.Lk)X=new fd(k.add.SoLd.filterFX.v.filterFXList.v[jN].v.enab.v?[6,44]:[6,43],this);
X.data={d:$,a:l,index:x.index};W.fC(X);this.Th(X.data,W)}if($==t.kR){if(x.src==x.D0)return;var fC=W.B[x.src],kE=W.B[x.D0],bm=fC.add.lmfx?JSON.stringify(fC.add.lmfx):"",fe=kE.add.lmfx?JSON.stringify(kE.add.lmfx):"";
if(kE.add.lmfx==null){kE.add.lmfx=JSON.parse(eC.default);for(var w=0;w<eC.order.length;w++)kE.add.lmfx[eC.UM[w]]={t:"VlLs",v:[]}}if(x.Zj==null){kE.add.lmfx=JSON.parse(bm);
if(!V)delete fC.add.lmfx}else{var g8=x.Zj[0],e0=eC.UM[g8];if(eC.aeM.indexOf(eC.order[g8])==-1)kE.add.lmfx[e0].v=[];
kE.add.lmfx[e0].v.push(fC.add.lmfx[e0].v[x.Zj[1]]);if(!V)fC.add.lmfx[e0].v.splice(x.Zj[1],1)}var cF=fC.add.lmfx?JSON.stringify(fC.add.lmfx):"",ei=kE.add.lmfx?JSON.stringify(kE.add.lmfx):"";
if(!kE.gN())kE.xb+=32;var X=new fd("Move Layer Styles",this);X.data={d:$,zp:x.src,_z:x.D0,aqu:bm,aoq:fe,aCW:cF,anq:ei};
W.fC(X);this.Th(X.data,W)}if($==t.kx){if(x.src!=null)l=x.src;var D=W.B[l],cr=JSON.stringify(D.add.SoLd),e_=JSON.parse(cr),gg=e_.filterFX.v.filterFXList.v;
gg.splice(x.Zj,1);var X=new fd([6,53],this);X.data={d:t.vO,e_:[{b4:l,fW:[cr,JSON.stringify(e_)]}]};W.fC(X);
this.Th(X.data,W)}if($==t.a2y){var bW=V,fC=W.B[x.src],kE=W.B[x.D0],gx=[];if(fC!=kE&&kE.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(fC==kE&&!bW&&x.Zj==x.rV)return;if(fC==kE&&x.Zj==-1)return;var h$=fC.DU(W),cr=JSON.stringify(fC.add.SoLd),e_=JSON.parse(cr),gg=e_.filterFX.v.filterFXList.v;
if(fC==kE){gg.splice(x.rV,0,gg[x.Zj]);if(!bW)gg.splice(x.Zj+(x.Zj<x.rV?0:1),1);gx.push({b4:x.src,fW:[cr,JSON.stringify(e_)]})}else if(x.Zj==-1){var dH=e_.filterFX;
if(!bW){delete e_.filterFX;gx.push({b4:x.src,fW:[cr,JSON.stringify(e_)],_R:[h$,null]})}var eg=kE.mK()?kE.DU(W):null,aB=az.arg(h$),gB=JSON.stringify(kE.add.SoLd),jy=JSON.parse(gB);
jy.placed.v=aB.id;jy.filterFX=dH;gx.push({b4:x.D0,fW:[gB,JSON.stringify(jy)],_R:[eg,aB]})}else{var aV=gg[x.Zj];
if(!bW){gg.splice(x.Zj,1);gx.push({b4:x.src,fW:[cr,JSON.stringify(e_)]})}var gB=JSON.stringify(kE.add.SoLd),jy=JSON.parse(gB);
if(jy.filterFX==null)jy.filterFX=ew.yp();var ie=jy.filterFX.v.filterFXList.v;ie.splice(x.rV,0,aV);var cT={b4:x.D0,fW:[gB,JSON.stringify(jy)]};
if(!kE.mK()){var aB=az.ad6(kE.add.SoLd.placed.v);cT._R=[null,aB]}gx.push(cT)}var X=new fd([6,52],this);
X.data={d:t.vO,e_:gx};W.fC(X);this.Th(X.data,W)}if($==t.ra){var a7=k.GH(),X=new fd(a7.eS?[6,26]:[6,25],this);
X.data={d:$,a:l};W.fC(X);this.Th(X.data,W);this.track({Y3:"set",Xe:{classID:"setd",null:{t:"obj ",v:[ga.oY("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:a7.eS}}}}})}if($==t.Re){var a7=k.add.vmsk,X=new fd(a7.eS?[6,28]:[6,27],this);
X.data={d:$,a:l};W.fC(X);this.Th(X.data,W)}if($==t.L9){var X=new fd("Variables / Datasets",this),a_=JSON.stringify([W.C7,W.wD]);
if(a_==x.b)return;X.data={d:$,ac7:a_,ahC:x.b};W.fC(X);this.Th(X.data,W)}if($==t.$b){var gs=[],X;for(var w=0;
w<W.g.length;w++){var y=W.g[w],Y=W.B[y];if(Y.add.vogk)gs.push(y,JSON.stringify(Y.add.vogk))}for(var w=0;
w<W._H.length;w++){var y=W._H[w],Y=W.V2[y];if(Y.add.vogk)gs.push(-1-y,JSON.stringify(Y.add.vogk))}r.mq.aba(W,x.b,x.a6h);
var gq=[];for(var w=0;w<W.g.length;w++){var y=W.g[w],Y=W.B[y];if(Y.add.vogk)gq.push(y,JSON.stringify(Y.add.vogk))}for(var w=0;
w<W._H.length;w++){var y=W._H[w],Y=W.V2[y];if(Y.add.vogk)gq.push(-1-y,JSON.stringify(Y.add.vogk))}var U=W.Ao();
if(U&&U.data&&U.data.d==$){var kr=!0;for(var w=0;w<gs.length;w+=2)if(gs[w]!=U.data.Xj[w])kr=!1;if(kr){X=U;
X.data.Z_=gq}}if(X==null){var X=new fd([12,91,1],this);X.data={d:$,Xj:gs,Z_:gq};W.fC(X)}this.Th(X.data,W)}if($==t.pV){var iN=JSON.stringify(k.add.artb),jH=JSON.stringify(x.Ed),X;
W.B[l].add.artb=JSON.parse(jH);var h2=new eu(0,0,W.m,W.e),an=O.f7.I6(W),U=W.Ao();if(U&&U.data&&U.data.d==$&&U.data.a==l){X=U;
X.data.Ed=jH}if(X==null){var X=new fd("Editing Artboard",this);X.data={d:$,a:l,aof:iN,Ed:jH,Mk:h2};W.fC(X)}X.data.Tw=an;
this.Th(X.data,W)}if($==t.Bl){var gq=W.o2.slice(0),bt=W.kO.slice(0),kH=W.u,js=W.u,p=W.U.O.slice(0);if(x.k1=="seltochannel"){var gA=x.U0[0],jR=gq[gA]=gq[gA].clone(),a=r.KF.e$(W.u,jR,x.U0[1]);
jR.channel=a.channel;jR.rect=a.rect}if(x.k1=="fromAction"){var c3=x.b.Y3,iU=x.b.Xe;if(c3=="make"||c3=="duplicate"){var hn=gq.length,dy=!1,c2=!1;
if(W.wm())hn--;var db=new t.gm;db.name="Alpha "+(hn+1);if(c3=="make"){var bk=iU.Nw.v;db.color=0;bt=[hn];
db.NZ=!0;db.eE=bk.Opct.v;if(bk.Nm)db.name=bk.Nm.v;if(bk.classID=="SCch"){dy=!0;js=null;db.d$=1}for(var w=0;
w<W.o2.length;w++)W.o2[w].NZ=!1;p=[0,0,0]}else{var Y=W.B[W.g[0]],cx=Y.sj==1?Y.GH():Y.sj==3?Y.DU(W).F:null,ft=iU.null.v[0].v;
if(iU.Nm)db.name=iU.Nm.v;if(ft.keyID=="fsel")dy=!0;else if(cx){db.channel=cx.channel.slice(0);db.rect=cx.rect.clone();
db.color=cx.color}else{var eZ=O.FA.av9(W);js=O.FA.awB(W,eZ);db.color=0;db.rect=js.rect;db.channel=js.channel}}if(dy){db.color=0;
if(W.u){db.rect=W.u.rect.clone();db.channel=W.u.channel.slice(0)}if(c2){db.color=255-db.color;r.sx(db.channel)}}gq.splice(hn,0,db)}else if(c3=="delete"){if(k&&k.GH()&&k.sj==1){this.LB({d:t.LO},F,W,n,L);
return}var hf=W.kO;hf.sort(function(X,c0){return c0-X});if(hf.length==0)return;for(var w=0;w<hf.length;
w++)gq.splice(hf[w],1);bt=[];p=[1,1,1]}else if(c3=="show"||c3=="hide"){var jr=iU.null.v,ix=null,bF=!1;
for(var w=0;w<jr.length;w++){var fA=jr[w].v[0].v,ax=fA.enum;if(ax=="Trgt"){if(gq[bt[0]]==null)continue;
gq[bt[0]]=gq[bt[0]].clone();gq[bt[0]].NZ=c3=="show";bF=!0}else{var gA=["Rd","Grn","Bl"].indexOf(ax);
if(ix==null)ix=W.U.O.slice(0);ix[gA]=c3=="show"?1:0}}if(ix){var T=new gT(S.E.v,!0);T.f=O.CD;T.data={d:"setcls",O:ix};
F.T(T);if(!bF)return}}}if(x.k1=="rnm"){gq[x.Fp]=gq[x.Fp].clone();gq[x.Fp].name=x.name}var X=new fd("Channel Edit",this);
X.data={d:$,Xj:W.o2.slice(0),ki:W.kO.slice(0),Z_:gq,vG:bt,WZ:kH,U_:js,ae9:W.U.O.slice(0),aca:p};this.Th(X.data,W);
W.fC(X)}if($==t.Br){var jA=new eu(0,0,W.m,W.e),X=new fd(x.Sa,this);X.data={d:t.Br,Ua:W.B.slice(0),bZ:x.bZ,$D:W.g.slice(0),bq:x.U_};
W.fC(X);this.Th(X.data,W);var g1=O.f7.tb(W);if(g1){X.data.Mk=jA;X.data.Tw=g1}}if($==t.AL){var iA=W.zm(null,x.a),fB=1e10;
if(iA.length==0)return;if(W.B.length==iA.length){alert("Project must have at least 1 layer");return}var iQ=[];
for(var w=0;w<W.B.length;w++)if(iA.indexOf(w)==-1)iQ.push(W.B[w]);for(var w=0;w<iA.length;w++)fB=Math.min(fB,iA[w]);
fB=Math.max(fB-1,0);while(iQ[fB].name=="</Layer group>")fB++;this.track({Y3:"delete",Xe:{classID:"Dlt",null:ga.oY("Lyr",!0)}});
var h2=new eu(0,0,W.m,W.e),X=new fd([6,31],this);X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:[fB]};
W.fC(X);this.Th(X.data,W);var an=O.f7.I6(W);if(an){X.data.Tw=an;X.data.Mk=h2;O.f7.tb(W)}}if($==t.oP){if(!n.S(gp.ca))return;
var X=new fd("Switch Layer Link",this);X.data={d:$,a:x.a};W.fC(X);this.Th(X.data,W)}if($==t.xU){var hf=x.azE?x.azE:W.g,dn=0,k7=!1;
if(hf.length==0)return;if(hf.length==1&&W.B[hf[0]].ju==0){alert(hz.get([15,7,5]));return}var jp=[];for(var w=0;
w<W.B.length;w++){var fP=W.B[w].ju;jp.push(fP);dn=Math.max(dn,fP)}var hs=-1,kb=-1;for(var w=0;w<hf.length;
w++){var fP=W.B[hf[w]].ju;if(fP==0)k7=!0;else if(hs==-1||hs==fP)hs=fP;else kb=fP}if(!k7)for(var w=0;
w<hf.length;w++)W.B[hf[w]].ju=0;else if(hs!=-1&&kb==-1)for(var w=0;w<hf.length;w++)W.B[hf[w]].ju=hs;
else for(var w=0;w<hf.length;w++)W.B[hf[w]].ju=dn+1;var gn=[];for(var w=0;w<W.B.length;w++){var fP=W.B[w].ju;
if(gn[fP]==null)gn[fP]=0;gn[fP]++}for(var w=0;w<W.B.length;w++){var fP=W.B[w].ju;if(gn[fP]==1)W.B[w].ju=0}var iy=jp;
jp=[];for(var w=0;w<W.B.length;w++){var fP=W.B[w].ju;jp.push(fP);dn=Math.max(dn,fP)}var X=new fd(k7?[6,54,0]:[6,54,1],this);
X.data={d:t.xU,akR:iy,ay1:jp};W.fC(X);this.Th(X.data,W)}if($==t.Fu&&(x.a!=null||W.g.length!=0)||$==t.x0){var gU=W.yd($==t.Fu?x.a:l,null,x.awa),jV;
if($==t.x0){var D=gU[0],c3=D.add.SoLd.Idnt.v,jf=W.hz(c3).clone();D.add.SoLd.Idnt.v=jf.sd=az.a1()+c3.slice(8);
W.add.lnk2.push(jf)}if($==t.Fu){var gw={Y3:"duplicate",Xe:{classID:"null",null:ga.oY("Lyr",!0)}};if(x.au){gU[gU.length-1].sc(x.au);
gw.Nm={t:"TEXT",v:x.au}}this.track(gw);x.afQ=x.a}$=t.bs;x.B=gU;x.Zx=W;x.gY=W}if($==t.bs){var bU,id,kC=x.Zx,cb=x.gY,bw=0,dr=0,hu=kC.gD(),bY=!1,bA,eh=0,eU=0;
if(kC!=cb){console.log("ADDLAYERS different projs");var bU=new eu(0,0,kC.m,kC.e),id=new eu(0,0,cb.m,cb.e),gi=[],e6=[],by=new eu;
for(var w=0;w<x.B.length;w++){var D=x.B[w];by=by.oA(D.rect);if(D.add.SoLd==null)continue;var c3=D.add.SoLd.Idnt.v;
if(gi.indexOf(c3)==-1){gi.push(c3);e6.push(az.a1()+c3.slice(8))}D.add.SoLd.Idnt.v=e6[gi.indexOf(c3)];
var h$=D.DU(kC);if(h$){kC.QW(h$);cb.Ky(h$)}}if(hu==-1&&!x.Gh&&x.a8O&&!id.yU(by)){bw=-by.x;dr=-by.y}if(gi.length>0){if(cb.add.lnk2==null)cb.add.lnk2=[];
for(var w=0;w<gi.length;w++){var dZ=kC.hz(gi[w]),jf=dZ.clone();jf.sd=e6[w];cb.add.lnk2.push(jf)}}}var kH=cb.g.slice(0);
kH.sort(function(X,c0){return X-c0});var iQ=cb.B.slice(0),js=[],i6=-1;for(var w=0;w<kH.length;w++)i6=Math.max(i6,kH[w]);
if(x.afQ!=null)i6=x.afQ;if(x.Gh){i6=x.Gh-1;var jm=cb.B[x.Gh].U$();bw+=jm.x;dr+=jm.y}if(hu!=-1&&(kC!=cb||x.Gh)){var d_=kC.B[hu].U$();
bw-=d_.x;dr-=d_.y}var hg=cb.L6();for(var w=0;w<hg[0].length;w++){var hc=hg[1][w];if(hc!=-1)hg[1][w]=iQ[hc]}i6++;
for(var w=0;w<x.B.length;w++){var Y=x.B[w],de=Y.add.artb;iQ.splice(i6,0,Y);js.push(i6);i6++;if(de){bA=!0;
var cu=de.guideIndeces;if(cu){cu=cu.v;for(var f0=0;f0<cu.length;f0++){hg[0].push(kC.Ul[cu[f0].v].slice(0));
hg[1].push(Y);bY=!0}}}}for(var w=0;w<hg[0].length;w++){var hc=hg[1][w];if(hc!=-1)hg[1][w]=iQ.indexOf(hc)}for(var w=0;
w<x.B.length;w++){var Y=x.B[w];if(Y.add.lsct==eD.iS){if(eh==0)eU++;eh++}else if(Y.vN())eh--}if(eU==1)js=[i6-1];
var X=new fd([6,0],this);X.data={d:t.Br,Ua:cb.B.slice(0),bZ:iQ,$D:kH,bq:js};if(bY){X.data.Wh=[cb.L6(),hg]}cb.fC(X);
this.Th(X.data,cb);if(bw!=0||dr!=0)O.fI.on(cb,cb.zm(),null,bw,dr);if(bA){X.data.Mk=new eu(0,0,cb.m,cb.e);
X.data.Tw=O.f7.I6(cb);O.f7.tb(cb)}}if($==t.UB){var hV=x.a!=null?[x.a]:W.zm(),iQ=W.B.slice(0);for(var w=0;
w<hV.length;w++){var Y=W.B[hV[w]].clone();Y.tD(W);iQ.splice(hV[w],1,Y)}var X=new fd([6,8],this);X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:W.g.slice(0)};
W.fC(X);this.Th(X.data,W)}if($==t.ath){var iQ=W.B.slice(0),Y=iQ[W.g[0]]=iQ[W.g[0]].clone(),fa=Y.add.lmfx,cR,jm;
delete Y.add.lmfx;var cm=W.g[0],gm=cm+1;if(Y.vN()){var j_=W.B[W.g[0]].jT;jm=j_.ad3;cR=j_.Ad;var a=W.root.y9(cm);
cm=a.PF}else{jm=Y.rect;cR=r.R(jm.P());r.Tb(Y.buffer,cR,3)}var at=hM.HK(fa,Y.add.fxrp,cR,jm,W,jm).type;
for(var w=0;w<eC.order.length;w++){var a5=eC.order[w],ac=at[a5];ac.reverse();for(var f0=0;f0<ac.length;
f0++){var aN=ac[f0],h=W.dI(),gJ=w>7;if(a5=="ebbl"){if(aN.i1||aN._S){var bV=aN.i1?aN.i1:aN._S;if(aN.i1)delete aN.i1;
else delete aN._S;if(aN._S||aN.h0)f0--}else if(aN.h0||aN.LE){var bV=aN.LE?aN.LE:aN.h0;if(aN.LE){delete aN.LE;
if(aN.h0)f0--}gJ=!0}aN=bV}h.q_=aN.kh;h.opacity=Math.round(255*aN.W0);h.buffer=aN.Xu;h.rect=aN.mF.clone();
h.rect.offset(jm.x,jm.y);if(a5=="FrFX"){h.buffer=h.buffer.slice(0);r.rW(aN.s6?aN.s6:aN.lk,h.buffer,3);
if(aN.s6){gJ=!0;delete aN.s6;if(aN.lk)f0--}}h.gO=!gJ;h.sc(Y.getName()+"'s "+hz.get(eC.names[w]));iQ.splice(gJ?cm:gm,0,h);
if(gJ)gm++}}var X=new fd("Styles to Layers",this);X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:[gm-1]};
W.fC(X);this.Th(X.data,W)}if($==t.J2){var hV=W.zm(),iQ=W.B.slice(0),d6=new eu(0,0,W.m,W.e);for(var w=0;
w<hV.length;w++){var co=W.B[hV[w]],iD=co.MG();co.FH(!0);var ck=W.root.y9(hV[w]);if(co.vN())continue;
if(ck==null)continue;var Y=co.clone();Y.tD(W);var aT=ck.oU(W,!0),ce=W.B;W.me([co]);W.W();W.KS();Y.buffer=r.R(aT.P()*4);
r.sh(W.Hi(),d6,Y.buffer,aT);Y.rect=aT;Y.opacity=255;Y.add.iOpa=255;Y.q_="norm";Y.W();Y.jT.ex=!0;W.me(ce);
if(Y.add.lmfx)delete Y.add.lmfx;Y.F=Y.y7=null;iQ.splice(hV[w],1,Y);Y.FH(iD);co.FH(iD)}var X=new fd([6,34],this);
X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:W.g.slice(0)};W.fC(X);this.Th(X.data,W)}if($==t.awd){var hV=W.zm(),iQ=W.B.slice(0);
for(var w=0;w<hV.length;w++){var Y=W.B[hV[w]],io=Y.add.TySh;if(io==null)continue;var D=new iO(io.OU,L.op),a8=r.Z.nn(kc.z_(D,io,!0));
for(var h5 in a8){var bK=a8[h5],c5=Y.clone();delete c5.add.TySh;c5.xb=c5.xb|1<<4;c5.add.SoCo=JSON.parse(JSON.stringify(eC.Ir[0]));
var h7=c5.add.SoCo.Clr.v;h7.Rd.v=parseInt(h5.slice(1,3),16);h7.Grn.v=parseInt(h5.slice(3,5),16);h7.Bl.v=parseInt(h5.slice(5,7),16);
var k8=new t.C$;k8.$=r.Z.zI(bK,!1);if(c5.add.vmsk!=null){c5.add.vmsk.alL();k8.concat(c5.add.vmsk)}c5.add.vmsk=k8;
c5.add.vstk=eC.pr.Iz(!0);c5.oO();c5.pZ(W);iQ.splice(iQ.indexOf(Y),0,c5)}iQ.splice(iQ.indexOf(Y),1)}var js=W.g.slice(0);
for(var w=js.length-1;w>=0;w--)if(js[w]>=iQ.length)js.splice(w,1);var X=new fd([6,40],this);X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:js};
W.fC(X);this.Th(X.data,W)}if($==t.Dg){var fY=W.g.length,fz,jx;if(fY<2){alert("Select two or more layers.");
return}for(var w=0;w<fY;w++){var d_=W.B[W.g[w]].rect;fz=w==0?d_:fz.jB(d_);jx=w==0?d_:jx.oA(d_)}if(fz.P()*1.2>jx.P()){alert("stacking images");
var d3=[],d2=[];for(var w=0;w<fY;w++){var Y=W.B[W.g[w]];d3.push(Y.buffer);d2.push(Y.rect)}var gc=r.adz.hu(d3,d2),gb=gc[0],gV=gc[1],cC=[];
for(var w=0;w<fY;w++){var a7=new t.gm;a7.color=255;a7.rect=gV;a7.channel=gb[w];cC.push(W.g[w],null,a7)}var X=new fd("Focus-Stack",this);
X.data={d:t.QI,Um:cC};W.fC(X);this.Th(X.data,W);return}if(!W.Vt())return;var c5=W.B[W.g[0]].clone(),iQ=[];
for(var w=0;w<W.B.length;w++)if(W.g.indexOf(w)==-1)iQ.push(W.B[w]);iQ.splice(W.g[0],0,c5);for(var w=1;
w<fY;w++)if(W.B[W.g[w]].rect.P()>2e6){alert("Blended areas are too large.");return}for(var w=1;w<fY;
w++){var Y=W.B[W.g[w]],gV=Y.rect.clone();gV.za(1,1);var c0=r.R(gV.P()*4);r.sh(Y.buffer,Y.rect,c0,gV);
c5.extend(gV);var jT=r.R(gV.P()*4);r.sh(c5.buffer,c5.rect,jT,gV);var X=r.R(gV.P());r.Tb(c0,X,3);r.round(X,200);
r.rW(X,c0,3);r.l.X3("norm",c0,gV,jT,gV,gV,1);r.iw.e5(jT,X,gV);r.sh(jT,gV,c5.buffer,c5.rect)}var X=new fd([2,10,0],this);
X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:[W.g[0]]};W.fC(X);this.Th(X.data,W)}if($==t.r8){var iQ=W.B.slice(0),bt=W.g.slice(0);
for(var w=0;w<iQ.length;w++){var Y=iQ[w],gQ=Y.add.vmsk;if(Y.qA()&&gQ&&Y.add.vstk.strokeEnabled.v&&!Y.add.vstk.fillEnabled.v){var gY=gQ.$,aY=0,k5=-1;
for(var f0=0;f0<gY.length;f0++){if((gY[f0].type==0||gY[f0].type==3)&&gY[f0].eb!=-1){aY++;if(gY[f0].type==3&&k5==-1){gY[f0].FN=gY[f0].eb=1;
k5=f0}}}if(aY>1&&k5!=-1&&aY<10){console.log("separating an open path into a new layer");Y=Y.clone();
gQ=Y.add.vmsk;gY=gQ.$;var h=gY[k5].length,cH=Y.clone();cH.add.lyid=W.AY();gQ.$=gY.slice(0,2).concat(gY.slice(k5,k5+h+1));
gQ.g=[];Y.pZ(W);Y.W();var eW=cH.add.vmsk.$;cH.add.vmsk.$=eW.slice(0,k5).concat(eW.slice(k5+h+1,eW.length));
cH.add.vmsk.g=[];cH.pZ(W);iQ[w]=Y;iQ.splice(w+1,0,cH);for(var f0=0;f0<bt.length;f0++)if(bt[f0]>w)bt[f0]++;
var kp=bt.indexOf(w);if(kp!=-1){bt.splice(kp+1,0,w+1)}}}}if(iQ.length!=W.B.length){var X=new fd("Splitting open paths",this);
X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:bt};W.fC(X);this.Th(X.data,W)}}if($==t.C5){this.LB({d:t.r8},F,W,n,L);
var kH=W.g.slice(0),ce=W.B.slice(0),hV=W.zm();if(hV.length==0)return;W.ae3(hV,!1,x.BW);var X=new fd([6,36,0],this);
X.data={d:t.Br,Ua:ce,bZ:W.B.slice(),$D:kH,bq:W.g.slice(0)};W.fC(X);this.Th(X.data,W)}if($==t.a63){var cr=k.add.SoLd;
if(cr==null)return;var c3=cr.Idnt.v,fX=W.hz(c3);fX.Hi(!1);var it=fX.mp[0],gV=fX.mp[1];if(r.aa(it)){alert("The smart object contains transparency.");
return}var cN=jW.w0("jpg").Rd([[it.buffer]],gV.m,gV.e,[90]);this.LB({d:t.sF,data:new Uint8Array(cN),GR:"image.jpg"},F,W,n,L);
console.log(W.add);return}if($==t.sF){var d6=x.GE,c3=x.id;if(d6==null)d6=W;if(c3==null)c3=k.add.SoLd.Idnt.v;
var dZ=d6.hz(c3),jf=dZ.clone();jf.raw=x.data;jf.GR=x.GR;var bQ=jW.XM(x.data.buffer);if(bQ=="psd"){jf.Hr="8BIM";
jf.d_="8BPB"}else{jf.Hr="    ";jf.d_="    "}jf.Hi(!1);dZ.Hi(!1);var X=new fd([6,36,1],this);X.data={d:t.sF,id:c3,$N:dZ,hR:jf};
d6.fC(X);this.Th(X.data,d6)}if($==t.co){var X=new fd([6,36,4],this);X.data={d:$,a:l,aG:k.add.SoLd.Impr.v.classID,k9:x.k9};
W.fC(X);this.Th(X.data,W)}if($==t.arX){var hm,fw;if(x.$g){hm=x.GE;fw=x.$g}else{x.GE.vq();x.GE.Qv();x.GE.W();
x.GE.KS();x.GE.Hi();hm=jW.w0("PSD").Rd(x.GE,0,0,[!0,!0]);fw=x.GE.name}if(!(hm instanceof ArrayBuffer))throw"e";
hm=new Uint8Array(hm);var q=x.ax;if(q==null){if(W.g.length==0)q=W.g.length;else{var ap=W.g[W.g.length-1],h=W.B[ap];
q=h.vN()?ap:ap+1}}var dk=new eu(0,0,W.m,W.e),h1=W.gD();if(h1!=-1)dk=W.B[h1].U$();var iB=W.sP(hm,fw,null,null,dk,L.op,F),iQ=W.B.slice(0);
iQ.splice(q,0,iB);var X=new fd([6,36,2],this);X.data={d:t.Br,Ua:W.B.slice(),bZ:iQ,$D:W.g.slice(0),bq:[iQ.indexOf(iB)]};
W.fC(X);this.Th(X.data,W)}if($==t.KE&&x.k1=="merge"){var bZ=[],bo=W.root.children,hj=0;for(var w=0;w<bo.length;
w++){var a=bo[w],Y=a.a,dd=a.children,fc=!0;if(!Y.vN()||dd.length==0)continue;for(var f0=0;f0<dd.length;
f0++)if(!dd[f0].a.getName().startsWith("_a_")){fc=!1;break}if(fc)bZ.push(W.B.indexOf(Y))}var e3=[];for(var w=0;
w<bZ.length;w++)if(W.g.indexOf(bZ[w])!=-1)e3.push(bZ[w]);if(e3.length>=2)bZ=e3;if(bZ.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var bX=[];for(var w=0;w<bZ.length;w++)bX.push(W.B[bZ[w]].getName());var ac=[];for(var cB=0;cB<bZ.length;
cB++){var a=W.root.y9(bZ[cB]),cT=[[],[],0,cB];ac.push(cT);for(var w=0;w<a.children.length;w++){var y=a.children[w].index,Y=a.children[w].a,db=Y.getName(),eo=20,fG=db.split(",");
if(fG.length>1){var hB=parseInt(fG.pop());if(!isNaN(hB)&&hB!=0)eo=hB}if(eo<17)eo=17;cT[0].push(Y);cT[1].push(eo);
cT[2]+=eo}}ac.sort(function(X,c0){return c0[2]-X[2]});if(ac[0][2]>2e3){var g2=0,fD=0;for(var w=0;w<ac.length;
w++){var kG=ac[w][1].length/ac[w][2];if(kG>fD){fD=kG;g2=w}}var gH=(ac[0][2]/1e3).toFixed(1),kn=window.confirm("- \""+bX[ac[0][3]]+"\" is "+gH+" seconds long\n"+"- \""+bX[ac[g2][3]]+"\" is playing at "+Math.round(fD*1e3)+" frames per second\n"+"A merged animation must be "+gH+" sec, up to "+Math.round(ac[0][2]*fD)+" frames. Proceed?");
if(!kn)return}var ib=ac[0],iZ=ib[2];for(var hc=1;hc<ac.length;hc++){var cT=ac[hc],ah=1,aE=cT[1].slice(0),aA=0;
while((ah+1)*cT[2]<=ib[2]){ah++;aE=aE.concat(cT[1])}cT[1]=aE;cT[2]*=ah;var d4=ib[2]/cT[2];for(var w=0;
w<cT[1].length;w++){var e7=Math.floor(cT[1][w]*d4);cT[1][w]=e7;aA+=e7}while(aA<iZ){aA++;cT[1][cT[1].length-1]++}cT[2]=aA}var hh=[],jS=[],e7=[];
for(var w=0;w<ac.length;w++){hh.push(0);jS.push(0)}while(hj<iZ){var gE=1e9,hn=-1;for(var w=0;w<ac.length;
w++){var ex=ac[w][1],cm=hh[w];if(cm!=ex.length&&jS[w]+ex[cm]<hj+gE){hn=w;gE=jS[w]+ex[cm]-hj}}jS[hn]+=ac[hn][1][hh[hn]];
hh[hn]++;if(gE!=0){e7.push(gE);hj+=gE}}for(var w=1;w<e7.length;w++){var hq=e7[w];if(hq<16&&(e7[w-1]<16||w<e7.length-1&&16<=e7[w+1])){e7[w-1]+=hq;
e7.splice(w,1);w--}}var iD=[],d6=new eu(0,0,W.m,W.e);for(var w=0;w<W.B.length;w++){iD[w]=W.B[w].MG();
W.B[w].FH(!1)}var iq=W.g.slice(0);W.g=bZ;var iA=W.zm();iA.sort(function(X,c0){return X-c0});var iQ=[];
for(var w=0;w<W.B.length;w++){if(iA.indexOf(w)==-1)iQ.push(W.B[w])}ac.sort(function(X,c0){return X[3]-c0[3]});
function kA(ex,f$){var w=0,eB=0;while(eB+ex[w]<=f$){eB+=ex[w];w++}return w}hj=0;iQ.splice(iA[0],0,W.Nz());
for(var jn=0;jn<e7.length;jn++){var u=[];for(var w=0;w<ac.length;w++){var cm=kA(ac[w][1],hj)%ac[w][0].length,Y=ac[w][0][cm];
u.push(Y)}var Y=W.dI();for(var w=0;w<ac.length;w++){var gZ=u[w],ey=W.B[bZ[w]];gZ.FH(!0);ey.FH(!0)}W.W();
W.KS();var it=W.Hi();Y.rect=r.M5(it,d6,2);Y.buffer=r.R(Y.rect.P()*4);r.sh(it,d6,Y.buffer,Y.rect);for(var w=0;
w<ac.length;w++){var gZ=u[w],ey=W.B[bZ[w]];gZ.FH(!1);ey.FH(!1)}Y.FH(jn==0);Y.sc("_a_frm"+jn+","+e7[jn]);
iQ.splice(iA[0]+1+jn,0,Y);hj+=e7[jn]}var Y=W.dI();Y.sc(bX.join(" + "));Y.q_="pass";Y.add.lsct=eD.Tn;
Y.xb=24;iQ.splice(iA[0]+1+e7.length,0,Y);for(var w=0;w<W.B.length;w++)W.B[w].FH(iD[w]);var X=new fd([6,12,0],this);
X.data={d:t.Br,Ua:W.B,bZ:iQ,$D:iq,bq:[iA[0]+1+e7.length]};W.fC(X);this.Th(X.data,W)}if($==t.df||$==t.tT){var iz=W.g.length==1&&!W.B[W.g[0]].vN(),kk=!0,iB=null,js;
if(iz&&W.g[0]==0)return;var ce=W.B.slice(0),kH=W.g.slice(0);if(iz)W.g=[l,l-1];if($==t.tT){W.g=[];for(var w=0;
w<W.B.length;w++)if(W.B[w].MG())W.g.push(w)}var hV=W.zm();hV.sort(function(X,c0){return X-c0});var ku=new eu,d6=new eu(0,0,W.m,W.e);
for(var w=0;w<hV.length;w++){var y=hV[w],Y=W.B[y];if(Y.vN()||Y.getName()=="</Layer group>")continue;
kk=kk&&Y.qA()&&Y.add.vmsk!=null;ku=ku.oA(W.root.y9(y).oU(W,!0))}if(x.KF!=null&&!kk){alert("Select shape layers only.");
return}if(kk){var gQ=null,fq=x.KF;for(var w=0;w<hV.length;w++){var h=W.B[hV[w]];if(h.rect.P()==0)continue;
if(iB==null){iB=h.clone();gQ=iB.add.vmsk}else{var h=W.B[hV[w]],eW=t.C$.uF(h.add.vmsk.$);if(fq!=null)for(var f0=0;
f0<eW.length;f0++)if(eW[f0].eb!=null&&eW[f0].eb!=-1)eW[f0].eb=[1,2,3,0][fq];gQ.$=gQ.$.concat(eW.slice(2));
iB.add.vogk=iB.add.vogk.concat(JSON.parse(JSON.stringify(h.add.vogk)))}}iB.add.vmsk.DQ=!0;iB.pZ(W)}else if(d6.Ic(ku)){iB=W.dI();
iB.sc(W.B[hV[hV.length-1]].getName());iB.rect=ku;iB.buffer=r.R(ku.P()*4);var bD=W.add.artd;delete W.add.artd;
var el=W.Hi(hV);if(bD)W.add.artd=bD;r.sh(el,d6,iB.buffer,ku);iB.iv();iB.W()}else{W.ae3(hV,!0);iB=W.B[W.g[0]];
W.B.splice(W.g[0],1);var ct=W.hz(iB.add.SoLd.Idnt.v);W.add.lnk2.splice(W.add.lnk2.indexOf(ct),1);delete iB.add.SoLd}var hF=V,fU=-1;
if(x.Xe&&x.Xe.Dplc&&x.Xe.Dplc.v)hF=!0;if(hF&&$==t.tT&&kH.length!=0&&W.B[kH[0]].aQ()&&W.B[kH[0]].rect.ak()){fU=kH[0]}if(fU!=-1||iz){var gv=W.B[fU!=-1?fU:l-1];
iB.sc(gv.getName());iB.add.lclr=gv.add.lclr}var iQ=[];for(var w=0;w<W.B.length;w++)if(hF||hV.indexOf(w)==-1)if(w!=fU)iQ.push(W.B[w]);
var gL=hV[hV.length-1],g0=gL==W.B.length-1?null:W.B[gL+1],jw=g0?iQ.indexOf(g0):iQ.length;iQ.splice(jw,0,iB);
js=[jw];var X=new fd([6,12,0],this);X.data={d:t.Br,Ua:ce,bZ:iQ,$D:kH,bq:js};W.fC(X);this.Th(X.data,W)}if($==t.aqR){var c5=W.dI();
c5.rect=new eu(0,0,W.m,W.e);c5.buffer=r.R(c5.rect.P()*4);r.De(c5.buffer,4294967295);r.l.X3("norm",W.Hi(),c5.rect,c5.buffer,c5.rect,c5.rect,1);
c5.sc("Background");c5.add.lspf=1<<2;var X=new fd([6,12,1],this);X.data={d:t.Br,Ua:W.B.slice(),bZ:[c5],$D:W.g.slice(0),bq:[0]};
W.fC(X);this.Th(X.data,W)}var dl=$==t.G$||$==t.P$;if($==t.Ut||$==t._u||$==t.W5||$==t.Xy||dl){var Y=dl?W.yd()[0]:W.dI(),b5=hz.get([0,3]),g_=x.au,di=!1,eK,es;
if($==t.W5)b5=hz.get([12,76,1]);if(dl){if(W.u){var co=W.B[W.g[0]],cf=co.vs(W,W.u);if(cf==null){alert("Copied area is empty");
return}Y.rect=cf.rect;Y.buffer=cf.LK;Y.tD(W);Y.FH(!0)}else g_=Y.getName();Y.add.lspf=0;Y.gO=!1;if((Y.xb&1)!=0)Y.xb--}if($==t.Xy){Y.rect=O.RC.aih(x.v2,W);
Y.buffer=x.v2.buffer.slice(0);if(x.Ee&&W.u){Y.F=new t.gm;Y.F.rect=W.u.rect;Y.F.color=0;Y.F.channel=W.u.channel.slice(0)}}if($==t.Ut){this.track({Y3:"make",Xe:{classID:"Mk",null:ga.oY("Lyr")}})}if($==t._u){Y.xb|=16;
var gl=x.Xe.Usng.v,fM=gl.Type.v,h0=a3.I5[fM.classID];b5=hz.get(a3.names[h0]);if(gl.Nm)g_=gl.Nm.v;Y.add[h0]=ew.Iz(h0);
if(Y.add[h0]==null)Y.add[h0]={};for(var gF in fM)Y.add[h0][gF]=JSON.parse(JSON.stringify(fM[gF]));Y.F=O.RC.ahZ(W);
Y.sj=1}if($==t.W5){Y.xb|=16;var iU=x.Xe,gl=iU.Usng.v,ej=gl.Type.v,f6=gl.Shp;if(gl.Nm)g_=gl.Nm.v;if(f6==null){var f2=W.x8(),a8=f2[0],dw=f2[1];
if(dw.length!=0&&a8[dw[0]].Fp<0){var fR=a8[dw[0]].add;Y.add.vmsk=fR.vmsk.clone();Y.add.vstk=eC.pr.Iz(!0);
Y.add.vogk=JSON.parse(JSON.stringify(fR.vogk));W._H=[]}else Y.F=O.RC.ahZ(W)}else{Y.add.vmsk=new t.C$;
Y.add.vstk=JSON.parse(JSON.stringify(gl.strokeStyle?gl.strokeStyle.v:eC.pr.Iz(!0)));Y.add.vogk=[];if(f6){var bl=r.mq.ht(f6);
if(bl){Y.add.vogk=[bl];Y.add.vmsk.$.push({type:0,eb:1,length:0});r.mq.Er(Y.add.vogk,Y.add.vmsk)}else{f6=f6.v;
var g4=f6.classID;if(g4=="Plgn"){var fA=f6.Cntr.v,d_=f6.corner.v;fA=new eX(fA.Hrzn.v.val,fA.Vrtc.v.val);
d_=new eX(d_.Hrzn.v.val,d_.Vrtc.v.val);Y.add.vmsk.$=r.j.sk.UU(fA.x,fA.y,Math.sqrt(d_.x*d_.x+d_.y*d_.y),Math.atan2(d_.y,d_.x),f6.sides.v,0)}else if(g4=="customShape"){var gX=r.mq.l9(f6),is=gX[2]-gX[0],cv=gX[3]-gX[1],g9=L.hx,ai,e1;
for(var w=0;w<g9.length;w++)if(g9[w].DX==f6.Nm.v)ai=g9[w];if(ai){e1=t.C$.uF(ai.$);r.j.js(e1,new iJ(is,0,0,cv,gX[0],gX[1]))}else e1=r.j.sk.Rect(gX[0],gX[1],is,cv,0);
Y.add.vmsk.$=e1}Y.oO()}}}var jU={solidColorLayer:0,gradientLayer:1,patternLayer:2}[ej.classID],kl=["SoCo","GdFl","PtFl"][jU];
Y.add[kl]=JSON.parse(JSON.stringify(eC.Ir[jU]));if(jU==0)Y.add[kl].Clr.v=r.I.GB(r.j4(L.A_));O.RC.x$(ej,Y.add[kl],jU);
if(f6==null)b5=hz.get([6,48,0,jU]);if(kl=="PtFl"){var cn=Y.add[kl].Ptrn.v,fG=hM.Dk(cn,L.Oz);if(fG==null)fG=hM.Dk(cn,W.add.Patt);
cn.Idnt.v=fG.id;W.Dm(fG)}Y.pZ(W)}var fY=O.RC.g1(W,b5+" ");Y.sc(b5+" "+(fY+1));if(g_)Y.sc(g_);var hd=W.g.length==0?W.B.length-1:W.g[W.g.length-1],g6=W.B[hd];
if($==t.W5&&g6.aQ()&&g6.rect.ak()){di=!0;Y.sc(g6.getName());eK=hd}else{eK=hd+($==t.Ut&&f&&!i?0:1);if(g6&&g6.add.lsct==eD.en)eK--}if(x.a1f)eK=Math.max(0,eK-1);
var iQ=W.B.slice(0);if($==t.P$){var dq=iQ[W.g[0]]=iQ[W.g[0]].clone(),ik=W.u.channel.slice(0);r.sx(ik);
r.L7(ik,W.u.rect,dq.buffer,dq.rect)}iQ.splice(eK,di?1:0,Y);var fH=[5,2];if($==t.Ut)fH=[6,13];if($==t._u)fH=[6,1];
if($==t.W5){fH=[6,48,1];var f6=x.Xe.Usng.v.Shp;if(f6){var al={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[f6.v.classID];
if(al)fH=al}}if(dl){fH=[6,49,$==t.G$?0:1]}if(dl||$==t.W5||$==t.Xy||$==t._u)if(W.u)es=[W.u,null];var X=new fd(fH,this);
X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:[eK],v3:es};W.fC(X);this.Th(X.data,W);if($==t.W5&&f6==null&&jU!=0||$==t._u){var m=new gT(S.E.M);
m.data={d:S.H.Tl,ip:bs.Kz.ZN};F.T(m)}}if($==t.Hg){var Y=W.dI(),b5=hz.get([0,4]),fY=O.RC.g1(W,b5+" ");
Y.sc(b5+" "+(fY+1));Y.q_="pass";Y.add.lsct=eD.en;Y.xb=24;if(x.au)Y.sc(x.au);if(x.ff!=null)Y.add.lclr=x.ff;
var km=W.Nz(),hd=l,eK=hd+(f?0:1),iQ=W.B.slice(0);iQ.splice(eK,0,km,Y);var X=new fd([6,20],this);X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:[eK+1]};
W.fC(X);this.Th(X.data,W)}if($==t.r_||$==t.gM){var bg=$==t.r_?x.source:W.g[0],bT,ia,hX=W.g.indexOf(bg)!=-1,cw=V|x.a97,b8,gE=null;
if(hX)b8=W.zm();else b8=W.Ai(bg);b8.sort(function(X,c0){return X-c0});if($==t.r_){bT=x.target;ia=x.ft>.5}else if(x.target!=null){bT=Math.min(x.target,W.B.length-1);
ia=x.target<W.B.length;W.XB=!0}else{var cU=x.k1;ia=cU>1;if(cU==0){bT=W.B.length-1}if(cU==1){bT=b8[b8.length-1]+1;
var h=W.Ai(bT);if(h.indexOf(bg)==-1)bT+=h.length-1}if(cU==2){bT=b8[0]-1;var h=W.Ai(bT);if(h.indexOf(bg)==-1)bT-=h.length-1}if(cU==3){bT=0;
if(W.B[0].add.lnsr=="bgnd")bT++}if(bT<0||bT>W.B.length-1)return;W.XB=!0}if(b8.indexOf(bT)!=-1&&!cw)return;
var dO=O.RC.Y6(W,b8,bT,ia,cw?W.yd(hX?null:bg):null,$==t.r_&&x.ft>.8),fh=dO.pop(),bt=dO.pop(),iQ=dO.pop(),b3=W.g;
W.g=[bg];var hu=W.gD();W.g=[bT];var cY=W.gD();if(cY==bT&&!ia)cY=-1;W.g=b3;if(bg==hu){}else if(hu!=cY){var gE=new eX(0,0);
if(hu!=-1){var gV=W.B[hu].U$();gE.x-=gV.x;gE.y-=gV.y}if(cY!=-1){var gV=W.B[cY].U$();gE.x+=gV.x;gE.y+=gV.y}}var X=new fd(cw?[6,0]:[6,35],this);
X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:bt,PL:gE};W.fC(X);this.Th(X.data,W);var iU={classID:"move",null:ga.oY("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:fh+(ia?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:cw}};
this.track({Y3:"move",Xe:iU})}if($==t.YV){if(x.RJ){if(k==null||!k.vN())return;var a=W.root.y9(l),g7=W.B.indexOf(a.a1H),iQ=W.B.slice(0);
iQ.splice(l,1);iQ.splice(g7,1);var bt=[];for(var w=g7;w<l-1;w++)bt.push(w);var X=new fd("Ungroup Layers",this);
X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:bt};W.fC(X);this.Th(X.data,W)}else{var Y=W.dI(),dT=hz.get([0,4])+" ";
Y.sc(dT+(O.RC.g1(W,dT)+1));Y.q_="pass";if(x.au)Y.sc(x.au);if(x.ff!=null)Y.add.lclr=x.ff;Y.add.lsct=W.g.length==1?eD.en:eD.Tn;
Y.xb=24;var km=W.Nz(),b8=W.zm();if(b8.length==0)return;b8.sort(function(X,c0){return X-c0});var iQ=[];
for(var w=0;w<W.B.length;w++)if(b8.indexOf(w)==-1)iQ.push(W.B[w]);var hd=W.g[W.g.length-1]-b8.length;
iQ.splice(hd+1,0,km);for(var w=0;w<b8.length;w++)iQ.splice(hd+2+w,0,W.B[b8[w]]);iQ.splice(hd+2+b8.length,0,Y);
var X=new fd([6,9],this);X.data={d:t.Br,Ua:W.B.slice(0),bZ:iQ,$D:W.g.slice(0),bq:[iQ.indexOf(Y)]};W.fC(X);
this.Th(X.data,W);var o={Y3:"make",Sd:!0};o.Xe={classID:"Mk",null:ga.oY("layerSection"),From:ga.oY("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:Y.getName()}}}};
this.track(o)}}if($==t.acX){if(W.g.length!=1)return;var q=W.g[0],ci=V;if(W.B[q].GH()==null&&!n.S(gp.Fr)){$=t.Tc;
x.tj=W.u?!ci?"RvlS":"HdSl":!ci?"RvlA":"HdAl"}else{$=t.aH;x.atN=!0}}if($==t.Tc){if(W.g.length!=1)return;
var q=W.g[0],Y=W.B[q];if(Y.add.vmsk&&Y.F==null)Y.pZ(W);var cp=Y.GH();if(cp==null||x.arP){var X=new fd(x.au?x.au:[6,21],this),f_=new t.gm,fx=x.tj,hL=fx=="RvlS"||fx=="HdSl";
if(fx=="RvlS"||fx=="HdAl"||fx=="Trns")f_.color=0;if(hL){f_.channel=W.u.channel.slice(0);f_.rect=W.u.rect.clone();
if(fx=="HdSl")r.sx(f_.channel)}if(fx=="Trns"){f_.rect=Y.rect.clone();f_.channel=r.R(Y.rect.P());r.Tb(Y.buffer,f_.channel,3)}X.data={d:t.QI,Um:[q,cp,f_],v3:hL?[W.u,null]:null,ach:fx=="Trns"};
W.fC(X);this.Th(X.data,W);W.B[q].sj=1;this.track({Y3:"make",Xe:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:fx}}}})}}else if($==t.a54){var fC=W.B[x.src],kE=W.B[x.D0],X=new fd([6,21],this),cc=fC.GH(),ev=kE.GH(),a7=[x.src,cc,null,x.D0,ev,cc];
if(V||i){var db=cc.clone();if(V)a7=[x.D0,ev,db];else a7[5]=db;if(i){r.sx(db.channel);db.color=255-db.color}}X.data={d:t.QI,Um:a7};
W.fC(X);this.Th(X.data,W)}if($==t.LO){if(W.g.length!=1)return;var q=l,dj=W.B[q].GH();if(dj!=null){var X=new fd([6,22],this);
X.data={d:t.QI,Um:[l,dj,null]};W.fC(X);this.Th(X.data,W)}}if($==t.dN){var ce=W.B.slice(0),c5=k.clone(),cx=c5.GH();
r.L7(cx.PM(c5.rect),c5.rect,c5.buffer,c5.rect);O.RC.i5(W,c5);c5.iv();W.B[W.g[0]]=c5;var X=new fd([5,8],this);
X.data={d:t.Br,Ua:ce,bZ:W.B.slice(),$D:W.g.slice(0),bq:W.g.slice(0)};W.fC(X);this.Th(X.data,W)}if($==t.db){if(W.g.length!=1)return;
var q=W.g[0];if(W.B[q].DU(W).F==null){var X=new fd([6,45],this);X.data={d:$,a:q,F:new t.gm};W.fC(X);
this.Th(X.data,W)}}if($==t.nv){if(W.g.length!=1)return;var q=W.g[0];if(W.B[q].DU(W).F!=null){var X=new fd([6,46],this);
X.data={d:$,a:q,F:W.B[q].DU(W).F};W.fC(X);this.Th(X.data,W)}}if($==t.Os){if(x.src==null&&W.g.length!=1)return;
if(x.src!=null)l=x.src;if(W.B[l].mK()){var X=new fd([6,47],this),cr=JSON.stringify(W.B[l].add.SoLd),e_=JSON.parse(cr);
delete e_.filterFX;X.data={d:t.vO,e_:[{b4:l,fW:[cr,JSON.stringify(e_)],_R:[W.B[l].DU(W),null]}]};W.fC(X);
this.Th(X.data,W)}}if($==t.aH){if(W.g.length!=1)return;if(k.add.vmsk==null){var X=new fd([6,23],this),gY=W.x8(),hf=gY[1],gY=gY[0],f_,bl;
if(x.atN&&hf.length!=0){var fR=gY[hf[0]].add;f_=fR.vmsk.clone();bl=fR.vogk}else{f_=new t.C$;bl=[];f_.$[1].all=x.ay5?0:1}X.data={d:$,a:l,jo:!0,F:f_,mq:JSON.stringify(bl),pr:null};
if(k.qA()){X.data.pr=Stroke.pr.Iz(!0)}W.fC(X);this.Th(X.data,W)}}if($==t.xk){var fC=W.B[x.src],kE=W.B[x.D0];
if(kE.add.vmsk)return;var X=new fd([6,23],this),gQ=fC.add.vmsk;X.data={a:x.D0,jo:fC.HZ,F:gQ.clone(),mq:JSON.stringify(fC.add.vogk),pr:fC.add.vstk?JSON.stringify(fC.add.vstk):null};
if(V){X.data.d=t.aH}else{X.data.d=$;X.data.src=x.src;X.data.D0=x.D0}W.fC(X);this.Th(X.data,W)}if($==t.s0||$==t.mR){if(W.g.length!=1)return;
var Y=W.B[l],gQ=Y.add.vmsk;if(gQ!=null){var jk=$==t.mR,X=new fd(jk?[6,8]:[6,24],this);X.data={d:t.s0,a:l,jo:Y.HZ,F:gQ,mq:JSON.stringify(Y.add.vogk),pr:Y.add.vstk?JSON.stringify(Y.add.vstk):null};
if(jk){X.data.y7=gQ.GH(Y.add.vstk)}W.fC(X);this.Th(X.data,W)}}if($==t.Jl){var X=new fd("Metadata",this);
X.data={d:$,UI:JSON.stringify(W.dU),uy:JSON.stringify(x.uy)};W.fC(X);this.Th(X.data,W)}if($==t.rz){var dA=x.D0?x.D0:W,fW=dA.name,g_=x.b+".psd";
if(fW==g_)return;var X=new fd([6,37],this);X.data={d:$,amH:fW,au:g_};if(x.acF!=!0)dA.fC(X);this.Th(X.data,dA)}if($==t.KE&&x.k1.endsWith("makeframes")){var em=[],bO=x.k1.startsWith("make");
for(var w=0;w<W.g.length;w++){var y=W.g[w],Y=W.B[y],gN=Y.getName(),jd=gN.startsWith("_a_");if(bO==jd||Y.add.lsct==eD.iS)continue;
var eE=bO?"_a_"+gN:gN.slice(3);em.push([y,gN,eE,Y.add.lnsr,null])}var X=new fd([6,37],this);X.data={d:t.hF,jL:em};
W.fC(X);this.Th(X.data,W)}if($==t.hF){var fW=k.getName(),g_=x.name.substring(0,255);if(fW==g_)return;
var X=new fd([6,37],this);X.data={d:$,jL:[[l,fW,g_,k.add.lnsr,null]]};W.fC(X);this.Th(X.data,W);this.track(ga.Lr("Nm",{t:"TEXT",v:g_}))}if($==t.uQ){var e$=W.zm(),jo=[],aM=[];
for(var w=0;w<e$.length;w++){jo.push(W.B[e$[w]].add.lclr);aM.push(x.a9o)}var X=new fd([6,38],this);X.data={d:$,B:e$,a6D:jo,ff:aM};
W.fC(X);this.Th(X.data,W)}if($==t.ge){var X=W.history[W.Mw];if(X!=null&&X.f==this&&X.data.d==$&&X.data.a==x.Jr&&X.data.k9.L3==x.wc.L3)X.data.k9=x.wc;
else{X=new fd("Mask Density / Feather",this);X.data={d:$,a:x.Jr,aG:W.B[x.Jr].Lq(x.wc.L3),k9:x.wc};W.fC(X)}this.Th(X.data,W)}if($==t.lr){var ab=JSON.stringify(x.b),iW=JSON.parse(ab),X=W.history[W.Mw];
if(X!=null&&X.f==this&&X.data.d==$&&X.data.v5==x.v5&&X.data.te.join(",")==x.te.join(",")){for(var w=0;
w<x.te.length;w++)X.data.J$[w]=iW;if(X.data.Xe&&iW.d_!=0)O.RC.x$(iW.oa,X.data.Xe.T.v,iW.d_-1)}else{X=new fd([11,6],this);
X.data={d:$,te:x.te,v5:x.v5,an6:[],J$:[]};var er=!1;for(var w=0;w<x.te.length;w++){var y=x.te[w],Y=W.B[y],aR=x.v5?eC.Bz(Y.add):JSON.parse(JSON.stringify(Y.add.vstk));
X.data.an6.push(aR);X.data.J$.push(iW);if(JSON.stringify(aR)!=ab)er=!0}if(!er)return;W.fC(X);if(x.v5&&iW.d_>0){var iU=X.data.Xe={classID:"setd",null:ga.oY("contentLayer",!0),T:{t:"Objc",v:{}}};
O.RC.x$(iW.oa,iU.T.v,iW.d_-1);this.track({Y3:"set",Xe:iU})}}if(x.v5&&iW.d_==3)W.Dm(hM.Dk(iW.oa.Ptrn.v,L.Oz));
if(!x.v5){var gR=iW.strokeStyleContent.v;if(gR.classID==eC.pr.K8[2])W.Dm(hM.Dk(gR.Ptrn.v,L.Oz))}this.Th(X.data,W)}};
O.RC.Y6=function(x,F,W,n,L,$){var l=x.B[W],k=[];if(L)k=x.B.slice(0);else for(var w=0;w<x.B.length;w++)if(F.indexOf(w)==-1)k.push(x.B[w]);
var V=k.indexOf(l);if($&&l.vN()&&l.add.lsct==eD.Tn)V-=x.Ai(W).length-1;var i=[];for(var w=0;w<F.length;
w++){var f=V+(n?0:1)+w,X=L?L[w]:x.B[F[w]];k.splice(f,0,X);i.push(f)}return[k,i,V]};O.RC.x$=function(x,F,W){var n=[eC.eK,eC.Qu,eC.YZ][W];
if(F.classID==null)F.classID=["solidColorLayer","gradientLayer","patternLayer"][W];for(var w=0;w<n.length;
w++)if(x[n[w]])F[n[w]]=JSON.parse(JSON.stringify(x[n[w]]))};O.RC.ahZ=function(x){var F=new t.gm;if(x.u!=null){F.color=0;
F.channel=x.u.channel.slice(0);F.rect=x.u.rect.clone()}return F};O.RC.AP=function(x,F,W,n,L){var $=n.m/W.m,l=n.e/W.e,k=n.m/2,V=n.e/2,i=r.Z.o4(n).p;
for(var w=0;w<x.B.length;w++){var f=x.B[w],X=f.add.SoLd;if(X==null||X.Idnt.v!=F)continue;if($!=1||l!=1){var s=O.Y.kT(X.nonAffineTransform),R=r.D.An(s,n),h=new iJ;
h.translate(-k,-V);h.scale($,l);h.translate(k,V);var B=r.D.pY(R,r.D.Mz(h)),e=i.slice(0);r.D.i(B,e);X.Trnf=O.Y.ud(e);
X.nonAffineTransform=O.Y.ud(e);if(r.xP.oK(X.quiltWarp.v)){var U=X.quiltWarp.v.bounds.v;U.Rght.v.val=n.m;
U.Btom.v.val=n.e}}f.Bw(x,null,L,!0)}x.W()};O.RC.ak9=function(x,F,W){F.color=255-F.color;r.sx(F.channel);
F.DQ=!0;x.pZ(W);W.W()};O.RC.prototype.hm=function(x,F){var W=x.d,n=F.B[x.a];F.Md=!0;if(W==t.sF){F.add.lnk2.splice(F.add.lnk2.indexOf(x.hR),1,x.$N);
O.RC.AP(F,x.id,x.hR.mp[1],x.$N.mp[1])}if(W==t.co){n.add.SoLd.Impr.v.classID=x.aG;n.Bw(F)}if(W==t.rX){var L=JSON.parse(x.te);
for(var w=0;w<L.length;w++)F.B[L[w]].q_=x.Zw[w];F.W()}if(W==t.W2){var L=JSON.parse(x.te);for(var w=0;
w<L.length;w++)F.B[L[w]].opacity=x.Zw[w];F.W()}if(W==t.ku){var L=JSON.parse(x.te);for(var w=0;w<L.length;
w++)if(F.B[L[w]].add.lsct!=eD.iS)F.B[L[w]].add.lspf=x.Zw[w]}if(W==t.R3){var $=x.xS,l=x.a7F;delete n.add[$[0]];
if(l[0]!="----")n.add[l[0]]=l[1]}if(W==t.MD){n.add.iOpa=x.Zw;F.W()}if(W==t._k){for(var w=0;w<x.te.length;
w++){var k=F.B[x.te[w]];k.FH(!k.MG())}F.W()}if(W==t.Xt){var V=n.GH();V.isEnabled=!V.isEnabled;n.pZ(F);
F.W()}if(W==t.OG){var V=n.DU(F).F;V.isEnabled=!V.isEnabled;n.W();F.W()}if(W==t.ha){var V=n.add.vmsk;
V.isEnabled=!V.isEnabled;if(!V.isEnabled){if(n.y7){n.F=n.y7;n.y7=null}else n.F=null}else if(n.F){n.y7=n.F;
n.F=null}n.pZ(F);F.W()}if(W==t.rF){n.gO=!n.gO;F.W()}if(W==t.Zn){n.add.lmfx.masterFXSwitch.v=!n.add.lmfx.masterFXSwitch.v;
n.jT.ex=!0;F.W()}if(W==t.bN){n.add.SoLd.filterFX.v.enab.v=!n.add.SoLd.filterFX.v.enab.v;n.Gt(F);F.W()}if(W==t.Tm){var i=x.index,f=n.add.lmfx[eC.UM[i[0]]].v[i[1]].v;
f.enab.v=!f.enab.v;n.jT.ex=!0;F.W()}if(W==t.kR){var X=F.B[x.zp],s=F.B[x._z],R=x.aqu,h=x.aoq;if(R=="")delete X.add.lmfx;
else X.add.lmfx=JSON.parse(R);if(h=="")delete s.add.lmfx;else s.add.lmfx=JSON.parse(h);X.jT.ex=!0;s.jT.ex=!0;
F.W()}if(W==t.Lk){var B=n.add.SoLd.filterFX.v.filterFXList.v[x.index].v;B.enab.v=!B.enab.v;n.Gt(F);F.W()}if(W==t.acP){n.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(x.adu));
n.Gt(F);F.W()}if(W==t.ra){var V=n.GH();V.eS=!V.eS}if(W==t.Re){var V=n.add.vmsk;V.eS=!V.eS}if(W==t.L9){var e=JSON.parse(x.ac7);
F.C7=e[0];F.wD=e[1]}if(W==t.$b){var e=x.Xj;for(var w=0;w<e.length;w+=2){var U=e[w],k=U>=0?F.B[U]:F.V2[-1-U];
k.add.vogk=JSON.parse(e[w+1]);r.mq.Er(k.add.vogk,k.add.vmsk);if(U>=0)k.pZ(F)}F.W()}if(W==t.pV){n.add.artb=JSON.parse(x.aof);
F.W();O.f7.Ux(F,x)}if(W==t.Bl){F.u=x.WZ;if(x.ae9)F.U.O=x.ae9.slice(0);F.o2=x.Xj.slice(0);F.kO=x.ki.slice(0);
F.yW=F.bA=!0}if(W==t.oP){n.nS=!n.nS}if(W==t.xU){var o=x.akR;for(var w=0;w<o.length;w++)F.B[w].ju=o[w]}if(W==t.Br){if(x.PL)O.fI.on(F,F.g,null,-x.PL.x,-x.PL.y);
if(x.$D)F.g=x.$D;if(x.v3)F.u=x.v3[0];F.TQ=null;F.W();O.f7.Ux(F,x);F.me(x.Ua);if(x.Wh)F.Ox(x.Wh[0])}if(W==t.QI){for(var w=0;
w<x.Um.length;w+=3)O.RC.i5(F,F.B[x.Um[w]],x.Um[w+1]);if(x.v3){var b=x.v3[0];if(b==null)delete F.u;else F.u=b}if(x.ach){var k=F.B[x.Um[0]];
r.rW(x.Um[2].channel,k.buffer,3)}}if(W==t.db){n.DU(F).F=null;n.W();F.W()}if(W==t.nv){n.DU(F).F=x.F;n.W();
F.W()}if(W==t.vO){O.RC.a8i(F,x.e_,0)}if(W==t.aH){O.RC.B6(F,n,!0)}if(W==t.xk){O.RC.B6(F,F.B[x.D0],x.F.isEnabled);
O.RC.hr(F,F.B[x.src],x)}if(W==t.s0){if(x.y7)O.RC.i5(F,n,null);O.RC.hr(F,n,x)}if(W==t.Jl){F.dU=JSON.parse(x.UI)}if(W==t.rz){F.name=x.amH}if(W==t.hF){for(var w=0;
w<x.jL.length;w++){var u=x.jL[w],k=F.B[u[0]];k.sc(u[1]);if(u[3])k.add.lnsr=u[3];else delete k.add.lnsr}}if(W==t.uQ){for(var w=0;
w<x.B.length;w++)F.B[x.B[w]].add.lclr=x.a6D[w]}if(W==t.lr){var Z=x.an6;for(var w=0;w<x.te.length;w++){var k=F.B[x.te[w]],I=Z[w];
if(!x.v5)k.add.vstk=JSON.parse(JSON.stringify(I));else eC.zW(k.add,JSON.parse(JSON.stringify(I)));k.SI(F)}F.W()}if(W==t.ge){n.acA(x.aG);
n.pZ(F);F.W()}F.bA=!0};O.RC.prototype.Th=function(x,F){var W=x.d,n=F.B[x.a];F.Md=!0;if(W==t.sF){F.add.lnk2.splice(F.add.lnk2.indexOf(x.$N),1,x.hR);
O.RC.AP(F,x.id,x.$N.mp[1],x.hR.mp[1])}if(W==t.co){n.add.SoLd.Impr.v.classID=x.k9;n.Bw(F)}if(W==t.rX){var L=JSON.parse(x.te);
for(var w=0;w<L.length;w++)F.B[L[w]].q_=x.k9;F.W()}if(W==t.W2){var L=JSON.parse(x.te);for(var w=0;w<L.length;
w++)F.B[L[w]].opacity=x.k9;F.W()}if(W==t.ku){var L=JSON.parse(x.te);for(var w=0;w<L.length;w++)if(F.B[L[w]].add.lsct!=eD.iS)F.B[L[w]].add.lspf=x.k9[w]}if(W==t.R3){var $=x.a7F,l=x.xS;
delete n.add[$[0]];if(l[0]!="----")n.add[l[0]]=l[1]}if(W==t.MD){n.add.iOpa=x.k9;F.W()}if(W==t._k){for(var w=0;
w<x.te.length;w++){var k=F.B[x.te[w]];k.FH(!k.MG())}F.W()}if(W==t.Xt){var V=n.GH();V.isEnabled=!V.isEnabled;
n.pZ(F);F.W()}if(W==t.OG){var V=n.DU(F).F;V.isEnabled=!V.isEnabled;n.W();F.W()}if(W==t.ha){var V=n.add.vmsk;
V.isEnabled=!V.isEnabled;if(!V.isEnabled){if(n.y7){n.F=n.y7;n.y7=null}else n.F=null}else if(n.F){n.y7=n.F;
n.F=null}n.pZ(F);F.W()}if(W==t.rF){n.gO=!n.gO;F.W()}if(W==t.Zn){n.add.lmfx.masterFXSwitch.v=!n.add.lmfx.masterFXSwitch.v;
n.jT.ex=!0;F.W()}if(W==t.bN){n.add.SoLd.filterFX.v.enab.v=!n.add.SoLd.filterFX.v.enab.v;n.Gt(F);F.W()}if(W==t.Tm){var i=x.index,f=n.add.lmfx[eC.UM[i[0]]].v[i[1]].v;
f.enab.v=!f.enab.v;n.jT.ex=!0;F.W()}if(W==t.kR){var X=F.B[x.zp],s=F.B[x._z],R=x.aCW,h=x.anq;if(R=="")delete X.add.lmfx;
else X.add.lmfx=JSON.parse(R);if(h=="")delete s.add.lmfx;else s.add.lmfx=JSON.parse(h);X.jT.ex=!0;s.jT.ex=!0;
F.W()}if(W==t.Lk){var B=n.add.SoLd.filterFX.v.filterFXList.v[x.index].v;B.enab.v=!B.enab.v;n.Gt(F);F.W()}if(W==t.acP){n.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(x.a8Q));
n.Gt(F);F.W()}if(W==t.ra){var V=n.GH();V.eS=!V.eS}if(W==t.Re){var V=n.add.vmsk;V.eS=!V.eS}if(W==t.L9){var e=JSON.parse(x.ahC);
F.C7=e[0];F.wD=e[1]}if(W==t.$b){var e=x.Z_;for(var w=0;w<e.length;w+=2){var U=e[w],k=U>=0?F.B[U]:F.V2[-1-U];
k.add.vogk=JSON.parse(e[w+1]);r.mq.Er(k.add.vogk,k.add.vmsk);if(U>=0)k.pZ(F)}F.W()}if(W==t.pV){n.add.artb=JSON.parse(x.Ed);
F.W();O.f7.Iv(F,x)}if(W==t.Bl){F.u=x.U_;if(x.aca)F.U.O=x.aca.slice(0);F.o2=x.Z_.slice(0);F.kO=x.vG.slice(0);
F.yW=F.bA=!0}if(W==t.oP){n.nS=!n.nS}if(W==t.xU){var o=x.ay1;for(var w=0;w<o.length;w++)F.B[w].ju=o[w]}if(W==t.Br){F.alp();
var b=x.bZ,u=0,Z;for(var w=0;w<b.length;w++){var k=b[w],I=k.add.lsct;if(I==eD.iS)u++;else if(I==eD.en||I==eD.Tn)u--;
if(k.add.artb&&u!=0)Z="Artboards can not be inside folders."}if(Z){F.history.pop();F.Mw--;alert(Z);return}if(x.bq)F.g=x.bq;
if(x.v3)F.u=x.v3[1];F.TQ=null;F.W();F.me(x.bZ);O.f7.Iv(F,x);if(x.PL)O.fI.on(F,F.g,null,x.PL.x,x.PL.y);
if(x.Wh)F.Ox(x.Wh[1])}if(W==t.QI){for(var w=0;w<x.Um.length;w+=3)O.RC.i5(F,F.B[x.Um[w]],x.Um[w+2]);if(x.v3){var y=x.v3[1];
if(y==null)delete F.u;else F.u=y}if(x.ach){var k=F.B[x.Um[0]],D=k.buffer;for(var w=0;w<D.length;w+=4)D[w+3]=255}}if(W==t.db){n.DU(F).F=x.F;
n.sj=0;n.W();F.W()}if(W==t.nv){n.DU(F).F=null;n.sj=0;n.W();F.W()}if(W==t.vO){O.RC.a8i(F,x.e_,1)}if(W==t.aH){O.RC.hr(F,n,x)}if(W==t.xk){O.RC.B6(F,F.B[x.src],x.F.isEnabled);
O.RC.hr(F,F.B[x.D0],x)}if(W==t.s0){O.RC.B6(F,n,x.F.isEnabled);if(x.y7)O.RC.i5(F,n,x.y7)}if(W==t.Jl){F.dU=JSON.parse(x.uy)}if(W==t.rz){F.name=x.au}if(W==t.hF){for(var w=0;
w<x.jL.length;w++){var N=x.jL[w],k=F.B[N[0]];k.sc(N[2]);if(N[4])k.add.lnsr=N[4];else delete k.add.lnsr}}if(W==t.uQ){for(var w=0;
w<x.B.length;w++)F.B[x.B[w]].add.lclr=x.ff[w]}if(W==t.lr){var j=x.J$;for(var w=0;w<x.te.length;w++){var k=F.B[x.te[w]],H=j[w];
if(!x.v5)k.add.vstk=JSON.parse(JSON.stringify(H));else eC.zW(k.add,JSON.parse(JSON.stringify(H)));k.SI(F)}F.W()}if(W==t.ge){n.acA(x.k9);
n.pZ(F);F.W()}F.bA=!0};O.RC.g1=function(x,F){var W=0;for(var w=0;w<x.B.length;w++){var n=x.B[w].getName();
if(n.startsWith(F)){var L=n.slice(F.length).trim(),$=parseInt(L);if(!isNaN($)&&$+""==L&&$>W)W=$}}return W};
O.RC.a8i=function(x,F,W){for(var w=0;w<F.length;w++){var n=F[w],L=x.B[n.b4];if(n.fW){L.add.SoLd=JSON.parse(n.fW[W])}if(n._R){if(n._R[1-W]!=null)x.QW(n._R[1-W]);
if(n._R[W]!=null)x.Ky(n._R[W]);else L.sj=0}L.Bw(x)}};O.RC.aih=function(x,F){var W=x.yV,n=x.rect.clone();
if(W!=null&&(W.x!=F.m||W.y!=F.e)){n.x=Math.floor((F.m-n.m)/2);n.y=Math.floor((F.e-n.e)/2)}else if(W==null){var L=new eu(0,0,F.m,F.e),$=F.gD();
if($!=-1)L=F.B[$].U$();n.x+=L.x;n.y+=L.y}return n};O.RC.a3W=function(x,F){if(F.y7)F.y7=null;else F.F=null;
F.pZ(x);x.W();F.sj=0};O.RC.i5=function(x,F,W){var n=F.GH();if(n==null&&W==null)return;if(n)O.RC.a3W(x,F);
if(W==null)return;if(F.F)F.y7=W;else F.F=W;F.pZ(x);x.W()};O.RC.B6=function(x,F,W){if(F.y7&&W){F.F=F.y7;
F.y7=null}else if(F.F&&W){F.F=null}delete F.add.vogk;delete F.add.vstk;delete F.add.vmsk;F.pZ(x);F.HZ=!1;
x.TQ=[];x.W()};O.RC.hr=function(x,F,W){F.add.vogk=JSON.parse(W.mq);if(W.pr)F.add.vstk=JSON.parse(W.pr);
else delete F.add.vstk;F.add.vmsk=W.F.clone();if(F.F&&F.add.vmsk.isEnabled)F.y7=F.F;F.pZ(x);F.HZ=W.jo;
x.TQ=[x.B.indexOf(F)];x._H=[];x.W()};O.Ci=function(){O.p9.call(this,"Layer Styles",O.pj);this.G3=null;
this.WW=null;this.ww=null;this.bc=[];this.dF=null};O.Ci.prototype=new O.p9;O.Ci.prototype.LB=function(x,F,W,n,L){var $=x.a;
if($==null)$=W.g[0];var l=W.B[$],k=x.Fp;if(this.G3==null){this.ww=O.Ci.gU(W,l);this.G3=JSON.stringify(this.ww);
if(l.add.lmfx)this.WW=JSON.stringify(l.add.lmfx)}if(l.add.lmfx==null){l.add.lmfx=JSON.parse(eC.default);
for(var w=0;w<eC.order.length;w++)l.add.lmfx[eC.UM[w]]={t:"VlLs",v:[]}}if(x.d=="scaleeffects"){if(x.b=="confirm"||x.b=="cancel"){this.LB({d:x.b},F,W,n,L);
return}l.add.lmfx=JSON.parse(this.WW);hM.Fe(l.add.lmfx,x.b/100)}else if(x.d=="changeprop"){var V=null;
if(k!=0){var i=this.bc[k[0]];if(i==null)i=eC.bc[k[0]];i=JSON.parse(i);var f=l.add.lmfx[eC.UM[k[0]]].v;
if(f[k[1]]==null)f[k[1]]={t:"Objc",v:i};V=f[k[1]].v;for(var X in i)if(V[X]==null)V[X]=i[X]}if(x.d=="changeprop"){if(k==0){this.ww[x.oi].v=x.b;
O.Ci.HP(W,l,this.ww)}else if(x.oi=="lagl"){if(V.uglg&&V.uglg.v){W.Xk(x.b.val);this.ww.gagl.v.val=W.z8()}else V[x.oi].v=x.b}else if(x.oi=="Lald"){if(V.uglg.v){W.wP(x.b.val);
this.ww.aff=W.l5()}else V[x.oi].v=x.b}else if((k[0]==3||k[0]==8)&&(x.oi=="Clr"||x.oi=="Grad")){if(x.oi=="Clr"){V.Clr={t:"Objc",v:x.b};
delete V.Grad}if(x.oi=="Grad"){V.Grad={t:"Objc",v:x.b};delete V.Clr}}else{V[x.oi].v=x.b}if(k!=0)this.bc[k[0]]=JSON.stringify(V)}if(k!=0)if(V.Ptrn)W.Dm(hM.Dk(V.Ptrn.v,L.Oz))}else if(x.d=="setstl"){var s=x.b.Lefx;
if(s)hM.a06(s,W,L.Oz);hM.aAG(x.b,l,null,W);this.ww=O.Ci.gU(W,l)}else if(x.d=="st_dupsingle"){var R=l.add.lmfx[eC.UM[x.fe[0]]].v;
if(R[x.fe[1]]==null)return;var h=JSON.parse(JSON.stringify(R[x.fe[1]]));R.splice(x.fe[1],0,h)}else if(x.d=="st_movsingle"){var B=x.fe[1],R=l.add.lmfx[eC.UM[x.fe[0]]].v;
if(R[x.fe[1]]==null)return;var e=Math.max(0,Math.min(R.length-1,B+x.anL)),U=R[e];R[e]=R[B];R[B]=U}else if(x.d=="cancel"){if(this.WW==null)delete l.add.lmfx;
else l.add.lmfx=JSON.parse(this.WW);O.Ci.HP(W,l,JSON.parse(this.G3));this.G3=null;this.WW=null}else if(x.d=="confirm"){var o=JSON.stringify(l.add.lmfx),b=new fd([11,6],this);
b.data={B:[$],WC:[this.WW],ps:[o],GL:[this.G3],n5:[JSON.stringify(this.ww)]};W.fC(b);this.G3=null;this.WW=null;
if(o!=null){var u=JSON.parse(o);dv.H7(u);u.classID="Lefx";delete u.masterFXSwitch;var Z=new gT(S.E.BD);
Z.Kh=!0;Z.data={Y3:"set",Sd:!0};var I=ga.oY("Lyr",!0);I.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
Z.data.Xe={__name:"Set",classID:"setd",null:I,T:{t:"Objc",v:u}};F.T(Z)}}else if(x.d=="st_copy"){this.dF=[this.G3,this.WW];
this.G3=null;this.WW=null}else if(x.d=="st_paste"||x.d=="st_clear"){if(x.d=="st_paste"&&this.dF==null)return;
var y=x.a!=null?[x.a]:W.g.slice(0),D=[],N=[],j=[],H=[];for(var w=0;w<y.length;w++){var l=W.B[y[w]],Q=O.Ci.gU(W,l);
D.push(l.add.lmfx?JSON.stringify(l.add.lmfx):null);j.push(JSON.stringify(Q));if(x.d=="st_paste"){N.push(this.dF[1]);
H.push(this.dF[0])}else{N.push(null);Q.lrMd.v=0;Q.Opct.v.val=100;Q.iOpa.v.val=100;Q.blIf={v:[]};for(var C=0;
C<10;C++)Q.blIf.v.push(0,0,255,255);H.push(JSON.stringify(Q))}}var b=new fd([11,6],this);b.data={B:y,WC:D,ps:N,GL:j,n5:H};
this.Th(b.data,W);W.fC(b);this.G3=null;this.WW=null}else{var J=this.ww,u=null;if(x.d=="st_delsingle"){u=JSON.parse(this.WW);
u[eC.UM[x.fe[0]]].v.splice(x.fe[1],1);u=JSON.stringify(u)}if(u==null)delete l.add.lmfx;else l.add.lmfx=JSON.parse(u);
if(J!=null)O.Ci.HP(W,l,J);var b=new fd([11,6],this);b.data={B:[x.a],WC:[this.WW],ps:[u],GL:[this.G3],n5:[JSON.stringify(J)]};
W.fC(b);this.G3=null;this.WW=null}l.jT.ex=!0;W.Md=!0;W.W()};O.Ci.gU=function(x,F){if(F.add.iOpa==null)F.add.iOpa=255;
if(F.add.brst==null)F.add.brst=[1,1,1];var W=F.vN()?["pass"].concat(a2.BL):a2.BL;return{lrMd:{v:W.indexOf(F.q_)},Opct:{v:{type:"#Prc",val:Math.round(F.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(F.add.iOpa*100/255)},t:"UntF"},blIf:{v:F.mv.slice(0)},brst:{v:F.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:x.z8()}},aff:x.l5(),vN:F.vN()}};
O.Ci.HP=function(x,F,W){var n=F.vN()?["pass"].concat(a2.BL):a2.BL;F.q_=n[W.lrMd.v];F.opacity=Math.round(W.Opct.v.val*255/100);
F.add.iOpa=Math.round(W.iOpa.v.val*255/100);F.mv=W.blIf.v.slice(0);F.add.brst=W.brst.v.slice(0);x.Xk(W.gagl.v.val);
x.wP(W.aff)};O.Ci.prototype.hm=function(x,F){for(var w=0;w<x.B.length;w++){var W=F.B[x.B[w]],n=x.WC[w];
if(n==null)delete W.add.lmfx;else W.add.lmfx=JSON.parse(n);O.Ci.HP(F,W,JSON.parse(x.GL[w]));W.jT.ex=!0}F.Md=!0;
F.W()};O.Ci.prototype.Th=function(x,F){for(var w=0;w<x.B.length;w++){var W=F.B[x.B[w]],n=x.ps[w];if(n==null)delete W.add.lmfx;
else W.add.lmfx=JSON.parse(n);O.Ci.HP(F,W,JSON.parse(x.n5[w]));W.jT.ex=!0}F.Md=!0;F.W()};O.qb=function(){O.p9.call(this,"Layer Comps",O.aR)};
O.qb.prototype=new O.p9;O.qb.prototype.LB=function(x,F,W,n){var L=JSON.parse(JSON.stringify(W.U9)),$=JSON.parse(JSON.stringify(W.U9)),l=null,k=null,V=null,i=-1,f=!1;
if(x.d=="delLC"){var X=O.qb.dv(W.U9,x.Fp),s=W.U9.lastAppliedComp?W.U9.lastAppliedComp.v:0;$.list.v.splice(X,1);
if(s==x.Fp)delete $.lastAppliedComp;l="Delete Layer Comp"}if(x.d=="editLC"){var X=O.qb.dv(W.U9,x.Fp),R=$.list.v[X].v;
if(x.au!=null)R.Nm.v=x.au;if(x.aBL!=null){var h=x.aBL,B=R.capturedInfo.v,e=B&(1<<h)-1;B=B>>h;if((B&1)==1)B--;
else B++;R.capturedInfo.v=(B<<h)+e}l="Layer Comp properties"}if(x.d=="setLC"){O.qb.ec(W);if(x.Fp==0)delete $.lastAppliedComp;
else $.lastAppliedComp={t:"long",v:x.Fp};l="Switch Layer Comp";f=!0}if(x.d=="updLC"){O.qb.ec(W);k=O.qb.aAx(W,x.Fp);
V=O.qb.tF(W,x.Fp);$.lastAppliedComp={t:"long",v:x.Fp};l="Update Layer Comp";i=x.Fp;f=!0}if(x.d=="addLC"){O.qb.ec(W);
var U=1;for(var w=0;w<$.list.v.length;w++)U=Math.max(U,$.list.v[w].v.compID.v)+1;U+=Math.floor(Math.random()*1e4);
var o={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+($.list.v.length+1)},compID:{t:"long",v:U},capturedInfo:{t:"long",v:7}}};
$.list.v.push(o);$.lastAppliedComp={t:"long",v:U};l="New Layer Comp";var b=O.qb.tF(W,U);O.qb.S2(W,b,U)}var u=new fd(l,this);
u.data={a3z:L,a1n:$,aqV:k,aBa:V,Fp:i,sr:f};this.Th(u.data,W);W.fC(u)};O.qb.prototype.Th=function(x,F){F.U9=x.a1n;
F.Md=!0;if(x.aBa)O.qb.S2(F,x.aBa,x.Fp);if(x.sr){var W=F.U9.lastAppliedComp?F.U9.lastAppliedComp.v:0,n=O.qb.dv(F.U9,W),L=n==-1?null:F.U9.list.v[n].v,$=L?L.capturedInfo.v:7;
O.qb.dT(F,W,$);F.W()}};O.qb.prototype.hm=function(x,F){F.U9=x.a3z;F.Md=!0;if(x.aqV)O.qb.S2(F,x.aqV,x.Fp);
if(x.sr){var W=F.U9.lastAppliedComp?F.U9.lastAppliedComp.v:0,n=O.qb.dv(F.U9,W),L=n==-1?null:F.U9.list.v[n].v,$=L?L.capturedInfo.v:7;
O.qb.dT(F,W,$);F.W()}};O.qb.ec=function(x){if(x.U9.lastAppliedComp!=null||!x.Am)return;var F=O.qb.tF(x,0);
O.qb.S2(x,F,0);x.Am=!1};O.qb.TO=function(x,F,W){x.v.Hrzn.v+=F;x.v.Vrtc.v+=W};O.qb.dv=function(x,F){var W=x.list.v;
for(var w=0;w<W.length;w++)if(W[w].v.compID.v==F)return w;return-1};O.qb.ar7=function(x){var F=x.layerSettings.v,L=null;
if(F.length==0)return;var W="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),n=F[0].v;
if(n.enab==null)n.enab={t:"bool",v:!0};if(n.Ofst==null)n.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var w=0;w<F.length;w++){var $=F[w].v;if(L==null)L=JSON.parse(JSON.stringify($));else for(var l=0;
l<W.length;l++){var k=W[l];if($[k])L[k]=JSON.parse(JSON.stringify($[k]))}F[w].v=JSON.parse(JSON.stringify(L))}};
O.qb.a5W=function(x,F){var W=x.add.shmd.cmls,n=W.layerSettings.v;for(var L=0;L<n.length;L++){var $=n[L].v,l=$.compList.v[0].v;
if(l==F)return L}return-1};O.qb.aig=function(x,F){var W=O.qb.a5W(x,F);return W==-1?null:x.add.shmd.cmls.layerSettings.v[W].v};
O.qb.dT=function(x,F,W){for(var w=0;w<x.B.length;w++){var n=x.B[w],L=n.add.shmd.cmls;if(L==null)continue;
var $=L.layerSettings.v,l=O.qb.aig(n,F);if(l==null){n.FH(!1);continue}if((W&1)!=0){if(l.enab)n.FH(l.enab.v);
else n.FH(!0)}if((W&2)!=0){if(l.Ofst){var k=l.Ofst.v,V=n.JH(x),i=Math.round(k.Hrzn.v-V.x),f=Math.round(k.Vrtc.v-V.y);
if(i!=0||f!=0)O.fI.on(x,[w],null,i,f)}}if((W&4)!=0){if(l.Lefx){var X=JSON.parse(JSON.stringify(l.Lefx.v));
dv.KL(X);if(JSON.stringify(X)!=JSON.stringify(n.add.lmfx)){n.add.lmfx=X;n.jT.ex=!0}}else delete n.add.lmfx;
if(l.blendOptions){var s=l.blendOptions.v;if(s.Opct)n.opacity=Math.round(255*s.Opct.v.val/100);if(s.fillOpacity)n.add.iOpa=Math.round(255*s.fillOpacity.v.val/100);
if(s.Md)n.q_=n.add.lsct==eD.iS?"norm":a2.zy(s.Md.v.BlnM)}else{n.opacity=255;n.q_=n.vN()?"pass":"norm";
n.add.iOpa=255}}}};O.qb.aAx=function(x,F){var W={};for(var w=0;w<x.B.length;w++){var n=x.B[w];if(n.add.shmd==null||n.add.shmd.cmls==null)continue;
W["l"+n.add.lyid]=JSON.parse(JSON.stringify(O.qb.aig(n,F)))}return W};O.qb.tF=function(x,F){var W={};
for(var w=0;w<x.B.length;w++){var n=x.B[w],L=n.add.lyid;W["l"+L]=O.qb.akt(x,n,F)}return W};O.qb.akt=function(x,F,W){var n=F.add.shmd?F.add.shmd.cmls:null,L={classID:"null"},$=F.JH(x),l={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:$.x},Vrtc:{t:"long",v:$.y}}};
L.compList={t:"VlLs",v:[{t:"long",v:W}]};L.enab={t:"bool",v:F.MG()};L.Ofst=JSON.parse(JSON.stringify(l));
L.FXRefPoint=JSON.parse(JSON.stringify(n&&n.origFXRefPoint?n.origFXRefPoint:l));L.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:a2.KN(F.q_)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*F.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:F.add.iOpa!=null?100*F.add.iOpa/255:100}}}};
if(F.add.vmsk){L.vectorMask={t:"Objc",v:{classID:"null"}};L.vectorMask.v.Ofst=JSON.parse(JSON.stringify(l))}if(F.add.lmfx){L.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(F.add.lmfx))};
dv.H7(L.Lefx.v)}return L};O.qb.aqt=function(x,F){var W=F.add.lyid;if(F.add.shmd==null)F.add.shmd={};
if(F.add.shmd.cmls==null){F.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:W},layerSettings:{t:"VlLs",v:[{t:"Objc",v:O.qb.akt(x,F,0)}]}}}};
O.qb.S2=function(x,F,W){for(var w=0;w<x.B.length;w++){var n=x.B[w],L=n.add.lyid;O.qb.aqt(x,n);var $=n.add.shmd.cmls,l=$.layerSettings.v,k=F["l"+L];
if(k!=null)k={t:"Objc",v:JSON.parse(JSON.stringify(k))};var V=O.qb.a5W(n,W);if(V==-1){if(k==null)continue;
else l.push(k)}else{if(k==null)l.splice(V,1);else l[V]=k}}};O.qb.nc=function(x,F){for(var w=0;w<x.B.length;
w++){var W=x.B[w],n=W.add.lyid;if(W.add.shmd==null||W.add.shmd.cmls==null)continue;var L=W.JH(x),$=Math.round(L.x),l=Math.round(L.y);
if(!F){$=-$;l=-l}var k=W.add.shmd.cmls,V=k.layerSettings.v;if(k.origFXRefPoint)O.qb.TO(k.origFXRefPoint,-$,-l);
for(var i=0;i<V.length;i++){var f=V[i].v;O.qb.TO(f.Ofst,$,l);var X=f.imageMask,s=f.vectorMask;if(X&&X.v.Ofst)O.qb.TO(X.v.Ofst,$,l);
if(s&&s.v.Ofst)O.qb.TO(s.v.Ofst,$,l)}}};O.dl=function(){O.p9.call(this,"Adjust Edit",O.t7);this.uy=null;
this.YB=null};O.dl.prototype=new O.p9;O.dl.ar=function(x,F,W,n){if(n)F/=4;var L=0,$=0,l=255,k=0,V=0,i=255;
while($+x[L]<F){$+=x[L];L++}while(k+x[l]<F){k+=x[l];l--}if(n){L-=Math.round(x[L]/(W/32));l+=Math.round(x[l]/(W/32));
if(L<0)V=Math.round(-L*255/(l-L));if(l>255)i=255-Math.round((l-255)*255/(l-L))}return[Math.max(L,0),Math.min(l,255),V,i,100]};
O.dl.prototype.LB=function(x,F,W,n,L){var $=x.d;if($=="auto"){var l=x.VG,k=O.dl.getData(W);for(var w=0;
w<k.length;w++){var V=k[w],i;if(l<3){}else{var f=ew.Iz("hue2");im.Mm(f,0,[0,-100,0]);i=a3.So("hue2",f)}a3.Pl(i,V.LK,V.fZ,V.fS)}O.dl.mi(W,k);
O.dl.e2(W,k,l<3?[4,16,l]:[19,7,0],this);W.W()}if($=="edit_layer")this.al_(x,F,W,n);if($=="edit"||$=="confirm"||$=="cancel")this.bS(x,F,W,L,!0);
if($=="start"){if(W.g.length==0)return;var X=W.B[W.g[0]];if(X.add.SoLd&&X.sj<=0&&W.kO.length==0){var s=new gT(S.E.v,!0);
s.f=O.T2;s.data={d:"start",Rc:x.sv,_M:x._M};F.T(s);return}if(!W.Vt(F,null,!0))return;if(bn[x.sv]&&x._M==null){if(W.g.length!=1)alert("Will be applied to "+W.g.length+" layers.");
var s=new gT(S.E.M,!0);s.data={d:S.H.Ar,ip:"afw_"+x.sv};F.T(s)}else{this.bS({d:"edit",_M:x._M,Rc:x.sv},F,W,L);
this.bS({d:"confirm",Rc:x.sv},F,W,L)}}};O.dl.prototype.al_=function(x,F,W,n){var L=x.d,$=W.g[0],l=W.B[$],k=a3.get(l.add),s;
if(l.add[k]==null)return;var V=JSON.parse(JSON.stringify(l.add[k]));for(var i in x.b)V[i]=x.b[i];var f=JSON.parse(JSON.stringify(V));
for(var i in a3.I5)if(a3.I5[i]==k)f.classID=i;var X=W.history[W.Mw];if(X&&X.f==this&&X.data.aG!=null&&X.data.a==$)s=X;
else{var R=new gT(S.E.BD,!0),h={classID:"setd",null:ga.oY("AdjL",!0),T:{t:"Objc",v:f}};R.data={Sd:!0,Y3:"set",Xe:h};
F.T(R);var s=new fd([6,39],this);s.data={a:$,aG:l.add[k],k9:V,L$:h};W.fC(s)}s.data.k9=V;s.data.L$.T.v=f;
this.Th(s.data,W)};O.dl.getData=function(x,F,W){var n=[],L=new eu(0,0,x.m,x.e),$=x.kO.length!=0?[-1-x.kO[0]]:x.g;
for(var w=0;w<$.length;w++){var l=$[w],k=l<0?null:x.B[l],V={a:l,Ca:l<0?1:k.sj};n.push(V);var i=x.o2[-1-l];
if(0<=l)i=k.sj<=0?null:k.sj==1?k.GH():k.DU(x).F;var f=i?i.rect:k.rect;if(x.u){V.fS=x.u.rect.jB(F||i!=null?L:f)}else V.fS=F||i!=null?f.oA(L):f.clone();
if(W)V.fS=W[w].fS.clone();var X=V.fS.P();V.LK=r.R(X*4);if(i)O.P1.bm(i.channel,i.rect,i.color,V.LK,V.fS);
else r.sh(k.buffer,f,V.LK,V.fS);V.fZ=V.LK.slice(0);if(x.u){V.Um=r.R(X);r.Hz(x.u.channel,x.u.rect,V.Um,V.fS)}}return n};
O.dl.aCk=function(x,F,W){if(F==null)return F;var n=a3.N8(x,F),$;if(n==-1)return F;var L=W.length>>>2,l=r.uE(W),k=.001*L;
if(n==0||n==2)$=[[0,255,0,255,100],O.dl.ar(l[1],k,L,n==2),O.dl.ar(l[2],k,L,n==2),O.dl.ar(l[3],k,L,n==2)];
if(n==1)$=[O.dl.ar(l[0],k*.33,L,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var V=ew.Iz("levl");
for(var w=0;w<4;w++)ef.Mm(V,w,$[w]);return V};O.dl.afy=function(x,F,W,n){var L,$;if(W.t=="name"){var l=0;
for(var k=0;k<x.B.length;k++)if(x.B[k].getName()==W.v.val)l=k;if(x==F&&l==n.a){L=n.LK;$=n.fS}else{var V=x.B[l];
L=V.buffer;$=V.rect}}else{$=new eu(0,0,x.m,x.e);L=x==F?n.vj:x.Hi()}return[L,$]};O.dl.prototype.bS=function(x,F,W,n){if(this.uy==null){if(x.Rc=="aply")W.B[W.g[0]].extend(new eu(0,0,W.m,W.e));
this.uy=O.dl.getData(W,null,x.Rc=="fade"?W.Ao().data:null);if(x.Rc=="aply"||x.Rc=="matc")this.uy[0].vj=W.Hi()}if(x.d=="edit"){this.YB=[x.Rc,x._M];
var L=this.uy[0],$=O.dl.aCk(x.Rc,x._M,L.LK),l=a3.So(x.Rc,$);if(x.Rc=="fade"||x.Rc=="matc"||x.Rc=="aply")l=x._M;
if(l!=null){for(var k=0;k<this.uy.length;k++){var V=this.uy[k];if(x.MQ)r.Bj(V.LK,V.fZ);else if(x.Rc=="fade"){var i=a2.zy(x._M.Md.v.BlnM),f=x._M.Opct.v.val/100,X=W.Ao().data[k];
r.Bj(X.LK,V.fZ);if(i=="norm")r.l.qV(V.LK,V.fS,V.fZ,V.fS,null,null,null,V.fS,f);else{var s=hM.j0();s.u9=!0;
for(var w=0;w<X.LK.length;w+=4)if(X.LK[w+3]!=V.LK[w+3]){s=null;break}r.l.X3(i,V.LK,V.fS,V.fZ,V.fS,V.fS,f,s)}}else if(x.Rc=="matc"){var R;
if(l.noReference&&l.noReference.v)R=V.LK;else{var h=l.Srce.v,B=h[1].v.val,e=F.iV,U=W;for(var w=0;w<e.length;
w++)if(e[w].name==B)U=e[w];var o=O.dl.afy(U,W,h[0],V);R=o[0]}aC(V.LK,V.fS.m,V.fS.e,R,V.fZ,[l.Lght.v,l.ClrR.v,l.Fade.v,l.neutralizeColor?l.neutralizeColor.v:!1])}else if(x.Rc=="aply"){l=l.With.v;
var b=l.T.v,o=O.dl.afy(W,W,b[1],V),R=o[0],u=o[1],Z=l.Clcl?l.Clcl.v.Clcn:null,i=Z?a2.zy(Z):"norm",f=l.Opct?l.Opct.v.val/100:1,I=["RGB","Rd","Grn","Bl","Trsp"].indexOf(b[0].v.enum),$=l.Invr&&l.Invr.v;
if($||I!=0){R=R.slice(0);if($)r.adK(R);if(I!=0){var y=r.R(u.P());r.Tb(R,y,I-1);if(I==4)r.sx(y);for(var D=0;
D<3;D++)r.rW(y,R,D)}}if(Z=="Add"||Z=="Sbtr"){var N=1/l.Scl.v,j=l.Ofst.v,H=Z=="Add"?1:-1,Q=new Uint8ClampedArray(V.fZ.buffer);
for(var w=0;w<R.length;w+=4){Q[w]=(V.LK[w]+H*R[w])*N+j;Q[w+1]=(V.LK[w+1]+H*R[w+1])*N+j;Q[w+2]=(V.LK[w+2]+H*R[w+2])*N+j}}else{var s=hM.j0();
s.u9=l.PrsT&&l.PrsT.v;V.fZ.fill(0);V.fZ.set(V.LK);r.l.X3(i,R,u,V.fZ,V.fS,V.fS,f,s)}}else a3.Pl(l,V.LK,V.fZ,V.fS)}O.dl.mi(W,this.uy)}}if(x.d=="cancel"){O.dl.a2p(W,this.uy);
this.uy=null}if(x.d=="confirm"){var C={fade:[2,11],aply:[2,12],matc:[4,18]},J=C[x.Rc];if(J==null)J=a3.names[x.Rc];
var E=a3.N8(x.Rc,this.YB[1]);if(E!=-1)J=[4,16,E];O.dl.e2(W,this.uy,J,this);this.uy=null;if(E==-1)O.dl.UG(F,this.YB)}W.W()};
O.dl.UG=function(x,F){var W=F[0],n=F[1],L,$;if(a3.Np[W]){L=a3.Np[W];if(bn[W])$=n}if(ew.Np[W]){L=ew.Np[W];
if(bn[W])$=n}if(W=="fade"){L="fade";$=n}if(W=="matc"){L="matchColor";$=n}if(W=="aply"){L="applyImageEvent";
$=n}if(W=="GEfc"){if($.GEfs)$=$.GEfs.v[0].v}if(L==null)return;var l=new gT(S.E.BD,!0);l.data={Sd:!0,Y3:L};
if($){$=JSON.parse(JSON.stringify($));l.data.Xe=$}x.T(l)};O.dl.a2p=function(x,F){O.dl.dq(x,F)};O.dl.e2=function(x,F,W,n){for(var w=0;
w<F.length;w++){var L=F[w],$=x.B[L.a],l=L.a<0?x.o2[-1-L.a]:L.Ca<=0?null:L.Ca==1?$.GH():$.DU(x).F;if(l){l.iv();
l.DQ=!0;if($)$.pZ(x)}else{$.iv();$.W()}delete L.fZ;delete L.Um}var k=new fd(W,n);k.data=F;x.fC(k);x.Md=!0};
O.dl.mi=function(x,F,W){for(var w=0;w<F.length;w++){var n=F[w],L=x.B[n.a],$=W?n.LK:n.fZ,l=n.fS;if(n.Ca==0){L.extend(l);
if(n.Um){r.sh(n.LK,l,L.buffer,L.rect);r.l.qV($,l,L.buffer,L.rect,n.Um,l,0,l,1)}else r.sh($,l,L.buffer,L.rect)}else{var k=n.a<0?x.o2[-1-n.a]:n.Ca==1?L.GH():L.DU(x).F;
k.extend(l);if(n.Um){var V=r.R(l.P()*4);r.Bj(n.LK,V);r.l.qV($,l,V,l,n.Um,l,0,l,1);O.P1.H2(V,l,k)}else O.P1.H2($,l,k);
k.DQ=!0;if(L)L.pZ(x)}if(L)L.W()}if(!W)O.dl.ag5(x,F)};O.dl.dq=function(x,F){for(var w=0;w<F.length;w++){var W=F[w],n=x.B[W.a],L=W.fS,$=r.R(L.P()*4);
if(W.Ca==0){r.sh(n.buffer,n.rect,$,L);n.extend(L);r.sh(W.LK,L,n.buffer,n.rect);n.iv()}else{var l=W.a<0?x.o2[-1-W.a]:W.Ca==1?n.GH():n.DU(x).F;
O.P1.bm(l.channel,l.rect,l.color,$,L);l.extend(L);O.P1.H2(W.LK,L,l);l.iv();l.DQ=!0;if(n)n.pZ(x)}W.LK=$;
if(n)n.W()}x.Md=!0};O.dl.p$=function(x){var F=0;for(var w=0;w<x.length;w++)F+=x[w].LK.length;return F};
O.dl.ag5=function(x,F){var W=O.dl.a4f(x),n=~W;if(W==16777215)return;for(var w=0;w<F.length;w++){var L=F[w],$=x.B[L.a],l=L.fS;
if(L.Ca!=0)continue;$.extend(l);var k=l.x-$.rect.x,V=l.y-$.rect.y,i=$.rect.m,f=new Uint32Array(L.LK.buffer),X=new Uint32Array($.buffer.buffer);
for(var s=0;s<l.e;s++)for(var R=0;R<l.m;R++){var h=s*l.m+R,B=(s+V)*i+(R+k);X[B]=X[B]&W|f[h]&n}$.iv();
$.W()}x.W()};O.dl.a4f=function(x){var F=x.U.O;return F[2]*16711680|F[1]*65280|F[0]*255};O.dl.prototype.hm=function(x,F){var W=F.B[x.a];
if(x.aG!=null)W.add[a3.get(W.add)]=x.aG;else O.dl.dq(F,x);F.W()};O.dl.prototype.Th=function(x,F){var W=F.B[x.a];
if(x.aG!=null)W.add[a3.get(W.add)]=x.k9;else O.dl.dq(F,x);F.W()};O.dl.prototype.p$=function(x){return x.aG==null?O.dl.p$(x):0};
O.vS=function(){O.p9.call(this,"Filter Edit",O.T2);this.uy=null;this.$c=null;this.d=null;this.YB=null};
O.vS.prototype=new O.p9;O.vS.prototype.LB=function(x,F,W,n,L){if(x.d=="start"){if(W.g.length==0)return;
var $=W.B[W.g[0]];if($.add.SoLd&&$.sj<=0&&W.kO.length==0){}else if(!W.Vt(F,null,!0))return;var l=x.Rc;
if((bn[l]||ew.s[l])&&x._M==null){if(W.g.length!=1)alert("Will be applied to "+W.g.length+" layers.");
var k=new gT(S.E.M,!0);k.data=O.vS.a5g(l,this.X6(W,l));F.T(k)}else{var V={d:"edit",Rc:l,_M:x._M,zL:this.X6(W)};
this.LB(V,F,W,n,L);V.d="confirm";delete V._M;this.LB(V,F,W,n,L)}}if(x.d=="edit"||x.d=="cancel"||x.d=="confirm"){if(x.d=="edit")this.YB=[x.Rc,x._M];
if(x.zL)this.aev(x,F,W,L);else this.a7O(x,F,W,L)}if(x.d=="applylast"&&this.YB!=null){var V={d:"edit",Rc:this.YB[0],_M:this.YB[1],zL:this.X6(W)};
this.LB(V,F,W,n,L);V.d="confirm";delete V._M;this.LB(V,F,W,n,L)}};O.vS.a5g=function(x,F){var W=ew.s[x];
if(W)return{d:S.H.Ac,f:W,qm:{zL:F}};else return{d:S.H.Ar,ip:"afw_"+x,zL:F}};O.vS.prototype.X6=function(x,F){var W=x.B[x.g[0]],n;
if(W.add.SoLd&&W.sj<=0&&x.kO.length==0){n={a:x.g[0],index:0};if(W.add.SoLd.filterFX!=null){var L=W.add.SoLd.filterFX.v.filterFXList.v;
n.index=L.length;for(var w=0;w<L.length;w++)if(ew.Vd(L[w].v)==F&&ew.s[F])n.index=w}}return n};O.vS.prototype.aev=function(x,F,W,n){var L=W.B[x.zL.a],$=x.Rc;
if(x.d=="edit"){if(this.d==null){var l=ew.names[$];if(l==null)l=a3.names[$];if($=="blendOptions")l=[14,10];
this.d=new fd(l,this);this.d.data={zL:x.zL,al6:JSON.parse(JSON.stringify(L.add.SoLd))}}if(!L.mK()){L.add.SoLd.filterFX=ew.yp();
var k=this.d.data._R=az.ad6(L.add.SoLd.placed.v);W.Ky(k);if(W.u){k.F.channel=W.u.channel.slice(0);k.F.rect=W.u.rect.clone();
k.F.color=0;this.d.data.WZ=W.u;W.u=null}L.Bw(W)}var V=L.add.SoLd.filterFX.v.filterFXList.v;if(V[x.zL.index]==null){V.push(ew.Il($,n))}if(x._M){V[x.zL.index].v.enab.v=x.MQ!=!0;
if($=="blendOptions")V[x.zL.index].v.blendOptions.v=x._M;else V[x.zL.index].v.Fltr.v=x._M}this.d.data.aau=JSON.parse(JSON.stringify(L.add.SoLd));
this.Th(this.d.data,W)}if(x.d=="cancel"){if(this.d)this.hm(this.d.data,W);this.d=null}if(x.d=="confirm"){if(this.d)W.fC(this.d);
O.dl.UG(F,this.YB);this.d=null}};O.vS.prototype.PA=function(x){return{o:x>>>16,r:x>>>8&255,z:x&255}};
O.vS.prototype.a7O=function(x,F,W,n){if(this.uy==null){var L=ew.lc(x.Rc,x._M);this.uy=O.dl.getData(W,L.x!=0||L.y!=0,x.Rc=="VaPo"?[{fS:x.vj[1]}]:null)}if(x.d=="edit"){var $=JSON.stringify(x._M);
if((x._M==null||$!=this.$c)&&x.MQ!=!0)for(var w=0;w<this.uy.length;w++){var l=this.uy[w],k={rect:l.fS,buffer:l.LK},V={rect:l.fS,buffer:l.fZ};
if(x.Rc=="Avrg"&&l.Um){k.buffer=l.LK.slice(0);r.Wz(l.Um,k.buffer)}ew.Pl(x.Rc,k,x._M,this.PA(n.A_),this.PA(n.G8),V,[W.add.lnk2?W.add.lnk2:[],W.B[W.g[0]].GH(),W.o2,W.x8()]);
if(x.Rc=="VaPo"){r.sh(x.vj[0],x.vj[1],V.buffer,V.rect)}if(x.Rc=="Avrg"&&l.Um){var i=l.LK.length;for(var w=0;
w<i;w+=4)l.fZ[w+3]=l.LK[w+3]}this.$c=$}O.dl.mi(W,this.uy,x.MQ)}if(x.d=="cancel"){O.dl.a2p(W,this.uy);
this.uy=null;this.$c=null}if(x.d=="confirm"){if(x.Rc=="VaPo"){this.uy.ahV=JSON.stringify(W.WP);this.uy.ss=JSON.stringify(x.b);
W.WP=x.b}O.dl.e2(W,this.uy,ew.names[x.Rc],this);this.uy=null;this.$c=null;O.dl.UG(F,this.YB)}W.W();W.Md=!0};
O.vS.prototype.hm=function(x,F){if(x.ss)F.WP=JSON.parse(x.ahV);if(x.zL){var W=F.B[x.zL.a];if(x._R)F.QW(x._R);
if(x.WZ)F.u=x.WZ;W.add.SoLd=JSON.parse(JSON.stringify(x.al6));if(W.mK())W.Gt(F);else{W.Bw(F);W.sj=0}}else O.dl.dq(F,x);
F.W();F.Md=!0};O.vS.prototype.Th=function(x,F){if(x.ss)F.WP=JSON.parse(x.ss);if(x.zL){var W=F.B[x.zL.a];
if(x._R)F.Ky(x._R);if(x.WZ)F.u=null;W.add.SoLd=JSON.parse(JSON.stringify(x.aau));if(W.mK())W.Gt(F);else W.Bw(F);
if(!W.gN())W.xb+=32}else O.dl.dq(F,x);F.W();F.Md=!0};O.vS.prototype.p$=function(x){return x.zL==null?O.dl.p$(x):0};
var iC={tB:"0",s3:"1",W$:"2",By:"3",he:"3.5",Oj:"4",K7:"5",iU:"6",IE:"7",v:"8",I$:"8.5",ug:"8.8",nI:"9",nx:"10",LC:"11",JL:"12",ys:"13",rb:"14",n6:"15",lz:"16",k3:"17",aW:"18",N1:"21",PH:"22",Yr:"23",qt:"23.0",Zq:"23.1",C1:"23.2",Lc:"23.3",IB:"23.4",Eu:"23.5",oo:"23.6",a0w:"30",JS:"31",N3:"40",lB:"41",k0:"42"};
iC.uH={};iC.uH[iC.s3]=["abr","brushes",h6,[9,3],3];iC.uH[iC.W$]=["grd","gradients",hJ,[12,37],4];iC.uH[iC.By]=["shc","contours",i_,[12,21],0];
iC.uH[iC.he]=["acv","curves",jL,[4,2],0];iC.uH[iC.Oj]=["asl","styles",dC,[12,22],5];iC.uH[iC.K7]=["pat","patterns",f1,[12,62],6];
iC.uH[iC.iU]=["csh","shapes",fZ,[12,77],7];iC.uH[iC.IE]=["aco","swatches",i9,[9,8],0];iC.uH[iC.v]=["atn","actions",jB,[9,9],2];
iC.uH[iC.I$]=["tpl","tpresets",du,[9,12],0];iC.uH[iC.ug]=["icc","profiles",b2,"LUTs",8];function fd(x,F,W){if(W==null)W=!1;
this.name=x;this.f=F;this.Bc=W;this.data=null;this.avP=Date.now()}fd.prototype.p$=function(){return this.f?this.f.p$(this.data):0};
var ga={};ga.oY=function(x,F){var W={t:"Clss",v:{classID:x}};if(F)W={t:"Enmr",v:{classID:x,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[W]}};ga.Lr=function(x,F){var W={classID:"Lyr"};W[x]=F;return{Y3:"set",Xe:{classID:"null",null:ga.oY("Lyr",!0),T:{t:"Objc",v:W}}}};
ga.aD9=function(x,F,W,n,L){var $=new gT(S.E.BD,!0),l=[],w=0,k=ga.yh(F,W,n,l);while(l.length!=0){var V=l.pop();
w++;if(!V.w)continue;console.log(w-1);if(V.Y3=="conditional"){var i=x.B[x.g[0]],f=V.Xe.null.v.Cndt,X=!1;
if(f=="Bckg")X=!1;else if(f=="Pxel"&&x.SP(!1))X=!0;else if(f=="Adjs"&&a3.get(i.add))X=!0;else if(f=="Shp"&&i.add.vogk)X=!0;
else if(f=="Grup"&&i.vN())X=!0;else if(f=="Opn"&&x!=null)X=!0;else if(f=="32Bt")X=!1;else if(f=="RGB")X=!0;
var s=V.Xe.then,R=V.Xe.else;if(X&&s)ga.yh(F,s.v[0].v.val,s.v[1].v.val,l);if(!X&&R)ga.yh(F,R.v[0].v.val,R.v[1].v.val,l)}else if(V.Y3=="stop"){if(V.Xe.Cntn&&V.Xe.Cntn.v==!0)window.confirm(V.Xe.Msge.v);
else{alert(V.Xe.Msge.v);break}}else if(V.Y3=="play"){var h=V.Xe.null.v,B=new gT(S.E.M,!0);B.data={d:S.H.HQ,U0:[h[0].v.val,h[1].v.val]};
L.T(B)}else{$.data={Y3:V.Y3,Xe:V.Xe};L.T($)}}};ga.Ni=function(x,F,W){var n;for(var w=0;w<x.length;w++){if(x[w].Sa!=W)continue;
var L=x[w].$f;for(var $=0;$<L.length;$++){if(L[$].Sa!=F)continue;n=L[$]}}return n};ga.yh=function(x,F,W,n){var L=ga.Ni(x,F,W).$f,$=L.length;
for(var w=0;w<$;w++)n.push(L[$-1-w])};ga.aBn=function(x){var F=x.Y3,W=x.Xe,n,l,k,V,i;if(W&&W.null)n=W.null.v[0];
if(W&&n==null&&W.At)n=W.At.v[0];if(n&&n.t=="obj ")n=n.v[0];var L=n&&n.v?n.v.classID:null,$=["purge"];
if($.indexOf(F)!=-1)return F[0].toUpperCase()+F.slice(1);if(F=="GEfc"||F=="paintDaubs")return kx.names[W.GEfk.v.GEft][1];
i=a3.Np;for(l in i)if(i[l]==F)k=l;i=ew.Np;for(l in i)if(i[l]==F)V=l;i=ew.Np;for(l in i)if(l==F)V=l;if(k){var f=a3.N8(k,W);
if(f!=-1)return[4,16,f];return a3.names[k]}if(V)return ew.names[V];var X=ga.avZ;if(F=="make"){if(n){if(L=="AdjL")return[6,1];
else if(L=="layerSection")return W.From?[6,9]:[6,20];else if(L=="Lyr")return[6,13];else if(L=="Chnl"&&n.v.enum=="Msk")return[6,2];
else if(L=="contentLayer")return[6,48,1];else if(L=="BckL")return"Make Background Layer";else if(L=="Path")return"Make Path";
else if(L=="TxLr")return"Make Text Layer";else if(L=="slice")return"Make Slices";else if(L=="Dcmn")return[11,7];
else if(L=="Gd")return[23,4]}if(W.Nw){L=W.Nw.v.classID;if(L=="Dcmn")return[11,7];else if(L=="Chnl"||L=="SCch")return"New Channel"}}else if(F=="deselect"){if(L=="Path")return"Deselect current path";
else throw L}else if(F=="draw"){return"Draw"}else if(F=="select"){if(L=="Chnl"){var s={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[n.v.enum];
if(s==null)s="";return"Select "+s+" Channel"}else if(L=="Mn")return"Select Panel \""+n.v.enum+"\"";else if(L=="Lyr"){if(n.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[n.v.enum]+" Layer";
return"Select Layer \""+n.v.val+"\""}else if(L=="Path")return"Select Path";else if(L=="Brsh")return"Select Brush";
else if(L=="Dcmn")return"Select Document"}else if(X[F]&&L=="Chnl"){var R=n.v.keyID=="fsel";return X[F]+" "+(R?"Selection":"Channel")}else if(F=="set"){if(L=="Lyr")return"Set Current Layer";
else if(L=="AdjL")return[6,39];else if(L=="contentLayer")return[6,48,2];else if(L=="Prpr"){var h=n.v.keyID;
if(h=="TxtS")return"Set Text Style";else if(h=="paragraphStyle")return"Set Paragraph Style";else if(h=="Lefx")return[11,6];
else console.log(h)}else if(L=="Clr")return"Set "+(n.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(L=="Brsh")return"Set Brush";else if(L=="Path")return"Set Work Path";else console.log(L)}else if(F=="move"){if(L=="Lyr")return"Move Layer";
else if(L=="Chnl"&&n.v.keyID=="fsel")return[7,7];else console.log(L)}else if(F=="show"||F=="hide"){var B="";
if(L=="Lyr")B="Layer";if(L=="Chnl")B="Channel";if(L=="filterFX")B="Filter Effect";return(F=="show"?"Show":"Hide")+" "+B}else if(F=="reset"){if(L=="Clr")return"Reset Colors"}else if(F=="exchange"){if(L=="Clr")return[22,7,0]}else if(F=="rotateEventEnum")return[2,5];
else if(F=="flip"){var e=W.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,e?2:3]]}if(F=="duplicate"&&L=="Dcmn")return"Duplicate first document";
if(L=="Chnl"){if(F=="duplicate"){if(n.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(F=="delete")return"Delete Channel"}if(F=="transform")return n&&n.v.keyID=="fsel"?[7,10]:[10,16];
var U={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:W?L=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},o=U[F];
if(o==null)o=ga.ajH[F];if(o)return o;return F};ga.ajH={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
ga.avZ={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
ga.a0U=function(x,F,W,n){var L=x.Y3,$=x.Xe,l=!1,k=new gT(S.E.v,!0),s,R,h,B;k.f=O.c9;var V=new gT(S.E.M,!0),i=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(i.indexOf(L)!=-1)return;var X=L;while(X.length<4)X+=" ";B=a3.Np;for(s in B)if(B[s]==X)R=s;B=ew.Np;
for(s in B)if(B[s]==X)h=s;B=ew.Np;for(s in B)if(s==X)h=s;if(L=="fade")R=L;if(L=="matchColor")R="matc";
if(L=="applyImageEvent")R="aply";if(R){k.f=O.t7;k.data={d:"start",sv:R,_M:$}}else if(h){k.f=O.T2;k.data={d:"start",Rc:h,_M:$}}else if(L=="GEfc"||L=="paintDaubs"){k.f=O.T2;
k.data={d:"start",Rc:"GEfc",_M:$}}else if(L=="imageSize"||L=="canvasSize"||L=="revealAll"||L=="trim"||L=="crop"){k.f=O.yA;
k.data={d:"fromAction",$V:x}}else if(L=="fill"||L=="stroke"||L=="delete"&&$==null){var e=null;if(n.g.length!=0)e=n.B[n.g[0]];
var U=r.j4(W.A_);if(e!=null&&L=="fill"&&e.add.TySh){var o="var c = new SolidColor();  c.rgb.red="+U.o+";  c.rgb.green="+U.r+";  c.rgb.blue="+U.z+";  app.activeDocument.activeLayer.textItem.color = c;";
V.data={d:S.H.tN,TJ:o}}else if(e!=null&&L=="delete"&&e.add.TySh){k.f=O.w1;k.data={d:"insertText",b:""}}else if(e!=null&&L=="fill"&&e.qA()){var k=new gT(S.E.BD,!0),$={classID:"setd",null:ga.oY("contentLayer",!0),T:{t:"Objc",v:{}}};
O.RC.x$({Clr:{t:"Objc",v:r.I.GB(r.j4(W.A_))}},$.T.v,0);k.data={Y3:"set",Xe:$};F.T(k);return}else{if(L=="stroke"&&$&&$.Usng)k.f=O.Np[$.Usng.v.classID];
else k.f=W.Dj==O.mU?O.mU:O.s3;k.data={d:"fromAction",$V:x}}}else if(L=="colorRange"||L=="grow"||L=="similar"){k.f=O.dg;
k.data={d:"fromAction",$V:x}}else if(L=="set"&&$&&$.T&&$.T.v.Ordn=="Al"&&W.Dj==O.w1&&F.Pa().ek()){k.f=O.w1;
k.data={d:"selectAll"}}else if(ga.ajH[L]||ga.avZ[L]&&(!1||$.With&&$.With.v[0].v.keyID=="fsel"||$.From&&$.From.v[0].v.keyID=="fsel"||$.null&&$.null.v[0].v.keyID=="fsel"||$.T.v[0]&&$.T.v[0].v.keyID=="fsel")){k.f=O.Yg;
k.data={d:"fromAction",$V:x}}var b={copyToLayer:t.G$,cutToLayer:t.P$,mergeLayersNew:t.df,rasterizeLayer:t.UB,mergeVisible:t.tT,flattenImage:t.aqR,newPlacedLayer:t.C5};
if(b[L])k.data={d:b[L],Xe:$};if(k.data){F.T(k);return}if(L=="collapseAllGroupsEvent"){for(var w=0;w<n.B.length;
w++){var e=n.B[w];if(e.vN())e.add.lsct=eD.Tn}n.bA=!0;return}if(L=="desaturate"||L=="Dstt"){k.f=O.t7;
k.data={d:"auto",VG:3};if(n&&n.B[n.g[0]].add.SoLd==null)F.T(k);return}if(L=="close"){if($&&$.Svng.v.YsN=="Ys"){V.data={d:S.H.rN};
F.T(V)}V.data={d:S.H.Oa,_j:n};F.T(V);return}if(L=="save"){V.data={d:S.H.rN};F.T(V);return}if(L=="copyMerged"){V.data={d:S.H.Ti,va:!0,FQ:!0};
F.T(V);return}if(L=="placedLayerReplaceContents")V.data={d:S.H.aS,dY:!0};var b={placedLayerEditContents:S.H.aiz,placedLayerExportContents:S.H.ao6,copyEvent:S.H.Ti,paste:S.H.cd};
if(b[L])V.data={d:b[L],FQ:!0};if(V.data){F.T(V);return}var u=$.null?$.null.v:null,Z=u?u[0].v.classID:"";
if(L=="make"){if($.null==null&&$.Nw)Z=$.Nw.v.classID;if(Z=="AdjL"){k.data={d:t._u,Xe:$}}else if(Z=="layerSection"){k.data=$.From?{d:t.YV}:{d:t.Hg};
if($.Usng){var I=$.Usng.v;if(I.Nm)k.data.au=I.Nm.v;if(I.Clr)k.data.ff=ga.wI(I)}}else if(Z=="Lyr"){if($.Usng&&$.Usng.v.length==2)k.data={d:t.ath};
else{k.data={d:t.Ut};if($.Usng)k.data.au=$.Usng.v.Nm.v;if($.below&&$.below.v)k.data.a1f=!0}}else if(Z=="Chnl"&&$.At&&$.At.v[0].v.enum=="Msk"){k.data={d:t.Tc,tj:$.Usng.v.UsrM}}else if(Z=="Chnl"||Z=="SCch"){k.data={d:t.Bl,k1:"fromAction",b:x}}else if(Z=="contentLayer"){k.data={d:t.W5,Xe:$}}else if(Z=="BckL"){n.B[n.g[0]].a6M();
return}else if(Z=="Dcmn"){if($.Nw==null)return;var y=$.Nw.v;V.data={d:S.H.bt,GE:az.a5f(y,W)}}else if(Z=="Ptrn")V.data={d:S.H.iI,jL:0};
else if(Z=="Path"){k.f=O.iM;k.data={d:"pathedit",k1:"fromsel"}}else if(Z=="TxLr"){k.f=O.w1;k.data={d:"fromAction",$V:x}}else if(Z=="slice"){k.f=O.cY;
k.data={d:"fromAction",$V:x}}else if(Z=="Gd"){var D=[[],[]],y=$.Nw.v;D[y.Ornt.v.Ornt=="Vrtc"?0:1].push(y.Pstn.v.val);
var N=da.cC(D);O.fI.af(N,n.L6());k.f=O.iY;k.data={d:"gids",Lb:N}}else{console.log(L,Z,$);throw"e"}}else if(L=="divide"){k.f=O.cY;
k.data={d:"fromAction",$V:x}}else if(L=="deselect"){if(Z=="Path"){n._H=[];n.TQ=[];n.bA=n.yW=!0;return}else throw Z}else if(L=="selectNoLayers"){n.g=[];
n.Md=!0}else if(L=="selectAllLayers"){n.g=[];for(var w=0;w<n.B.length;w++)n.g.push(w);n.Md=!0;return}else if(L=="select"){var j=O.Np;
if(Z=="Lyr"){var H=$.selectionModifier,Q=H?H.v.selectionModifierType:null,C=ga.CA(n,u[0]),J=0;if(C==-1){alert("Layer "+u[0].v.val+" does not exist.");
return}var e=n.B[C];if(e.vN()&&e.GH()&&H==null)J=1;k.data={d:t.uA,a:C,bi:Q?["addToSelection","addToSelectionContinuous"].indexOf(Q):null,ll:J}}else if(Z=="Path"){if(u[0].v.keyID=="WrPt"){n._H=[0];
n.bA=n.yW=!0;return}else throw u[0]}else if(Z=="Chnl"){var E=u?u[0].v.enum:"",T=["Rd","Grn","Bl"].indexOf(E);
if(T!=-1){var c=$.Extd&&$.Extd.v?n.U.O.slice(0):[0,0,0];c[T]=1;k.f=O.CD;k.data={d:"setcls",O:c}}else k.data={d:t.uA,a:C,ll:E=="RGB"?0:1}}else if(Z=="Dcmn"){if(F.iV.length<2)return;
V.data={d:S.H.a4D,dir:$.null.v[0].v.val}}else if(Z=="Brsh"){var a=W.rj.list,K;for(var w=0;w<a.length;
w++){if(a[w].v.Nm.v.split("/").pop()==u[0].v.val)K=a[w].v}if(W.Dj==O.iY){V.data={d:S.H.Ac,f:O.s3};F.T(V)}V.data={d:S.H.DD,jL:iC.rb,BX:K}}else if(Z=="Mn"){if(u[0].v.enum=="Scl")V.data={d:S.H.Ac,f:O.d9,qm:{tj:3}};
if(u[0].v.enum=="Plce")V.data={d:S.H.aS,afD:!0};if(u[0].v.enum=="ZmIn"){k.f=O._6;k.data={d:"zoom",sm:!0}}if(u[0].v.enum=="ZmOt"){k.f=O._6;
k.data={d:"zoom",sm:!1}}if(u[0].v.enum=="FtOn"){k.f=O._6;k.data={d:"adapt",b:"fitscr"}}}else if(j[Z]){V.data={d:S.H.Ac,f:j[Z]}}else throw Z}else if(L=="draw"){k.f=O.iM;
k.data={d:"fromAction",$V:x}}else if(L=="gradientClassEvent"){k.f=O.e9;k.data={d:"fromAction",$V:x}}else if((L=="set"||L=="reset"||L=="exchange")&&Z=="Clr"){V.data={d:S.H.DD,jL:iC.N1,k1:L=="reset"?3:2};
if(L=="set"){V.data.k1=u[0].v.keyID=="FrgC"?0:1;var Y=r.I.z$($.T.v);V.data.b=Y.o<<16|Y.r<<8|Y.z}}else if(L=="set"){if(Z=="AdjL"){var p=$.T.v.classID;
p=a3.I5[p];k.f=O.t7;if(p)k.data={d:"edit_layer",b:$.T.v}}else if(Z=="Lyr"){var P=$.T.v,C=ga.CA(n,u[0]);
for(var m in P){if(m=="classID")continue;k.f=O.c9;if(m=="Nm")k.data={d:t.hF,name:P.Nm.v};else if(m=="Opct")k.data={d:t.W2,k9:Math.round(P.Opct.v.val*255/100)};
else if(m=="fillOpacity")k.data={d:t.MD,k9:Math.round(P.fillOpacity.v.val*255/100)};else if(m=="Md")k.data={d:t.rX,k9:a2.Se.indexOf(P.Md.v.BlnM)+(n.B[C].vN()?1:0)};
else if(m=="Usrs")k.data={d:t.ra,a:C};else if(m=="Blnd"){k.f=O.pj;k.data={d:"setstl",a:C,b:{blendOptions:{t:"objc",v:P}}};
F.T(k);k.data={d:"confirm",a:C}}else if(m=="userMaskFeather"||m=="userMaskDensity"){var z=P.userMaskFeather,M=P.userMaskDensity,C=n.g[0],d=n.B[C].Lq(0);
if(z)d.Un=z.v.val;if(M)d.cj=M.v.val;k.data={d:t.ge,Jr:C,wc:d}}else if(m=="Clr"){var U=ga.wI(P);k.data={d:t.uQ,a9o:U}}else if(m=="Lefx")ga.axK(F,C,P.Lefx.v,W);
else{console.log($);throw m}if(k.data){F.T(k);delete k.data}}k.data={};var e=n.B[C];e.awW()}else if(Z=="Prpr"){var P=JSON.parse(JSON.stringify($.T.v)),C=ga.CA(n,$.null.v[1]),e=n.B[C],A=u[0].v.keyID;
if(A=="TxtS"||A=="paragraphStyle"){var G=e.add.TySh,kB=JSON.parse(JSON.stringify(G.OU)),q=iV.YG(kB),fO=iV.f3(kB,0,q.length-2);
if(A=="TxtS")iV.acW(P,fO);else iV.atU(P,fO);iV.Aj(kB,0,q.length-1,fO);k.f=O.w1;k.data={d:"newED",Wf:C,Vo:kB}}else if(A=="Lefx"){for(var g in P)if(P[g].v){if(g=="Scl")P[g].v.val=100}ga.axK(F,C,P,W);
k.data={}}else throw A}else if(Z=="contentLayer"){var C=ga.CA(n,u[0]),P=$.T.v,jN=!0;if(P.classID=="shapeStyle"){if(P.strokeStyle){P=P.strokeStyle.v;
jN=!1}else P=P.FlCn.v}if(jN){var c6={solidColorLayer:0,gradientLayer:1,patternLayer:2}[P.classID],a7=eC.Bz(n.B[C].add),h=a7.d_==c6+1?a7.oa:eC.Ir[c6];
h=JSON.parse(JSON.stringify(h));O.RC.x$(P,h,c6);k.data={d:t.lr,te:[C],v5:!0,b:{d_:c6+1,oa:h}}}else{var bd=JSON.parse(JSON.stringify(n.B[C].add.vstk));
for(var g in P)bd[g]=P[g];k.data={d:t.lr,te:[C],v5:!1,b:bd}}}else if(Z=="Brsh"){var K=JSON.parse(JSON.stringify(W.rj.gd)),ey=$.T.v;
if(ey.masterDiameter)K.Brsh.v.Dmtr.v.val=ey.masterDiameter.v.val;else console.log("unknown brush parameters");
V.data={d:S.H.DD,jL:iC.rb,BX:K}}else if(Z=="Path"){k.f=O.iM;k.data={d:"fromAction",$V:x}}else{console.log(u[0],$);
throw Z}}else if(L=="move"){if(Z=="Lyr"){var P=$.T.v;if(P.classID=="Ofst"){k.data={d:"trsl",eH:P.Hrzn.v.val,u7:P.Vrtc.v.val};
k.f=O.iY}else{var c5,bx;if(P[0].t=="Enmr"){if(P[0].v.enum=="Frnt")bx=0;else if(P[0].v.enum=="Nxt")bx=1;
else if(P[0].v.enum=="Prvs")bx=2;else if(P[0].v.enum=="Back")bx=3;else throw"e"}else c5=P[0].v.val;k.data={d:t.gM,target:c5,k1:bx,a97:$.Dplc?$.Dplc.v:!1}}}else if(Z=="Chnl"&&u[0].v.keyID=="fsel"){k.f=O.Yg;
k.data={d:"fromAction",$V:x}}}else if(L=="groupEvent"||L=="ungroup")k.data={d:t.rF};else if(L=="show"||L=="hide"){var ap=$.null.t;
if(ap=="obj "){if(u[0].v.val!=null)k.data={d:t.Lk,index:u[0].v.val-1};else k.data={d:t.bN}}else if(ap=="VlLs"){var Z=u[0].v[0].v.classID;
if(Z=="Chnl")k.data={d:t.Bl,k1:"fromAction",b:x};else{var kE=Z=="filterFX"?u:u[0].v;for(var w=0;w<kE.length;
w++){if(Z=="filterFX")k.data={d:t.Lk,index:kE[w].v[0].v.val-1};else{var C=ga.CA(n,kE[w]),bm=n.B[C].MG();
if(L=="show"&&bm||L=="hide"&&!bm)continue;k.data={d:t._k,te:[C]}}F.T(k)}return}}else throw ap}else if(L=="rotateEventEnum"){k.f=Z=="Lyr"?O.d9:O.yA;
var fe=$.Angl.v.val;k.data={d:"rot",Sa:[2,5],b:-fe*Math.PI/180}}else if(L=="flip"){k.f=Z=="Lyr"?O.d9:O.yA;
var g8=$.Axis.v.Ornt=="Hrzn",e0=g8?new eX(-1,1):new eX(1,-1);k.data={d:"scl",Sa:[[2,6],[22,4,g8?2:3]],b:e0}}else if(L=="transform"){var cF=1,ei=1,cr=0,e_=0,gg=0,bW=0,gx=0,gB=null,jy=null;
if($.Wdth)cF=$.Wdth.v.val/100;if($.Hght)ei=$.Hght.v.val/100;if($.Skew){var h$=$.Skew.v;cr=h$.Hrzn.v.val;
e_=h$.Vrtc.v.val}if($.Ofst){var dH=$.Ofst.v;bW=dH.Hrzn.v.val;gx=dH.Vrtc.v.val}if($.Angl)gg=$.Angl.v.val;
var eg=new iJ;eg.concat(new iJ(cF,cF*Math.tan(e_*Math.PI/180),ei*Math.tan(cr*Math.PI/180),ei,0,0));eg.rotate(-gg*Math.PI/180);
eg.translate(bW,gx);var aB=r.D.Mz(eg);if($.Usng){var dH=$.Usng.v;aB[6]=dH.Hrzn.v.val/100;aB[7]=dH.Vrtc.v.val/100}var aV=$.FTcs.v.QCSt;
if(aV=="Qcsi"){var ie=$.Pstn.v;gB=new eX(ie.Hrzn.v.val,ie.Vrtc.v.val)}else jy=O.Y.am2[aV];var u=$.null;
if(u&&u.v instanceof Array)u=u.v[0];var C=u?ga.CA(n,u):null;if(C==-1)C=null;k.f=u&&u.v.keyID=="fsel"?O.Uj:O.d9;
k.data={d:"dtr",TL:jy,b:aB,pG:$.warp,ag6:gB}}else if(L=="duplicate"){if(Z=="Chnl")k.data={d:t.Bl,k1:"fromAction",b:x};
else if(Z=="Dcmn"){var cT=jW.w0("PSD").Rd(n);jh.s5({url:n.name},cT,F);return}else if(Z=="Actn"){var a_=W.qS,gs=u[1].v.val,gq=null;
for(var w=0;w<a_.length;w++)if(a_[w].Sa==gs)gq=a_[w];var kr=ga.Ni(a_,u[0].v.val,gs);kr=JSON.parse(JSON.stringify(kr));
kr.Sa+=" copy";gq.$f.push(kr);return}else k.data={d:t.Fu,au:$.Nm?$.Nm.v:null}}else if(L=="delete"){if(Z=="filterFX"){if(u[0].v.val!=null)k.data={d:t.kx,Zj:u[0].v.val-1};
else k.data={d:t.Os}}else if(Z=="Path"){k.f=O.iM;k.data={d:"pathedit",k1:"del"}}else if(Z=="Lyr")k.data={d:t.AL};
else if(Z=="Chnl"&&u[0].v.enum=="Msk")k.data={d:t.LO};else if(Z=="Chnl")k.data={d:t.Bl,k1:"fromAction",b:x};
else if(Z=="Cmnd"){var a_=W.qS,gs=u[2].v.val,kr=ga.Ni(a_,u[1].v.val,gs);kr.$f.splice(u[0].v.val-1,1);
return}else if(Z=="Actn"){var a_=W.qS,gs=u[1].v.val,gq=null;for(var w=0;w<a_.length;w++)if(a_[w].Sa==gs)gq=a_[w];
var kr=ga.Ni(a_,u[0].v.val,gs);gq.$f.splice(gq.$f.indexOf(kr),1);return}else throw Z}else if(L=="align"){if($.Aply&&$.Aply.v.projection=="Auto"){k.f=O.yA;
k.data={d:"auto-align"}}else{k.f=O.iY;var iN=$.Usng.v.ADSt,R={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[iN];
if(R==null)throw iN;k.data={d:"algn",b:R}}}else if(L=="applyLocking"){var jH=$.layerLocking.v,h2;if(jH.protectTransparency)h2=[[jH.protectTransparency.v],[0]];
else if(jH.protectNone)h2=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(jH);throw"e"}k.data={d:t.ku,k9:h2}}if(k.data)F.T(k);
else if(V.data)F.T(V);else{console.log(x);alert("Unknown action \""+L+"\"");throw"e"}};ga.axK=function(x,F,W,n){W=JSON.parse(JSON.stringify(W));
dv.KL(W);if(W.masterFXSwitch==null)W.masterFXSwitch={t:"bool",v:!0};console.log(W);var L=eC.UM;for(var $=0;
$<L.length;$++)if(W[L[$]]){for(var w=0;w<W[L[$]].v.length;w++){var l=W[L[$]].v[w].v,k=l.TrnS;if(k==null)k=l.MpgS;
if(k&&k.v.Crv==null){var V=k.v,i=V.Nm.v.split("=").pop(),f=n.JP;for(var X=0;X<f.length;X++){var s=f[X].Nm.v.split("=").pop();
if(s==i)V.Crv=JSON.parse(JSON.stringify(f[X].Crv))}if(k.v.Crv==null){console.log(k);throw"e"}}}}var R=new gT(S.E.v,!0);
R.f=O.pj;R.data={d:"setstl",a:F,b:{Lefx:{t:"objc",v:W}}};x.T(R);R.data={d:"confirm",a:F};x.T(R)};ga.wI=function(x){var F={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[x.Clr.v.Clr];
if(F==null)throw x.Clr.v.Clr;return F};ga.CA=function(x,F){var W=1e6,n=0,L=x.B.length;for(var w=0;w<x.g.length;
w++){W=Math.min(W,x.g[w]);n=Math.max(n,x.g[w])}var $=F.t,l=-1;if($=="name"){var k=F.v.val,l=-1;for(var w=0;
w<L;w++)if(x.B[w].getName()==k){l=w;break}}else if($=="Enmr"){if(x.g.length!=0)l=x.g[0];if(F.v.enum=="Frwr")l=n+1;
if(F.v.enum=="Bckw")l=W-1;if(F.v.enum=="Back")l=0;if(F.v.enum=="Frnt")l=L-1;l=(l+L)%L}else if($=="prop"){if(F.v.keyID=="Bckg")l=0}else if($=="indx")l=F.v.val-1;
return l};var a3={};a3.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
a3.avN=["expA","clrL","selc"];a3.ds=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];a3.ak2=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
a3.O0=[[13,1,1],[13,1,4],[13,1,5]];a3.UO={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
a3.I5=function(){var x=JSON.parse(JSON.stringify(a3.UO));delete x.GrMp;x.GdMp="grdm";return x}();a3.Np={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
a3.keys={levl:[gp.Fr,gp.$_],curv:[gp.Fr,gp.ze],hue2:[gp.Fr,gp.w_],nvrt:[gp.Fr,gp.HF],blnc:[gp.Fr,gp.IO]};
a3.a3n=function(x){var F=ew.Iz("mixr");F.Mnch={t:"bool",v:x.Y9};function W(n,w){var L={classID:"ChMx"},$={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in $)L[l]={t:"UntF",v:{type:"#Prc",val:n[w+$[l]]}};return{t:"Objc",v:L}}if(x.Y9)F.Gry=W(x.b,0);
else{F.Rd=W(x.b,0);F.Grn=W(x.b,5);F.Bl=W(x.b,10)}return F};a3.iq=function(x){function F(n,L,w){var $={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in $)if(n[l])L[w+$[l]]=n[l].v.val}var W={Y9:!1,b:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(x.Mnch&&x.Mnch.v)W.Y9=!0;if(W.Y9)F(x.Gry.v,W.b,0);else{F(x.Rd.v,W.b,0);F(x.Grn.v,W.b,5);F(x.Bl.v,W.b,10)}return W};
a3.get=function(x){for(var F in a3.names)if(x[F]!=null)return F;return null};a3.So=function(x,F){var W=a3.GS,n;
if(x=="brit"){var L=F.Brgh?F.Brgh.v:0,$=F.Cntr?F.Cntr.v:0,l=F.useLegacy?F.useLegacy.v:!1;if(l){var k=L/255,V=1+$/100;
if(V>1)V=1+Math.tan(Math.PI/2*$/101);var i=(1-V)/2,f=r.L5.TB(k,k,k),X=[V,0,0,i,0,V,0,i,0,0,V,i,0,0,0,1],s=r.L5.multiply(X,f),R=new r.Co(256);
for(var w=0;w<256;w++)R.o[w]=w;r.L5.transform(R,R,s);n={type:W.ns,nQ:R.o,Ya:R.o,kh:R.o,ER:!1,Fn:!1}}else{var h=1024,B=-30+60*($+100)/200,e=[];
for(var w=0;w<4;w++)e.push(r.z3.Xd(w/3*255,w/3*255,!0));e[1].v.Hrzn.v=64;e[1].v.Vrtc.v=64-B;e[2].v.Hrzn.v=128+64;
e[2].v.Vrtc.v=128+64+B;e.sort(function(id,kC){return id.v.Hrzn.v-kC.v.Hrzn.v});var U=r.z3.eN(e,h);function o(id,h){var e=[],dx=3;
for(var w=0;w<dx+1;w++)e.push(r.z3.Xd(w/dx*255,w/dx*255,!0));e[1].v.Hrzn.v=130-id*26;e[1].v.Vrtc.v=130+id*51;
e[2].v.Hrzn.v=233-id*48;e[2].v.Vrtc.v=233+id*10;return r.z3.eN(e,h)}var b=o(Math.abs(L)/100,h);if(L<0){var u=[],Z=1/h;
for(var w=0;w<h;w++){var I=w*Z,y=w;while(b[y]>I&&y>1)y--;u[w]=y*Z}b=u}var D=new Uint8Array(h);for(var w=0;
w<h;w++){var N=Math.round((h-1)*b[w]);D[w]=Math.round(255*U[N])}n={type:W.ns,nQ:D,Ya:D,kh:D,ER:!1,Fn:!1}}}if(x=="levl"){var j=[],H,Q,f,C,J,E;
for(var w=0;w<4;w++)j.push(ef.EJ(F,w));H=-j[0][0]/255;Q=1/(j[0][1]/255-j[0][0]/255);f=r.L5.multiply(r.L5.WT(Q,Q,Q),r.L5.TB(H,H,H));
C=r.L5.WT(1/(j[1][1]/255-j[1][0]/255),1/(j[2][1]/255-j[2][0]/255),1/(j[3][1]/255-j[3][0]/255));J=r.L5.TB(-j[1][0]/255,-j[2][0]/255,-j[3][0]/255);
E=r.L5.multiply(C,J);var D=new r.Co(256);for(var w=0;w<256;w++)D.o[w]=D.r[w]=D.z[w]=w;var T=1/(j[0][4]/100),c=1/(j[1][4]/100),a=1/(j[2][4]/100),K=1/(j[3][4]/100);
r.L5.transform(D,D,E);for(var w=0;w<256;w++){D.o[w]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.o[w]/255,c))));
D.r[w]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.r[w]/255,a))));D.z[w]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.z[w]/255,K))))}r.L5.transform(D,D,f);
for(var w=0;w<256;w++){D.o[w]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.o[w]/255,T))));D.r[w]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.r[w]/255,T))));
D.z[w]=Math.round(Math.max(0,Math.min(255,255*Math.pow(D.z[w]/255,T))))}H=j[0][2]/255;Q=j[0][3]/255-j[0][2]/255;
f=r.L5.multiply(r.L5.TB(H,H,H),r.L5.WT(Q,Q,Q));C=r.L5.WT(j[1][3]/255-j[1][2]/255,j[2][3]/255-j[2][2]/255,j[3][3]/255-j[3][2]/255);
J=r.L5.TB(j[1][2]/255,j[2][2]/255,j[3][2]/255);E=r.L5.multiply(J,C);r.L5.transform(D,D,r.L5.multiply(f,E));
n={type:W.ns,nQ:D.o,Ya:D.r,kh:D.z,ER:!1,Fn:!1}}if(x=="curv"){var Y=jL.EJ(F,0).length==256?1:0,p=[];if(Y==0){var P=r.z3.WK(jL.EJ(F,0),256);
for(var w=1;w<4;w++){var m=r.z3.WK(jL.EJ(F,w),256);p.push(r.z3.ayh(m,P))}}else{var z=[];for(var w=0;
w<4;w++){var M=new Uint8Array(256);z.push(M);var d=jL.EJ(F,w);for(var y=0;y<256;y++)M[y]=d[y]}for(var w=1;
w<4;w++)p.push(r.z3.ayh(z[w],z[0]))}n={type:W.ns,nQ:p[0],Ya:p[1],kh:p[2],ER:!1,Fn:!1}}if(x=="expA"){var A=F.Exps,G=F.Ofst,kB=F.gammaCorrection,q=A?A.v:0,fO=G?G.v:0,g=kB?kB.v:1,D=new Uint8Array(256);
for(var w=0;w<256;w++){var F=w/255,jN=Math.pow(Math.abs(fO),1/(Math.PI/2));if(fO>0){F=Math.max(fO/Math.E,F);
F=F*Math.exp(fO/1.75+q/Math.PI);F=(1-jN)*F+jN*1}else{F=F*Math.exp(-fO*1.75+q/Math.PI);F=F+-jN*1.14}F=Math.pow(F,1/g);
F=Math.max(0,Math.min(1,F));D[w]=Math.round(F*255)}n={type:W.ns,nQ:D,Ya:D,kh:D,ER:!1,Fn:!1}}if(x=="vibA"){var c6=(F.vibrance?F.vibrance.v:0)/100,a7=(F.Strt?F.Strt.v:0)/100,jN=1+c6*(c6>0?.25:.5),bd=.8+.2/jN;
n={type:W.b5,jL:[c6,a7,bd,jN]}}if(x=="hue2"){var ey=[],c5=[],bx=[],ap=F.Clrz?F.Clrz.v:!1;for(var w=0;
w<256;w++){ey[w]=w/255;c5[w]=0;bx[w]=0}var fC=im.EJ(F,0),kE=a3.R2(fC[1]/100);if(ap){var bm=fC[0]/360;
for(var w=0;w<256;w++){ey[w]=bm;c5[w]=kE}}else{for(var w=0;w<256;w++){var fe=ey[w],g8=c5[w];ey[w]+=fC[0]/360;
for(var y=0;y<6;y++){var e0=im.EJ(F,y+1),cF=e0.xB,ei=e0.Bo,jN=0;for(var cr=1;cr<4;cr++)if(ei[cr]<ei[0])ei[cr]+=360;
var e_=ei[0],gg=ei[1],bW=ei[2],gx=ei[3],h$=fe*360;if(h$<ei[0])h$+=360;var dH=(h$-e_)/(gg-e_),eg=(h$-bW)/(gx-bW);
if(dH<0)jN=0;else if(dH<1)jN=dH;else if(eg<0)jN=1;else if(eg<1)jN=1-eg;else jN=0;var V=a3.R2(cF[1]/100);
ey[w]+=jN*cF[0]/360;c5[w]+=jN*V;bx[w]+=jN*cF[2]/100}}for(var w=0;w<256;w++){c5[w]=(1+c5[w])*(1+kE)-1;
bx[w]=Math.max(-1,Math.min(1,bx[w]))}}var aB=new Uint8Array(256),gB=new Uint8Array(256),jy=new Uint8Array(256);
for(var w=0;w<256;w++){var aV=ey[w],a7=c5[w],ie=bx[w];if(aV>1)aV--;if(aV<0)aV++;a7=a3.a3J(a7);a7=(1+a7)*.5;
ie=(1+ie)*.5;aB[w]=Math.round(255*aV);gB[w]=Math.round(255*a7);jy[w]=Math.round(255*ie)}var cT=fC[2]/100,a_=cT<0?-cT:cT,gs=cT<0?0:1;
n={type:W.xy,agN:aB,u$:gB,ahS:jy,akp:a_*gs,Nw:1-a_,al4:fC[2]/100,aA4:ap?1:0}}if(x=="nvrt"){var D=new Uint8Array(256);
for(var w=0;w<256;w++)D[w]=255-w;n={type:W.ns,nQ:D,Ya:D,kh:D,ER:!1,Fn:!1}}if(x=="post"){var gq=F.Lvls.v,D=new Uint8Array(256),jN=gq/255.001,kr=255/(gq-1);
for(var w=0;w<256;w++)D[w]=Math.floor(w*jN)*kr;n={type:W.ns,nQ:D,Ya:D,kh:D,ER:!1,Fn:!1}}if(x=="grdm"){var iN=F.Grad.v,jH=F.Rvrs,h=1024,h2;
if(iN.Clrs){var an=r.I.hM(iN,0,0);h2=r.I.a25(iN,an,h,jH?jH.v:!1)}else{h2=r.I.atp(iN,h,jH?jH.v:!1)}var bt=r.R(h),kH=r.R(h),js=r.R(h);
r.Tb(h2,bt,0);r.Tb(h2,kH,1);r.Tb(h2,js,2);n={type:W.ns,nQ:bt,Ya:kH,kh:js,ER:!0,Fn:!1}}if(x=="selc"){var gA=new Float32Array(9*3*2),jR=F.ML,c3=F.Mthd?F.Mthd.v.CrcM=="Absl":!1;
for(var y=0;y<9;y++){var iU=y*6,hn=cG.EJ(F,y),db=hn[0]/100,dy=hn[1]/100,c2=hn[2]/100,bk=hn[3]/100;if(c3){gA[iU]=gA[iU+1]=gA[iU+2]=1;
gA[iU+3]=db*(1+bk)+bk;gA[iU+4]=dy*(1+bk)+bk;gA[iU+5]=c2*(1+bk)+bk}else{gA[iU+0]=(1+db)*(1+bk);gA[iU+1]=(1+dy)*(1+bk);
gA[iU+2]=(1+c2)*(1+bk)}}n={type:W.K6,aBT:gA}}if(x=="blwh"){var cx="Rd Yllw Grn Cyn Bl Mgnt".split(" "),n=[],ix=0,bF=0;
for(var w=0;w<6;w++)n.push(F[cx[w]].v);n.push(F.useTint.v,F.tintColor.v);var ft=[];for(var w=0;w<6;w++)ft.push((n[w]-50)/50);
var eZ=r.I.z$(n[7]);eZ.o/=255;eZ.r/=255;eZ.z/=255;var hf=r.uO(eZ.o,eZ.r,eZ.z),ie=r.fz(r.Eh(hf.eD,1,.5)),jr=hf.TR*hf._M;
if(ie==.5)ix=bF=.5;else{ix=jr*(.5-ie)/(.5/ie-1);bF=1-jr*(.5-ie)-1/(2*(1-ie));bF/=1-1/(2*(1-ie))}n={type:W.S7,azK:ft,n1:n[6]?1:0,afV:hf.eD,fz:ie,a4p:jr,$z:ix,a4_:bF}}if(x=="blnc"){var j=[],fA=["ShdL","MdtL","HghL"];
for(var w=0;w<3;w++){if(F[fA[w]]==null){j[w]=[0,0,0];continue}var gq=F[fA[w]].v,ax=gq[0].v/100,jA=gq[1].v/100,g1=gq[2].v/100,iA=F.PrsL==null||F.PrsL.v?(Math.min(ax,jA,g1)+Math.max(ax,jA,g1))/2:0;
j[w]=[ax-iA,jA-iA,g1-iA]}var p=[r.R(256),r.R(256),r.R(256)];for(var y=0;y<3;y++)for(var w=0;w<256;w++){var I=w*(1/255),iQ=0,B=0,fB=0;
B=j[2][y];fB=Math.abs(B);if(B<0)iQ=Math.pow(I,Math.SQRT2);else iQ=1.63*(Math.pow(I+.04,.5)-.2);I=fB*iQ+(1-fB)*I;
B=j[1][y];fB=Math.abs(B);if(B<0)iQ=Math.pow(I,2);else iQ=Math.min(2.35*(Math.pow(I+.09,.5)-.3),Math.pow(I,1/2));
I=fB*iQ+(1-fB)*I;B=j[0][y];fB=Math.abs(B);if(B<0)iQ=I<.4?0:Math.pow((I-.4)/.6,Math.SQRT2);else iQ=Math.pow(I,Math.SQRT2/2);
I=fB*iQ+(1-fB)*I;I=Math.max(0,Math.min(1,I));p[y][w]=Math.round(I*255)}n={type:W.ns,nQ:p[0],Ya:p[1],kh:p[2],ER:!1,Fn:!1}}if(x=="phfl"){var dn=r.I.z$(F.Clr.v),jp=[dn.o/255,dn.r/255,dn.z/255],fP=F.Dnst.v/100,p=[r.R(256),r.R(256),r.R(256)];
for(var y=0;y<3;y++)for(var w=0;w<256;w++){var I=w*(1/255),k7=I*jp[y];k7=Math.max(0,Math.min(1,k7));
I=fP*k7+(1-fP)*I;p[y][w]=Math.round(I*255)}n={type:W.ns,nQ:p[0],Ya:p[1],kh:p[2],ER:!1,Fn:F.PrsL.v}}if(x=="thrs"){var D=r.R(256);
for(var w=F.Lvl.v;w<256;w++)D[w]=255;n={type:W.ns,nQ:D,Ya:D,kh:D,ER:!0,Fn:!1}}if(x=="mixr"){var hs=a3.iq(F),s=[];
for(var w=0;w<hs.b.length;w++)if(w%5!=3)s.push(hs.b[w]/100);if(hs.Y9){for(var kb=1;kb<3;kb++)for(var I=0;
I<4;I++)s[kb*4+I]=s[I]}n={type:W.Vm,Rg:s}}if(x=="rplc"){var iy=F.Mnm.v,gU=F.Mxm.v;n={type:W.x5,jw:[iy.Lmnc.v,iy.A.v,iy.B.v],IH:[gU.Lmnc.v,gU.A.v,gU.B.v],shift:[F.H.v/360,F.Strt.v/100,F.Lght.v/100],Iq:F.Fzns.v/150}}if(x=="clrL"&&F.profile){var jV=new Uint8Array(F.profile.v),jf=ICC.R(jV.buffer),gw=[],bU=17,gw=ICC.U.sampleLUT(jf,bU);
n={type:W.UT,LK:ICC.U.lutToRGBA8(gw,bU),agJ:gw,JQ:bU}}return n};a3.N8=function(x,F){var W=-1;if(x!="levl"||F==null)W=-1;
else if(F.Auto)W=0;else if(F.AuCo)W=1;else if(F.autoBlackWhite)W=2;return W};a3.GS={ns:0,xy:1,b5:2,K6:3,S7:4,Vm:5,x5:6,UT:7};
a3.R2=function(x){if(x<0)return x;return Math.pow(Math.tan(Math.PI/2*x),1.3)};a3.a3J=function(x){if(x<0)return x;
x=Math.pow(x,1/1.3);return Math.atan2(x,1)/(Math.PI/2)};a3.Pl=function(x,F,W,n){var L=a3.GS,$=Date.now();
if(hl.Cp&&n.P()>300*300&&x.type!=L.ns&&x.type!=L.UT){n=n.clone();n.x=n.y=0;var l=hl.VH(0,n.m,n.e);l.set(F);
hl.uR(l,n);l.s2(n);a3.Yq(x,l.r4,n);l.get(W);return}if(x.type==L.UT){var k=x.agJ,V=x.JQ;ICC.U.applyLUT(k,V,F,W);
var i=F.length;for(var w=0;w<i;w+=4)W[w+3]=F[w+3]}if(x.type==L.Vm)r.L5.a7T(F,W,x.Rg);if(x.type==L.S7){var f=x.a4p,X=x.fz,s=x.$z,R=x.a4_,i=F.length;
for(var w=0;w<i;w+=4){var n=F[w]*(1/255),h=F[w+1]*(1/255),B=F[w+2]*(1/255),e=r.Cl(n,h,B),U=0;for(var o=0;
o<6;o++)U+=Math.min(1,1.7*(1-e.XY))*e.TR*x.azK[o]*a3.azz(e.eD,o*(1/6));var b=Math.max(0,Math.min(1,e.XY*(1+U)));
if(x.n1==1){var u=0;if(b<s)u=b*(.5/X);else if(b<R)u=b+f*(.5-X);else u=1-(1-b)*.5/(1-X);e.eD=x.afV;e.TR=Math.min(1,f+3*f*Math.abs(b-.5*(s+R)));
e.XY=u}else{e.eD=0;e.TR=0;e.XY=b}var Z=r.Eh(e.eD,e.TR,e.XY);W[w]=Math.round(Z.o*255);W[w+1]=Math.round(Z.r*255);
W[w+2]=Math.round(Z.z*255)}}if(x.type==L.K6){var I=x.aBT,i=F.length,y=1/255;for(var w=0;w<i;w+=4){var n=F[w]*y,h=F[w+1]*y,B=F[w+2]*y,e=r.Cl(n,h,B),D=Math.max(n,Math.max(h,B)),N=Math.min(n,Math.min(h,B)),j=1-n,H=1-h,Q=1-B,C=0,J=0,E=0;
for(var o=0;o<9;o++){var T=o*6,Y=0;if(I[T]==1&&I[T+1]==1&&I[T+2]==1&&I[T+3]==0&&I[T+4]==0&&I[T+5]==0)continue;
var c=j*I[T]+I[T+3],a=H*I[T+1]+I[T+4],K=Q*I[T+2]+I[T+5];if(o<6)Y=a3.azz(e.eD,o*(1/6))*e.TR*2*Math.min(e.XY,1-e.XY);
else if(o==6)Y=Math.max(0,N-.5)*2;else if(o==7)Y=1-(Math.abs(D-.5)+Math.abs(N-.5));else Y=Math.max(0,.5-D)*2;
C+=(Math.max(0,Math.min(1,c))-j)*Y;J+=(Math.max(0,Math.min(1,a))-H)*Y;E+=(Math.max(0,Math.min(1,K))-Q)*Y}j=Math.max(0,Math.min(1,j+C));
H=Math.max(0,Math.min(1,H+J));Q=Math.max(0,Math.min(1,Q+E));n=1-j;h=1-H;B=1-Q;W[w]=Math.round(n*255);
W[w+1]=Math.round(h*255);W[w+2]=Math.round(B*255)}}if(x.type==L.ns){r.arF(F,W,x.nQ,x.Ya,x.kh,x.ER,x.Fn)}if(x.type==L.xy){var p=new Uint32Array(F.buffer),P=new Uint32Array(W.buffer),i=p.length;
if(a3.r7==null){a3.r7=new Float64Array(256);for(var w=0;w<256;w++)a3.r7[w]=a3.R2(-1+2*w/255)}var m=a3.r7;
for(var w=0;w<i;w++){var z=p[w],n=(z&255)*(1/255),h=(z>>>8&255)*(1/255),B=(z>>>16&255)*(1/255),M=z>>>24,d=Math.min(n,h,B),A=Math.max(n,h,B),G=0,kB=0,q=0;
G=r.Cl(n,h,B).eD;var fO=~~(G*255+.5),g=x.agN[fO]*(1/255),jN=x.u$[fO]*(1/255)*2-1,c6=x.ahS[fO]*(1/255)*2-1,U=-c6,a7=d;
if(0<c6){U=c6;a7=A}var bd=x.akp+x.Nw*U*a7,ey=x.Nw*(1-U);n=bd+ey*n;h=bd+ey*h;B=bd+ey*B;A=Math.max(n,h,B);
d=Math.min(n,h,B);q=(A+d)*.5;if(A!=d){var c5=A-d;kB=q>.5?c5/(2-(A+d)):c5/(A+d)}var bx=jN;if(x.aA4==0){jN=m[Math.floor((1+jN)*127.5)];
bx=Math.min(kB*(1+jN),1)}var Z=r.Eh(g,bx,q);n=Z.o;h=Z.r;B=Z.z;P[w]=M<<24|B*255<<16|h*255<<8|n*255}}if(x.type==L.x5){r.Bj(F,W);
var p=new Uint32Array(F.buffer),P=new Uint32Array(W.buffer),i=p.length,ap=x.Iq,fC=1/ap,kE={$_:x.jw[0],V:x.jw[1],z:x.jw[2]},bm={$_:x.IH[0],V:x.IH[1],z:x.IH[2]};
for(var w=0;w<i;w++){var z=p[w],fe=z&255,g8=z>>>8&255,e0=z>>>16&255,n=fe*(1/255),h=g8*(1/255),B=e0*(1/255),M=z>>>24,cF=r.YX(fe,g8,e0),ei=r.a2U(cF,kE,bm,ap,fC);
if(ei==0)continue;var e=r.Cl(n,h,B),g=2+e.eD+x.shift[0];e.eD=g-~~g;e.TR=Math.max(0,Math.min(1,e.TR+x.shift[1]));
e.XY=Math.max(0,Math.min(1,e.XY+x.shift[2]));var Z=r.Eh(e.eD,e.TR,e.XY);n=(1-ei)*n+ei*Z.o;h=(1-ei)*h+ei*Z.r;
B=(1-ei)*B+ei*Z.z;P[w]=M<<24|B*255<<16|h*255<<8|n*255}}if(x.type==L.b5){var p=new Uint32Array(F.buffer),P=new Uint32Array(W.buffer),i=p.length,cr=x.jL[0],e_=x.jL[1],gg=x.jL[2],U=x.jL[3],bW=r.L5.Qn([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),gx=r.L5.sx(bW),h$=2.4;
function V(jy){return Math.max(0,Math.min(1,jy))}function dH(jy){return Math.pow(jy,h$)}function eg(jy){return Math.pow(jy,1/h$)}function aB(n,h,B,jy){n=dH(n);
h=dH(h);B=dH(B);var aV=r.L5.se(bW,[n,h,B,1]);aV[0]*=gg;aV[1]*=U;aV[2]*=U;var Z=r.L5.se(gx,aV);Z[0]=eg(V(Z[0]));
Z[1]=eg(V(Z[1]));Z[2]=eg(V(Z[2]));return Z}for(var w=0;w<i;w++){var z=p[w],n=(z&255)*(1/255),h=(z>>>8&255)*(1/255),B=(z>>>16&255)*(1/255),M=z>>>24,Z=aB(n,h,B,cr);
n=Z[0];h=Z[1];B=Z[2];var gB=r.Cl(n,h,B);gB.TR=Math.max(0,Math.min(1,gB.TR*(1+e_)));Z=r.Eh(gB.eD,gB.TR,gB.XY);
n=Z.o;h=Z.r;B=Z.z;P[w]=M<<24|B*255<<16|h*255<<8|n*255}}};a3.Yq=function(x,F,W){hl.sv.Yq(x,F)};a3.azz=function(x,F){var W=r.pN(F,x)*6;
return Math.max(0,Math.min(1,W<0?1+W:1-W))};var ew={};ew.Vd=function(x){var F=x.filterID.v;return F>16777215?_.aCT(F):x.Fltr.v.classID};
ew.nz=[{oa:"GEfc"},{oa:"LnCr"},{oa:"Adobe Camera Raw Filter"},{oa:"LqFy"},{oa:"VaPo",sz:!0},{v6:"3D",bK:["lightFilterGradient","Dila"]},{v6:[24,2],bK:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{v6:[24,4],bK:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{v6:[24,6],bK:["AdNs","Dspc","DstS","Mdn ","denoise"]},{v6:[24,8],bK:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{v6:[24,10],bK:["Flam","Clds","DfrC","Fbrs","LnsF"]},{v6:[24,12],bK:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{v6:[24,14],bK:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{v6:[24,16],bK:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{v6:"Fourier",bK:["dDFT","iDFT"]}];
ew.Np={LqFy:"LqFy",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
ew.hE={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
ew.s={rigidTransform:O.B8};ew.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
ew.Iz=function(x){var F=null;if(x=="GEfc")F={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:kx.Iz("GlwE")}]}};
if(x=="LqFy"){var W={Xv:5,eD:5,map:new Float32Array(5*5*2)},n=new Uint8Array(kv.pm(W)),L=[];for(var w=0;
w<n.length;w++)L.push(n[w]);F={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:L}}}if(x=="rigidTransform"){F={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(x=="LnCr")F={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(x=="adaptCorrect")F={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(x=="Dfs ")F={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(x=="Fbrs")F={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(x=="Embs")F={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(x=="oilPaint")F={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(x=="TrcC")F={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(x=="Wnd ")F={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(x=="lightFilterGradient")F={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(x=="boxblur")F={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(x=="GsnB")F={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(x=="Bokh")F={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(x=="MtnB")F={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(x=="RdlB")F={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(x=="surfaceBlur")F={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(x=="denoise")F={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(x=="Dspl")F={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(x=="Pnch")F={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(x=="Plr ")F={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(x=="Rple")F={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(x=="Shr ")F={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(x=="Sphr")F={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(x=="Twrl")F={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(x=="Wave")F={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(x=="ZgZg")F={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(x=="AdNs")F={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(x=="DstS")F={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(x=="Mdn ")F={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(x=="ClrH")F={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(x=="Crst")F={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(x=="Mztn")F={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(x=="Msc ")F={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(x=="Pntl")F={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(x=="LnsF")F={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(x=="Dthr")F={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(x=="Part")F={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(x=="Adobe Camera Raw Filter")F={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(x=="smartSharpen")F={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(x=="UnsM")F={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(x=="HghP")F={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(x=="HsbP")F={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(x=="Mxm ")F={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(x=="Mnm ")F={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(x=="Ofst")F={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(x=="Kale")F={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(x=="Rept")F={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(x=="Flam")F={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(x=="Ctoa")F={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(x=="brit")F={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(x=="levl")F={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(x=="curv")F={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(x=="expA")F={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(x=="vibA")F={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(x=="hue2")F={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(x=="blnc")F={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(x=="blwh")F={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(x=="phfl")F={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(x=="grdm")F={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(eC.bc[6]).Grad};
if(x=="selc")F={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(x=="thrs")F={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(x=="mixr")F={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(x=="clrL")F={__name:"Color Lookup",classID:"colorLookup"};if(x=="post")F={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(x=="rplc")F={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(x=="fade")F={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(x=="aply")F={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(x=="matc"){F={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(x=="Dila")F={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(x=="blendOptions")F={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return F};ew.ro={sFlam:function(x,F){F[0]=x.Type.v;F[1]=x.Leng.v;F[2]=x.RndL.v;F[3]=x.Widt.v;F[4]=x.Angl.v;
F[5]=x.Intr.v;F[6]=x.Adpt.v;F[7]=x.Clr.v;F[8]=x.Qual.v;F[9]=x.Turb.v;F[10]=x.Jag.v;F[11]=x.Opct.v.val;
F[12]=x.Lins.v;F[13]=x.Botm.v;F[14]=x.Styl.v;F[15]=x.Shap.v;F[16]=x.RnSh.v;F[17]=x.Arng.v},gFlam:function(x,F){x.Type.v=F[0];
x.Leng.v=F[1];x.RndL.v=F[2];x.Widt.v=F[3];x.Angl.v=F[4];x.Intr.v=F[5];x.Adpt.v=F[6];x.Clr.v=F[7];x.Qual.v=F[8];
x.Turb.v=F[9];x.Jag.v=F[10];x.Opct.v.val=F[11];x.Lins.v=F[12];x.Botm.v=F[13];x.Styl.v=F[14];x.Shap.v=F[15];
x.RnSh.v=F[16];x.Arng.v=F[17]},sAdNs:function(x,F){F[0]=x.Nose.v.val;F[1]=["Gsn","Unfr"].indexOf(x.Dstr.v.Dstr);
F[2]=x.Mnch.v},gAdNs:function(x,F){x.Nose.v.val=F[0];x.Dstr.v.Dstr=["Gsn","Unfr"][F[1]];x.Mnch.v=F[2]},sDstS:function(x,F){F[0]=x.Rds.v;
F[1]=x.Thsh.v},gDstS:function(x,F){x.Rds.v=F[0];x.Thsh.v=F[1]},sGsnB:function(x,F){F[0]=x.Rds.v.val},gGsnB:function(x,F){x.Rds.v.val=F[0]},sDila:function(x,F){F[0]=x.Crop.v.val;
F[1]=x.Rds.v.val},gDila:function(x,F){x.Crop.v.val=F[0];x.Rds.v.val=F[1]},sHghP:function(x,F){F[0]=x.Rds.v.val},gHghP:function(x,F){x.Rds.v.val=F[0]},sHsbP:function(x,F){var W=["RGBC","HSBl","HSLC"];
F[0]=W.indexOf(x.Inpt.v.ClrS);F[1]=W.indexOf(x.Otpt.v.ClrS)},gHsbP:function(x,F){var W=["RGBC","HSBl","HSLC"];
x.Inpt.v.ClrS=W[F[0]];x.Otpt.v.ClrS=W[F[1]]},"sMxm ":function(x,F){var W="preserveShape";F[0]=x.Rds.v.val;
F[1]=x[W]?["squareness","Rndn"].indexOf(x[W].v[W]):0},"gMxm ":function(x,F){var W="preserveShape";x.Rds.v.val=F[0];
x[W]={t:"enum",v:{preserveShape:["squareness","Rndn"][F[1]]}}},"sMnm ":function(x,F){var W="preserveShape";
F[0]=x.Rds.v.val;F[1]=x[W]?["squareness","Rndn"].indexOf(x[W].v[W]):0},"gMnm ":function(x,F){var W="preserveShape";
x.Rds.v.val=F[0];x[W]={t:"enum",v:{preserveShape:["squareness","Rndn"][F[1]]}}},sMtnB:function(x,F){F[0]=[x.Angl.v];
F[1]=x.Dstn.v.val;console.log(F)},gMtnB:function(x,F){x.Angl.v=typeof F[0]=="number"?F[0]:F[0][0];x.Dstn.v.val=F[1]},sOfst:function(x,F){F[0]=x.Hrzn.v;
F[1]=x.Vrtc.v;F[2]=["Rpt","Bckg","Wrp"].indexOf(x.Fl.v.FlMd)},gOfst:function(x,F){x.Hrzn.v=F[0];x.Vrtc.v=F[1];
x.Fl.v.FlMd=["Rpt","Bckg","Wrp"][F[2]]},sPnch:function(x,F){F[0]=x.Amnt.v},gPnch:function(x,F){x.Amnt.v=F[0]},"sPlr ":function(x,F){F[0]=["RctP","PlrR"].indexOf(x.Cnvr.v.Cnvr)},"gPlr ":function(x,F){x.Cnvr.v.Cnvr=["RctP","PlrR"][F[0]]},sRple:function(x,F){F[0]=x.Amnt.v;
F[1]=["Sml","Mdm","Lrg"].indexOf(x.RplS.v.RplS)},gRple:function(x,F){x.Amnt.v=F[0];x.RplS.v.RplS=["Sml","Mdm","Lrg"][F[1]]},sTwrl:function(x,F){F[0]=x.Angl.v},gTwrl:function(x,F){x.Angl.v=F[0]},sZgZg:function(x,F){F[0]=x.Amnt.v;
F[1]=x.NmbR.v;F[2]=["ArnC","OtFr","PndR"].indexOf(x.ZZTy.v.ZZTy)},gZgZg:function(x,F){x.Amnt.v=F[0];
x.NmbR.v=F[1];x.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][F[2]]},sUnsM:function(x,F){F[0]=x.Amnt.v.val;F[1]=x.Rds.v.val;
F[2]=x.Thsh.v},gUnsM:function(x,F){x.Amnt.v.val=F[0];x.Rds.v.val=F[1];x.Thsh.v=F[2]},sWave:function(x,F){F[0]=x.NmbG.v;
F[1]=x.WLMn.v;F[2]=x.WLMx.v;F[3]=x.AmMn.v;F[4]=x.AmMx.v;F[5]=x.SclH.v;F[6]=x.SclV.v;F[7]=["WvSn","WvTr","WvSq"].indexOf(x.Wvtp.v.Wvtp);
F[8]=["WrpA","RptE"].indexOf(x.UndA.v.UndA);F[9]=x.RndS.v},gWave:function(x,F){x.NmbG.v=F[0];x.WLMn.v=F[1];
x.WLMx.v=F[2];x.AmMn.v=F[3];x.AmMx.v=F[4];x.SclH.v=F[5];x.SclV.v=F[6];x.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][F[7]];
x.UndA.v.UndA=["WrpA","RptE"][F[8]];if(F[9]!=null){var W=parseInt(F[9]);if(isNaN(W))W=248325464;W=Math.max(0,Math.min(268435455,W));
x.RndS.v=W}},sDspl:function(x,F){F[0]=x.HrzS.v;F[1]=x.VrtS.v;F[2]=0;F[3]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)},gDspl:function(x,F){x.HrzS.v=F[0];
x.VrtS.v=F[1];x.UndA.v.UndA=["WrpA","RptE"][F[3]];x.DspF.v.pth=F[4]},sbrit:function(x,F){F[0]=x.Brgh?x.Brgh.v:0;
F[1]=x.Cntr?x.Cntr.v:0;F[2]=x.useLegacy?x.useLegacy.v:!1},gbrit:function(x,F){x.Brgh.v=F[0];x.Cntr.v=F[1];
if(F[2]!=null)x.useLegacy.v=F[2]}};ew.amk=function(x){var F=new eX(0,0);if(x.enab.v==!1)return F;var W=x.filterFXList.v;
for(var w=0;w<W.length;w++){var n=W[w].v;if(n.enab.v==!1)continue;var L=ew.Vd(n),$=ew.lc(L,n.Fltr?n.Fltr.v:null);
if($.x>F.x)F.x=$.x;if($.y>F.y)F.y=$.y}return F};ew.lc=function(x,F){var W=0,n=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(x)!=-1){var L=F.Rds?F.Rds.v.val:1;
W=n=L*2.57}if(x=="MtnB")W=n=F.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(x)!=-1){W=n=1e4}if(x=="GEfc")return kx.lc(F);
return new eX(Math.ceil(W),Math.ceil(n))};ew.yp=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
ew.Il=function(x,F){var W={o:F.A_>>16,r:F.A_>>8&255,z:F.A_&255},n={o:F.G8>>16,r:F.G8>>8&255,z:F.G8&255},L=ew.names[x];
if(L==null)L=a3.names[x];var $=x;for(var l in a3.UO)if(a3.UO[l]==x)$=l;var k={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:hz.get(L)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:r.I.GB(W)},BckC:{t:"Objc",v:r.I.GB(n)},filterID:{t:"long",v:$.length==4?_.alZ($):777}}},V=ew.Iz(x);
if(V)k.v.Fltr={t:"Objc",v:V};return k};ew.KT=function(x,F,W,n){var L=Date.now(),$=hl.Cp&&Math.max(n.m,n.e)<=hl.yG.getParameter(hl.yG.MAX_TEXTURE_SIZE);
if(x<1){var l=Math.round(x*5),k=[1,2,1,2,[40,26,13,6,4,2][l],2,1,2,1];k=r.Ro.vt(k);if(!$){r.M1(W);var V=W.slice(0);
r.Ro.sA(V,W,n.m,n.e,k,255);r._E(W)}else{var i=n.m,f=n.e,X=hl.VH(0,i,f);X.set(W);var s=hl.VH(1,i,f),R=new Float32Array([1/i,1/f]);
hl.uR(s);hl.filter.Yq({type:hl.filter.anJ,FT:R,arJ:new Float32Array(k)},X.Yn);s.get(W)}}else{var h=F==r.wG.X_?0:F==r.wG.av7?1:2,B=[];
while(h!=2&&x*[1,2.4][h]>20&&B.length<4){var e=r.gR(W,n);B.push(W,n);W=e.Xu;n=e.rect;x/=2}var i=n.m,f=n.e;
if(!$||h==2&&x>15){r.M1(W);F(W,n,x);r._E(W)}else{var X=hl.VH(0,i,f);X.set(W);var s=hl.VH(1,i,f),R=new Float32Array([1/i,1/f]);
if(h==0){var U=1;while(U<x)U<<=1;hl.uR(s);hl.filter.Yq({type:hl.filter.Jk,FT:R,mM:x,qm:[0,0,U]},X.Yn);
hl.uR(X);hl.filter.Yq({type:hl.filter.Jk,FT:R,mM:x,qm:[0,1,U]},s.Yn);X.get(W)}else if(h==1){var o=3,b=r.wG.mo(x,o);
for(var w=0;w<o;w++){var u=b[w]>>>1,Z=1;while(Z<u)Z<<=1;if(u==0)continue;hl.uR(s);hl.filter.Yq({type:hl.filter.Jk,FT:R,mM:u,qm:[0,0,Z]},X.Yn);
hl.uR(X);hl.filter.Yq({type:hl.filter.Jk,FT:R,mM:u,qm:[0,1,Z]},s.Yn)}X.get(W)}else{var U=1;while(U<x)U<<=1;
hl.uR(s);hl.filter.Yq({type:hl.filter.Jk,FT:R,mM:x,qm:[0,0,U]},X.Yn);s.get(W)}}var I=Date.now();while(B.length!=0){var y=B.pop(),D=B.pop();
r.scale.a8P(W,n.m,n.e,D,y.m,y.e);W=D;n=y}}};ew.amj=function(x,F,W,n){for(var w=0;w<x.length;w++){W[w]=x[w]*(1/255);
n[w]=0}FFT.fft2d(W,n);var L=F>>>1,$=16384,l=128,V=100;while(l<F){l<<=1;$<<=2}var k=255/Math.log($),i=-100;
for(var f=0;f<F;f++)for(var X=0;X<L;X++){var s=F+L+f&F-1,R=W[s*F+X],h=n[s*F+X],B=Math.sqrt(R*R+h*h),e=Math.atan2(h,R);
x[f*F+X]=Math.round(k*Math.log(B+1));x[f*F+L+X]=Math.round((Math.PI+e)*(255*.5/Math.PI))}};ew.azL=function(x,F,W,n){W.fill(0);
n.fill(0);var L=F>>>1,$=16384,l=128;while(l<F){l<<=1;$<<=2}var k=255/Math.log($),V=[],i=[],f=[];for(var w=0;
w<256;w++){V[w]=Math.exp(w/k)-1;var X=w*(2*Math.PI/255)-Math.PI;i[w]=Math.sin(X);f[w]=Math.cos(X)}for(var s=0;
s<F;s++)for(var R=0;R<L;R++){var h=F+L+s&F-1,B=V[x[s*F+R]],X=x[s*F+L+R],e=B*f[X],U=B*i[X];W[h*F+R]=e;
n[h*F+R]=U;if(R!=0){var o=h==0?h*F+F-R:(F-h)*F+(F-R);W[o]=e;n[o]=-U}}FFT.ifft2d(W,n);for(var w=0;w<x.length;
w++){x[w]=Math.max(0,Math.min(255,~~(.5+255*W[w])))}};ew.asV=new ArrayBuffer(512);ew.at0=function(x){var F=ew.asV,W=x.length;
if(F.byteLength<W)ew.asV=F=new ArrayBuffer(W);var n=new Uint8Array(F);for(var w=0;w<W;w+=4){n[w]=x[w];
n[w+1]=x[w+1];n[w+2]=x[w+2];n[w+3]=x[w+3]}return F};ew.Pl=function(x,F,W,n,L,$,l){if($==null)$={buffer:r.R(F.buffer.length),rect:F.rect.clone()};
$.buffer.set(F.buffer);var k=W&&W.RndS?W.RndS.v>>>1:0;if(x=="GEfc"){var V=[];if(W.GEfs){var i=W.GEfs.v;
for(var w=0;w<i.length;w++){var f=i[w].v;if(f.GELv&&f.GELv.v==!1)continue;V.push(f)}}else V=[W];for(var w=0;
w<V.length;w++){var X;if(w==0)kx.Pl(x,F,V[w],n,L,$,l);else{if(X==null)X={buffer:r.R(F.buffer.length),rect:F.rect.clone()};
r.Bj($.buffer,X.buffer);kx.Pl(x,X,V[w],n,L,$,l)}}}if(x=="Dila"){var s=W.Crop.v.val,R=W.Rds.v.val+s;R=R*R;
if(R==0)return;var h=F.rect,B=h.m,e=h.e,U=B*e,o=F.buffer,X=$.buffer,b=r.R(U);r.Tb(o,b,3);if(s!=0){var u=h.clone();
u.za(1,1);var Z=r.R(u.P());r.Hz(b,h,Z,u);r.sx(Z);r.style.stroke(Z,Z,u,s);r.sx(Z);r.Hz(Z,u,b,h)}var I=r.style.vZ(b,B,e);
X.fill(0);for(var y=0;y<e;y++)for(var D=0;D<B;D++){var w=y*B+D,N=w<<1,j=w<<2,H=I[N],Q=I[N+1];if(H*H+Q*Q<R){var C=(y+Q)*B+(D+H)<<2;
X[j]=o[C];X[j+1]=o[C+1];X[j+2]=o[C+2];X[j+3]=255}}}if(x=="Adobe Camera Raw Filter"){var h=F.rect,B=h.m,e=h.e,U=B*e,J=U*4,E=U*3,T=new Float32Array(B*e*3),c=F.buffer;
for(var w=0;w<U;w++){var a=w*3,j=w*4;T[a]=c[j]*(1/255);T[a+1]=c[j+1]*(1/255);T[a+2]=c[j+2]*(1/255)}var K=JSON.parse(JSON.stringify(W));
delete K.Upri;delete K.GuUr;var Y=T.slice(0);fK(T,B,e,Y,K);T=Y;c=$.buffer;for(var w=0;w<U;w++){var a=w*3,j=w*4;
c[j]=255*Math.max(0,Math.min(1,T[a]));c[j+1]=255*Math.max(0,Math.min(1,T[a+1]));c[j+2]=255*Math.max(0,Math.min(1,T[a+2]))}}if(x=="Fct "){var h=F.rect,B=h.m,e=h.e,U=B*e,J=U*4;
function p(ak){var gx=ak.slice(0);for(var y=0;y<3;y++)for(var D=0;D<3;D++)gx[y*3+D]=ak[(2-D)*3+y];return gx}function P(gZ,jb,eK,dq){var d3=0;
for(var y=0;y<3;y++)for(var D=0;D<3;D++)d3+=jb[y*3+D]*gZ[(dq-1+y)*B+eK-1+D];return d3}var m=[8,5,2,5,2,-1,2,-1,-4],z=[5,5,5,2,2,2,-1,-1,-1],M=[2,2,2,2,2,2,2,2,2],d=[];
d.push(m);for(var w=0;w<3;w++)d.push(p(d[d.length-1]));d.push(z);for(var w=0;w<3;w++)d.push(p(d[d.length-1]));
d.push(M);for(var w=0;w<9;w++)d[w]=r.Ro.vt(d[w]);var A=[-B-1,-B,-B+1,-1,0,1,B-1,B,B+1],G=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],kB=r.R(U),q=new Float32Array(U),Y=r.R(U);
for(var fO=0;fO<3;fO++){r.Tb(F.buffer,kB,fO);for(var g=0;g<1;g++){for(var y=1;y<e-1;y++)for(var D=1;
D<B-1;D++){var jN=y*B+D,c6=kB[jN];q[jN]=1e9;for(var w=0;w<9;w++){var a7=P(kB,d[w],D,y),bd=(a7-c6)*(a7-c6);
if(bd<q[jN])q[jN]=bd}}for(var y=1;y<e-1;y++)for(var D=1;D<B-1;D++){var ey=0,c5=1e9;for(var w=0;w<9;w++){var ap=y*B+D+A[w],bd=q[ap];
if(bd<c5){c5=bd;ey=kB[ap]}}Y[y*B+D]=ey}kB.set(Y)}r.rW(Y,$.buffer,fO)}}if(x=="adaptCorrect"){var h=F.rect,B=h.m,e=h.e,U=B*e,J=U*4,fC=W.sdwM.v,kE=fC.Amnt.v.val/100,bm=fC.Wdth.v.val/100,fe=fC.Rds.v,g8=W.hglM.v,e0=g8.Amnt.v.val/100,cF=g8.Wdth.v.val/100,ei=g8.Rds.v;
r.akS.hu(F.buffer,$.buffer,B,e,kE,bm,fe,e0,cF,ei,W.ClrC.v/100,W.Cntr.v/100)}if(x=="denoise"){var h=F.rect,B=h.m,e=h.e,cr=W.channelDenoise.v[0].v;
r.afA.aA7(F.buffer,B,e,$.buffer,cr.Amnt.v/10,cr.EdgF.v/100)}if(x=="HsbP"){var e_=W.Inpt.v.ClrS,gg=W.Otpt.v.ClrS,h=F.rect,B=h.m,e=h.e,U=B*e;
for(var w=0;w<U;w++){var j=w*4,g=F.buffer[j]*(1/255),bW=F.buffer[j+1]*(1/255),gx=F.buffer[j+2]*(1/255);
if(e_=="RGBC"){}else if(e_=="HSLC"){var Y=r.Eh(g,bW,gx);g=Y.o;bW=Y.r;gx=Y.z}else if(e_=="HSBl"){var Y=r.atR(g,bW,gx);
g=Y.o;bW=Y.r;gx=Y.z}var h$=g,dH=bW,eg=gx;if(gg=="RGBC"){}else if(gg=="HSLC"){var Y=r.Cl(g,bW,gx);h$=Y.eD;
dH=Y.TR;eg=Y.XY}else if(gg=="HSBl"){var Y=r.aBh(g,bW,gx);h$=Y.eD;dH=Y.TR;eg=Y.z}$.buffer[j]=~~(255*h$);
$.buffer[j+1]=~~(255*dH);$.buffer[j+2]=~~(255*eg)}}if(x=="Fbrs"){var h=F.rect,B=h.m,e=h.e;r.X.aA5(F.buffer,B,e,$.buffer,[W.Vrnc.v,W.Strg.v,k]);
var aB=r.R(B*e);r.Tb($.buffer,aB,0);r.sx(aB);kx.hi(aB,$.buffer,n,L)}if(x=="Frgm"){var h=F.rect,B=h.m,e=h.e,gB=F.buffer.slice(0);
r.M1(gB);r.X.awE(gB,B,e,$.buffer);r._E($.buffer)}if(x=="Flam"){var h=F.rect,B=h.m,e=h.e,jy=W.Clr.v,aV={type:W.Type.v+1,length:W.Leng.v,a3A:W.RndL.v,Ol:W.Widt.v,adZ:W.Angl.v,ace:W.Intr.v,a99:W.Adpt.v,color:{o:jy.Rd.v,r:jy.Grn.v,z:jy.Bl.v},WL:W.Qual.v+1,n_:W.Turb.v,Pj:W.Jag.v,opacity:W.Opct.v.val,cX:W.Lins.v,aCp:W.Botm.v,style:W.Styl.v+1,shape:W.Shap.v+1,aDe:W.RnSh.v,aB6:W.Arng.v,ajJ:!1},ie=l[3],cT=ie[0],a_=ie[1],gs=cT[a_.length!=0?a_[0]:0];
if(gs==null){alert("Make a path first");return}var gq=gs.add.vmsk.$,kr=r.j.tn(gq),iN=[];for(var C=0;
C<kr;C++){var jH=r.j.Of(gq,C),h2=gq[jH];if(h2.length<2)continue;var an=[];iN.push(an);var bt=h2.length-(h2.type==3?1:0);
for(var jN=0;jN<bt;jN++){var kH=gq[jH+1+jN],js=jN==h2.length-1?gq[jH+1]:gq[jH+1+jN+1],gA=kH.L,jR=kH.vf,m=js.Xs,c3=js.L,iU=Math.round(eX.I9(gA,c3)/5);
for(var hn=0;hn<iU;hn++){var db=hn/iU,dy=1-db,D=dy*dy*dy*gA.x+3*dy*dy*db*jR.x+3*dy*db*db*m.x+db*db*db*c3.x,y=dy*dy*dy*gA.y+3*dy*dy*db*jR.y+3*dy*db*db*m.y+db*db*db*c3.y;
an.push(D,y)}}}var c2=[iN,aV],bk=Date.now(),cx=a$(c2);f4(F.buffer,B,e,$.buffer,cx,c2)}if(x=="Dfs "){var h=F.rect,B=h.m,e=h.e,ft=["Nrml","DrkO","LghO","anisotropic"].indexOf(W.Md.v.DfsM);
if(ft<3)r.X.ald(F.buffer,B,e,$.buffer,[ft]);else{var c2=[1.4,1.6,1,4,!1,2,[0,0,.001]],h=F.rect.clone();
h.x=h.y=0;r.IL.filter(F.buffer,h,$.buffer,c2)}}if(x=="TrcC"){var h=F.rect,B=h.m,eZ=B<<2,e=h.e,hf=W.Lvl.v,jr=W.Edg.v.CntE=="Lwr",ix=F.buffer,bF=$.buffer;
r.De(bF,16777215,4278190080);function fA(dl,iF){jA(dl,iF);jA(dl+1,iF+1);jA(dl+2,iF+2)}function ax(dl,iF){g1(dl,iF);
g1(dl+1,iF+1);g1(dl+2,iF+2)}function jA(dl,iF){var h$=ix[dl],dH=ix[iF];if(h$>=hf&&dH<hf)bF[dl]=0;if(h$<hf&&dH>=hf)bF[iF]=0}function g1(dl,iF){var h$=ix[dl],dH=ix[iF];
if(h$>hf&&dH<=hf)bF[iF]=0;if(h$<=hf&&dH>hf)bF[dl]=0}if(jr)for(var y=1;y<e;y++)for(var D=1;D<B;D++){var j=y*B+D<<2;
fA(j,j-4);fA(j,j-eZ)}else for(var y=1;y<e;y++)for(var D=1;D<B;D++){var j=y*B+D<<2;ax(j,j-4);ax(j,j-eZ)}}if(x=="Embs"){var h=F.rect,B=h.m,e=h.e,iA=-W.Angl.v*Math.PI/180,iQ=W.Hght.v,fB=W.Amnt.v/100;
iQ/=2;var H=Math.cos(iA)*iQ,Q=Math.sin(iA)*iQ,ix=F.buffer,bF=$.buffer;bF.fill(0);var dn=new Uint32Array(ix.buffer),Y=new Uint8Array(4),jp=new Uint32Array(Y.buffer);
for(var y=0;y<e;y++)for(var D=0;D<B;D++){var fP=0,k7=0,hs=0;if(0<=D+H&&D+H<B&&0<=y+Q&&y+Q<e){r.D.QU(D+H+.5,y+Q+.5,dn,B,e,jp,0,0);
fP+=Y[0]-128;k7+=Y[1]-128;hs+=Y[2]-128}if(0<=D-H&&D-H<B&&0<=y-Q&&y-Q<e){r.D.QU(D-H+.5,y-Q+.5,dn,B,e,jp,0,0);
fP-=Y[0]-128;k7-=Y[1]-128;hs-=Y[2]-128}var j=y*B+D<<2;bF[j]=Math.max(0,Math.min(255,fP*fB+128));bF[j+1]=Math.max(0,Math.min(255,k7*fB+128));
bF[j+2]=Math.max(0,Math.min(255,hs*fB+128));bF[j+3]=ix[j+3]}}if(x=="ShrE"){var h=F.rect,B=h.m,e=h.e;
r.X.a1Z(F.buffer,B,e,$.buffer)}if(x=="Dspc"){var h=F.rect,B=h.m,e=h.e;r.X.a8M(F.buffer,B,e,$.buffer)}if(x=="Slrz"){var kb=$.buffer,gn=128;
for(var w=0;w<kb.length;w+=4){if(kb[w]>gn)kb[w]=255-kb[w];if(kb[w+1]>gn)kb[w+1]=255-kb[w+1];if(kb[w+2]>gn)kb[w+2]=255-kb[w+2]}}if(x=="Wnd "){var h=F.rect,B=h.m,e=h.e,iy=["Wnd","Blst","Stgr"],gU=W.WndM.v.WndM;
r.X.ip(F.buffer,B,e,$.buffer,[iy.indexOf(gU),W.Drct.v.Drct!="Left"])}if(x=="Bokh"){var h=F.rect,B=h.m,e=h.e,U=B*e,J=U*4,jV=F.buffer.slice(0),jf=W.BkDi.v.BtDi,gw=W.BkDc,bU=W.BkDs.v,id=W.BkDp.v/255;
if(jf=="BeIn")id=0;var kC=57*(.3+.7*((B+e)/2)/1750)*(W.BkIb.v/100)*(1+.2*Math.pow(id,.1)),dx=parseInt(W.BkIs.v.BtIs.slice(3)),cb=-W.BkIr.v*Math.PI/180,bw=[];
for(var w=0;w<8;w++){var dr=cb+w*(Math.PI*2/dx),hu=cb+(w+1)*(Math.PI*2/dx),gi=Math.cos(dr),e6=Math.sin(dr),fF=Math.cos(hu),by=Math.sin(hu),dZ=[0,0,0];
r.Rg.Dt([[gi,e6,1,0],[fF,by,1,0],[1,1,1,1]],dZ);if(dZ[2]>0){dZ[0]*=-1;dZ[1]*=-1;dZ[2]*=-1}bw.push(dZ[0],dZ[1],dZ[2],0)}if(jf=="BeIn"){r.De(jV,0,16777215);
id=1}else if(jf=="BeIt"&&gw.v.BtDc=="BeCt"){}else{var i6;if(jf=="BeIt"&&gw.v.BtDc=="BeCm")i6=l[1];else if(jf=="BeIa")i6=l[2][gw.v];
if(i6==null){r.De(jV,0,16777215)}else{var kB;if(i6.rect.rr(h))kB=i6.channel;else kB=i6.PM(h);r.rW(kB,jV,3)}}if(bU)for(var w=0;
w<J;w+=4)jV[w+3]=255-jV[w+3];if(hl.Cp){var jm=jV,d_=B,hg=e,bY=1,bA=(W.BkSb.v==0||W.BkSt.v==255)&&jf=="BeIn";
if(!bA){var hc=0;for(var w=0;w<J;w+=4)hc+=Math.abs(id-jV[w+3]*(1/255));hc=hc/U*kC;var de=3.14*hc*hc*B*e/3e6;
if(de>2e3){alert("too large radius");return}}while(bA&&3*(kC/bY)*(kC/bY)*B*e>500*2e3*2e3){var cu=r.aAt(jV,new eu(0,0,d_,hg));
jV=cu.Xu;d_=cu.rect.m;hg=cu.rect.e;bY*=2}var bk=Date.now(),o=hl.VH(0,d_,hg);o.set(jV);var f0=hl.VH(1,B,e);
hl.uR(f0);hl.filter.Yq({type:hl.filter.ab0,FT:new Float32Array([1/d_,1/hg]),azt:id,DS:kC/bY,azY:new Float32Array([W.BkSb.v/100,W.BkSt.v/255]),av2:new Float32Array([W.BkNa.v/100,W.BkNt.v.BtNt=="BeNu"?0:1,W.BkNm.v?1:0]),ajW:new Float32Array(bw.slice(0,16)),au9:new Float32Array(bw.slice(16))},o.Yn);
f0.get($.buffer);var eh=$.buffer;for(var w=0;w<J;w+=4)eh[w+3]=F.buffer[w+3]}}if(x=="rigidTransform"){var bk=Date.now(),eU=ew.at0,o=F.buffer.slice(0),j_=0,at=0;
r.M1(o);r.De($.buffer,0);var B=F.rect.m,e=F.rect.e,hV=W.puppetShapeList.v,fa=[],cR=[],cm=[],gm=[];for(var jN=0;
jN<hV.length;jN++){var a5=hV[jN].v,N=j_*2,a=at*3,ac=a5.originalVertexArray.v.length>>>2,aN=a5.indexArray.v.length>>>2,gJ=new Float32Array(eU(a5.originalVertexArray.v));
for(var w=0;w<ac;w++)fa[N+w]=gJ[w];var bV=new Float32Array(eU(a5.deformedVertexArray.v));for(var w=0;
w<ac;w++)cR[N+w]=bV[w];var d6=new Uint32Array(eU(a5.indexArray.v));for(var w=0;w<aN;w++)cm[a+w]=j_+d6[w];
var co=[],iD=[],ck=a5.PnDp.v;for(var w=0;w<ck.length;w++){co.push(a5.pinVertexIndices.v[w].v);iD.push(ck[w].v)}var aT=r.fb.ahI(gJ,d6,co,iD);
for(var w=0;w<aT.length;w++)gm[j_+w]=aT[w];j_+=ac>>>1;at+=~~(aN/3)}var g=F.rect,B=g.m,e=g.e;r.fb.VU(o,B,e,$.buffer,B,e,fa,cR,gm,cm);
r._E($.buffer)}if(x=="lightFilterGradient"){function ce(gA){var jb=1/Math.sqrt(gA[0]*gA[0]+gA[1]*gA[1]+gA[2]*gA[2]);
gA[0]*=jb;gA[1]*=jb;gA[2]*=jb}var B=F.rect.m,e=F.rect.e,U=B*e,bk=Date.now(),io=r.R(U),dH=.3,eg=.7;r.ad($.buffer,io);
var a8=r.R(U);r.wG.kt(io,a8,$.rect,16);var h5=r.R(U);r.wG.kt(io,h5,$.rect,8);var bK=io,h7=new Float32Array(U),k8=W.Dtl.v,fY=k8[2].v,fz=k8[1].v,jx=k8[0].v,d3=W.Scl.v*40*W.textureScale.v/(fY+fz+jx);
fY*=d3;fz*=d3;jx*=d3;for(var w=0;w<U;w++){var d2=a8[w]*(1/255),gc=h5[w]*(1/255),gb=bK[w]*(1/255);gb=gb*gb;
h7[w]=fY*d2+fz*gc+jx*gb}var gV=W.blur.v;if(gV!=0){var cC=h7.slice(0);r.wG.vL(cC,h7,$.rect,gV)}var c0=B-1,jT=e-1;
for(var y=0;y<e;y++)for(var D=0;D<B;D++){var w=y*B+D,j=w*4,gQ=h7[w],H=dH*(h7[w+(D==c0?0:1)]-gQ)+eg*(gQ-h7[w-(D==0?0:1)]),Q=dH*(h7[w+(y==jT?0:B)]-gQ)+eg*(gQ-h7[w-(y==0?0:B)]),gA=[1,0,H],jR=[0,1,Q];
ce(gA);ce(jR);var hu=gA[0],gY=gA[2],aY=jR[1],k5=jR[2],eW=-gY*aY,kp=-hu*k5,fX=hu*aY;$.buffer[j]=~~(127.5+eW*127.5);
$.buffer[j+1]=~~(127.5+kp*127.5);$.buffer[j+2]=~~(127.5+fX*127.5)}}if(x=="defr"){var B=F.rect.m,e=F.rect.e;
hA(F.buffer,B,e,$.buffer)}if(x=="dDFT"||x=="iDFT"){function it(dx){if(dx==0)return 1;dx--;dx|=dx>>1;
dx|=dx>>2;dx|=dx>>4;dx|=dx>>8;dx|=dx>>16;return dx+1}var B=F.rect.m,e=F.rect.e,cN=it(Math.max(B,e)),bQ=cN>>>1,hm=new eu(0,0,cN,cN),fw=new eu(0,0,B,e);
fw.y=cN-e>>>1;var dk=B>>>1,h1=new eu(0,fw.y,dk,e),bZ=new r.Co(B*e);r.G6(F.buffer,bZ);var bo=new Float64Array(cN*cN),dd=new Float64Array(cN*cN),kB=r.R(cN*cN);
FFT.init(cN);var fc=[bZ.o,bZ.r,bZ.z];for(var w=0;w<3;w++){var e3=fc[w];kB.fill(0);if(x=="dDFT"){r.Hz(e3,fw,kB,hm);
ew.amj(kB,cN,bo,dd);r.Hz(kB,hm,e3,fw,h1);h1.x+=dk;hm.x-=bQ-dk;r.Hz(kB,hm,e3,fw,h1);h1.x-=dk;hm.x+=bQ-dk}else{r.Hz(e3,fw,kB,hm,h1);
h1.x+=bQ;fw.x+=bQ-dk;r.Hz(e3,fw,kB,hm,h1);h1.x-=bQ;fw.x-=bQ-dk;ew.azL(kB,cN,bo,dd);r.Hz(kB,hm,e3,fw)}}r.qe(bZ,$.buffer)}if(x=="Avrg"){var bX=0,cB=0,eo=0,fG=0,hB=1;
for(var w=0;w<F.buffer.length;w+=4){var b=F.buffer[w+3];eo+=F.buffer[w]*b;cB+=F.buffer[w+1]*b;bX+=F.buffer[w+2]*b;
fG+=b}var g2=1/fG;bX=Math.round(hB*(bX*g2)+(1-hB)*255);cB=Math.round(hB*(cB*g2)+(1-hB)*255);eo=Math.round(hB*(eo*g2)+(1-hB)*255);
r.De($.buffer,bX<<16|cB<<8|eo,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(x)!=-1){var fD=W.Rds?W.Rds.v.val:1,kG=x=="boxblur"?r.wG.X_:r.wG.av7;
ew.KT(fD,kG,$.buffer,$.rect);if(x=="UnsM"||x=="smartSharpen"){var fB=(W.Amnt?W.Amnt.v.val:200)/100,gH=0;
if(x=="UnsM")gH=W.Thsh.v;else fB*=.75;for(var w=0;w<F.buffer.length;w++){if((w&3)==3){$.buffer[w]=F.buffer[w];
continue}var c6=F.buffer[w],a7=$.buffer[w],kn=fB*(c6-a7);if(kn>0)kn=Math.max(0,kn-gH);else kn=Math.min(0,kn+gH);
$.buffer[w]=Math.max(0,Math.min(255,c6+kn))}}if(x=="HghP")for(var w=0;w<F.buffer.length;w++){if((w&3)==3){$.buffer[w]=F.buffer[w];
continue}var c6=F.buffer[w],a7=$.buffer[w];$.buffer[w]=Math.max(0,Math.min(255,128+c6-a7))}}if(x=="AdNs"){var ib=new Uint8ClampedArray($.buffer.buffer),iZ=255*W.Nose.v.val/100,ah;
if(W.Dstr.v.Dstr=="Gsn")ah=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else ah=function(){return Math.random()*2-1};for(var w=0;w<ib.length;w+=4){var g=ib[w],bW=ib[w+1],gx=ib[w+2],aE,d4,aA;
if(W.Mnch.v){aE=d4=aA=ah()}else{aE=ah();d4=ah();aA=ah()}g+=iZ*aE;bW+=iZ*d4;gx+=iZ*aA;ib[w]=g;ib[w+1]=bW;
ib[w+2]=gx}}var bk=Date.now();if(x=="Mdn "||x=="DstS"||x=="Mxm "||x=="Mnm "||x=="surfaceBlur"){var g=0,e7=W.Thsh,a5=0;
if(e7)e7=e7.v;else e7=0;if(x=="Mdn "||x=="Mxm "||x=="Mnm "||x=="surfaceBlur")g=W.Rds.v.val;else g=W.Rds.v;
var hj=10*Math.ceil(g/10),B=F.rect.m,e=F.rect.e,hh=["Mnm ","Mxm ","surfaceBlur"].indexOf(x),gE=(a5==0?1:.75)*[.73,.73,1.2][hh]*(B*e*Math.pow(hj*hj,1.05))/6022387,hq=.6*(B*e*Math.pow(g,1/2.6))/6500;
if(x=="Mxm "||x=="Mnm ")hq=B*e/13e3;var iq=W.preserveShape;if(iq&&iq.v.preserveShape=="Rndn")a5=1;if(hl.Cp&&hh!=-1&&(gE<hq||a5==1)&&gE<500){var o=hl.VH(0,B,e);
o.set(F.buffer);var X=hl.VH(1,B,e);hl.uR(X);hl.filter.Yq({type:hl.filter.a8H,FT:new Float32Array([1/B,1/e]),DS:g,afZ:e7/255,qm:[a5,hh,hj]},o.Yn);
X.get($.buffer)}else if(x=="Mxm "||x=="Mnm "){var B=F.rect.m,e=F.rect.e;r.sQ.aC0(F.buffer,$.buffer,B,e,1+Math.floor(W.Rds.v.val)*2,x=="Mxm ")}else{g=Math.round(g);
r.R_.ub=.5;r.R_.JV=e7;var kG=x=="surfaceBlur"?1:0;r.R_.CY(F.buffer,$.buffer,B,e,g,kG);if(x=="DstS")for(var w=0;
w<B*e*4;w++){var kA=Math.abs(F.buffer[w]-$.buffer[w]);if(kA<=e7)$.buffer[w]=F.buffer[w]}}}if(x=="ClrH"){var h1=F.rect.clone();
h1.x=h1.y=0;var g=W.Rds.v;g=Math.round(g*Math.sqrt(2));var B=h1.m,e=h1.e,bZ=new r.Co(B*e);r.G6(F.buffer,bZ);
r.sx(bZ.o);r.sx(bZ.r);r.sx(bZ.z);var jn=r.bz(B,e),eh=r.R(B*e*4);for(var gZ=0;gZ<3;gZ++){var kB=gZ==0?bZ.o:gZ==1?bZ.r:bZ.z,iA=Math.PI*W["Ang"+(gZ+1)].v/180,iz=new iJ(1/g,0,0,1/g,0,0);
iz.rotate(iA);r.rW(kB,eh,3);var Y=O.Y.f$([eh,h1],iz,!0),fw=Y.rect;jn.clearRect(0,0,B,e);var kk=Math.sin(iA),ku=Math.cos(iA);
for(var w=0;w<fw.e;w++)for(var hn=0;hn<fw.m;hn++){var D=(hn+fw.x+.5)*g,y=(w+fw.y+.5)*g,h_=D,dJ=y;D=ku*h_-kk*dJ;
y=kk*h_+ku*dJ;var U=Y.buffer[(w*fw.m+hn<<2)+3]*(1/255),fD=g*Math.sqrt(U*(1/Math.PI));jn.beginPath();
jn.arc(D,y,fD,0,2*Math.PI);jn.fill()}var fq=jn.getImageData(0,0,B,e);r.Tb(fq.data,kB,3)}r.sx(bZ.o);r.sx(bZ.r);
r.sx(bZ.z);r.qe(bZ,$.buffer)}if(x=="Crst"||x=="Pntl"){var B=F.rect.m,e=F.rect.e,kG=x=="Crst"?r.Qd.adW:r.Qd.alh;
kG(F.buffer,B,e,$.buffer,W.ClSz.v,[Math.round(L.o),Math.round(L.r),Math.round(L.z)])}if(x=="Mztn"){var B=F.rect.m,e=F.rect.e,U=B*e,bZ=new r.Co(U),bD=[bZ.o,bZ.r,bZ.z];
r.G6(F.buffer,bZ);var gU=W.MztT.v.MztT,el={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[gU],bk=Date.now(),ct=[];
for(var w=0;w<U;w++){ct[w]=Math.random()}var U=B*e,hF=Math.round(U*el[0]),fU=U-B-1;for(var w=0;w<hF;
w++){var gv=Math.random(),gL=1;if(gv<.5){gL=B;gv*=2}else gv=2*(gv-.5);var dl=Math.floor(gv*fU),iF=dl+gL;
ct[dl]=ct[iF]}var b5=Math.round(B*el[1]);for(var y=0;y<e;y++)for(var w=0;w<b5;w++){var gv=r.l.W1(y*U+w),dl=y*B+Math.floor(gv*(B-1));
ct[dl]=ct[dl+1]}var g_=new Float64Array(256);for(var w=0;w<256;w++){var cf=w/255,gl=2*(cf<.5?cf:1-cf);
gl=el[2]+Math.pow(gl,el[3])*(1-el[2]);cf=cf<.5?gl*.5:1-gl*.5;g_[w]=cf}for(var fO=0;fO<3;fO++){var kB=bD[fO];
for(var y=0;y<e;y++){for(var D=0;D<B;D++){var w=y*B+D,fM=kB[w],cf=g_[fM],gv=ct[w];kB[w]=gv>cf?0:255}}}r.qe(bZ,$.buffer)}if(x=="Msc "){var kr=W.ClSz.v.val,B=F.rect.m,e=F.rect.e,h0=Math.ceil(B/kr),gF=Math.ceil(e/kr),f6=r.R(h0*gF*4);
r.scale.du(F.buffer,B,e,f6,h0,gF,1/kr);r.scale.du(f6,h0,gF,$.buffer,B,e,kr)}if(x=="Clds"||x=="DfrC"){var B=$.rect.m,e=$.rect.e,U=B*e,f2=r.R(U);
if(x=="Clds")r.De($.buffer,4278190080);var dw=r.R(256*4);for(var w=0;w<256;w++){var j=w<<2,ak=w/255,d6=1-ak;
dw[j]=Math.round(ak*n.o+d6*L.o);dw[j+1]=Math.round(ak*n.r+d6*L.r);dw[j+2]=Math.round(ak*n.z+d6*L.z)}r.X.amg(F.buffer,B,e,f2);
var fR=$.buffer;for(var w=0;w<U;w++){var j=w<<2,fO=f2[w]<<2,g=dw[fO],bW=dw[fO+1],gx=dw[fO+2];if(x=="Clds"){fR[j]=g;
fR[j+1]=bW;fR[j+2]=gx}else{fR[j]=Math.abs(fR[4*w]-g);fR[j+1]=Math.abs(fR[4*w+1]-bW);fR[j+2]=Math.abs(fR[4*w+2]-gx)}}}if(x=="LnsF"){var B=F.rect.m,e=F.rect.e,gU=["Zm","Nkn","Nkn1","PnVs"].indexOf(W.Lns.v.Lns),g4=W.FlrC.v,is=[Math.min(gU,2),W.Brgh.v/100,g4.Hrzn.v,g4.Vrtc.v],bk=Date.now();
r.aj_(F.buffer,B,e,$.buffer,is)}var cv=["Blr ","BlrM","Shrp","ShrM"].indexOf(x);if(cv!=-1){var g9=cv>1,B=F.rect.m,e=F.rect.e,ai=r.Ro.a$[cv],e1=F.buffer.slice(0);
if(!g9)r.M1(e1);r.Ro.sA(e1,$.buffer,B,e,ai,255,!1,g9);if(!g9)r._E($.buffer)}if(x=="MtnB"){var jU=-W.Angl.v*Math.PI/180,kl=W.Dstn.v.val/2,bk=Date.now(),B=F.rect.m,e=F.rect.e,h=F.rect.clone();
h.x=h.y=0;if(hl.Cp){var bk=Date.now(),cn=$.buffer;cn.set(F.buffer);r.M1(cn);var hd=hl.VH(0,B,e);hd.set(cn);
var ix=r.R(4);ix[0]=Math.round(128+127*Math.cos(jU));ix[1]=Math.round(128+127*Math.sin(jU));new Uint32Array(cn.buffer).fill(new Uint32Array(ix.buffer)[0]);
var g6=hl.VH(1,B,e);g6.set(cn);hl.uR(hd,h);hd.s2(h);hl.filter.Yq({type:hl.filter.JE,$l:g6.Yn,FT:new Float32Array([1/B,1/e]),a6R:kl/2,a07:1},hd.r4);
hd.get(cn);r._E(cn)}else{var iz=new iJ;iz.rotate(jU);var Y=O.Y.f$([F.buffer,F.rect],iz,!1,null,!0);ew.KT(kl,r.wG.aw$,Y.buffer,Y.rect);
iz.sx();Y=O.Y.f$([Y.buffer,Y.rect],iz,!1,$.buffer.buffer,!0,$.rect)}console.log(Date.now()-bk)}if(x=="RdlB"){var B=F.rect.m,e=F.rect.e,fB=W.Amnt.v,di=W.BlrM.v.BlrM=="Zm",gZ=W.Cntr.v,eK=gZ.Hrzn.v,dq=gZ.Vrtc.v,H=Math.max(eK,1-eK)*B,Q=Math.max(dq,1-dq)*e,fD=Math.sqrt(H*H+Q*Q),ik=2*Math.PI*fD*1.5,fH=Math.round(ik),es=Math.round(fD),h1=new eu(0,0,fH,es),al=r.R(fH*es*4),km=di?4:1,bg=di?.6:8*((B+e)/2)/1400,bT=.1,bY=1,ia=1;
r.D.ax_(F.buffer,B,e,al,fH,es,eK,dq,km,bT,bY,ia);var hX=di?r.R(fH*es*4):null;if(di){r.D.kZ(al,hX,fH,es);
var db=hX;hX=al;al=db;h1.m=es;h1.e=fH}ew.KT(bg*fB,r.wG.aw$,al,h1);if(di){r.D.kZ(al,hX,es,fH);var db=hX;
hX=al;al=db;h1.m=fH;h1.e=es}r.D.atX(al,fH,es,$.buffer,B,e,eK,dq,km,bT,bY,ia)}if(x=="Plr "){var B=F.rect.m,e=F.rect.e;
if(W.Cnvr.v.Cnvr=="RctP")r.D.atX(F.buffer,B,e,$.buffer,B,e,.5,.5,1,0,2,B/e);else r.D.ax_(F.buffer,B,e,$.buffer,B,e,.5,.5,1,0,2,B/e)}if(x=="FndE"){var B=F.rect.m,e=F.rect.e;
r.Ro.a3p(F.buffer,$.buffer,B,e)}if(x=="oilPaint"){var iA=W.LghD.v*Math.PI/180,cw=[Math.cos(iA),Math.sin(iA),.001],c2=[W.stylization.v,W.cleanliness.v,W.brushScale.v,W.microBrush.v,W.lightingOn.v,W.specularity.v,cw],h=F.rect.clone();
h.x=h.y=0;r.IL.filter(F.buffer,h,$.buffer,c2)}if(x=="Ofst"){var B=F.rect.m,e=F.rect.e,b8=new Uint32Array(F.buffer.buffer),cU=new Uint32Array($.buffer.buffer),h_=W.Hrzn.v,dJ=W.Vrtc.v,dO=W.Fl.v.FlMd;
r.De(cU,0);if(dO=="Bckg"||dO=="Rpt"){var h1=F.rect.clone();h1.offset(h_,dJ);r.sh(b8,h1,cU,$.rect)}if(dO=="Rpt"){var gi,e6,fF,by,fh;
h_=Math.max(-B,Math.min(B,h_));dJ=Math.max(-e,Math.min(e,dJ));gi=h_>0?h_:0;fF=h_>0?B:B+h_;e6=dJ>0?0:dJ+e;
by=dJ>0?dJ:e;fh=dJ>0?0:B*(e-1);for(var y=e6;y<by;y++)for(var D=gi;D<fF;D++)cU[y*B+D]=b8[fh+D-h_];gi=h_>0?0:B+h_;
fF=h_>0?h_:B;e6=dJ>0?dJ:0;by=dJ>0?e:e+dJ;fh=h_>0?0:B-1;for(var y=e6;y<by;y++)for(var D=gi;D<fF;D++)cU[y*B+D]=b8[fh+B*(y-dJ)];
if(h_>=0&&dJ>=0){gi=0;fF=h_;e6=0;by=dJ;fh=0}if(h_>=0&&dJ<0){gi=0;fF=h_;e6=e+dJ;by=e;fh=B*(e-1)}if(h_<0&&dJ>=0){gi=B+h_;
fF=B;e6=0;by=dJ;fh=B-1}if(h_<0&&dJ<0){gi=B+h_;fF=B;e6=e+dJ;by=e;fh=B*e-1}for(var y=e6;y<by;y++)for(var D=gi;
D<fF;D++)cU[y*B+D]=b8[fh]}if(dO=="Wrp"){h_=(h_+100*B)%B;dJ=(dJ+100*e)%e;var h1=new eu(h_-B,dJ-e,B,e);
r.sh(b8,h1,cU,$.rect);h1.offset(B,0);r.sh(b8,h1,cU,$.rect);h1.offset(0,e);r.sh(b8,h1,cU,$.rect);h1.offset(-B,0);
r.sh(b8,h1,cU,$.rect)}}if(x=="Rept"){var b3=W.Rsft.v.val/100,cY=W.SpcX.v.val/100;cY=Math.max(cY,-.99);
var g7=W.SpcY.v.val/100;g7=Math.max(g7,-.99);var bY=W.Scl.v.val/100,iz=new iJ;iz.rotate(W.Angl.v*Math.PI/180);
iz.scale(bY,bY);var dT={buffer:F.buffer,rect:F.rect};r.L4(dT);if(dT.rect.ak()){dT.buffer=F.buffer;dT.rect=F.rect}var fR=dT.buffer,h1=dT.rect,ci=r.M5(fR,h1,0),cp=new Uint32Array(fR.buffer)[0];
if(!ci.ak()&&!ci.rr(h1)){var f_=r.R(ci.P()*4);r.sh(fR,h1,f_,ci);fR=f_;h1=ci}h1.x=h1.y=0;cp=cY==0&&g7==0||W.SpcC.v?cp:0;
function fx(D){return D<0?Math.ceil(D):Math.floor(D)}var hL=iz.dr(new eX(h1.m,0));hL.x=fx(hL.x);hL.y=fx(hL.y);
var cc=iz.dr(new eX(0,h1.e));cc.x=fx(cc.x);cc.y=fx(cc.y);var Y=O.Y.f$([fR,h1],iz,!1),fw=Y.rect,bF=Y.buffer,ev=Math.round(fw.x),dj=Math.round(fw.y),jk=Math.max($.rect.m,$.rect.e)/Math.min(h1.m*bY*(1+cY),h1.e*bY*(1+g7));
jk=Math.ceil(jk*1.7);r.De($.buffer,cp);for(var y=-jk;y<jk;y++){for(var D=-jk;D<jk;D++){var dA=(D+y*b3)*(1+cY),fW=y*(1+g7);
fw.x=ev+Math.round(dA*hL.x+fW*cc.x);fw.y=dj+Math.round(dA*hL.y+fW*cc.y);if(fw.yU($.rect))r.l.X3("norm",bF,fw,$.buffer,$.rect,fw,1)}}}if(x=="Ctoa"){var L=r.I.z$(W.Clr.v),e7=W.Trsp.v.val/100,em=W.Opct.v.val/100;
e7=em==0?0:e7/em;var B=F.rect.m,e=F.rect.e,bO=~~L.o,gN=~~L.r,jd=~~L.z,fh=F.buffer,ap=$.buffer;for(var y=0;
y<e;y++)for(var D=0;D<B;D++){var w=y*B+D,j=w<<2,h1=fh[j],eE=fh[j+1],fR=fh[j+2],e$=Math.abs(bO-h1),jo=Math.abs(gN-eE),aM=Math.abs(jd-fR),ab=Math.max(e$,jo,aM)*(1/255);
ab=Math.max(0,Math.min(1,ab/em));var iW=ab==0?0:1/ab,er=e7==1?1:Math.max(0,Math.min(1,(ab-e7)/(1-e7)));
ap[j]=Math.max(0,Math.min(255,(h1-bO*(1-ab))*iW));ap[j+1]=Math.max(0,Math.min(255,(eE-gN*(1-ab))*iW));
ap[j+2]=Math.max(0,Math.min(255,(fR-jd*(1-ab))*iW));ap[j+3]=Math.min(ap[j+3],~~(.5+er*255))}}if(x=="Dthr"){function aR(D){return~~(.5+255*r.kB(D/255))}var jN=W.Plte.v,gR;
if(jN==0)gR=[4278190080,4294967295];else{var f$=[[1,1,1],[2,2,2],[3,3,2]][jN-1],eB=[1<<f$[0],1<<f$[1],1<<f$[2]],cE=[~~(255/(eB[0]-1)),~~(255/(eB[1]-1)),~~(255/(eB[2]-1))];
gR=[];for(var g=0;g<eB[0];g++)for(var bW=0;bW<eB[1];bW++)for(var gx=0;gx<eB[2];gx++)gR.push(255<<24|aR(gx*cE[2])<<16|aR(bW*cE[1])<<8|aR(g*cE[0]))}var B=F.rect.m,e=F.rect.e,U=B*e,aw=U*4,hs=F.buffer.slice(0),jg=$.buffer;
for(var w=0;w<aw;w++)hs[w]=~~(.5+255*r.kB(hs[w]/255));var dY=r.R(B*e);UPNG.encode.dither(hs,B,e,gR,jg,dY,W.Mthd?W.Mthd.v:1);
for(var w=0;w<aw;w++)jg[w]=~~(.5+255*r.sW(jg[w]/255))}if(x=="Part"){var g5=[W.RndS.v,W.Cont.v/100,W.Size.v,W.Dpth.v/100,W.Brgh.v/100,r.I.z$(W.Clr.v),W.Time.v,W.Blnk.v,W.Fall.v,W.Turb.v/100];
r.YQ.tC($.buffer,F.rect.m,F.rect.e,g5)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(x)!=-1){var bu=l[0],B=F.rect.m,e=F.rect.e,g_,dK=0;
if(x=="LqFy")g_=kv.cF(new Uint8Array(W.LqMe.v).buffer);else{var dL=3;if(x=="Wave")dL=Math.min(3,W.WLMn.v);
g_={Xv:Math.floor(B/dL),eD:Math.floor(e/dL)};g_.map=new Float32Array(g_.Xv*g_.eD*2);if(x=="LnCr"){var eK=.5*(g_.Xv-1),dq=.5*(g_.eD-1),hC=Math.max(Math.abs(0-eK),Math.abs(1-eK)),jt=Math.max(Math.abs(0-dq),Math.abs(1-dq)),av=Math.sqrt(hC*hC+jt*jt),e2=0,e5=0,fk=-1,fL=2,bY=W.LnSi.v/100,di=1/bY,h9=W.LnIa.v/100,aG=h9==0?1e-6:h9*4.6,hZ=di/av;
for(var y=0;y<g_.eD;y++){for(var D=0;D<g_.Xv;D++){var H=(D-eK)*hZ,Q=(y-dq)*hZ,g=Math.sqrt(H*H+Q*Q)*aG,hk=Math.atan(g),ez=h9>0?hk/g:g/hk,ia=eK+av*ez*H,hN=dq+av*ez*Q,w=y*g_.Xv+D<<1;
g_.map[w]=ia-D;g_.map[w+1]=hN-y}}}else if(x=="Kale"){var h0=g_.Xv,gF=g_.eD,b4=(h0-1)*.5,jT=(gF-1)*.5,i$=W.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,bJ=W.Mirr.v,cD=Math.PI*2/bJ,f5=.5*cD;
for(var y=0;y<gF;y++)for(var D=0;D<h0;D++){var H=D-b4,Q=y-jT,fj=Math.sqrt(H*H+Q*Q),iA=Math.atan2(Q,H)+i$;
iA=iA%cD;if(iA>f5)iA=cD-iA;var ia=b4+Math.cos(iA-i$)*fj,hN=jT+Math.sin(iA-i$)*fj,w=(y*h0+D)*2;g_.map[w]=ia-D;
g_.map[w+1]=hN-y}}else if(x=="Dspl"&&bu.length!=0){dK=W.UndA.v.UndA=="WrpA"?2:1;var eH=W.DspF.v.pth,e4,kj=W.DspD,iP,bL,aZ;
if(kj){var bX=kj.v;iP=bX[1]*256+bX[0];bL=bX[5]*256+bX[4];aZ=new Uint8Array(bX.slice(10,10+iP*bL))}else{for(var w=0;
w<bu.length;w++)if(bu[w].sd==eH)e4=bu[w];if(e4==null)e4=bu[0];e4.Hi();var e$=e4.mp[1],aZ=r.R(e$.P());
r.ad(e4.mp[0],aZ);iP=e$.m;bL=e$.e}g_={Xv:iP,eD:bL};g_.map=new Float32Array(g_.Xv*g_.eD*2);var hi=2.54*W.HrzS.v*iP/B,dR=2.54*W.VrtS.v*bL/e;
for(var y=0;y<g_.eD;y++){for(var D=0;D<g_.Xv;D++){var kA=-.5+aZ[y*iP+D]*(1/255),w=y*g_.Xv+D<<1;g_.map[w]=kA*hi;
g_.map[w+1]=kA*dR}}}else if(x=="Pnch"||x=="Twrl"||x=="Sphr"||x=="ZgZg"){var fB=1,jU=Math.PI,aa=0,ih=1,bf=0,gZ=3,kr=1.53,ez=1;
if(x=="Pnch"||x=="Sphr"||x=="ZgZg")fB=W.Amnt.v/100;if(x=="ZgZg"){ih=W.NmbR.v;bf=["ArnC","OtFr","PndR"].indexOf(W.ZZTy.v.ZZTy)}if(x=="Twrl")jU=W.Angl.v*Math.PI/180;
if(x=="Sphr")aa=["Nrml","HrzO","VrtO"].indexOf(W.SphM.v.SphM);function kG(D){D=Math.pow(D,1-D*.3-D*D*(D*D)*.5);
return-.225*Math.sin(D*Math.PI)}function eN(e,jb,g,gi,e6,fF,by,ez){var H=fF-gi,Q=by-e6,d8=gi-e,eS=e6-jb,ak=H*H+Q*Q,gx=2*(H*d8+Q*eS),gZ=d8*d8+eS*eS-g*g,dz=Math.sqrt(gx*gx-4*ak*gZ),d5=ez/(2*ak),aU=(-gx+dz)*d5,gO=(-gx-dz)*d5;
return ez*Math.min(aU,gO)}var h0=g_.Xv,gF=g_.eD,b4=g_.Xv/2,jT=g_.eD/2,bM=1/b4,g=Math.sqrt(gZ*gZ+1)/gZ,e3=gZ+Math.sqrt(1/(gZ*gZ));
if(fB<0){gZ=1.72;g=1;e3=gZ;kr=-1;ez=-1}for(var y=0;y<gF;y++){var Q=(y-jT)/jT;for(var D=0;D<h0;D++){var H=(D-b4)*bM;
if(aa==1)Q=0;else if(aa==2)H=0;var b_=Math.sqrt(H*H+Q*Q);if(b_<1&&b_!=0){var w=y*g_.Xv+D<<1;if(x=="Pnch"){var jM=-fB*kG(b_)/b_;
g_.map[w]=H*jM*b4;g_.map[w+1]=Q*jM*jT}else if(x=="Sphr"){var db=eN(0,e3,g,0,0,b_,gZ,ez),ba=kr*fB*(db-1);
g_.map[w]=H*ba*b4;g_.map[w+1]=Q*ba*jT}else if(x=="Twrl"){var iA=Math.atan2(Q,H)-jU*(1-b_)*(1-b_),ep=Math.cos(iA),ch=Math.sin(iA);
g_.map[w]=(b_*ep-H)*b4;g_.map[w+1]=(b_*ch-Q)*jT}else if(x=="ZgZg"){var ep=0,ch=0,i4=fB*(.5-.5*Math.cos(b_*ih*2*Math.PI))*(1-b_);
if(bf==0){var iA=Math.atan2(Q,H)-3.5*i4;ep=b_*Math.cos(iA);ch=b_*Math.sin(iA)}if(bf==1){i4=100/B*i4/b_;
ep=(1-i4)*H;ch=(1-i4)*Q}if(bf==2){var M=512/B*i4*Math.PI/4;ep=M+H;ch=M+Q}g_.map[w]=(ep-H)*b4;g_.map[w+1]=(ch-Q)*jT}}}}}else if(x=="Shr "){var gq=JSON.parse(JSON.stringify(W.ShrP.v));
r.z3.i(gq,new iJ(0,255/127,255/127,0,-2,0));var b0=r.z3.eN(gq,g_.eD,!0);dK=W.UndA.v.UndA=="WrpA"?2:1;
for(var y=0;y<g_.eD;y++){var H=-b0[y]*g_.Xv;for(var D=0;D<g_.Xv;D++){var w=y*g_.Xv+D<<1;g_.map[w]=H}}}else if(x=="Wave"){var gI=W.NmbG.v,f7=W.WLMn.v,hD=W.WLMx.v,jv=W.AmMn.v*(Math.PI/4),kh=W.AmMx.v*(Math.PI/4),kf=W.SclH.v/100,hT=W.SclV.v/100,gU=W.Wvtp.v.Wvtp,i4=Math.sin;
if(gU=="WvTr")i4=function(D){D*=2/Math.PI;return-.5+Math.abs(D%2-1)};if(gU=="WvSq")i4=function(D){D*=2/Math.PI;
return 1+2*Math.floor(D%2-1)};var hR=[],bb=new r.l.SS(W.RndS.v);for(var w=0;w<gI;w++){hR.push(bb.get()*10);
hR.push(Math.PI*dL/(f7+bb.get()*(hD-f7)));hR.push(kf*(jv+bb.get()*(kh-jv))/dL);hR.push(bb.get()*10);
hR.push(Math.PI*dL/(f7+bb.get()*(hD-f7)));hR.push(hT*(jv+bb.get()*(kh-jv))/dL)}var ka=[],eO=[],gC=Math.max(g_.Xv,g_.eD);
for(var w=0;w<gC;w++){var H=0,Q=0;for(var hn=0;hn<gI;hn++){var a0=hn*6;H+=hR[a0+2]*i4(hR[a0]+w*hR[a0+1]);
Q+=hR[a0+5]*i4(hR[a0+3]+w*hR[a0+4])}ka[w]=Q;eO[w]=H}for(var y=0;y<g_.eD;y++){for(var D=0;D<g_.Xv;D++){var w=y*g_.Xv+D<<1;
g_.map[w]=eO[y];g_.map[w+1]=ka[D]}}dK=W.UndA.v.UndA=="WrpA"?2:1}else if(x=="Rple"){dK=1;var fB=W.Amnt.v/100,aW=4,iR=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],k6=1,jO=1,d8=0,fp=["Sml","Mdm","Lrg"].indexOf(W.RplS.v.RplS);
if(fp==0){k6=1;jO=.2;d8=3}if(fp==2){k6=1;jO=2;d8=-1;iR=iR.reverse()}var hy=function(D,y){var gZ=Math.cos,d3=0;
for(var w=0;w<aW;w++)for(var hn=0;hn<aW;hn++)d3+=iR[w*aW+hn]*gZ(D*(w+d8)-y*(hn+d8));return d3},iL=Math.floor(50/dL),cL=new Float32Array(iL*iL*2),kF=jO*fB*.5/dL;
for(var y=0;y<iL;y++)for(var D=0;D<iL;D++){var eK=k6*D*2*Math.PI/iL,dq=k6*y*2*Math.PI/iL,f3=hy(eK,dq),H=(hy(eK+.01,dq)-f3)*100,Q=(hy(eK,dq+.01)-f3)*100,w=(y*iL+D)*2;
cL[w]=H*kF;cL[w+1]=Q*kF}for(var y=0;y<g_.eD;y++)for(var D=0;D<g_.Xv;D++){var ch=y%iL,ep=D%iL,w=y*g_.Xv+D<<1,fo=ch*iL+ep<<1;
g_.map[w]=cL[fo];g_.map[w+1]=cL[fo+1]}}}r.n9.nE(F.buffer,$.buffer,B,e,null,g_.map,g_.Xv,g_.eD,dK)}return $};
var kx={};kx.a5z="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");kx.C9="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
kx.Vp=["ScrC","ScrD","ScrL"];kx._v=["SDRD","SDHz","SDLD","SDVt"];kx.Ez="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
kx.k2="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");kx.sS="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
kx.nz=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];kx.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
kx.Iz=function(x){var F;if(x=="ClrP")F={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(x=="Ct")F={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(x=="DryB")F={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(x=="FlmG")F={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(x=="Frsc")F={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(x=="NGlw")F={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(x=="PntD")F={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(x=="PltK")F={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(x=="PlsW")F={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(x=="PstE")F={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(x=="RghP")F={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(x=="SmdS")F={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(x=="Spng")F={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(x=="Undr")F={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(x=="Wtrc")F={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(x=="AccE")F={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(x=="AngS")F={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(x=="Crsh")F={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(x=="DrkS")F={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(x=="InkO")F={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(x=="Smie")F={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(x=="Spt")F={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(x=="SprS")F={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(x=="DfsG")F={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(x=="Gls")F={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(x=="OcnR")F={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(x=="BsRl")F={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(x=="ChlC")F={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(x=="Chrc")F={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(x=="Chrm")F={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(x=="CntC")F={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(x=="GraP")F={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(x=="HlfS")F={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(x=="NtPr")F={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(x=="Phtc")F={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(x=="Plst")F={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(x=="Rtcl")F={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(x=="Stmp")F={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(x=="TrnE")F={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(x=="WtrP")F={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(x=="GlwE")F={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(x=="Crql")F={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(x=="Grn")F={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(x=="MscT")F={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(x=="Ptch")F={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(x=="StnG")F={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(x=="Txtz")F={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
F.__name="Filter Gallery";F.classID="GEfc";F.GEfk={t:"enum",v:{GEft:x}};F.GELv={t:"bool",v:!0};return F};
kx.ER=function(x,F){for(var w=0;w<F.length;w++)~~(F[w]=(x[4*w]+x[4*w+1]+x[4*w+2])*(1/3))};kx.avo=function(x,F,W,n,L,$){var l=UPNG.quantize(x,F);
l={m4:l.inds,g5:l.plte};if($){var k=new Uint32Array(l.g5.length);for(var w=0;w<k.length;w++)k[w]=l.g5[w].est.rgba;
l.m4=r.aoB(new Uint8Array(x),W,n,new Uint8Array(k.buffer))}var V=Math.floor((W+n)*.015);if(V!=0&&L)r.Cf.aoi(l.m4,W,n,V);
return l};kx.Pl=function(x,F,W,n,L,$,l){x=W.GEfk.v.GEft;var k=F.rect,V=k.m,i=k.e,f=V*i,X=W.FlRs?W.FlRs.v>>>1:0;
function s(Z){return Z.o<<24|Z.r<<16|Z.z<<8|255}if(x=="ClrP")r.X.awR(F.buffer,V,i,$.buffer,[W.Pncl.v,W.StrP.v,W.PprB.v]);
if(x=="Ct"){var R=W.NmbL.v,h=W.EdgS.v,B=kx.avo(F.buffer.buffer,R*2,V,i,!0);for(var w=0;w<B.m4.length;
w++)B.m4[w]++;var e=new Uint8Array((V+2)*(i+2));r.Hz(B.m4,new eu(1,1,V,i),e,new eu(0,0,V+2,i+2));var U=r.Z.aez(e,V+2,i+2,h,!1),o=new iJ(1,0,0,1,-1,-1);
for(var w=0;w<U.length;w++)r.Z.i(U[w].path.p,o,U[w].path.p);var b=[],u=B.g5;for(var w=0;w<u.length;w++){var Z=u[w].est.q;
b.push({o:Math.round(255*Z[0]),r:Math.round(255*Z[1]),z:Math.round(255*Z[2]),V:Math.round(255*Z[3])})}var I=r.bz(V,i);
for(var w=0;w<U.length;w++){var y=U[w],Z=b[y.color-1];if(Z.V==0)continue;I.fillStyle="rgba("+Z.o+","+Z.r+","+Z.z+","+Z.V/255+")";
I.beginPath();Typr.U.pathToContext({crds:y.path.p,cmds:y.path.G},I);I.fill()}if(!k.ak()){var D=I.getImageData(0,0,V,i);
r.Bj(D.data,$.buffer)}}if(x=="DryB")r.X.aDd(F.buffer,V,i,$.buffer,[W.BrsS.v,W.BrsD.v,W.Txtr.v]);if(x=="FlmG")r.X.alS(F.buffer,V,i,$.buffer,[W.Grn.v,W.HghA.v,W.Intn.v,X]);
if(x=="Frsc")r.X.afN(F.buffer,V,i,$.buffer,[W.BrsS.v,W.BrsD.v,W.Txtr.v]);if(x=="NGlw")r.X.azJ(F.buffer,V,i,$.buffer,[W.Sz.v,W.Brgh.v,s(r.I.z$(W.Clr.v)),s(n),s(L)]);
if(x=="PltK")r.X.a12(F.buffer,V,i,$.buffer,[W.StrS.v,W.StDt.v,W.Sftn.v]);if(x=="PstE")r.X.ai_(F.buffer,V,i,$.buffer,[W.EdgT.v,W.EdgI.v,W.Pstr.v]);
if(x=="RghP")r.X.acl(F.buffer,V,i,$.buffer,[W.StrL.v,W.StDt.v,kx.Ez.indexOf(W.TxtT.v.TxtT),W.Scln.v,W.Rlf.v,kx.C9.indexOf(W.LghD.v.LghD),W.InvT.v]);
if(x=="SmdS")r.X.aym(F.buffer,V,i,$.buffer,[W.StrL.v,W.HghA.v,W.Intn.v,W.FlRs?W.FlRs.v:0,X]);if(x=="Spng")r.X.af$(F.buffer,V,i,$.buffer,[W.BrsS.v,W.Dfnt.v,W.Smth.v,W.FlRs?W.FlRs.v:0,X]);
if(x=="Undr")r.X.ama(F.buffer,V,i,$.buffer,[W.BrsS.v,W.TxtC.v,kx.Ez.indexOf(W.TxtT.v.TxtT),W.Scln.v,W.Rlf.v,kx.C9.indexOf(W.LghD.v.LghD),W.InvT.v]);
if(x=="Wtrc")r.X.alm(F.buffer,V,i,$.buffer,[W.BrsD.v,W.ShdI.v,W.Txtr.v]);if(x=="AccE")r.X.ajG(F.buffer,V,i,$.buffer,[W.EdgW.v,W.EdgB.v,W.Smth.v]);
if(x=="AngS")r.X.a0t(F.buffer,V,i,$.buffer,[W.DrcB.v,W.StrL.v,W.Shrp.v]);if(x=="Crsh")r.X.aeQ(F.buffer,V,i,$.buffer,[W.StrL.v,W.Shrp.v,W.Strg.v]);
if(x=="DrkS")r.X.a9$(F.buffer,V,i,$.buffer,[W.Blnc.v,W.BlcI.v,W.WhtI.v]);if(x=="InkO")r.X.a0H(F.buffer,V,i,$.buffer,[W.StrL.v,W.DrkI.v,W.LghI.v]);
if(x=="Smie")r.X.a66(F.buffer,V,i,$.buffer,[W.StrW.v,W.StrP.v,W.Cntr.v]);if(x=="DfsG")r.X.ata(F.buffer,V,i,$.buffer,[W.Grns.v,W.GlwA.v,W.ClrA.v,s(L),X]);
if(x=="CntC")r.X.aan(F.buffer,V,i,$.buffer,[W.FrgL.v,W.BckL.v,kx.Ez.indexOf(W.TxtT.v.TxtT),W.Scln.v,W.Rlf.v,kx.C9.indexOf(W.LghD.v.LghD),W.InvT.v,s(L),s(n)]);
if(x=="ChlC")r.X.a55(F.buffer,V,i,$.buffer,[W.ChrA.v,W.ChlA.v,W.StrP.v,X,s(L),s(n)]);var N=x=="GraP"||x=="Chrc"||x=="Plst"||x=="Rtcl"||x=="Stmp"||x=="TrnE";
if(N){var j=r.R(V*i);if(x=="GraP")r.X.a4y(F.buffer,V,i,$.buffer,[W.StrL.v,W.LgDr.v,kx._v.indexOf(W.SDir.v.StrD),X]);
if(x=="Chrc")r.X.ac6(F.buffer,V,i,$.buffer,[W.ChAm.v,W.Dtl.v,W.LgDr.v]);if(x=="Plst")r.X.aki(F.buffer,V,i,$.buffer,[W.ImgB.v,kx.k2.indexOf(W.LghP.v.LghP),W.Smth.v]);
if(x=="Rtcl")r.X.azc(F.buffer,V,i,$.buffer,[W.Dnst.v,W.BlcL.v,W.WhtL.v,X]);if(x=="Stmp")r.X.awj(F.buffer,V,i,$.buffer,[W.LgDr.v,W.Smth.v]);
if(x=="TrnE")r.X.aiO(F.buffer,V,i,$.buffer,[W.ImgB.v,W.Smth.v,W.Cntr.v,X]);r.Tb($.buffer,j,0);kx.hi(j,$.buffer,n,L)}if(x=="NtPr")r.X.axc(F.buffer,V,i,$.buffer,[W.ImgB.v,W.Grns.v,W.Rlf.v,s(n),s(L),X]);
if(x=="WtrP")r.X.agU(F.buffer,V,i,$.buffer,[W.FbrL.v,W.Brgh.v,W.Cntr.v,X>>>1]);if(x=="Crql")r.X.a8_(F.buffer,V,i,$.buffer,[W.CrcS.v,W.CrcD.v,W.CrcB.v,X]);
if(x=="Grn")r.X.aAD(F.buffer,V,i,$.buffer,[W.Intn.v,kx.sS.indexOf(W.Grnt.v.Grnt),W.Cntr.v,s(n),s(L),X]);
if(x=="MscT")r.X.a4N(F.buffer,V,i,$.buffer,[W.TlSz.v,W.GrtW.v,W.LghG.v,X]);if(x=="Ptch")r.X.apj(F.buffer,V,i,$.buffer,[W.SqrS.v,W.Rlf.v,X]);
if(x=="Phtc"){function H(gq,kr,k,iA){r.wG.P0(gq,kr,k,iA);for(var w=0;w<f;w++)kr[w]=Math.max(0,Math.min(255,128+gq[w]-kr[w]))}var Q=W.Dtl.v,C=W.Drkn.v,J=r.R(f);
r.ad(F.buffer,J);var E=r.R(f);H(J,E,k,1);if(Q==1){Q=2;C=Math.round(C/4)}var T=r.R(f);H(J,T,k,Q);for(var w=0;
w<f;w++)J[w]=Math.max(0,Math.min(255,255-(E[w]-T[w])*C));kx.hi(J,$.buffer,n,L)}if(x=="Spt"||x=="SprS"){var c,a=1,K=1;
c={Xv:Math.floor(V/K),eD:Math.floor(i/K)};c.map=new Float32Array(c.Xv*c.eD*2);var Y=new r.l.SS(X),p=new Float32Array(8192),P=W.SprR.v,m=P<20?.018*P:.36+(P-20)*.128;
if(x=="SprS"){m=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][P]}for(var w=0;
w<8192;w++)p[w]=(-1+2*Y.get())*m*70;for(var z=0;z<i;z++)for(var M=0;M<V;M++){var d=z*V+M<<1;c.map[d]=p[d%7919];
c.map[d+1]=p[(d+1)%7919]}var A=c.map.slice(0),G=x=="Spt"?W.Smth.v-1:1;if(x=="Spt"&&G!=0){kx.axA(c.map,A,V,i,G);
kx.a4x(A,c.map,V,i,G)}if(x=="SprS"){var kB=W.StrL.v>>>1,q=kB==0?2:1;kx.axA(c.map,A,V,i,q);kx.a4x(A,c.map,V,i,q);
if(kB!=0){var fO=kx._v.indexOf(W.SDir.v.StrD),g=[1,1,1,0][fO],jN=[-1,0,1,1][fO],c6=2*kB+1,a7=1/c6;for(var z=0;
z<i;z++)for(var M=0;M<V;M++){var d=z*V+M<<1,bd=0,ey=0;for(var w=0;w<c6;w++){var c5=Math.max(0,Math.min(V-1,M-(kB+w)*g)),ap=Math.max(0,Math.min(i-1,z-(kB+w)*jN)),fC=ap*V+c5<<1;
bd+=c.map[fC];ey+=c.map[fC+1]}A[d]=bd*a7;A[d+1]=ey*a7}c.map=A}}r.n9.nE(F.buffer,$.buffer,V,i,null,c.map,c.Xv,c.eD,a)}if(x=="BsRl"||x=="PlsW"||x=="Chrm"){var kE=Date.now(),bm=r.R(f),fe=bm.slice(0);
r.ad(F.buffer,bm);var Q=W.Dtl.v,g8=W.Smth.v;if(Q!=15){r.wG.kt(bm,fe,k,Math.round((15-Q)*.5));r.Bj(fe,bm)}var e0=1.4/V,cF=1.4/i,ei=new Float32Array(f),cr=new Float32Array(f),e_=new Float32Array($.buffer.buffer);
for(var z=0;z<i;z++)for(var M=0;M<V;M++){var w=z*V+M,g=M==V-1?bm[w]-bm[w-1]:bm[w+1]-bm[w],jN=z==i-1?bm[w]-bm[w-V]:bm[w+V]-bm[w],gg=M*e0-.7,bW=z*cF-.7;
ei[w]=g==0?gg:g*.4;cr[w]=jN==0?bW:jN*.4}if(x=="BsRl"){var gx=(2+kx.C9.indexOf(W.LghD.v.LghD))*Math.PI*.25,bd=Math.cos(gx);
if(Math.abs(bd)<.1)bd=0;bd=Math.sign(bd);var ey=Math.sin(gx);if(Math.abs(ey)<.1)ey=0;ey=Math.sign(ey);
var h$=1/(bd*bd+ey*ey);for(var z=0;z<i;z++)for(var M=0;M<V;M++){var w=z*V+M,dH=Math.max(-1,Math.min(1,bd*ei[w])),eg=Math.max(-1,Math.min(1,ey*cr[w]));
fe[w]=128+127*(dH+eg)*h$}if(g8!=1){r.wG.kt(fe,bm,k,Math.round((g8-1)*.5));r.Bj(bm,fe)}kx.hi(fe,$.buffer,n,L)}else{if(x=="Chrm")g8=5+g8;
if(g8>1)kx.KT(ei,cr,e_,k,g8-1);if(x=="PlsW"){var aB=new Uint8Array(ei.buffer);for(var w=0;w<f;w++){var gB=w<<2,g=ei[w],jN=cr[w],jy=1/(Math.sqrt(1+g*g)*Math.sqrt(1+jN*jN)),aV=jy*jy,ie=aV*aV,Z=~~(255*(ie*ie*aV));
aB[gB+0]=Z;aB[gB+1]=Z;aB[gB+2]=Z;aB[gB+3]=Z}$.buffer.set(F.buffer);r.l.X3("norm",aB,k,$.buffer,k,k,W.HghS.v/20)}else if(x=="Chrm"){var cT=$.buffer,a_=V>>>1,gs=i>>>1;
for(var w=0;w<f;w++){var gB=w<<2,g=ei[w],jN=cr[w],gq={x:1,y:0,Bb:g};hM.om(gq);var kr={x:0,y:1,Bb:jN};
hM.om(kr);var iN=hM.are(gq,kr),jH=1/iN.Bb,h2=~~Math.max(0,Math.min(V-1,a_-iN.x*jH*a_)),an=~~Math.max(0,Math.min(i-1,gs-iN.y*jH*gs)),Z=bm[an*V+h2];
cT[gB+0]=Z;cT[gB+1]=Z;cT[gB+2]=Z}}}}if(x=="Gls"||x=="OcnR"||x=="Txtz"){var bt=x=="OcnR"?2:kx.Ez.indexOf(W.TxtT.v.TxtT),kH=kx.iP(bt),js=kH[0],bm=kH[1],gA=js.m,jR=js.e,c6=24,ft=0,eZ,hf;
function c3(i6,jm,d_){return~~(iU*(i6+jm)+8192)&127}var ei=new Float32Array(f),cr=new Float32Array(f),e_=new Float32Array($.buffer.buffer),iU=x=="OcnR"?1/(1+(W.RplS.v-1)*.1):100/W.Scln.v;
if(bt==3)iU*=32/22.2;var kE=Date.now(),hn=iU,e0=1.4/V,cF=1.4/i;if(x=="Txtz"){hn*=1/255;c6=256}for(var z=0;
z<i;z++){var db=c3(z,k.y,jR),ap=db+1&127;for(var M=0;M<V;M++){var w=z*V+M,dy=c3(M,k.x,gA),c5=dy+1&127,c2=0,bk=0,cx=0;
if(x=="Txtz"){c2=r.D.jE(iU*M,iU*z,bm,128,128);bk=r.D.jE(iU*M,iU*z+1,bm,128,128);cx=r.D.jE(iU*M+1,iU*z,bm,128,128)}else{c2=bm[db*gA+dy];
bk=bm[ap*gA+dy];cx=bm[db*gA+c5]}ei[w]=Math.max(-c6,Math.min((cx-c2)*hn,c6));cr[w]=Math.max(-c6,Math.min((bk-c2)*hn,c6))}}if(x=="Txtz")kx.aiy(ei,cr,e_,k,6);
else kx.KT(ei,cr,e_,k,x=="Txtz"?1:x=="OcnR"?3.5/iU:W.Smth.v);if(x=="Txtz")ft=W.InvT.v?-1:1;else if(x=="Gls"){ft=[1,.4,.5,.5,.5,.5,.5][bt]*(Math.exp(W.Dstr.v*.155)-1);
if(W.InvT.v)ft=-ft}else{ft=.5*(Math.exp(W.RplM.v*.155)-1)}var cT=$.buffer;if(x=="Txtz"){var gx=(2+kx.C9.indexOf(W.LghD.v.LghD))*Math.PI*.25,bd=Math.cos(gx),ey=Math.sin(gx);
eZ={x:bd,y:ey,Bb:0};hM.om(eZ);hf=W.Rlf.v;hf=hf/4+Math.max(0,(hf-35)*2)}function jr(gq,kr,bF){var k7=r.l.overF(kr,gq,1),i6=(1-bF)*gq+bF*(bF*kr+(1-bF)*k7);
return i6*255}for(var z=0;z<i;z++)for(var M=0;M<V;M++){var w=z*V+M,gB=w<<2,g=ei[w],jN=cr[w],gq={x:1,y:0,Bb:g};
hM.om(gq);var kr={x:0,y:1,Bb:jN};hM.om(kr);var iN=hM.are(gq,kr);if(x=="Txtz"){var ix=hM.ayi(iN,eZ)*ft,bF=1,Z=1;
if(ix<0){Z=0;ix=-ix}bF=Math.min(1,ix*hf);cT[gB+0]=~~jr(F.buffer[gB]*(1/255),Z,bF);cT[gB+1]=~~jr(F.buffer[gB+1]*(1/255),Z,bF);
cT[gB+2]=~~jr(F.buffer[gB+2]*(1/255),Z,bF)}else{var jH=ft/iN.Bb,h2=~~Math.max(0,Math.min(V-1,M-iN.x*jH)),an=~~Math.max(0,Math.min(i-1,z-iN.y*jH)),fA=an*V+h2<<2;
cT[gB+0]=F.buffer[fA];cT[gB+1]=F.buffer[fA+1];cT[gB+2]=F.buffer[fA+2]}}}if(x=="PntD"){var ax=W.Shrp.v*.4,jA=W.BrsT.v.BrsT,g1={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[jA],iA=Math.round(W.Sz.v*.5);
r.R_.ub=g1[0];r.R_.CY(F.buffer,$.buffer,V,i,iA,0,[]);var iQ=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];iQ=r.Ro.vt(iQ);
var fB=$.buffer.slice(0);r.Ro.sA(fB,$.buffer,V,i,iQ,0);for(var w=0;w<F.buffer.length;w++){var dn=$.buffer[w]-fB[w];
$.buffer[w]=Math.max(0,Math.min(255,fB[w]+ax*dn))}}if(x=="GlwE"){var jp=$.buffer.slice(0);r.R_.ub=.5;
r.R_.CY(F.buffer,jp,V,i,W.Smth.v>>>1,0,[]);r.Ro.a3p(jp,$.buffer,V,i);r.Bj($.buffer,jp);r.sx(jp);r.De(jp,4278190080,16777215);
r.sQ.aC0(jp,$.buffer,V,i,(W.EdgW.v>>>1)*2+1,!0);var fP=W.EdgB.v/10;for(var w=0;w<jp.length;w++){if((w&3)==3)continue;
var k7=$.buffer[w];$.buffer[w]=Math.max(0,Math.min(255,k7*fP))}}if(x=="StnG"){r.Qd.amc(F.buffer,V,i,$.buffer,W.ClSz.v,[Math.round(n.o),Math.round(n.r),Math.round(n.z)],W.BrdT.v)}if(x=="HlfS"){var hs=W.HlSz.v,kb=hs*2+1,gn=W.Cntr.v,iy=kx.Vp.indexOf(W.ScrT.v.ScrT),f=V*i,gU=f*4,jV=r.R(f),jf=F.buffer,cb=0,bw=0;
kx.ER(jf,jV);var gw=jV.slice(0);r.wG.asB(gw,jV,k,hs);var bU=Math.PI/kb,id=new Float64Array(V),bd=new Float64Array(V),kC=new Float64Array(2*V);
for(var M=0;M<V;M++){var dy=(M-(V>>>1))*bU;id[M]=dy*dy;bd[M]=Math.cos(dy);var g=M<<1;kC[g]=Math.sin(g*(1/4.5));
kC[g+1]=Math.sin((g+1)*(1/4.5))}for(var z=0;z<i;z++){var db=(z-(i>>>1))*bU,ey=Math.cos(db),dr=db*db;
for(var M=0;M<V;M++){var Z=ey;if(iy==0){var hu=.5+Math.sqrt(id[M]+dr)*4.5;Z=kC[~~hu]}else if(iy==1){Z=bd[M]*ey}var w=z*V+M,gi=jV[w]*(.75+.25*Z),bF=jf[(w<<2)+3]*(1/255),e6=Math.max(0,Math.min(255,~~gi));
cb+=e6*bF,bw+=bF;jV[w]=e6}}cb/=bw;var by=128+1.26*(cb-128),fP=.08+.25*Math.abs((128-cb)/128),dZ=1+fP*gn;
for(var w=0;w<f;w++){var gi=by+(jV[w]-by)*dZ;jV[w]=Math.max(0,Math.min(255,~~gi))}if(gn>46)r.round(jV);
kx.hi(jV,$.buffer,n,L)}for(var w=0;w<F.buffer.length;w+=4)$.buffer[w+3]=F.buffer[w+3]};kx.hi=function(x,F,W,n){var L=x.length,$=W.o,l=W.r,k=W.z,V=n.o,i=n.r,f=n.z;
for(var w=0;w<L;w++){var X=x[w]*(1/255),s=1-X,R=w<<2;F[R]=~~($*s+V*X);F[R+1]=~~(l*s+i*X);F[R+2]=~~(k*s+f*X)}};
kx.iP=function(x){if(x==6)x=2;var F="blocks canvas frosted tinylens brick burlap".split(" ")[x];if(kx.oR==null)kx.oR=[];
if(kx.oR[x]==null){var W,n;if(x==2){n=new eu(0,0,128,128);var L=ew.Iz("AdNs");L.Mnch.v=!0;L.Dstr.v.Dstr="Gsn";
L.Nose.v.val=50;var W=r.R(n.P()*4),$=W.slice(0);new Uint32Array($.buffer).fill(4286611584);ew.Pl("AdNs",{buffer:$,rect:n},L,0,0,{buffer:W,rect:n})}else{var l=jW.yL.get("tex/"+F,!0)[0];
n=l.Sf;W=new Uint8Array(l.data)}var k=r.R(n.P());r.Tb(W,k,0);kx.oR[x]=[n,k]}return kx.oR[x]};kx.KT=function(x,F,W,n,L){if(L<=1){L=Math.round(L);
kx.aiy(x,F,W,n,[1,16,4][L]);return}var $=L*.42;if(x){r.wG.vL(x,W,n,$,3);x.set(W)}if(F){r.wG.vL(F,W,n,$,3);
F.set(W)}};kx.aiy=function(x,F,W,n,L){var $=r.Ro.vt([1,2,1,2,L,2,1,2,1]);if(x){W.set(x);r.Ro.a9_(x,W,n.m,n.e,$);
x.set(W)}if(F){W.set(F);r.Ro.a9_(F,W,n.m,n.e,$);F.set(W)}};kx.lc=function(x){if(x==null)return new eX(0,0);
var F=0,W=x.GEfs?x.GEfs.v:[{v:x}];for(var w=0;w<W.length;w++){var n=W[w].v,$=1e4;if(n.GELv&&!n.GELv.v)continue;
var L=n.GEfk.v.GEft;if(L=="GlwE"||L=="Phtc"||L=="BsRl"||L=="PlsW"||L=="Chrm"||L=="Gls"||L=="OcnR"||L=="InkO")$=0;
F=Math.max(F,$)}return new eX(F,F)};kx.a3P=function(x){var F=[0,0,0,0,0,0,0,0,0,0,0,0,0],W=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][x];
for(var w=0;w<13;w++){var n=w-6;F[w]=1/(W*Math.sqrt(2*Math.PI))*Math.exp(-.5*(n/W)*(n/W))}return F};
kx.axA=function(x,F,W,n,L){var $=kx.a3P(L),l=6,k=13;for(var V=0;V<n;V++)for(var i=0;i<W;i++){var f=V*W+i<<1,X=0,s=0;
for(var w=0;w<k;w++){var R=i+w-l,h=R<0?0:R>=W?W-1:R,B=(V*W+h)*2,e=$[w];X+=e*x[B];s+=e*x[B+1]}F[f]=X;
F[f+1]=s}};kx.a4x=function(x,F,W,n,L){var $=kx.a3P(L),l=6,k=13;for(var V=0;V<n;V++)for(var i=0;i<W;i++){var f=V*W+i<<1,X=0,s=0;
for(var w=0;w<k;w++){var R=V+w-l,h=R<0?0:R>=n?n-1:R,B=(h*W+i)*2,e=$[w];X+=e*x[B];s+=e*x[B+1]}F[f]=X;
F[f+1]=s}};function a2(){}a2.Jv=[2,5,5,7,4,4];a2.BL="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
a2.Se="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
a2.bb=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
a2.j2=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
a2.zy=function(x){if(x=="passThrough")return"pass";return a2.BL[a2.Se.indexOf(x)]};a2.KN=function(x){if(x=="pass")return"passThrough";
return a2.Se[a2.BL.indexOf(x)]};a2.getName=function(x){return a2.bb[a2.BL.indexOf(x)]};function t(){this.rect=null;
this.buffer=null;this.q_="norm";this.opacity=255;this.gO=!1;this.Tg=!1;this.xb=0;this.ju=0;this.nS=!0;
this.mv=[];for(var w=0;w<10;w++)this.mv.push(0,0,255,255);this.name=null;this.add={};this.HL=null;this.uW=null;
this.F=null;this.y7=null;this.aqL=30;this.L0=null;this.Cq=null;this._G=null;this.iH=null;this.sj=0;this.HZ=!1;
this.vp=null;this.jT=new t.B_}t.B_=function(){this.lM=!0;this.ex=!0;this.Ad=r.R(0);this.a3K=r.R(0);this.DR=null;
this.LX={};this.asy=null;this.J4=null;this.lh=null;this.SY=null;this.SV=null;this.KW=null;this.od=null;
this.l4=null;this.tI=null;this.JF=null;this.vr=null;this.Es=null;this.qZ=!1};t.B_.prototype.ayI=function(){this.lM=null;
this.ex=!1;this.DR=null;this.qZ=hl.Cp};t.B_.prototype.ab_=function(){hM.a6v(this.LX);this.Ad=r.R(0);
this.a3K=r.R(0);if(this.SY)this.SY.delete();if(this.SV)this.SV.delete();this.SY=null;this.SV=null;var x=[this.KW,this.od,this.l4,this.tI,this.JF,this.vr];
for(var w=0;w<6;w++)if(x[w]!=null&&x[w]instanceof hl.Co)x[w].delete();this.KW=null;this.od=null;this.l4=null;
this.tI=null;this.JF=null;this.vr=null};t.prototype.W=function(x){if(x==null)x=this.rect.clone();if(this.jT.DR==null)this.jT.DR=x;
else this.jT.DR=this.jT.DR.oA(x)};t.prototype.vN=function(){return this.add.lsct==eD.en||this.add.lsct==eD.Tn};
t.prototype.qA=function(){var x=this.add;return x.SoCo!=null||x.GdFl!=null||x.PtFl!=null||x.vstl!=null};
t.prototype.a8x=function(){var x=this.add.lmfx;if(x==null)return;var F=["GrFl","patternFill"];for(var w=0;
w<F.length;w++){var W=eC.UM[eC.order.indexOf(F[w])],n=x[W].v;if(n.length==0)continue;for(var L=0;L<n.length;
L++){var $=n[L].v;if($.enab.v&&($.Algn==null||!$.Algn.v))this.jT.ex=!0}}};t.prototype.ahx=function(){var x=this.F,F=this.jT.lM;
if(this.qA())x=this.GH();if(!hl.Cp)return x.Jb();if(this.jT.SV==null||F||hl.Cp!=this.jT.qZ){var W=x.oU(),n=this.jT.SV,L=null;
if(F!=!0&&F!=null){L=F.clone();L.offset(-W.x,-W.y)}if(n==null||n.m!=W.m||n.e!=W.e){n=this.jT.SV=new hl.Z$(W.m,W.e);
L=null}n.set(x.Jb(),L)}return this.jT.SV};t.prototype.a9y=function(x){var F=this.rect,W=this.buffer;
if(!hl.Cp){var n=this.Ab(x,W,F);if(n){W=n.Xu;F=n.rect}return W}if(this.jT.DR!=null||hl.Cp!=this.jT.qZ){var n=this.Ab(x,W,F);
if(n){W=n.Xu;F=n.rect}var L=F;if(hl.Cp!=this.jT.qZ||this.jT.SY==null||this.jT.SY.m!=L.m||this.jT.SY.e!=L.e){if(this.jT.SY)this.jT.SY.delete();
this.jT.SY=new hl.Co(L.m,L.e);this.jT.SY.set(W)}else{var $=this.jT.DR.clone();$.offset(-F.x,-F.y);this.jT.SY.set(W,$)}}return this.jT.SY};
t.prototype.gS=function(){var x=this.F;if(this.qA())x=this.GH();return x!=null&&x.isEnabled&&(!x.rect.ak()||x.z$()!=255)};
t.prototype.Ab=function(x,F,W){if(this.mK()){var n=this.DU(x);if(n.F&&n.F.isEnabled&&(!n.F.rect.ak()||n.F.color==0)){var L=this.add.SoLd.filterFX.v;
n.F.q9=L.filterMaskDensity?L.filterMaskDensity.v:255;n.F.vX=L.filterMaskFeather?L.filterMaskFeather.v:0;
var $=n.buffer,l=n.rect;if(l.P()<W.P()){l=W;$=r.R(l.P()*4);r.sh(n.buffer,n.rect,$,l)}var k=n.F.PM(W);
r.sx(k);F=F.slice(0);r.l.qV($,l,F,W,k,W,0,W,1);return{Xu:F,rect:W}}}};t.prototype.a9i=function(){var x={q4:!1,xI:!1,Kc:0,DL:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)x.xI=!0;if(this.GH()&&this.GH().isEnabled)x.q4=!0;if(x.q4&&x.xI){x.Kc=this.GH().rect.x-this.add.vmsk.GH().rect.x;
x.DL=this.GH().rect.y-this.add.vmsk.GH().rect.y}return x};t.prototype.pZ=function(x,F){if(aH!=0)return;
if(F&&this.GH().vX!=0){F=F.clone();var W=Math.round(this.GH().vX*2.4);F.za(W,W)}var n=!1;if(this.add.lsct==eD.iS)return;
var L=this,$=this.GH()!=null&&this.GH().DQ,l=this.add.vmsk!=null&&this.add.vmsk.DQ,k=this.a9i(),V=JSON.stringify(k)!=this.jT.asy||k.q4&&$||k.xI&&l;
if(V){if(k.xI){var i=this.add.vmsk.GH();if(k.q4){this.F=this.GH().pY(i);this.jT.J4=new eX(this.F.rect.x-this.GH().rect.x,this.F.rect.y-this.GH().rect.y)}else this.F=i}if(this.F)n=!0;
if(this.F)this.jT.lh=new eX(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);if(k.q4)this.GH().DQ=!1;
if(k.xI)this.add.vmsk.DQ=!1;this.W(F)}else{if(k.q4&&k.xI){this.F.rect.x=this.GH().rect.x+this.jT.J4.x;
this.F.rect.y=this.GH().rect.y+this.jT.J4.y}}if(L.qA()){this.SI(x)}if(L.aQ()){var f;if(this.F)f=new eX(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);
if(this.F&&this.F.isEnabled&&(this.jT.lh==null||!f.rr(this.jT.lh))){this.jT.lh=f;this.W(F);n=!0}}if(a3.get(L.add)!=null)n=!0;
if(n){var X=this.jT.lM;if(F&&X&&X!=!0)X=X.oA(F);else X=F?F:!0;this.jT.lM=X}this.jT.asy=JSON.stringify(k)};
t.prototype.SI=function(x){if(aH!=0)return;var F=this,W=F.add.vstk,n=new eu(0,0,x.m,x.e),L,$=F.add.vmsk?this.add.vmsk.GH():null,V=!0,X;
if($&&$.isEnabled&&$.z$()==0)L=$.oU().clone();else L=n;var l=F.GH();if(l&&l.isEnabled&&l.z$()==0)L=L.jB(F.F.oU());
var k=$&&W;if(W&&(!W.strokeEnabled.v||W.strokeStyleLineWidth.v.val==0))k=!1;if(W&&!W.fillEnabled.v&&k)V=!1;
var i=r.R(L.P()*4);if(V){if(F.add.SoCo)hM.XJ(i,F.add.SoCo.Clr.v);if(F.add.GdFl){var f=$&&$.color==0?r.j.Bd(F.add.vmsk.$,null,!0):null;
hM.FF(F.add.GdFl,i,L,x,null,f)}if(F.add.PtFl)hM.dh(F.add.PtFl,i,L,x.add.Patt,F.add.fxrp)}if(k)X=eC.pr.Uu.indexOf(W.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if($){var s=$.q9;if(k)$.q9=255;var R=r.R(L.P());if($.z$()!=0)R.fill(Math.round($.z$()));if($&&$.isEnabled){var h=$.oU(),B=$.Jb();
if(h.rr(L))r.Bj(B,R);else r.Hz(B,h,R,L)}if(k&&X==2){}else{if(F.add.SoCo&&V){r.rW(R,i,3)}else r.L7(R,L,i,L)}if(k)$.q9=s}F.buffer=i;
F.rect=L;if(k){var e=W.strokeStyleContent.v,U=eC.pr.K8.indexOf(e.classID),o=this.add.vmsk.GH(W);if(X!=0&&!F.rect.rr(n))F.extend(F.rect.oA(o.oU()));
var s=o.q9;o.q9=255;var b=o.PM(F.rect);o.q9=s;if(o.color==255)r.sx(b);var u=r.R(F.rect.P()*4);if(U==0)hM.XJ(u,e.Clr.v);
if(U==1)hM.FF(e,u,F.rect,x,null,$.color==0?$.rect:null);if(U==2)hM.dh(e,u,F.rect,x.add.Patt,F.add.fxrp);
var Z=W.strokeStyleOpacity.v.val/100;if(Z!=1)r.LH(b,Z);if(o.color==255)X=2-X;if(X<2){r.l.qV(u,F.rect,F.buffer,F.rect,b,F.rect,255,F.rect,1,!1);
if(X==0)r.Wz(R,F.buffer)}if(X==2){r.Wz(b,u);r.sx(R);r.l.qV(u,F.rect,F.buffer,F.rect,R,L,255,F.rect,1,!1);
r.sx(R)}if(o.q9!=255){var I=u.slice(0);r.De(I,4278190080,16777215);r.l.X3("norm",I,F.rect,F.buffer,F.rect,F.rect,1-o.q9/255)}s=$.q9;
$.q9=255;this.a3K=$.PM(F.rect);$.q9=s}this.W()};t.prototype.Bw=function(x,F,W,n){var L=this,$=L.add.SoLd.Idnt.v,l=L.add.SoLd,k=O.Y.kT(l.nonAffineTransform),V=r.Z.KR(k),i=x.OB($,l.Crop?l.Crop.v:null,[V.m,V.e],l.Impr.v.classID,W),o=null;
if(i==null)return;var f=i.mp;l.Sz.v.Wdth.v=f[1].m;l.Sz.v.Hght.v=f[1].e;if(aH!=0)return;var X=i.Bq==null?l.Rslt.v.val:i.Bq,s=l.quiltWarp.v;
if(r.xP.oK(s))s=null;var R=r.D.An(k,f[1]);if(s){var V=r.Z.KR(r.xP.Bs(s)[3]),h=V.x,B=V.y,e=1/V.m,U=1/V.e;
R=r.D.An(k);R=r.D.pY(R,[e,0,-h*e,0,U,-B*U,0,0])}if(!F&&!L.mK()&&s==null){var b=x.B.indexOf(L),u=t.k$(L);
for(var w=0;w<b;w++){var Z=x.B[w];if(Z.add.SoLd&&!Z.mK()&&t.k$(Z)[0]==u[0]){var I=t.k$(Z);o={buffer:Z.buffer.slice(0),rect:Z.rect.clone()};
o.rect.offset(Math.round(u[1]-I[1]),Math.round(u[2]-I[2]));break}}}if(o==null)o=O.Y.QJ(f,F?0:1,R,s,null,null,null,F);
if(o==null){L.buffer=r.R();L.rect=new eu}else if(L.mK()){var y=L.DU(x);if(n){y.buffer.fill(0);r.sh(o.buffer,o.rect,y.buffer,y.rect)}else{y.buffer=o.buffer;
y.rect=o.rect.clone()}this.Gt(x,F)}else{L.buffer=o.buffer;L.rect=o.rect}L.pZ(x);L.W();x.W()};t.k$=function(x){var F=x.add.SoLd,W=F.Idnt.v,n=O.Y.kT(F.nonAffineTransform),L=r.D.An(n,new eu(0,0,1e3,1e3)),$=F.quiltWarp.v;
if(r.xP.oK($))$=null;return[[W,L[0],L[1],L[3],L[4],L[6],L[7],$==null].join(":"),L[2],L[5]]};t.prototype.Gt=function(x,F){if(F==null)F=!1;
var W=this.DU(x),n=this.add.SoLd.filterFX.v,L=ew.amk(n),$=new eu(0,0,x.m,x.e),l=W.rect.oA($),k=W.rect.clone();
k.za(L.x,L.y);var V={buffer:null,rect:l.jB(k)};V.buffer=r.R(V.rect.P()*4);r.sh(W.buffer,W.rect,V.buffer,V.rect);
if(n.enab.v&&F==!1){var i=n.filterFXList.v;for(var w=0;w<i.length;w++){var f=i[w].v;if(f.enab.v==!1)continue;
var X=f.blendOptions.v,s=a2.zy(X.Md.v.BlnM),R=X.Opct.v.val/100,h=r.I.z$(f.FrgC.v),B=r.I.z$(f.BckC.v),e=ew.Vd(f),U={buffer:r.R(V.buffer.length),rect:V.rect.clone()},o=f.Fltr?f.Fltr.v:null;
if(a3.UO[e]!=null){var b=a3.UO[e],u=a3.So(b,o);if(u)a3.Pl(u,V.buffer,U.buffer,V.rect)}else ew.Pl(e,V,o,h,B,U,[x.add.lnk2?x.add.lnk2:[],this.GH(),x.o2]);
if(s=="norm"&&R==1)V=U;else if(s=="norm"){r.l.qV(U.buffer,U.rect,V.buffer,V.rect,null,null,null,V.rect,R)}else{r.l.X3(s,U.buffer,U.rect,V.buffer,V.rect,V.rect,R)}}}this.rect=V.rect;
this.buffer=V.buffer;this.iv();this.W();x.W()};t.prototype.Gx=function(x,F,W){this.vp=this.a2H(x,F,W)};
t.prototype.vs=function(x,F){var W=this.a2H(x,F,!0);if(W==null)return null;var n={ll:W.sj,LK:W.WS,rect:W.Ce};
if(n.ll==1||n.ll==3){var L=n.rect,$=r.R(L.m*L.e*4);r.rW(n.LK,$,0);r.rW(n.LK,$,1);r.rW(n.LK,$,2);r.aos(x.u.channel,x.u.rect,$,L);
n.LK=$}return n};t.prototype.a2H=function(x,F,W){var n,L,$,l,k,V,i;if(this.sj<=0){var f=r.R(this.rect.P());
r.Tb(this.buffer,f,3);n=r.KF.e$(F,{channel:f,rect:this.rect},3);if(n==null)return null;var X=r.c_(n.channel,n.rect);
l=n.rect.clone();k=this.rect.clone();L=r.R(l.P()*4);r.sh(this.buffer,k,L,l);r.rW(n.channel,L,3);$=this.buffer.slice(0);
if(!W){var s=F.channel.slice(0);r.sx(s);r.L7(s,F.rect,$,k)}V=this.buffer.slice(0);i=this.rect.clone()}if(this.sj==1||this.sj==3){var R=this.sj==1?this.GH():this.DU(x).F;
l=F.rect.clone();k=R.rect.clone();L=R.QY(l);var $=R.channel.slice(0);if(!W)r.l.f9(R.color==255?r.Yv(l.P()):r.I2(l.P()),l,$,k,F.channel,l,1);
V=R.channel.slice(0);i=R.rect.clone()}return{sj:this.sj,WS:L,Ce:l,A$:$,J9:k,Cc:V,Ix:i}};t.prototype.LG=function(x,F){var W=this.vp;
if(W.sj==0){this.rect=W.Ix;this.buffer=W.Cc;this.W()}if(W.sj==1||W.sj==3){var n=W.sj==1?this.GH():this.DU(x).F;
n.channel=W.Cc;n.rect=W.Ix;if(this.sj==1){n.DQ=!0;this.pZ(x)}if(this.sj==3)this.W()}this.vp=F};t.prototype.zG=function(x,F){if(this.sj<=0&&F.rect.rr(this.rect)){var W=r.R(this.rect.P());
r.Tb(this.buffer,W,3);if(r.rr(x.u.channel,W)){var n=this.rect,L=this.buffer;this.vp={sj:this.sj,WS:L.slice(0),Ce:n.clone(),A$:r.R(0),J9:new eu,Cc:r.R(0),Ix:new eu};
return!0}}var $=this.vp;if($==null)return!1;if($.sj!=this.sj)return!1;if(!F.rect.rr($.Ce))return!1;var l=$.J9.oA($.Ce);
if($.sj<=0){if(!l.rr(this.rect))return!1;var k=r.R($.WS.length>>2);r.Tb($.WS,k,3);if(!r.rr(F.channel,k))return!1;
var V=r.R(l.m*l.e*4);r.sh($.A$,$.J9,V,l);r.l.X3("norm",$.WS,$.Ce,V,l,l,1);return r.rr(V,this.buffer)}if($.sj==1||$.sj==3){var i=$.sj==1?this.GH():this.DU(x).F;
if(!l.rr(i.rect))return!1;var f=r.R(l.P());f.fill(i.color);r.Hz($.A$,$.J9,f,l);r.l.f9($.WS,$.Ce,f,l,F.channel,l,1);
return r.rr(f,i.channel)}};t.prototype.FE=function(x,F,W,n){var L=this.vp;L.Ce.offset(F,W);var $=L.J9.oA(L.Ce);
if(L.sj<=0){var l=r.R($.P()*4);r.sh(L.A$,L.J9,l,$);r.l.X3("norm",L.WS,L.Ce,l,$,$,1);this.buffer=l;this.rect=$;
this.W()}else{var k=this.sj==1?this.GH():this.DU(x).F,V=r.R($.P());V.fill(k.color);r.Hz(L.A$,L.J9,V,$);
r.l.f9(L.WS,L.Ce,V,$,n.channel,$,1);k.channel=V;k.rect=$.clone();if(this.sj==1){k.DQ=!0;this.pZ(x)}if(this.sj==3)this.W()}};
t.prototype.anX=function(x){var F=[-1,0,1,2];if(x)F.push(3);if(this.F)F.push(-2);if(this.y7)F.push(-3);
return F};t.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};t.prototype.sc=function(dx){this.add.luni=this.name=dx};
t.prototype.$w=function(x){var F=this.add.lnsr,W=this.add.TySh;if(F=="rend"&&W){var n=iV.YG(W.OU);this.sc(n.slice(0,n.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
t.prototype.MG=function(){return(this.xb&1<<1)==0};t.prototype.aQ=function(){return(this.xb&1<<4)==0};
t.prototype.gN=function(){return(this.xb&1<<5)!=0};t.prototype.a6M=function(){var x=this;if(x.add.lnsr!="bgnd"){x.add.lnsr="bgnd";
x.sc("Background");x.add.lspf=1<<2}};t.prototype.awW=function(){var x=this;if(x.add.lnsr=="bgnd"){delete x.add.lnsr;
x.sc("Layer 0");x.add.lspf=0}};t.prototype._3=function(x){var F=this.add.lspf;return F==null?!1:(F>>x&1)!=0};
t.prototype.FH=function(x){if(x&&!this.MG())this.xb-=2;if(!x&&this.MG())this.xb+=2};t.prototype.e6=function(){var x=this.add.lmfx;
if(x==null)return!1;for(var F in x){if(F=="masterFXSwitch")continue;if(F=="Scl")continue;if(F=="classID")continue;
if(x[F].v.length>0)return!0}return!1};t.prototype.mK=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
t.prototype.VX=function(){var x=this.add.lmfx;if(x==null)return!1;if(!x.masterFXSwitch.v)return!1;for(var F in x){if(F=="masterFXSwitch")continue;
if(F=="Scl")continue;if(F=="classID")continue;var W=x[F].v;for(var w=0;w<W.length;w++)if(W[w].v.enab.v)return!0}return!1};
t.prototype.Kn=function(){var x=this,F=x.add.SoLd,W=x.add.TySh,n=x.add.vmsk,L=[];if(F)L=O.Y.kT(F.nonAffineTransform);
if(W&&this.jT.hq){L=r.Z.o4(x.jT.hq).p;r.Z.i(L,W.i,L)}if(n)L=r.Z.o4(n.ay$()).p;return L};t.prototype.JH=function(x,F,W,n){if(aH==1)return r.Z.KR(this.Kn());
var L=new eu,$=this.ET(x,W,n);if($.indexOf(0)!=-1)L=L.oA(this.rect);if($.indexOf(1)!=-1){var l=this.GH(),k=l.oU();
L=W&&l.z$()==0?L.ak()?k:L.jB(k):L.oA(k)}if($.indexOf(2)!=-1){var V=this.add.vmsk,i=this.add.vstk,f;if(F){if(V.Au.length>1){var X=r.j.ja(V.$,null,V.Au);
f=r.Z.KR(X);if(f.ak())f=null}if(f==null)f=r.j.Bd(V.$,V.g.length!=0?V.g:null)}else f=r.j.Bd(V.$);if(!n&&i&&i.strokeEnabled.v){var s=i.strokeStyleLineAlignment.v.strokeStyleLineAlignment,R=i.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(s!="strokeStyleAlignInside"){var h=i.strokeStyleLineWidth.v.val;if(R=="strokeStyleMiterJoin")f=new eu(0,0,x.m,x.e);
else f.za(h,h)}}L=L.oA(f)}if($.indexOf(3)!=-1)L=L.oA(this.DU(x).F.oU());if($.length==0&&this.qA())L=n?new eu(0,0,0,0):new eu(0,0,x.m,x.e);
return L};t.prototype.G9=function(){var x=this.add.artb,F=x.artboardBackgroundType.v,W=0;if(F==1)W=4294967295;
else if(F==2)W=4278190080;else if(F==3)W=0;else if(F==4){W=x.Clr.v;W=255<<24|W.Bl.v<<16|W.Grn.v<<8|W.Rd.v}else throw F;
return W};t.prototype.U$=function(){var x=this.add.artb.artboardRect.v,F=x.Btom.v,W=x.Left.v,n=x.Rght.v,top=x.Top.v;
return new eu(W,top,n-W,F-top)};t.prototype.lK=function(x){var F=t.x6(x);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=F};t.x6=function(x){var F={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
F.Btom.v=x.y+x.e;F.Left.v=x.x;F.Rght.v=x.x+x.m;F.Top.v=x.y;return F};t.prototype.ET=function(x,F,W){var n=[],L=this;
if(!F&&L.HZ&&W){n.push(2)}else if(L.sj<=0||F){if(L.aQ()){if(aH==1&&L.add.TySh)n.push(0);if(aH==1&&L.add.SoLd)n.push(0);
else if(!this.rect.ak())n.push(0)}if(L.GH()&&!L.GH().rect.ak())if(L.GH().eS||F)n.push(1);if(L.add.vmsk)if(L.add.vmsk.eS||F)n.push(2);
if(L.mK()&&L.DU(x).F&&!L.DU(x).F.rect.ak())n.push(3)}else if(L.sj==1){n.push(1);if(L.GH().eS&&!L.GH().rect.ak()){if(L.aQ())if(!this.rect.ak())n.push(0);
if(L.add.vmsk)if(L.add.vmsk.eS)n.push(2)}}else if(L.sj==3&&!L.DU(x).F.rect.ak())n.push(3);if(L.add.artb&&n.indexOf(0)==-1)n.push(0);
n.sort();return n};t.prototype.GH=function(){var x=this;return x.y7?x.y7:x.add.vmsk&&x.add.vmsk.isEnabled?null:x.F};
t.prototype.DU=function(x){var F=this.add.SoLd.placed.v,W=x.add.FEid;if(W==null)return null;for(var w=0;
w<W.length;w++)if(W[w].id==F)return W[w];return null};t.prototype.extend=function(x){r.ahG(this,x)};
t.prototype.aDp=function(x,F,W){var n=x.clone();if(this.VX()){var L=this.add.lmfx,$=F.root.y9(F.B.indexOf(this)),l=L.gradientFillMulti.v,k=!1;
for(var w=0;w<l.length;w++)if(l[w].v.enab.v&&l[w].v.Algn.v)k=!0;if(k)n=n.oA($.oU(F,!1));var V=hM.atG(this.add.lmfx,F,W);
n.offset(V.x,V.y);n.m+=V.m;n.e+=V.e}return n};t.prototype.iv=function(){if(this.aQ())r.L4(this);var x=this.GH();
if(x)x.iv()};t.prototype.clone=function(){var x=new t;x.rect=this.rect.clone();x.buffer=this.buffer.slice(0);
x.q_=this.q_;x.opacity=this.opacity;x.gO=this.gO;x.xb=this.xb;x.name=this.name;x.mv=this.mv.slice(0);
if(this.F)x.F=this.F.clone();if(this.y7)x.y7=this.y7.clone();for(var F in this.add)x.add[F]=dv.clone(F,this.add[F]);
return x};t.prototype.tD=function(x){var F=this;if(F.add.TySh)delete F.add.TySh;if(F.add.SoLd){var W=this.Ab(x,this.buffer,this.rect);
if(W){this.buffer=W.Xu;this.rect=W.rect;this.W()}delete F.add.SoLd}if(F.add.SoCo||F.add.GdFl||F.add.PtFl){if(F.add.vogk)delete F.add.vogk;
if(F.add.SoCo)delete F.add.SoCo;if(F.add.GdFl)delete F.add.GdFl;if(F.add.PtFl)delete F.add.PtFl;if(F.add.vmsk){console.log(F.y7,F.F);
delete F.add.vmsk;if(F.y7==null&&F.F)delete F.F;else if(F.y7!=null&&F.F!=null){F.F=F.y7;delete F.y7}}}if(!F.vN()&&a3.get(F.add)==null&&!this.aQ())this.xb-=16};
t.prototype.Lq=function(x){var F=255,W=0;if(x==2){var n=this.add.SoLd.filterFX.v;if(n.filterMaskDensity)F=n.filterMaskDensity.v;
if(n.filterMaskFeather)W=n.filterMaskFeather.v}else{var L=x==0?this.GH():this.add.vmsk;F=L.q9;W=L.vX}return{L3:x,cj:F,Un:W}};
t.prototype.acA=function(x){if(x.L3==2){var F=this.add.SoLd.filterFX.v;if(x.cj==255)delete F.filterMaskDensity;
else F.filterMaskDensity={t:"long",v:x.cj};if(x.Un==0)delete F.filterMaskFeather;else F.filterMaskFeather={t:"doub",v:x.Un};
this.W()}else{var W=x.L3==0?this.GH():this.add.vmsk;W.q9=x.cj;W.vX=x.Un;W.DQ=!0}};t.prototype.oO=function(){var x=this,F=x.add.vmsk;
if(F==null)return;x.add.vogk=r.mq.a3F(F.$)};t.oO=function(x){var F=[],W=r.j.tn(x);for(var n=0;n<W;n++)F.push(r.mq.I2());
return F};var eD={g_:0,en:1,Tn:2,iS:3};t.gm=function(){this.name="Mask";this.NZ=!1;this.Rr={o:255,r:0,z:0};
this.eE=50;this.d$=0;this.color=255;this.eS=!0;this.isEnabled=!0;this.fU=!1;this.q9=255;this.vX=0;this.rect=new eu;
this.channel=r.R(0);this.eR=null;this.arC=null;this.DQ=!0};t.gm.prototype.pY=function(x){if(!this.isEnabled)return x;
var F=new t.gm;F.color=Math.round(this.z$()*x.z$()/255);if(this.z$()==0&&x.z$()==0)F.rect=this.oU().jB(x.oU());
else if(x.z$()==0)F.rect=x.oU().clone();else if(this.z$()==0)F.rect=this.oU().clone();else F.rect=this.oU().oA(x.oU());
F.channel=this.PM(F.rect);F.q9=255;F.vX=0;var W=x.PM(F.rect);r.aj1(W,F.rect,F.channel,F.rect);return F};
t.gm.prototype.oU=function(){if(this.vX==0)return this.rect;var x=Math.ceil(this.vX*2.2),F=this.rect.clone();
if(F.y==0){if(F.x==0)F.m+=x;else F.za(x,0);F.e+=x}else F.za(x,x);return F};t.gm.prototype.Jb=function(){if(this.vX==0&&this.q9==255)return this.channel;
if(this.vX==0){var x=this.channel.slice(0);r.sx(x);r.LH(x,this.q9/255);r.sx(x);return x}var F=this.oU(),W=this.QY(F),x=r.R(F.P());
r.wG.kt(W,x,F,this.vX);if(this.q9!=255){r.sx(x);r.LH(x,this.q9/255);r.sx(x)}return x};t.gm.prototype.z$=function(){return Math.round(255-(255-this.color)*(this.q9/255))};
t.gm.prototype.extend=function(x){r.extend(this,x,this.color)};t.gm.prototype.iv=function(){if(this.color==255)r.sx(this.channel);
r.iv(this);if(this.color==255)r.sx(this.channel)};t.gm.prototype.clone=function(){var x=new t.gm;x.name=this.name;
x.NZ=this.NZ;x.Rr=this.Rr;x.eE=this.eE;x.d$=this.d$;x.color=this.color;x.eS=this.eS;x.isEnabled=this.isEnabled;
x.fU=this.fU;x.q9=this.q9;x.vX=this.vX;x.rect=this.rect.clone();x.channel=this.channel.slice(0);return x};
t.gm.prototype.QY=function(x,F){if(F==null)F=r.R(x.P());F.fill(this.color);r.Hz(this.channel,this.rect,F,x);
return F};t.gm.prototype.PM=function(x,F){var W=this.oU(),n=this.Jb();if(F==null)F=r.R(x.P());F.fill(this.z$());
r.Hz(n,W,F,x);return F};t.C$=function(){this.eS=!0;this.isEnabled=!0;this.q9=255;this.vX=0;this._c=0;
this.eb=0;this.$=[{type:6},{type:8,all:0}];this.GO=[-3,-3];this.TC=!1;this.y7=null;this.DQ=!0;this.g=[];
this.Au=[]};t.C$.prototype.ay$=function(x){var F=t.C$.uF(this.$),W=new iJ;if(x)W.rotate(-this._c);r.j.js(F,W);
return r.j.Bd(F)};t.C$.prototype.aim=function(){var x=this.ay$(!0),F=r.Z.o4(x).p,W=new iJ;W.rotate(this._c);
r.Z.i(F,W,F);return F};t.C$.prototype.offset=function(x,F){this.y7=this.GH();r.j.js(this.$,new iJ(1,0,0,1,x,F));
this.y7.rect.offset(x,F)};t.C$.prototype.GH=function(x){if(!this.DQ&&this.y7&&x==null){this.y7.isEnabled=this.isEnabled;
return this.y7}var F=r.j.Bd(this.$),W="strokeStyleLineAlignment",n="strokeStyleLineJoinType";if(F.P()>2e4*2e4)F=new eu(0,0,100,100);
if(x&&x[W].v[W]!="strokeStyleAlignInside"){var L=1;if(x[n].v[n]=="strokeStyleMiterJoin"){var $=r.j.atd(this.$),l=$/2,k=Math.sin(l),V=Math.cos(l);
V/=k;k=1;var L=Math.sqrt(V*V+k*k);if(isNaN(L)||L<1)L=1}L*=x[W].v[W]=="strokeStyleAlignOutside"?1:.5;
var i=Math.ceil(x.strokeStyleLineWidth.v.val*L);i=Math.min(i,600);F.za(i,i)}F=r.Z.Jy(F);var f=new t.gm;
f.color=r.j.Km(this.$)?0:255;f.eS=this.eS;f.isEnabled=this.isEnabled;f.fU=!0;f.rect=F;f.q9=this.q9;f.vX=this.vX;
f.channel=r.R(f.rect.P());if(!F.ak())r.j.aab(this.$,f.channel,f.rect,x);if(x==null){this.y7=f;this.DQ=!1}return f};
t.C$.prototype.clone=function(){var x=new t.C$;x.eS=this.eS;x.isEnabled=this.isEnabled;x.q9=this.q9;
x.vX=this.vX;x._c=this._c;x.$=t.C$.uF(this.$);x.GO=this.GO.slice(0);x.TC=this.TC;x.g=this.g.slice(0);
x.Au=this.Au.slice(0);return x};t.C$.prototype.concat=function(x){var F=x.$.slice(2);if(F.length==0)return;
F[0].eb=3;this.$=this.$.concat(F)};t.C$.uF=function(x){var F=[];for(var w=0;w<x.length;w++){var W=x[w];
if(W.type>5||W.type==0||W.type==3)F.push(JSON.parse(JSON.stringify(W)));else F.push({type:W.type,Xs:W.Xs.clone(),L:W.L.clone(),vf:W.vf.clone()})}return F};
t.C$.avM=function(x,F,W){if(x.length!=F.length)return!1;for(var w=2;w<x.length;w++){var n=x[w],L=F[w];
if(n.type!=L.type)return!1;if(n.type==0||n.type==3){if(n.length!=L.length||!W&&n.eb!=L.eb)return!1}else if(!n.Xs.rr(L.Xs)||!n.L.rr(L.L)||!n.vf.rr(L.vf))return!1}return!0};
t.C$.prototype.alL=function(){var x=this.$;for(var w=3;w<x.length;w++)if(x[w].type==0||x[w].type==3)x[w].eb=-1};
t.xN=function(){this.type=null;this.Fi=2;this.sd=null;this.GR="";this.d_="";this.Hr="";this.open=0;this.raw=null;
this.mp=null;this.a0y="";this.Sv=!1};t.xN.prototype.clone=function(){var x=new t.xN;x.type=this.type;
x.Fi=this.Fi;x.sd=this.sd;x.GR=this.GR;x.d_=this.d_;x.Hr=this.Hr;x.open=this.open;x.raw=new Uint8Array(this.raw.buffer.slice(0));
return x};t.xN.prototype.Hi=function(x,F,W,n,L){if(W==null)W="none";var $=this,l=jW.XM($.raw.buffer),k=l=="svg"||l=="pdf"||l=="ai";
if($.mp){var V=F&&k&&Math.max($.mp[1].m,$.mp[1].e)<Math.max(F[0],F[1]);if(!V&&W==this.a0y&&!$.Sv)return}this.a0y=W;
if(!k)x=0;if(l==null){alert("Unsupported format: "+_.xR($.raw,0,4));return null}var i=jW.w0(l);if(i.sG){var f=new az(name+(l=="psd"?"":"-"+l)+".psd"),X;
i.La($.raw.buffer,f,F);var s=new eu(0,0,f.m,f.e);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(W)!=-1){var R=[];
for(var w=0;w<f.B.length;w++){var h=f.B[w],B=h.buffer;if(!h.rect.rr(s)){B=r.R(s.P()*4);r.sh(h.buffer,h.rect,B,s);
console.log("resizing")}R.push(B)}X=r.R(s.P()*4);r.stack.stack(R,X,W)}else{for(var w=0;w<f.B.length;
w++)if(f.B[w].qA())f.B[w].pZ(f);if(n&&f.Sv){var e=kc.OQ(f,n,L);$.Sv=!e;if(e)kc.xD(f,n,L)}f.vq();f.W();
f.KS();X=f.Hi()}$.mp=[X,s];$.Bq=f.Bq!=null&&f.Bq!=0?f.Bq:72}else if(i){var U=i.La($.raw.buffer)[0];$.mp=[new Uint8Array(U.data),U.Sf];
$.Bq=U.Bq!=null&&U.Bq!=0?U.Bq:72}if($.mp){if(x==1){var B=$.mp[0],o=$.mp[1],b=r.R(o.P());r.Tb(B,b,3);
var u=r.c_(b,o),Z=r.R(u.P()*4);r.sh(B,o,Z,u);u.x=u.y=0;$.mp=[Z,u]}r.Bh($.mp)}};t.Fu="0";t.AL="2";t.xU="2.5";
t.oP="2.6";t.C5="3";t.sF="4";t.co="4.5";t.a63="4.6";t.arX="5";t.x0="5.5";t.UB="6";t.J2="7";t.ath="8";
t.df="9";t.tT="9.3";t.aqR="9.5";t.KE="9.6";t.Xt="10";t.ha="11";t.OG="12";t.Tc="13";t.LO="13.1";t.a54="13.2";
t.dN="13.3";t.QI="13.4";t.aH="14";t.s0="14.1";t.xk="14.2";t.mR="14.3";t.ra="17";t.Re="18";t.acX="19";
t.$b="19.5";t.Bl="19.6";t.pV="19.7";t.L9="19.8";t.rX="20";t.W2="21";t.ku="21.5";t.MD="22";t.R3="22.5";
t._k="23";t.am8="24";t.uA="25";t.aoC="26";t.aii="27";t.Zn="28";t.Tm="29";t.bs="30";t.rF="31";t.Ut="32";
t.Hg="33";t._u="34";t.Xy="35";t.r_="36";t.kR="36.5";t.YV="37";t.gM="37.5";t.a4k="37.6";t.hF="38";t.rz="38.5";
t.Jl="38.6";t.Br="39";t.uQ="40";t.awd="41";t.Dg="42";t.bN="50";t.Lk="51";t.db="52";t.nv="53";t.Os="54";
t.a2y="54.5";t.kx="54.6";t.acP="54.7";t.vO="54.8";t.lr="55";t.W5="56";t.G$="57";t.P$="58";t.ge="59";
t.r8="60";function a6(){this.depth=0;this.index=-1;this.a=null;this.a1H=null;this.PF=-1;this.children=null;
this.parent=null;this.KC=null}a6.prototype.ai1=function(x,F){if(this.depth!=0)x.push(this.a.getName());
if(this.children)for(var w=0;w<this.children.length;w++)this.children[w].ai1(x,F);if(x.length>F._M.length)F._M=x.slice(0);
if(this.depth!=0)x.pop()};a6.prototype.aB$=function(){var x=0;if(this.a.vN()){for(var w=0;w<this.children.length;
w++)x+=this.children[w].aB$()}else if(this.a.buffer)x+=this.a.buffer.length;return x};a6.prototype.y9=function(x){var F=this.KC[x];
return this.KC[x]};a6.prototype.anI=function(x,F){var W=this.a;if(!W.MG()||W._3(2)||W._3(31))return null;
if(W.gS()){var n=W.F.rect.yU(x);if(!n&&W.F.color==0)return}if(W.vN()){for(var w=0;w<this.children.length;
w++){var dx=this.children[w];dx.anI(x,F)}}else if(aH==1){var L=W.Kn();if(x.yU(r.Z.KR(L))&&F.indexOf(this.index)==-1)F.push(this.index)}else if(W.rect.yU(x))F.push(this.index)};
a6.prototype.VY=function(x,F){var W=this.a;if(!W.MG()||W._3(2)||W._3(31))return null;if(W.gS()){if(W.F.rect.U4(x)){if(!r.VY(x,W.F.channel,W.F.rect))return null}else if(W.F.color==0)return null}if(W.vN()){if(W.add.artb&&!W.U$().U4(x))return null;
for(var w=this.children.length-1;w>=0;w--){var dx=this.children[w],n=dx.VY(x,F);if(n&&F==null)return n}return null}else if(aH==1){if(W.add.vmsk){var L=W.add.vstk,$=!L.fillEnabled.v&&!W.Tg,l=L.strokeStyleLineWidth.v.val*.5,k=r.j.VY(W.add.vmsk.$,x,$,l);
return k.Fp==-1?null:this}var V=W.Kn();if(jX.QS(V,x.x,x.y))return this}else if(W.add.TySh&&W.rect.U4(x)||r.afb(x,W.buffer,W.rect)){if(F==null)return this;
else F.push(this.index)}return null};a6.prototype.abO=function(x){var F=this.a;if(!F.MG()||F._3(2)||F._3(31))return null;
var W=F.add.vmsk;if(W&&W.isEnabled){var n=r.j.VY(W.$,x).Fp;if(n!=-1)return{anh:this,agB:n}}if(F.vN()){if(F.add.artb&&!F.U$().U4(x))return null;
for(var w=this.children.length-1;w>=0;w--){var dx=this.children[w],L=dx.abO(x);if(L)return L}return null}return null};
a6.prototype.f8=function(x,F){x.push(this.index);if(this.a.vN()){x.push(this.PF);if(F)if(this.a.sj==1&&this.a.GH().eS==!1)return;
for(var w=0;w<this.children.length;w++)this.children[w].f8(x)}};a6.WN=function(){var x=document.createElement("canvas");
return x.getContext("2d")};a6.auO=function(x,F){var W,n;if(x.m>x.e){W=F;n=Math.floor(F*(x.e/x.m))}else{W=Math.floor(F*(x.m/x.e));
n=F}return new eX(W,n)};a6.zY=32;a6.r$=1;a6.prototype.k7=function(x,F,W){var n=a6.r$,L=this.a;if(L.vN()&&L.add.artb!=null)F=L.U$();
var $=n==0?L.rect:F;if($.ak()||L.add.TySh)$=F;var l=a6.zY*O.e1(),k=a6.auO($,l),V=k.x,i=k.y,f=a6.auO(F,l);
if(L.qA()&&L.add.vmsk==null||L.add.TySh)V=i=Math.max(i,16);else if(L.vN()){V=i=Math.round(18*O.e1())}else{V=Math.max(V,6);
i=Math.max(i,6)}if(W&&L.L0==null){L.L0=a6.WN();L.Cq=a6.WN();L._G=a6.WN();L.iH=a6.WN()}var X=L.qA()&&L.add.vmsk;
if(X){if(W&&L.add.vstk)r.pa.Ep(L.L0,V,i,$,L.buffer,L.rect,!1,null,!L.add.vstk.fillEnabled.v&&!L.add.vstk.strokeEnabled.v);
if(W)r.pa.asn(L.L0,V,i)}else if(L.add.TySh){if(W)r.pa.a1F(L.L0,i,i,L.add.TySh)}else if(L.add.SoCo){if(W)r.pa.arT(L.L0,i,i,L.add.SoCo)}else if(L.add.GdFl){if(W)r.pa.ao7(L.L0,i,i,L.add.GdFl)}else if(L.add.PtFl){if(W)r.pa.avV(L.L0,i,i,L.add.PtFl,x)}else if(a3.get(L.add)!=null){if(W)r.pa.aux(L.L0,i,i,L.add)}else if(L.add.SoLd){if(W)r.pa.Ep(L.L0,V,i,$,L.buffer,L.rect,!1);
if(W)r.pa.aoa(L.L0,V,i,L.add.SoLd)}else if(L.vN()){}else{if(W){if(L.aQ())r.pa.Ep(L.L0,V,i,$,L.buffer,L.rect,!1);
else{r.pa.anB(L.L0,i,i)}}}var s=L.GH();if(W){if(s)r.pa.wp(L.Cq,f.x,f.y,F,s);if(L.mK()&&L.DU(x)&&L.DU(x).F){var R=L.DU(x).F;
r.pa.wp(L.iH,f.x,f.y,F,R)}if(!X&&L.add.vmsk){r.pa.wp(L._G,f.x,f.y,F,L.add.vmsk.GH(),!0)}}if(s||L.add.vmsk)i=Math.max(i,f.y);
L.aqL=Math.max(i,16);if(W!=!0&&L.vN()&&(L.add.lsct==eD.en||x.B.length<4e3))for(var w=0;w<this.children.length;
w++)this.children[w].k7(x,F)};a6.prototype.ave=function(x,F,W,n){this.depth=W;var L=x[F];if(n==null)n=[];
this.KC=n;if(L.add.lsct==eD.iS){this.a1H=L;this.PF=F-1;this.children=[];var w=F+1;while(!0){var $=x[w];
if($==null)console.log(w,x.length);if($.add.lsct==eD.en||$.add.lsct==eD.Tn){if(L.add.lyid==$.add.lyid)L.add.lyid+=16777215;
this.a=$;this.index=w-1;n[this.index]=this;n[F-1]=this;break}var l=new a6;l.parent=this;w=l.ave(x,w,W+1,n);
this.children.push(l)}return w+1}else{this.a=L;this.index=F-1;n[this.index]=this;return F+1}};a6.prototype.cn=function(x,F,W,n){var L=this.y9(W),$=x;
while(L.parent!=null){$=L.a.aDp($,F,n);L=L.parent}return $};a6.prototype.oU=function(x,F){var W=this.a,n=new eu;
if(!W.MG())return n;var L=W.GH();if(W.vN())for(var w=0;w<this.children.length;w++){var $=this.children[w].oU(x,!0);
n=n.oA($)}else if(a3.get(W.add)!=null)n=W.gS()&&W.F.color==0?W.F.oU().clone():new eu(0,0,x.m,x.e);else if(W.qA()&&W.add.vmsk&&W.add.vmsk.isEnabled&&W.add.vstk){n=W.rect.clone()}else if(W.qA()&&L&&L.isEnabled&&L.z$()!=0)n=new eu(0,0,x.m,x.e);
else{n=W.JH(x,!1,!0);if(W.add.vmsk)n=r.Z.Jy(n)}return F?W.aDp(n,x):n};a6.w_={delete:function(x){if(x&&x.m)x.delete()},R:function(x,F){return hl.Cp?new hl.Co(x,F):r.R(x*F*4)},iX:function(x,F,W){if(hl.Cp){if(x==null||x.m!=F||x.e!=W){a6.w_.delete(x);
return new hl.Co(F,W)}}else{if(x==null||!(x instanceof Uint8Array)||x.length!=F*W*4){a6.w_.delete(x);
return r.R(F*W*4)}}return x},Hz:function(x,F,W,n,L){(hl.Cp?hl.ul:r.sh)(x,F,W,n,L)},qV:function(x,F,W,n,L,$,l,k,w,V,i){(hl.Cp?hl.l.uC:r.l.qV)(x,F,W,n,L,$,l,k,w,V,i)},a5$:function(x,F,W,n,L,$,l,k){var V=W.clone(),i=L.m,f=L.e,X=V.x,s=V.y,R=V.x+V.m>i?-1:0,h=V.x<0?2:1,B=V.y+V.e>f?-1:0,e=V.y<0?2:1;
for(var U=B;U<e;U++)for(var o=R;o<h;o++){V.x=X+o*i;V.y=s+U*f;a6.w_.X3(x,F,V,n,L,$,l,k)}},X3:function(x,F,W,n,L,$,l,k){if(hl.Cp)hl.l.as0(x,F,W,n,L,$,l,k);
else r.l.X3(x,F,W,n,L,$,l,k)},De:function(x,F,W){if(hl.Cp){hl.uR(x);hl.Ap(F,W)}else r.De(x,F,W)},avR:function(x,F,W,n,L){if(hl.Cp){hl.l.uC(null,null,n,L,x,F,W,L,1,!1)}else{if(W==255)r.L7(x,F,n,L);
else{var $=r.R(F.P());r.uM(n,L,$,F);r.RF(x,$);r.De(n,0,16777215);r.aos($,F,n,L)}}},dk:function(x,F,W,n){if(hl.Cp)hl.l.uC(null,null,W,n,x,F,0,n,1,!1);
else r.dk(x,F,W,n)}};a6.prototype.fL=function(x,F,W,n,L,$){var l=typeof $=="number";if(!this.a.vN()&&(l&&this.index>$||!l&&$.indexOf(this.index)==-1)){return}var k=this.a,V=hM.gU(k),i=a6.w_,f=k.qA()?k.GH():k.F;
if(!k.MG())return;if(k.gS()&&f.rect.ak()&&f.z$()==0){return}if(k.add.vstk==null&&this.oU(n,!1).ak()){return}if(k.qA()&&k.rect.ak())return;
var X=this.oU(n,!0).jB(W);if(!F.rr(W)&&!W.yU(X))return;if(k.vN()&&k.add.artb){var s=k.U$();W=W.jB(s)}var R=a6.a7J(k,L,V);
if(!R){this.aie(x,F,W,n,L,$);return}k.jT.KW=i.iX(k.jT.KW,X.m,X.e);i.Hz(x,F,k.jT.KW,X,W);this.aie(k.jT.KW,X,W,n,L,$);
i.qV(k.jT.KW,X,x,F,null,null,0,W,k.opacity/255,k.q_=="diss",V.Jf)};a6.a7J=function(x,F,W){if(W.Jf[0]*W.Jf[1]*W.Jf[2]==0)return!0;
return x.opacity!=255&&(F.length!=0||x.vN()||x.VX())};a6.av8={jT:{}};a6.prototype.aie=function(x,F,W,n,L,$){var l=this.a,k=hM.gU(l),V=a3.get(l.add)!=null,i=a6.w_,f=a6.a7J(l,L,k),X=f?1:l.opacity/255,s=l.qA()?l.GH():l.F,R=l.vN()&&k.a3==null&&(l.q_=="pass"||l.add.artb)&&!(L.length>0||k.fill!=1||l.VX()),h=!l.vN()&&!V&&!l.VX()&&L.length==0,B=V&&!l.VX()&&L.length==0,Z=null,I=null,y=null,Q;
if(R||h||B){var e=x,U=F;if(l.gS()){U=this.oU(n,!1);e=l.jT.tI=i.iX(l.jT.tI,U.m,U.e);i.Hz(x,F,l.jT.tI,U)}if(R)this.Zu(e,U,W,n,$);
if(h)i.X3(l.q_,l.a9y(n),l.rect,e,U,W,X,k);if(B){var o=l.gS()&&s.z$()==0?s.oU().clone():U.clone(),b=l.jT;
if(o.rr(new eu(0,0,n.m,n.e)))b=a6.av8;b.l4=this.ahj(e,U,b.l4,o,l.add);k.u9=!0;i.X3(l.q_,b.l4,o,e,U,W,X,k)}if(l.gS())i.qV(e,U,x,F,l.ahx(),s.oU(),s.z$(),W,1,l.q_=="diss");
l.jT.ayI();return}var u=l.vN()&&l.q_=="pass"&&(L.length>0||k.fill!=1||l.VX()),o=l.rect;if(l.vN()){o=this.oU(n,!1);
y=l.jT.l4=i.iX(l.jT.l4,o.m,o.e);i.De(y,0);this.Zu(y,o,o,n,$);I=i.iX(l.jT.od,o.m,o.e);i.Hz(y,o,I,o)}else if(V){o=l.gS()&&s.z$()==0?s.oU().clone():F.clone();
I=i.iX(l.jT.od,o.m,o.e);i.De(I,4294967295)}else{o=l.rect;Z=l.a9y(n);I=i.iX(l.jT.od,o.m,o.e);i.Hz(Z,o,I,o)}l.jT.od=I;
if(l.gS())i.avR(l.ahx(),s.oU(),s.z$(),I,o);if(l.VX())if(l.jT.DR||l.jT.ex||l.jT.qZ!=hl.Cp||l.jT.lM||l.vN()){var D=l.add.vmsk,N=r.R(o.P());
if(hM.a0Y(l.add.lmfx)){if(hl.Cp){if(!l.vN()&&l.GH()==null&&l.rect.rr(o)&&D==null)r.Tb(l.buffer,N,3);
else{var j=r.R(o.P()*4);I.get(j);r.Tb(j,N,3)}}else r.Tb(I,N,3)}if(l.jT.ex||l.jT.qZ!=hl.Cp||!r.rr(N,l.jT.Ad)){var H=null;
if(l.qA()&&D&&D.isEnabled&&D.GH().color==0)H=D.GH().rect;hM.a6v(l.jT.LX);l.jT.LX=hM.avj(N,o,l.add.lmfx,l.add.fxrp,n,H);
l.jT.Ad=N;l.jT.ad3=o}}if(l.VX())hM.aql(l.add.lmfx,l.jT.LX,o,x,F,W);if(l.vN()){Z=i.iX(l.jT.tI,o.m,o.e);
i.De(Z,0);if(l.q_=="pass")i.Hz(x,F,Z,o);if(u)i.dk(y,o,Z,o);this.Zu(Z,o,W,n,$);l.jT.tI=Z}if(V){Z=l.jT.tI=this.ahj(x,F,l.jT.tI,o,l.add)}if(l.vN()||V)Q=Z;
else{Q=i.iX(l.jT.tI,o.m,o.e);i.Hz(Z,o,Q,o,W);l.jT.tI=Q}i.De(Q,4278190080,16777215);for(var w=0;w<L.length;
w++)L[w].fL(Q,o,W,n,[],$);var C=l.jT.JF=i.iX(l.jT.JF,o.m,o.e);i.Hz(x,F,C,o,W);if(V)k.u9=!0;i.X3(l.q_=="pass"?"norm":l.q_,Q,o,C,o,W,1,k);
if(l.VX()){var J=l.jT.LX.type.FrFX,E=null;if(J.length!=0){E=J[0];for(var w=0;w<J.length;w++)if(J[w].yH.m>E.yH.m)E=J[w];
l.jT.vr=i.iX(l.jT.vr,E.yH.m,E.yH.e);i.Hz(x,F,l.jT.vr,E.yH,W);l.jT.Es=i.iX(l.jT.Es,E.yH.m,E.yH.e)}hM.a3I(l.add.lmfx,l.jT.LX,o,x,F,W,C,l.jT.vr,l.jT.Es,E?E.yH:null)}if(!hl.Cp){var T=r.R(o.P());
r.Tb(I,T,3);I=T}i.qV(C,o,x,F,I,o,0,W,1,l.q_=="diss");l.jT.ayI()};a6.prototype.ahj=function(x,F,W,n,L){var $=a3.get(L),l;
if($)l=a3.So($,L[$]);var k=a6.w_;W=k.iX(W,n.m,n.e);if(!(hl.Cp&&F.rr(n)))k.Hz(x,F,W,n);if(l){if(hl.Cp){var V=n.clone();
V.x=V.y=0;if(F.rr(n)){hl.uR(W,V);a3.Yq(l,x.Yn,V)}else{hl.uR(W,n);W.s2(n);a3.Yq(l,W.r4,V)}}else a3.Pl(l,W,W,n)}return W};
a6.prototype.Zu=function(x,F,W,n,L){var $=F.m,l=F.e,k=F.x,V=F.y,dx=W,i=dx.x,f=dx.y,X=-1,s=-1,R=2,h=2;
if(!n.da){X=s=0;R=h=1}var B=this.children;for(var w=0;w<B.length;w++){var e=a3.get(B[w].a.add)!=null,U=[];
for(var o=w+1;o<B.length;o++)if(B[o].a.gO)U.push(B[o]);else break;for(var b=s;b<h;b++)for(var u=X;u<R;
u++){F.x=k+u*$;F.y=V+b*l;dx.x=i+u*$;dx.y=f+b*l;if((u!=0||b!=0)&&e)continue;B[w].fL(x,F,dx,n,U,L)}w+=U.length}F.x=k;
F.y=V;dx.x=i;dx.y=f};function az(x){this.Hk="psd";this.q0=!1;this.name=x;this.rw=-1;this.da=!1;this.xE=null;
this.Cs=null;this.fN=null;this.pb=null;this.m=0;this.e=0;this.buffer=null;this.B=[];this.K3={};this.add={};
this.FK=[];this.yN={};this.Dy=4;this.IF=null;this.Bq=72;this.dU={};this.g=[];this.Ul=[];this.Rz=!1;this.EC=[];
this.oJ=[];this.V2=[az.r9("Work Path")];this._H=[];this.TQ=null;this.U9={classID:"CompList",list:{t:"VlLs",v:[]}};
this.WP=[];this.C7=[];this.wD=[];this.root=null;this.C4=null;this.Sv=!1;this.a8f=!1;this.aua=!1;this.Am=!1;
this.eT=!1;this.yW=!1;this.bA=!1;this.Md=!1;this.m3=!1;this.XB=!1;this.DR=null;this.X2=null;this.u=null;
this.o2=[];this.kO=[];this.N={lI:{},sC:[],uf:[],kV:[],Vq:[],dM:[],HV:null,DG:null,Ys:null,kr:null,PY:null,Pt:null,pF:[],v7:[],JA:null};
this.history=[new fd([1,0],null)];this.Mw=0;this.zh=0;this.by=0;this.sN=0;this.U=new iE(this);this.Fq=null;
this.Ye=null}az.prototype.hS=function(x){if(x){if(x.length==30240){this.hS(null);return}this.K3.r1039=x;
var F=ICC.R(x.buffer),L=null,$=17,V,i;if(F==null){this.hS(null);return}var W=F.header.spaceIn.toLowerCase(),n=JSON.stringify(F.tags.desc).toLowerCase();
try{L=ICC.U.profileName(F)}catch(ii){}if(W!="rgb "||L==null||n.indexOf("srgb")!=-1||W=="rgb "&&this.add.fcmy==1){this.hS(null);
return}console.log("We got an ICC profile!",F,L);try{var l=ICC.U.sampleLUT(F,$)}catch(ii){this.hS(null);
return}var k=l.slice(0),f=r.R(4),X=r.HM("rgbToRgbC"),s=X[2],R=X[3];for(var w=0;w<l.length;w+=3){f[0]=l[w]*255;
f[1]=l[w+1]*255;f[2]=l[w+2]*255;ICC.U.applyLUT(R,s,f,f);k[w]=f[0]/255;k[w+1]=f[1]/255;k[w+2]=f[2]/255}if(hl.Cp){V=new hl.Co($,$*$);
V.set(ICC.U.lutToRGBA8(l,$));i=new hl.Co($,$*$);i.set(ICC.U.lutToRGBA8(k,$))}this.Fq=[x,F,$,l,V,k,i]}else{delete this.K3.r1039;
this.Fq=null}};az.prototype.M9=function(){return this.Fq};az.prototype.xu=function(){if(this.Fq)return this.Fq;
if(this.add.fcmy==1){if(this.Ye==null){var x=r.HM("rgbToRgbC"),F=x[2],W=x[3],n;if(hl.Cp){n=new hl.Co(F,F*F);
n.set(ICC.U.lutToRGBA8(W,F))}this.Ye=[null,null,F,null,null,W,n]}return this.Ye}};az.prototype.alp=function(){var x=this;
if(x.U.O.join("")!="111"){x.U.O=[1,1,1];x.yW=!0}for(var w=0;w<x.B.length;w++){var F=x.B[w],W=F.add.vmsk;
if(F.mK()){var n=F.DU(x);if(n&&n.F&&n.F.NZ){n.F.NZ=!1;x.yW=!0}}var L=F.GH();if(L&&L.NZ){L.NZ=!1;x.yW=!0}if(W){if(W.g.length!=0)W.g=[];
if(W.Au.length!=0)W.Au=[]}}};az.prototype.vP=function(){var x=this;return x.u!=null||x.x8()[1].length!=0||x.g.length>1};
az.prototype.L6=function(){var x=this.Ul,F=[];for(var w=0;w<x.length;w++)F[w]=-1;var W=this.root.children;
for(var w=0;w<W.length;w++){var n=W[w],L=n.a.add.artb;if(L==null)continue;var $=L.guideIndeces;$=$?$.v:[];
for(var l=0;l<$.length;l++)F[$[l].v]=n.index}return[JSON.parse(JSON.stringify(x)),F]};az.prototype.Ox=function(x){this.Ul=JSON.parse(JSON.stringify(x[0]));
var F=x[1],W=this.root.children;for(var w=0;w<W.length;w++){var n=W[w],L=n.a.add.artb;if(L==null)continue;
L.guideIndeces={t:"VlLs",v:[]}}for(var w=0;w<F.length;w++)if(F[w]!=-1)this.B[F[w]].add.artb.guideIndeces.v.push({t:"long",v:w})};
az.prototype.aeA=function(x){var F=this;if(x[0])F.add.lnk2=x[0];else delete F.add.lnk2;if(x[1])F.add.FEid=x[1];
else delete F.add.FEid;if(x[2])F.add.Patt=x[2];else delete F.add.Patt};az.prototype.asY=function(x){var F=this,W=[],n=[],L=[],h=null,B=null,e=null;
for(var w=0;w<x.length;w++){var $=x[w];if($.add.SoLd){W.push($.add.SoLd.Idnt.v);n.push($.add.SoLd.placed.v)}if($.add.PtFl)L.push($.add.PtFl.Ptrn.v.Idnt.v);
if($.add.lmfx){for(var l=0;l<eC.UM.length;l++){var k=$.add.lmfx[eC.UM[l]].v;for(var V=0;V<k.length;V++)if(k[V].v.Ptrn){var i=k[V].v;
if(i.classID=="FrFX"&&i.PntT.v.FrFl!="Ptrn")continue;L.push(i.Ptrn.v.Idnt.v)}}}var f=$.add.vstk;if(f&&f.strokeStyleContent.v.classID=="patternLayer"){L.push(f.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var X=F.add.lnk2,s=F.add.FEid,R=F.add.Patt;
if(X){h=[];for(var w=0;w<X.length;w++)if(W.indexOf(X[w].sd)!=-1)h.push(X[w]);if(h.length==0)h=null}if(s){B=[];
for(var w=0;w<s.length;w++)if(n.indexOf(s[w].id)!=-1)B.push(s[w]);if(B.length==0)B=null}if(R){e=[];for(var w=0;
w<R.length;w++)if(L.indexOf(R[w].id)!=-1)e.push(R[w]);if(e.length==0)e=null}return[h,B,e]};az.prototype.Z2=function(x){var F=this,W=F.root.y9(x==null?F.g[0]:x),n=!1;
while(W.parent!=null){n=n||W.a._3(31);W=W.parent}return n};az.prototype.wm=function(){var x=this.o2,F=this.o2.length;
if(F!=0&&x[F-1].name=="Quick Mask")return x[F-1]};az.prototype.gK=function(){return this.Hk==c$.gV("% |/!)")||this.Hk==c$.m6("gP")};
az.prototype.jY=function(x){var F=this.add.artd;if(x!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:x},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};az.prototype.Ky=function(x){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(x)==-1)this.add.FEid.push(x)};
az.prototype.QW=function(x){var F=this.add.FEid.indexOf(x);this.add.FEid.splice(F,1);if(this.add.FEid.length==0)delete this.add.FEid};
az.prototype.W=function(x){if(x==null)x=new eu(0,0,this.m,this.e);if(this.DR==null)this.DR=x;else this.DR=this.DR.oA(x)};
az.prototype.a85=function(x){return this.DR!=null};az.prototype._B=function(x){var F=this.B[x],W=this.root.y9(x);
if(W==null)return!1;if(F.vN()||W.parent.children.indexOf(W)==0)return!1;return!0};az.ahh=function(x){if(x.add.lnk2)for(var w=0;
w<x.add.lnk2.length;w++){var F=x.add.lnk2[w].sd;x.add.lnk2[w].sd=az.a1()+F.slice(8);for(var W=0;W<x.B.length;
W++){var n=x.B[W].add.SoLd;if(n&&n.Idnt.v==F)n.Idnt.v=x.add.lnk2[w].sd}}};az.prototype.io=function(x,F,W){x.sort(function(X,s){return X-s});
var top=x[x.length-1],n=this.B.slice(0),L=this.g.slice(0),$=[],l=[];for(var w=0;w<this.B.length;w++){if(x.indexOf(w)!=-1)l.push(this.B[w]);
else $.push(this.B[w])}this.me(l);this.g=[];var k=this.root.oU(this,!0);if(F)k=k.jB(F);if(W)k=k.oA(W);
if(k.ak())k=new eu(0,0,100,100);var V=new eu(-k.x,-k.y,this.m,this.e),i=new Uint8Array(jW.w0("PSD").Rd(this,0,0,[!0,!1]));
this.me(n);this.g=L;var f=new az(this.B[top].getName());jW.w0("PSD").La(i.buffer,f);delete f.add.artd;
f.EC=[];f.me(f.B);f.Ox([[],[]]);az.ahh(f);O.f7.e7(f,k);f.W();f.KS();f.Hi();return[f,k,$,top]};az.prototype.ae3=function(x,F,W){var n=this.io(x),L=n[0],$=n[1],l=n[2],top=n[3],k;
if(W=="jpg")k=new Uint8Array(jW.w0("JPG").Rd([[L.Hi().buffer]],L.m,L.e,[80]));else k=new Uint8Array(jW.w0("PSD").Rd(L,null,null,[!0,!1]));
if(F)l=this.B.slice(0);var V=this.sP(k,L.name,$.x,$.y);if(top==this.B.length-1)l.push(V);else l.splice(F?top+1:top-x.length+1,0,V);
this.me(l);this.g=[l.indexOf(V)]};az.a1=function(x){if(x==null)x="";var F="";while(F==""||F==x){F="";
for(var w=0;w<8;w++)F+=Math.floor(Math.random()*16).toString(16)}return F};az.prototype.Dm=function(x){if(x==null)return;
if(this.add.Patt==null)this.add.Patt=[];var F=this.add.Patt;for(var w=0;w<F.length;w++)if(F[w].id==x.id)return;
F.push(x)};az.prototype.sP=function(x,F,W,n,L,$,l){if(this.add.lnk2==null)this.add.lnk2=[];var k=null;
for(var w=0;w<this.add.lnk2.length;w++)if(r.rr(x,this.add.lnk2[w].raw)){k=this.add.lnk2[w].sd;break}if(k==null){var V=jW.XM(x.buffer);
k=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f";var i=new t.xN;i.sd=k;i.Hr=V=="psd"?"8BIM":"    ";i.GR=F+"."+V;
i.d_=V=="psd"?"8BPB":"    ";i.open=0;i.raw=x;i.type="liFD";i.Fi=2;this.add.lnk2.push(i)}var f=this.OB(k,null,null,null,$,l),X=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f",s=this.dI(),R=f?f.mp[1]:new eu;
s.sc(F);s.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:k},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:X},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:r.xP.R(R)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:R.m},Hght:{t:"doub",v:R.e}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:f?f.Bq:72}}};
var h=R.clone();if(W!=null)h.offset(W,n);if(f!=null&&L){var V=jW.XM(x.buffer),B=L.x,e=L.y,U=L.m,o=L.e;
h=f.mp[1].clone();h.offset(B+W,e+n);var b=b=this.Bq/(V=="pdf"?144:f.Bq?f.Bq:this.Bq);h.m=h.m*b;h.e=h.e*b;
var u=Math.max(h.m/U,h.e/o);if(u>1.0001){h.m=h.m/u;h.e=h.e/u}h.x=Math.round(B+(U-h.m)/2);h.y=Math.round(e+(o-h.e)/2)}var Z=r.Z.o4(h).p;
s.add.SoLd.Trnf=O.Y.ud(Z);s.add.SoLd.nonAffineTransform=O.Y.ud(Z);if(f){if(L)s.Bw(this,!1);else if(aH==0){s.rect=h;
s.buffer=f.mp[0].slice(0)}}return s};az.prototype.ag1=function(x,F,W){var n=r.bz(x,F);n.save();n.scale(x/this.m,F/this.e);
this.root.a6c(this,n,W,new eu(0,0,x,F));n.restore();return n.getImageData(0,0,x,F).data.buffer};az.prototype.Hi=function(x){if(x!=null){this.W();
this.KS(x);var F=this.buffer;if(hl.Cp)this.C4.get(F);else F=F.slice(0);this.W();this.KS();return F}if(this.DR){this.KS();
this.DR=null}if(hl.Cp&&this.X2){this.C4.get(this.buffer);this.X2=null;this.bA=!0}return this.buffer};
az.prototype.a1I=function(){for(var w=0;w<this.B.length;w++)this.B[w].a8x();this.W()};az.prototype.a9U=function(){for(var w=0;
w<this.B.length;w++)if(this.B[w].add.lmfx)this.B[w].jT.ex=!0};az.prototype.AY=function(){var x=this.K3.r1044;
if(x==null){x=this.K3.r1044=new Uint8Array(4);var F=0;for(var w=0;w<this.B.length;w++)F=Math.max(F,this.B[w].add.lyid);
_.kv(x,0,F)}var W=_.q(x,0);_.kv(x,0,W+1);return W+1};az.prototype.SP=function(x,F,W){if(x==null)x=!0;
var n=this;if(n.kO.length!=0)return!0;if(n.g.length!=1){if(x)alert(n.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Vt(x,F,W)};az.prototype.Vt=function(x,F,W){if(x==null)x=!0;if(F==null)F=!1;var n=this;
if(n.kO.length!=0)return!0;for(var w=0;w<n.g.length;w++){var L=n.B[n.g[w]],$=F||L.sj<=0;if(L.add.lsct!=null&&L.add.lsct!=eD.g_&&L.sj!=1){if(x)alert(hz.get([15,7,2]));
return!1}if($&&!L.aQ()){if(x)alert(hz.get([15,7,2]));return!1}if($&&L.add.TySh){return this.aDA(x,[15,7,3],W)}if($&&L.add.SoLd){return this.aDA(x,[15,7,4],W)}if(L._3(1)||n.Z2(n.g[w])){if(x)alert(hz.get([6,57,0]));
return!1}}return!0};az.prototype.aDA=function(x,F,W){if(x&&typeof x=="object"){var n=new gT(S.E.M);n.data={d:S.H.Ar,ip:"confirm"};
n.data.b=hz.get(F)+". "+hz.get([6,8])+"?";var L=x;n.data.Fv=function(){var $=new gT(S.E.BD,!0);$.data={Y3:"rasterizeLayer",Xe:{classID:"rasterizeLayer",null:ga.oY("Lyr",!0)}};
L.T($)};x.T(n);return!1}if(x)alert(hz.get(F));return!1};az.prototype.ag3=function(x){var F=this.root.y9(x);
if(F.parent)return F.a.MG()&&this.ag3(F.parent.index);else return F.a.MG()};az.prototype.gD=function(x){var F=this;
if(x){var W=0;for(var w=0;w<F.g.length;w++)if(F.B[F.g[w]].add.artb)W++;if(W>1)return-1}if(F.add.artd&&F.g.length!=0){var n=F.root.y9(F.g[0]);
while(n.parent.parent)n=n.parent;if(n.a.add.artb)return n.index}return-1};az.prototype.a56=function(){var x=this.B[this.g[0]];
if(x.sj<=0&&!x.rect.yU(this.u.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.u){var F=r.R(this.u.channel.length);
r.uM(x.buffer,x.rect,F,this.u.rect);r.RF(this.u.channel,F);if(r.k4(F,0)){alert("Selected area is empty.");
return!1}}return!0};az.prototype.z8=function(){if(this.K3["r"+1037]==null)this.Xk(30);return _.o3(this.K3["r"+1037],0)};
az.prototype.Xk=function(x){if(this.K3["r"+1037]==null)this.K3["r"+1037]=new Uint8Array(4);if(_.o3(this.K3["r"+1037],0)==x)return;
_.jK(this.K3["r"+1037],0,x);this.a9U()};az.prototype.l5=function(){if(this.K3["r"+1049]==null)this.wP(30);
return _.o3(this.K3["r"+1049],0)};az.prototype.wP=function(x){if(this.K3["r"+1049]==null)this.K3["r"+1049]=new Uint8Array(4);
if(_.o3(this.K3["r"+1049],0)==x)return;_.jK(this.K3["r"+1049],0,x);this.a9U()};az.prototype.hz=function(x){if(this.add.lnk2==null)return null;
for(var w=0;w<this.add.lnk2.length;w++)if(this.add.lnk2[w].sd==x)return this.add.lnk2[w];return null};
az.prototype.acO=function(x){var F=this.hz(x);if(F==null)return!1;var W=jW.XM(F.raw.buffer);if(W==null)return!1;
if(jW.w0(W)!=null||W=="psd")return!0;return!1};az.prototype.OB=function(x,F,W,n,L,$){var l=this.hz(x);
if(l==null)return null;l.Hi(F,W,n,L,$);if(l.mp)return l};az.prototype.axN=function(){var x=this.m,F=this.e;
if(hl.Cp&&this.C4==null)this.C4=new hl.Co(x,F,!0);if(this.buffer==null||this.buffer.length!=x*F*4||hl.Cp&&(this.C4.m!=x||this.C4.e!=F)){this.buffer=r.R(x*F*4);
if(this.C4)this.C4.delete();if(hl.Cp)this.C4=new hl.Co(x,F,!0)}};az.prototype.auf=function(){this.axN();
if(hl.Cp){this.C4.set(this.buffer)}};az.prototype.KS=function(x){if(aH!=0)throw"redrawing in vector mode";
var F=this.m,W=this.e,n=new eu(0,0,F,W),L=this.da?n:n.jB(this.DR);this.axN();if(L.ak())return;if(!L.rr(n)){if(!hl.Cp){var $=r.I2(L.P()*4);
r.sh($,L,this.buffer,n)}if(hl.Cp){hl.uR(this.C4,L);hl.Ap(0)}}else{if(hl.Cp){this.C4.set(null)}else{this.buffer.fill(0)}}var l=Date.now(),k=hl.Cp?this.C4:this.buffer;
if(x==null)x=1e9;var V=this.root.children;for(var w=0;w<V.length;w++){var i=V[w].a;if(i.MG()&&i.add.artb&&this.add.artd){var f=i.U$(),X=L.jB(f),s=i.G9();
if(s!=0){if(hl.Cp){hl.uR(k,X);hl.Ap(s);hl.Ap(s)}else r.aij(k,n,X,s)}}}this.root.fL(k,n,L,this,[],x);
this.X2=this.DR.clone()};az.prototype.dI=function(x){var F=new t;F.rect=new eu(0,0,0,0);F.buffer=r.R(1);
F.add.luni=new eX(0,0);if(x!=!0)F.add.lyid=this.AY();F.add.lsct=eD.g_;F.add.lclr=0;F.add.fxrp=new eX(0,0);
return F};az.prototype.Nz=function(x){var F=this.dI(x);F.sc("</Layer group>");F.add.lsct=eD.iS;F.xb=24;
return F};az.prototype.BP=function(){return this.Mw!=this.zh};az.prototype.fC=function(x){while(this.history.length>this.Mw+1)this.history.pop();
if(this.zh>this.Mw)this.zh=-1;if(x.f.id!=O.aR){this.Am=!0;if(this.U9.lastAppliedComp){delete this.U9.lastAppliedComp;
this.bA=!0}}this.history.push(x);this.Mw++;this.bA=!0;var F=ii.vR()?60:30,W=0;for(var w=this.history.length-1;
w>=0;w--){var n=this.history[w];if(n.Bc)continue;W++;if(W==F){this.Mw-=w;this.history=this.history.slice(w);
break}}};az.prototype.Ao=function(){if(this.Mw!=this.history.length-1)return null;return this.history[this.history.length-1]};
az.prototype.zm=function(x,F,W,n){if(x==null)x=!1;var L=F!=null?[F]:this.g.slice(0);if(n){var $=[];for(var w=0;
w<L.length;w++){var l=this.B[L[w]],k=l.ju;if(l.nS&&k!=0&&$.indexOf(k)==-1)$.push(k)}if($.length!=0)for(var w=0;
w<this.B.length;w++){var l=this.B[w],k=l.ju;if(l.nS&&k!=0&&$.indexOf(k)!=-1&&L.indexOf(w)==-1)L.push(w)}}var V=[];
for(var w=0;w<L.length;w++){var i=this.Ai(L[w],x);for(var f=0;f<i.length;f++)if(V.indexOf(i[f])==-1)V.push(i[f]);
if(W){var dx=this.root.y9(L[w]);while(dx.parent!=null&&dx.parent.parent!=null){dx=dx.parent;if(V.indexOf(dx.index)==-1){V.push(dx.index,dx.PF)}}}}return V};
az.prototype.yd=function(x,F,W){var n=this,L=n.zm(!1,x,null,W);L.sort(function(b,u){return b-u});var $={};
for(var l=0;l<n.B.length;l++){var k=n.B[l].getName();$[k]=!0}var V=[];for(var w=0;w<L.length;w++){var i=n.B[L[w]].clone(),e,U;
i.add.lyid=n.AY();i.add.lspf=0;if(i.mK()){var f=i.DU(n),X=az.arg(f);n.Ky(X);i.add.SoLd.placed.v=X.id}else if(i.add.SoLd){var s=i.add.SoLd.placed.v;
i.add.SoLd.placed.v=az.a1(s.slice(0,8))+s.slice(8)}i.pZ(n);var R=i.getName(),h=R.length;while(48<=R.charCodeAt(h-1)&&R.charCodeAt(h-1)<=57)h--;
var B=parseInt(R.slice(h));if(isNaN(B)){if(R.endsWith(" copy")){B=1;e=R.slice(0,R.length-5)}else{B=0;
e=R}}else if(R.slice(0,h).endsWith(" copy ")){B=B;e=R.slice(0,h-6)}else{B=0;e=R}B++;while(!0){U=e+" copy"+(B==1?"":" "+B);
if($[U]==null)break;B++}var o=L.indexOf(this.root.y9(L[w]).parent.index)!=-1;if(R=="Background"&&n.B.length==1)U="Layer 1";
if(F!=!0&&!o)i.sc(U);$[U]=!0;V.push(i)}return V};az.arg=function(x){return{id:az.a1(x.id.slice(0,8))+x.id.slice(8),buffer:x.buffer.slice(0),rect:x.rect.clone(),F:x.F?x.F.clone():null}};
az.ad6=function(x){return{id:x,rect:new eu,buffer:r.R(1),F:new t.gm}};az.r9=function(x,F){if(F==null)F={vmsk:new t.C$};
if(F.vogk==null){F.vogk=[];var W=r.j.tn(F.vmsk.$);for(var n=0;n<W;n++)F.vogk.push(r.mq.I2())}return{name:x,Fp:0,add:F}};
az.prototype.x8=function(x){var F=[],W=[],n=this;for(var w=1;w<n.V2.length;w++){var L=n.V2[w];L.Fp=-1-w;
F.push(L);if(n._H.indexOf(w)!=-1)W.push(F.length-1)}if(n.V2[0].add.vmsk.$.length>2){var L=n.V2[0];L.Fp=-1;
F.push(L);if(n._H.indexOf(0)!=-1)W.push(F.length-1)}var $=n.TQ==null;if($)n.TQ=[];for(var w=n.g.length-1;
w>=0;w--){var l=n.g[w],k=n.B[l],V=k.add.TySh;if(k.add.vmsk!=null){var L=az.r9("\""+k.getName()+"\" Shape Path",k.add);
L.Fp=l;F.push(L);if($&&(k.HZ||k.qA()))n.TQ.push(l);if(n.TQ.indexOf(l)!=-1)W.push(F.length-1)}if(x!=!0&&V&&V.add&&r.xP.oK(V.Zb)){var L=az.r9("\""+k.getName().slice(0,10)+"..\" Text Path",V.add);
L.Fp=1e6+n.g[w];F.push(L);W.push(F.length-1)}}if(W.length==0&&x){n.V2[0].Fp=-1;n._H=[0];W.push(F.length);
F.push(n.V2[0])}return[F,W]};az.prototype.Ai=function(w,x){var F=[],dx=this.root.y9(w);if(dx)dx.f8(F,x);
return F};az.prototype.Qv=function(){this.root.k7(this,new eu(0,0,this.m,this.e))};az.prototype.me=function(x){for(var w=0;
w<this.B.length;w++){var F=this.B[w];if(x.indexOf(F)==-1){F.jT.ab_();F.W()}}var W=0;for(var w=0;w<x.length;
w++)if(x[w].add.artb)W++;this.jY(W);this.B=x.slice(0);this.vq()};az.prototype.vq=function(){var x=this.B,F=x.length;
this.root=new a6;var W=this.dI(!0);W.q_="pass";W.add.lsct=eD.en;W.sc("");var n=this.Nz(!0),L=[n];for(var w=0;
w<F;w++)L.push(x[w]);L.push(W);this.root.ave(L,0,0);if(this.g.length==0)this.g=[F-1]};az.prototype.pz=function(){if(this.g.length!=1)return;
var x=this.root.y9(this.g[0]);while(x.parent!=null){var F=x.parent.a;F.add.lsct=eD.en;x=x.parent}this.yW=this.a0g=!0};
az.prototype.aeI=function(){this.vq();var x=[this.root],cs=0;while(x.length!=0){var top=x.pop();cs++;
if(top.a.add.lsct==eD.en)for(var w=0;w<top.children.length;w++)x.push(top.children[w])}if(cs>1e3){var F=this.root.children;
for(var w=0;w<F.length;w++)if(F[w].a.add.lsct==eD.en)F[w].a.add.lsct=eD.Tn}};az.jU=function(x,F,W,n,L,$,l,k){if(k==null)k="sRGB IEC61966-2.1";
var V={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:n},artboard:{t:"bool",v:$},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:x*72/W}},Hght:{t:"UntF",v:{type:"#Rlt",val:F*72/W}},Rslt:{t:"UntF",v:{type:"#Rsl",val:W}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:L}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:k}}}};
if(L=="Clr")V.Nw.v.FlCl={t:"Objc",v:l};return{Y3:"make",Xe:V}};az.a5f=function(x,F){var W=0,n=0,L=72,$=F.a2$,l=x.preset&&x.preset.v=="Clipboard";
if(l){W=$.m;n=$.e}else{W=x.Wdth.v.val;n=x.Hght.v.val;L=x.Rslt.v.val;W=Math.round(W*L/72);n=Math.round(n*L/72)}var k=new az((x.Nm?x.Nm.v:hz.get([11,7]))+".psd");
k.m=W;k.e=n;k.Bq=L;var V=x.Fl?x.Fl.v.Fl:"Wht";if(x.artboard&&x.artboard.v){var i=k.dI();i.sc(hz.get([1,16,0])+" 1");
i.add.lsct=eD.en;i.lK(new eu(0,0,W,n));i.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[V]};
if(V=="Clr")i.add.artb.Clr={t:"Objc",v:r.I.GB(r.I.z$(x.FlCl.v))};i.q_="pass";i.xb=24;var f=k.dI();f.sc("Layer 1");
k.me([k.Nz(),f,i]);k.jY(1);k.g=[1]}else{var X=k.dI(),s=0;X.sc("Background");k.me([X]);X.add.lspf=1<<2;
if(V=="Clr"){s=r.I.z$(x.FlCl.v);s=255<<24|Math.round(s.z)<<16|Math.round(s.r)<<8|Math.round(s.o)}else{var R=F.G8;
R=(R&255)<<16|(R>>>8&255)<<8|R>>>16;s={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|R}[V]}X.rect=new eu(0,0,W,n);
X.buffer=r.R(W*n*4);r.De(X.buffer,s)}k.buffer=r.R(W*n*4);var h=x.profile;if(h){var B={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[h.v];
if(B)k.hS(jW.yL.get(B))}return k};az.prototype.afX=function(){var x=this,F=x.add.arts=[];F.push({pL:"Artboard 1",A$:[0,0,x.m,x.e],g:!0});
if(x.buffer)x.buffer=null;for(var w=0;w<x.B.length;w++){var W=x.B[w],n=W.rect;if(W.vN()&&W.add.vmsk){var L=x.dI();
x.B.splice(w,0,L);L.sc("<Clipping Path>");L.Tg=!0;L.add.vogk=W.add.vogk;delete W.add.vogk;L.add.vmsk=W.add.vmsk;
delete W.add.vmsk;L.add.vstk=eC.pr.Iz();L.add.SoCo=JSON.parse(eC.bc[eC.order.indexOf("SoFi")]);L.add.vstl={};
console.log("mask here!")}else if(W.qA()&&W.add.vstl==null){var $=eC.pr.P6(W.add.vstk),l=W.add.vstl={};
eC.J1.write(l,$,1);var k=eC.Bz(W.add),V=eC.$p(W.add.vstk);for(var i=0;i<2;i++){var f=i==0?k:V,X=null;
if(f.d_==1)X=go.Iw(f.oa.Clr.v);if(f.d_==2)X=d9.cQ(f.oa,W.add.vmsk.$);if(i==0)l.Hy=X;else l.MV=X}}if(W.add.SoLd||W.add.TySh||W.add.vmsk||n.ak())continue;
var s=n.m,R=n.e,h=r.SB(W.buffer,s,R)?"JPG":"PNG";if(s*R<700*700)h="PNG";var B=jW.w0(h).Rd([[W.buffer.buffer]],s,R);
x.B[w]=x.sP(new Uint8Array(B),"<Image>",0,0)}};function iE(x){this.GE=x;this.Q=0;this.jA=1;this.J=new eX(0,0);
this.Ma=new eX(0,0);this.O4=0;this.O=[1,1,1];this.LQ=0;this.$f=new eu(0,0,1,1);this.aud=new eu(0,0,x.m,x.e);
this.M2=null;this.Pd=null;this.IM=new Uint32Array(0);this.q$=null;this.wH=null;this.r1=r.R(0);this.Ev=null;
this.a9=null}iE.prototype.gy=function(x){var F=new iJ,W=this.$f,n=this.GE,L=x?this.jA:this.Q,$=x?this.Ma:this.J,l=Math.round((W.m-n.m*L)/2+$.x),k=Math.round((W.e-n.e*L)/2+$.y);
F.translate(-l,-k);F.scale(1/L,1/L);var V=n.m/2,i=n.e/2;F.translate(-V,-i);F.rotate(this.O4);F.translate(V,i);
return F};iE.prototype.at4=function(x){var F=this.$f,W=this.GE,n=Math.atan2(-x.z,x.V),L=W.m/2,$=W.e/2;
x.translate(-L,-$);x.rotate(-n);x.translate(L,$);var l=1/x.NX();x.scale(l,l);var k=-x.yq,V=-x.Ze,i=Math.round(k-(F.m-W.m*l)/2),f=Math.round(V-(F.e-W.e*l)/2);
if(Math.abs(l-Math.round(l))<1e-6)l=Math.round(l);this.O4=n;this.Q=l;this.J=new eX(i,f)};iE.prototype.m$=function(x,F,W){var n=this.gy(),L=n.dr(new eX(x,F));
if(W){L.x=Math.round(L.x);L.y=Math.round(L.y)}return L};iE.prototype.Q0=function(x,F){var W=this.gy();
W.sx();return W.dr(new eX(x,F))};function eC(){}eC.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
eC.UM="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
eC.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];eC.aeM=["DrSh","IrSh","SoFi","GrFl","FrFX"];
eC.eK=["Clr"];eC.Qu="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");eC.YZ=["Ptrn","Angl","Scl","Algn","phase"];
eC.CC={hV:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aAM:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",ac4:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",adc:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",jI:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
eC.CC.hV="\"Clr\": "+eC.CC.hV;eC.CC.I="\"Grad\":"+eC.CC.aAM+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
eC.CC.jI="\"Ptrn\":"+eC.CC.jI+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
eC.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
eC.bc=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+eC.CC.hV+","+eC.CC.I+","+eC.CC.jI+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+eC.CC.hV+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+eC.CC.I+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+eC.CC.jI+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
eC.I={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
eC.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],n0:["SClr","GrFl","Ptrn"],ajl:[[13,0],[12,37],[12,62]]};
eC.b8={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],an4:["SrcC","SrcE"],aom:[[19,5,1],[12,69]]};eC.q3={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],atO:["SfBL","PrBL","Slmt"],aAO:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
eC.pr={QP:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Uu:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],K8:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+eC.CC.hV+"}")},strokeStyleResolution:{t:"doub",v:72}},Iz:function(x,F){var W=JSON.parse(eC.pr.a3B);
if(x)W.fillEnabled.v=!0;if(F)W.strokeEnabled.v=!0;return W},P6:function(x,F,W){if(F==null)F={};if(W==null)W=1;
var n=x.strokeStyleLineDashSet.v,L=F.lwidth=x.strokeStyleLineWidth.v.val*W;F.mlimit=x.strokeStyleMiterLimit.v;
F.doff=x.strokeStyleLineDashOffset.v.val;F.ljoin=eC.pr.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
F.lcap=eC.pr.QP.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType);F.sal=eC.pr.Uu.indexOf(x.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
F.dash=[];for(var w=0;w<n.length;w++)F.dash.push(n[w].v.val*L);if(F.dash.length==1&&F.dash[0]==0)F.dash=[];
return F},write:function(x,F,W){var n=F.lwidth,L=F.mlimit,$=F.dash,l=F.doff,k=F.ljoin,V=F.lcap;if(n!=null)n=x.strokeStyleLineWidth.v.val=Math.max(.4,n*W);
else n=x.strokeStyleLineWidth.v.val;if(L!=null)x.strokeStyleMiterLimit.v=L;if($!=null)x.strokeStyleLineDashSet.v=hM.Pg($,W/n);
if(l!=null)x.strokeStyleLineDashOffset.v.val=l;if(k!=null)x.strokeStyleLineJoinType.v.strokeStyleLineJoinType=eC.pr.join[k];
if(V!=null)x.strokeStyleLineCapType.v.strokeStyleLineCapType=eC.pr.QP[V]}};eC.pr.a3B=JSON.stringify(eC.pr.default);
eC.J1={P6:function(x,F,W){if(F==null)F={};var n=F.lwidth=x.ajE*W,L=x.RG.slice(0);for(var w=0;w<L.length;
w++)L[w]*=n;F.mlimit=x.aBY;F.doff=x.ak6;F.ljoin=x.a4J;F.lcap=x.a64;F.sal=x.afw;F.dash=L;if(F.dash.length==1&&F.dash[0]==0)F.dash=[];
return F},write:function(x,F,W){var n=F.lwidth*W,L=F.mlimit,$=F.dash.slice(0),l=F.doff,k=F.ljoin,V=F.lcap;
x.ajE=n;x.aBY=L;x.RG=$;for(var w=0;w<$.length;w++)$[w]*=W/n;x.ak6=l;x.a4J=k;x.a64=V;x.afw=1},Iz:function(){return{Hy:[1,1,1],MV:[0,0,0],ajE:1,aBY:0,RG:[],ak6:0,a4J:0,a64:0,afw:1}}};
eC.$p=function(x){var F=x.strokeEnabled.v,W=x.strokeStyleContent.v;return F?{d_:1+eC.pr.K8.indexOf(W.classID),oa:W}:{d_:0}};
eC.QE=function(x,F){var W=F.d_;x.strokeEnabled.v=W!=0;if(W!=0){x.strokeStyleContent.v=F.oa;F.oa.classID=eC.pr.K8[W-1]}};
eC.Bz=function(x){var F=x.vstk,W=null;if(F&&!F.fillEnabled.v)W={d_:0};else if(x.SoCo)W={d_:1,oa:x.SoCo};
else if(x.GdFl)W={d_:2,oa:x.GdFl};else if(x.PtFl)W={d_:3,oa:x.PtFl};return W};eC.zW=function(x,F){var W=x.vmsk,n=x.vstk,L=F.d_;
if(n)n.fillEnabled.v=L!=0;if(L>0){var $=["SoCo","GdFl","PtFl"][L-1];for(var w=0;w<3;w++)delete x[["SoCo","GdFl","PtFl"][w]];
x[$]=F.oa}};eC.Ir=[{classID:"null",Clr:JSON.parse(eC.bc[5]).Clr},{classID:"null",Grad:JSON.parse(eC.bc[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(eC.bc[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var hM={};hM.il=function(x,F){function W(x,s){if(x==null||!x.masterFXSwitch.v)return null;var R=x[s].v,h;
if(R.length!=0){h=R[0].v;if(!h.enab.v)h=null}return h}var n=F.SoCo,L=F.GdFl,$=W(x,"solidFillMulti"),l=W(x,"gradientFillMulti");
if($==null&&l==null)return[n,L];var k=hM.aks;if(n&&$&&l==null){var V=JSON.parse(JSON.stringify(n));V.Clr.v=k($.Clr.v,n.Clr.v,$);
return[V,null]}if(L&&$&&l==null){var i=JSON.parse(JSON.stringify(L)),f=i.Grad.v.Clrs.v;for(var w=0;w<f.length;
w++){var X=f[w].v.Clr;X.v=k($.Clr.v,X.v,$)}return[null,i]}if(n&&l){var i=JSON.parse(JSON.stringify(l)),f=i.Grad.v.Clrs.v;
for(var w=0;w<f.length;w++){var X=f[w].v.Clr;X.v=k(X.v,n.Clr.v,l)}return[null,i]}return[$,l]};hM.AA={Lm:r.R(4),fn:r.R(4),o:new eu(0,0,1,1)};
hM.aks=function(x,F,W){var n=a2.zy(W.Md.v.BlnM),L=W.Opct.v.val/100,$=hM.AA;x=r.I.z$(x);F=r.I.z$(F);$.Lm[0]=x.o;
$.Lm[1]=x.r;$.Lm[2]=x.z;$.Lm[3]=255;$.fn[0]=F.o;$.fn[1]=F.r;$.fn[2]=F.z;$.fn[3]=255;r.l.X3(n,$.Lm,$.o,$.fn,$.o,$.o,L);
return{classID:"RGBC",Rd:{t:"doub",v:$.fn[0]},Grn:{t:"doub",v:$.fn[1]},Bl:{t:"doub",v:$.fn[2]}}};hM.a9c=function(x,F,W){var n=x;
x=x.slice(0);var L=a2.BL[a2.Se.indexOf(F.Md.v.BlnM)],$=r.I.z$(F.Clr.v),l=4278190080|Math.round($.z)<<16|Math.round($.r)<<8|Math.round($.o),k=r.R(W.P()*4);
r.De(k,l);r.l.X3(L,k,W,x,W,W,F.Opct.v.val/100);for(var w=0;w<x.length;w+=4)x[w+3]=n[w+3];return x};hM.Fe=function(x,F){var W=["Sz","blur","Sftn","Dstn"];
for(var w=0;w<eC.order.length;w++){var n=eC.order[w],L=x[eC.UM[w]].v;for(var $=0;$<L.length;$++){var l=L[$].v;
for(var k=0;k<W.length;k++){var V=l[W[k]];if(V){var i=V.v.val,f=i;f=Math.max(i==0?0:1,f*F);if(n=="ChFX")f=Math.min(f,250);
if(n=="ebbl"){if(W[k]=="blur")f=Math.min(f,250);if(W[k]=="Sftn")f=Math.min(f,16)}V.v.val=Math.round(f)}}if(n=="ebbl"||n=="patternFill"||n=="FrFX")if(l.Ptrn&&l.Scl)l.Scl.v.val=Math.max(1,Math.min(1e3,l.Scl.v.val*F))}}};
hM.atG=function(x,F,W){var n=new eu(-.5,-.5,1,1);for(var w=0;w<eC.order.length;w++){var L=eC.order[w],$=x[eC.UM[w]].v;
for(var l=0;l<$.length;l++){var k=$[l].v,X;if(!k.enab.v)continue;var V=k.blur?k.blur.v.val+1:0,i=k.Ckmt?k.Ckmt.v.val/100:0,f=Math.round(V*i);
if(L=="DrSh"||L=="IrSh"&&W){X=new eu(-.5,-.5,1,1);X.za(V,V);hM.Ra(X,k,F,0)}if(L=="St3D"){X=new eu(-.5,-.5,1,1);
hM.Ra(X,k,F,Math.PI,"Angl")}if(L=="OrGl"||L=="IrGl"&&W){X=new eu(-.5,-.5,1,1);X.za(V,V)}if(L=="FrFX"){var s=hM.bE(k),R=s[1];
if(W)R=Math.max(s[0],R);X=new eu(-.5,-.5,1,1);X.za(Math.ceil(R),Math.ceil(R))}if(L=="ebbl"){var V=k.blur.v.val,h=k.bvlS.v.BESl;
if(h=="Embs"||h=="PlEb")V/=2;var B=["OtrB","InrB","Embs","PlEb","strokeEmboss"],e=["SfBL","PrBL","Slmt"],U=["In","Out"],o=k.bvlT.v.bvlT!="SfBL"?V:V*.43,b=Math.round(V);
X=new eu(-b-1,-b-1,2*b+2,2*b+2)}if(W&&L=="ChFX"){X=new eu(-.5,-.5,1,1);X.za(V,V);var u=X.clone();hM.Ra(X,k,F,0);
hM.Ra(u,k,F,Math.PI);X=X.oA(u)}if(X)n=n.oA(X)}}if(n.x!=Math.ceil(n.x)){n.x=Math.ceil(n.x);n.m-=1}if(n.y!=Math.ceil(n.y)){n.y=Math.ceil(n.y);
n.e-=1}n.m=Math.floor(n.m);n.e=Math.floor(n.e);return n};hM.bE=function(x){var F=0,W=0,n=x.Styl.v.FStl,L=x.Sz.v.val;
if(n=="OutF")W=L;if(n=="InsF")F=L;if(n=="CtrF")F=W=L/2;return[F,W]};hM.aqj=function(x){if(hl.Cp&&x.Jc==null){x.Jc=new hl.Co(x.mF.m,x.mF.e);
x.Jc.set(x.Xu);delete x.Xu;if(x.lk){x.vl=new hl.Z$(x.mF.m,x.mF.e);x.vl.set(x.lk);delete x.lk}if(x.s6){x.wv=new hl.Z$(x.mF.m,x.mF.e);
x.wv.set(x.s6);delete x.s6}}};hM.azw=function(x){if(x.Jc)x.Jc.delete();if(x.vl)x.vl.delete();if(x.wv)x.wv.delete()};
hM.a6v=function(x){if(x.all==null)return;for(var w=0;w<x.all.length;w++){hM.azw(x.all[w])}};hM.avj=function(x,F,W,n,L,$){var l=hM.HK(W,n,x,F,L,$);
for(var w=0;w<l.all.length;w++)hM.aqj(l.all[w]);return l};hM.a0Y=function(x){for(var w=0;w<eC.order.length;
w++){var F=eC.order[w],W=eC.UM[w],n=x[W].v;for(var L=0;L<n.length;L++){var $=n[L].v;if($.enab.v&&["patternFill","GrFl","SoFi"].indexOf(F)==-1)return!0}}return!1};
hM.HK=function(x,F,W,n,L,$){if($==null)$=n;var l=0,k=0;for(var w=0;w<eC.order.length;w++){var V=eC.order[w],i=eC.UM[w],f=x[i].v;
for(var X=0;X<f.length;X++){var s=f[X].v;if(V=="DrSh"&&s.enab.v&&s.Ckmt.v.val>0&&s.blur.v.val>0)l=Math.max(l,Math.ceil(s.Ckmt.v.val*s.blur.v.val/100));
if(V=="OrGl"&&s.enab.v&&s.Ckmt.v.val>0&&s.blur.v.val>0&&s.GlwT.v.BETE=="SfBL")l=Math.max(l,Math.ceil(s.Ckmt.v.val*s.blur.v.val/100));
if(V=="OrGl"&&s.enab.v&&s.blur.v.val>0&&s.GlwT.v.BETE=="PrBL")l=Math.max(l,s.blur.v.val);if(V=="FrFX"&&s.enab.v&&s.Sz.v.val>0){if(s.Styl.v.FStl=="OutF")l=Math.max(l,s.Sz.v.val);
if(s.Styl.v.FStl=="CtrF")l=Math.max(l,Math.ceil(s.Sz.v.val/2));k=Math.max(k,hM.bE(s)[1])}}}var R=new hM.tc(W,n,l,hM.a0Y(x)),h=-n.x,B=-n.y,e={type:{},all:[]};
for(var U=0;U<eC.order.length;U++){var V=eC.order[U],i=eC.UM[U];e.type[V]=[];for(var o=x[i].v.length-1;
o>=0;o--){var b=x[i].v[o].v,y;if(!b.enab.v)continue;var u=b.blur?b.blur.v.val:0,Z=b.Ckmt?b.Ckmt.v.val/100:0,I=u*Z;
if(V=="St3D"){var D=Math.max(1e-4,1-b.Srnk.v.val/100),J=2,ey=0;function N(j,kE,b){var iy=b.Angl.v.val;
iy*=Math.PI/180;var P=b.Dstn.v.val,cC=Math.cos(iy)*P,c0=-Math.sin(iy)*P,jT=D+kE*(1-D),fe=new iJ;fe.translate(-j.m/2,-j.e/2);
fe.scale(jT,jT);fe.translate(j.m/2,j.e/2);fe.translate((1-kE)*cC,(1-kE)*c0);return fe}var j=n.clone(),H=W;
j.x=j.y=0;var Q=Date.now(),C=j.clone();C.za(J,J);var E=r.R(C.P());r.Hz(H,j,E,C);C.x=C.y=0;r.wG.kt(E,E,C,2);
var T=r.R(C.P()*4);T.fill(255);r.Mi(E,T);var c=r.R(j.P()),a=j.m,K=j.e,Y=C.m,p=hM.a6a(b,L),P=Math.cos(p[1]),m=-Math.cos(p[0])*P,z=Math.sin(p[0])*P;
if(Math.abs(m)<.001&&Math.abs(z)<.001)m=z=0;for(var M=0;M<K;M++)for(var d=0;d<a;d++){var w=(M+J)*Y+d+J,A=E[w+1]-E[w-1],G=E[w+Y]-E[w-Y],kB=A*A+G*G;
if(kB>10){var q=1/Math.sqrt(kB);c[M*a+d]=Math.max(0,Math.min(255,128+127*(m*q*A+z*q*G)))}}var fO=[H,j],g=N(j,0,b),jN=r.Z.o4(j).p,c6=jN.slice(0);
r.Z.i(jN,g,c6);var a7=j.oA(r.Z.Gn(c6)),bd=r.R(a7.P()*4);for(var w=0;w<8;w+=2){var A=jN[w]-c6[w],G=jN[w+1]-c6[w+1];
ey=Math.max(ey,Math.sqrt(A*A+G*G))}var c5=Math.round(ey/2),bx=r.I.z$(b.Clr.v);bx.o/=255;bx.r/=255;bx.z/=255;
var ap=b.Drkn.v.val/100;for(var fC=0;fC<c5;fC++){var kE=fC/c5,bm=1-ap+kE*ap,fe=N(j,kE,b),g8=j.clone(),e0=H;
if(D!=1){var cF=O.Y.Sz(fO,fe);g8=cF.rect;e0=cF.channel}else{var ei=fe.dr(new eX(0,0));g8.x+=Math.round(ei.x);
g8.y+=Math.round(ei.y)}var cr=r.R(g8.P()*4);if(m!=0||z!=0){var e_=g8.m,gg=g8.e,bW=bx.o,gx=bx.r,h$=bx.z,dH=fe.clone();
dH.sx();var eg=dH.dr(new eX(.5,.5)),aB=dH.dr(new eX(1.5,1.5)),A=aB.x-eg.x,G=aB.y-eg.y;for(var M=0;M<gg;
M++){for(var d=0;d<e_;d++){var w=M*e_+d,gB=w*4,jy=Math.max(0,Math.min(a-1,~~(.5+A*d))),aV=Math.max(0,Math.min(K-1,~~(.5+G*M))),ie=c[aV*a+jy],cT=-1+2*ie*(1/255),a_=-cT,gs=0;
if(cT>0){a_=0;gs=cT}cr[gB]=255*(1-a_)*(gs+(1-gs)*bW)*bm;cr[gB+1]=255*(1-a_)*(gs+(1-gs)*gx)*bm;cr[gB+2]=255*(1-a_)*(gs+(1-gs)*h$)*bm}}}else hM.XJ(cr,b.Clr.v,null,bm);
r.rW(e0,cr,3);r.l.X3("norm",cr,g8,bd,a7,g8,1)}y={Xu:bd,mF:a7}}else if(V=="DrSh"){var gq=R.ID(I,u-I,!0),kr=gq._I,iN=gq.fS.clone();
hM.bG(kr,b,!1);if(b.Cntn&&b.Cntn.v){var jH=new eu;hM.Ra(jH,b,L,0);var h2=iN.clone();h2.offset(-jH.x,-jH.y);
h2=h2.oA(iN);var an=r.R(h2.P());r.Hz(kr,iN,an,h2);var bt=Math.sqrt(jH.x*jH.x+jH.y*jH.y),kH=kr.slice(0);
for(var w=0;w<bt-1;w++){var A=Math.round(-jH.x*w/bt),G=Math.round(-jH.y*w/bt),js=gq.fS.clone();js.offset(A,G);
r.amQ(kH,js,an,h2)}kr=an;iN=h2}iN.offset(h,B);hM.Ra(iN,b,L,0);var bd=r.R(iN.P()*4);hM.XJ(bd,b.Clr.v);
r.rW(kr,bd,3);y={Xu:bd,mF:iN,a2_:b.layerConceals.v}}else if(V=="IrSh"){var gq=R.ID(I,u-I,!1);hM.Ra(gq.fS,b,L,0);
var iN=R.rect().clone(),kr=r.R(iN.P());kr.fill(255);r.Hz(gq._I,gq.fS,kr,iN);hM.bG(kr,b,!0,!0);var bd=r.R(iN.P()*4);
hM.XJ(bd,b.Clr.v);r.rW(kr,bd,3);iN.offset(h,B);y={Xu:bd,mF:iN}}else if(V=="GrFl"){var bd=r.R(R.rect().P()*4);
hM.FF(b,bd,R.rect(),L,null,$);var iN=R.rect().clone();iN.offset(h,B);y={Xu:bd,mF:iN}}else if(V=="SoFi"){var bd=r.R(R._I().length*4);
hM.XJ(bd,b.Clr.v);var iN=R.rect().clone();iN.offset(h,B);y={Xu:bd,mF:iN}}else if(V=="ebbl"){var gA=!1;
if(gA)console.log(b);var Q=Date.now(),jR=b.bvlS.v.BESl;if(jR=="strokeEmboss"){var c3=x.frameFXMulti.v;
if(c3.length==0)continue;c3=c3[0].v;if(!c3.enab.v)continue;var iU=c3.Styl.v.FStl;if(iU=="OutF")jR="OtrB";
if(iU=="CtrF")jR="Embs";if(iU=="InsF")jR="InrB"}var u=b.blur.v.val;if(u==0)u=.7;if(jR=="Embs"||jR=="PlEb")u/=2;
var hn=["OtrB","InrB","Embs","PlEb","strokeEmboss"],db=["SfBL","PrBL","Slmt"],dy=["In","Out"],c2=b.bvlT.v.bvlT!="SfBL"?u:u*.45,bk=Math.round(u),cx=R.rect().clone(),ft=cx.clone();
ft.za(bk,bk);var a=ft.m,K=ft.e,eZ=a*K,hf=r.R(eZ);r.Hz(R._I(),cx,hf,ft);var jr=r.style.ld(hf,a,K);r.sx(hf);
var ix=r.style.ld(hf,a,K);if(gA)console.log("distTransform computed",Date.now()-Q);for(var w=0;w<eZ;
w++)ix[w]=ix[w]-jr[w];for(var w=0;w<eZ;w++){var bF=ix[w];if(bF<-c2)ix[w]=-c2;else if(bF>c2)ix[w]=c2}if(gA)console.log("summing + cropping",Date.now()-Q);
if(b.bvlT.v.bvlT=="SfBL"){var fA=Math.pow(u*.21,1.22);if(!0)fA=Math.max(fA,2);var ax=r.wG.mo(fA,2);r.wG.XI(ix,jr,ft,ax[0]>>>1);
r.wG.XI(jr,ix,ft,ax[1]>>>1)}if(gA)console.log("blurring",Date.now()-Q);var jA=ix,g1=jA.slice(0);if(b.useShape.v){var iA=Math.min(100,b.Inpr.v.val+1)/100;
if(jR!="OtrB"&&jR!="InrB")iA=1;var iQ=r.z3.eN(b.MpgS.v.Crv.v,2e3),fB=Math.round(2e3/iA);iQ=r.z3.aeH(iQ,fB,jR=="InrB");
var dn=.5/c2;for(var w=0;w<eZ;w++){var jp=jA[w],fP=.99999*(jp+c2)*dn;jA[w]=-c2+2*c2*iQ[~~(fP*(fB-1))]}if(gA)console.log("applying shape",Date.now()-Q)}if(b.useTexture.v){var cr=r.R(a*K*4);
hM.dh(b,cr,ft,L.add.Patt,F);var k7=r.R(a*K);r.ad(cr,k7);var hs=r.R(a*K);r.wG.asB(k7,hs,ft,1);k7=hs;var kb=u*b.textureDepth.v.val*(1/100)*(1/255);
if(b.InvT.v)kb=-kb;for(var w=0;w<eZ;w++)jA[w]+=-kb*k7[w];if(gA)console.log("applying texture",Date.now()-Q)}var gn=(b.bvlT.v.bvlT=="SfBL"?1:.5)*(b.bvlD.v.BESs=="In"?1:-1)*b.srgR.v.val/100;
for(var w=0;w<eZ;w++)jA[w]*=gn;if(gA)console.log("scaling",Date.now()-Q);var p=hM.a6a(b,L),iy=p[0],gU=p[1],m=Math.cos(iy)*Math.cos(gU),z=-Math.sin(iy)*Math.cos(gU),jV=Math.sin(gU),jf=new Float32Array(eZ),gw=new Float32Array(eZ),bU=jR=="PlEb";
for(var M=0;M<K;M++)for(var d=0;d<a;d++){var w=M*a+d,id=0,kC=0,cb=1;if(M!=0&&M!=K-1&&d!=0&&d!=a-1){var bw=jA[w-a-1],dr=jA[w-a+1],hu=jA[w+a-1],gi=jA[w+a+1];
id=-.125*(dr+2*jA[w+1]+gi-(bw+2*jA[w-1]+hu));kC=-.125*(hu+2*jA[w+a]+gi-(bw+2*jA[w-a]+dr))}else{var e6=jA[w];
kC=-(M==0?jA[w+a]-e6:M==K-1?e6-jA[w-a]:.5*(jA[w+a]-jA[w-a]));id=-(d==0?jA[w+1]-e6:d==a-1?e6-jA[w-1]:.5*(jA[w+1]-jA[w-1]))}var fF=1/Math.sqrt(id*id+kC*kC+1);
id*=fF;kC*=fF;cb*=fF;var by=id*m+kC*z+cb*jV,dZ=by;if(bU)dZ=-id*m-kC*z+cb*jV;if(by>0)jf[w]=by;if(dZ>0)gw[w]=dZ}if(gA)console.log("raycasting",Date.now()-Q);
if(b.Sftn.v.val!=0){r.wG.vL(jf,jr,ft,b.Sftn.v.val*.43);var i6=jr,jr=jf,jf=i6;if(bU){r.wG.vL(gw,jr,ft,b.Sftn.v.val*.43);
var i6=jr,jr=gw,gw=i6}else r.Bj(jf,gw)}if(gA)console.log("softening",Date.now()-Q);var iQ=r.z3.eN(b.TrnS.v.Crv.v,1024);
for(var w=0;w<eZ;w++){jf[w]=iQ[~~(jf[w]*1024)];gw[w]=iQ[~~(gw[w]*1024)]}if(gA)console.log("contour remap",Date.now()-Q);
a=Math.round(a);K=Math.round(K);var jm=r.R(a*K*4);hM.XJ(jm,b.hglC.v);var d_=r.R(a*K*4);hM.XJ(d_,b.sdwC.v);
var hg=r.R(a*K*4);hM.XJ(hg,b.hglC.v);var bY=r.R(a*K*4);hM.XJ(bY,b.sdwC.v);var bA=1/jV,hc=1/(1-jV),dn=1/c2,de=new Float64Array(1e3);
for(var w=0;w<1e3;w++)de[w]=Math.pow(w*.001,.2);for(var M=0;M<K;M++)for(var d=0;d<a;d++){var w=M*a+d,cu=4*w+3,f0=0,eh=0;
f0=jf[w];eh=gw[w];var eU=Math.max(0,Math.min(.9999,(g1[w]+c2*.993)*dn));eU=de[Math.floor(eU*1e3)];var hV=eU*(1-Math.min(1,f0*bA)),fa=eU*(1-Math.min(1,(1-f0)*hc)),cR=eU*(1-Math.min(1,eh*bA)),gg=eU*(1-Math.min(1,(1-eh)*hc));
d_[cu]=Math.round(255*hV);jm[cu]=Math.round(255*fa);bY[cu]=Math.round(255*cR);hg[cu]=Math.round(255*gg)}if(gA)console.log("baking textures",Date.now()-Q);
ft=R.rect().clone();ft.za(bk,bk);ft.offset(h,B);y={a1O:b.bvlS.v.BESl=="strokeEmboss"};var cm=a2.zy(b.hglM.v.BlnM),gm=b.hglO.v.val/100,j_=a2.zy(b.sdwM.v.BlnM),at=b.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(jR)!=-1){y._S={Xu:jm,mF:ft,kh:cm,W0:gm};y.i1={Xu:d_,mF:ft,kh:j_,W0:at}}if(["OtrB","Embs","PlEb"].indexOf(jR)!=-1){y.h0={Xu:hg,mF:ft,kh:cm,W0:gm};
y.LE={Xu:bY,mF:ft,kh:j_,W0:at}}if(gA)console.log(Date.now()-Q)}else if(V=="patternFill"){var a5=R.rect(),bd=r.R(a5.P()*4);
hM.dh(b,bd,a5,L.add.Patt,F);var iN=a5.clone();iN.offset(h,B);y={Xu:bd,mF:iN}}else if(V=="ChFX"){var bd=r.R(R._I().length*4);
hM.XJ(bd,b.Clr.v);var u=b.blur.v.val,ac=R.rect().clone();ac.za(u,u);var aN=r.R(ac.P()),gJ=r.R(ac.P());
r.Hz(R._I(),R.rect(),gJ,ac);r.wG.kt(gJ,aN,ac,u*.43);var bV=r.z3.WK(b.MpgS.v.Crv.v,256,!0);r.a69(aN,bV);
var d6=r.R(R._I().length),co=r.R(R._I().length),iD=R.rect().clone();hM.Ra(iD,b,L,0);r.Hz(aN,ac,d6,iD);
iD=R.rect().clone();hM.Ra(iD,b,L,Math.PI);r.Hz(aN,ac,co,iD);var ck=d6.length;for(var w=0;w<ck;w++)bd[4*w+3]=Math.abs(d6[w]-co[w]);
if(b.Invr.v)for(var w=0;w<ck;w++)bd[4*w+3]=255-bd[4*w+3];var iN=R.rect().clone();iN.offset(h,B);y={Xu:bd,mF:iN}}else if(V=="OrGl"){var gq;
if(b.GlwT.v.BETE=="SfBL")gq=R.ID(I,u-I,!0);else gq=R.aBK(u,Z,!0);var kr=gq._I,iN=gq.fS,aT=kr.slice(0);
hM.afY(kr,b);var bd=r.R(iN.P()*4);if(b.Grad==null){hM.XJ(bd,b.Clr.v);hM.bG(kr,b,!1)}else{hM.bG(kr,b,null);
var ce={NA:kr,hY:255,Az:0,Xh:iN};hM.FF(b,bd,iN,L,ce);var io=b.Nose.v.val/100,a8=iN.m;for(var w=0;w<aT.length;
w++){var h5=255,bK=aT[w];if(bK<32){var h7=(bK+aT[w-1]+aT[w+1]+aT[w-a8]+aT[w+a8])*.2-1;h5=Math.min(255,Math.round(Math.max(0,h7)*8))}kr[w]=h5}hM.aso(kr,b)}r.rW(kr,bd,3);
iN.offset(h,B);y={Xu:bd,mF:iN}}else if(V=="IrGl"){var gq;if(b.GlwT.v.BETE=="SfBL")gq=R.ID(I,u-I,!1);
else gq=R.aBK(u,Z,!1);var kr=gq._I,iN=gq.fS;hM.afY(kr,b);if(b.glwS.v.IGSr=="SrcC")r.sx(kr);var bd=r.R(iN.P()*4);
if(b.Grad==null){hM.XJ(bd,b.Clr.v);hM.bG(kr,b,!0)}else{hM.bG(kr,b,null);var ce={NA:kr,hY:255,Az:0,Xh:iN};
hM.FF(b,bd,iN,L,ce);kr.fill(255);hM.aso(kr,b)}r.rW(kr,bd,3);iN.offset(h,B);y={Xu:bd,mF:iN}}else if(V=="FrFX"){var k8=hM.bE(b),fY=k8[0],fz=k8[1],iN=R.rect().clone(),jx=null,d3=null;
iN.za(Math.ceil(k),Math.ceil(k));if(fz>0){var gq=R.ID(fz,0,!0);d3=gq._I;if(d3.length<iN.P()){d3=r.R(iN.P());
r.Hz(gq._I,gq.fS,d3,iN)}}if(fY>0){var gq=R.ID(fY,0,!1);jx=r.R(iN.P());jx.fill(255);r.Hz(gq._I,gq.fS,jx,iN)}iN.offset(h,B);
var bd=r.R(iN.P()*4),d2=b.PntT.v.FrFl;if(d2=="SClr")hM.XJ(bd,b.Clr.v);if(d2=="GrFl")hM.FF(b,bd,iN,L,R.a0E(fY,fz));
if(d2=="Ptrn")hM.dh(b,bd,iN,L.add.Patt,F);var gc=b.overprint,gb=gc?gc.v:!1;if(gb){var gV=jx?jx:d3;if(jx&&d3)r.KF.jB(jx,d3,gV);
r.rW(gV,bd,3)}y={Xu:bd,mF:iN,s6:d3,lk:jx,ayu:gb}}e.type[V].push(y);if(V=="ebbl"){if(y._S)e.all.push(y._S,y.i1);
if(y.h0)e.all.push(y.h0,y.LE)}else{y.kh=a2.zy(b.Md.v.BlnM);y.W0=b.Opct.v.val/100,e.all.push(y)}}}return e};
hM.om=function(x){var F=1/Math.sqrt(x.x*x.x+x.y*x.y+x.Bb*x.Bb);x.x*=F;x.y*=F;x.Bb*=F};hM.are=function(x,F){return{x:x.y*F.Bb-x.Bb*F.y,y:x.Bb*F.x-x.x*F.Bb,Bb:x.x*F.y-x.y*F.x}};
hM.ayi=function(x,F){return x.x*F.x+x.y*F.y+x.Bb*F.Bb};hM.aso=function(x,F){var W=F.Nose.v.val/100;if(W>0)for(var w=0;
w<x.length;w++){var n=x[w];n=Math.min(510-(1+W)*r.style.W1(w),n);x[w]=n}};hM.gU=function(x){var F=hM.j0(),W=x.mv,n=!1;
for(var w=0;w<32;w+=8)if(W[w]+W[w+1]+W[w+4]+W[w+5]!=0||W[w+2]+W[w+3]+W[w+6]+W[w+7]!=1020)n=!0;if(n){W=W.slice(0);
for(var w=0;w<40;w+=4){var L=W[w]/255,$=W[w+1]/255,l=W[w+2]/255,k=W[w+3]/255;W[w]=L-.001;W[w+1]=L==$?1e6:1/($-L);
W[w+2]=l==k?-1e6:1/(l-k);W[w+3]=k+.001}}var V=x.add.iOpa!=null?x.add.iOpa/255:F.fill,i=x.add.vstk;if(i&&!i.fillEnabled.v&&(!i.strokeEnabled.v||i.strokeStyleLineWidth.v.val==0))V=0;
return{fill:V,a3:n?W:null,Jf:x.add.brst!=null?x.add.brst:F.Jf,ajP:x.add.knko!=null?x.add.knko:F.ajP,style:!1,u9:!1}};
hM.j0=function(){return{fill:1,a3:null,Jf:[1,1,1],ajP:0,style:!1,u9:!1}};hM.atD=function(x,F,W,n,L,$,l,k){if(k==null)k=1;
if(l==null)l=new iJ;var V=x.aB[1].m,i=x.aB[1].e,f=new iJ,X=L<2;if(X)f.translate(-V/2,-i/2);if(L==0){k*=Math.max(W/V,n/i)}else if(L==1){k*=Math.min(W/V,n/i)}else if(L==2){f.scale(1/V,1/i);
f.concat(l);f.scale(W,n)}else if(L==3){k=k}f.scale(k,k);if(X)f.translate(W/2,n/2);f.concat($);F.Ptrn.v.Idnt.v=x.id;
F.Scl.v.val=Math.round(100*f.NX());F.Angl.v.val=Math.round(180*Math.atan2(-f.z,f.V)/Math.PI);F.Algn.v=!0;
var s=F.phase.v;s.Hrzn.v=Math.round(f.yq);s.Vrtc.v=Math.round(f.Ze)};hM.Dk=function(x,F){if(F==null)return null;
var W=x.Idnt.v,n=x.Nm.v;for(var w=0;w<F.length;w++)if(F[w].id==W)return F[w];for(var w=0;w<F.length;
w++)if(F[w].name==n)return F[w];return null};hM.a06=function(x,F,W){var n=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var w=0;w<n.length;w++){var L=x.v[n[w]].v;for(var $=0;$<L.length;$++)if(L[$].v.Ptrn)F.Dm(hM.Dk(L[$].v.Ptrn.v,W))}};
hM.axk=function(x,F,W){var n=["patternFillMulti","ebblMulti","frameFXMulti"];for(var w=0;w<n.length;
w++){var L=x.v[n[w]].v;for(var $=0;$<L.length;$++)if(L[$].v.Ptrn){var l=L[$].v.Ptrn.v,k=hM.Dk(l,W),V=hM.Dk(l,F.add.Patt);
if(k==null&&V)W.push(V)}}};hM.dh=function(x,F,W,n,L){var $=hM.Dk(x.Ptrn.v,n);if($!=null&&!W.ak()){var l=$.aB,k=l[0],V=l[1],i=0;
r.Bh(l);var f=(x.Scl?x.Scl.v.val:100)/100;while((f<.3||f==.5)&&l[i+2]){f*=V.m/l[i+3].m;i+=2;k=l[i];V=l[i+1]}var X=r.scale.dh(k,V.m,V.e),s=x.phase?x.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},R=x.Angl?x.Angl.v.val:0,h=-W.x+s.Hrzn.v-1,B=-W.y+s.Vrtc.v-1;
if(x.Algn!=null&&!x.Algn.v){}else{h+=L.x;B+=L.y}if(F)r.scale.atv(X,F,W.m,W.e,f,f,h+1,B+1,R*Math.PI/180);
else return[X,f,h+1,B+1,R*Math.PI/180]}};hM.FF=function(x,F,W,n,L,$){if($==null)$=W;var l=x.Type?x.Type.v.GrdT:"shapeburst",k=x.Algn&&x.Algn.v?$:new eu(0,0,n.m,n.e),V=x.Angl?r.I.l6(x,k):[new eX(0,0),new eX(100,0)],i=V[0].x,f=V[0].y,X=V[1].x-i,s=V[1].y-f,R=Math.sqrt(X*X+s*s);
R=1/(2*R*R);var h=[X*R,s*R,-s*R,X*R],B=x.Rvrs?x.Rvrs.v:!1,e=x.Dthr?x.Dthr.v:!1;r.I.wL(x.Grad.v,F,W,h,i,f,B,eC.I.types.indexOf(l),0,0,L,e)};
hM.aqa=function(x,F,W){for(var w=0;w<x.all.length;w++){var n=x.all[w];n.yH=n.mF.clone();n.yH.offset(F,W)}};
hM.aql=function(x,F,W,n,L,$){var l=hl.Cp?hM.a6K:hM.auT;hM.aqa(F,W.x,W.y);var k=F.type.DrSh;for(var w=0;
w<k.length;w++)if(!k[w].a2_)l(k[w],n,L,$)};hM.a3I=function(x,F,W,n,L,$,l,k,V,i){var f=W,X=hl.Cp?hM.a6K:hM.auT,s=hl.Cp?hl.l.uC:r.l.qV,R;
R=F.type.DrSh;for(var w=0;w<R.length;w++)if(R[w].a2_)X(R[w],n,L,$);R=F.type.St3D;for(var w=0;w<R.length;
w++)X(R[w],n,L,$);R=F.type.OrGl;for(var w=0;w<R.length;w++)X(R[w],n,L,$);var h="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var B=0;B<h.length;B++){var R=F.type[h[B]];for(var w=0;w<R.length;w++)X(R[w],l,f,$)}var e=F.type.ebbl[0],U=e!=null&&e.a1O;
R=F.type.FrFX;for(var w=0;w<R.length;w++){var o=R[w];a6.w_.Hz(k,i,V,i,$);X(o,V,i,$);if(U&&w==R.length-1){if(e.LE)X(e.LE,V,i,$);
if(e.h0)X(e.h0,V,i,$);if(e.i1)X(e.i1,V,i,$);if(e._S)X(e._S,V,i,$)}if(o.ayu){if(o.lk||o.vl){X(o,l,f,$)}if(o.s6||o.wv){X(o,n,L,$)}}else{if(o.lk||o.vl)s(V,i,l,f,hl.Cp?o.vl:o.lk,o.yH,0,$,1);
if(o.s6||o.wv)s(V,i,n,L,hl.Cp?o.wv:o.s6,o.yH,0,$,1)}}if(!U&&e!=null){if(e.LE)X(e.LE,n,L,$);if(e.h0)X(e.h0,n,L,$);
if(e.i1)X(e.i1,l,f,$);if(e._S)X(e._S,l,f,$)}};hM.auT=function(x,F,W,n){var L=hM.j0();L.fill=x.W0;L.style=!0;
r.l.X3(x.kh,x.Xu,x.yH,F,W,n,1,L)};hM.a6K=function(x,F,W,n){var L=hM.j0();L.fill=x.W0;L.style=!0;hl.l.as0(x.kh,x.Jc,x.yH,F,W,n,1,L)};
hM.afY=function(x,F){var W=1-F.Inpr.v.val/100,n=1+Math.tan(W*(Math.PI/2)),L=x.length;for(var w=0;w<L;
w++)x[w]=Math.min(255,Math.round(x[w]*n))};hM.bG=function(x,F,W,n){var L=F.blur.v.val,$=Math.round(L*(F.Ckmt.v.val/100));
if(L>$){var l=r.z3.WK(F.TrnS.v.Crv.v,256,n!=!0);r.a69(x,l)}if(W!=null&&F.Nose.v.val>0)r.style.vM(x,F.Nose.v.val/100,W)};
hM.XJ=function(x,F,W,n){if(W==null)W=255;var L=r.I.z$(F);if(n!=null){L.o=Math.round(L.o*n);L.r=Math.round(L.r*n);
L.z=Math.round(L.z*n)}var $=W<<24|L.z<<16|L.r<<8|L.o,l=new Uint32Array(x.buffer);l.fill($)};hM.Ra=function(x,F,W,n,L){var $=F.uglg&&F.uglg.v?W.z8():F[L?L:"lagl"].v.val;
$=$*Math.PI/180+n;var l=Math.cos($)*F.Dstn.v.val,k=Math.sin($)*F.Dstn.v.val;x.x-=Math.round(l);x.y+=Math.round(k)};
hM.a6a=function(x,F){var W=x.uglg&&x.uglg.v?F.z8():x.lagl.v.val;W=W*(Math.PI/180);var n=x.uglg&&x.uglg.v?F.l5():x.Lald.v.val;
n=n*(Math.PI/180);return[W,n]};hM.hT=function(x){if(x==null)return null;var F=x.frameFXMulti.v;if(F.length==0)return null;
F=F[0].v;var W=eC.pr.Iz();hM.av3(F,W);return W};hM.av3=function(x,F){var W=eC.stroke.n0.indexOf(x.PntT.v.FrFl),n=[eC.eK,eC.Qu,eC.YZ][W],L=F.strokeStyleContent.v={classID:eC.pr.K8[W]};
for(var w=0;w<n.length;w++)L[n[w]]=x[n[w]];F.strokeEnabled=x.enab;F.strokeStyleLineWidth=x.Sz;F.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eC.pr.Uu[eC.stroke.types.indexOf(x.Styl.v.FStl)];
F.strokeStyleOpacity=x.Opct;F.strokeStyleBlendMode=x.Md;F.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
hM.Pg=function(x,F){var W=[];for(var w=0;w<x.length;w++)W.push({t:"UntF",v:{type:"#Nne",val:Math.round(x[w]*F)}});
return W};hM.aht=function(x,F){var W=x.opacity/255*(x.add.iOpa?x.add.iOpa/255:1),n=x.add.TySh,L=x.vN()||x.qA()&&x.add.vmsk&&x.add.vstk.fillEnabled.v&&x.add.vstk.strokeEnabled.v;
if(n){var $=n.OU.EngineDict.StyleRun.RunArray,l=$[0].StyleSheet.StyleSheetData,k=0;if(l.FillFlag)k++;
if(l.StrokeFlag)k++;if(l._FillBackgroundFlag)k++;if(k>1)L=!0}return L&&(F||W!=1||x.q_!="pass"&&x.q_!="norm")};
hM.tc=function(x,F,W,n){this.zX=F.clone();this.apQ=F.clone();this.apQ.za(W,W);if(n){this.zX.za(1,1);
this.ZE=r.R(this.zX.P());r.Hz(x,F,this.ZE,this.zX)}else this.ZE=x;this.Cb=null;this.Al=null;this.Bt=null};
hM.tc.prototype._I=function(){return this.ZE};hM.tc.prototype.rect=function(){return this.zX};hM.tc.prototype.zg=function(){return this.apQ};
hM.tc.prototype.RJ=function(){if(this.Cb)return this.Cb;this.Cb=this._I().slice(0);r.sx(this.Cb);return this.Cb};
hM.tc.prototype.YF=function(){if(this.Al)return this.Al;this.Al=r.style.ld(this.RJ(),this.rect().m,this.rect().e);
return this.Al};hM.tc.prototype.yf=function(){if(this.Bt)return this.Bt;var x=this.zg(),F=r.R(x.P());
r.Hz(this._I(),this.rect(),F,x);var W=Date.now();this.Bt=r.style.ld(F,x.m,x.e);return this.Bt};hM.tc.prototype.a0E=function(x,F){var W={hY:-F,Az:x,Xh:null,NA:null};
if(F==0){W.Xh=this.rect();W.NA=this.YF();return W}var n=this.yf().slice(0),L=this.zg();W.Xh=L;W.NA=n;
for(var w=0;w<n.length;w++)n[w]=-n[w];if(x==0)return W;var $=this.YF(),l=this.rect();for(var k=0;k<l.e;
k++)for(var V=0;V<l.m;V++){var i=k*l.m+V,f=(k+l.y-L.y)*L.m+V+l.x-L.x;n[f]+=$[i]}return W};hM.tc.prototype.ID=function(x,F,W){var n=Math.ceil(x+F),L={fS:this.rect().clone(),_I:null};
L.fS.za(n,n);L._I=r.R(L.fS.P());if(x==0&&F==0)r.Bj(W?this._I():this.RJ(),L._I);else{var $=r.R(L.fS.P());
r.Hz(this._I(),this.rect(),$,L.fS);if(!W)r.sx($);if(x!=0){if(W)r.style.Jt($,L.fS,this.yf(),this.zg(),x);
else r.style.Jt($,L.fS,this.YF(),this.rect(),x)}if(F!=0)r.wG.kt($,L._I,L.fS,Math.max(1,F*.43));else L._I=$}return L};
hM.tc.prototype.aBK=function(x,F,W){var n=x*(F-.5),L={fS:this.rect().clone(),_I:null};if(W)L.fS.za(x,x);
L._I=r.R(L.fS.P());var $=L.fS.m,l=L.fS.e,k=W?this.yf():this.YF(),V=W?this.zg():this.rect(),i=L.fS,f=i.jB(V),$=f.m,l=f.e,X=f.x-i.x,s=f.y-i.y,R=f.x-V.x,h=f.y-V.y,B=1-F*2;
for(var e=0;e<l;e++)for(var U=0;U<$;U++){var o=k[(e+h)*V.m+U+R],b=o/x;L._I[(e+s)*i.m+U+X]=Math.max(0,Math.min(255,255-255*((b+B)/(1+B))))}return L};
hM.aAG=function(x,F,W,n){var L=x.Lefx,$=x.blendOptions;if(L){var l=F.add.lmfx;if(W==null)W=l?l.Scl.v.val:100;
F.add.lmfx=JSON.parse(JSON.stringify(L.v));if(F.add.lmfx.Scl==null)F.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
hM.Fe(F.add.lmfx,W/F.add.lmfx.Scl.v.val);if(l)F.add.lmfx.Scl.v.val=l.Scl.v.val;var k=L.v.gagl;if(k&&n)n.Xk(k.v.val)}else delete F.add.lmfx;
if($){$=$.v;if($.Md)F.q_=a2.zy($.Md.v.BlnM);if($.Opct)F.opacity=Math.round($.Opct.v.val*255/100);if($.fillOpacity)F.add.iOpa=Math.round($.fillOpacity.v.val*255/100);
if($.Blnd){var V=[];for(var w=0;w<10;w++)V.push(0,0,255,255);var i=$.Blnd.v,f="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var w=0;w<i.length;w++){var X=i[w].v,s=8*["Gry","Rd","Grn","Bl"].indexOf(X.Chnl.v[0].v.enum);for(var R=0;
R<8;R++){V[s+R]=X[f[R]].v}}F.mv=V}}};hM.a79=function(x){var F="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),W=[],n=x.mv;
for(var w=0;w<4;w++){var L=w*8;if(n[L]+n[L+1]+n[L+4]+n[L+5]==0&&n[L+2]+n[L+3]+n[L+6]+n[L+7]==4*255)continue;
var $={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][w]}}]}}};
W.push($);for(var l=0;l<8;l++)$.v[F[l]]={t:"long",v:n[w*8+l]}}var k={classID:"blendOptions"};if(x.q_!="norm")k.Md={t:"enum",v:{BlnM:a2.KN(x.q_)}};
if(x.opacity!=255)k.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(x.opacity*100/255)}};if(x.add.iOpa!=null)k.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(x.add.iOpa*100/255)}};
if(W.length!=0)k.Blnd={t:"VlLs",v:W};var V={TY:{classID:"null",Idnt:{t:"TEXT",v:az.a1()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},RB:{classID:"Styl",blendOptions:{t:"Objc",v:k}}},i=x.add.lmfx;
if(i)V.RB.Lefx={t:"Objc",v:i};return V};function jq(){}jq.gj=function(x){return JSON.parse(JSON.stringify(x))};
jq.zu=function(x){var F=jq.gj(jq.asc),W=F.Brsh.v;if(x!=null){delete W.Hrdn;W.classID="sampledBrush";
W.sampledData={t:"TEXT",v:x}}return F};jq.asc={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
jq.a4o=function(x,F){var W=["opVr","szVr"],n=["usePaintDynamics","useTipDynamics"];for(var w=0;w<2;w++){var L=W[w];
if(x[L]==null)x[L]=JSON.parse(jq.om.TI[L]);x[L].v.bVTy.v=F[w]?2:0;if(F[w])x[n[w]].v=!0}jq.om.af5(x)};
jq.om={};jq.om.check=function(x){var F=jq.om.$T;for(var w=0;w<F.length;w++)if(x[F[w]]==null)x[F[w]]=JSON.parse(jq.om.TI[F[w]]);
var W=[];for(var w=0;w<F.length;w++)W.push(F[w]);var n=jq.om.at9;for(var w=0;w<n.length;w++){var L=n[w][0],$=n[w][1],l=!0;
for(var k=0;k<L.length;k++)l=l&&x[L[k]].v==!0;if(l)for(var k=0;k<$.length;k++){if(x[$[k]]==null)console.log("Missing conditional parameter "+$[k]);
else W.push($[k])}}for(var V in x)if(W.indexOf(V)==-1&&V!="toolOptions")console.log("Extra parameter "+V);
x=x.Brsh.v;F=jq.om.BX.$T;for(var w=0;w<F.length;w++)if(x[F[w]]==null)x[F[w]]=JSON.parse(jq.om.BX.TI[F[w]]);
W=[];for(var w=0;w<F.length;w++)if(x[F[w]])W.push(F[w]);else console.log("Missing default parameter "+F[w]);
n=jq.om.BX.a9D[x.classID];for(var w=0;w<n.length;w++)if(x[n[w]]==null&&n[w]!="dtipsGridSize"&&n[w]!="dtipsErodibleTipHeightMap"&&x.a7H!=1)console.log("Missing conditional parameter "+n[w]);
else W.push(n[w]);for(var V in x)if(W.indexOf(V)==-1)console.log("Extra parameter "+V)};jq.om.af5=function(x){var F=jq.om.at9;
for(var w=0;w<F.length;w++){var W=F[w][0],n=F[w][1],L=!0;for(var $=0;$<W.length;$++)L=L&&x[W[$]]&&x[W[$]].v==!0;
if(L){for(var $=0;$<n.length;$++)if(x[n[$]]==null){x[n[$]]=JSON.parse(jq.om.TI[n[$]])}}else for(var $=0;
$<n.length;$++)if(x[n[$]]!=null){delete x[n[$]]}}};jq.om.BX={};jq.om.BX.$T="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
jq.om.BX.TI={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};jq.om.BX.a9D={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
jq.om.at9=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
jq.om.$T="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
jq.om.TI={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function d0(x,F){this.arb=x;this.O4=F==null?0:F;this.dir=0}d0.prototype.PD=function(x,F){var W=this.arb,n=new eX(x.x-W.x,x.y-W.y),L=new iJ;
L.rotate(-this.O4);n=L.dr(n);if(this.dir==0&&!W.rr(x))this.dir=Math.abs(n.x)<Math.abs(n.y)?1:2;if(F.S(gp.ca)){if(this.dir==1)n.x=0;
if(this.dir==2)n.y=0}L.sx();n=L.dr(n);var $=new eX(W.x+n.x,W.y+n.y);return $};d0.prototype.aqM=function(x){if(x.S(gp.ca))return this.dir;
return 0};var ek=function(){function x(){this.a8A={}}x.arL=function(F,W){var n=F.clone();n.yq-=Math.floor(n.yq);
n.Ze-=Math.floor(n.Ze);var L=new eX(W,0),$=new eX(0,W),l=n.dr(L),k=n.dr($),V=new eX(n.yq,n.Ze);return[l,k,V]};
x.a6J=function(F,W){var n=eX.I9;return n(F[0],W[0])+n(F[1],W[1])+n(F[2],W[2]);return dsum};x.prototype.asa=function(F){var W=this.a8A,n=W[F];
if(n==null)n=W[F]={rx:[],MH:0,P:0,ats:0,ak0:0};n.MH=Date.now();while(Object.keys(W).length>3){var L="",$=Date.now();
for(var l in W){var k=W[l].MH;if(k<$){$=k;L=l}}delete W[L]}return n};x.prototype.ai$=function(F,W){var n=F.rx,L,$=1e6;
for(var w=0;w<n.length;w++){var l=n[w],k=x.a6J(l.vX,W);if(k<$){L=l;$=k}}return L};x.prototype.a7U=function(F,W){var n=F.rx;
n.push(W);F.P+=W.rect.P();if(n.length>1e3||F.P>100*100*1600){console.log("pruning",F.P,n.length);n.sort(function($,l){return l.MH-$.MH});
while(n.length>500||F.P>100*100*800){var L=n.pop();F.P-=L.rect.P()}}};return x}();function dp(x,F,W,n,L,$,l,k,V){this.kF=F;
this.r5=W;this.G8=$;this.U0=n;this.Oh=null;this.sl=null;this.pW=0;this.ati=0;this.a9E=0;this.og=0;this.dO=0;
this.ey=V==null?Math.floor(Math.random()*16777215):V;this.Sn=V==null?Math.floor(Math.random()*16777215):V;
this.Sf=new eu;this.qn=new eu;if(k!=null){this.Xu=k}else{var i=dp.a8k;if(i.length!=l.P()*4)i=r.R(l.P()*4);
else i.fill(0);this.Xu=dp.a8k=i}this.rect=l.clone();this.pv=[];this.cx=[];this.eY=null;this.A_=0;this.z=null;
this.a5o="";this.fQ=null;this.abd(x,L)}dp.a8k=r.R(16);dp.prototype.abd=function(x,F){this.A_=F;this.z=x;
this.a5o=JSON.stringify(x)+JSON.stringify(this.U0.hW);this.fQ=dp.aal(this.z,this.kF,this.r5)};dp.prototype.moveTo=function(x,F,W){W=this.an8(W);
this.pW=W;var n=new eX(x,F),L=this.z.Brsh.v.Dmtr.v.val;this.Oh=n.clone();this.sl=n.clone();this.eY=n.clone();
this.pv=[x,F];this.cx=[W];if(this.U0.US!=dp.p0){var $=this.z.angleDynamics,l=$?$.v.bVTy.v==6:!1;this.WU(l?new eu:this.a1E(n,this.az2(W),W,new eX(0,0)))}this.og=n.clone()};
dp.prototype.lineTo=function(x,F,W){W=this.an8(W);var n=this.pv,L=n.length,$=n[L-2],l=n[L-1];if(x==$&&F==l)return;
var k=this.z.Brsh.v.Dmtr.v.val,V=Math.ceil(k)+1,i=new eu(Math.round($),Math.round(l),0,0);i.za(V,V);
var f=new eu(Math.round(x),Math.round(F),0,0);f.za(V,V);this.pv.push(x,F);this.cx.push(W);L+=2;if(L>=6)this.WU(this.a1k(L))};
dp.prototype.an8=function(x){if(x==null)x=1;x=Math.max(.05,Math.min(5,x));if(isNaN(x)){alert("Pressure is not a number");
throw"e"}return x};dp.prototype.WU=function(x){this.Sf=x;this.qn=this.qn.oA(x)};dp.prototype.finish=function(){var x=this.pv,F=x.length,W;
if(F==4)W=this.DK(x[F-2],x[F-1],this.cx[(F>>1)-1],!0);if(F>4)W=this.a1k(F+2);if(W)this.WU(W)};dp.prototype.oU=function(){return this.rect.clone()};
dp.prototype.Kf=function(){return this.Sf.jB(this.rect)};dp.prototype.FV=function(){return this.qn.jB(this.rect)};
dp.prototype.Eo=function(){return this.Xu};dp.prototype.a1k=function(x){var F=this.pv,W=this.cx,n=F[x-6],L=F[x-5],$=F[x-4],l=F[x-3],k=W[(x>>1)-3],V=W[(x>>1)-2],i=new eX(0,0),f=new eX(0,0);
if(8<=x)i=dp.adw(F[x-8],F[x-7],n,L,$,l);if(x<=F.length)f=dp.adw(F[x-2],F[x-1],$,l,n,L);var X=n+i.x,s=L+i.y,R=$+f.x,h=l+f.y,B=new eu,e=this.agk()?1:10;
for(var w=0;w<e;w++){var U=(w+1)/e,o=1-U,b=o*o*o*n+3*U*o*o*X+3*U*U*o*R+U*U*U*$,u=o*o*o*L+3*U*o*o*s+3*U*U*o*h+U*U*U*l,Z=this.DK(b,u,k+U*(V-k));
B=B.oA(Z)}return B};dp.adw=function(x,F,W,n,L,$){var l=x-W,k=F-n,V=L-W,i=$-n,f=Math.sqrt(l*l+k*k),X=Math.sqrt(V*V+i*i),s=Math.acos((l*V+k*i)/(f*X))/Math.PI,R=.35,h=.1;
s=h+s*(R-h);var B=L-x,e=$-F,U=Math.sqrt(B*B+e*e),o=s*X/U;return new eX(B*o,e*o)};dp.prototype.DK=function(x,F,W,n){var L=new eu,$=this.U0.a4R;
if($==null)$=0;if($==0||n){L=this.a21(x,F,W);return L}var l=this.eY,k=x-l.x,V=F-l.y,i=Math.sqrt(k*k+V*V);
k/=i;V/=i;if(i>$){var f=l.x+k*(i-$),X=l.y+V*(i-$);L=this.a21(f,X,W);this.eY.xz(f,X)}return L};dp.prototype.agk=function(){var x=this.z,F=x.Brsh.v.Dmtr.v.val;
return this.U0.hW&&F==1};dp.prototype.a21=function(x,F,W){var n=new eu,L=new eX(x,F),$=this.U0.US,l=L.ZC(this.sl);
l.normalize(1);var k=eX.I9(this.sl,L),V=-this.ati,i=this.sl.clone();if(this.agk()){if(k>.99){var f=this.sl;
dp.ao8(f,L,this.Xu,this.rect,this.wI(this.z));n=r.Z.Gn([f.x,f.y,L.x,L.y]);V=k}else L=this.sl}else while(!0){var X=this.pW+(W-this.pW)*(Math.max(0,V)/k),s=this.az2(X),R=this.axh()*(s+this.a9E)/2*this.fQ.at3;
if($==dp.p0)R=1;R=Math.max(R,.5);if(V+R<k){V+=R;this.dO+=R;var h=new eX(this.sl.x+l.x*V,this.sl.y+l.y*V),U=1;
if($==dp.p0){var B=i.clone();B.x+=l.x>0?1:-1;var e=i.clone();e.y+=l.y>0?1:-1;if(eX.I9(B,h)<eX.I9(e,h))h=B;
else h=e;V=eX.I9(h,this.sl)}if(this.z.useScatter.v==!0){U=this.z.Cnt.v;var o=this.z.countDynamics.v.jitter.v.val/100,b=o*(-1+2*this.lO());
U+=Math.round(U*b)}for(var w=0;w<U;w++){var u=this.a1E(h,s,W,l);n=n.oA(u)}i=h}else break}this.ati=k-V;
this.sl=L;this.pW=W;return n};dp.prototype.axh=function(){var x=this.z.Brsh.v,F=x.Spcn.v.val,W=Math.max(5,x.Rndn.v.val);
return W/100*(F/100)};dp.prototype.az2=function(x){var F=this.z,W=F.Brsh.v.Dmtr.v.val;if(F.useTipDynamics.v){var n=W*(F.minimumDiameter.v.val/100);
W=n+(W-n)*(1-this.lO(this.Sn)*(F.szVr.v.jitter.v.val/100));W*=dp.v4(F,"szVr",x,this.dO)}return W};dp.v4=function(x,F,W,n){var L=1,$=x[F].v,l=$.bVTy.v,k=$.fStp.v;
if(l==1)L*=Math.max(0,(k-n)/k);if(l==2)L*=W;return L};dp.prototype.a1E=function(x,F,W,n){var L=this.U0.BE,B=0;
L=Math.min(1,L);var $=this.z,l=this.z.Brsh.v,k=l.Dmtr.v.val,V=this.U0,i=V.US,f=V.a4e,X=this.fQ.aB[1],s=new iJ;
s.translate(-X.m/2,-X.e/2);s.scale(1/this.fQ.aw2,1/this.fQ.aw2);s.scale(F/k,F/k);s.scale(1,Math.max(5,l.Rndn.v.val)/100);
if($.usePaintDynamics&&$.usePaintDynamics.v){var R=$.opVr.v.jitter.v.val/100,h=$.prVr.v.jitter.v.val/100;
L*=1-this.lO()*R;L*=1-this.lO()*h;L*=dp.v4($,"opVr",W,this.dO)*dp.v4($,"prVr",W,this.dO)}if($.useTipDynamics.v){var e=$.angleDynamics.v,U=$.minimumRoundness.v.val/100;
s.scale(1,U+(1-U)*Math.round(100-this.lO()*$.roundnessDynamics.v.jitter.v.val)/100);B+=(-.5+this.lO())*4*Math.PI*(e.jitter.v.val/100);
B+=dp.v4($,"angleDynamics",W,this.dO)*2*Math.PI;if(e.bVTy.v==6)B+=Math.atan2(-n.y,n.x)}B+=l.Angl.v.val*(Math.PI/180);
s.rotate(B);if($.useScatter.v){var o=(-1+2*this.lO())*$.scatterDynamics.v.jitter.v.val/100;s.translate(-o*F*n.y,o*F*n.x)}s.translate(x.x,x.y);
var b=this.apL(s,x,F),u=b.rect.clone();if(i==null){var Z=this.wI($);r.De(b.wg,Math.round(Z.z*255)<<16|Math.round(Z.r*255)<<8|Math.round(Z.o*255)<<0,4278190080);
if(this.qn.ak()&&this.rect.rr(b.rect)&&L==1)this.Xu=b.wg.slice(0);else{var I=-1,y=2,D=-1,N=2;if(!V.da){I=D=0;
y=N=1}for(var j=D;j<N;j++)for(var H=I;H<y;H++){var Q=b.rect.clone();Q.x+=H*this.rect.m;Q.y+=j*this.rect.e;
if(Q.yU(this.rect)){u=u.oA(Q);r.l.avA(b.wg,Q,this.Xu,this.rect,Q,L)}}}}if(i==dp.p0){var C=new eX(b.rect.x+b.rect.m/2,b.rect.y+b.rect.e/2),J=Math.round(C.x-this.og.x),E=Math.round(C.y-this.og.y),T=b.rect.clone();
T.offset(-J,-E);var c=T.jB(this.rect);c.offset(J,E);r.sh(this.Xu,this.rect,b.wg,T);r.l.a1r(b.wg,b.rect,this.Xu,this.rect,b.sg,b.rect,L)}if(i==dp.Jk||i==dp.WY||i==dp.Em){var a=b.rect.jB(this.rect),K;
if(a.rr(b.rect))K=b.sg;else{K=r.R(a.P());r.Hz(b.sg,b.rect,K,a)}var Y=r.R(a.P()*4);r.sh(this.Xu,this.rect,Y,a);
if(i==dp.WY){var p=Y.slice(0),P=r.Ro.vt([-1,-1,-1,-1,25,-1,-1,-1,-1]);r.Ro.sA(Y,p,a.m,a.e,P,0);r.Bj(p,Y)}else if(i==dp.Em){var m=ew.Iz("UnsM");
m.Amnt.v.val=15;m.Thsh.v=0;m.Rds.v.val=5;var p=r.R(Y.length);ew.Pl("UnsM",{buffer:Y,rect:a},m,0,0,{buffer:p,rect:a});
r.Bj(p,Y)}else{ew.KT(1,r.wG.X_,Y,a)}r.l.a1r(Y,a,this.Xu,this.rect,K,a,L)}this.a9E=F;this.og=C;this.Sn++;
return u};dp.prototype.wI=function(x){var F=dp.aDm(this.A_);if(x.useColorDynamics&&x.useColorDynamics.v){var W=1-this.lO()*x.clVr.v.jitter.v.val/100,n=dp.aDm(this.G8);
F.o=W*F.o+(1-W)*n.o;F.r=W*F.r+(1-W)*n.r;F.z=W*F.z+(1-W)*n.z;var L=(-.5+this.lO())*x.H.v.val/100,$=(-1+2*this.lO())*x.Strt.v.val/100,l=(-1+2*this.lO())*x.Brgh.v.val/100,k=r.uO(F.o,F.r,F.z);
k.eD=(k.eD+L+1)%1;k.TR=k.TR+$;if(k.TR<0)k.TR=-k.TR;if(k.TR>1)k.TR=1-(k.TR-1);k._M=k._M+l;if(k._M<0)k._M=-k._M;
if(k._M>1)k._M=1-(k._M-1);F=r.zi(k.eD,k.TR,k._M)}return F};dp.prototype.om=function(x){return Math.max(0,Math.min(1,x))};
dp.prototype.lO=function(x){if(x==null){x=this.ey++}return dp.hash(x)};dp.aDm=function(x){return{o:(x>>16&255)/255,r:(x>>8&255)/255,z:(x>>0&255)/255}};
dp.hash=function(x){x=x^61^x>>16;x=x+(x<<3);x=x^x>>4;x=x*668265261;x=x^x>>15;return(x&16777215)/16777215};
dp.alV=new ek;dp.prototype.apL=function(x,F,W){var n=Math.sqrt(this.fQ.aB[1].P()),L=n*x.NX(),$=L<10?1:L<50?1.5:L<200?3:8;
if(L<30)$=0;var l=dp.alV,k=l.asa(this.a5o),V=this.U0.hW,i=ek.arL(x,n),f=l.ai$(k,i);if(f&&ek.a6J(f.vX,i)>$)f=null;
if(f){f.rect.x=Math.round(f.alF.x+x.yq);f.rect.y=Math.round(f.alF.y+x.Ze);f.MH=Date.now()}else{var X=Math.round(this.z.Brsh.v.Dmtr.v.val),s;
if(V&&X<=3){s={channel:r.R(X*X),rect:new eu(Math.round(F.x-X/2),Math.round(F.y-X/2),X,X)};s.channel.fill(255)}else if(x.V==1&&x.z==0&&x.Pu==0&&x.P9==1){s={channel:this.fQ.aB[0],rect:this.fQ.aB[1].clone()};
s.rect.x=Math.round(x.yq);s.rect.y=Math.round(x.Ze)}else{if(x.NX()>1e-4)s=O.Y.Sz(this.fQ.aB,x)}if(V){for(var w=0;
w<s.channel.length;w++)s.channel[w]=s.channel[w]>127?255:0}if(s==null)s={channel:r.R(0),rect:new eu};
f={wg:r.R(s.rect.P()*4),sg:s.channel,rect:s.rect,alF:new eX(s.rect.x-x.yq,s.rect.y-x.Ze),vX:i,MH:Date.now()};
r.rW(f.sg,f.wg,3);if(k)l.a7U(k,f)}return f};dp.aal=function(x,F,W){var n,L,$,l=x.Brsh.v.Dmtr.v.val,k=x.Brsh.v.classID;
if(k=="computedBrush"){var V=x.Brsh.v.Hrdn.v.val/100;L=l<100?1.4:1;$=1;n=r.afk.aiQ(l,V,L)}if(k=="sampledBrush"){var i;
for(var w=0;w<F.length;w++)if(F[w].id==x.Brsh.v.sampledData.v)i=F[w];n=i.aB;var f=n[1];L=Math.max(f.m,f.e)/l;
$=Math.min(f.m,f.e)/Math.max(f.m,f.e)}return{aw2:L,at3:$,aB:n}};dp.Mt=null;dp.yG=null;dp.k7=function(x,F,W,n,L,$){var l=dp.Mt,k=dp.yG;
if(l==null){dp.Mt=l=document.createElement("canvas");dp.yG=k=l.getContext("2d")}if($==null)$=n;if(l.width!=$||l.height!=L){l.width=$;
l.height=L}else k.clearRect(0,0,$,L);k.fillStyle="#000000";k.font=Math.floor(10*O.e1())+"px sans-serif";
var V=x.Brsh.v.Dmtr.v.val,i=""+V,f=x.useBrushSize;if(f&&f.v)i="---";var s=k.measureText(i);k.fillText(i,(n-s.width)/2,L-2);
var R=n,h=L-10*O.e1(),B=Math.min(R,h),e=x.Brsh.v.classID;if(e=="computedBrush"){k.translate(R/2,h/2);
k.rotate(-x.Brsh.v.Angl.v.val*Math.PI/180);k.scale(1,.1+.9*x.Brsh.v.Rndn.v.val/100);var U=Math.min(.95*B/2,V/2)+.5,o=.9*x.Brsh.v.Hrdn.v.val/100,b=k.createRadialGradient(0,0,0,0,0,U);
b.addColorStop(o,"rgba(0,0,0,1)");b.addColorStop((.5+o)/1.5,"rgba(0,0,0,.5)");b.addColorStop(1,"rgba(0,0,0,0)");
k.fillStyle=b;k.fillRect(-U,-U,2*U,2*U);k.setTransform(1,0,0,1,0,0)}else if(e=="sampledBrush"){var u,N=0;
for(var w=0;w<F.length;w++)if(F[w].id==x.Brsh.v.sampledData.v)u=F[w];var Z=u.aB;r.kP(Z);var I=Z[0],y=Z[1].m,D=Z[1].e;
while((y>R||D>h)&&Z[N+2]){N+=2;I=Z[N];y=Z[N+1].m;D=Z[N+1].e}if(y*D!=0){var j=r.R(y*D*4);r.rW(I,j,3);
var H=new ImageData(new Uint8ClampedArray(j.buffer),y,D);k.putImageData(H,Math.round((R-y)/2),Math.round((h-D)/2))}}else{}return l.toDataURL()};
dp.jf=function(x,F,W,n){if(W==0)W=1;var L=x.Brsh.v,$=L.Dmtr.v.val,l=L.Dmtr.v.val=Math.min(n!=null?Math.round(n*2.6):3e3,$*W),k=L.Hrdn?L.Hrdn.v.val/100:1,V=n!=null?n:Math.round(l*(1+.55*(1-k)))+4,X;
V=Math.max(15,Math.min(V,3e3));var i=new eu(0,0,V,V),f=new dp(x,F,null,{BE:1},16711712,0,i);L.Dmtr.v.val=$;
f.moveTo(i.m/2,i.e/2);var s=f.Eo(),R=f.oU();if(i.rr(R))X=s;else{X=r.R(i.P()*4);r.sh(s,R,X,i)}return[X,i,l]};
dp.ad2=function(x,F,W,n){var L=F.m,$=L>>>1;for(var w=0;w<4;w++){var l=6-w;x[L*($-l)+$-1]=n;x[L*($-l)+$]=W;
x[L*($-l)+$+1]=n;x[L*($+l)+$-1]=n;x[L*($+l)+$]=W;x[L*($+l)+$+1]=n;x[L*($-1)+$-l]=n;x[L*$+$-l]=W;x[L*($+1)+$-l]=n;
x[L*($-1)+$+l]=n;x[L*$+$+l]=W;x[L*($+1)+$+l]=n}};dp.OF=function(x,F,W,n){var L=dp.jf(x,F,W),$=L[0].slice(0),l=L[1],k=L[2],V=l.P(),i=r.R(V);
r.Tb($,i,3);var f=r.R(V);r.u.ahy(i,f,l,O.e1()>1.9);if(k<3||r.k4(f,0)||n&&k>12){dp.ad2(f,l,255,0)}var X=[3,5,3,4,8,4,3,5,3];
X=r.Ro.vt(X);r.Ro.Yh(f,i,l.m,l.e,X);r.De($,4294967295);r.rW(i,$,3);for(var w=0;w<V;w++)if(f[w]==255){$[w<<2]=$[(w<<2)+1]=$[(w<<2)+2]=0;
$[(w<<2)+3]=255}return{vj:$,fS:l,C8:new eX(l.m/2,l.e/2)}};dp.ao8=function(x,F,W,n,L){var $=4278190080|Math.round(L.z*255)<<16|Math.round(L.r*255)<<8|Math.round(L.o*255)<<0;
W=new Uint32Array(W.buffer);var l=Math.floor(x.x),k=Math.floor(x.y),V=Math.floor(F.x),i=Math.floor(F.y),f=Math.abs(V-l),X=Math.abs(i-k),s=l<V?1:-1,R=k<i?1:-1,h=f-X;
while(!0){W[k*n.m+l]=$;if(l==V&&k==i)break;var B=2*h;if(B>-X){h-=X;l+=s}if(B<f){h+=f;k+=R}}};dp.p0="0";
dp.Jk="1";dp.WY="2";dp.Em="3";var kc={};kc.Fw=function(x,F,W){if(W==null)W=!0;var n=x.add.TySh,L=new iO(n.OU,F);
x.jT.hq=L.Lf();var $=x.jT.path=kc.z_(L,n);if(aH!=0)return[$,L,null];var l=kc.VU($,n.i,iV.rL(n));if(W){x.rect=l.fS;
x.buffer=l.Xu;x.W()}return[$,L,l]};kc.VU=function(x,F,W){x={G:x.G,p:x.p.slice(0)};r.Z.i(x.p,F,x.p);var n=r.Z.Gn(x.p),L=0;
for(var w=0;w<x.G.length;w++){var $=x.G[w];if($[0]=="O"&&$[1]=="-")L=Math.max(L,parseFloat($.split("-").pop()))}L=Math.ceil(L*F.NX()/2);
n.za(L,L);if(n.ak())return{Xu:r.R(0),fS:new eu};var l=r.bz(n.m,n.e);l.translate(-n.x,-n.y);kc.aj7(x,l);
var k=l.getImageData(0,0,n.m,n.e),V=new Uint8Array(k.data.buffer);if(W==0)for(var w=0;w<V.length;w+=4)V[w+3]=V[w+3]>80?255:0;
if(W==3)for(var w=0;w<V.length;w+=4)V[w+3]=Math.min(255,V[w+3]*1.5);l.resetTransform();l.beginPath();
return{Xu:V,fS:n}};kc.z_=function(x,F,W){var n=F.i,L=F.OU;kc.Ju=n.NX();var $=iV.rL(F),l=Math.max(n.z*n.z,n.Pu*n.Pu)<1e-9?n:null;
if($==3||$==4)l=null;var k={G:[],p:[]};kc.au7(x,k,l,!0);kc.au7(x,k,l,!1);k=kc.OX(k,F,x,W);return k};
kc.Ju=1;kc.OX=function(x,F,W,n){if(x==null)return x;if(W&&W.nQ)r.Z.i(x.p,W.nQ,x.p);if(W&&!r.xP.oK(F.Zb)){var L=iV.oU(F,W);
if(!L.ak()){if(x.G){x=r.Z.ik(x);var $=Math.min(L.m,L.e)/8;if($<1)$=1;x=r.Z.Hs(x,$)}var l=r.xP.Bs(F.Zb,L);
r.AH.i(l,x.p,L)}}var k=F.i;if(n)r.Z.i(x.p,k,x.p);return x};kc.aj7=function(x,F){F.save();F.miterLimit=2;
Typr.U.pathToContext({crds:x.p,cmds:x.G},F);F.restore()};kc.Tq=function(x,F,W){var n=iO.a10(W),L=x.OU,$=L.ResourceDict.FontSet,l=L.ResourceDict.StyleSheetSet[0].StyleSheetData,k=L.EngineDict.StyleRun.RunLengthArray,V=L.EngineDict.StyleRun.RunArray,i=iV.YG(L),f=!0,X={},s=0;
for(var w=0;w<V.length;w++){var R=V[w].StyleSheet.StyleSheetData.Font;if(R==null)R=l.Font;for(var h=0;
h<k[w];h++){var B=i.charCodeAt(s+h),e=R+","+(B>128?B:-1);if(X[e]==null){X[e]=1;if(F.Z6($[R].Name,B)==null)f=!1}}s+=k[w]}return f&&n};
kc.OQ=function(x,F,W){var n=!0;for(var L=0;L<x.B.length;L++){var $=x.B[L],l=$.add.TySh;if(l!=null&&!kc.Tq(l,F,W))n=!1}return n};
kc.xD=function(x,F,W){for(var n=0;n<x.B.length;n++){var L=x.B[n],$=L.add.TySh;if($!=null&&kc.Tq($,F,W)){kc.Fw(L,F);
x.W()}}};kc.au7=function(x,F,W,n){var L=new iJ;for(var w=0;w<x.wt.length;w++)kc.a6N(x.oE,x.wt[w],F,L,W,n)};
kc.a6N=function(x,F,W,n,L,$){n.translate(F.GF.x,F.GF.y);for(var w=0;w<F.qR.length;w++){var l={},k=F.qR[w];
if(!k.Xi)break;var V=n.clone();V.translate(k.GF.x,k.GF.y);if(L){var i=L.Ze+V.Ze*L.P9;V.Ze=(Math.round(i)-L.Ze)/L.P9}for(var f=k.start;
f<k.end;f++)kc.a6O(x,F.ae[f],F,l,W,V,$)}n.translate(-F.GF.x,-F.GF.y)};kc.anb="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
kc.a6O=function(x,F,W,n,L,$,l){$.translate(F.GF.x,F.GF.y);for(var k=F.BJ;k<=F.CF;k++){var V=W.hH[k],i=V.fS.m,f=x[W.ag0+V.rS],X=f.Qb._FillBackgroundFlag;
if(f.fv=="\n"||l&&!X)continue;var s=f.Qb.FontSize/f.dE.head.unitsPerEm,R=$.clone();R.translate(V.GF.x+V.Kc*s,V.GF.y-V.DL*s);
var h=new iJ;h.scale(s,-s);if(f.DW==1&&kc.anb.indexOf(f.fv)!=-1)h.concat(new iJ(-1,0,0,1,i,0));if(f.Qb.FauxItalic)h.concat(new iJ(1,0,-Math.tan(.18),1,0,0));
h.translate(0,f.mY);h.scale(f.scale.x,f.scale.y);if(f.Qb.BaselineShift!=null)h.translate(0,-f.Qb.BaselineShift);
if(V.O4!=0){h.rotate(-V.O4)}h.concat(R);var B=(f.Qb._LineWidth?f.Qb._LineWidth:1)*kc.Ju;if(l){L.G.push(kc.wI(f.Qb._FillBackgroundColor));
var e=1.005*V.fS.e/s,U=new eu(-V.Kc,-e*.27,1.03*V.fS.m/(s*f.scale.x),e);if(f.Qb.StrokeFlag)U.za(B/s,B/s);
r.Z.concat(L,r.Z.o4(U),h);L.G.push("X");continue}if(f.Qb.FillFlag)L.G.push(kc.wI(f.Qb.FillColor));if(f.Qb.StrokeFlag)L.G.push("O-"+kc.wI(f.Qb.StrokeColor)+"-"+B);
if(V.path.G.length!=0&&f.fv!="\t"){if(f.Qb.FauxBold){var o=f.Qb.FontSize/2048*27*f.scale.x,b=Math.cos(V.O4)*o,u=Math.sin(V.O4)*o;
h.yq+=b;h.Ze+=u;r.Z.concat(L,V.path,h);h.yq-=b+b;h.Ze-=u+u;r.Z.concat(L,V.path,h)}else r.Z.concat(L,V.path,h)}if(f.fv!="\n"){if(f.Qb.Underline){if(n.Om==null)n.Om=f.dE.post.underlineThickness;
if(n.aCa==null)n.aCa=f.dE.post.underlinePosition;var Z=0,I=n.aCa-n.Om/2,y=V.PC*1.05,D=-n.Om;r.Z.concat(L,{G:["M","L","L","L","Z"],p:[Z,I,Z+y,I,Z+y,I+D,Z,I+D]},h)}if(f.Qb.Strikethrough){var N=f.dE["OS/2"].yStrikeoutSize,j=f.dE["OS/2"].yStrikeoutPosition,Z=0,I=j+N/2,y=V.PC*1.05,D=-N;
r.Z.concat(L,{G:["M","L","L","L","Z"],p:[Z,I,Z+y,I,Z+y,I+D,Z,I+D]},h)}}if(f.Qb.FillFlag)L.G.push("X");
if(f.Qb.StrokeFlag)L.G.push("OX")}$.translate(-F.GF.x,-F.GF.y)};kc.wI=function(x){var F=iV.z$(x),W=(Math.round(F.o)<<16)+(Math.round(F.r)<<8)+Math.round(F.z);
return"#"+r.mZ(W)};function iO(x,F){var W=iV.eQ(x),n,L,$=iV.T$(x),l=x._LineOrientation==2?new iJ:null,f,s;
if(x.Curve)L=iO.yD(x.Curve);if(W!=0){n=new eu($[0],$[1],$[2],$[3]);if(l){var k=n.m;n.m=n.e;n.e=k;l.translate(0,-$[2])}if(W==2){n.m=L[5]-L[4];
n.e=9999}}this.wt=[];this.oE=[];this.d$=W;this.nQ=l;var V=this.ard=iV.YG(x),i=-1,X=-1;for(var w=0;w<V.length;
w++){var R=f,h=iV.ayz(x,w);if(h!=i){i=h;R=f=iV.aqI(x,h)}var B=s,h=iV.ad_(x,w);if(h!=X){X=h;B=s=iV.abL(x,h)}var e={fv:V.charAt(w),Qb:R,dE:null,Ld:-1,EY:iV.a3O(x,w),mY:0,scale:new eX(0,0),OT:0,lineHeight:0,DW:0},U=x.ResourceDict.FontSet[R.Font].Name,o=e.dE=F.Z6(U,V.charCodeAt(w));
e.scale.x=R.HorizontalScale==null?1:R.HorizontalScale;e.scale.y=R.VerticalScale==null?1:R.VerticalScale;
var b=o["OS/2"],u=o.hhea;if(R.FontCaps==1&&e.fv!=e.fv.toUpperCase()){var Z=b.sxHeight?b.sxHeight/b.sTypoAscender:.76;
e.scale.x*=Z;e.scale.y*=Z}var I=1/o.head.unitsPerEm*R.FontSize;if(R.FontBaseline==1){var Z=x.ResourceDict.SuperscriptSize;
e.scale.x*=Z;e.scale.y*=Z;e.mY-=x.ResourceDict.SuperscriptPosition*R.FontSize}if(R.FontBaseline==2){var Z=x.ResourceDict.SubscriptSize;
e.scale.x*=Z;e.scale.y*=Z;e.mY+=x.ResourceDict.SubscriptPosition*R.FontSize}e.OT=iO.OT(o)*R.FontSize;
var y=B.AutoLeading;e.lineHeight=R.FontSize*(y==null?1.2:y);if(R.AutoLeading==!1)e.lineHeight=R.Leading;
if(e.lineHeight==0)e.lineHeight=.01;this.oE.push(e)}var D=this.wt,N=[0];for(var w=0;w<x.EngineDict.ParagraphRun.RunLengthArray.length;
w++){var j=new iO.fR(x,F,this.oE,w,n,N,W==1?L:null);D.push(j)}if(l){if(W==0)l.translate(0,D[0].ae[0].OT/2);
l.rotate(-Math.PI/2)}if(W==2){var H=x.Curve.Points,Q=L[0],C=L[1],J=L[2],E=L[3],T=L[4],c=L[5];for(var w=0;
w<D.length;w++)for(var a=0;a<D[w].qR.length;a++)if(!(w==0&&a==0))D[w].qR[a].Xi=!1;var j=D[0],K=j.qR[0];
j.GF.xz(0,0);K.GF.xz(0,0);for(var a=K.start;a<K.end;a++){var Y=j.ae[a],p=Y.GF.x;Y.GF.x=0;for(var P=Y.BJ;
P<=Y.CF;P++){var m=j.hH[P],z=m.fS.m/2;m.GF.x+=p;var M=iO.aaH(Q,(T+m.GF.x+z)%E);m.GF.x=M[0]-z*M[2];m.GF.y=M[1]-z*M[3];
m.O4=Math.atan2(M[3],M[2])}}}}iO.OT=function(x){var F=x._hhhh;if(F==null){var W=Typr.U,n=W.codeToGlyph(x,104),L=r.Z.KR(Typr.U.glyphToPath(x,n).crds).e;
F=x._hhhh=L*(1/x.head.unitsPerEm)}return F};iO.prototype.abM=function(){return!this.aCQ(0)};iO.prototype.aq_=function(){return this.aCQ(1)};
iO.prototype.aCQ=function(x){var F=this.wt,W=!0,n=0;for(var w=0;w<F.length;w++){var L=F[w].qR,$=L.length;
n+=$;for(var l=0;l<$;l++)W&=L[l].Xi}return[W,n][x]};iO.yD=function(x,F,W){if(F==null)F=.25;var n=x.Points,L=n.length,$=L>>>3,l=x.TextOnPathTRange,k=x.Reversed,s=0,R=0;
if(k){var V=n.slice(0);for(var w=0;w<L;w+=2){V[w]=n[L-2-w];V[w+1]=n[L-1-w]}n=V;l=[$-l[1]%$,$-l[0]%$]}var i=[],f=[0],X=[0];
for(var w=0;w<L;w+=8){var h=n[w+6]-n[w+0],B=n[w+7]-n[w+1],e=Math.round(Math.sqrt(h*h+B*B)/F),U=W&&w==L-8?e+1:e;
for(var o=0;o<U;o++){var b=o/e,u=1-b,Z=u*u*u*n[w+0]+3*u*u*b*n[w+2]+3*u*b*b*n[w+4]+b*b*b*n[w+6],I=u*u*u*n[w+1]+3*u*u*b*n[w+3]+3*u*b*b*n[w+5]+b*b*b*n[w+7];
i.push(Z,I);if(w+o!=0){var h=Z-s,B=I-R;X.push(X[X.length-1]+Math.sqrt(h*h+B*B));f.push((w>>>3)+b)}s=Z;
R=I}}var F=X.length,y=X[F-1],D=iO.mS(l[0]%$,f),N=iO.mS(l[1]%$,f),j=X[D%F],H=X[N%F];if(j>=H)H+=y;return[i,f,X,y,j,H]};
iO.mS=function(x,F){var w=0;while(F[w]<x)w++;return w};iO.aaH=function(x,F){var W=0,w=0,n,L,$;while(W<F){n=x[w+2]-x[w];
L=x[w+3]-x[w+1];$=Math.sqrt(n*n+L*L);W+=$;w+=2}return[x[w],x[w+1],n/$,L/$]};iO.prototype.akH=function(x){return this.oE[x]};
iO.prototype.avK=function(x){for(var F=0;F<this.wt.length;F++){var W=this.wt[F];for(var n=0;n<W.qR.length;
n++){var L=W.qR[n],$=W.ae[L.start].start,l=W.ae[L.end-1].end;if($<x&&x<l)return[$,l-1]}}return[0,1]};
iO.prototype.aes=function(x,F){var W=-1,n=this.wt;if(this.d$==2){var L=1e9,$=0,l=n[0],k=l.qR[0];for(var V=k.start;
V<k.end;V++){var i=l.ae[V];for(var f=i.BJ;f<=i.CF;f++){var X=l.hH[f],s=X.fS.m,R=x.x-X.GF.x,h=x.y-X.GF.y,B=R*R+h*h;
if(B<L){L=B;$=X.rS}}}if($!=0&&this.ard.codePointAt($-1)>65535)$--;return $}for(var e=0;e<n.length;e++){var l=n[e];
for(var U=0;U<l.qR.length;U++){W++;var k=l.qR[U],o=l.qR[U+1];if(o==null&&e<n.length-1)o=n[e+1].qR[0];
if(F!=null){if(W!=F)continue}else{if(o!=null&&l.GF.y+k.GF.y<x.y)continue}for(var V=k.start;V<k.end;V++){var i=l.ae[V];
for(var f=i.BJ;f<=i.CF;f++){var X=l.hH[f],s=X.fS.m,b=l.GF.x+k.GF.x+i.GF.x,u=b+X.GF.x,Z=b+(f<i.CF?l.hH[f+1].GF.x:X.GF.x+s);
if(x.x<=Z||V+1==k.end&&f==i.CF){var I=l.ag0+X.rS,y=this.oE[I],D=y.DW&1;if(y.fv!="\n"&&(D==0&&x.x>u+s/2||D==1&&x.x<u+s/2))I+=this.ard.codePointAt(I)>65535?2:1;
return I}}}}}};iO.prototype.bd=function(x){var F={fS:new eu,I0:0},W=0;for(var n=0;n<this.wt.length;n++){var L=this.wt[n];
for(var $=0;$<L.qR.length;$++){var l=L.qR[$];F.I0=W;W++;for(var k=l.start;k<l.end;k++){var V=L.ae[k];
for(var i=V.start;i<V.end;i++){if(i==x){var f=this.oE[i],X=f.Ld,s=L.hH[X].rS,R=1;while(L.hH[X]!=null&&L.hH[X].rS==s){var h=L.hH[X],B=L.GF.x+l.GF.x+V.GF.x+h.GF.x,e=L.GF.y+l.GF.y+V.GF.y+h.GF.y;
F.fS=F.fS.oA(new eu(B,e-f.lineHeight,h.fS.m,f.lineHeight));F.O4=h.O4;X+=R}return F}}}}}};iO.prototype.Lf=function(){var x=Infinity,F=Infinity,W=-Infinity,n=-Infinity;
for(var w=0;w<this.wt.length;w++){var L=this.wt[w];for(var $=0;$<L.qR.length;$++){var l=L.qR[$];if(!l.Xi)break;
for(var k=l.start;k<l.end;k++){var V=L.ae[k];for(var i=V.BJ;i<=V.CF;i++){var f=L.hH[i],X=f.fS,s=L.GF.x+l.GF.x+V.GF.x+f.GF.x,R=L.GF.y+l.GF.y+V.GF.y+f.GF.y;
x=Math.min(x,s+X.x);F=Math.min(F,R+X.y);W=Math.max(W,s+X.x+X.m);n=Math.max(n,R+X.y+X.e)}}}}return new eu(x,F,W-x,n-F)};
iO.Fy=function(x){return 19968<=x&&x<=40959||12288<=x&&x<=12543};iO.jD=function(x,F,W,n,L,$,l){var k=[$],V=0;
for(var w=$;w<l;w++){if(W[w]==null)console.log(w,$,l,W);var i=W[w].fv,f=i.charCodeAt(0);if(f==32||f==9){k.push(V,w,1,w+1);
V=0}else if(f==3851){k.push(V+1,w+1);V=0}else if(iO.Fy(f)){k.push(V,w);V=1}else if(w!=$&&W[w].DW!=W[w-1].DW){k.push(V,w);
V=1}else V++}k.push(V);var X=[];for(var w=0;w<k.length;w+=2){var s=k[w],R=k[w+1];if(R==0)continue;X.push(new iO.aw8(x,F,W,n,L,s,R))}return X};
iO.aDs=function(x,F,W,n,L,$,l){var k=[0,F?F.m:1e9],V=[];if(n){var i=x[$].OT,f=L+(L==0?i:x[$].lineHeight),X=f-i*.9,s=r.Z.auS(n[0],X),R=s.length,h=r.Z.auS(n[0],f),B=h.length;
if(R!=0&&B!=0){var e=0,U=0,o=[];while(e<R&&U<B){var b=Math.max(s[e],h[U]),u=s[e+1],Z=h[U+1],I=Math.min(u,Z);
if(b<I)o.push(b,I);if(u<Z)e+=2;else U+=2}if(o.length!=0)k=o}}for(var y=0;y<k.length;y+=2){var D=0,N=$,j=F?k[y+1]-k[y]-W.StartIndent-W.EndIndent-($==0?W.FirstLineIndent:0):Infinity;
while($!=x.length){var H=x[$],Q=D==0||(H.aK||H.yB)||D+H.fS.m<j;if(!Q)break;D+=H.fS.m;$++}V.push($-N)}l[0]=V;
l[1]=k;l[2]=$};iO.a3t=function(x,F){var W=x.length,n=new Uint32Array(W),L=new Uint8Array(W),$=0;for(var w=0;
w<W;w++){L[w]=0;var l=x.charCodeAt(w);n[w]=l;if(l>$)$=l}if($>1424)L=iO.aeh(n,F);return L};iO.akL=function(x){return x=="ß"?x:x.toUpperCase()};
iO.fR=function(x,F,W,n,L,$,l){this.ae=[];this.qR=[];this.GF=new eX(0,0);this.hH=null;this.ae=null;this.Qb=iV.abL(x,n);
var k=this.Qb,X=0,h="",b=0,u=1,m=0;if(n!=0){var V=k.SpaceBefore;if(V!=null)$[0]+=V}var i=x.EngineDict.ParagraphRun.RunLengthArray,f=i[n];
for(var w=0;w<n;w++)X+=i[w];var s=k._Direction?k._Direction:0;this.ag0=X;var R=iV.YG(x).slice(X,X+f);
for(var B=0;B<R.length;B++){var e=R.charAt(B);h+=W[X+B].Qb.FontCaps==0?e:iO.akL(e)}R=h;var U=iO.a3t(R,s),o=[],Z=U[w]&1,I=W[X].dE;
W[X].DW=U[0];for(var w=1;w<R.length;w++){var e=W[X+w],y=U[w];e.DW=y;if(y!=Z||e.dE!=I){o.push(b,u);b=w;
u=1;Z=y;I=e.dE}else u++}o.push(b,u);var D=this.hH=[];for(var w=0;w<o.length;w+=2){var N=o[w],j=o[w+1],H=(W[X+N].DW&1)==0,Q=R.slice(N,N+j),C=Typr.U.shapeHB(W[X+N].dE,Q,H),J=[],c=0;
for(var B=0;B<C.length;B++){var E=C[B];J.push({r:E.g,rS:E.cl,PC:E.ax,RX:E.ay,Kc:E.dx,DL:E.dy})}C=J;var T=C.slice(0);
if(!H)T.reverse();for(var B=0;B<Q.length;B++){while(c+1<T.length&&T[c+1].rS<=B){c++}while(c>0&&T[c-1].rS==B)c--;
W[X+N+B].Ld=D.length+(H?c:T.length-c-1)}for(var B=0;B<C.length;B++){D.push(C[B]);C[B].rS+=N;var e=W[X+C[B].rS];
if(e.EY!=-1&&e.EY<e.dE.maxp.numGlyphs){C[B].r=e.EY;var a=e.dE.hmtx;if(a){var K=Object.keys(a)[0];C[B].PC=a[K][e.EY]}}if(e.fv=="\n")C[B].PC=0;
if(e.fv=="\t")C[B].PC=e.dE.head.unitsPerEm*36/e.Qb.FontSize}}var Y=iV.tu(k),p=this.ae=iO.jD(x,F,W,X,D,X,X+f),P=this.qR,z=-1,h=[null,null,0];
while(m<p.length){iO.aDs(p,L,k,l,$[0],m,h);z++;var M={start:m,end:0,fS:new eu,GF:new eX(0,0),Xi:!0},fC=0,kE=0;
P.push(M);M.end=h[2];if(M.start==M.end)throw"e";var d=M.end==p.length;function A(T,N,g8){var e0=g8-N>>>1;
for(var w=0;w<e0;w++){var cF=T[N+w];T[N+w]=T[g8-1-w];T[g8-1-w]=cF}}for(var G=1;G<5;G++){var kB=-1;for(var w=M.start;
w<M.end;w++){var y=W[p[w].start].DW;if(kB==-1&&y>=G)kB=w;else if(kB!=-1&&y<G){A(p,kB,w);kB=-1}}var q=M.end;
if(s==0&&p[q-1].aK)q--;if(kB!=-1)A(p,kB,q)}var fO=h[0],g=h[1],kB=m,jN=m;for(var c6=0;c6<g.length;c6+=2){var a7=L?g[c6+1]-g[c6]-k.StartIndent-k.EndIndent-(m==0?k.FirstLineIndent:0):Infinity,bd=0;
kB=jN;jN+=fO[c6>>>1];var ey=this.azo(kB,jN,p,s,L!=null);if(L){if(Y==1||d&&Y==4)bd=ey[1]+(a7-ey[0]);if(Y==2||d&&Y==5)bd=ey[1]+(a7-ey[0])/2;
if(jN-kB==1&&p[kB].fS.m>a7)bd=0;if(z==0)bd+=k.FirstLineIndent;bd+=k.StartIndent}else{if(Y==0)bd=k.StartIndent+k.FirstLineIndent;
if(Y==1)bd=-ey[0]-k.EndIndent;if(Y==2)bd=-ey[0]/2}bd+=g[c6];if(L&&Y>2&&(Y==6||!d))this.aw9(kB,jN,p,a7,s,bd);
else{var c5=bd;for(var w=kB;w<jN;w++){var bx=p[w],ap=bx.fS.m;bx.GF.x=c5;if(bx.kc=="\t")ap=Math.ceil((c5+4)/36)*36-c5;
c5+=ap}}}m=M.end;for(var w=M.start;w<M.end;w++){var bm=p[w].fS.clone();bm.Uc(p[w].GF);M.fS=M.fS.oA(bm);
fC=Math.max(fC,p[w].OT);kE=Math.max(kE,p[w].lineHeight)}M.GF.y=z==0?0:P[z-1].GF.y+kE;if(z==0){if(n==0&&L)$[0]+=fC;
if(n!=0)$[0]+=kE;this.GF.y=$[0]}else $[0]+=kE;if(L)M.Xi=this.GF.y+M.GF.y<L.y+L.e||n==0&&z==0}var fe=k.SpaceAfter;
if(fe!=null)$[0]+=fe};iO.fR.prototype.azo=function(x,F,W,n,L){var $=0,l=0;for(var w=x;w<F;w++)$+=W[w].fS.m;
if(L){if(n==0)for(var w=F-1;w>=x;w--)if(W[w].aK||W[w].yB)$-=W[w].fS.m;else break;if(n==1)for(var w=x;
w<F;w++)if(W[w].aK||W[w].yB){var k=W[w].fS.m;$-=k;l-=k}else break}return[$,l]};iO.fR.prototype.aw9=function(x,F,W,n,L,$){var l=0,k=0,V=0,i=0;
for(var w=x;w<F;w++)if(W[w].aK)V++;else{l+=W[w].fS.m;k++}if(L==0)for(var w=F-1;w>=x;w--)if(W[w].aK||W[w].yB){if(W[w].aK){V--}}else break;
if(L==1)for(var w=x;w<F;w++)if(W[w].aK||W[w].yB){if(W[w].aK){V--;i++}}else break;if(k<=1||V==0){if(k==1)W[x].GF.x=$;
return}var f=(n-l)/V,X=-i*f;for(var w=x;w<F;w++){if(W[w].aK)this.hH[W[w].BJ].fS.m=W[w].fS.m=f;W[w].GF.x=$+X;
X+=W[w].fS.m}};iO.aw8=function(x,F,W,n,L,$,l){this.kc="";for(var w=0;w<l;w++)this.kc+=W[$+w].fv;this.aK=l==1&&(W[$].fv==" "||W[$].fv=="\t");
this.yB=l==1&&W[$].fv=="\n";this.start=$;this.end=$+l;this.fS=new eu;this.GF=new eX(0,0);this.OT=0;this.lineHeight=0;
var k=0,V=0;if(l==0){this.lineHeight=W[$].lineHeight;this.OT=W[$].OT;this.fS=new eu(0,-W[$].lineHeight,0,W[$].lineHeight)}var i=W[$].Ld,f=W[$+l-1].Ld;
if(f<i){var X=i;i=f;f=X}while(f+1<L.length&&L[f].rS==L[f+1].rS){f++}this.BJ=i;this.CF=f;for(var s=i;
s<=f;s++){var R=L[s],h=W[n+R.rS],B=x._LineOrientation==2&&(h.Qb.BaselineDirection!=2||iO.Fy(h.fv.charCodeAt(0))),e=Typr.U.glyphToPath(h.dE,R.r),Z=0;
R.path={G:e.cmds,p:e.crds};var U=h.Qb.FontSize,o=1/h.dE.head.unitsPerEm*U;if(!h.Qb.AutoKerning)k+=h.Qb.Kerning*2*o*h.scale.x;
R.GF=new eX(k,0);R.O4=0;if(B&&R.path.p.length>0){R.O4=-Math.PI/2;R.GF.x+=U*.83;R.GF.y=-U*.3+R.PC*o/2;
R.PC=U/o}var b=R.PC*o*h.scale.x;R.fS=new eu(0,-h.lineHeight,b,h.lineHeight);var u=R.fS.clone();u.Uc(R.GF);
if(h.Qb.Tracking!=null)Z=h.Qb.Tracking*.001*U;if(h.Qb.FauxBold==!0)Z+=.027*U;k+=b+Z;if(l==1&&h.fv==" ")u.m+=2*Z;
else if(l==1&&h.fv!=null&&iO.Fy(h.fv.charCodeAt(0)))u.m+=Z;this.fS=this.fS.oA(u);this.OT=Math.max(this.OT,h.OT);
this.lineHeight=Math.max(this.lineHeight,h.lineHeight)}};iO.Wc=0;iO.a10=function(x){if(iO.Wc==2)return!0;
if(iO.Wc==1)return!1;iO.Wc=1;function F(){fetch("code/ext/fribidi.wasm").then(function(W){return W.arrayBuffer()}).then(function(W){return WebAssembly.instantiate(W)}).then(function(W){var n=W.instance.exports,L=n.memory,$=16,l=256,k=1,V=$|l,i=$|l|k;
iO.aeh=function(X,s){var R=X.length,h=R*4+4+R*4+R*4+R;jW.Wi(n,h+R+1e7);var B=new Uint8Array(L.buffer),e=new Uint32Array(L.buffer),U=n.calloc(h,1),o=U+R*4,b=o+4,u=b+R*4,Z=u+R*4;
e.set(X,U>>>2);e[o>>>2]=s==0?V:i;n.fribidi_get_bidi_types(U,R,b);n.fribidi_get_bracket_types(U,R,b,u);
n.fribidi_get_par_embedding_levels_ex(b,u,R,o,Z);var I=B.slice(Z,Z+R);n.free(U);return I};iO.Wc=2;var f=new gT(S.E.M,!0);
f.data={d:S.H.DD,xE:"add",jL:iC.nx,bL:null};x.T(f)})}Typr.U.initHB("code/ext/hb.wasm",F);return!1};function iV(){}iV.gj=function(x){return JSON.parse(JSON.stringify(x))};
iV.n2=function(x,F){for(var W in F)x[W]=F[W]};iV.P3=function(x,F,W,n){var L=iV.aok();if(W)iV.Aj(L,0,0,W);
var $=new iJ;if(n!=null)$.rotate(n);$.translate(Math.round(x),Math.round(F));var l={i:$,OU:L};l.PJ=iV.a2W();
l.Zb=r.xP.R();l.pX=new eu;return l};iV.a1X=function(x){var F=["CharacterDirection",0];for(var w=0;w<F.length;
w+=2){if(x[F[w]]!=null&&x[F[w]]!=F[w+1]){throw"e";console.log(F[w],x[F[w]])}}if(x instanceof Array)for(var w=0;
w<x.length;w++)iV.a1X(x[w]);else if(x instanceof Object)for(var W in x)iV.a1X(x[W])};iV.tu=function(x,F){if(F==null)F=x.Justification;
var W=x._Direction?x._Direction:0;if(W==1){if(F==0||F==3)F++;else if(F==1||F==4)F--}return F};iV.QN=function(x){if(x.add==null)return;
var F=x.OU,W=F.Curve,n=x.add.vmsk,L=n.$,$=r.Z.aE(L,2).p,l=x.i.clone();l.sx();r.Z.i($,l,$);var k=$.slice(0,8);
for(var V=8;V<$.length;V+=6)k.push($[V-2],$[V-1],$[V],$[V+1],$[V+2],$[V+3],$[V+4],$[V+5]);W.Points=k;
W.TextOnPathTRange=n.GO.slice(0);W.Reversed=n.TC;if(iV.eQ(F)==1){var W=iO.yD(F.Curve),i=r.Z.KR(W[0]);
iV.J3(F,[0,0,i.m,i.e].map(Math.round));for(var w=0;w<k.length;w+=2){k[w]-=i.x;k[w+1]-=i.y}var f=new iJ(1,0,0,1,i.x,i.y);
f.concat(x.i);x.i=f}};iV.Gj=function(x){if(x.add==null)return;var F=x.add.vmsk,W=x.OU.Curve,n=W.Points,L={G:["M"],p:[n[0],n[1]]};
for(var w=0;w<n.length;w+=8){L.G.push("C");L.p.push(n[w+2],n[w+3],n[w+4],n[w+5],n[w+6],n[w+7])}r.Z.i(L.p,x.i,L.p);
var $=r.Z.zI(L,!0);F.$=$;F.TC=W.Reversed;F.GO=W.TextOnPathTRange.slice(0);x.add.vogk=t.oO($)};iV.z$=function(x){var F={o:0,r:0,z:0};
if(x){var W=x.Values;if(x.Type==1)F={o:W[1]*255,r:W[2]*255,z:W[3]*255};else if(x.Type==2){var n={classID:"CMYC",Cyn:{t:"doub",v:W[1]*100},Mgnt:{t:"doub",v:W[2]*100},Ylw:{t:"doub",v:W[3]*100},Blck:{t:"doub",v:W[4]*100}};
F=r.I.z$(n)}else console.log("Unknown color type")}return F};iV.akZ=function(x){for(var w=0;w<x.length;
w++){var F=x[w].StyleSheet.StyleSheetData,W=F.FillColor;if(W&&W.Type==2){var n=iV.z$(W);W.Type=1;W.Values=[1,n.o/255,n.r/255,n.z/255]}}};
iV.oU=function(x,F){var W;if(iV.eQ(x.OU)==1){var n=iV.T$(x.OU);W=new eu(0,0,n[2]-n[0],n[3]-n[1])}else{W=F.Lf();
if(F.nQ){var L=F.nQ.clone(),$=r.Z.o4(W);r.Z.i($.p,L,$.p);W=r.Z.KR($.p)}}return W};iV.pY=function(x){var F=x[0];
for(var w=0;w<x.length;w++)F=iV.a1C(F,x[w]);return F};iV.a1C=function(x,F){var W={};for(var n in x)if(JSON.stringify(x[n])==JSON.stringify(F[n]))W[n]=x[n];
return W};iV.hU=function(x,F){var W=x.zf,n=-1;for(var w=0;w<W.length;w++)if(W[w].Name==F)n=w;if(n==-1){n=W.length;
W.push({FontType:1,Name:F,Script:0,Synthetic:0})}x.oE.Font=n};iV.YG=function(x){return x.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
iV.Fz=function(x,F){x.EngineDict.Editor.Text=F.replace(/\n/g,"\r")};iV.eQ=function(x){return x.Curve&&x.Curve.TextOnPathTRange[0]>=0?2:x.EngineDict.Rendered.Shapes.Children[0].ShapeType};
iV.xC=function(x,F){var W=x.EngineDict.Rendered.Shapes.Children[0];W.ShapeType=F;var n=W.Cookie.Photoshop;
n.ShapeType=F;n.Base.ShapeType=F;if(F==0){delete n.BoxBounds;n.PointBase=[0,0]}if(F==1){delete n.PointBase;
n.BoxBounds=[0,0,1,1]}};iV.T$=function(x){return x.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
iV.J3=function(x,F){x.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=F};iV.a3O=function(x,F){var W=x.EngineDict.AlternateGlyphRun;
if(W==null)return-1;var n=iV.AS(W.RunLengthArray,F).ho;if(W.RunArray[n]==null)return-1;var L=W.RunArray[n].Glyph;
return L==null?-1:L};iV.aB2=function(x,F,W){var n=x.EngineDict.AlternateGlyphRun;if(n==null){n=x.EngineDict.AlternateGlyphRun=iV.ay7();
n.RunArray.push({});n.RunLengthArray.push(iV.YG(x).length)}var L=iV.AS(n.RunLengthArray,F),$=L.ho,l=F-L.w6,k=n.RunArray[$],V=JSON.stringify(k),i=n.RunLengthArray[$];
if(l!=0){n.RunArray.splice($,0,JSON.parse(V));n.RunLengthArray.splice($,0,l);n.RunLengthArray[$+1]-=l;
$++;i-=l;l=0}if(i!=1){n.RunArray.splice($+1,0,JSON.parse(V));n.RunLengthArray.splice($+1,0,i-1);n.RunLengthArray[$]=1;
i=1}k.Glyph=W};iV.ayz=function(x,F){var W=x.EngineDict.StyleRun.RunLengthArray;return iV.AS(W,F).ho};
iV.aqI=function(x,F){var W=x.ResourceDict.StyleSheetSet[0].StyleSheetData,n={};for(var L in W)n[L]=W[L];
var $=x.EngineDict.StyleRun.RunArray[F].StyleSheet.StyleSheetData;iV.n2(n,$);return n};iV.ad_=function(x,F){var W=x.EngineDict.ParagraphRun.RunLengthArray;
return iV.AS(W,F).ho};iV.abL=function(x,F){var W=x.ResourceDict.ParagraphSheetSet[0].Properties,n={};
for(var L in W)n[L]=W[L];var $=x.EngineDict.ParagraphRun.RunArray[F].ParagraphSheet.Properties;iV.n2(n,$);
var l=["StartIndent","EndIndent","FirstLineIndent"];for(var w=0;w<3;w++)if(n[l[w]]==null)n[l[w]]=0;return n};
iV.yb=function(x,F,W){if(W=="")return;var n=iV.YG(x);iV.Fz(x,n.substring(0,F)+W+n.substring(F,n.length));
var L=x.EngineDict.StyleRun,$=L.RunLengthArray,l=iV.AS($,F-1);$[l.ho]+=W.length;var k=x.EngineDict.AlternateGlyphRun;
if(k){var $=k.RunLengthArray,l=iV.AS($,F-1);$[l.ho]+=W.length}var V=x.EngineDict.ParagraphRun,$=V.RunLengthArray,i=iV.AS($,F),f=W.split("\n");
if(f.length==1){$[i.ho]+=W.length;return}$.splice(i.ho+1,0,$[i.ho]-(F-i.w6));V.RunArray.splice(i.ho+1,0,iV.gj(V.RunArray[i.ho]));
$[i.ho]-=$[i.ho+1];$[i.ho]+=f[0].length+1;for(var w=1;w<f.length-1;w++){V.RunArray.splice(i.ho+w,0,iV.gj(V.RunArray[i.ho+w-1]));
V.RunLengthArray.splice(i.ho+w,0,f[w].length+1)}$[i.ho+f.length-1]+=f[f.length-1].length};iV.gp=function(x,F,W){var n=iV.YG(x);
iV.Fz(x,n.substring(0,F)+n.substring(W,n.length));iV.ci(x.EngineDict.ParagraphRun,F,W,!0);iV.ci(x.EngineDict.StyleRun,F,W,!1);
var L=x.EngineDict.AlternateGlyphRun;if(L)iV.ci(L,F,W,!1)};iV.ci=function(x,F,W,n){var L=x.RunLengthArray,$=iV.AS(L,F),l=iV.AS(L,W),k=[];
for(var w=0;w<L.length;w++)for(var V=0;V<L[w];V++)k.push(w);k.splice(F,W-F);var i=[];for(var w=0;w<L.length;
w++)i.push(0);for(var w=0;w<k.length;w++)i[k[w]]++;for(var w=0;w<L.length;w++){if(i[w]==0){i.splice(w,1);
L.splice(w,1);x.RunArray.splice(w,1);w--}else if(i[w]<L[w])L[w]=i[w]}if(n&&$.ho!=l.ho&&$.w6!=F){L[$.ho]+=L[$.ho+1];
L.splice($.ho+1,1);x.RunArray.splice($.ho+1,1)}};iV.Aj=function(x,F,W,n){var L=x.EngineDict.Editor.Text.length;
if(W==L-2)W++;if(n.oE.Font!=null)x.ResourceDict.FontSet=n.zf.slice(0);if(F<=W)iV.apg(x.EngineDict.StyleRun,n.oE,F,W,!0);
iV.apg(x.EngineDict.ParagraphRun,n.wt,F,W,!1)};iV.f3=function(x,F,W){var n={zf:x.ResourceDict.FontSet.slice(0),oE:[],wt:[]},L=x.EngineDict.StyleRun.RunLengthArray,$=iV.AS(L,F).ho,l=iV.AS(L,W).ho;
for(var w=$;w<=l;w++){var k=iV.gj(x.ResourceDict.StyleSheetSet[0].StyleSheetData),V=x.EngineDict.StyleRun.RunArray;
if(V.length==0)continue;var i=V[w].StyleSheet.StyleSheetData;iV.n2(k,i);n.oE.push(k)}var f=x.EngineDict.ParagraphRun.RunLengthArray,X=iV.AS(f,F).ho,s=iV.AS(f,W).ho;
for(var w=X;w<=s;w++){var R=x.EngineDict.ParagraphRun.RunArray;if(R.length==0)continue;n.wt.push(iV.gj(R[w].ParagraphSheet.Properties))}n.oE=n.oE.length==0?{}:iV.pY(n.oE);
n.wt=n.wt.length==0?{}:iV.pY(n.wt);return n};iV.apg=function(x,F,W,n,L){var $=x.RunLengthArray;if(L){var l=iV.AS($,W);
if(l.w6!=W){var k=$[l.ho];$.splice(l.ho,0,W-l.w6);$[l.ho+1]=k-$[l.ho];x.RunArray.splice(l.ho+1,0,iV.gj(x.RunArray[l.ho]))}var V=iV.AS($,n);
if(V.w6+$[V.ho]-1!=n){var k=$[V.ho];$.splice(V.ho,0,n-V.w6+1);$[V.ho+1]=k-$[V.ho];x.RunArray.splice(V.ho+1,0,iV.gj(x.RunArray[V.ho]))}}var l=iV.AS($,W),V=iV.AS($,n);
if(L)for(var w=l.ho;w<=V.ho;w++)iV.n2(x.RunArray[w].StyleSheet.StyleSheetData,F);else for(var w=l.ho;
w<=V.ho;w++)iV.n2(x.RunArray[w].ParagraphSheet.Properties,F)};iV.axT=function(x,F,W){var n=x.EngineDict.StyleRun.RunLengthArray,L=[],$=0;
for(var w=0;w<n.length;w++){var l=n[w];for(var k=0;k<l;k++)if(F<=$+k&&$+k<W)L.push(w);$+=l}var V=L[0],i=[];
for(var w=0;w<L.length;w++){var f=L[w]-V;if(f==i.length)i.push(0);i[f]++}return i};iV.amd=function(x){var F=x.EngineDict.StyleRun,W=F.RunArray,n=F.RunLengthArray;
for(var w=0;w<n.length-1;w++){var L=W[w].StyleSheet.StyleSheetData,$=W[w+1].StyleSheet.StyleSheetData;
if(JSON.stringify(L)==JSON.stringify($)){W.splice(w+1,1);n[w]+=n[w+1];n.splice(w+1,1);w--}}};iV.rL=function(x){var F=x.PJ.AntA.v.Annt;
F=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(F);if(F==-1)F=1;return F};iV.bf=function(x,F){x.PJ.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][F]};
iV.Be=function(x,F){var W,n;W=["FontSize","Leading","BaselineShift","_LineWidth"];n=x.oE;for(var w=0;
w<W.length;w++)if(n[W[w]]!=null)n[W[w]]*=F;W=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
n=x.wt;for(var w=0;w<W.length;w++)if(n[W[w]]!=null)n[W[w]]*=F};iV.aCZ=function(){return iV.f3(iV.aaF,0,0)};
iV.a2W=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
iV.AS=function(x,F){var W=0,w=0;while(W+x[w]<=F){W+=x[w];w++}return{ho:w,w6:W}};iV.aok=function(){var x=iV.gj(this.aaF);
return x};iV.atU=function(x,F){var W=F.wt};iV.acW=function(x,F){var W=F.oE,n;n=x.Undl;if(n&&n.v.Undl=="underlineOnLeftInVertical")W.Underline=!0;
n=x.syntheticItalic;if(n)W.FauxItalic=n.v};iV.afv={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
iV.a0f={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
iV.ay7=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};iV.aaF={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(iV.afv))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(iV.afv))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(iV.a0f))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var kt={};kt.aBt=function(x){var F=kt.aiF(x._0,x._1);kt.agL(F,x._0);return F};kt.azU=function(x,F,W){var n={};
n._98={_0:"i7"};n._0=kt.art(x,F,W?W._0:null);n._1=kt.aBj(x,F,n._0,W?W._1:null);return n};kt.art=function(x,F,W){var n={};
n._1=kt.acc(x,W?W._1:null);n._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};n._3=JSON.parse(JSON.stringify(kt.azu));
n._4=JSON.parse(JSON.stringify(kt.ami));n._5=kt.arZ(x,n._1._0,W?W._5:null);n._6=kt.a8J(x,W?W._6:null);
n._8=kt.abK(x,F,W?W._8:null);n._9=kt.aBS;return n};kt.agL=function(x,F){kt.a22(x,F._5,F._1._0)};kt.acc=function(x,F){var W=[],n=[];
for(var w=0;w<x.length;w++){var L=x[w].ResourceDict.FontSet;for(var $=0;$<L.length;$++){var l=L[$];if(n.indexOf(l.Name)!=-1)continue;
W.push(l);n.push(l.Name)}}var k={_0:[]};for(var w=0;w<W.length;w++){var V=W[w],i={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+V.Name,_1:"i"+V.Script,_2:"i"+V.FontType}}};
if(V.Script==0)delete i._0._0._1;k._0.push(i)}return k};kt.arZ=function(x,F,W){var n={_0:[],_1:[]},L={_0:JSON.parse(JSON.stringify(kt.awv))};
kt.aqA(L._0,x[0].ResourceDict.StyleSheetSet[0],F,x[0].ResourceDict.FontSet);n._0.push(L);n._1.push({_0:"i0"});
n._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});n._1.push({_0:"i1"});return n};kt.a22=function(x,F,W){var n=F._0[0];
for(var w=0;w<x.length;w++)kt.aAR(n._0,x[w].ResourceDict.StyleSheetSet[0],W,x[w].ResourceDict.FontSet)};
kt.a8J=function(x,F){var W={_0:[],_1:[]},n={_0:JSON.parse(JSON.stringify(kt.fm))};kt._N(n._0,x[0].ResourceDict.ParagraphSheetSet[0]);
W._0.push(n);W._1.push({_0:"i0"});n={_0:JSON.parse(JSON.stringify(kt.fm))};kt._N(n._0,x[0].ResourceDict.ParagraphSheetSet[0]);
n._0._0="sBasic Paragraph";n._0._6="i0";W._0.push(n);W._1.push({_0:"i1"});return W};kt.abK=function(x,F,W){var n={_0:[]};
for(var w=0;w<x.length;w++){var L=x[w].Curve,$={};n._0.push({_0:$});var l=iV.eQ(x[w]);$._1={};$._2={};
$._2._0="i"+l;if(x[w]._LineOrientation==2)$._2._1="i2";if(l==0){delete $._1;$._2._6=["f-1","f-1"];$._2._11={_4:"i-1",_7:!1}}else if(l==1&&L==null){var k=iV.T$(x[w]),V=k[2],i=k[3];
$._1._0=kt.MI("f",[0,0,0,0,V,0,V,0,V,0,V,0,V,i,V,i,V,i,V,i,0,i,0,i,0,i,0,i,0,0,0,0]);$._2._6=["f-2","f-2"];
$._2._11={_4:"i-2",_7:!1}}else if(l==1){var k=iV.T$(x[w]),V=k[2],i=k[3];$._1._0=kt.MI("f",L.Points);
$._2._6=["f-3","f-3"];$._2._11={_4:"i-3",_7:!1}}else if(l==2){$._1._0=kt.MI("f",L.Points);$._2._6=kt.MI("f",L.TextOnPathTRange);
$._2._11={_0:L.Reversed,_3:"i0",_5:"f0",_7:!1}}}return n};kt.aBj=function(x,F,W,n){var L={};L._0=JSON.parse(JSON.stringify(kt.a0l));
L._1=kt.asr(x,F,W,n?n._1:null);L._2=JSON.parse(JSON.stringify(kt.awv._6));L._3=JSON.parse(JSON.stringify(kt.fm._5));
return L};kt.aiF=function(x,F){return kt.a9z(x,F._1)};kt.asr=function(x,F,W,n){var L=[],$=W._1._0;for(var w=0;
w<x.length;w++){var l=x[w],k={_0:{}};L.push(k);k._0._0="s"+l.EngineDict.Editor.Text;k._0._0=k._0._0;
var V=k._0._5={_0:[]},i=l.EngineDict.ParagraphRun;for(var f=0;f<i.RunArray.length;f++){var X={_0:{}};
V._0.push(X);X._0._0={_0:"s",_5:{},_6:"i1"};kt._N(X._0._0,i.RunArray[f].ParagraphSheet);X._1="i"+i.RunLengthArray[f]}var s=k._0._6={_0:[]};
i=l.EngineDict.StyleRun;for(var f=0;f<i.RunArray.length;f++){var R={_0:{}};s._0.push(R);R._0._0={_0:"s",_5:"i1",_6:{}};
kt.aqA(R._0._0,i.RunArray[f].StyleSheet,$,l.ResourceDict.FontSet);R._1="i"+i.RunLengthArray[f]}i=l.EngineDict.AlternateGlyphRun;
if(i){var h=k._0._9={_0:[]};for(var f=0;f<i.RunArray.length;f++){var B={_0:{}};h._0.push(B);var e=i.RunArray[f];
if(e.Glyph!=null){B._0._0={_0:"i"+e.Glyph,_1:"e"}}B._1="i"+i.RunLengthArray[f]}}k._0._10={_0:"i4",_2:!0};
k._1=kt.view.ajw(l,null,w,null)}return L};kt.a9z=function(x,F){var W=[],n=x._1._0;if(F)for(var w=0;w<F.length;
w++){var L=iV.aok();W.push(L);var $=F[w];L.EngineDict.Editor.Text=$._0._0.slice(1);var l=L.EngineDict.ParagraphRun.RunArray[0],k=L.EngineDict.ParagraphRun,V=$._0._5;
if(V)for(var i=0;i<V._0.length;i++){var f=V._0[i];k.RunLengthArray[i]=parseInt(f._1.slice(1));k.RunArray[i]=JSON.parse(JSON.stringify(l));
kt.avE(f._0._0,k.RunArray[i].ParagraphSheet)}else{k.RunLengthArray[0]=iV.YG(L).length}var X=$._0._6;
k=L.EngineDict.StyleRun;if(X)for(var i=0;i<X._0.length;i++){var s=X._0[i];k.RunLengthArray[i]=parseInt(s._1.slice(1));
k.RunArray[i]={StyleSheet:{StyleSheetData:{}}};kt.aAR(s._0._0,k.RunArray[i].StyleSheet,n,L.ResourceDict.FontSet)}else{k.RunLengthArray[0]=iV.YG(L).length;
k.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return W};kt.aqA=function(x,F,W,n,L){x._0="s"+(F.Name?F.Name:"");
var $=x._6,l=L?L._6:null,k=F.StyleSheetData;if(k.Font!=null){var V=n[k.Font].Name,i=-1;for(var w=0;w<W.length;
w++)if("s"+V==W[w]._0._0._0){i=w;break}$._0="i"+i}if(k.FontSize!=null)$._1="f"+k.FontSize;if(k.FauxBold!=null)$._2=k.FauxBold;
if(k.FauxItalic!=null)$._3=k.FauxItalic;if(k.AutoLeading!=null)$._4=k.AutoLeading;if(k.Leading!=null)$._5="f"+k.Leading;
if(k.HorizontalScale!=null)$._6="f"+k.HorizontalScale;if(k.VerticalScale!=null)$._7="f"+k.VerticalScale;
if(k.Tracking!=null)$._8="i"+k.Tracking;if(k.BaselineShift!=null)$._9="f"+k.BaselineShift;if(k.AutoKerning!=null)$._11="i"+(k.AutoKerning?1:0);
if(k.FontCaps!=null)$._12="i"+k.FontCaps;if(k.FontBaseline!=null)$._13="i"+k.FontBaseline;if(k.Strikethrough!=null)$._15="i"+(k.Strikethrough?1:0);
if(k.Underline!=null)$._16="i"+(k.Underline?2:0);if(k.Ligatures!=null)$._18=k.Ligatures;if(k.DLigatures!=null)$._19=k.DLigatures;
if(k.BaselineDirection!=null)$._35="i"+k.BaselineDirection;if(k.Language!=null)$._38="i"+k.Language;
if(k.FillColor!=null)$._53=kt.wI(k.FillColor);if(k.StrokeColor!=null)$._54=kt.wI(k.StrokeColor);if(k.FillFlag!=null)$._56=k.FillFlag;
if(k.StrokeFlag!=null)$._57=k.StrokeFlag;if(k._LineWidth!=null)$._63="f"+k._LineWidth;if(k._FillBackgroundColor!=null)$._79=kt.wI(k._FillBackgroundColor);
if(k._FillBackgroundFlag!=null)$._80=k._FillBackgroundFlag};kt.wI=function(x){return{_99:"/SimplePaint",_0:{_0:"i1",_1:kt.MI("f",x.Values)}}};
kt.aAR=function(x,F,W,n){var L=x._6;if(L==null)return;var $=F.StyleSheetData;if(L._0){var l=parseInt(L._0.slice(1)),k=W[l]._0._0._0.slice(1);
iV.hU({oE:$,zf:n},k)}if(L._1!=null)$.FontSize=parseFloat(L._1.slice(1));if(L._2!=null)$.FauxBold=L._2;
if(L._3!=null)$.FauxItalic=L._3;if(L._4!=null)$.AutoLeading=L._4;if(L._5!=null)$.Leading=parseFloat(L._5.slice(1));
if(L._6!=null)$.HorizontalScale=parseFloat(L._6.slice(1));if(L._7!=null)$.VerticalScale=parseFloat(L._7.slice(1));
if(L._8!=null)$.Tracking=parseFloat(L._8.slice(1));if(L._9!=null)$.BaselineShift=parseFloat(L._9.slice(1));
if(L._11!=null)$.AutoKerning=parseFloat(L._11.slice(1))==1;if(L._12!=null)$.FontCaps=parseFloat(L._12.slice(1));
if(L._13!=null)$.FontBaseline=parseFloat(L._13.slice(1));if(L._15!=null)$.Strikethrough=parseFloat(L._15.slice(1))==1;
if(L._16!=null)$.Underline=parseFloat(L._16.slice(1))==1;if(L._18!=null)$.Ligatures=L._18;if(L._19!=null)$.DLigatures=L._19;
if(L._35!=null)$.BaselineDirection=parseFloat(L._35.slice(1));if(L._38!=null)$.Language=parseFloat(L._38.slice(1));
if(L._53!=null)$.FillColor=kt.t_(L._53);if(L._54!=null)$.StrokeColor=kt.t_(L._54);if(L._56!=null)$.FillFlag=L._56;
if(L._57!=null)$.StrokeFlag=L._57;if(L._63!=null)$._LineWidth=parseFloat(L._63.slice(1));if(L._79!=null)$._FillBackgroundColor=kt.t_(L._79);
if(L._80!=null)$._FillBackgroundFlag=L._80};kt.t_=function(x){var F=x._0._0,W=x._0._1,n=[1,0,0,0],L=[];
for(var w=0;w<W.length;w++)L[w]=parseFloat(W[w].slice(1));if(F=="i0")n[1]=n[2]=n[3]=L[1];else if(F=="i1")n=L;
else if(F=="i2")n=[1].concat(UDOC.C.cmykToRgb(L.slice(1)));else console.log("unknown color type",F,L);
return{Type:1,Values:n}};kt._N=function(x,F){x._0="s"+(F.Name?F.Name:"");var W=x._5,n=F.Properties;if(n.Justification!=null)W._0="i"+n.Justification;
if(n.FirstLineIndent!=null)W._1="f"+n.FirstLineIndent;if(n.StartIndent!=null)W._2="f"+n.StartIndent;
if(n.EndIndent!=null)W._3="f"+n.EndIndent;if(n.SpaceBefore!=null)W._4="f"+n.SpaceBefore;if(n.SpaceAfter!=null)W._5="f"+n.SpaceAfter;
if(n.AutoLeading!=null)W._7="f"+n.AutoLeading;if(n.AutoHyphenate!=null)W._9=n.AutoHyphenate;if(n._Direction!=null)W._33="i"+n._Direction;
if(n._ComposerEngine!=null)W._35="i"+n._ComposerEngine};kt.avE=function(x,F){var W=x._5;if(W==null)return;
var n=F.Properties;if(W._0)n.Justification=parseInt(W._0.slice(1))};kt.MI=function(x,F){var W=[];for(var w=0;
w<F.length;w++)W.push(x+F[w]);return W};kt.azu={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
kt.ami={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
kt.awv={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
kt.fm={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
kt.aBS={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
kt.a0l={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var cV={};cV.apz=function(x){return cV.sI(x,cV.Vf,0)};cV.aq$=function(x){return cV.Ms(x,cV.Vf)};cV.sI=function(x,F,W){var n;
if(typeof x=="string")return x;if(x instanceof Array){n=[];for(var w=0;w<x.length;w++)n[w]=cV.sI(x[w],F,W+1)}else{n={};
var L={};for(var $ in F){var l=F[$],k="_"+l[0];if(x[k]!=null){n[$]=l[1]?cV.sI(x[k],l[1],W+1):x[k];L[k]=!0}}for(var $ in x){if(L[$]==null){if($.length>3)continue;
console.log(F,L);console.log($,x);throw"e"}}}return n};cV.Ms=function(x,F){var W;if(typeof x=="string")return x;
else if(x instanceof Array){W=[];for(var w=0;w<x.length;w++)W[w]=cV.Ms(x[w],F)}else{W={};var n={};for(var L in F){var $=F[L],l="_"+$[0];
if(x[L]!=null){W[l]=$[1]?cV.Ms(x[L],$[1]):x[L];n[L]=!0}}for(var L in x){if(n[L]==null){console.log(F,n);
console.log(L,x);throw"e"}}}return W};cV.lg={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
cV.Se={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,cV.lg],_StrokeColor:[54,cV.lg],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,cV.lg],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
cV.ala={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,cV.Se],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
cV.agp={_Name:[0],_Features:[5,cV.ala],_Parent:[6],_UUID:[97]};cV.akb={_Name:[0],_Parent:[5],_Features:[6,cV.Se],_UUID:[97]};
cV.Vf={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,cV.akb]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,cV.agp]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,cV.agp]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,cV.akb]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,cV.Se],_OriginalNormalParagraphFeatures:[3,cV.ala]}]};
kt.view={};kt.view.ajw=function(x,F,W,n){var L={},$=iV.eQ(x);L._0=[{_0:"i"+W}];return L};function CSS(){}CSS.a9H=function(x,F){var W=x.add,n=W.vmsk,L=W.vstk,$=W.lmfx,l=W.TySh,k=[],V=CSS.Bz($,W),i=x.opacity/255*(x.add.iOpa!=null?x.add.iOpa/255:1);
if(i!=1)k.push("opacity: "+i.toFixed(3));if(x.qA()&&n){var f=r.j.Bd(n.$);if(!f.ak()){k.push("width: "+Math.round(f.m)+"px");
k.push("height: "+Math.round(f.e)+"px")}var X=r.j.awb(n.$);if(X>0)k.push("border-radius: "+Math.round(X)+"px")}else if(l){var s=l.OU;
if(iV.eQ(s)==1){var f=iV.T$(s);k.push("width: "+Math.round(f[2])+"px");k.push("height: "+Math.round(f[3])+"px")}CSS.awV(k,iV.f3(s,0,0),l.i,!1,!1,V[0])}CSS.anD(F,$,k);
if(l==null)CSS.asT(V,k);if(L==null||!L.strokeEnabled.v)L=hM.hT($);if(L&&L.strokeEnabled.v){var R=L.strokeStyleContent.v,h=R.classID,B=L.strokeStyleOpacity.v.val/100,e=L.strokeStyleLineWidth.v.val,U="";
if(h=="solidColorLayer")U=CSS.uJ(R.Clr.v,B);k.push("border: "+e+"px solid "+U)}return k};CSS.anD=function(x,F,W){if(F==null||!F.masterFXSwitch.v)return;
var n=F.dropShadowMulti.v.concat(F.innerShadowMulti.v);for(var w=0;w<n.length;w++){var L=n[w].v;if(L.enab.v){var $=L.classID=="IrSh",l=L.Dstn.v.val,k=L.lagl.v.val*Math.PI/180;
if(L.uglg&&L.uglg.v)k=x.z8()*Math.PI/180;var V=l*Math.cos(k),i=l*Math.sin(k),f=(V==0?"0 ":CSS.aCD(-V)+"px ")+(i==0?"0 ":CSS.aCD(i)+"px ")+L.blur.v.val/2+"px "+CSS.uJ(L.Clr.v,L.Opct.v.val/100);
if($)W.push("box-shadow: inset "+f);else W.push("filter: drop-shadow("+f+")")}}};CSS.Bz=function(x,F){var W=hM.il(x,F),n=W[0],L=W[1],$,l;
if(n){$=CSS.uJ(n.Clr.v,F.iOpa!=null?F.iOpa/255:1)}else if(L){l=CSS.cQ(L)}return[$,l]};CSS.asT=function(x,F){if(x[0])F.push("background-color: "+x[0]);
if(x[1])F.push("background-image: "+x[1])};CSS.Mf={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aCD=function(dx){return""+parseFloat(dx.toFixed(3))};CSS.po=function(x){if(x==null)return{o:0,r:0,z:0};
var F=x.indexOf("(");if(F!=-1){var W=x.slice(F+1,x.length-1).split(",");for(var w=0;w<W.length;w++){var n=W[w].trim();
W[w]=parseFloat(n)*(n.endsWith("%")?255/100:1)}return{o:W[0],r:W[1],z:W[2]}}if(x.charAt(0)!="#"){var L=CSS.Mf;
if(L[x])x=L[x];else console.log("unknown color "+x)}x=x.slice(1);if(x.length==4)x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]+x[3]+x[3];
if(x.length==3)x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2];var $=-1;if(x.length==8){$=parseInt(x.slice(6),16);x=x.slice(0,6)}x=parseInt(x,16);
var l={o:x>>16&255,r:x>>8&255,z:x&255};if($!=-1)l.V=$;return l};CSS.uJ=function(x,F){return CSS.Go(r.I.z$(x),F)};
CSS.Go=function(x,F){if(F==null)F=1;var W=Math.round(x.o),n=Math.round(x.r),L=Math.round(x.z),$=W<<16|n<<8|L;
return F==1?"#"+r.mZ($):"rgba("+W+","+n+","+L+","+F+")"};CSS.cQ=function(x){var F=x.Grad.v;if(F.Clrs==null)return"";
var W=F.Clrs.v.slice(0),n=F.Trns.v.slice(0),L=x.Ofst.v,$=x.Type.v.GrdT=="Rdl"?1:0,l=($==1?"radial":"linear")+"-gradient",k=$==0?Math.round(-x.Angl.v.val+90)+"deg":"circle at center",V=x.Rvrs.v,i=r.I.A2(F,V);
for(var w=0;w<i.length;w++){var f=i[w],X=f[1];k+=", "+CSS.Go({o:X[0]*255,r:X[1]*255,z:X[2]*255},f[2])+" "+Math.round(f[0]*100)+"%"}return l+"("+k+")"};
CSS.awV=function(x,F,W,n,L,$){var l=F.oE,k=n?1:W.NX(),V=Math.round(l.FontSize*k);x.push("font-size: "+V+"px");
var i=l.Tracking;if(!n&&i!=null&&i!=0)x.push("letter-spacing: "+Math.round(i*V/1e3)+"px");if(!l.AutoLeading)x.push("line-height: "+Math.round(l.Leading*k)+"px");
if(l.Strikethrough)x.push("text-decoration: line-through");if(l.Underline)x.push("text-decoration: underline");
if(l.FontCaps==2)x.push("text-transform: uppercase");var f=iV.z$(l.FillColor);f=[f.o,f.r,f.z].map(Math.round);
x.push((n?"fill: ":"color: ")+($?$:"#"+r.mZ(f[0]<<16|f[1]<<8|f[2])));var X=F.zf[l.Font].Name;if(X){var s=j8.Zg.Z6(X),R="",h=null,B=null;
if(s!=null&&X!=j8.uZ(s))s=null;if(L&&s)R+="\""+X+"\", ";var e=X.toLowerCase();if(s){h=j8.GA(s)[0];if(s["OS/2"])B=s["OS/2"].usWeightClass}else{h=CSS.a48(X);
if(e.indexOf("light")!=-1)B=300;else if(e.indexOf("medium")!=-1)B=500;else if(e.indexOf("black")!=-1||e.indexOf("extrabold")!=-1)B=800;
else if(e.indexOf("bold")!=-1)B="bold"}if(h!=null)R+="\""+h+"\"";if(B!=null)x.push("font-weight: "+B);
if(e.indexOf("italic")!=-1||e.indexOf("oblique")!=-1)x.push("font-style: italic");if(R)x.push("font-family: "+R)}var U=F.wt.Justification;
if(U!=null&&U!=0)if(n){}else x.push("text-align: "+["left","right","center"][U%3])};CSS.a48=function(x){x=x.split("-")[0];
while(x.endsWith("MT")||x.endsWith("PS"))x=x.slice(0,x.length-2);var F=!0;for(var w=0;w<x.length;w++){var W=x.charAt(w);
if(!F&&W.toLowerCase()!=W){x=x.slice(0,w)+" "+x.slice(w);w++;F=!0}else F=!1}return x};function eb(){}eb.ix={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
eb.LA=function(x,F){var W=Date.now(),n=x.split("\n"),L;if(n.length==1)n=x.split("\r");for(var w=0;w<n.length;
w++)if(n[w].trim()[0]=="#"){n[w]=""}x=n.join("\n");try{L=acorn.parse(x)}catch(ii){console.log(ii);return}var $=JSON.parse(JSON.stringify(eb.V$.XH));
$.__return=!1;$.__continue=!1;$.__break=!1;$.__throw=!1;$.__fs={};$.__window={};eb.eval(L,F,$);var l=$.__fs;
if(Object.keys(l).length!=0){var k=UZIP.encode(l);jh.save(k,"output.zip")}};eb.eval=function(x,F,W){var n=x.type;
if(!1){}else if(n=="Program"||n=="BlockStatement"){var L=x.body;for(var w=0;w<L.length;w++){var $=L[w].type;
if($=="FunctionDeclaration")W[L[w].id.name]=L[w]}for(var w=0;w<L.length;w++){var $=L[w].type,l=eb.eval(L[w],F,W);
if(W.__continue&&W.__pif==null){W.__continue=!1;return l}if(W.__return||W.__break||W.__throw)return l}}else if(n=="ReturnStatement"){W.__return=!0;
return x.argument?eb.oF(x.argument,F,W):null}else if(n=="BreakStatement"){W.__break=!0}else if(n=="ContinueStatement"){W.__continue=!0}else if(n=="VariableDeclaration"){var k=x.declarations;
for(var w=0;w<k.length;w++)eb.eval(k[w],F,W)}else if(n=="VariableDeclarator"){W[x.id.name]=x.init?eb.oF(x.init,F,W):null}else if(n=="FunctionDeclaration"){W[x.id.name]=x}else if(n=="MemberExpression"){var V=eb.oF(x.object,F,W),i=x.computed?eb.oF(x.property,F,W):eb.eval(x.property,F,W),l;
if(V.O!=null)l=eb.V$.oi(V,i,F,W);else if(V==window&&eb.ix[i]){}else l=V[i];return l}else if(n=="ArrayExpression"){var f=[],X=x.elements;
for(var w=0;w<X.length;w++)f.push(eb.oF(X[w],F,W));return f}else if(n=="ObjectExpression"){var f={},X=x.properties;
for(var w=0;w<X.length;w++){var s=X[w],R=X[w].key.name?X[w].key.name:X[w].key.value;f[R]=eb.oF(X[w].value,F,W)}return f}else if(n=="ExpressionStatement"){return eb.eval(x.expression,F,W)}else if(n=="NewExpression"){var h=x.arguments,B=x.callee,e=B.type,U=B.name,o=[],f=null;
for(var w=0;w<h.length;w++)o.push(eb.oF(h[w],F,W));if(U=="Array")f=new window[U];else if(e=="Identifier")f=eb.V$.a1p(U,o,F,W);
else throw"e";if(f==null)throw"new "+U;return f}else if(n=="CallExpression"){var h=x.arguments,B=x.callee,e=B.type,b={};
for(var u in W)b[u]=W[u];var o=[];for(var w=0;w<h.length;w++)o.push(eb.oF(h[w],F,W));if(e=="Identifier"){var Z=B.name,I=W[Z];
if(I&&I.O=="AppFunc"){Z=I.pL;I=null}if(I){if(I.params){var y=I.params;for(var w=0;w<y.length;w++)b[y[w].name]=o[w];
return eb.eval(I.body,F,b)}else{return I.apply(null,o)}}else if(eb.V$.an2.indexOf(Z)!=-1)return eb.V$.mV({O:"Application"},Z,o,F,W);
else if(window[Z]==null)console.log("Unknown function "+Z);else if(eb.ix[Z])alert(Z+"() not available");
else{var D=window[Z].apply(window,o);return D}}else if(e=="MemberExpression"){var V=eb.oF(B.object,F,W),i=B.computed?eb.oF(B.property,F,W):eb.eval(B.property,F,W);
if(V==window&&eb.ix[i])return;if(V.O!=null)return eb.V$.mV(V,i,o,F,W);else if(i=="sort"&&V[0]&&V[0].O=="Layer"){return V.sort(function(d,A){return d.b.getName()>A.b.getName()?1:-1})}else if(i=="toSource")return JSON.stringify(V);
else return V[i].apply(V,o)}else if(e=="FunctionExpression"){return eb.eval(B.body,F,W)}else console.log(x)}else if(n=="AssignmentExpression"){var N=x.operator,j=x.left,H=j.type,Q=eb.oF(j,F,W),C=eb.oF(x.right,F,W),l=null;
if(!1){}else if(N=="=")l=C;else if(N=="+=")l=Q+C;else if(N=="-=")l=Q-C;else if(N=="*=")l=Q*C;else if(N=="/=")l=Q/C;
else if(N=="%=")l=Q%C;else if(N=="&=")l=Q&C;else if(N=="|=")l=Q|C;else if(N=="&&=")l=Q&&C;else if(N=="||=")l=Q||C;
else console.log(x);if(H=="Identifier"){var J=j.name;if(W.hasOwnProperty(J))W[J]=l;else W.__window[J]=l}else if(H=="MemberExpression"){var E=eb.eval(j.property,F,W),T=eb.oF(j.object,F,W);
if(T.O!=null)eb.V$.apB(T,E,l,F,W);else T[E]=l}else console.log(x);return l}else if(n=="Identifier")return x.name;
else if(n=="Literal")return x.value;else if(n=="UpdateExpression"){var N=x.operator,c=x.argument.name,f=eb.oF(x.argument,F,W),a=W;
if(a[c]==null)a=W.__window;if(!1){}else if(N=="++"){a[c]++;return x.prefix?a[c]:a[c]-1}else if(N=="--"){a[c]--;
return x.prefix?a[c]:a[c]+1}else console.log(x)}else if(n=="UnaryExpression"){var N=x.operator,K=eb.oF(x.argument,F,W);
if(K&&K.O=="UnitValue"){if(N=="-")return-K.b;else return eb.a6e(K.b,N)}else return eb.a6e(K,N)}else if(n=="BinaryExpression"||n=="LogicalExpression"){var N=x.operator,j=eb.oF(x.left,F,W);
if(n=="LogicalExpression"&&N=="&&"&&!j)return j;var K=eb.oF(x.right,F,W);if(j==null||K==null)return eb.xH(j,K,N);
else if(j.O=="UnitValue"&&K.O=="UnitValue")return eb.xH(j.b,K.b,N);else if(j.O=="UnitValue")return eb.xH(j.b,K,N);
else if(K.O=="UnitValue"){if(N=="-")return-(j-K.b);else return eb.xH(j,K.b,N)}else return eb.xH(j,K,N)}else if(n=="IfStatement"){var Y=eb.oF(x.test,F,W),p=W.__pif,l=null;
W.__pif=!0;if(Y)l=eb.eval(x.consequent,F,W);else if(x.alternate)l=eb.eval(x.alternate,F,W);W.__pif=p;
return l}else if(n=="ConditionalExpression"){var Y=eb.oF(x.test,F,W);if(Y)return eb.oF(x.consequent,F,W);
else if(x.alternate)return eb.oF(x.alternate,F,W)}else if(n=="ForInStatement"){eb.eval(x.left,F,W);var P=x.left.declarations[0].id.name,m=eb.oF(x.right,F,W);
for(var u in m){W[P]=u;var z=eb.eval(x.body,F,W);if(W.__break)break;if(W.__return)return z}W.__break=!1}else if(n=="ForStatement"){eb.eval(x.init,F,W);
while(eb.eval(x.test,F,W)){var z=eb.eval(x.body,F,W);if(W.__break)break;if(W.__return)return z;eb.eval(x.update,F,W)}W.__break=!1}else if(n=="WhileStatement"){while(eb.eval(x.test,F,W)){var z=eb.eval(x.body,F,W);
if(W.__break)break;if(W.__return)return z}W.__break=!1}else if(n=="DoWhileStatement"){do{var z=eb.eval(x.body,F,W);
if(W.__break)break;if(W.__return)return z}while(eb.eval(x.test,F,W));W.__break=!1}else if(n=="TryStatement"){eb.eval(x.block,F,W);
if(W.__throw){var M=x.handler;W[M.param.name]=W.__throw;W.__throw=!1;eb.eval(M.body,F,W);delete W[M.param.name]}}else if(n=="EmptyStatement"){}else console.log(x)};
eb.xH=function(x,F,W){if(W=="+")return x+F;else if(W=="-")return x-F;else if(W=="*")return x*F;else if(W=="/")return x/F;
else if(W=="%")return x%F;else if(W=="^")return x^F;else if(W=="&")return x&F;else if(W=="&&")return x&&F;
else if(W=="|")return x|F;else if(W=="||")return x||F;else if(W=="<")return x<F;else if(W==">")return x>F;
else if(W=="=="){if(x!=null&&F!=null&&x.O&&F.O)return x.b==F.b;return x==F}else if(W=="===")return x===F;
else if(W=="<=")return x<=F;else if(W==">=")return x>=F;else if(W=="!=")return x!=F;else if(W=="!==")return x!==F;
else if(W=="<<")return x<<F;else if(W==">>")return x>>F;else console.log(W)};eb.a6e=function(x,F){if(F=="-")return-x;
else if(F=="!")return!x;else if(F=="~")return~x;else if(F=="+")return x;else if(F=="typeof")return typeof x;
else console.log(F,x)};eb.oF=function(x,F,W){var n=x.type;if(n=="Identifier")return eb.abR(x.name,F,W);
else return eb.eval(x,F,W)};eb.abR=function(x,F,W){if(x=="undefined")return undefined;else if(W.hasOwnProperty(x))return W[x];
else if(x=="app")return{O:"Application"};else if(x=="Folder")return{O:"Folder"};else if(x=="File")return{O:"File"};
else if(x=="$")return{O:"$"};else if(eb.V$.ayo.indexOf(x)!=-1)return eb.V$.oi({O:"Application"},x,F,W);
else if(eb.V$.an2.indexOf(x)!=-1)return{O:"AppFunc",pL:x};else if(W.__window.hasOwnProperty(x))return W.__window[x];
else if(window[x]&&!eb.ix[x])return window[x];else{W[x]=null;return null}};eb.V$={};eb.V$.a1p=function(x,F,W,n){var L;
if(x=="SolidColor")L={O:x,b:[1,0,0,0]};if(x=="RGBColor")L={O:x,b:[1,0,0,0]};if(x=="Window")L={O:x,b:new i0(F[0],F[1],F[2])};
if(x=="ExportOptionsSaveForWeb")L={O:x,b:{BW:"png",U1:100}};if(x=="PhotoshopSaveOptions")L={O:x,b:{BW:"psd"}};
if(x=="PNGSaveOptions")L={O:x,b:{BW:"png",U1:100}};if(x=="JPEGSaveOptions")L={O:x,b:{BW:"jpg",U1:100}};
if(x=="PDFSaveOptions")L={O:x,b:{BW:"pdf",aCh:""}};if(x=="File")L={O:x,b:F[0]};if(x=="ActionReference")L={O:x,b:{t:"obj ",v:[]}};
if(x=="ActionDescriptor")L={O:x,b:{t:"Objc",v:{classID:"null"}}};if(x=="ActionList")L={O:x,b:{t:"VlLs",v:[]}};
if(x=="UnitValue")L={O:x,b:F.length==0?0:parseFloat(F[0])};return L};eb.V$.ayo="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
eb.V$.an2="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
eb.V$.oi=function(x,F,W,n){var L=W.ke,$=W.eo();if(!1){}else if(F=="typename"){if(x.O=="Layer")return x.b.vN()?"LayerSet":"ArtLayer";
else return x.O}else if(["Document","Layer"].indexOf(x.O)!=-1&&["layers","artLayers","layerSets"].indexOf(F)!=-1){var l=$;
if(x.O=="Document")l=x.b;else l=x.$x;var k=l.root,V={O:"Layers",a3o:F,b:[],$x:l};if(x.O=="Layer")k=l.root.y9(l.B.indexOf(x.b));
if(k.children==null)return null;for(var w=0;w<k.children.length;w++){var i=k.children[w].a,f=i.vN();
if(f&&F=="artLayers"||!f&&F=="layerSets")continue;V.b.push({O:"Layer",b:i,$x:l})}V.b.reverse();return V}else if(x.O=="Documents"||x.O=="Layers"||x.O=="HistoryStates"||x.O=="LayerComps"){if(!1){}else if(F=="length")return x.b.length;
else if(Number.isInteger(F))return x.b[F];else console.log(x.O+": unknown property ",F)}else if(x.O=="Application"){if(!1){}else if(F=="activeDocument")return{O:"Document",b:W.eo()};
else if(F=="documents"){var V={O:"Documents",b:[]};for(var w=0;w<W.iV.length;w++)V.b.push({O:"Document",b:W.iV[w]});
return V}else if(F=="fonts")return{O:"TextFonts"};else if(F=="preferences")return{O:"Preferences"};else if(F=="displayDialogs")return{O:"DialogModes"};
else if(F=="foregroundColor"||F=="backgroundColor"){var X=F[0]=="f"?L.A_:L.G8;return{O:"SolidColor",b:[1,(X>>>16&255)/255,(X>>>8&255)/255,(X>>>0&255)/255]}}else if(F=="UI")return{O:"UI"};
else if(F=="version")return 30;else console.log(x,F)}else if(x.O=="Document"){var $=x.b;if(!1){}else if(F=="activeLayer"){var i=$.B[$.g[0]];
return{O:"Layer",b:i,$x:$}}else if(F=="resolution")return $.Bq;else if(F=="width")return $.m;else if(F=="height")return $.e;
else if(F=="name")return $.name;else if(F=="saved")return!$.BP();else if(F=="selection")return{O:"Selection"};
else if(F=="activeHistoryState")return{O:"HistoryState",Fp:$.Mw};else if(F=="source")return $.Cs;else if(F=="layerComps"){var s=$.U9.list.v,R=[];
for(var w=0;w<s.length;w++)R.push({O:"LayerComp",b:w});return{O:"LayerComps",b:R}}else if(F=="historyStates"){var h=[];
for(var w=0;w<$.history.length;w++)h.push({O:"HistoryState",Fp:w});return{O:"HistoryStates",b:h}}else if(F=="mode")return 7;
else if(F=="colorSamplers"){var V={O:"ColorSamplers",a3o:F,b:$.FK.slice(0),$x:$};return V}else console.log(x,F)}else if(x.O=="LayerComp"){if(F=="name")return $.U9.list.v[x.b].v.Nm.v;
else throw F}else if(x.O=="ColorSamplers"){if(Number.isInteger(F))return{O:"ColorSampler",b:x.b[F]};
else if(F=="length")return $.FK.length}else if(x.O=="ColorSampler"){if(F=="color"){var X=O.c2.gJ($,$.U.Q0(x.b.x,x.b.y),1,2);
return{O:"SolidColor",b:[1,(X>>>16&255)/255,(X>>>8&255)/255,(X>>>0&255)/255]}}else if(F=="position")return[x.b.x,x.b.y]}else if(x.O=="Layer"){var B={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},i=x.b;
if(!1){}else if(F=="visible")return i.MG();else if(F=="selected")return $.g.indexOf($.B.indexOf(i))!=-1;
else if(F=="grouped")return i.gO;else if(B[F]!=null)return i._3(B[F]);else if(F=="opacity")return i.opacity*100/255;
else if(F=="fillOpacity")return(i.add.iOpa==null?255:i.add.iOpa)*100/255;else if(F=="blendMode")return i.q_;
else if(F=="name")return i.getName();else if(F=="textItem")return{O:"TextItem",b:i};else if(F=="bounds"){var e=O.Y.oU($,[$.B.indexOf(i)]);
return eb.V$.akN(e,$)}else if(F=="parent"){var U=W.iV,l;for(var w=0;w<U.length;w++)if(U[w].B.indexOf(i)!=-1)l=U[w];
var o=l.root.y9(l.B.indexOf(i)).parent;return o.depth==0?{O:"Document",b:l}:{O:"Layer",b:o.a,$x:l}}else if(F=="kind"){var b=eb.V$.we;
for(var w=0;w<b.length;w++)if(i.add[b[w]]!=null)return w;return 0}else if(F=="isBackgroundLayer")return i.add.lnsr="bgnd";
else if(F=="itemIndex")return $.B.indexOf(i)+1;else console.log(x,F)}else if(x.O=="Selection"){if(!1){}else if(F=="bounds"){if($.u==null)n.__throw={message:"no selection"};
else return eb.V$.akN($.u.rect,$)}else console.log(x,F)}else if(x.O=="TextItem"){var u=x.b.add.TySh,Z=u.OU,I=iV.YG(Z),y=u.i.NX(),D=iV.f3(Z,0,0);
if(F=="contents")return I.slice(0,I.length-1).replace(/\n/g,"\r");else if(F=="font")return D.oE.Font!=null?D.zf[D.oE.Font].Name:null;
else if(F=="size")return eb.V$.hn(D.oE.FontSize*y,$);else if(F=="leading")return eb.V$.hn(D.oE.Leading*y,$);
else if(F=="tracking")return eb.V$.hn(D.oE.Tracking);else if(F=="baselineShift")return eb.V$.hn(D.oE.BaselineShift);
else if(F=="fauxBold")return D.oE.FauxBold;else if(F=="fauxItalic")return D.oE.FauxItalic;else if(F=="kind")return 1-iV.eQ(Z);
else if(F=="useAutoLeading")return D.wt.AutoLeading;else if(F=="hyphenation")return D.wt.AutoHyphenate;
else if(F=="justification")return eb.V$.hn(D.wt.Justification);else if(F=="color")return{O:"SolidColor",b:D.oE.FillColor.Values.slice(0)};
else if(F=="width"||F=="height"){var N=iV.T$(Z),j=(N[2]-N[0])*y,H=(N[3]-N[1])*y;return eb.V$.hn(F=="width"?j:H,$)}else if(F=="position"){var Q=u.i;
return eb.V$.a5l([Q.yq,Q.Ze],$)}else if(F=="horizontalScale"||F=="verticalScale"){var C=F[0].toUpperCase()+F.slice(1);
return Math.round(D.oE[C]*100)}else if(F=="antiAliasMethod")iV.rL(u);else if(F=="totalTextStyle"){var V={};
for(var J=0;J<2;J++){var E=["Style","Paragraph"][J],T=Z.EngineDict[E+"Run"].RunLengthArray,c=[],a=0;
for(var w=0;w<T.length;w++){var K=iV.f3(Z,a,Math.min(a+T[w],I.length-2));a+=T[w];c.push(J==0?K.oE:K.wt);
V.fontSet=K.zf}V[E]={runs:T,styles:c}}return JSON.stringify(V)}else if(F=="transform"){var Q=u.i;return JSON.stringify([Q.V,Q.z,Q.Pu,Q.P9,Q.yq,Q.Ze])}else console.log(x,F)}else if(x.O=="Preferences"){if(F=="rulerUnits")return L._X.$o;
else console.log(x,F)}else if(x.O=="SolidColor"){if(F=="rgb")return{O:"RGBColor",b:x.b};if(F=="cmyk")return{O:"CMYKColor",b:r.yC(x.b.slice(1))};
else console.log(x,F)}else if(x.O=="RGBColor"){var e=Math.round(255*x.b[1]),Y=Math.round(255*x.b[2]),p=Math.round(255*x.b[3]);
if(!1){}else if(F=="red")return e;else if(F=="green")return Y;else if(F=="blue")return p;else if(F=="hexValue")return"#"+r.mZ(e<<16|Y<<8|p).toUpperCase();
else console.log(x,F)}else if(x.O=="CMYKColor"){var P=[];for(var w=0;w<4;w++)P.push(Math.round(x.b[w]*100));
var m=["cyan","magenta","yellow","black"].indexOf(F);if(m!=-1)return P[m];else console.log(x,F)}else if(x.O=="UnitValue"){if(F=="value")return x.b;
else throw"e"}else if(x.O=="ExportOptionsSaveForWeb"){if(F=="format")return x.b.BW;else if(F=="PNG8"||F=="interlaced")return!1;
else if(F=="quality")return x.b.U1;else if(F=="transparency")return!0;else throw F}else if(x.O=="PNGSaveOptions"||x.O=="JPEGSaveOptions"||x.O=="PDFSaveOptions"){return 0}else if(x.O=="$"){if(F=="localize")return!1;
else if(F=="os")return"Windows";else throw F}else if(x.O=="ActionList"){if(F=="count")return x.b.v.length;
else throw F}else console.log(x,F)};eb.V$.akN=function(x,F){return eb.V$.a5l([x.x,x.y,x.x+x.m,x.y+x.e],F)};
eb.V$.a5l=function(x,F){var W=[];for(var w=0;w<x.length;w++)W.push(eb.V$.hn(x[w],F));return W};eb.V$.jl=function(x){var F=[];
for(var w=0;w<x.length;w++)F.push(x[w].O?x[w].b:x[w]);return F};eb.V$.hn=function(x,F){return{O:"UnitValue",b:x}};
eb.V$.aw4=function(x,F){if(x.O=="UnitValue")return x.b;return x};eb.V$.apB=function(x,F,W,n,L){var $=new gT(S.E.v,!0),l=new gT(S.E.M,!0),k=n.eo(),V=n.ke;
if(!1){}else if(x.O=="Application"){if(!1){}else if(F=="activeDocument"){l.data={d:S.H.bt,GE:W.b};n.T(l)}else if(F=="displayDialogs"){}else if(F=="foregroundColor"||F=="backgroundColor"){var i=W.b,X=i[1]*255<<16|i[2]*255<<8|i[3]*255<<0;
l.data={d:S.H.DD,jL:iC.N1,k1:F=="foregroundColor"?0:1,b:X};n.T(l)}else console.log(x,F,W)}else if(x.O=="Document"){var s=x.b;
if(!1){}else if(F=="name"){$.f=O.c9;$.data={d:t.rz,b:W,acF:!0,D0:s};k.bA=!0}else if(F=="source")s.Cs=W;
else if(F=="activeLayer"){s.g=[s.B.indexOf(W.b)]}else if(F=="activeHistoryState"){$.f=O.o7;$.data={d:"h_itemchange",index:W.Fp}}else console.log(x,F)}else if(x.O=="Layer"){$.f=O.c9;
var R={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},h=x.b,B=k.B.indexOf(h);
if(!1){}else if(F=="visible"){if(h.MG()!=W)$.data={d:t._k,a:B}}else if(F=="opacity"){$.data={d:t.W2,a:B,k9:Math.round(255*W/100)}}else if(F=="fillOpacity"){$.data={d:t.MD,a:B,k9:Math.round(255*W/100)}}else if(F=="blendMode"){$.data={d:t.rX,a:B,k9:a2.BL.indexOf(W)}}else if(F=="name"){$.data={d:t.hF,a:B,name:W}}else if(R[F]!=null){$.data={d:t.ku,a:B,k9:[[W],[R[F]]]}}else if(F=="kind"){$.data={d:t.R3,a:B,xS:eb.V$.we[W]}}else if(F=="grouped"){$.data={d:t.rF,a:B,k9:W}}else console.log(x,F,W)}else if(x.O=="TextItem"){$.f=O.w1;
var h=x.b,e=h.add.TySh,U=JSON.parse(JSON.stringify(e.OU)),o=e.i.clone(),b=e.i.NX(),u=iV.YG(U),Z=iV.f3(U,0,u.length-2),I=!1;
if(!1){}else if(F=="contents"){iV.gp(U,0,u.length-1);iV.yb(U,0,W.replace(/\r/g,"\n"))}else if(F=="size"){Z.oE.FontSize=(W.b!=null?W.b:W)/b;
I=!0}else if(F=="leading"){Z.oE.Leading=(W.b!=null?W.b:W)/b;I=!0}else if(F=="tracking"){Z.oE.Tracking=W.b!=null?W.b:W;
I=!0}else if(F=="baselineShift"){Z.oE.BaselineShift=W.b!=null?W.b:W;I=!0}else if(F=="fauxBold"){Z.oE.FauxBold=W;
I=!0}else if(F=="fauxItalic"){Z.oE.FauxItalic=W;I=!0}else if(F=="kind"){var y=iV.eQ(U);if(y==1&&W==1){var D=new iO(U,n.ke.op).wt[0],N=D.qR[0].end,j=D.ae[N-1].end;
iV.gp(U,0,u.length-1);iV.yb(U,0,u.slice(0,j-1))}if(y==W)iV.xC(U,1-W)}else if(F=="useAutoLeading"){Z.wt.AutoLeading=W;
I=!0}else if(F=="hyphenation"){Z.wt.AutoHyphenate=W;I=!0}else if(F=="justification"){Z.wt.Justification=W;
I=!0}else if(F=="font"){iV.hU(Z,W);I=!0}else if(F=="color"){Z.oE.FillColor.Values=W.b.slice(0);I=!0}else if(F=="width"||F=="height"){var H=iV.T$(U).slice(0),Q=eb.V$.aw4(W);
if(F=="width")H[2]=Math.round(H[0]+Q/b);else H[3]=Math.round(H[1]+Q/b);iV.J3(U,H)}else if(F=="position"){o.yq=W[0];
o.Ze=W[1]}else if(F=="horizontalScale"||F=="verticalScale"){var C=F[0].toUpperCase()+F.slice(1);Z.oE[C]=W/100;
I=!0}else if(F=="antiAliasMethod")iV.bf(e,W);else console.log(x,F,W);if(I)iV.Aj(U,0,u.length-1,Z);$.data={d:"newED",Wf:k.B.indexOf(h),Vo:U,i:o}}else if(x.O=="Preferences"){if(!1){}else if(F=="rulerUnits"){var J=JSON.parse(JSON.stringify(V._X));
J.$o=W;l.data={d:S.H.DD,jL:iC.qt,k9:J};n.T(l)}else console.log(x,F,W)}else if(x.O=="SolidColor"){if(F=="rgb")x.b=W.b;
else throw F}else if(x.O=="RGBColor"){if(!1){}else if(F=="red")x.b[1]=W/255;else if(F=="green")x.b[2]=W/255;
else if(F=="blue")x.b[3]=W/255;else if(F=="hexValue"){var E=r.ajR(W.slice(1));x.b[1]=(E>>>16&255)/255;
x.b[2]=(E>>>8&255)/255;x.b[3]=(E>>>0&255)/255}else console.log(x,F)}else if(x.O=="ExportOptionsSaveForWeb"){if(F=="format")x.b.BW=W;
else if(F=="PNG8"||F=="transparency"||F=="interlaced"){}else if(F=="quality")x.b.U1=W;else throw F}else if(x.O=="PNGSaveOptions"||x.O=="JPEGSaveOptions"){if(F=="quality")x.b.U1=Math.round(100*W/12)}else if(x.O=="PDFSaveOptions"){if(F=="preset")x.b.aCh=W}else if(x.O=="$"){if(F=="localize"){}}else console.log(x,F,W);
if($.data!=null)n.T($)};eb.V$.mV=function(x,F,W,n,L){var $=x.O,l=null,k=new gT(S.E.v,!0),V=new gT(S.E.BD,!0),i=new gT(S.E.M,!0),X=n.eo(),s=n.iV;
if(!1){}else if($=="Application"){if(!1){}else if(F=="charIDToTypeID"){var R=W[0].trim(),h={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return h[R]?h[R]:R}else if(F=="stringIDToTypeID"){var B=W[0].trim(),h={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},e=h[B];
return e==null?B:e}else if(F=="typeIDToStringID"){return W[0].trim()}else if(F=="executeAction"){var U;
if(W[1]){U=W[1].b.v;U.classID=W[0]}var o={setd:"set"},b=o[W[0]];if(b==null)b=W[0];var u=a3.UO[W[0]];
if(u&&a3.Np[u])b=a3.Np[u];V.data={Y3:b,Xe:U}}else if(F=="executeActionGet"){var Z=W[0].b.v,l={};if(Z.length==1){var I=l.classID=Z[0].v.classID;
if(I=="Lyr"){var y=ga.CA(X,Z[0]),D=X.B[y],N=D.add.SoLd,j=D.add.SoCo;if(N)l.smartObjectMore={t:"Objc",v:{transform:N.nonAffineTransform}};
if(j)l.adjustment={t:"VlLs",v:[{t:"Objc",v:JSON.parse(JSON.stringify(j))}]}}return{O:"ActionDescriptor",b:{t:"null",v:l}}}if(Z.length==2){var I=l.classID=Z[1].v.classID,B=Z[0].v.keyID;
if(I=="Dcmn"){var H=X;if(B=="numberOfLayers")l[B]={t:"long",v:H.B.length};else throw B}else if(I=="Lyr"){var y=ga.CA(X,Z[1]),D=X.B[y],Q=D.add.TySh;
if(B=="textKey"){if(Q){var C=Q.OU.EngineDict.StyleRun.RunArray,J=Q.OU.ResourceDict.FontSet,E=[];for(var w=0;
w<C.length;w++){var T=C[w].StyleSheet.StyleSheetData,c=J[T.Font].Name,a=n.ke.op.Z6(c);if(a&&a.name.postScriptName!=c)a=null;
E.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:a!=null},fontPostScriptName:{t:"TEXT",v:c}}}}})}l[B]={t:B,v:{textStyleRange:{t:"obj ",v:E}}}}}else throw B}else if(I=="ASet"){var K=n.ke.qS,Y=l.classID=Z[0].v.classID;
if(Y=="Actn"){l.NmbC={t:"long",v:ga.Ni(K,Z[0].v.val,Z[1].v.val).$f.length}}else throw Y}else throw I;
return{O:"ActionDescriptor",b:{t:"null",v:l}}}}else if(F=="doAction"){i.data={d:S.H.HQ,U0:[W[0],W[1]]}}else if(F=="bringToFront"){}else if(F=="open"){i.data={d:S.H.ij,jL:{url:W[0]}};
if(W[2]&&s.length!=0)i.data.jL.OL=s.indexOf(X)}else if(F=="echoToOE"){i.data={d:S.H.iC,jL:W[0]}}else if(F=="showWindow"){i.data={d:S.H.Ar,ip:W[0]}}else if(F=="UnitValue"){return W[0]+" "+W[1]}else console.log(F)}else if($=="LayerComp"){if(F=="apply"){k.f=O.aR;
k.data={d:"setLC",Fp:X.U9.list.v[x.b].v.compID.v}}else throw F}else if($=="Document"){var X=x.b;if(!1){}else if(F=="crop"){V.data=O.f7.a3q(W[0])}else if(F=="trim"){var p=[];
for(var w=0;w<4;w++)p.push(W[w+1]!=null?W[w+1]:!0);V.data=O.f7.nd(W[0]!=null?W[0]:0,p)}else if(F=="suspendHistory"){var P=acorn.parse(W[1]);
eb.eval(P,n,L)}else if(F=="save"){i.data={d:S.H.rN}}else if(F=="saveToOE"){i.data={d:S.H.rN,fJ:W}}else if(F=="rotateCanvas"){V.data=O.Y.GV(!0,W[0])}else if(F=="resizeImage"||F=="resizeCanvas"){var m=W[0],z=W[1];
if(typeof m!="number"){m=X.m*parseFloat(m.slice(0,m.length-1))/100;z=X.e*parseFloat(z.slice(0,z.length-1))/100}if(F=="resizeCanvas")V.data=O.f7.aDn(Math.round(m),Math.round(z),W[2]);
else V.data=O.f7.a4U(Math.round(m),Math.round(z),null,1)}else if(F=="paste"){i.data={d:S.H.cd,Ee:W.length!=0&&W[0],FQ:!0}}else if(F=="close"){i.data={d:S.H.Oa,_j:X}}else if(F=="exportDocument"||F=="saveAs"){var M=L.__fs,d=F=="exportDocument"?W[2].b:W[1].b,A=W[0].b.replace(":","").replace("~/","");
if(!A.toLowerCase().endsWith("."+d.BW))A+="."+d.BW;var G=jW.Ko(X,d.BW,null,null,d.BW=="pdf"?null:[d.U1],n.ke);
M[A]=new Uint8Array(G)}else if(F=="flatten"){V.data={Y3:"flattenImage"}}else if(F=="clearHistory"){k.f=O.o7;
k.data={d:"h_clear",force:!0}}else console.log(x,F,W)}else if($=="Layer"){var kB=x.b,y=X.B.indexOf(kB);
if(!1){}else if(F=="copy"){eb.V$.qB(X,n,0);i.data={d:S.H.Ti,va:W[0],b4:y,FQ:!0};n.T(i);delete i.data;
eb.V$.qB(X,n,1)}else if(F=="clear"){eb.V$.qB(X,n,0);V.data={Y3:"delete"};n.T(V);delete V.data;eb.V$.qB(X,n,1)}else if(F=="duplicate"){if(W.length==0){var q=X.g.slice(0);
k.data={d:t.Fu,a:y};k.f=O.c9;n.T(k);k.data=null;l={O:"Layer",b:X.B[X.g[0]],$x:x.$x};X.g=q}else if(W[0].O=="Document"){k.data={d:t.bs,B:X.yd(y),Zx:X,gY:W[0].b};
k.f=O.c9}if(k.data){n.T(k);k.data=null;return{O:"Layer",b:X.B[X.g[0]],$x:X}}}else if(F=="merge"||F=="remove"){k.data={d:F=="merge"?t.df:t.AL,a:y};
k.f=O.c9;if(F!="remove")l={O:"Layer",b:X.B[X.g[0]],$x:x.$x}}else if(F=="move"){k.data={d:t.r_,source:y,target:X.B.indexOf(W[0].b),ft:W[1]!=3?.6:.3};
k.f=O.c9}else if(F=="rasterize"){k.f=O.c9;k.data={d:t.UB,a:y};n.T(k);k.data=null;x.b=X.B[y]}else if(F=="rotate"){k.data={d:"rot",Sa:[2,5],b:-W[0]*Math.PI/180,TL:W[1],a:y};
k.f=O.d9}else if(F=="resize"){k.data={d:"scl",Sa:[2,4],b:new eX(W[0]/100,W[1]/100),TL:W[2],a:y};k.f=O.d9}else if(F=="translate"){var fO=eb.V$.jl(W);
k.data={d:"trsl",a:y,eH:fO[0],u7:fO[1]};k.f=O.iY}else if(F=="link"){k.data={d:t.xU,azE:[y,X.B.indexOf(W[0].b)]};
k.f=O.c9}else if(F=="invert"){k.f=O.t7;k.data={d:"start",sv:"nvrt"}}else if(F=="desaturate"){V.data={Y3:"desaturate"}}else if(F.startsWith("apply")&&ew.hE[F.slice(5)]||F.startsWith("adjust")&&ew.hE[F.slice(6)]){var g=F.startsWith("apply"),fO=eb.V$.jl(W),jN=ew.hE[F.slice(g?5:6)];
if(jN=="Dspl"){for(var w=0;w<X.B.length;w++)if(X.B[w].getName()==fO[4]){fO[4]=X.B[w].add.SoLd.Idnt.v;
break}}V.data={Y3:g?ew.Np[jN]:a3.Np[jN]};var U=ew.Iz(jN);if(U){X.g=[y];ew.ro["g"+jN](U,fO);V.data.Xe=U}}else if(F=="applyStyle"){var c6=n.ke.LX,T=null;
for(var w=0;w<c6.length;w++)if(c6[w].TY.Nm.v.split("/").pop()==W[0])T=c6[w];if(T==null){alert("Style not found!");
return}k.f=O.pj;k.data={d:"setstl",b:T.RB,a:y};n.T(k);k.data={d:"confirm",a:y}}else console.log(x,F,W)}else if($=="Documents"){if(F=="getByName"){for(var w=0;
w<s.length;w++)if(s[w].name==W[0])return{O:"Document",b:s[w]};return null}else if(F=="add"){if(W.length==0)W=[100,100,72,"New Project"];
var a7=W[5];if(a7==null)a7=1;V.data=az.jU(W[0],W[1],W[2],W[3],["Wht","Trns","BckC"][a7],!1);n.T(V);V.data=null;
return{O:"Document",b:n.eo()}}else throw"e"}else if($=="Layers"){if(F=="getByName"){for(var w=0;w<x.b.length;
w++)if(x.b[w].b.getName()==W[0]){l=x.b[w];break}if(l==null)L.__throw={message:"No layer with a name "+W[0]}}else if(F=="add"){k.data={d:x.a3o=="layerSets"?t.Hg:t.Ut};
k.f=O.c9;n.T(k);k.data=null;l={O:"Layer",b:X.B[X.g[0]],$x:x.$x}}else console.log(x,F,W)}else if(x.O=="Selection"){if(F=="select"){var bd=W[0],ey=[];
for(var w=0;w<bd.length;w++)ey.push(bd[w][0],bd[w][1]);V.data=O.FA.j9(eb.V$.jl(ey))}else if(F=="clear"){V.data={Y3:"delete"}}else if(F=="selectAll"){V.data=O.FA.YT(!0)}else if(F=="invert"){V.data={Y3:"inverse"}}else if(F=="copy"){i.data={d:S.H.Ti}}else if(F=="deselect"){V.data=O.FA.YT()}else if(F=="fill"){var c5=W[0].b;
c5=r.I.GB({o:c5[1]*255,r:c5[2]*255,z:c5[3]*255});V.data=O.P1.fg("Clr",W[1],W[2]==null?1:W[2]/100,c5)}else if(F=="grow"||F=="similar"){var U={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(W[0]!=null)U.Tlrn={t:"long",v:W[0]};V.data={Y3:F,Xe:U}}else if(F=="expand"||F=="contract"||F=="feather"){V.data=O.FA.px(F,W[0],!0)}else if(F=="translate"){var U={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:W[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:W[1]}}}}};
V.data={Y3:"move",Xe:U}}else if(F=="smooth"){V.data=O.FA.px("smoothness",W[0],!1)}else if(F=="stroke"){var T=JSON.parse(eC.bc[1]),bx=T.Clr.v,c5=W[0].b;
bx.Rd.v=c5[1]*255;bx.Grn.v=c5[2]*255;bx.Bl.v=c5[3]*255;T.Sz.v.val=W[1];T.Styl.v.FStl=eC.stroke.types[W[2]];
console.log(T,W);k.f=O.xZ;k.data={d:"stroke",ah9:T}}else console.log(x,F,W)}else if(x.O=="Window"){if(F=="show"){i.data={d:S.H.Ar,ip:x.b}}else throw"e"}else if(x.O=="ActionReference"){if(F=="putProperty"){x.b.v.push({t:"prop",v:{classID:W[0],keyID:W[1]}})}else if(F=="putClass"){x.b.v.push({t:"Clss",v:{classID:W[0]}})}else if(F=="putEnumerated"){x.b.v.push({t:"Enmr",v:{classID:W[0],typeID:W[1],enum:W[2]}})}else if(F=="putName"){x.b.v.push({t:"name",v:{classID:W[0],val:W[1]}})}else if(F=="putIndex"){x.b.v.push({t:"indx",v:{classID:W[0],val:W[1]}})}else console.log(F,W)}else if(x.O=="ActionDescriptor"||x.O=="ActionList"){var ap=x.O=="ActionList";
if(F.startsWith("put")){var fC=ap?W:W.slice(1),e=null;if(F=="putReference"){e=fC[0].b}else if(F=="putObject"){e=fC[1].b;
e.v.classID=fC[0]}else if(F=="putList"){e=fC[0].b}else if(F=="putDouble"){e={t:"doub",v:fC[0]}}else if(F=="putUnitDouble"){e={t:"UntF",v:{type:fC[0],val:fC[1]}}}else if(F=="putBoolean"){e={t:"bool",v:fC[0]}}else if(F=="putInteger"){e={t:"long",v:fC[0]}}else if(F=="putString"){e={t:"TEXT",v:fC[0]}}else if(F=="putClass"){e={t:"type",v:{classID:fC[0]}}}else if(F=="putEnumerated"){var kE={};
kE[fC[0]]=fC[1];e={t:"enum",v:kE}}else throw F;if(ap)x.b.v.push(e);else x.b.v[W[0]]=e}else if(F=="hasKey"){return x.b.v[W[0]]!=null}else if(F=="getEnumerationValue"){if(W[0]=="layerSection")l="layerSectionContent";
else console.log(W)}else if(F=="getBoolean"){l=x.b.v[W[0]].v}else if(F=="getString"){l=x.b.v[W[0]].v}else if(F=="getObjectValue"){var l=x.b.v[W[0]];
return{O:"ActionDescriptor",b:l}}else if(F=="getList"){var l=x.b.v[W[0]];return{O:"ActionList",b:l}}else if(F=="getInteger"||F=="getDouble"){return x.b.v[W[0]].v}else console.log(F,W)}else if(x.O=="$"){if(F=="writeln"){console.log(W[0])}else throw F}else if(x.O=="UI"){if(F=="scroll"||F=="scrollTo"){var bm=W[0],fe=W[1],g8=X.U.Q;
if(F=="scrollTo"){bm=(-X.m/2+bm)*g8+X.U.J.x;fe=(-X.e/2+fe)*g8+X.U.J.y}k.f=O.CD;k.data={d:"scroll",zO:new eX(Math.round(bm),Math.round(fe))}}else{var e0;
if(F=="zoomIn"||F=="zoomOut"){e0={d:"zoom",sm:F=="zoomIn"}}else if(F=="fitTheArea"){e0={d:"adapt",b:"fitscr"}}else if(F=="pixelToPixel"){e0={d:"adapt",b:"pixel"}}k.f=O._6;
k.data=e0;if(F=="switchFullscreen"){var cF=n.ke.uu,ei=document.fullscreenElement!=null==(cF==2);i.data={d:S.H.L2,b:cF==0?2:0,aN:ei}}}}else if(x.O=="ColorSamplers"){if(F=="removeAll")X.FK=[];
else if(F=="add"){var cr={x:W[0][0],y:W[0][1]};X.FK.push(cr);var l={O:"ColorSampler",b:cr}}}else if(x.O=="ColorSampler"){if(F=="move"){var gg=X.FK.indexOf(x.b);
cr=X.FK[gg];cr.x=W[0][0];cr.y=W[0][1]}else if(F=="remove"){var gg=X.FK.indexOf(x.b);X.FK.splice(gg,1)}}else if(x.O=="Folder"){if(F=="selectDialog")l="img";
else throw F}else if(x.O=="File"){if(F=="openDialog")alert("A website can not show the Open dialog from a script");
else throw F}else console.log(x,F,W);if(k.data)n.T(k);if(V.data)n.T(V);if(i.data)n.T(i);return l};eb.V$.qB=function(x,F,W){var n=new gT(S.E.v,!0);
n.f=O.Yg;var L=new gT(S.E.BD,!0);if(W==0){eb.V$.aar=x.u;L.data=O.FA.YT(!0)}else{var $=eb.V$.aar;if($)n.data={d:"setsel",Sa:"Restore Selection",u:{rect:$.rect.clone(),channel:$.channel.slice(0)}};
else L.data=O.FA.YT()}F.T(n.data?n:L)};eb.V$.aar=null;eb.V$.XH={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2}};
eb.V$.XH.ColorBlendMode=eb.V$.XH.BlendMode;eb.V$.we="---- SoLd TySh SoCo GdFl PtFl".split(" ");function ks(){}ks.mu={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
ks.uk={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
ks.aB0=function(x,F){if(F==null)F={};var W=ks.uk,n=[],L=[],$="";for(var w=0;w<x.length;w++){var l=x[w],k=W[l[0]+""];
if(k&&F[k]==null)F[k]=l[1];else if(l[0]==12)L.push(l[1]);else if(l[0]==25)n.push(l[1]);else if(l[0]==55)$=l[1];
else if(l[0]==60)$+=";"+l[1]}if($!=""&&F["exif:DateTimeOriginal"]==null)F["exif:DateTimeOriginal"]=$;
if(L.length!=0&&F["Iptc4xmpCore:SubjectCode"]==null)F["Iptc4xmpCore:SubjectCode"]=L.join(";");if(n.length!=0&&F["dc:Keywords"]==null)F["dc:Keywords"]=n.join(";");
return F};ks.ahr=function(x){var F=ks.uk,W=[];for(var n in F)if(x[F[n]])W.push([parseInt(n),x[F[n]]]);
if(x["Iptc4xmpCore:SubjectCode"]){var L=x["Iptc4xmpCore:SubjectCode"].split(";");for(var w=0;w<L.length;
w++)W.push([12,L[w].trim()])}if(x["dc:Keywords"]){var L=x["dc:Keywords"].split(";");for(var w=0;w<L.length;
w++)W.push([25,L[w].trim()])}W.sort(function($,l){return $[0]-l[0]});return W};ks.Rs=function(x,F){if(F==null)F={};
var W=new DOMParser,n=W.parseFromString(x,"image/svg+xml"),L=n.getElementsByTagName("rdf:Description")[0];
if(L==null)return F;var $=ks.mu;for(var l in $){var k=$[l][2];if(k==null)continue;var V=L.getElementsByTagName(k)[0];
if(V==null)continue;var i=V.getElementsByTagName("rdf:li"),f=[];for(var w=0;w<i.length;w++)f.push(i[w].textContent);
F[l]=f.join("; ")}return F};ks.i0=function(x){var F=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],W=ks.mu;
for(var n in W){var L=x[n],$=W[n][2],l="Seq",k="";if(L==null||$==null)continue;if($=="dc:title"||$=="dc:description"){l="Alt";
k=" xml:lang=\"x-default\""}if($=="dc:subject")l="Bag";F.push("\t<"+$+"><rdf:"+l+">");var V=$=="dc:subject"?L.split(";").join(",").split(","):[L];
for(var w=0;w<V.length;w++)F.push("\t\t<rdf:li"+k+">"+V[w].trim()+"</rdf:li>");F.push("\t</rdf:"+l+"></"+$+">")}F.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return F.join("\n")};ks.aqx=function(x){var F=[];for(var w=0;w<x.length;w++)F[w]=x[w][1]==0?0:x[w][0]/x[w][1];
return F};ks.ar8=function(x){var F=[];for(var w=0;w<x.length;w++){var W=x[w],n=1;if(W!=Math.round(W)){n=1e3;
W=Math.round(W*n)}F[w]=[W,n]}return F};ks._W=function(x,F){var W=ks.mu;if(F==null)F={};for(var n in W){var L=W[n][1],$="t"+L;
if(L!=null&&x[$]!=null){var l=x[$];if(L==0)l=l.join(".");else if(L==2||L==4){var k=x["t"+(L-1)];if(k==null)k=[L==2?"N":"E"];
l=ks.aqx(l).join(",")+k[0]}else if(L==42034)l=ks.aqx(l).join(" ");else if(L==270||L==315){var V=l[0],i=new Uint8Array(V.length);
_.Fl(i,0,V);l=_.NM(i)}else l=l[0];F[n]=l}}if(x.exifIFD)ks._W(x.exifIFD,F);if(x.gpsiIFD)ks._W(x.gpsiIFD,F);
return F};ks.pu=function(x,F,W){var n=ks.mu,$=0,k=0;if(F==null)F={};var L={},l={};for(var V in n){if(x[V]==null||n[V][1]==null)continue;
var i=n[V][1],f="t"+i,X=F;if(V.startsWith("exif:")){X=L;$++;if(V.startsWith("exif:GPS")){X=l;k++}}var s=x[V];
if(i==0)s=new Uint8Array(s.split(".").map(parseFloat));else if(i==2||i==4){var R=s.length;X["t"+(i-1)]=[s.slice(s.length-1)];
s=ks.ar8(s.split(",").map(parseFloat))}else if(i==42034)s=ks.ar8(s.split(" ").map(parseFloat));else if(i==270||i==315){var h=_.Ug(s);
s=[_.xR(h,0,h.length)]}else s=[s];X[f]=s}if($!=0){F.exifIFD=L;F.t34665=[0]}if(k!=0){F.gpsiIFD=l;F.t34853=[0]}var B=new Date,e=[B.getFullYear(),B.getMonth()+1,B.getDate(),B.getHours(),B.getMinutes(),B.getSeconds()];
for(var w=0;w<6;w++)e[w]=(e[w]+"").padStart(2,"0");F.t305=["Photopea Editor (www.photopea.com)"];if(W!=!0)F.t306=[e[0]+":"+e[1]+":"+e[2]+" "+e[3]+":"+e[4]+":"+e[5]];
return F};function aS(){}aS.cF=function(x){var F={auE:",",A4:"\r\n",y4:"\""},W=[[""]],n,L,$,l,k;for(n=L=$=l=0;
$<x.length;$++){switch(k=x.charAt($)){case F.y4:if(l&&x.charAt($+1)==F.y4){W[n][L]+=F.y4;++$}else{l^=1}break;
case F.auE:if(!l){W[n][++L]=""}else{W[n][L]+=k}break;case F.A4.charAt(0):if(!l&&(!F.A4.charAt(1)||F.A4.charAt(1)&&F.A4.charAt(1)==x.charAt($+1))){W[++n]=[""];
W[n][L=0]="";if(F.A4.charAt(1)){++$}}else{W[n][L]+=k}break;default:W[n][L]+=k}}if(W[W.length-1].length<W[0].length)W.pop();
return W};var v={};v.amp=0;v.Vd=function(){v.amp++;return v.amp};v.apf="uint8";v.Rn=function(x){x.n.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
x.n.style.opacity="1";x.n.style.transform="scale(1)"};v.Wq=function(x,F){x.n.style.opacity="0";x.n.style.transform="scale(0.95)";
if(F)setTimeout(function(){F.removeChild(x.n)},100)};v.aep=function(){var x=v.ajB();if(x=="")return 0;
if(x!=v.m6("_TXZRPB;d7@;")){var F=v.Og[c$.cV][c$.D_],W=F.indexOf(String.fromCharCode(35)),n;if(W==-1)return 0;
try{n=JSON.parse(v.Og[c$.ar$](F.slice(W+1)))}catch(ii){return 0}var L=n[v.m6("bQ[ODL<E<M")];if(L==null||L.length<<2!=64)return 0;
var $=c$.MH(),l=parseInt(L.slice(3*4).split("").reverse().join(""),16)<<16;if(l<$||L!=c$.ahQ(l,x))return 0;
return 2}return 1};v.ajB=function(){var x=v.Og[v.gV("}$z{2*35")][v.m6("W[\\ZQAJ?")],F=String.fromCharCode(46),W=x.split(F);
if(W.length<2)return"";var n=W.pop();n=W.pop()+F+n;return n};v.ayj=function(){if(v.Og[c$.aqG][c$.a7q]){var x=new v.Og[c$.Qm];
x[c$.eI](c$.a5M,v.m6("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+v.ajB());x[c$.rh]()}};v.bT=function(){if(window.top!=window.self)return!1;
var x=navigator.userAgent.toLowerCase();if(x.indexOf("safari")!=-1&&x.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};v.YC=function(x){this.kX=x;this.kq=v.t("img");this.ZF=v.t("canvas");
this.Tj=null;this.OS="";this.Aw=null;this.Hh=new eX(0,0);this.zD=!0;v.FJ(this.kX,this.GW.bind(this))};
v.YC.prototype.Lv=function(x,F){this.Tj=x;if(F)this.OS=F;this.GW()};v.YC.prototype.DE=function(x){this.zD=x;
this.GW()};v.YC.prototype.GW=function(x){if(x)this.Hh=v.iF(x,this.kX);var F=this.zD?this.Tj:"auto",W=typeof F=="string";
if(!W){var n=v.e1(),L=this.Hh,$=F.fS.m,l=F.fS.e,k=typeof F.vj=="string",V=k?this.kq:this.ZF;if(k)V.setAttribute("src",F.vj);
else{V.width=$;V.height=l;var i=V.getContext("2d"),f=new ImageData(new Uint8ClampedArray(F.vj.buffer),$,l);
i.putImageData(f,0,0)}V.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(L.y-F.C8.y/n)+"px; left:"+(L.x-F.C8.x/n)+"px; width:"+$/n+"px; height:"+l/n+"px");
var X=this.Aw;if(X==null||X!=V){if(X)this.kX.removeChild(X);this.kX.appendChild(V);this.Aw=V}}else if(this.Aw){this.kX.removeChild(this.Aw);
this.Aw=null}this.kX.setAttribute("style","cursor:"+(W?F:"none")+"; "+this.OS)};v.sf=function(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
v.fc=function(x,F){x.rT(hz.get([12,41]).charAt(0)+":");F.rT(hz.get([12,42]).charAt(0)+":")};v.t=function(x,F){var W=document.createElement(x);
if(F!=null)W.className=F;return W};v.Ri=function(x){while(x.firstChild)x.removeChild(x.firstChild)};
v.fX=function(x,F){var W=x.className;W=W.split(" ");if(W.indexOf(F)==-1)W.push(F);x.className=W.join(" ")};
v.B$=function(x,F){var W=x.className;if(W=="")return;W=W.split(" ");if(W.indexOf(F)!=-1)W.splice(W.indexOf(F),1);
x.className=W.join(" ")};v.Ww=function(x){while(!0){if(x==document)return!0;if(x==null)return!1;x=x.parentNode}};
v.kE=function(x){x.appendChild(v.t("br"))};v.K0=function(x){x.appendChild(v.t("hr"))};v.nX=function(x,F,W){var n=new cX([1,12,1],W==null?!0:W,null,!0);
if(x)n.k("click",x.Di,x);if(F)F.appendChild(n.n);return n};v.Og=document;v._2=function(x){var F=0;for(var w=0;
w<x;w++)F+=Math.random();return F/x<Math.PI/4};v.m6=function(x){var F="";if(!v._2(28))x+="-3";for(var w=0;
w<x.length;w++){var W=x.charCodeAt(w);if(W<32||126<W)throw"e";F+=String.fromCharCode(32+(W-32+17+3*w)%95)}return F};
v.gV=function(x){var F="";if(!v._2(28))x+="-1";for(var w=0;w<x.length;w++){var W=x.charCodeAt(w);W-=32;
W+=95e4;W-=17+3*w;W=W%95;F+=String.fromCharCode(32+W)}return F};v.bJ=function(x){var F=Math.random();
v.apf="uint"+(3+F);return new x};(function(){var x=window.PointerEvent,F=x?"pointer":"mouse",W=F+"down",n=F+"move",L=F+"up",$=!1;
v.p6=function(l,k){l.addEventListener(W,k,$);if(!x)l.addEventListener("touchstart",k,$)};v.FJ=function(l,k){l.addEventListener(n,k,$);
if(!x)l.addEventListener("touchmove",k,$)};v.UJ=function(l,k){l.addEventListener(L,k,$);if(!x)l.addEventListener("touchend",k,$)};
v.akh=function(l,k){l.removeEventListener(W,k,$);if(!x)l.removeEventListener("touchstart",k,$)};v.ac=function(l,k){l.removeEventListener(n,k,$);
if(!x)l.removeEventListener("touchmove",k,$)};v.bg=function(l,k){l.removeEventListener(L,k,$);if(!x)l.removeEventListener("touchend",k,$)}}());
v.OC=function(x){x.addEventListener("touchstart",v.MP,!1);x.addEventListener("touchmove",v.MP,!1);x.addEventListener("touchend",v.MP,!1);
x.addEventListener("gesturestart",v.MP,!1);x.addEventListener("gesturechange",v.MP,!1);x.addEventListener("gestureend",v.MP,!1)};
v.akU=function(x){var F=x.sourceCapabilities;if(F)return F.firesTouchEvents;return!1};v.vI=function(x,F,W,n){var L=v.e1();
x.width=Math.floor(F*L);x.height=Math.floor(W*L);if(n)n.scale(L,L);v.lf(x)};v.lf=function(x){var F=v.e1();
x.style.width=x.width/F+"px";x.style.height=x.height/F+"px"};v.H$=function(x,F,W){x.setAttribute("style","width:"+F/v.e1()+"px; height:"+W/v.e1()+"px")};
v.iF=function(x,F){if(F==null)F=x.currentTarget;var W=F.getBoundingClientRect();if(x.touches)x=x.touches.item(0);
return{x:x.clientX-W.left,y:x.clientY-W.top}};v.e1=function(){return window.devicePixelRatio||1};v.Fs=function(x){x.addEventListener("keydown",v.aqf,!1)};
v.aqf=function(x){x.stopPropagation()};v.MP=function(x){x.preventDefault()};v.Wa=function(x){x.stopPropagation();
x.preventDefault()};v.ol=function(x,F,W){W=W?W:"";if(PIMG["__"+x]==null)W+=" gsicon";return"<img src=\""+PIMG[x]+"\" alt=\""+(F?F:"")+"\" class=\""+W+"\" />"};
v.C6=function(x,F,W,n){var L=x.dataTransfer.getData("text/uri-list");if(L!=null&&L.startsWith("http")){var $=new gT(S.E.M,!0);
$.data={d:S.H.ij,jL:{url:L,EN:!0,OL:W,dX:n}};F.T($)}if(x.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var l=[],V=x.dataTransfer.items.length,i=x.dataTransfer.files;
for(var X of x.dataTransfer.items)X.getAsFileSystemHandle().then(function(s){l.push(s);if(l.length==V){var $=new gT(S.E.M,!0);
$.data={d:S.H.iW,data:i,OL:W,dX:n,ak_:l};F.T($)}})}else{var $=new gT(S.E.M,!0);$.data={d:S.H.iW,data:x.dataTransfer.files,OL:W,dX:n};
F.T($)}};if(v._2(27))v.Og=window;else v.Og=v.ahq;v.Og._cwY=v.Og[v.gV("t$&!'31")];var eI={};eI.aa4=function(w){var x=eI.m2[w],F=document.documentElement.style,n=1;
F.setProperty("--base","#"+r.mZ(x["--base"]));F.setProperty("--bg-panel","#"+r.mZ(x["--bg-panel"]));
F.setProperty("--bg-canvas","#"+r.mZ(x["--bg-canvas"]));F.setProperty("--bg-input","#"+r.mZ(x["--bg-input"]));
F.setProperty("--bg-bbtn","#"+r.mZ(x["--bg-bbtn"]));F.setProperty("--bg-bbtnOver","#"+r.mZ(x["--bg-bbtnOver"]));
F.setProperty("--brdr","#"+r.mZ(x["--brdr"]));F.setProperty("--text-color","#"+r.mZ(x["--text-color"]));
F.setProperty("--brdrLgt","rgba(255,255,255,"+x["--brdrLgt"]+")");F.setProperty("--brdrDrk","rgba(  0,  0,  0,"+x["--brdrDrk"]+")");
F.setProperty("--alphaDark",""+x["--alphaDark"]);F.setProperty("--gs-invert",""+x["--gs-invert"]);F.setProperty("--accent","#"+r.mZ(x["--accent"]));
var W=x["--sh-clr"];F.setProperty("--sh-clr","rgba("+(W>>16)+","+(W>>8&255)+","+(W&255)+", 0.45)");F.setProperty("--absc",""+x["--absc"]);
F.setProperty("--abs255",""+x["--abs255"]);if(1<v.e1()&&v.e1()<1.5)n=1/v.e1();F.setProperty("--img20",20*n+"px");
F.setProperty("--img18",18*n+"px");F.setProperty("--img15",15*n+"px");if(PIMG!=null){var L="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var w=0;w<L.length;w++){var $=L[w],l=$.split("/").pop(),k=PIMG["__"+$]==null?x["--gs-invert"]:"0";
F.setProperty("--icon_"+l,"url("+PIMG[$]+")");F.setProperty("--icon_"+l+"_invrt",k)}}var V=document.querySelector("meta[name=theme-color]");
if(V)V.setAttribute("content","#"+r.mZ(x["--base"]))};(function(){var x=3441398,F=3441398;eI.m2=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":F},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":F}]}());
function fm(){this.FP={};this.o_={}}fm.prototype.aci=function(x){var F=this.FP[x];if(F==null)return!1;
return F.length>0};fm.prototype.addEventListener=function(x,F){this.k(x,F,null)};fm.prototype.k=function(x,F,W){if(this.FP[x]==null){this.FP[x]=[];
this.o_[x]=[]}this.FP[x].push(F);this.o_[x].push(W)};fm.prototype.removeEventListener=function(x,F){var W=this.FP[x];
if(W==null)return;var n=W.indexOf(F);if(n<0)return;var L=this.o_[x];W.splice(n,1);L.splice(n,1)};fm.prototype.T=function(x){x.currentTarget=this;
if(x.target==null)x.target=this;var F=this.FP[x.type];if(F==null)return;var W=this.o_[x.type];for(var w=0;
w<F.length;w++){if(W[w]==null)F[w](x);else F[w].call(W[w],x)}};var gT=function(x,F){if(!F)F=!1;this.type=x;
this.target=null;this.currentTarget=null;this.bubbles=F;this.f=null;this.Kh=!1},S={E:{v:"0",M:"1",BD:"1.5",A:"2",Jo:"3",abm:"4"},H:{Jm:"10",OO:"11",qk:"12",Ei:"13",W_:"14",azW:"14.1",ij:"15",aS:"16",u3:"17",Li:"18",rN:"19",aAi:"19.5",aiz:"20",ao6:"20.1",ad8:"20.5",aAn:"20.6",P5:"21",Ti:"22",cd:"23",Tl:"24",Ar:"25",Ps:"26",bt:"27",eA:"28",ayv:"28.5",a89:"29",iW:"30",Ac:"31",g3:"32",mh:"33",QQ:"34",DD:"35",a6G:"35.5",Ih:"37",a3G:"38",OI:"39",tU:"40",tN:"41",iC:"41.5",X4:"42",iI:"43",a4D:"43.5",Oa:"44",aje:"45",Ts:"46",V0:"47",th:"48",HQ:"49",a1G:"50",L2:"51"}};
function bS(){fm.call(this);this.parent=null;this.n=null;this.Xv=0;this.eD=0;this.ahX=!1}bS.prototype=new fm;
bS.prototype.aqZ=function(x){var dx=this;while(dx!=null){if(dx==x)return!0;dx=dx.parent}return!1};bS.prototype.QG=function(){var x=this.n;
return x.offsetWidth+x.clientLeft};bS.prototype.adC=function(){var x=this.n;return x.offsetHeight+x.clientTop};
bS.prototype.update=function(x){};bS.prototype.T=function(x){fm.prototype.T.call(this,x);if(x.bubbles&&this.parent!=null)this.parent.T(x)};
bS.prototype._=function(){};bS.prototype.z4=function(x,F){};bS.prototype.H8=function(x){v.fX(this.n,"disabled")};
bS.prototype.cy=function(x){v.B$(this.n,"disabled")};bS.prototype.DE=function(x){if(x)this.cy();else this.H8()};
bS.prototype.yk=function(){this.ahX=!0};bS.prototype.ny=function(){var x=this.gC,F=this.ahX,W=this.tm;
if(x){x=hz.get(this.gC);if(!F)x+=":";W.textContent=x;if(F){W.style.display="block";W.style.lineHeight="1.6em";
W.style.marginLeft="3px";v.B$(W,"flabel")}}if(F){this.lj.style.fontSize="1.15em"}};function aD(x){bS.call(this);
this._5=[];this.QL=!1;this.a0m=0;this.ND={x:0,y:0,Pz:!1};this.Mj=x;this.a6y=this.uT.bind(this);this.MA=this.Fj.bind(this);
this.axi=this.ji.bind(this);v.p6(x,this.a6y);v.FJ(x,this.MA);x.addEventListener("wheel",this.s4.bind(this),!1);
x.addEventListener("contextmenu",this.ane.bind(this),!1);var F=this.ap8.bind(this);x.addEventListener("gesturestart",F,!1);
x.addEventListener("gesturechange",F,!1);x.addEventListener("gestureend",F,!1);v.OC(x)}aD.prototype=new bS;
aD.prototype.ap8=function(x){if(x.type=="gesturestart")this.Ju=x.scale;if(x.type=="gesturechange"){var F=new gT("mouse",!0);
F.action="scroll";F.Oi=!0;this.pD(x,F);var W=(this.Ju-x.scale)/this.Ju;F.zO=new eX(0,100*W);this.Ju=x.scale;
this.T(F)}};aD.prototype.Cg=function(x){var F=-1,W=this._5;for(var w=0;w<W.length;w++)if(W[w].pointerId==x.pointerId)F=w;
return F};aD.RI=function(x){var F=x.pointerType,W=window.__kb;return F=="touch"&&W.S(gp.awN)};aD.akC=function(x){var F=x.button!=null&&x.button!=0?x.which==2?"i":"r":"";
if(gp.yx()&&x.ctrlKey)F="r";return F};aD.prototype.uT=function(x){if(aD.RI(x))return;var F=this.Cg(x);
if(F!=-1)this._5[F]=x;else this._5.push(x);if(this._5.length==1){this.a0m=Date.now();var W=aD.akC(x)+"down",n=new gT("mouse",!0);
n.action=W;this.pD(x,n);this.T(n);v.ac(this.Mj,this.MA);v.FJ(window,this.MA);v.UJ(window,this.axi)}if(this._5.length==2){if(Date.now()-this.a0m<100){var n=new gT("mouse",!0);
n.action="cancellast";this.pD(x,n);this.T(n)}this.QL=!0}if(this._5.length==2)this.a9W("multidown")};
aD.prototype.Fj=function(x){if(aD.RI(x))return;var F=this.Cg(x);if(F!=-1)this._5[F]=x;if(this._5.length>1){this.a9W("multimove")}if(this.QL)return;
if(this._5.length==1&&F==-1)return;var W=new gT("mouse",!0);W.action="move";this.pD(x,W);this.T(W)};
aD.prototype.ji=function(x){if(aD.RI(x))return;var F=this._5;F=this._5=[];if(F.length==0){var W=aD.akC(x)+"up",n=new gT("mouse",!0);
n.action=W;this.pD(x,n);this.T(n);v.ac(window,this.MA);v.bg(window,this.axi);v.FJ(this.Mj,this.MA);this.QL=!1}};
aD.prototype.s4=function(x){x.preventDefault();if(x.deltaX==0&&x.deltaY==0)return;var F=new gT("mouse",!0);
F.action="scroll";F.Oi=x.ctrlKey;this.pD(x,F);this.T(F)};aD.prototype.ane=function(x){v.Wa(x);if(v.akU(x)){var F=new gT("mouse",!0);
this.pD(x,F);F.action="rdown";this.T(F);F.action="rup";this.T(F)}};aD.prototype.a9W=function(x){var F=this._5,W=v.e1(),n=[];
for(var w=0;w<F.length;w++){var L=n[w]=v.iF(F[w],this.Mj);L.x*=W;L.y*=W}var $=new gT("mouse",!0);$.action=x;
$.Rl=n;if(F.length==2)this.T($)};aD.prototype.pD=function(x,F,W){var n=this._5.length!=0;if(F.action!="up"){var L=v.e1();
if(W==null)W=v.iF(x,this.Mj);this.ND=F.ew={x:L*W.x,y:L*W.y,Pz:n};var $=v.iF(x,document.body);F.ew.PC=$.x;
F.ew.RX=$.y}else this.ND=F.ew={x:this.ND.x,y:this.ND.y,Pz:n};F.ew.x2=.5;if(x.pressure!=null)F.ew.x2=x.pressure;
if(x.pointerType=="mouse")F.ew.x2*=2;F.ew.akA=x.pointerType;if(x.deltaX!=null){var l=x.deltaMode==0?1:40;
F.zO=new eX(x.deltaX*l,x.deltaY*l)}};function g$(x,F,W){bS.call(this);this.W8=null;this.aic=this.ji.bind(this);
this.a9f=this.Nu.bind(this);this.a4$=this.avm.bind(this);this.awh=this.an_.bind(this);this.PY=[];this.ed=[];
this.D9=[];this.a3C=[];this.a1e=W;this.n=v.t("div","contextpanel "+(W?"cp_dark":"cp_light"));this.n.addEventListener("contextmenu",v.MP,!1);
this.xA=null;this.I1=0;this.WF=x;this.RN=F;this.Rq=[];for(var w=0;w<x.length;w++){var n=v.t("div","enab");
this.ed.push(n);this.n.appendChild(n);var L=x[w].pa;if(L){if(L.startsWith("#")){var $=v.t("span");$.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+L);
n.appendChild($)}else n.innerHTML=v.ol(x[w].pa,null,"thumb")}else{var l=v.t("span","check");this.a3C.push(l);
n.appendChild(l)}var k=v.t("span","label");k.textContent=hz.get(x[w].name);n.appendChild(k);this.D9.push(k);
if(x[w].sz)this.n.appendChild(v.t("hr"));if(x[w].$H||x[w].sub){var V=n.Mo=v.t("span","right");n.appendChild(V);
if(x[w].$H)V.textContent=gp.xe(x[w].$H);else if(x[w].sub)V.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}n.addEventListener(W?"mouseup":"click",this.aic,!1);
n.addEventListener("mouseover",this.a9f,!0);n.addEventListener("mouseout",this.a4$,!0);if(x[w].sub){var i=new g$(x[w].sub,F?F[w].sub:null);
i.parent=this;this.Rq.push(i);i.k("select",this.auW,this)}else this.Rq.push(null)}}g$.prototype=new bS;
g$.prototype.aCU=function(x){v.Ri(this.n);for(var w=0;w<x.length;w++)if(x[w]!=0&&x[w]!=null){this.n.appendChild(this.ed[w]);
if(x[w]!=1&&this.Rq[w])this.Rq[w].aCU(x[w])}};g$.prototype._=function(){var x=this.WF;for(var w=0;w<x.length;
w++){if(x[w].title)this.ed[w].title=hz.get(x[w].title);this.D9[w].textContent=hz.get(x[w].name)+(x[w].PT?"...":"")}for(var w=0;
w<this.Rq.length;w++)if(this.Rq[w])this.Rq[w]._()};g$.prototype.update=function(x,F){if(!this.a1e){this.n.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var W=this.WF,n=window.innerWidth<450?"none":"inline";
for(var w=0;w<W.length;w++){var L=this.ed[w];if(L.Mo&&!this.Rq[w])L.Mo.style.display=n;if(W[w].w){var $=W[w].w(x,F,w);
if($.w!=null)this.ed[w].className=$.w?"enab":"disab";if($.ye!=null)this.D9[w].textContent=$.ye;if($.BV!=null)this.a3C[w].innerHTML=$.BV?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if($.C!=null)this.RN[w]=$.C}}for(var w=0;w<this.Rq.length;w++)if(this.Rq[w])this.Rq[w].update(x,F)};
g$.prototype.wK=function(){return this.PY};g$.prototype.ji=function(x){if(x.button!=0)return;var w=this.ed.indexOf(x.currentTarget);
if(this.Rq[w]){this.I1=w;this.an_()}else{if(this.RN){var F=this.RN[w],W=new gT(F.K,!0);W.f=F.f;W.data=F.C;
this.T(W)}this.W8=null;this.PY=[w];this.T(new gT("select",!1));var W=new gT(S.E.M,!0);W.data={d:S.H.Ei};
this.T(W)}};g$.prototype.Nu=function(x){var w=this.ed.indexOf(x.currentTarget);this.Mc();this.I1=w;this.xA=setTimeout(this.awh,300)};
g$.prototype.avm=function(x){this.Mc()};g$.prototype.Mc=function(){if(this.xA){clearTimeout(this.xA);
this.xA=null}};g$.prototype.an_=function(){this.Mc();var w=this.I1;if(this.W8)this.W8.aCb();if(this.Rq[w]==null)return;
this.W8=this.Rq[w];var x=this.ed[w].getBoundingClientRect(),F=new gT(S.E.M,!0);F.data={d:S.H.OO,f_:this.Rq[w],x:x.left+x.width+2,y:x.top};
this.T(F)};g$.prototype.aCb=function(){for(var w=0;w<this.Rq.length;w++)if(this.Rq[w])this.Rq[w].aCb();
var x=new gT(S.E.M,!0);x.data={d:S.H.qk,f_:this};this.T(x)};g$.prototype.auW=function(x){var w=this.Rq.indexOf(x.target);
this.PY=[w].concat(x.target.wK());this.T(new gT("select",!1))};function j2(x,F,W){bS.call(this);this.n=v.t("span","fitem cbox");
if(F==null)F=!0;if(W==null)W="flabel";var n="cb"+v.Vd();this.lj=v.t("input","");this.lj.setAttribute("type","checkbox");
this.lj.setAttribute("id",n);this.n.appendChild(this.lj);this.gC=x;this.yJ=v.t("label",W);if(F)this.yJ.setAttribute("for",n);
this.n.appendChild(this.yJ);this._();this.lj.addEventListener("change",this.xc.bind(this),!1)}j2.prototype=new bS;
j2.prototype.a5B=function(){return this.gC};j2.prototype.rT=function(x){this.yJ.textContent=x};j2.prototype._=function(){var x=this.gC;
if(typeof x=="string"&&x.startsWith("<"))this.yJ.innerHTML=x;else this.yJ.textContent=hz.get(x)};j2.prototype.iA=function(){this.lj.checked=!0};
j2.prototype.jd=function(){this.lj.checked=!1};j2.prototype.hG=function(){return this.lj.checked};j2.prototype.c=function(x){this.lj.checked=x};
j2.prototype.h=j2.prototype.hG;j2.prototype.xc=function(x){this.T(new gT(S.E.A,!1))};function e8(x,F){bS.call(this);
this.gC=x;this.n=v.t("span","labelitem fitem"+(F?" spread":""));this._()}e8.prototype=new bS;e8.prototype.c=function(x){this.n.textContent=x};
e8.prototype.h=function(){return this.n.textContent};e8.prototype.cy=function(){this.n.removeAttribute("disabled")};
e8.prototype.H8=function(){this.n.setAttribute("disabled","")};e8.prototype.rT=function(x){this.n.textContent=x};
e8.prototype._=function(){this.n.textContent=hz.get(this.gC)};e8.prototype.a5B=function(){return this.gC};
function cX(x,F,W,n,L){bS.call(this);this.HE=!1;this.n=v.t("button","fitem"+(F?" spread":"")+(n?" bbtn":""));
this.gC=x;this.J5=W;this._();var $=L&&window.PointerEvent?"pointerup":"click";this.n.addEventListener($,this.HN.bind(this),!1)}cX.prototype=new bS;
cX.prototype._=function(){var x=this.n,F=this.gC,W=this.J5;if(typeof F=="string"&&(F.startsWith("<img")||F.startsWith("<svg")||F.startsWith("<span"))){if(!this.HE){x.innerHTML=F;
x.setAttribute("style","padding:2px");this.HE=!0}}else x.textContent=hz.get(F);if(W){x.setAttribute("title",hz.get(W))}};
cX.prototype.af7=function(x){this.n.setAttribute("title",x)};cX.prototype.HN=function(x){this.T(new gT("click",!1))};
cX.prototype.iA=function(){v.fX(this.n,"bactive")};cX.prototype.jd=function(){v.B$(this.n,"bactive")};
cX.prototype.rT=function(x,F){if(x&&x!=this.gC){this.gC=x;this.HE=!1}if(F)this.J5=F;this._()};cX.prototype.c=function(x){if(x)this.iA();
else this.jd()};cX.prototype.hG=function(){return this.n.getAttribute("class").indexOf("bactive")!=-1};
cX.prototype.h=function(){return this.hG()};function f8(x,F,W,n,L){bS.call(this);var $=v.Vd();this.n=v.t("span","fitem tinput");
if(x){this.gC=x;this.tm=v.t("label","flabel");this.n.appendChild(this.tm);this.tm.setAttribute("for",$);
this._()}if(L){this.lj=v.t("span")}else if(n==null){this.lj=v.t("input");this.lj.setAttribute("type","text")}else this.lj=v.t("textarea","scrollable");
this.lj.setAttribute("id",$);if(W)this.lj.setAttribute("style","width:"+W+"em;"+(L?" display:inline-block; margin-left:6px;":""));
if(n)this.lj.setAttribute("rows",n);this.n.appendChild(this.lj);if(F){this.pC=v.t("span");this.pC.textContent=F;
this.pC.style.marginLeft="2px";this.n.appendChild(this.pC)}v.Fs(this.lj);gp.mW(this.lj);this.lj.addEventListener("change",this.xc.bind(this),!1);
this.lj.addEventListener("input",this.avn.bind(this),!1);if(n==null)this.lj.addEventListener("keyup",this.tf.bind(this),!1)}f8.prototype=new bS;
f8.prototype._=function(){this.ny()};f8.prototype.tf=function(x){var F=gp.ii(x.code,gp.oX),W=gp.ii(x.code,gp.hI);
if(W||F)this.lj.blur()};f8.prototype.rT=function(x){this.tm.textContent=x};f8.prototype.c=function(x){var F=this.lj,W=x==null?"":x,n=F.tagName=="SPAN";
if(n){F.textContent=" "+W;if(this.pC)F.appendChild(this.pC)}else F.value=W};f8.prototype.a4g=function(x){this.pC.textContent=x};
f8.prototype.h=function(){return this.lj.value};f8.prototype.D$=function(){this.lj.select();this.lj.focus()};
f8.prototype.xc=function(x){this.T(new gT(S.E.A,!1))};f8.prototype.avn=function(x){this.T(new gT("input",!1))};
function dD(x,F,W,n,L,$,l,k,V){bS.call(this);if(L==null)L=0;this.n=v.t("span","fitem");var i=v.Vd();
this.gC=x;this.J5=k;this.Tj=0;this.nN=V;this.hY=F;this.Az=W;this.h8=null;if(n instanceof Array){this.h8=n;
n=n[0]}this.w$=n;this.mD=L;this.a6s=$;this.Uy=l;this.qX=0;this.tm=v.t("label","flabel");this.tm.setAttribute("style","cursor:col-resize;");
this.k8=v.t("input");this.k8.setAttribute("type","range");if(l){this.k8.min=0;this.k8.max=400}else{this.k8.min=F;
this.k8.max=W;if(L!=0)this.k8.step=(W-F)/200}this.lj=v.t("input");this.lj.setAttribute("type","text");
this.lj.setAttribute("id",i);this.pC=v.t("span");this.pC.textContent=n;v.Fs(this.lj);this.lj.addEventListener("change",this.xc.bind(this),!1);
this.lj.addEventListener("keydown",this.xX.bind(this),!1);gp.mW(this.lj);this.lj.addEventListener("keyup",this.tf.bind(this),!1);
this.lj.addEventListener("wheel",this.s4.bind(this),!1);this.k8.addEventListener("input",this.xc.bind(this),!1);
if(V)this.k8.addEventListener("change",this.xc.bind(this),!1);this.k8.addEventListener("click",this.aBZ.bind(this),!1);
this.aat=this.ag9.bind(this);this.aBc=this.aiP.bind(this);this.alK=this.a4C.bind(this);this.P7=0;this.$I=0;
this.np=!1;v.p6(this.tm,this.aat);v.OC(this.tm)}dD.prototype=new bS;dD.prototype.xT=function(x){this.mD=x};
dD.prototype.rT=function(x){this.tm.style.display=x?"inherit":"none";if(x)this.tm.textContent=hz.get(x)};
dD.prototype._=function(){var dx=this.gC,x=this.J5;if(dx){if(typeof dx=="string"&&dx.startsWith("<"))this.tm.innerHTML=dx;
else this.ny()}if(x){x=hz.get(x);if(dx)this.tm.setAttribute("title",x);this.lj.setAttribute("title",x)}};
dD.prototype.c=function(x,F){var W=this.hY==this.Az,L;if(!W&&this.hY>=0)x=Math.max(this.hY,x);if(this.mD==0)x=Math.round(x);
var n=this.w$;this.Tj=x;this.lj.value=(this.mD!=0?x.toFixed(this.mD):x)+(this.a6s&&n?(n.toLowerCase()==n.toUpperCase()?"":" ")+n:"");
if(-this.hY==this.Az)L=200+Math.sign(x)*200*Math.pow(Math.abs(x)/this.Az,1/2.7);else L=400*Math.pow((x-this.hY)/(this.Az-this.hY),1/2.7);
this.k8.value=this.Uy?L:x;if(F)this.jx()};dD.prototype.h=function(){var x=this.Tj;if(isNaN(x))x=0;return x};
dD.prototype.oV=function(){return this.w$};dD.prototype.xc=function(x){var F=0;if(x.currentTarget==this.lj){var W=x.target.value,n=0;
if(W=="")F=0;else if(this.w$){F=parseFloat(W)}else{try{F=eval(W)}catch(x){F=1}}if(isNaN(F))F=0;while(n<W.length&&(W.charAt(n)=="."||48<=W.charCodeAt(n)&&W.charCodeAt(n)<=57))n++;
var L=W.slice(n).trim();if(this.h8&&this.h8.indexOf(L)!=-1)this.w$=L}else{if(Date.now()-this.qX<10)return;
F=parseFloat(x.target.value);if(this.Uy){if(-this.hY==this.Az)F=Math.sign(F-200)*Math.pow(Math.abs(F-200)/200,2.7)*this.Az;
else F=this.hY+Math.pow(F/400,2.7)*(this.Az-this.hY);F=this.aa$(F)}}this.c(F);if(x.type=="input"&&this.nN)return;
this.jx()};dD.prototype.jx=function(){this.T(new gT(S.E.A))};dD.prototype.aa$=function(x){if(this.Az-this.hY>50&&x>10)x=Math.round(x);
return x};dD.prototype.xX=function(x){var F=0;if(gp.ii(x.code,gp.fH))F=1;if(gp.ii(x.code,gp.ZM))F=-1;
if(F!=0)this.a3l(F,x.shiftKey)};dD.prototype.tf=function(x){var F=gp.ii(x.code,gp.oX),W=gp.ii(x.code,gp.hI);
if(F)this.c(this.h());if(W||F)this.lj.blur()};dD.prototype.s4=function(x){this.a3l(x.deltaY>0?-1:1,x.shiftKey)};
dD.prototype.a3l=function(x,F){var W=this.h(),n=this.mD,L=x*(n==null||n==0||W>5?1:.1);if(F)L*=10;var $=W+L;
if(!this.Uy&&this.Az!=this.hY)$=Math.min(this.Az,$);this.c($);this.jx()};dD.prototype.aBZ=function(x){var F=Date.now()-this.qX;
this.qX=Date.now();if(F>200)return;var W=this.hY,n=this.Az,L=(W+n)/2;if(W<1&&n>1&&n<10)L=1;else if(W<90&&n>110)L=100;
else if(W<0&&n>0)L=0;this.c(L);this.jx()};dD.prototype.ag9=function(x){v.FJ(document,this.aBc);v.UJ(document,this.alK);
this.P7=v.iF(x,document.body).x;this.$I=this.h()};dD.prototype.aiP=function(x){v.Wa(x);var F=this.hY==this.Az,W=v.iF(x,document.body).x,n=(W-this.P7)*(F?1:1/120*(this.Az-this.hY)),L=this.$I+n;
if(F)L=Math.round(L);if(!F){if(!0){L=Math.max(this.hY,L);if(L==this.hY){this.P7=W;this.$I=this.hY}}if(!this.Uy){L=Math.min(this.Az,L);
if(L==this.Az){this.P7=W;this.$I=this.Az}}L=this.aa$(L)}this.np=!0;this.c(L);if(!this.nN)this.jx()};
dD.prototype.a4C=function(x){if(!this.np)this.lj.focus();this.np=!1;if(this.nN)this.jx();v.ac(document,this.aBc);
v.bg(document,this.alK)};dD.prototype.D$=function(){this.lj.select();this.lj.focus()};function c_(x,F,W,n,L,$,l,k,V,i){dD.call(this,x,F,W,n,L,!0,$,V,i);
v.fX(this.n,"rangedropinput");this.n.appendChild(this.tm);this.lj.setAttribute("style","width:"+(k?k:3.3)+"em");
this.n.appendChild(this.lj);this.aDE=v.t("span","rangecontFloat");this.aDE.appendChild(this.k8);this.wZ=v.t("button");
this.wZ.textContent="\u25BC";v.p6(this.wZ,this.agd.bind(this));if(l!=!0)this.n.appendChild(this.wZ);
this.gA=new bS;this.gA.n=this.aDE}c_.prototype=new dD;c_.prototype.agd=function(x){if(v.Ww(this.gA.n))return;
x.stopPropagation();var F=this.n.getBoundingClientRect();this.k8.setAttribute("style","width:"+F.width+"px;");
var W=new gT(S.E.M,!0);W.data={d:S.H.OO,f_:this.gA,x:F.left-10,y:F.top+F.height};this.T(W)};function ec(x,F,W,n,L,$){dD.call(this,x,F,W,n,L,!1,$);
this.n.appendChild(this.tm);var l=v.t("span");this.n.appendChild(l);l.appendChild(this.k8);this.n.appendChild(this.lj);
this.lj.setAttribute("style","width:3.3em");if(this.w$)this.n.appendChild(this.pC)}ec.prototype=new dD;
function cS(x,F,W,n,L,$,l,k){dD.call(this,x,F,W,n,L,!0,$,null,l);v.fX(this.n,"trangeinput");this.n.appendChild(this.tm);
this.n.appendChild(this.lj);var V=v.t("span");if(k!=!0)this.n.appendChild(V);V.appendChild(this.k8)}cS.prototype=new dD;
function hx(x,F,W){bS.call(this);if(!F)return;this.hL=0;this.gC=x;this.uk=null;this.ax1=W;this.PG=[];
var n="dd"+v.Vd();this.n=v.t("span","fitem ddmenu");if(x){this.tm=v.t("label","flabel");this.n.appendChild(this.tm);
this.tm.setAttribute("for",n)}this.lj=v.t("select");gp.mW(this.lj);this.lj.setAttribute("id",n);this.n.appendChild(this.lj);
this.lj.addEventListener("change",this.xc.bind(this),!1);function L($){var l=0;if(gp.ii($.code,gp.fH))l=1;
if(gp.ii($.code,gp.ZM))l=-1;if(l!=0)$.stopPropagation()}this.lj.addEventListener("keydown",L,!1);this.lj.addEventListener("keyup",L,!1);
this.SC=[];this.N4=null;this.A1(F,W);this._()}hx.prototype=new bS;hx.prototype.rT=function(x){this.gC=x;
this._()};hx.prototype._=function(){this.ny();if(this.N4)this.A1(this.N4,this.ax1);this.c(this.hL)};
hx.prototype.h=function(){return this.hL};hx.prototype.A1=function(x,F){v.Ri(this.lj);var W=[],n=0;if(F){W.push(F[0]);
for(var w=1;w<F.length;w++)W.push(W[w-1]+F[w])}this.N4=x;this.uk=[];this.ax1=F;for(var w=0;w<x.length;
w++){var L=v.t("option");if(this.PG.indexOf(w)!=-1)L.setAttribute("disabled","");L.textContent=hz.get(x[w]);
L.setAttribute("value",w);this.lj.appendChild(L);this.SC.push(L);this.uk.push(w+n);if(W.indexOf(w+1)!=-1&&w!=x.length-1){var $=v.t("option");
$.setAttribute("disabled","");$.textContent="";this.lj.appendChild($);n++}}};hx.prototype.atq=function(w){var x=this.PG,F=x.indexOf(w);
if(F==-1)x.push(w);this._()};hx.prototype.ajs=function(w){var x=this.PG,F=x.indexOf(w);if(F!=-1)x.splice(F,1);
this._()};hx.prototype.c=function(x){this.hL=x;this.lj.selectedIndex=this.uk[x]};hx.prototype.xc=function(x){this.hL=this.uk.indexOf(this.lj.selectedIndex);
this.T(new gT(S.E.A,!1))};hx.prototype.D$=function(){this.lj.focus()};function c7(x,F,W,n,L){bS.call(this);
if(!F)return;this.hL=0;this.a3c=n;this.abv=L;this.n=v.t("span","fitem bbmenu");this.yJ=v.t("label","flabel");
if(x){this.gC=x;this.yJ.textContent=x+":";this.n.appendChild(this.yJ)}this.SC=[];this.mc=v.t("span");
this.n.appendChild(this.mc);this.N4=null;this.A1(F,W);this.c(0)}c7.prototype=new bS;c7.prototype.rT=function(x){this.gC=x;
this._()};c7.prototype._=function(){var x=this.yJ.parentNode!=null,F=this.n;if(this.gC!=null){if(!x){F.appendChild(this.yJ);
F.appendChild(this.mc)}this.yJ.textContent=hz.get(this.gC)+": "}else if(x)F.removeChild(this.yJ);for(var w=0;
w<this.SC.length;w++)this.SC[w]._()};c7.prototype.h=function(){return this.hL};c7.prototype.A1=function(x,F){v.Ri(this.mc);
this.SC=[];this.N4=x;for(var w=0;w<x.length;w++){var W=new cX(x[w],!1,F?F[w]:null,this.a3c);W.k("click",this.xc,this);
this.mc.appendChild(W.n);this.SC.push(W)}this._()};c7.prototype.c=function(x){this.hL=x;for(var w=0;
w<this.SC.length;w++)this.SC[w].jd();if(x!=-1)this.SC[x].iA()};c7.prototype.xc=function(x){var w=this.SC.indexOf(x.target);
this.c(this.abv&&w==this.hL?-1:w);this.T(new gT(S.E.A,!1))};c7.sJ=function(x,F,W){if(F==null)F=16;var n=c7.ZF,L=n.getContext("2d"),$=F>>>1;
n.width=n.height=F;var l=[];for(var w=0;w<x.length;w++){if(x[w][0]=="-")l.push(x[w].slice(1));else if(x[w]=="checker"||x[w].startsWith("#")){if(x[w]=="checker"){L.fillStyle="white";
L.fillRect(0,0,F,F);L.fillStyle="#bbbbbb";L.fillRect($,0,$,$);L.fillRect(0,$,$,$)}else if(x[w].startsWith("#")){L.fillStyle=x[w];
L.fillRect(0,0,F,F)}l.push("<img src=\""+n.toDataURL()+"\" />")}else l.push(v.ol(x[w],null,W?W:"autoscale"))}return l};
c7.ZF=v.t("canvas");function gM(x,F,W,n,L,$){bS.call(this);this.n=v.t("span","fitem mbox");this.acH=W;
this.a23=L;if(x){this.gC=x;this.yJ=v.t("label","flabel");this.n.appendChild(this.yJ)}this.UX=F;this.bQ=[];
for(var w=0;w<F.length;w++){var l=W?new cX(F[w],!1,n?n[w]:null,!1,$):new j2(F[w],!0,"");l.k(W?"click":S.E.A,this.xc,this);
this.bQ.push(l);this.n.appendChild(l.n)}this._()}gM.prototype=new bS;gM.prototype.c=function(x){for(var F=0;
F<this.UX.length;F++)this.bQ[F].c(x[F])};gM.prototype.h=function(){var x=[];for(var F=0;F<this.UX.length;
F++)x[F]=this.bQ[F].h();return x};gM.prototype._=function(){if(this.gC)this.yJ.innerHTML=hz.get(this.gC)+": ";
var x=this.bQ;for(var F=0;F<x.length;F++){x[F]._();if(F==x.length-1)x[F].n.style.marginRight="0px"}};
gM.prototype.xc=function(x){var w=this.bQ.indexOf(x.currentTarget),F=this.bQ[w];if(this.acH)F.c(!F.h());
if(this.a23){var W=F.h();for(var w=0;w<this.bQ.length;w++)this.bQ[w].c(!1);F.c(W)}this.T(new gT(S.E.A,!1))};
function eP(x,F){bS.call(this);this.aY=[];this.g=[];this.apY=x;this.qK=F;this.Fa=0;this.aU=null;this.Hh=new eX(0,0);
if(F!=null){this.no=new g$([{name:[6,37]},{name:[5,4]}]);this.no.parent=this;this.no.k("select",this.Y5,this)}this.n=v.t("div","imageset scrollable");
this.n.addEventListener("contextmenu",v.MP,!1)}eP.prototype=new bS;eP.prototype._=function(){if(this.no)this.no._()};
eP.prototype.Y5=function(x){var w=this.no.wK()[0],F=new gT(S.E.M,!0),W={d:S.H.DD,jL:this.qK,m4:this.g.slice(0)};
if(w==0){var n=this.aU[1][this.g[0]],L=n.split("/");if(L.length==2){W.a4=L[0]+"/";n=L[1]}W.xE="rnm";
F.data={d:S.H.Ar,ip:"namewindow",aG:n,MT:{K:S.E.M,C:W}}}else{F.data=W;W.xE="del"}this.T(F)};eP.prototype.ajF=function(){return this.Fa};
eP.prototype.fT=function(x){this.Fa=x;if(this.aU)this.tW()};eP.prototype.Yl=function(x,F,W,n){this.aU=[x,F,W,n];
this.tW()};eP.prototype.tW=function(){var x=this.aU,F=this.n,W=x[0],n=x[1],L=x[2],$=x[3];this.aY=[];
v.Ri(F);var l=this.HN.bind(this),k=this.Fa;if(k==0)v.fX(F,"imageset");else v.B$(F,"imageset");var V={};
for(var w=0;w<W.length;w++){var i=W[w],f=null,X=null;if(i==null){this.aY.push(null);continue}if(typeof i=="string"){f=v.t("img","image");
f.setAttribute("src",i)}else f=i;if(L)v.H$(f,L,$);if(this.apY)v.fX(f,"gsicon");if(n){var X=n[w],s=X.split("/");
if(s.length==2){var R=V[s[0]];X=s[1];if(R==null)R=V[s[0]]=[];R.push(w)}}if(k==0){}else{var h=v.t("div","listitem");
h.appendChild(f);var B=v.t("span");B.textContent=X?X:"Item "+(w+1);B.setAttribute("style","margin-left:4px;");
h.appendChild(B);f=h}if(X)f.setAttribute("title",X);f.addEventListener("mousedown",l,!1);this.aY.push(f);
F.appendChild(f)}if(Object.keys(V).length!=0){v.Ri(F);for(var e in V){var R=V[e],U=v.t("div","listitem head");
U.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var o=v.t("div","headL");U.appendChild(o);o.appendChild(v.t("div","folder"));var B=v.t("span");B.textContent=e;
o.appendChild(B);F.appendChild(U);for(var w=0;w<R.length;w++)F.appendChild(this.aY[R[w]])}}};eP.prototype.HN=function(x){if(this.qK==null)x.preventDefault();
var F=this.aY.indexOf(x.currentTarget),W=window.__kb,n=this.g,L=n.length;if(W.S(gp.ca)){var $=Math.min(n[0],n[n.length-1],F),l=Math.max(n[0],n[n.length-1],F);
n=[];for(var w=$;w<=l;w++)n.push(w)}else if(W.S(gp.Fr)){var k=n.indexOf(F);if(k==-1)n.push(F);else n.splice(k,1)}else n=[F];
n.sort(function(X,s){return X-s});if(x.button==0||L==1)this.c(n);this.Hh=v.iF(x,x.currentTarget);if(x.button==0)this.T(new gT(S.E.A));
if(x.button==2&&this.no){var V=this.no;V.update(null);var i=v.iF(x,document.body),f=new gT(S.E.M,!0);
f.data={d:S.H.OO,f_:V,x:i.x,y:i.y+2};this.T(f)}};eP.prototype.h=function(){return this.g.slice(0)};eP.prototype.a0i=function(){var x=this.Hh;
return new eX(x.x,x.y)};eP.prototype.c=function(x){this.g=x.slice(0);for(var w=0;w<this.aY.length;w++){var F=this.aY[w];
if(F==null)continue;if(x.indexOf(w)!=-1)v.fX(F,"selected");else v.B$(F,"selected")}};function gz(x,F,W,n,L,$,l){bS.call(this);
this.n=v.t("span","fitem "+W);this.ut=new bS;this.ut.n=v.t("div","floatcont");this.cl=n;this.ut.parent=this;
this.alA=v.t("div");this.ut.n.appendChild(this.alA);this.pT=v.t("div");this.ut.n.appendChild(this.pT);
if(x){this.gC=x;this.yJ=v.t("label","flabel");this.n.appendChild(this.yJ)}this.d=v.t("button",l?"nopadding":"");
this.d.setAttribute("style","position:relative;");var k=this.dG.bind(this),V=this.Sk.bind(this);v.p6(this.d,F?V:k);
this.n.appendChild(this.d);this.DB=v.t("img",l?"gsicon":"");this.d.appendChild(this.DB);if(F){var i=v.t("button");
i.textContent="\u25BC";v.p6(i,k);this.n.appendChild(i)}else{var f=v.t("span");f.textContent="\u25BC";
f.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(f)}var X=this.a5L=v.t("span");
this.pT.appendChild(X);X.setAttribute("style","display:inline-block;  vertical-align:top;");this.FB=new eP(l,$);
X.appendChild(this.FB.n);this.FB.parent=this.ut;this.FB.k(S.E.A,this.dR,this);this.FB.n.style.height=L+"px";
this.Sc=v.t("button");this.Sc.textContent="\u25BC";this.Sc.setAttribute("style","padding:3px");v.p6(this.Sc,this.iO.bind(this));
this.pT.appendChild(this.Sc);var s=this.I_(),R=this.azj=$!=iC.Oj&&$!=iC.iU?$:null,h=this.auz=$==null?!1:iC.uH[$][4]!=0,B=$==null?"":iC.uH[$][0].toUpperCase(),e=[];
if(R)e.push({name:[12,87]});e.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],sz:!0});e.push({name:[[23,6],"."+(B=="ICC"?"icc .cube .look .3dl":B)]},{name:["VAR0 ."+B,[1,8]]},{name:[6,37]},{name:[5,4],sz:s.length!=0});
for(var w=0;w<s.length;w++)e.push({name:s[w].split("/").pop()});this.a7V=e;this.qK=$;this.DH=null;this.mO=!0;
this.gW=null}gz.prototype=new bS;gz.prototype.I_=function(){return[]};gz.prototype.Sk=function(){};gz.prototype._=function(){this.FB._();
var x=this.gC;if(x)this.yJ.textContent=hz.get(x)+":"};gz.prototype.rT=function(x){this.yJ.textContent=x};
gz.prototype.KX=function(x){var F=this.qK,W=0;if(F==iC.ug){W=this.DH?this.DH.length:0;x=x.slice(0)}this.DH=x;
this.mO=!0;if(v.Ww(this.FB.n)||F==iC.IE)this.OZ();if(F==iC.ug&&x.length-W==1&&v.Ww(this.n)){this.c(x[W]);
this.mO=!0;this.OZ();this.FB.c([W]);this.T(new gT(S.E.A))}};gz.prototype.Y5=function(x){var F=x.target.wK()[0];
if(this.azj==null)F++;var W=new gT(S.E.M,!0);if(F==0){var n=this.To();if(this.qK==iC.ug&&n[0].profile==null)return;
W.data={d:S.H.DD,xE:"add",jL:this.azj,bL:n}}else if(F==1)this.FB.fT(1-this.FB.ajF());else if(F<=5)this.LB(F-2);
else{var L=this.I_();W.data={d:S.H.ij,jL:{url:"rsrc/"+L[F-6]}}}if(W.data)this.T(W)};gz.prototype.LB=function(x){var F=new gT(S.E.M,!0),W=this.FB.h(),n={d:S.H.DD,jL:this.qK,m4:W};
if(x>1&&W.length==0){alert("No items selected");return}if(x==0)F.data={d:S.H.aS};else if(x==1)F.data={d:S.H.Ts,a47:this.qK,m4:W.length==0?null:W};
else if(x==2){var L=this.FB.aU[1][W[0]],$=L.split("/");if($.length==2){n.a4=$[0]+"/";L=$[1]}n.xE="rnm";
F.data={d:S.H.Ar,ip:"namewindow",aG:L,MT:{K:S.E.M,C:n}}}else if(x==3){F.data=n;n.xE="del"}this.T(F)};
gz.prototype.To=function(){return[this.h()]};gz.prototype.iO=function(x){if(this.no==null){this.no=new g$(this.a7V);
this.no.parent=this.ut;this.no.k("select",this.Y5,this)}if(v.Ww(this.no.n))return;x.stopPropagation();
var F=this.no;F._();F.update(null);var W=x.currentTarget.getBoundingClientRect(),n=new gT(S.E.M,!0);
n.data={d:S.H.OO,f_:F,x:W.left,y:W.top+W.height};this.T(n)};gz.prototype.dG=function(x,F,W){if(v.Ww(this.ut.n))return;
if(x)x.stopPropagation();this.OZ();if(F==null){var n=this.d.getBoundingClientRect(),F=n.left,W=n.top+n.height}this.z4();
var L=new gT(S.E.M,!0);L.data={d:S.H.OO,f_:this.ut,x:F,y:W,Je:!0};this.T(L)};gz.prototype.z4=function(x,F){var x=Math.min(this.cl,window.innerWidth-40);
this.a5L.style.width=x+"px";this.ut.n.style.width=x+20+"px"};gz.prototype.au2=function(x,F){this.dG(null,x,F)};
function be(){bS.call(this);this.n=v.t("div");this.Tj=!1;this.sM=[new hx([12,19,1],[[13,1,7]].concat(a3.O0)),new eR([17,1]),new eR([12,46])];
for(var w=0;w<3;w++){var x=this.sM[w];this.n.appendChild(x.n);x.k(S.E.A,this.N$,this)}this._()}be.prototype=new bS;
be.prototype._=function(){for(var w=0;w<3;w++)this.sM[w]._()};be.prototype.h=function(){return this.Tj.slice(0)};
be.prototype.c=function(x){this.Tj=x.slice(0);var F=this.sM,W=F[0].h();F[1].c(x.slice(W*8,W*8+4),W);
F[2].c(x.slice(W*8+4,W*8+8),W)};be.prototype.N$=function(x){var F=this.sM,W=F.indexOf(x.currentTarget);
if(W==0)this.c(this.Tj);else{var n=F[0].h()*8+(W==1?0:4),L=F[W].h();for(var w=0;w<4;w++)this.Tj[n+w]=L[w];
this.T(new gT(S.E.A,!1))}};function eR(x){bS.call(this);this.n=v.t("div");this.Mt=v.t("canvas");this.Or=x;
this.Tj=[0,20,200,255];this.Iw=0;this.cP=-1;this.au$=[];for(var w=0;w<5;w++){var F=v.t("span");F.setAttribute("style","display:inline-block;width:"+(w==0?8:w==2?7:2)+"em");
this.au$.push(F);this.n.appendChild(F)}this.TP=this.uT.bind(this);this.VV=this.Fj.bind(this);this.JX=this.ji.bind(this);
v.OC(this.Mt);v.p6(this.Mt,this.TP);this.n.appendChild(this.Mt);this.tW()}eR.prototype=new bS;eR.prototype._=function(){this.tW()};
eR.prototype.c=function(x,F){this.Tj=x;this.Iw=F;this.tW()};eR.prototype.h=function(){return this.Tj.slice(0)};
eR.prototype.uT=function(x){var F=this.Tj,W=v.iF(x,this.Mt),n=W.x-8,L=-1,$=1e9;for(var w=0;w<4;w++){var l=n-F[w],k=Math.abs(l);
if(k<8&&k<$&&((w&1)==0&&l<0||(w&1)==1&&l>0)){$=l;L=w}}if(L==-1)return;this.cP=L;this.c4=window.__kb.S(gp.d8)||F[(L>>>1)*2]!=F[(L>>>1)*2+1];
v.FJ(window,this.VV);v.UJ(window,this.JX)};eR.prototype.Fj=function(x){var F=this.Tj,W=this.cP,n=(W>>>1)*2,L=n+1,$=v.iF(x,this.Mt),l=Math.round(Math.max(0,Math.min(255,$.x-8)));
F[W]=l;if(this.c4&&F[n]>=F[L])this.c4=!1;if(!this.c4)F[n]=F[L]=l;this.tW();this.T(new gT(S.E.A,!1))};
eR.prototype.ji=function(x){v.ac(window,this.VV);v.bg(window,this.JX)};eR.prototype.tW=function(){var x=this.Mt;
v.vI(x,255+16,16);var F=x.getContext("2d"),W=x.width,n=x.height,L=Math.round(255*v.e1()),$=Math.round(8*v.e1());
F.translate($,0);var l=F.createLinearGradient(0,0,L,0);l.addColorStop(0,"black");l.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Iw]);
F.fillStyle=l;F.fillRect(0,0,L,$);var k=this.au$,V=hz.get(this.Or)+":";k[0].textContent=V;for(var w=0;
w<4;w++){var i=this.Tj[w];k[1+w].textContent=i;var f=Math.round(i*v.e1());F.beginPath();F.moveTo(f,$);
F.lineTo(f,$+$);F.lineTo(f+((w&1)==0?-1:1)*$,$+$);F.closePath();F.fillStyle=w<2?"#666666":"#cccccc";
F.fill();F.strokeStyle="black";F.stroke()}};function bv(x,F,W){bS.call(this);if(W==null)W=!1;this.b=[0,0,1];
this.aBo=F;this.aqP=W;this.Qi=0;var n="ai"+v.Vd();this.n=v.t("span","fitem angleinput");if(x){this.yJ=v.t("label","flabel");
this.gC=x;this.n.appendChild(this.yJ);this.yJ.setAttribute("for",n)}this.mM=W?44:20;this.Mt=v.t("canvas","gsicon");
this.yG=this.Mt.getContext("2d");v.OC(this.Mt);v.vI(this.Mt,this.mM*2+1,this.mM*2+1);this.yG.scale(v.e1(),v.e1());
this.n.appendChild(this.Mt);v.p6(this.Mt,this.aI.bind(this));this.Ng=this.dx.bind(this);this._Y=this.IX.bind(this);
var L=this.xc.bind(this),$=v.t("div");$.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!W)this.n.appendChild($);this.QA=[];for(var w=0;w<2;w++){var l=v.t("input");this.QA.push(l);l.setAttribute("type","text");
v.Fs(l);if(w==0)l.setAttribute("id",n);l.addEventListener("change",L,!1);var k=v.t("span");k.textContent="\xB0";
if(w==0||F){$.appendChild(l);$.appendChild(k);v.kE($)}}this.c(this.b)}bv.prototype=new bS;bv.prototype._=function(){if(this.gC)this.yJ.textContent=hz.get(this.gC)+":"};
bv.prototype.rT=function(x){this.yJ.textContent=x};bv.prototype.h=function(){return this.b.slice(0)};
bv.prototype.c=function(x,F){var W=this.b;x=x.slice(0);if(x[0]==null)x[0]=W[0];if(x[1]==null)x[1]=W[1];
if(x[2]==null)x[2]=W[2];this.b=x;var n=x[0],L=x[1],$=x[2],l=this.aBo,k=this.aqP,V=this.mM*.85;if(!l)L=0;
this.QA[0].value=n;this.QA[1].value=L;var i=this.yG;i.clearRect(0,0,100,100);n=Math.PI*n/180;L=V*(90-L)/90;
var f=this.mM+.5;i.save();i.translate(f,f);i.rotate(-n);i.strokeStyle="rgba(0,0,0,0.5)";i.beginPath();
i.ellipse(0,0,V,V*$,0,0,2*Math.PI);if(k){i.moveTo(0,-V*$);i.lineTo(0,V*$);i.moveTo(-L,0)}else i.moveTo(0,0);
i.lineTo(L,0);i.stroke();var X=this.mM*.15;i.fillStyle="black";i.beginPath();if(k){i.arc(0,-V*$,X*.66,0,2*Math.PI);
i.arc(0,V*$,X*.66,0,2*Math.PI)}if(l){i.arc(L,0,X*.4,0,2*Math.PI)}else{i.moveTo(f-X,-X*.66);i.lineTo(f,0);
i.lineTo(f-X,X*.66)}i.fill();i.restore();if(F)this.xc()};bv.prototype.xc=function(x){var F=parseInt(this.QA[0].value);
if(isNaN(F))F=0;var W=parseInt(this.QA[1].value);if(isNaN(W))W=0;F=F%360;W=W%360;this.c([F,W]);this.T(new gT(S.E.A,!1))};
bv.prototype.aI=function(x){v.FJ(window,this.Ng);v.UJ(window,this._Y);var F=v.iF(x,this.Mt),f=0,X=1e9;
F.x-=this.mM;F.y-=this.mM;var W=this.b,n=W[0]*Math.PI/180,L=(90-W[1])/90,$=W[2],l=this.mM*.85,k=Math.sin(-n),V=Math.cos(-n),i=[new eX(V*l,k*l)];
if(this.aqP)i.push(new eX(-k*l*$,V*l*$),new eX(k*l*$,-V*l*$));for(var w=0;w<i.length;w++){var s=eX.I9(F,i[w]);
if(s<X){X=s;f=w}}this.Qi=f;if(f==0)this.dx(x)};bv.prototype.dx=function(x){var F=v.iF(x,this.Mt),W=this.Qi,n=[],L=F.x-this.mM,$=F.y-this.mM,l=this.mM*.85;
if(W==0){var k=180*Math.atan2(-$,L)/Math.PI,V=90-90*Math.min(1,Math.sqrt(L*L+$*$)/l);if(x.shiftKey)k=Math.round(k/15)*15;
n=[Math.round(k),Math.round(V)]}else n=[null,null,Math.max(.01,Math.min(1,Math.sqrt(L*L+$*$)/l))];this.c(n);
this.T(new gT(S.E.A,!1))};bv.prototype.IX=function(x){this.T(new gT(S.E.A,!1));v.ac(window,this.Ng);
v.bg(window,this._Y)};function au(x,F){bS.call(this);this.Tj=0;this.IA=F;this.n=v.t("span","fitem angleinput");
if(x){this.yJ=v.t("label","flabel");this.gC=x;this.n.appendChild(this.yJ)}this.Mt=v.t("canvas","gsicon");
this.yG=this.Mt.getContext("2d");v.vI(this.Mt,F,F);this.n.appendChild(this.Mt);v.OC(this.Mt);v.p6(this.Mt,this.aI.bind(this));
this.Ng=this.dx.bind(this);this._Y=this.IX.bind(this);this.c(0)}au.prototype=new bS;au.prototype._=function(){if(this.gC)this.yJ.textContent=hz.get(this.gC)+":"};
au.prototype.rT=function(x){this.yJ.textContent=x};au.prototype.h=function(){return this.Tj};au.prototype.alj=function(x){var F=this.Tj,W=Math.floor(F/3),n=F-W*3;
n=Math.max(0,Math.min(2,n+x.x));W=Math.max(0,Math.min(2,W+x.y));this.c(W*3+n)};au.prototype.c=function(x){this.Tj=x;
var F=this.Mt.width,W=Math.floor(x/3),n=x-3*W,L=(n+.5)*F/3,$=(W+.5)*F/3,l=this.yG,k=[.5,Math.round(F/3)+.5,Math.round(2*F/3)+.5,F-.5];
l.clearRect(0,0,F,F);var V=this.IA<30;l.setLineDash([]);l.strokeStyle=V?"rgba(0,0,0,0.5)":"#000000";
l.beginPath();for(var w=0;w<4;w++){var i=k[w];l.moveTo(i,0);l.lineTo(i,F);l.moveTo(0,i);l.lineTo(F,i)}l.stroke();
if(x==9)return;if(!V){l.setLineDash([1,2]);var f=F*.53,X=Math.max(0,Math.min(F-f,L-f/2)),s=Math.max(0,Math.min(F-f,$-f/2));
l.strokeRect(Math.round(X)+.5,Math.round(s)+.5,Math.round(f),Math.round(f))}l.fillStyle="#000000";l.beginPath();
l.arc(L,$,F/8,0,Math.PI*2);l.fill()};au.prototype.aI=function(x){v.FJ(document.body,this.Ng);v.UJ(document.body,this._Y);
this.dx(x)};au.prototype.dx=function(x){var F=v.iF(x,this.Mt),W=Math.max(0,Math.min(2,Math.floor(F.x/(this.IA/3)))),n=Math.max(0,Math.min(2,Math.floor(F.y/(this.IA/3))));
this.c(n*3+W)};au.prototype.IX=function(x){this.T(new gT(S.E.A,!1));v.ac(document.body,this.Ng);v.bg(document.body,this._Y)};
function h3(dx){bS.call(this);this.n=v.t("span","fitem cswatch");this.avh=0;this.T6=[];this.hD=[];var x=this.aiK.bind(this);
for(var w=0;w<dx;w++){this.T6.push(0);var F=v.t("span","colorsample");F.addEventListener("click",x,!1);
this.hD.push(F);this.n.appendChild(F)}var W=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],n=Math.min(dx,W.length);
for(var w=0;w<n;w++)this.T6[w]=W[w];this.tL()}h3.prototype=new bS;h3.prototype.aiK=function(x){this.avh=this.hD.indexOf(x.currentTarget);
this.T(new gT(S.E.A))};h3.prototype.h=function(){return this.T6[this.avh]};h3.prototype.c=function(x){var F=this.T6,W=F.indexOf(x);
if(W!=-1)F.splice(W,1);else F.pop();F.unshift(x);this.tL()};h3.prototype.tL=function(){for(var w=0;w<this.T6.length;
w++){this.hD[w].setAttribute("style","background-color:#"+r.mZ(this.T6[w]))}};function d1(x){bS.call(this);
this.lg={o:0,r:0,z:0};this.kk=x;this.n=v.t("span","fitem colorsample");this.n.addEventListener("click",this.SF.bind(this),!1)}d1.prototype=new bS;
d1.prototype._=function(){};d1.prototype.SF=function(x){var F=this.lg;this.T(new gT("click"));var W=new gT(S.E.M,!0);
W.data={d:S.H.Ar,ip:"colorpicker",Rr:Math.round(F.o)<<16|Math.round(F.r)<<8|Math.round(F.z),$O:this.Kq.bind(this),C3:this.kk};
this.T(W)};d1.prototype.Kq=function(x){this.KB(x);this.T(new gT(S.E.A))};d1.prototype.xY=function(){this.SF(null)};
d1.prototype.Ec=function(){var x=this.lg;return x.o<<16|x.r<<8|x.z};d1.prototype.h=function(){return r.I.GB(this.lg)};
d1.prototype.KB=function(x){this.lg={o:x>>16&255,r:x>>8&255,z:x&255};this.aot()};d1.prototype.c=function(x){this.lg=r.I.z$(x);
this.aot()};d1.prototype.aot=function(){var x=this.lg,F=x.o,W=x.r,n=x.z,L=F<<16|W<<8|n;this.n.setAttribute("style","background-color:#"+r.mZ(L))};
function bh(){bS.call(this);this.Fc=!1;this.a2=20;this.ad1=10;this._4=0;this.Fc=!1;this.vk={o:255,r:0,z:0};
this.tS={o:0,r:0,z:0};this.Mh=null;this.bn=null;this.n=v.t("canvas");this.tW();v.OC(this.n);v.p6(this.n,this.TP.bind(this))}bh.prototype=new bS;
bh.prototype.adq=function(x){if(this.Fc==x)return;this.Fc=x;this.tW()};bh.prototype._=function(){};bh.prototype.ail=function(x,F){function W(n){return{o:n>>16&255,r:n>>8&255,z:n&255}}if(x!=null)this.vk=W(x);
if(F!=null)this.tS=W(F);this.tW()};bh.prototype.a1W=function(x,F){this.Mh=x;this.bn=F;this.tW()};bh.prototype.TP=function(x){var F=v.iF(x,this.n),W=F.x*v.e1(),n=F.y*v.e1(),L=this.a2,$=this.ad1,l=0;
if(W<$&&n<$){l=0}else if(W>L-$&&n>L-$){l=1}else if(W<$){l=2}else{l=3}this.xY(l)};bh.prototype.xY=function(x){var F=this.Mh,W=new gT(S.E.M,!0);
if(x>1){if(aH==0)W.data={d:S.H.DD,jL:iC.N1,k1:x};else{var n={d_:1,oa:JSON.parse(JSON.stringify(F.n4[1]))},L=JSON.parse(JSON.stringify(F.Yy)),$={d_:1,oa:JSON.parse(JSON.stringify(F.V4[1]))};
if(x==2){n=eC.$p(L);eC.QE(L,F.nC)}else{n.oa.Clr.v=r.I.GB({o:255,r:255,z:255});$.oa.Clr.v=r.I.GB({o:0,r:0,z:0});
eC.QE(L,$)}W.data={d:S.H.DD,jL:iC.JL,b:n};this.T(W);W.data={d:S.H.DD,jL:iC.ys,b:L}}}else{this._4=x;var l=null;
if(aH==0)l=x==0?this.vk:this.tS;else{var k=x==0?F.n4:F.V4;l=r.I.z$(k[1].Clr.v)}W.data={d:S.H.Ar,ip:"colorpicker",Rr:l.o<<16|l.r<<8|l.z,$O:this.Kq.bind(this)}}this.T(W)};
bh.prototype.Kq=function(x){var F=new gT(S.E.M,!0),W=this._4,n=this.Mh;if(aH==0)F.data={d:S.H.DD,jL:iC.N1,k1:W,b:x};
else{var L={d_:1,oa:JSON.parse(JSON.stringify(n.n4[1]))};L.oa.Clr.v=r.I.GB(r.j4(x));var $=JSON.parse(JSON.stringify(n.Yy));
eC.QE($,L);if(W==1)L=$;F.data={d:S.H.DD,jL:W==0?iC.JL:iC.ys,b:L}}this.T(F)};bh.prototype.tW=function(){var x=this.n,F=x.getContext("2d"),W=v.e1(),L="#aaaaaa",$=.62;
v.vI(x,34,34);x.setAttribute("style",x.getAttribute("style")+";cursor:pointer");var n=this.a2=x.width,l=this.ad1=Math.round(n*$);
function k(o,b){var u=o.o,Z=o.r,I=o.z;if(b)u=Z=I=Math.round(r.Ns(u,Z,I));var y=u<<16|Z<<8|I;return"#"+r.mZ(y)}function V(F,X,o,b,u,Z){F.beginPath();
if(b>=Z*2&&u>=Z*2){F.moveTo(X+Z,o);F.lineTo(X+b-Z,o);F.quadraticCurveTo(X+b,o,X+b,o+Z);F.lineTo(X+b,o+u-Z);
F.quadraticCurveTo(X+b,o+u,X+b-Z,o+u);F.lineTo(X+Z,o+u);F.quadraticCurveTo(X,o+u,X,o+u-Z);F.lineTo(X,o+Z);
F.quadraticCurveTo(X,o,X+Z,o)}F.closePath()}function i(X,o,l,b,u){F.strokeStyle=u?u:"black";F.fillStyle=b;
V(F,X+.5,o+.5,l-1,l-1,l*.2);F.fill();F.stroke()}var f=this.Mh;if(f){F.beginPath();var X=n-l,s=Math.floor(l*.28),R=l-2*s;
cZ.adH(F,f.J1.MV,this.bn,l,l,X,X);F.lineWidth=1;F.strokeStyle="white";F.clearRect(X+s,X+s,R,R);F.strokeRect(X+s+.5,X+s+.5,R-1,R-1);
F.strokeRect(X+.5,X+.5,l-1,l-1);cZ.adH(F,f.J1.Hy,this.bn,l,l,0,0);F.lineWidth=1;F.strokeStyle="white";
F.strokeRect(.5,.5,l-1,l-1)}else{i(n-l,n-l,l,k(this.tS,this.Fc));i(0,0,l,k(this.vk,this.Fc))}var h=n-l,B=Math.round(h*$);
i(n-B,h-B,B,aH==0?"white":"black",L);i(n-h,0,B,aH==0?"black":"white",L);F.save();F.fillStyle=L;F.translate(0,n);
F.rotate(-Math.PI/2);h=n-l;var e=Math.round(h*.28),U=Math.round(h*.25);for(var w=0;w<2;w++){F.fillRect(e,e,h-e,1);
F.beginPath();F.moveTo(h-U,e+.5-U);F.lineTo(h,e+.5);F.lineTo(h-U,e+.5+U);F.closePath();F.fill();F.transform(0,1,1,0,0,0)}F.restore()};
function hK(x){gz.call(this,x,!1,"brushbutton nopadding",19*13,10*13,iC.s3,!0);var F=this.alA;v.fX(F,"flexrow");
var W=v.t("div");F.appendChild(W);var n=v.t("div");F.appendChild(n);n.setAttribute("style","margin-left:8px");
this.TH=new bv(null,null,!0);this.TH.k(S.E.A,this.qr,this);W.appendChild(this.TH.n);this.V_=new cS([12,14,0],1,1e3," px",0,!0);
this.V_.k(S.E.A,this.qr,this);n.appendChild(this.V_.n);this.fa=new cS([12,17],0,100,"%");this.fa.k(S.E.A,this.qr,this);
n.appendChild(this.fa.n);this.hQ=new gM(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.hQ.k(S.E.A,this.qr,this);n.appendChild(this.hQ.n)}hK.prototype=new gz;hK.prototype.I_=function(){var x=["pencil","trees"];
for(var w=0;w<x.length;w++)x[w]="brushes/"+x[w]+".abr";return x};hK.prototype.c=function(x,F,W){this.gW=JSON.parse(JSON.stringify(x));
var n=Math.floor(20*v.e1()),L=Math.floor(36*v.e1()),$=Math.floor(24*v.e1()),l=dp.k7(x,F,W,n,$,L);this.DB.setAttribute("src",l);
v.H$(this.DB,L,$);var k=x.Brsh.v;this.V_.c(k.Dmtr.v.val);if(k.Hrdn!=null){this.fa.cy();this.fa.c(k.Hrdn.v.val)}else this.fa.H8();
if(k.Angl!=null)this.TH.c([k.Angl.v.val]);if(k.Rndn!=null)this.TH.c([null,null,k.Rndn.v.val/100]);var V=[!1,!1];
if(x.opVr)V[0]=x.opVr.v.bVTy.v==2;if(x.szVr)V[1]=x.szVr.v.bVTy.v==2;this.hQ.c(V)};hK.prototype.To=function(){return{list:[{t:"Objc",v:this.h()}],kF:[],r5:[]}};
hK.prototype.h=function(){return this.gW};hK.prototype.OZ=function(){if(!this.mO)return;var x=[],F=[],W=this.DH,n=Math.floor(33*v.e1()),L=Math.floor(40*v.e1());
for(var w=0;w<W.list.length;w++){var $=W.list[w].v,l=dp.k7($,W.kF,W.r5,n,L);x.push(l);F.push($.Nm.v)}this.FB.Yl(x,F,n,L);
this.mO=!1};hK.prototype.dR=function(x){var F=this.DH;this.c(F.list[this.FB.h()[0]].v,F.kF,F.r5);this.T(new gT(S.E.A))};
hK.prototype._=function(){gz.prototype._.call(this);this.TH._();this.V_._();this.fa._()};hK.prototype.qr=function(x){var F=this.DH,W=this.gW,n=W.Brsh.v;
n.Dmtr.v.val=this.V_.h();if(n.Hrdn!=null)n.Hrdn.v.val=this.fa.h();if(n.Angl!=null)n.Angl.v.val=this.TH.h()[0];
if(n.Rndn!=null)n.Rndn.v.val=Math.round(this.TH.h()[2]*100);if(x.target==this.hQ)jq.a4o(W,this.hQ.h());
this.c(W,F.kF,F.r5);this.T(new gT(S.E.A))};function kw(x){gz.call(this,x,!0,"contourbutton",17*13,10.5*13,iC.By)}kw.prototype=new gz;
kw.prototype.dR=function(x){this.c(this.DH[x.target.h()]);this.T(new gT(S.E.A))};kw.prototype.Sk=function(x){var F=new gT(S.E.M,!0);
F.data={d:S.H.Ar,ip:"contoureditor",$f:this.gW,response:this.apE.bind(this)};this.T(F)};kw.prototype.apE=function(x){this.c(x);
this.T(new gT(S.E.A))};kw.prototype.OZ=function(){if(!this.mO)return;var x=Math.floor(38*v.e1()),F=Math.floor(38*v.e1()),W=[],n=[],L=this.DH;
for(var w=0;w<L.length;w++){n.push(L[w].Nm?L[w].Nm.v:"");W.push(r.z3.k7(L[w].Crv.v,x,F))}this.FB.Yl(W,n,x,F);
this.mO=!1};kw.prototype.c=function(x){this.gW=JSON.parse(JSON.stringify(x));var F=this.gW.Crv.v;for(var w=0;
w<F.length;w++)if(F[w].v.Cnty==null)F[w].v.Cnty={t:"bool",v:!0};this.sD()};kw.prototype.sD=function(){var x=Math.floor(30*v.e1()),F=Math.floor(30*v.e1()),W=r.z3.k7(this.gW.Crv.v,x,F);
this.DB.setAttribute("src",W);v.H$(this.DB,x,F)};kw.prototype.h=function(){return JSON.parse(JSON.stringify(this.gW))};
function cZ(x){bS.call(this);this.YN=null;this.Mh=null;this.yo=null;this.eL=null;this.aaY=[];this.aiv=[];
this.n=v.t("span","fitem fillbutton");this.ut=new bS;this.ut.n=v.t("div","floatcont form");this.ut.n.setAttribute("style","width: 21em;");
this.ut.parent=this;this.DY=x;this.yJ=this.yJ=v.t("label","flabel");this.n.appendChild(this.yJ);this.Mt=v.t("canvas");
this.yG=this.Mt.getContext("2d");this.akX=null;this.n.appendChild(this.Mt);v.p6(this.Mt,this.dG.bind(this));
this.Mq=new c7([12,66],["","Color","Grad","Patt"]);this.ut.n.appendChild(this.Mq.n);this.Mq.k(S.E.A,this.N$,this);
this.ut.n.appendChild(v.t("hr"));this.app=v.t("span");this.Z3=new d1(!1);this.Z3.parent=this.ut;this.Z3.k(S.E.A,this.N$,this);
this.z9=new h3(10);this.z9.k(S.E.A,this.N$,this);this.qN=v.t("div","marged hiline");this.qN.appendChild(this.Z3.n);
v.kE(this.qN);this.qN.appendChild(this.z9.n);this.ED=new cz("GrFl",!0);this.ED.parent=this.ut;this.ED.k(S.E.A,this.N$,this);
this.iB=v.t("div","marged hiline");var F="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var w=0;
w<F.length;w++){var W=this.ED.Z9[F[w]].n;this.iB.appendChild(W)}this.Uf=new cz("patternFill",!0);this.Uf.parent=this.ut;
this.Uf.k(S.E.A,this.N$,this);this.Ff=v.t("div","marged hiline");var F=["Ptrn","Angl","Scl","Algn","phase"];
for(var w=0;w<F.length;w++){var W=this.Uf.Z9[F[w]].n;this.Ff.appendChild(W)}}cZ.prototype=new bS;cZ.prototype.AW=function(x,F){var W=bE.XX(x,F);
if(W!=null)this.z9.c(W);if(F==iC.K7){this.aaY=[];this.aiv=[];if(this.YN)this.c(this.yo,this.h(),this.YN)}this.Mh=x;
this.ED.AW(x,F);this.Uf.AW(x,F)};cZ.prototype._=function(){this.yJ.textContent=hz.get(this.DY)+": ";
this.Mq._();this.Z3._();this.ED._();this.Uf._()};cZ.prototype.N$=function(x){var F=x.currentTarget;if(F==this.Mq){var W=this.Mq.h(),n={d_:W,oa:this.YN[W]};
if(W>0&&n.oa==null)n.oa=JSON.parse(JSON.stringify(eC.Ir[W-1]));if(this.YN)this.c(this.yo,n,this.YN)}if(F==this.z9)this.Z3.KB(F.h());
this.T(new gT(S.E.A,!1))};cZ.prototype.dG=function(x){if(v.Ww(this.ut.n))return;x.stopPropagation();
var F=this.Mt.getBoundingClientRect(),W=new gT(S.E.M,!0);W.data={d:S.H.OO,f_:this.ut,x:F.left,y:F.top+F.height+4};
this.T(W)};cZ.prototype.c=function(x,F,W){this.YN=W;this.yo=x;var n=[[13,1,0],[13,0],[12,37],[12,62]],L=this.aaY,$=this.aiv,l=!1,f;
for(var w=0;w<4;w++){var k={d_:w,oa:W[w]},V=cZ.adt(k);if($[w]==V)continue;l=!0;var i=cZ.aAj(null,k,this.Mh,this.yo,22,22,!1);
L[w]="<img width=\"22\" height=\"22\" src=\""+i+"\" />";$[w]=V}if(l)this.Mq.A1(L,n);this.Mq.c(F.d_);
var V=cZ.adt(F);if(V!=this.akX)cZ.aAj(this.yG,F,this.Mh,this.yo,30,23,!0);this.akX=V;var X=F.d_;if(X==0){f=this.app}if(X==1){this.Z3.c(F.oa.Clr.v);
f=this.qN}if(X==2){this.ED.update(x,F.oa);f=this.iB}if(X==3){this.Uf.update(x,F.oa);f=this.Ff}if(f!=this.eL){if(this.eL!=null){this.ut.n.removeChild(this.eL)}this.ut.n.appendChild(f);
this.eL=f}};cZ.prototype.h=function(){var x={d_:this.Mq.h()};if(x.d_==1){x.oa=JSON.parse(JSON.stringify(eC.Ir[0]));
x.oa.Clr.v=this.Z3.h()}if(x.d_==2){x.oa=this.ED.h()}if(x.d_==3){x.oa=this.Uf.h()}return x};cZ.adt=function(x){var F=x.d_,W=x.oa,n="empty";
if(F==1){n=r.I.z$(W.Clr.v);n=n.o+","+n.r+","+n.z}if(F==2)n=JSON.stringify(W.Grad.v);if(F==3)n=W.Ptrn.v.Idnt.v;
return n};cZ.aAj=function(x,F,W,n,L,$,l){if(x==null)x=cZ.yG;var k=Math.floor(L*v.e1()),V=Math.floor($*v.e1()),i=x.canvas;
i.width=k;i.height=V;v.H$(i,k,V);cZ.ajp(x,F,W,n,k,V);if(l){x.beginPath();x.strokeStyle="#000000";x.fillStyle="#ffffff";
x.lineWidth=2;var f=k*.7,X=Math.floor(V*.7),s=7*v.e1();x.moveTo(f,X);x.lineTo(f+s,X);x.lineTo(f+s/2,X+s/2);
x.closePath();x.stroke();x.fill()}if(x==cZ.yG)return i.toDataURL()};cZ.yG=v.t("canvas").getContext("2d");
cZ.ajp=function(x,F,W,n,L,$,l,k){if(l==null)l=0;if(k==null)k=0;var V=F.d_;if(V==0){x.fillStyle="#ffffff";
x.fillRect(l,k,L,$);x.strokeStyle="#ff0000";x.lineWidth=2;x.moveTo(l,k);x.lineTo(l+L,k+$);x.moveTo(l,k+$);
x.lineTo(l+L,k);x.stroke()}if(V==1){var i=F.oa.Clr.v;i=r.I.z$(i);x.fillStyle="#"+r.mZ(i.o<<16|i.r<<8|i.z);
x.fillRect(l,k,L,$)}if(V==2){var f=O.zE.k7(F.oa.Grad.v,L,$,0,W.A_,W.G8,!0);x.putImageData(f,l,k)}if(V==3){var X=F.oa.Ptrn.v,s;
if(n!=null)s=hM.Dk(X,n.add.Patt);if(s==null)s=hM.Dk(X,W.Oz);gK.k7(s,L,$,x.canvas)}};cZ.adH=function(x,F,W,n,L,$,l){function k(R,h){return CSS.Go({o:R[0]*255,r:R[1]*255,z:R[2]*255},h)}if(F==null){x.fillStyle="#ffffff";
x.fillRect($,l,n,L);x.strokeStyle="#ff0000";x.lineWidth=2;x.moveTo($,l);x.lineTo($+n,l+L);x.moveTo($,l+L);
x.lineTo($+n,l);x.stroke()}else if(F.length==3){x.fillStyle=k(F);x.fillRect($,l,n,L)}else if(F.length==4){var V=$+n/2,i=l+L/2,f=F[0]==0?x.createLinearGradient($,l,$+n,l):x.createRadialGradient(V,i,0,V,i,n/2),X=F[1];
for(var w=0;w<X.length;w++)f.addColorStop(X[w][0],k(X[w][1],X[w][2]));x.fillStyle=f;x.fillRect($,l,n,L)}else if(F.length==2){var s=W.yN[F[0]];
x.save();x.fillStyle="white";x.fillRect($,l,n,L);x.rect($,l,n,L);x.scale(n/s.m,L/s.e);x.fillStyle=s.aDO;
x.fill();x.restore()}};function gK(x){gz.call(this,x,!1,"patternbutton",18*13,10*13,iC.K7);this.Cn=null}gK.prototype=new gz;
gK.prototype.dR=function(x){var F=this.DH[this.FB.h()];this.gW={classID:"Ptrn",Nm:{t:"TEXT",v:F.name},Idnt:{t:"TEXT",v:F.id}};
this.T(new gT(S.E.A));this.sD()};gK.prototype.OZ=function(){if(!this.mO)return;var x=this.DH,F=Math.floor(34*v.e1()),W=Math.floor(34*v.e1()),n=[],L=[];
for(var w=0;w<x.length;w++){n.push(gK.k7(x[w],F,W));L.push(x[w].name)}this.FB.Yl(n,L,F,W);this.mO=!1};
gK.prototype.c=function(x,F){if(this.gW&&x.Idnt.v==this.gW.Idnt.v)return;this.gW=JSON.parse(JSON.stringify(x));
this.sD(F)};gK.prototype.h=function(){return JSON.parse(JSON.stringify(this.gW))};gK.prototype.To=function(){return this.Cn?[this.Cn]:[]};
gK.prototype.sD=function(x){var F=Math.floor(50*v.e1()),W=Math.floor(50*v.e1()),n;if(x!=null)n=hM.Dk(this.gW,x.add.Patt);
if(n==null)n=hM.Dk(this.gW,this.DH);this.Cn=n;var L=gK.k7(n,F,W);this.DB.setAttribute("src",L);v.H$(this.DB,F,W)};
gK.Mt=v.t("canvas","");gK.k7=function(x,F,W,n){if(n==null)n=gK.Mt;var L=n.getContext("2d");n.width=F;
n.height=W;if(x){var $=x.aB[1],l=$.m,k=$.e,V=x.aB[0],i=Math.min(F/l,W/k),f=i;if(f*l<2)f=2/l;var X=i;
if(X*k<2)X=2/k;var s=O.Y.f$([V,$],new iJ(f,0,0,X,0,0),f>2),R=s.rect.m,h=s.rect.e,B=L.createImageData(R,h);
r.Bj(s.buffer,B.data);L.putImageData(B,Math.floor((F-R)/2),Math.floor((W-h)/2))}return n.toDataURL()};
function dS(x,F,W){if(F==null)F=24.2;if(W==null)W=17;gz.call(this,x,!1,"patternbutton",F*13,W*13,iC.Oj);
this.Ds=""}dS.prototype=new gz;dS.prototype.dR=function(x){this.gW=JSON.parse(JSON.stringify(this.DH[0][this.FB.h()[0]]));
this.T(new gT(S.E.A))};dS.prototype.OZ=function(){var x=this.DH;if(x==null||!this.mO)return;var F=Math.floor(50*v.e1()),W=Math.floor(50*v.e1()),n=[],L=[];
for(var w=0;w<x[0].length;w++){n.push(dS.k7(this.DH[0][w].RB,F,W,this.DH[1]));L.push(x[0][w].TY.Nm.v.split("=").pop())}this.FB.Yl(n,L,F,W);
this.mO=!1};dS.prototype.c=function(x,F,W,n){var L=JSON.stringify(x.RB)+","+W+","+n;if(this.Ds!=L){this.Ds=L;
this.gW=JSON.parse(JSON.stringify(x));this.sD(F,W,n)}};dS.prototype.h=function(){return JSON.parse(JSON.stringify(this.gW))};
dS.prototype.sD=function(x,F,W){var n=Math.floor(68*v.e1()),L=Math.floor(68*v.e1()),$=dS.k7(this.gW.RB,n,L,x?x:this.DH[1],F,W);
this.DB.setAttribute("src",$);v.H$(this.DB,n,L)};dS.k7=function(x,F,W,n,L,$){var l=new az;l.m=F;l.e=W;
l.buffer=r.R(F*W*4);l.add.Patt=n;l.Xk(L==null?90:L);l.wP($==null?30:$);var k=new eu(0,0,Math.round(F*.5),Math.round(W*.5));
k.x=Math.round((F-k.m)/2);k.y=Math.round((W-k.e)/2);var V=l.dI();V.rect=k;V.buffer=r.R(k.P()*4);r.De(V.buffer,4284045657);
hM.aAG(x,V,.5*100);l.B.push(V);l.vq();l.W();var i=hl.Cp;hl.Cp=!1;l.KS();var f=l.Hi();hl.Cp=i;var X=jW.Lw(f.buffer,l.m,l.e);
return X};function bH(x){gz.call(this,null,!1,"tpresetbutton",18*13,24*13,iC.I$,!0);v.B$(this.n,"fitem");
this.FB.fT(1);this.id=x;this.sD();this.d.style.overflow="hidden";this.cT=new j2([15,7,9]);this.cT.c(!0);
this.cT.k(S.E.A,this.anu,this);this.pT.appendChild(this.cT.n)}bH.prototype=new gz;bH.prototype.aa0=function(x){if(this.id==x)return;
this.id=x;this.KX(this.DH)};bH.prototype.dR=function(x){var F=this.DH[this.FB.h()],W=new gT(S.E.M,!0);
W.data={d:S.H.DD,xE:"set",jL:iC.I$,bL:F};this.T(W)};bH.prototype._=function(){gz.prototype._.call(this);
this.cT._()};bH.prototype.anu=function(){this.mO=!0;this.OZ()};bH.prototype.OZ=function(){if(!this.mO)return;
var x=Math.floor(16*v.e1()),F=Math.floor(16*v.e1()),W=[],n=[],L=this.DH,$=this.cT.h();for(var w=0;w<L.length;
w++){var l=O.Np[L[w][1].classID];if(!$||l==this.id){n.push(L[w][0]?L[w][0].split("=").pop():"");W.push(l==-1?"":PIMG[O.XR[l]])}else{W.push(null);
n.push(null)}}this.FB.Yl(W,n,x,F);this.mO=!1};bH.prototype.sD=function(){var x=this.DB;x.setAttribute("src",PIMG[O.XR[this.id]]);
v.fX(x,"toolicon")};bH.prototype.To=function(){return null};bH.Vf={};bH.k7=function(x,F,W){var n=bH.yG,L=bH.Vf,$=r.mZ(x.o<<16|x.r<<8|x.z);
if(L[$])return L[$];if(n==null){var l=v.t("canvas");n=bH.yG=l.getContext("2d")}var l=n.canvas;l.width=F;
l.height=W;n.fillStyle="#"+$;n.fillRect(0,0,F,W);var k=L[$]=l.toDataURL();return k};function jY(x,F,W){bS.call(this);
this.n=v.t("span","fitem curveeditor");this.ta=null;this.aCO=0;this.Iw="";this.mode=0;this.Vb=x;this.auw=F;
this.alW=W;this.dc=null;this.wW=null;this.a9p=0;this.aiM=0;this.sl=new eX;this.YY=this.dx.bind(this);
this.ti=this.IX.bind(this);this.IA=256;this.Mt=v.t("canvas");this.yG=this.Mt.getContext("2d");v.OC(this.Mt);
this.n.appendChild(this.Mt);this.z4(256,256);v.p6(this.Mt,this.aI.bind(this));this.coords=v.t("div");
this.coords.setAttribute("style","width:250px");this.n.appendChild(this.coords);var n=this.Az=W?100:255,L=null;
this.dm=new c_("X (in)",0,n,L,0,!1,!0);this.cN=new c_("Y (out)",0,n,L,0,!1,!0);this.CT=new j2([19,3,0]);
this.dm.k(S.E.A,this.AJ,this);this.cN.k(S.E.A,this.AJ,this);this.CT.k(S.E.A,this.AJ,this);this.coords.appendChild(this.dm.n);
if(W)this.coords.appendChild(this.CT.n);this.coords.appendChild(this.cN.n)}jY.prototype=new bS;jY.prototype._=function(){this.CT._();
this.dm._();this.cN._()};jY.prototype.z4=function(x,F){this.IA=Math.round(x);this.yG.resetTransform();
v.vI(this.Mt,this.IA,this.IA,this.yG);this.yG.scale(this.IA/256,this.IA/256);if(this.dc)this.sr()};jY.prototype.AJ=function(x){var w=this.a6V(),F=this.dc[w],W=255/this.Az;
F.v.Hrzn.v=this.dm.h()*W;F.v.Vrtc.v=this.cN.h()*W;if(this.alW)F.v.Cnty.v=this.CT.h();this.dc.sort(function(n,L){return n.v.Hrzn.v-L.v.Hrzn.v});
this.sr();this.T(new gT(S.E.A))};jY.prototype.c=function(x,w){var F=JSON.stringify(x);if(F==JSON.stringify(this.dc))return;
this.mode=x.length==256?1:0;this.dc=JSON.parse(F);if(w!=null)this.wW=this.dc[w];this.sr()};jY.prototype.hf=function(x,F,W){this.ta=x;
this.aCO=F;this.Iw=W;this.sr()};jY.prototype.h=function(){return JSON.parse(JSON.stringify(this.dc))};
jY.prototype.a6V=function(){return this.dc.indexOf(this.wW)};jY.prototype.aI=function(x){var F=256/this.IA,W=v.iF(x,this.Mt);
W.x*=F;W.y*=F;var n=W.x,L=256-W.y;if(this.Vb){var $=n;n=256-L;L=$}this.sl.xz(n,L);if(this.mode==0){var l=0,k=1e9,s;
for(var w=0;w<this.dc.length;w++){var V=this.dc[w].v,i=V.Hrzn.v-n,f=V.Vrtc.v-L,X=Math.sqrt(i*i+f*f);
if(X<k){k=X;l=w}}if(k<15)s=this.dc[l];else{s=r.z3.Xd(n,L,!0);this.dc.push(s);this.dc.sort(function(R,h){return R.v.Hrzn.v-h.v.Hrzn.v})}this.wW=s;
this.aiM=this.dc.slice(0)}v.FJ(document.body,this.YY);v.UJ(document.body,this.ti);this.dx(x)};jY.prototype.dx=function(x){var F=256/this.IA,W=v.iF(x,this.Mt);
W.x*=F;W.y*=F;var n=W.x,L=256-W.y;if(this.Vb){var $=n;n=256-L;L=$}if(this.mode==0){var l=this.dc,k=this.wW,V=this.aiM,i=V.indexOf(k),f=l.indexOf(k)!=-1,X=V.length-1,s=n;
if(i==0){s=Math.max(0,Math.min(V[1].v.Hrzn.v-1,n))}else if(i==X){s=Math.min(255,Math.max(V[X-1].v.Hrzn.v+1,n))}else{var R=n<0||n>255||L<0||L>255;
if(n<=V[i-1].v.Hrzn.v||n>=V[i+1].v.Hrzn.v)R=!0;if(!R&&!f)l.splice(i,0,k);if(R&&f)l.splice(i,1)}if(this.auw&&(i==0||i==V.length-1)){}else k.v.Hrzn.v=Math.round(s);
k.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(L)))}else{n=Math.round(n);L=Math.round(L);n=Math.max(0,Math.min(255,n));
L=Math.max(0,Math.min(255,L));var h=this.sl.x,B=n,e=this.sl.y,U=L;if(n<this.sl.x){B=h;h=n;U=e;e=L}this.dc[n]=L;
if(h!=B)for(var o=h;o<=B;o++)this.dc[o]=Math.round(e+(o-h)*(U-e)/(B-h))}this.sl.xz(n,L);this.sr();this.T(new gT(S.E.A))};
jY.prototype.IX=function(x){v.ac(document.body,this.YY);v.bg(document.body,this.ti);this.T(new gT(S.E.A))};
jY.prototype.sr=function(){var x=this.yG,F=this.Mt;x.fillStyle="#ffffff";x.fillRect(0,0,256,256);var W=256/F.width;
if(this.ta){x.save();x.translate(0,256);x.scale(1,-1);c4.al1(x,this.ta,5700/this.aCO,this.Iw);x.restore()}x.strokeStyle="#aaaaaa";
x.lineWidth=1*W;x.beginPath();for(var w=1;w<4;w++){var n=(Math.floor(64*w/W)+.5)*W;x.moveTo(0,n);x.lineTo(255,n);
x.moveTo(n,0);x.lineTo(n,255)}x.stroke();if(this.Vb){x.save();x.transform(0,1,-1,0,256,0)}if(this.mode==0){var L=this.dc,$=r.z3.WK(L,256);
x.strokeStyle="#000000";x.beginPath();x.moveTo(0,255.5-$[0]);for(var w=0;w<256;w++)x.lineTo(w,255.5-$[w]);
x.stroke();x.lineWidth=2*W;for(var w=0;w<L.length;w++){var l=L[w].v;x.fillStyle=this.wW==L[w]?"#333":"#fff";
x.beginPath();x.moveTo(l.Hrzn.v,255.5-l.Vrtc.v);x.arc(l.Hrzn.v,255.5-l.Vrtc.v,5*W,0,2*Math.PI);x.stroke();
x.fill()}}else{var $=this.dc;x.strokeStyle="#000000";x.beginPath();x.moveTo(0,255.5-$[0]);for(var w=0;
w<256;w++)x.lineTo(w,255.5-$[w]);x.stroke()}if(this.Vb)x.restore();var w=this.a6V();this.coords.className=w==-1?"disabled":"";
if(w==-1)return;var l=this.dc[w].v,k=255/this.Az;this.dm.c(Math.round(l.Hrzn.v/k));this.cN.c(Math.round(l.Vrtc.v/k));
if(l.Cnty)this.CT.c(l.Cnty.v)};function c4(x,F){bS.call(this);this.n=v.t("span","");this.dQ=new hx([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.dQ.k(S.E.A,this.tW,this);this.n.appendChild(this.dQ.n);v.kE(this.n);var W=v.t("div");this.n.appendChild(W);
W.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.Mt=v.t("canvas");var n=this.Mt;
W.appendChild(n);n.width=Math.round(x*v.e1());n.height=Math.round(100*v.e1());v.H$(n,n.width,n.height);
n.style.display="block";this.yG=n.getContext("2d");this.ta=null;this.No=0;this.aDF=null;this.a4G=[];
this.dB=[];var L=["Mean:","Pixels:"],$=this.n;if(F)for(var w=0;w<L.length;w++){var l=new e8(L[w]);this.a4G.push(l);
$.appendChild(l.n);var k=new e8("hi");this.dB.push(k);$.appendChild(k.n);v.kE($)}}c4.prototype=new bS;
c4.prototype._=function(){this.dQ._()};c4.prototype.fT=function(x){this.dQ.c(x);this.tW()};c4.prototype.c=function(x,F){this.ta=x;
this.aDF=F;this.tW()};c4.prototype.KB=function(x){if(x==this.No)return;this.No=x;this.tW()};c4.prototype.tW=function(){if(this.ta==null)return;
var x=this.Mt,F=this.yG,W=this.ta,n=this.aDF,L=this.dQ.h(),$=6e3/W[4],l="#"+r.mZ(this.No),k=c4.al1;x.width=x.width;
F.setTransform(x.width/256,0,0,-x.height/100,0,x.height);F.globalCompositeOperation="lighter";if(L==0)k(F,W[0],$/3,l);
else if(L<4)k(F,W[L],$,l);else{k(F,W[1],$,"#ff0000");k(F,W[2],$,"#00ff00");k(F,W[3],$,"#0000ff")}F.setTransform(1,0,0,1,0,0);
if(n!=null){if(L==4)L=0;var V=0;for(var w=0;w<256;w++)V+=w*W[L][w];if(L==0)V/=3;this.dB[0].c((V/n).toFixed(1)+"");
this.dB[1].c(n+"")}};c4.al1=function(x,F,W,n){x.beginPath();x.moveTo(0,0);for(var L=0;L<256;L++)x.lineTo(L,F[L]*W);
x.lineTo(256,0);x.closePath();x.fillStyle=n;x.fill()};function fQ(x,F){bS.call(this);this.EE={o:0,r:0,z:0};
if(Math.abs(x-256/v.e1())<10)x=256/v.e1();var W=this.n=v.t("div","flexrow");W.style.position="relative";
var n=this.aA$=v.t("div");W.appendChild(n);this.it=new eX;this._h=new eX;this.Ng=this.Ou.bind(this);
this._Y=this.aCP.bind(this);this.Mt=v.t("canvas","");this.yG=this.Mt.getContext("2d");this.Mt.width=this.Mt.height=256;
this.akO=this.yG.getImageData(0,0,256,256);this.arO=-1;this.ahd="";this.L3=null;v.OC(this.Mt);v.p6(this.Mt,this.aCS.bind(this));
n.appendChild(this.Mt);this.acx=this.a1o.bind(this);this.a43=this.ayJ.bind(this);this.ka=v.t("canvas","");
this.QK=this.ka.getContext("2d");this.ka.width=20;this.ka.height=256;this.abx=this.QK.getImageData(0,0,20,256);
fQ.am5(this.abx.data,20,256);v.OC(this.ka);v.p6(this.ka,this.ar_.bind(this));W.appendChild(this.ka);
this.Mt.setAttribute("style","width:"+x+"px; height:"+x+"px");this.ka.setAttribute("style","width:16px; height:"+x+"px");
this.gL=new j2("Web Colors\u2001");this.gL.k(S.E.A,this.update,this);this.eB=new j2("CMYK gamut");this.eB.k(S.E.A,this.update,this);
if(F){v.kE(n);n.appendChild(this.gL.n);n.appendChild(this.eB.n)}var L=this.BK=document.createElementNS("http://www.w3.org/2000/svg","svg");
W.appendChild(L)}fQ.prototype=new bS;fQ.prototype.z4=function(x,F){this.Mt.style.width=this.aA$.style.width=x-16+"px"};
fQ.prototype.c=function(x){if(this.gL.h()){var F=JSON.parse(JSON.stringify(x));fQ.ZB(F);var W=this.h();
if(F.o==W.o&&F.r==W.r&&F.z==W.z)x=this.EE}this.EE=x;this.update()};fQ.prototype.h=function(){var x=JSON.parse(JSON.stringify(this.EE));
if(this.gL.h())fQ.ZB(x);return x};fQ.prototype.update=function(){var x=this.EE,F=r.uO(x.o,x.r,x.z),k=18;
if(F._M==0)F.TR=this.it.x/255;if(F.TR==0||F._M==0)F.eD=(255-this.om(this._h.y))/255;if(F._M!=0)this.it.x=F.TR*255;
this.it.y=(1-F._M)*255;this._h.y=(1-F.eD)*255;var W=this.akO,n=this.gL.h(),L=this.eB.h(),$=n+","+L;if(Math.abs(F.eD-this.arO)>.002||this.ahd!=$){this.afR(W.data,256,256,F.eD,n,L);
this.a4B();this.arO=F.eD;this.ahd=$}var l=this.yG;l.putImageData(W,0,0);W=this.abx;l=this.QK;l.putImageData(W,0,0);
l.strokeStyle="#ffffff";l.beginPath();l.moveTo(0,this._h.y);l.lineTo(20,this._h.y);l.lineWidth=2;l.stroke();
var V=this.it.y/255,i=parseFloat(this.Mt.style.width),f=parseFloat(this.Mt.style.height),X=this.BK;X.setAttribute("width",k);
X.setAttribute("height",k);var s=Math.round(x.o*255)<<16|Math.round(x.r*255)<<8|Math.round(x.z*255),R="<circle cx=\""+k/2+"\" cy=\""+k/2+"\" r=\""+k/2+"\" fill=\"#"+r.mZ(s)+"\"></circle>";
R+="<circle cx=\""+k/2+"\" cy=\""+k/2+"\" r=\""+(-.5+k/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*V)+")\" stroke-width=\"1\"></circle>";
R+="<circle cx=\""+k/2+"\" cy=\""+k/2+"\" r=\""+(-1.2+k/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
X.innerHTML=R;X.style.pointerEvents="none";X.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
X.style.position="absolute";X.style.left=i*(this.it.x/255)-k/2+"px";X.style.top=f*(this.it.y/255)-k/2+"px"};
fQ.ZB=function(x){x.o=~~(.5+x.o*5)*.2;x.r=~~(.5+x.r*5)*.2;x.z=~~(.5+x.z*5)*.2};fQ.prototype.afR=function(x,F,W,n,L,$){var l=1/F,k=1/W;
for(var V=0;V<W;V++)for(var i=0;i<F;i++){var f=r.zi(n,i*l,(W-V-1)*k);if(L)fQ.ZB(f);var w=V*F+i<<2;x[w+0]=~~(f.o*255);
x[w+1]=~~(f.r*255);x[w+2]=~~(f.z*255);x[w+3]=255}if($){var X=x.slice(0),s=r.HM("rgbToRgbC"),R=s[2],h=s[3];
ICC.U.applyLUT(h,R,X,X);this.L3=r.R(F*W);for(var w=0;w<x.length;w+=4){var B=x[w]-X[w],e=x[w+1]-X[w+1],U=x[w+2]-X[w+2],o=B*B+e*e+U*U;
if(o>300){x[w]=x[w+1]=x[w+2]=200;this.L3[w>>>2]=255}}}};fQ.am5=function(x,F,W,n,L){if(n==null)n=1;if(L==null)L=0;
var $=new Uint32Array(x.buffer);for(var l=0;l<W;l++){var k=r.zi((1+n*(1-l/W)+L)%1,1,1),V=255<<24|k.z*255<<16|k.r*255<<8|k.o*255;
for(var i=0;i<F;i++)$[l*F+i]=V}};fQ.prototype.aCS=function(x){v.FJ(window,this.Ng);v.UJ(window,this._Y);
this.Ou(x);this.BK.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.BK.style.transform="scale(2.4)"};
fQ.prototype.aCP=function(x){v.ac(window,this.Ng);v.bg(window,this._Y);this.BK.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.BK.style.transform="scale(1)"};fQ.prototype.Ou=function(x){var F=v.iF(x,this.Mt);F.x=F.x*(256/parseFloat(this.Mt.style.width));
F.y=F.y*(256/parseFloat(this.Mt.style.height));this.it.xz(this.om(F.x),this.om(F.y));this.a4B();this.jx()};
fQ.prototype.a4B=function(){if(!this.eB.h())return;var x=this.it,F=0,W=0,n=1e9;for(var L=0;L<256;L++){for(var $=0;
$<256;$++){if(this.L3[L*256+$]==255)continue;var l=$-x.x,k=L-x.y,V=l*l+k*k;if(V<n){F=$;W=L;n=V}}}x.x=F;
x.y=W};fQ.prototype.jx=function(){this.EE=this.afJ();this.T(new gT(S.E.A))};fQ.prototype.afJ=function(){var x=r.zi((255-this.om(this._h.y))/255,this.rU(this.it.x/255),this.rU(1-this.it.y/255));
return{o:x.o,r:x.r,z:x.z}};fQ.prototype.ar_=function(x){v.FJ(window,this.acx);v.UJ(window,this.a43);
this.a1o(x)};fQ.prototype.ayJ=function(x){v.ac(window,this.acx);v.bg(window,this.a43)};fQ.prototype.a1o=function(x){var F=v.iF(x,this.ka);
F.y=F.y*(256/parseFloat(this.ka.style.height));this._h.xz(this.om(F.x),this.om(F.y));this.jx()};fQ.prototype.om=function(x){return Math.max(0,Math.min(255,x))};
fQ.prototype.rU=function(x){return Math.max(0,Math.min(1,x))};function bC(x,F,W,n){var L=c7.sJ(F,n);
c7.call(this,x,L,W)}bC.prototype=new c7;function ag(){bS.call(this);this.gr=null;this.$B=new kd;this.$B.k(S.E.A,this.adf,this);
this.$B.parent=this;this.qs=new c_([12,14,0],1,150,"px",0,!0);this.qs.k(S.E.A,this.wE,this);this.qs.parent=this;
this.na=new c_([16,0],.01,100,"px",2,!0,null,5);this.na.k(S.E.A,this.wE,this);this.na.parent=this;this.so=new j2("Auto");
this.so.k(S.E.A,this.wE,this);this.LJ=new c_([16,1],-500,5e3,"%",0,!0);this.LJ.k(S.E.A,this.wE,this);
this.LJ.parent=this;this.zb=new c_("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.zb.k(S.E.A,this.wE,this);
this.zb.parent=this;this.Rf=new c_("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.Rf.k(S.E.A,this.wE,this);
this.Rf.parent=this;this.w4=new c_([16,2],-10,10,"px");this.w4.k(S.E.A,this.wE,this);this.w4.parent=this;
this.ko=new d1(!0);this.ko.k(S.E.A,this.kp,this);this.ko.parent=this;this.rt=new d1(!0);this.rt.k(S.E.A,this.kp,this);
this.rt.parent=this;this.nH=new d1(!0);this.nH.k(S.E.A,this.kp,this);this.nH.parent=this;this.ky=new d1(!0);
this.ky.k(S.E.A,this.kp,this);this.ky.parent=this;this.Zc=new j2([2,3]);this.Zc.k(S.E.A,this.wE,this);
this.ZA=new j2([14,9]);this.ZA.k(S.E.A,this.wE,this);this.J7=new j2([12,46]);this.J7.k(S.E.A,this.wE,this);
this.YJ=new cX("...",null,null,!0);this.YJ.n.style.marginLeft="-8px";v.p6(this.YJ.n,this.aog.bind(this));
this.ut=new bS;var x=this.ut.n=v.t("div","floatcont form"),L=100;this.ut.parent=this;this.ot=new c_([12,41],1,20,"px",0,!0,!0);
this.ot.n.style.marginLeft="16px";this.ot.k(S.E.A,this.wE,this);this.ot.parent=this.ut;x.appendChild(this.rt.n);
x.appendChild(this.Zc.n);v.kE(this.ut.n);x.appendChild(this.nH.n);x.appendChild(this.ZA.n);x.appendChild(this.ot.n);
v.kE(this.ut.n);x.appendChild(this.ky.n);x.appendChild(this.J7.n);this.EI=new cX("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.xh=new cX("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.Qg=new cX("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.eC=new cX("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.JR=new cX("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.lS=new cX("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.RQ=new cX("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.k5=new cX("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var F=[this.EI,this.xh,this.Qg,this.eC,this.JR,this.lS,this.RQ,this.k5];
for(var w=0;w<F.length;w++)F[w].k("click",this.arm,this);this.g2=new cX("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Vz=new cX("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Mp=new cX("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aBN=new cX("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a1c=new cX("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.asg=new cX("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.atI=new cX("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Bx=[this.g2,this.Vz,this.Mp,this.aBN,this.a1c,this.asg,this.atI];for(var w=0;w<this.Bx.length;w++)this.Bx[w].k("click",this.wE,this);
var W=["lind","rind","flind","bind","aind"],n=[];for(var w=0;w<5;w++)n.push("<img src=\""+PIMG["par/"+W[w]]+"\" class=\"autoscale gsicon\" /> ");
this.fE=new c_(n[0],-L,L,"px");this.sY=new c_(n[1],-L,L,"px");this.Cw=new c_(n[2],-L,L,"px");this.RZ=new c_(n[3],-L,L,"px");
this.Df=new c_(n[4],-L,L,"px");this.wn=new c7([12,33],["Abc ...","... أي بي"]);this.PU=new c_(["Auto VAR0",[16,0]],0,500,"%");
this.xW=[this.fE,this.sY,this.Cw,this.RZ,this.Df,this.wn,this.PU];for(var w=0;w<this.xW.length;w++){var $=this.xW[w];
$.k(S.E.A,this.wE,this);$.parent=this}}ag.prototype=new bS;ag.prototype.aog=function(x){if(v.Ww(this.ut.n))return;
x.stopPropagation();var F=this.YJ.n.getBoundingClientRect(),W=new gT(S.E.M,!0);W.data={d:S.H.OO,f_:this.ut,x:F.left,y:F.top+F.height+4};
this.T(W)};ag.prototype._=function(){this.$B._();this.qs._();this.na._();this.LJ._();this.w4._();this.zb._();
this.Rf._();this.Zc._();this.ZA._();this.J7._();this.ot._();for(var w=0;w<this.xW.length;w++)this.xW[w]._()};
ag.prototype.c=function(x,F,W){this.Sq=JSON.parse(JSON.stringify(x));var n=this.Sq,L=n.oE,$=n.wt;this.EI.c(L.FauxBold!=null?L.FauxBold:!1);
this.xh.c(L.FauxItalic!=null?L.FauxItalic:!1);this.Qg.c(L.FontCaps==2);this.eC.c(L.FontCaps==1);this.lS.c(L.FontBaseline==1);
this.JR.c(L.FontBaseline==2);this.RQ.c(L.Underline);this.k5.c(L.Strikethrough);this.$B.c(L.Font==null?null:n.zf[L.Font].Name,F,W);
var l=L.FontSize==null?20:L.FontSize;this.qs.c(l);var k=L.Tracking;this.LJ.c(k==null?0:k);this.ot.c(L._LineWidth!=null?L._LineWidth:1);
this.na.c(L.Leading!=null&&L.Leading!=0?L.Leading:l);this.so.c(L.AutoLeading);this.zb.c((L.VerticalScale!=null?L.VerticalScale:0)*100);
this.Rf.c((L.HorizontalScale!=null?L.HorizontalScale:0)*100);this.w4.c(L.BaselineShift!=null?L.BaselineShift:0);
this.Zc.c(L.FillFlag!=null?L.FillFlag:!1);this.ZA.c(L.StrokeFlag!=null?L.StrokeFlag:!1);this.J7.c(L._FillBackgroundFlag!=null?L._FillBackgroundFlag:!1);
this.pi(L.FillColor,this.ko);this.pi(L.FillColor,this.rt);this.pi(L.StrokeColor,this.nH);this.pi(L._FillBackgroundColor,this.ky);
var V=$._Direction!=null?$._Direction:0,i=iV.tu($);for(var w=0;w<this.Bx.length;w++)this.Bx[w].c(i==w);
this.wn.c(V);this.PU.c(($.AutoLeading!=null?$.AutoLeading:1.2)*100);this.fE.c($.StartIndent!=null?$.StartIndent:0);
this.sY.c($.EndIndent!=null?$.EndIndent:0);this.Cw.c($.FirstLineIndent!=null?$.FirstLineIndent:0);this.RZ.c($.SpaceBefore!=null?$.SpaceBefore:0);
this.Df.c($.SpaceAfter!=null?$.SpaceAfter:0)};ag.prototype.pi=function(x,F){if(x){var W=iV.z$(x);F.KB(Math.round(W.o)<<16|Math.round(W.r)<<8|Math.round(W.z))}else F.KB(0)};
ag.prototype.Hc=function(){var x=new gT(S.E.M,!0);x.data={d:S.H.DD,jL:iC.LC,Sq:this.Sq};this.T(x);var x=new gT(S.E.v,!0);
x.f=O.w1;x.data={d:"updateStyles"};this.T(x)};ag.prototype.arm=function(x){var F=this.Sq.oE,W=x.target,n=!W.hG();
if(W==this.EI)F.FauxBold=n;if(W==this.xh)F.FauxItalic=n;if(W==this.Qg)F.FontCaps=n?2:0;if(W==this.eC)F.FontCaps=n?1:0;
if(W==this.lS)F.FontBaseline=n?1:0;if(W==this.JR)F.FontBaseline=n?2:0;if(W==this.RQ)F.Underline=n;if(W==this.k5)F.Strikethrough=n;
this.Hc()};ag.prototype.wE=function(x){var F=this.Sq.oE,W=this.Sq.wt,n=x.target;if(n==this.LJ){var L=this.LJ.h();
F.Tracking=L}if(n==this.na){F.AutoLeading=!1;F.Leading=this.na.h()}if(n==this.so){F.AutoLeading=this.so.h()}if(n==this.ot)F._LineWidth=n.h();
if(n==this.qs)F.FontSize=n.h();if(n==this.zb)F.VerticalScale=n.h()/100;if(n==this.Rf)F.HorizontalScale=n.h()/100;
if(n==this.w4)F.BaselineShift=n.h();if(n==this.Zc)F.FillFlag=n.h();if(n==this.ZA)F.StrokeFlag=n.h();
if(n==this.J7)F._FillBackgroundFlag=n.h();if(this.Bx.indexOf(n)!=-1){W.Justification=iV.tu(W,this.Bx.indexOf(n))}if(n==this.fE)W.StartIndent=n.h();
if(n==this.sY)W.EndIndent=n.h();if(n==this.Cw)W.FirstLineIndent=n.h();if(n==this.RZ)W.SpaceBefore=n.h();
if(n==this.Df)W.SpaceAfter=n.h();if(n==this.wn)W._Direction=n.h();if(n==this.PU)W.AutoLeading=n.h()/100;
this.Hc()};ag.prototype.adf=function(x){var F=this.Sq,W=this.$B.h(),n=-1;for(var w=0;w<F.zf.length;w++)if(F.zf[w].Name==W)n=w;
if(n==-1){n=F.zf.length;var L=JSON.parse(JSON.stringify(F.zf[0]));L.Name=W;F.zf.splice(n,0,L)}F.oE.Font=n;
this.Hc()};ag.prototype.kp=function(x){var F=x.target,W=F.Ec(),n={Type:1,Values:[1,(W>>16&255)/255,(W>>8&255)/255,(W>>0&255)/255]};
for(var w=0;w<4;w++)n.Values[w]=Math.round(n.Values[w]*1e3)/1e3;var L=F==this.ko||F==this.rt?0:F==this.nH?1:2;
this.Sq.oE[["FillColor","StrokeColor","_FillBackgroundColor"][L]]=n;this.Hc()};function kd(){bS.call(this);
this.n=v.t("span","fontinput");this.ZI=null;this.T9=null;this.Yd=null;this.Mb="";this.aY={};this.vz=[];
this.IQ={};this.ary={};this.YB=[];this.Ve=!1;this.LR=v.t("button","fitem");this.LR.setAttribute("style","width:9em;");
this.LR.textContent="Family Name \u25BC";this.n.appendChild(this.LR);v.p6(this.LR,this.ak5.bind(this));
this.C_=new bS;this.C_.parent=this;var x=this.C_.n=v.t("div","floatcont");x.style.padding="7px 7px 3px 7px";
var F=new e8("Recent");x.appendChild(F.n);var W=this.axd=new cX([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
W.k("click",this.aor,this);W.n.style.float="right";x.appendChild(W.n);var n=this.U6=new j2("Local Fonts");
n.k(S.E.A,this.aky,this);n.n.style.float="right";n.n.style.marginRight="10px";n.n.style.marginTop="3px";
x.appendChild(n.n);v.kE(x);this.JW=v.t("span","fitem imageset scrollable");this.JW.style.maxHeight="8em";
x.appendChild(this.JW);var L=v.t("div","form");this.C_.n.appendChild(L);this.yY=new cX(v.ol("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.yY.k("click",this.ato,this);L.appendChild(this.yY.n);this.jN=new f8([12,86],null,7.5);this.jN.k("input",this.$m,this);
L.appendChild(this.jN.n);this.fY=new ji(10,"\u2630");L.appendChild(this.fY.n);this.fY.parent=this.C_;
this.fY.k(S.E.A,this.je,this);this.fY.n.style.float="right";this.fY.n.style.marginRight="0";this.Qq=v.t("span","fitem imageset scrollable");
this.Qq.style.height="30em";this.C_.n.appendChild(this.Qq);this.Qq.addEventListener("scroll",this.ahb.bind(this),!1);
this.DJ=v.t("button","fitem");this.DJ.setAttribute("style","width:7em;");this.DJ.textContent="SubFamily Name \u25BC";
this.n.appendChild(this.DJ);v.p6(this.DJ,this.ak5.bind(this));this.at=new bS;this.at.parent=this;this.at.n=v.t("div","floatcont");
this.Hw=v.t("span","fitem imageset scrollable");this.at.n.appendChild(this.Hw);this.a8I=this.a2J.bind(this);
this.avw=this.a1b.bind(this)}kd.prototype=new bS;kd.prototype.aky=function(x){j8.ln.DE(x.target.h(),function(){this.c();
this.je()}.bind(this),function(){this.U6.c(!1)}.bind(this));this.je()};kd.prototype.ahb=function(x){var F=this.Qq.scrollTop,W=this.vz,n=Math.floor(F/27),L=Math.min(n+20,W.length);
for(var w=n;w<L;w++)this.ayF(W[w])};kd.prototype.aor=function(){var x=new gT(S.E.M,!0);x.data={d:S.H.aS,aCf:".otf,.ttf,.ttc"};
this.T(x)};kd.prototype._=function(){this.fY._();this.axd._();this.U6.c(j8.ln.hG());this.yY.rT(v.ol("tools/cshape",null,"autoscale"))};
kd.prototype.ato=function(x){this.yY.c(!this.yY.hG());this.je()};kd.prototype.$m=function(x){this.Mb=this.jN.h().toLowerCase();
this.je()};kd.prototype.ak5=function(x){v.Wa(x);var F=x.currentTarget,W=F.getBoundingClientRect(),n=F==this.LR,L=n?this.C_:this.at;
if(v.Ww(L.n)){this.aqq(L);return}if(!n&&this.ZI.vF()[this.Yd]==null)return;var $=new gT(S.E.M,!0);$.data={d:S.H.OO,f_:L,x:W.left,y:W.top+W.height};
this.T($);if(n){this.je(null,!0)}};kd.prototype.a2J=function(x){var F=x.currentTarget.firstChild.nextSibling.textContent;
if(x.target.tagName.toLowerCase()=="button"){var W=this.T9.slice(0),n=W.indexOf(F);if(n==-1){W=W.slice(Math.max(0,W.length-29));
W.push(F)}else W.splice(n,1);var L=new gT(S.E.M,!0);L.data={d:S.H.DD,jL:iC.n6,k9:W};this.T(L);this.Ve=!0;
this.je()}else{this.ank(F,null)}};kd.prototype.a1b=function(x){this.ank(null,x.currentTarget.firstChild.textContent)};
kd.prototype.ank=function(x,F){var W=x==null?this.at:this.C_,n=this.ZI;if(x==null)x=n.vF()[this.Yd][0];
else{var L=n.b1(x),$=n.vF()[this.Yd];F=j8.pw(L,$?$[1]:"regular")}var l=n.KY(x,F)[2];this.c(l,n);this.T(new gT(S.E.A,!1));
this.aqq(W);this.je()};kd.prototype.aqq=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.qk,f_:x};this.T(F)};
kd.prototype.h=function(){return this.Yd};kd.prototype.c=function(x,F,W){var n=this.ZI;if(x!=null)this.Yd=x;
else x=this.Yd;if(F)this.ZI=F;else F=this.ZI;if(W)this.T9=W;else W=this.T9;if(x!=null){var L=F.vF()[x],$,l;
if(L==null){$="- "+x;l="-------"}else{$=L[0];l=L[1];var k=this.YB;for(var w=0;w<k.length;w++)if(k[w][0][0]==$)k.splice(w,1);
k.push([L,Date.now()]);k.sort(function(X,s){return s[1]-X[1]});k=k.slice(0,10);v.Ri(this.JW);for(var w=1;
w<k.length;w++){var V=k[w][0],i=this.wN(V,!0);this.CU(i,V,!0);this.JW.appendChild(i)}var f=F.b1($);f.sort(j8.a8V);
this.Hw.textContent="";for(var w=0;w<f.length;w++){var L=F.KY($,f[w]);if(!this.fY.p_(L))continue;var i=this.wN(L,!1);
this.Hw.appendChild(i)}}this.LR.textContent=$.substring(0,15)+" \u25BC";this.LR.setAttribute("title",$+", \""+x+"\"");
this.DJ.textContent=l.substring(0,10)+" \u25BC";this.DJ.setAttribute("title",l)}};kd.prototype.je=function(x,F){var W=this.ZI.vF()[this.Yd],n=this.T9,L=this.ZI.wo();
this.vz=[];var $=this.U6.h();for(var l in L){var k=n.indexOf(l)!=-1,V=this.ZI.b1(l),i=!1;for(var w=0;
w<V.length;w++){var f=this.ZI.KY(l,V[w]),X=!0;if(this.Mb.length>0&&f[0].toLowerCase().indexOf(this.Mb)==-1)X=!1;
else if(!this.fY.p_(f))X=!1;else if(this.yY.hG()&&!k)X=!1;else if(f[5]=="--loc"&&!$)X=!1;if(X)i=!0}var s=this.aY[l];
if(s==null){var R=j8.pw(L[l],"regular"),h=this.ZI.KY(l,R),s=this.wN(h,!0);this.aY[l]=s;this.Qq.appendChild(s);
this.IQ[l]="[true,false,false]"}if(i)this.vz.push(l);var B=W!=null&&W[0]==l;this.ary[l]="["+i+","+B+","+k+"]";
if(!F)this.ayF(l)}if(W&&!this.Ve){var e=this.aY[W[0]];this.Qq.scrollTop=e.offsetTop-210}this.ahb();this.Ve=!1};
kd.prototype.ayF=function(x){var F=this.aY[x];if(F.firstChild==null){var W=this.ZI.wo(),n=j8.pw(W[x],"regular"),L=this.ZI.KY(x,n);
this.CU(F,L,!0)}var $=this.IQ[x],l=this.ary[x];if($==l)return;var k=JSON.parse($),V=JSON.parse(l);if(k[0]!=V[0]||k[1]!=V[1]){var i=V[0]?"":"display:none; ";
if(V[1])i+="background-color:rgba(0,0,0,0.13);";F.setAttribute("style",i)}if(k[2]!=V[2])F.firstChild.setAttribute("style","opacity: "+(V[2]?"1":"0.2"));
this.IQ[x]=l};kd.prototype.wN=function(x,F){var W=v.t("div","fontitem");if(!F)this.CU(W,x,F);return W};
kd.prototype.CU=function(x,F,W){var n=F[W?0:1],L=W?this.a8I:this.avw,V="";x.addEventListener("click",L,!1);
if(W)x.appendChild(v.t("button","star"));var $=v.t("span","label");$.setAttribute("title",n);$.textContent=n;
x.appendChild($);var l=v.e1(),k=1/l,i=j8.OK*k,f=j8.Da*k;if(1<l&&l<1.5)V="width:"+i+"px; height:"+f+"px;";
var X=v.t("span","thumb gsicon");if(F.oT){V+="background: url("+F.oT+");";if(1<l&&l<1.5)V+="background-size: "+i+"px "+f+"px;"}else{var s=Math.ceil(FNTS.list.length/j8.cols),R=Math.floor(F.Fp/j8.cols),h=F.Fp-R*j8.cols,B=h*j8.OK,e=R*j8.Da;
if(1<l&&l<1.5){V+="background-size: "+j8.cols*i+"px "+s*f+"px;";B*=k;e*=k}V+="background-position:-"+B+"px -"+e+"px;"}X.setAttribute("style",V);
x.appendChild(X)};function ji(x,F){bS.call(this);this.n=v.t("button","fitem bbtn");this.n.addEventListener("click",this.aaC.bind(this),!1);
this.ut=new bS;this.ut.n=v.t("div","floatcont");this.ut.parent=this;this.HJ=v.t("div","flexrow");this.ut.n.appendChild(this.HJ);
this.Or=F;this.rn=[];this.$L=[];var W=this.HJ,n=v.t("div",""),L=v.t("div","");W.appendChild(n);W.appendChild(L);
this.nz=[];for(var w=0;w<FNTS.cats.length;w++)this.nz.push({name:FNTS.cats[w],index:w,UW:0});this.pp=new j2([7,0]);
this.pp.c(!0);this.pp.k(S.E.A,this.ano,this);n.appendChild(this.pp.n);this.NG=v.t("div","vlist marged scrollable");
this.NG.setAttribute("style","width:10.3em; height:"+x+"em; ");n.appendChild(this.NG);this.Xp=[];for(var w=0;
w<this.nz.length;w++){var $=this.nz[w],l=new j2($.name);this.Xp.push(l);l.k(S.E.A,this.a0b,this);l.c(!0);
this.NG.appendChild(l.n);this.rn.push(1)}this.a20=new j2([7,0]);this.a20.k(S.E.A,this.asJ,this);this.pB=v.t("div","vlist marged scrollable");
this.pB.setAttribute("style","width:8.6em; height:"+(x+1.5)+"em; ");L.appendChild(this.pB);this.mQ=[];
for(var w=0;w<FNTS.subsetNames.length;w++){var l=new j2(FNTS.subsetNames[w]);this.mQ.push(l);l.k(S.E.A,this.a4T,this);
l.c(!1);this.pB.appendChild(l.n);this.$L.push(l.h()?1:0)}}ji.prototype=new bS;ji.prototype.a5v=function(x){var F=this.mQ;
for(var w=0;w<F.length;w++){var W=(x>>>w&1)==1;this.$L[w]=W;F[w].c(W)}};ji.prototype.aDV=function(){return this.HJ};
ji.prototype._=function(){this.n.textContent=this.Or?this.Or:hz.get([25,1,0])+" \u25BC";this.pp._();
this.a20._()};ji.prototype.aaC=function(x){var F=this.n.getBoundingClientRect(),W=new gT(S.E.M,!0);W.data={d:S.H.OO,f_:this.ut,x:F.left,y:F.top+F.height,Je:!1};
this.T(W)};ji.prototype.p_=function(x){if(this.rn[x[4]]==0)return!1;else for(var F=0;F<this.$L.length;
F++)if(this.$L[F]==1&&(x[3]>>>F&1)==0)return!1;return!0};ji.prototype.ano=function(x){var F=x.target.h(),W=this.Xp,n=this.rn;
for(var w=0;w<W.length;w++){W[w].c(F);n[w]=F?1:0}this.T(new gT(S.E.A,!1))};ji.prototype.asJ=function(x){var F=x.target.h(),W=this.mQ,n=this.$L;
for(var w=0;w<W.length;w++){W[w].c(F);n[w]=F?1:0}this.T(new gT(S.E.A,!1))};ji.prototype.a0b=function(x){var w=this.Xp.indexOf(x.target),F=this.nz[w].index;
this.rn[F]=1-this.rn[F];this.T(new gT(S.E.A,!1));this.aDQ(this.Xp,this.pp)};ji.prototype.a4T=function(x){var w=this.mQ.indexOf(x.target);
this.$L[w]=1-this.$L[w];this.T(new gT(S.E.A,!1))};ji.prototype.aDQ=function(x,F){var W=!0;for(var w=0;
w<x.length;w++)W=W&&x[w].h();F.c(W)};function aJ(x,F,W){gz.call(this,F,!0,"gradientbutton",18*13,10*13,iC.W$);
this.A_=-1;this.G8=-1;this.ag7=null;this.a4S=x;this.kk=W}aJ.prototype=new gz;aJ.prototype.dR=function(x){var F=this.DH;
this.c(F[this.FB.h()]);this.T(new gT(S.E.A))};aJ.prototype.Sk=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.Ar,ip:"gradienteditor",I:this.gW,$O:this.a52.bind(this),C3:this.kk};
this.T(F)};aJ.prototype.a52=function(x){this.c(x);this.T(new gT(S.E.A))};aJ.prototype.OZ=function(){if(!this.mO)return;
var x=Math.floor(36*v.e1()),F=Math.floor(36*v.e1()),W=[],n=[],L=this.DH,$=Date.now();for(var w=0;w<L.length;
w++){var l=L[w];n.push(l.Nm?l.Nm.v:"");var k=O.zE.k7(l,x,F,Math.PI/4,this.A_,this.G8);W.push(k)}this.FB.Yl(W,n,x,F);
this.mO=!1};aJ.prototype.jP=function(x,F){this.aiG(this.gW,x,F)};aJ.prototype.c=function(x){this.aiG(x,this.A_,this.G8)};
aJ.prototype.aiG=function(x,F,W){this.A_=F;this.G8=W;if(x==null)return;var n=JSON.stringify(x),L=n+F+","+W;
if(L==this.ag7)return;this.ag7=L;this.gW=JSON.parse(n);var $=Math.floor(80*v.e1()),l=Math.floor(16*v.e1()),k=O.zE.k7(this.gW,$,l,0,this.A_,this.G8);
this.DB.setAttribute("src",k);v.H$(this.DB,$,l)};aJ.prototype.h=function(){var x;if(this.a4S)x=O.zE.ae8(this.gW,this.A_,this.G8);
else x=JSON.parse(JSON.stringify(this.gW));return x};function ay(x){gz.call(this,x,!1,"swatchbutton",16*13,8.75*13,iC.IE)}ay.prototype=new gz;
ay.prototype.dR=function(x){this.c(this.DH[x.target.h()]);this.T(new gT(S.E.A))};ay.prototype.OZ=function(){if(!this.mO)return;
var x=Date.now(),F=Math.floor(10*v.e1()),W=Math.floor(10*v.e1()),n=[],L=[],$=this.DH;for(var w=0;w<$.length;
w++){L.push($[w].v6?$[w].v6.split("=").pop():"");n.push(ay.k7($[w],F,W))}this.FB.Yl(n,L,F,W);this.mO=!1};
ay.prototype.c=function(x){this.gW=JSON.parse(JSON.stringify(x));this.sD()};ay.prototype.sD=function(){var x=Math.floor(24*v.e1()),F=Math.floor(20*v.e1()),W=ay.k7(this.gW,x,F);
this.DB.setAttribute("src",W);v.H$(this.DB,x,F)};ay.prototype.h=function(){return JSON.parse(JSON.stringify(this.gW))};
ay.Vf={};ay.k7=function(x,F,W){var n=255<<24|r.H1(x),L=":"+n,$=ay.Vf;if($[L])return $[L];var l=new Uint32Array(F*W);
l.fill(n);var k=UPNG.encode([l.buffer],F,W),V=$[L]="data:image/png;base64,"+jW.pe(k);return V};function jj(x,F,W){bS.call(this);
this.n=v.t(W?"div":"span");var n=this.tw=v.t("input");this.tw.setAttribute("type","file");if(F)n.setAttribute("multiple","");
this.tw.addEventListener("change",this.a1q.bind(this),!1);this.a1J=this.acV.bind(this);this.HC={};this.uv=0;
this.tm=x;var L=this.a4w=new cX(hz.get(x)+" (0)",null,null,!0);this.n.appendChild(L.n);L.addEventListener("click",function($){n.click()});
if(W){this.HA=v.t("div","scrollable");this.HA.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.n.appendChild(this.HA);this.tW()}}jj.prototype=new bS;jj.prototype.c=function(x){this.HC=x;this.tW()};
jj.prototype.h=function(x){return this.HC};jj.prototype.a1q=function(x){var F=x.target.files;this.uv=F.length;
this.HC={};for(var w=0;w<F.length;w++){var W=F[w],n=new FileReader;n.onload=this.a1J;n.gC=W.name;n.readAsArrayBuffer(W)}};
jj.prototype.acV=function(x){var F=this.HC[x.target.gC]=new Uint8Array(x.target.result);this.uv--;if(this.uv==0){this.tW();
this.T(new gT(S.E.A));this.tw.value=null}};jj.prototype.tW=function(){var x=this.HC;this.a4w.rT(hz.get(this.tm)+" ("+Object.keys(x).length+")");
var F=this.HA;if(F==null)return;v.Ri(F);var W=[];for(var n in x)W.push(n);W.sort();for(var w=0;w<W.length;
w++){var L=v.t("div");L.textContent=W[w];F.appendChild(L)}};function ht(x,F,W,n,L){if(x==null)x=!1;if(F==null)F=!1;
if(W==null)W=!1;bS.call(this);this.GG=new eX;this.wc=new eX;this.bI=72;this.y_=72;this.cJ=!0;this.sp=!1;
this.n=v.t("span");this.q2=new c_([12,41],0,0,null,0,!1,!0,4);this.n.appendChild(this.q2.n);this.q2.k(S.E.A,this.N$,this);
var $=["px","%"];if(x)$=$.concat(["cm","mm","in"]);if(L){$=[[12,76,2],[12,76,6]];if(x)$=$.concat([[12,76,4],[12,76,5],[12,76,3]])}this.be=new hx(null,$);
this.n.appendChild(this.be.n);v.kE(this.n);this.be.k(S.E.A,this.N$,this);this.ym=new c_([12,42],0,0,null,0,!1,!0,4);
this.n.appendChild(this.ym.n);this.ym.k(S.E.A,this.N$,this);var l=new cX("\u21F5",!1,null,!0);l.k("click",this.wT,this);
this.ba=new cX("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.ba.k("click",this.N$,this);
this.dw=new e8("");this.dw.n.style.margin="0";this.dw.n.style.padding="0";if(F){this.n.appendChild(this.ba.n);
this.n.appendChild(this.dw.n);this.ba.iA()}else this.n.appendChild(l.n);this.ei=new c_("DPI",0,0,null,3,!1,!0,4);
this.Dx=new hx(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(x&&!n){v.kE(this.n);this.n.appendChild(this.ei.n);
this.n.appendChild(this.Dx.n)}this.Dx.k(S.E.A,this.N$,this);this.ei.k(S.E.A,this.N$,this);this.gv=new j2([12,23,1]);
this.gv.k(S.E.A,this.N$,this);if(W){v.kE(this.n);this.n.appendChild(this.gv.n)}v.kE(this.n)}ht.prototype=new bS;
ht.prototype.z4=function(x,F){this.q2.lj.style.width=this.ym.lj.style.width=(x-78-this.ba.QG())/2+"px"};
ht.prototype.yk=function(){this.q2.yk();this.ym.yk();this.be.yk();var x=this.n;v.Ri(x);this.be.n.style.marginRight="0";
x.appendChild(this.q2.n);x.appendChild(this.ba.n);x.appendChild(this.ym.n);x.appendChild(this.be.n)};
ht.prototype.D$=function(){this.q2.D$()};ht.prototype.a7I=function(x,F){this.cJ=x;if(F!=null)this.sp=F;
if(!this.cJ&&!this.sp&&this.be.h()==0){this.be.c(4);this.Vn()}};ht.prototype.aws=function(x){this.ba.c(x)};
ht.prototype._=function(){this.q2._();this.ym._();this.ei._();this.Dx._();this.ba._();this.gv._();this.be._()};
ht.prototype.wT=function(x){var F=this.wc.x;this.wc.x=this.wc.y;this.wc.y=F;this.Vn();this.T(new gT(S.E.A,!1))};
ht.prototype.N$=function(x){if(x.target==this.be&&!this.cJ&&!this.sp&&this.be.h()==0)this.be.c(4);if(x.target==this.be||x.target==this.gv){this.Vn();
return}if(x.target==this.ba)x.target.c(!x.target.h());var F=this.GG,W=parseFloat(this.q2.h());if(isNaN(W))W=1;
var n=parseFloat(this.ym.h());if(isNaN(n))n=1;var L=this.ei.h()*[1,2.54][this.Dx.h()],$=this.be.h();
if(this.cJ){var l=this.y_;if($==1){W=this.GG.x*(W/100);n=this.GG.y*(n/100)}var k=[1,1,2.54/l,25.4/l,1/l][$];
W/=k;n/=k;if(this.gv.h()){W+=this.GG.x;n+=this.GG.y}if(x.target==this.ei){var V=L;if(!this.sp){var i=V/l;
W*=i;n*=i}l=V}if(this.ba.h()){if(x.target==this.q2)n=W*(F.y/F.x);else W=n*(F.x/F.y)}W=Math.max(Math.abs(W),1);
n=Math.max(Math.abs(n),1)}else{var l=this.bI;if(x.target==this.ei)l=L;else{if(this.ba.h()){if(x.target==this.q2)n=W*(F.y/F.x);
else W=n*(F.x/F.y)}var k=[1,1,2.54/l,25.4/l,1/l][$],f=W/($==1?100:F.x*k);l=l/f}W=F.x;n=F.y}this.wc=new eX(Math.round(W),Math.round(n));
this.y_=l;this.Vn();this.T(new gT(S.E.A,!1))};ht.prototype.a83=function(w){this.be.c(w);this.Vn()};ht.prototype.c=function(x,F,W){if(W!=!0)this.GG=x.clone();
this.wc=x.clone();if(F!=null){this.bI=F;this.y_=F}this.Vn()};ht.prototype.Vn=function(){var x=this.wc.x,F=this.wc.y,W=this.y_,n=(x/F).toFixed(3);
while(n.charAt(n.length-1)=="0")n=n.substring(0,n.length-1);if(n.charAt(n.length-1)==".")n=n.substring(0,n.length-1);
var L="  "+n+" : 1",$=function(f,X){while(X!=0){var s=X;X=f%X;f=s}return f},l=$(x,F);if(Math.min(x,F)/l<10)L="  "+Math.round(x/l)+" : "+Math.round(F/l);
this.dw.c(L);if(this.gv.h()){x-=this.GG.x;F-=this.GG.y}var k=this.be.h();if(k==1){if(this.cJ){x=100*x/this.GG.x;
F=100*F/this.GG.y}else{x=F=100*this.bI/this.y_}}else{x=Math.round(x);F=Math.round(F)}var V=[1,1,2.54/W,25.4/W,1/W][k];
x*=V;F*=V;var i=k==1||k==2||k==4?2:0;this.q2.xT(i);this.ym.xT(i);this.q2.c(x);this.ym.c(F);this.ei.c(W*[1,1/2.54][this.Dx.h()])};
ht.prototype.h=function(){return this.wc.clone()};ht.prototype.bM=function(){return this.y_};function cW(x,F,W){bS.call(this);
var n=x==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.tq=x;this.ame=F;this.fV=1;this.Hm=[1,1,0];
var L=this.n=v.t("div","numlist"),$=this.Ek=[];for(var w=0;w<4;w++){var l=new c_(n[w],0,0,null,2,!1,!0,4,null,W&&(w==0||w==2));
l.k(S.E.A,this.N$,this);L.appendChild(l.n);$[w]=l;if(w==1||w==3)v.kE(L)}$[4]=new j2(x==0?[12,51]:[12,91,2]);
$[4].c(!0);L.appendChild($[4].n)}cW.prototype=new bS;cW.prototype._=function(){var x=this.Ek;for(var w=0;
w<5;w++)x[w]._();if(this.tq==0)v.fc(x[0],x[2])};cW.prototype.c=function(x,F,W){if(F)this.Hm=F;F=this.Hm;
var n=W?x:this.tq==0?[x[2],x[0],x[3],x[1]]:[x[0],x[1],x[3],x[2]];this.fV=n[0]/n[2];for(var w=0;w<4;w++){var L=this.Ek[w];
L.xT(F[2]==0&&this.ame?0:2);L.c(r.uX.aft(n[w],F[0],F[1],F[2]))}};cW.prototype.h=function(x){var F=[],W=this.Hm;
for(var w=0;w<4;w++){var n=r.uX.aL(this.Ek[w].h(),W[0],W[1],W[2]);F[w]=this.ame?Math.round(n):n}return x?F:this.tq==0?[F[1],F[3],F[0],F[2]]:[F[0],F[1],F[3],F[2]]};
cW.prototype.N$=function(x){var F=this.tq,W=this.Ek.indexOf(x.currentTarget),n=this.h(!0),L=this.Ek[4].h();
if(F==0){n[0]=Math.max(1,n[0]);n[2]=Math.max(1,n[2]);if(L&&W==0)n[2]=n[0]/this.fV;if(L&&W==2)n[0]=n[2]*this.fV}if(F==1){n[W]=Math.max(0,n[W]);
if(L)for(var w=0;w<4;w++)n[w]=n[W]}this.c(n,null,!0);this.T(new gT(S.E.A,!1))};function i8(){bS.call(this);
this.PZ=0;this.dB=[0,0,1,1,100,100];this.JG=[10,5,1,1,4,3,3,2,16,9];this.n=v.t("span","fitem");this.N5=new hx(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.n.appendChild(this.N5.n);this.N5.k(S.E.A,this.N$,this);this.q2=new c_("W",0,0,null,0,!1,!0);this.n.appendChild(this.q2.n);
this.q2.k(S.E.A,this.N$,this);var x=this.lv=new cX("\u21C4",!1,null,!0);x.k("click",this.wT,this);this.n.appendChild(x.n);
this.ym=new c_("H",0,0,null,0,!1,!0);this.n.appendChild(this.ym.n);this.ym.k(S.E.A,this.N$,this);this.c({zs:0,x:0,y:0})}i8.prototype=new bS;
i8.prototype.aiZ=function(x,F){this.JG[0]=x;this.JG[1]=F};i8.prototype._=function(){v.fc(this.q2,this.ym);
this.N5._()};i8.prototype.wT=function(x){var F=this.ym.h();this.ym.c(this.q2.h());this.q2.c(F);this.N$(x)};
i8.prototype.N$=function(x){if(x.target==this.N5){var w=this.N5.h(),F=this.dB;if(w>2){w-=3;var W=this.JG[2*w],n=this.JG[2*w+1];
F[2]=W;F[3]=n;this.q2.c(W);this.ym.c(n);this.N5.c(1)}var L=this.h();F[this.PZ*2]=L.x;F[this.PZ*2+1]=L.y;
this.PZ=L.zs;this.c({zs:L.zs,x:F[L.zs*2],y:F[L.zs*2+1]})}if(this.q2.h()<1)this.q2.c(1);if(this.ym.h()<1)this.ym.c(1);
this.T(new gT(S.E.A,!1))};i8.prototype.c=function(x){this.N5.c(x.zs);this.q2.c(x.x);this.ym.c(x.y);if(x.zs==0){this.q2.H8();
this.ym.H8();this.lv.H8()}else{this.q2.cy();this.ym.cy();this.lv.cy()}};i8.prototype.h=function(){return{zs:this.N5.h(),x:this.q2.h(),y:this.ym.h()}};
function cl(x){bS.call(this);this.n=v.t("span","");this.aAc=x;this.fB=new ec("Off X",-100,100,x?"%":"px",0,!1);
this.BG=new ec("Off Y",-100,100,x?"%":"px",0,!1);this.fB.k(S.E.A,this.N$,this);this.BG.k(S.E.A,this.N$,this);
this.n.appendChild(this.fB.n);this.n.appendChild(this.BG.n)}cl.prototype=new bS;cl.prototype._=function(){this.fB._();
this.BG._()};cl.prototype.N$=function(x){this.T(new gT(S.E.A,!1))};cl.prototype.a0s=function(x){this.fB.c(x.x);
this.BG.c(x.y)};cl.prototype.alx=function(){return new eX(this.fB.h(),this.BG.h())};cl.prototype.c=function(x,F){var W=x.Hrzn.v,n=x.Vrtc.v;
if(this.aAc){W=W.val;n=n.val}this.fB.c(W);this.BG.c(n);if(F==!0)this.N$()};cl.prototype.h=function(){var x=this.fB.h(),F=this.BG.h();
if(this.aAc)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:x}},Vrtc:{t:"UntF",v:{type:"#Prc",val:F}}};
else return{classID:"Pnt",Hrzn:{v:x,t:"doub"},Vrtc:{v:F,t:"doub"}}};function kD(){bS.call(this);this.n=v.t("span","fitem strokebutton");
this.Oc=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.Ry=eC.pr.Iz();this.NY=v.t("button");
this.n.appendChild(this.NY);v.p6(this.n,this.dG.bind(this));var x=v.t("canvas","gsicon");this.yG=x.getContext("2d");
this.NY.appendChild(x);var F=v.t("span");F.textContent=" \u25BC";this.NY.appendChild(F);this.ut=new bS;
this.ut.parent=this;this.ut.n=v.t("div","floatcont form");var W=this.ut.n;W.setAttribute("style","width: 16.7em;");
this.aY=[new hx([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new c7([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new c7([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new c_("Limit",0,50,null,null,null,!0,2.5),new f8([19,9,2])];
for(var w=0;w<this.aY.length;w++){var n=this.aY[w];W.appendChild(n.n);n.k(S.E.A,this.N$,this)}v.kE(W);
this.hD=[];var L=this.nb.bind(this);this.Ry.strokeStyleLineWidth.v.val=3;for(var w=0;w<this.Oc.length;
w++){var $=v.t("button","fitem");this.hD.push($);W.appendChild($);$.addEventListener("click",L,!1);var x=v.t("canvas","gsicon"),l=x.getContext("2d");
$.appendChild(x);this.aad(l,40,20,this.Oc[w])}this.Ry.strokeStyleLineWidth.v.val=1}kD.prototype=new bS;
kD.prototype.dG=function(x){if(v.Ww(this.ut.n))return;x.stopPropagation();var F=this.NY.getBoundingClientRect(),W=new gT(S.E.M,!0);
W.data={d:S.H.OO,f_:this.ut,x:F.left,y:F.top+F.height+4};this.T(W)};kD.prototype.N$=function(x){var F=this.aY,W=[];
for(var w=0;w<5;w++)W.push(F[w].h());this.Ry=this.a6L(W);this.T(new gT(S.E.A,!1))};kD.prototype.nb=function(x){var F=this.hD.indexOf(x.currentTarget);
this.c(this.a6L(this.Oc[F]));this.T(new gT(S.E.A,!1))};kD.prototype.a6L=function(x){var F=JSON.parse(JSON.stringify(this.Ry)),W=x[0],n=x[1],L=x[2],$=x[3],l=x[4];
if(W!=null)F.strokeStyleLineAlignment.v.strokeStyleLineAlignment=eC.pr.Uu[W];if(n!=null)F.strokeStyleLineCapType.v.strokeStyleLineCapType=eC.pr.QP[n];
if(L!=null)F.strokeStyleLineJoinType.v.strokeStyleLineJoinType=eC.pr.join[L];F.strokeStyleMiterLimit.v=$;
var k=F.strokeStyleLineDashSet.v=[];l=l.split(" ");while((l.length&1)!=0)l.pop();for(var w=0;w<l.length;
w++)k.push({t:"UntF",v:{type:"#Nne",val:parseInt(l[w])}});return F};kD.prototype._=function(){for(var w=0;
w<this.aY.length;w++)this.aY[w]._()};kD.prototype.c=function(x){this.Ry=JSON.parse(JSON.stringify(x));
var F=eC.pr.Uu.indexOf(x.strokeStyleLineAlignment.v.strokeStyleLineAlignment),W=eC.pr.QP.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType),n=eC.pr.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType),L=x.strokeStyleMiterLimit.v,$=[],l=x.strokeStyleLineDashSet.v;
for(var k=0;k<l.length;k++)$.push(l[k].v.val);var V=this.aY;V[0].c(F);V[1].c(W);V[2].c(n);V[3].c(L);
V[3].DE(n==0);V[4].c($.join(" "));var i=[];for(var w=0;w<5;w++)i.push(V[w].h());this.aad(this.yG,40,16,i)};
kD.prototype.h=function(){return JSON.parse(JSON.stringify(this.Ry))};kD.prototype.aad=function(x,F,W,n){var L=n[0],$=n[1],l=n[2],k=n[3],V=n[4].split(" ").map(parseFloat);
v.vI(x.canvas,F,W);var i=Math.min(5,this.Ry.strokeStyleLineWidth.v.val);for(var w=0;w<V.length;w++)V[w]*=i;
x.clearRect(0,0,F,W);x.setLineDash(V);x.lineCap=["butt","round","square"][$];x.lineJoin=["miter","round","bevel"][l];
x.lineWidth=i;x.beginPath();x.moveTo(0,W/2);x.lineTo(F*2,W/2);x.stroke()};function hY(x){gz.call(this,x,!1,"contourbutton",34*13,16*13,iC.iU,!0);
this.jN=new f8([12,86],null,16);this.jN.k("input",this.$m,this);this.ut.n.appendChild(this.jN.n);this.Y0=null;
this.Mb="";this.CR=null;this.c(fZ.Iz())}hY.prototype=new gz;hY.prototype._=function(){gz.prototype._.call(this);
this.jN._()};hY.prototype.dR=function(x){this.c(this.Y0[x.target.h()[0]]);this.T(new gT(S.E.A))};hY.prototype.$m=function(x){this.Mb=this.jN.h().toLowerCase();
this.aA8()};hY.akI=!1;hY.prototype.OZ=function(){if(!this.mO)return;var x=this.DH;if(x==null||!hY.akI){var F=new gT(S.E.M,!0);
F.data={d:S.H.ij,jL:{url:"rsrc/basic/Default.csh"}};this.T(F);hY.akI=!0}else{var W=Math.floor(38*v.e1()),n=Math.floor(38*v.e1());
this.CR=[];for(var w=0;w<x.length;w++)this.CR.push(hY.aoN(x[w],W,n));this.aA8();this.mO=!1}};hY.prototype.aA8=function(){var x=Math.floor(38*v.e1()),F=Math.floor(38*v.e1());
this.Y0=[];var W=[],n=[],L=this.DH;for(var w=0;w<L.length;w++){if(L[w].DX.toLowerCase().indexOf(this.Mb)==-1)continue;
this.Y0.push(L[w]);W.push(this.CR[w]);n.push(L[w].DX)}this.FB.Yl(W,n,x,F)};hY.prototype.c=function(x){this.gW=hY.clone(x);
this.sD()};hY.prototype.sD=function(){var x=Math.floor(23*v.e1()),F=Math.floor(23*v.e1()),W=hY.aoN(this.gW,x,F);
this.DB.setAttribute("src",W);v.H$(this.DB,x,F)};hY.prototype.h=function(){return hY.clone(this.gW)};
hY.clone=function(x){return{DX:x.DX,TY:x.TY,$:t.C$.uF(x.$),A$:x.A$.clone()}};hY.Mt=null;hY.$j=null;hY.aoN=function(x,F,W){var n=t.C$.uF(x.$),L=x.A$,$=Math.min(F/L.m,W/L.e)*.9,l=new iJ;
l.translate(-.5,-.5);l.scale(.95,.95);l.translate(.5,.5);l.scale($*L.m,$*L.e);r.j.js(n,l);var k=new t.C$;
k.$=n;var V=k.GH();V.rect.x=Math.floor((F-V.rect.m)/2);V.rect.y=Math.floor((W-V.rect.e)/2);var i=r.R(V.rect.P()*4);
r.rW(V.channel,i,3);var f=hY;if(f.Mt==null)f.Mt=v.t("canvas");var X=f.Mt,s=X.getContext("2d");if(X.width!=F||X.height!=W||f.$j==null){X.width=F;
X.height=W;f.$j=s.createImageData(F,W)}var R=f.$j;R.data.fill(0);r.sh(i,V.rect,R.data,new eu(0,0,F,W));
s.putImageData(R,0,0);return X.toDataURL()};function fg(x){gz.call(this,x,!1,"ICCButton",16*13,12*13,iC.ug,!0);
this.FB.fT(1)}fg.prototype=new gz;fg.prototype.I_=function(){var x="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var w=0;w<x.length;w++)x[w]="luts/"+x[w]+".CUBE";return x};fg.prototype.dR=function(x){this.c(this.DH[x.target.h()]);
this.T(new gT(S.E.A))};fg.prototype.OZ=function(){if(!this.mO)return;var x=Math.floor(1*v.e1()),F=Math.floor(1*v.e1()),W=[],n=[],L=this.DH;
for(var w=0;w<L.length;w++){var $=L[w].Nm.v.split("\\").pop().split("/").pop();n.push($);W.push(fg.k7(L[w],x,F))}this.FB.Yl(W,n,x,F);
this.mO=!1};fg.prototype.c=function(x){this.gW=JSON.parse(JSON.stringify(x));this.sD()};fg.k7=function(x,F,W){var n=v.t("canvas"),l="ICC / 3DL / look / cube";
n.width=F;n.height=W;var L=n.getContext("2d"),$=Math.floor(14*v.e1());L.font=$+"px sans-serif";if(x.Nm)l=x.Nm.v.split("\\").pop().split("/").pop();
L.fillText(l,10,$);return n.toDataURL()};fg.prototype.sD=function(){var x=Math.floor(120*v.e1()),F=Math.floor(20*v.e1());
this.DB.setAttribute("src",fg.k7(this.gW,x,F));v.H$(this.DB,x,F)};fg.prototype.h=function(){return JSON.parse(JSON.stringify(this.gW))};
function dg(){bS.call(this);this.EE=null;this.n=v.t("span","fitem");this.vg=new cZ([14,9]);this.nr=new c_(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.K2=new kD;this.DI=[this.vg,this.nr,this.K2];for(var w=0;w<this.DI.length;w++){var x=this.DI[w];
this.n.appendChild(x.n);x.parent=this;x.k(S.E.A,this.N$,this)}}dg.prototype=new bS;dg.prototype._=function(){for(var w=0;
w<this.DI.length;w++)this.DI[w]._()};dg.prototype.AW=function(x,F){this.vg.AW(x,F)};dg.prototype.N$=function(x){var F=this.EE,W=this.vg.h();
eC.QE(F,W);F.strokeStyleLineWidth.v.val=this.nr.h();if(x.target==this.K2)F=this.K2.h();this.EE=F;this.T(new gT(S.E.A,!1))};
dg.prototype.c=function(x,F,W){this.EE=JSON.parse(JSON.stringify(F));var n=eC.$p(F);this.vg.c(x,n,W);
this.nr.c(F.strokeStyleLineWidth.v.val);this.K2.c(F)};dg.prototype.h=function(){return JSON.parse(JSON.stringify(this.EE))};
function cK(x){var F=[[18,0],[18,1],[18,2],[18,3]],W=c7.sJ(["set/front","set/union","set/difference","set/intersection"]);
c7.call(this,x?[12,36]:null,W,F)}cK.prototype=new c7;function gW(){bS.call(this);this.n=v.t("button","fitem bbtn");
v.p6(this.n,this.dG.bind(this));this.ut=new bS;this.ut.n=v.t("div","floatcont form");this.ut.n.setAttribute("style","max-width: 200px;");
this.ut.parent=this;var x=cS;this.gz=[new j2("Start"),new j2("End"),new x([12,41],0,100,"px",null,!0,null,!0),new x([12,80,0],0,100,"px",null,!0,null,!0),new x("Concavity",-50,50,"%",null,null,null,!0)];
for(var w=0;w<this.gz.length;w++){var F=this.gz[w];F.parent=this;F.k(S.E.A,this.jx,this);this.ut.n.appendChild(F.n)}this.anR=v.t("div");
this.ut.n.appendChild(this.anR)}gW.prototype=new bS;gW.prototype.c=function(x){for(var w=0;w<5;w++)this.gz[w].c(x[w]);
this.tW()};gW.prototype.h=function(x){var F=[];for(var w=0;w<5;w++)F[w]=this.gz[w].h();return F};gW.prototype._=function(){this.n.textContent=hz.get([12,93,4]);
for(var w=0;w<this.gz.length;w++)this.gz[w]._()};gW.prototype.jx=function(x){this.T(new gT(S.E.A,!1));
this.tW()};gW.prototype.tW=function(x){var F=this.h(),W=200,n=60;F[2]/=v.e1();F[3]/=v.e1();var L=r.j.sk.gZ(0,n/2,W,n/2,5,F),$=r.j.lp(L);
this.anR.innerHTML="<svg width=\""+W+"\" height=\""+n+"\" class=\"gsicon\">\t\t\t<path d=\""+$.g$+"\" />\t\t\t</svg>"};
gW.prototype.dG=function(x){if(v.Ww(this.ut.n))return;x.stopPropagation();var F=this.n.getBoundingClientRect(),W=new gT(S.E.M,!0);
W.data={d:S.H.OO,f_:this.ut,x:F.left,y:F.top+F.height,Je:!0};this.T(W)};function iS(){bS.call(this);
this.n=v.t("div");this.Ek=[];this.ayU=[];var x=this.Zg=v.t("div"),F=v.t("h2");F.textContent="Create Teams";
x.appendChild(F);F.style.margin="26px 0 16px 0";var W=new cX("More about Teams",!1,null,!0);F.appendChild(W.n);
W.n.style.float="right";W.k("click",this.aiL,this);this.Y7=v.t("div");x.appendChild(this.Y7);this.a8m=new f8("Team Name",null,10);
x.appendChild(this.a8m.n);var n=this.aln=new cX("Create Team",null,null,!0);x.appendChild(n.n);n.k("click",this.alc,this);
var F=v.t("h2");F.textContent="Join Teams";x.appendChild(F);F.style.margin="26px 0 16px 0";this.eq=v.t("div");
x.appendChild(this.eq);this.atF=new f8("Team ID",null,10);x.appendChild(this.atF.n);var n=new cX("Join Team",null,null,!0);
x.appendChild(n.n);n.k("click",this.alc,this);this.akJ;this.a3u=this.Lv.bind(this);this.a0I=this.arM.bind(this);
this.Vh=!1;this.ih();this.yX=null;this.a26=""}iS.prototype=new bS;iS.prototype.aiL=function(x){var F=new gT(S.E.M,!0);
F.data={d:S.H.Ih,link:"https://www.photopea.com/api/accounts#teams"};this.T(F)};iS.prototype.ih=function(){clearTimeout(this.anl);
this.anl=setTimeout(this.a0I,this.yX?10:3e3)};iS.prototype.arM=function(){var x=ii.KP();if(document.hidden||!v.Ww(this.n)||x==null){this.ih();
return}var F=ii.F0();if(this.yX==null&&F==null)return;ii.am(this.yX?this.yX:F,this.a3u);this.Vh=!0;this.yX=null};
iS.prototype.auY=function(x){x.acc.update=!0;this.n.style.pointerEvents="none";this.n.style.opacity="0.5";
if(this.Vh)this.yX=x;else{clearTimeout(this.anl);ii.am(x,this.a3u)}};iS.prototype.sy=function(x){var F=typeof x=="string"?this.akJ:this.Ek.indexOf(x.target),W=this.ayU[F],n=W[0],L=ii.F0();
if(L==null)L={};var $=L.acc,l=$.tjoin,k=$.tstart;if(n=="leave"){l.splice(l.indexOf(W[1]),1)}if(n=="add"||n=="remove"||n=="delTeam"||n=="showRename"||n=="rename"){var V=-1,i=0;
for(var w=0;w<k.length;w++){i+=k[w][1].length;if(k[w][2]==W[1])V=w}var X=k[V];if(n=="add"){var s=ii.vR();
if(s&&s[0]==0&&s[1][2]<=i){alert("You can have at most "+s[1][2]+" members in your Premium.");return}X[1].push(W[2])}if(n=="remove")X[1].splice(X[1].indexOf(W[2]),1);
if(n=="delTeam"){if(X[1].length!=0){alert("Remove members first.");return}k.splice(V,1)}if(n=="showRename"){var R=new gT(S.E.M,!0);
R.data={d:S.H.Ar,ip:"namewindow",aG:X[0],Fv:this.sy.bind(this)};this.T(R);this.akJ=F;W[0]="rename";return}if(n=="rename")X[0]=x}this.auY(L)};
iS.prototype.alc=function(x){var F=this.aln==x.target,W=(F?this.a8m:this.atF).h().trim();if(W==""){alert("The Team "+(F?"Name":"ID")+" is empty.");
return}if(!F){W=parseInt(W);if(isNaN(W)){alert("The ID must be a number");return}}var n=ii.F0();if(n==null)n={};
var L=n.acc;if(L==null)L=n.acc={};var $=L.tstart,l=L.tjoin;if(F){if($==null)$=L.tstart=[];if($.length>5){alert("You can have at most 5 teams");
return}$.push([W,[]])}else{if($)for(var w=0;w<$.length;w++)if($[w][2]==W){alert("You are the owner of this team");
return}if(l==null)l=L.tjoin=[];if(l.indexOf(W)!=-1){alert("You already asked to join this team.");return}L.tjoin.push(W)}L.update=!0;
this.auY(n)};iS.prototype.Lv=function(){this.Vh=!1;var x=ii.KP(),F=x!=null,W=this.Zg.parentNode!=null;
if(F!=W){v.Ri(this.n);if(F)this.n.appendChild(this.Zg);else this.n.textContent="Log In to access Team Settings."}if(!F)return;
var n=ii.F0();if(n==null)n={};var L=n.acc;if(L==null)L={};var $=JSON.stringify(L)+"===="+JSON.stringify(x);
if($!=this.a26){this.a26=$;var l=this.Y7,k=this.eq;v.Ri(l);v.Ri(k);var V=this.Ek=[],i=this.ayU=[],f=this.sy.bind(this);
function X(J,E){J.addEventListener("click",f);V.push(J);i.push(E)}function s(u,J){var y=v.t("div"),E="rgba(255,255,255,0.15)";
y.appendChild(h("ID: "+u[2],54,E));y.appendChild(h(u[0],160,null,!0));if(J){y.appendChild(h(u[1].length+" members",80,null,!0))}else{y.appendChild(h(u[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<u[1]*1e3)y.appendChild(h("Premium",80,"rgba(0,140,0,1)"))}var T=h("",120);y.appendChild(T);
T.setAttribute("style","float:right;text-align:right");if(J){var c=new cX("Rename",null,null,!0);X(c,["showRename",u[2]]);
T.appendChild(c.n)}var c=new cX(J?"Delete":"Leave",null,null,!0);X(c,[J?"delTeam":"leave",u[2]]);T.appendChild(c.n);
return y}function R(J,E,C){var y=v.t("div");y.style.paddingLeft="46px";y.appendChild(h(E?"\u2713":"...",8,E?"#229922":"#aa7700"));
y.appendChild(h(J[1],200));y.appendChild(h(J[2],240));var T=h("",120);y.appendChild(T);T.setAttribute("style","float:right;text-align:right");
var c=new cX(E?"Remove":"Add",null,null,!0);X(c,[E?"remove":"add",C,J[0]]);T.appendChild(c.n);return y}function h(J,E,T,c){var a=v.t("span");
a.textContent=J;a.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+E+"px;  "+(T!=null?"background-color:"+T+";":"")+(c?"font-weight:bold;":""));
return a}var B=L.tstart,e=L.tjoin,U=x.wantToJoin,o=x.inTeams;if(B)for(var b=0;b<B.length;b++){var u=B[b],Z=U["t"+u[2]];
if(Z==null)Z=[];var I={};for(var w=0;w<Z.length;w++)I["u"+Z[w][0]]=Z[w];var y=s(u,!0);l.appendChild(y);
y.style.marginTop="10px";for(var w=0;w<u[1].length;w++){var D=u[1][w],N=I["u"+D];if(N==null)N=[D,"========","... user has left your team"];
delete I["u"+D];var j=R(N,!0,u[2]);l.appendChild(j)}for(var H in I){var N=I[H],j=R(N,!1,u[2]);l.appendChild(j)}}if(e){var Q={};
for(var w=0;w<o.length;w++)Q["t"+o[w][2]]=o[w];for(var b=0;b<e.length;b++){var C=e[b],u=Q["t"+C],y=s(u?u:["==========",-1,C],!1);
k.appendChild(y)}}this.T(new gT(S.E.A))}if(this.yX==null){this.n.style.pointerEvents="auto";this.n.style.opacity="1"}this.ih()};
function ad(){bS.call(this);this.aU=[16,!0,!0];this.n=v.t("span","");this.sM=[new c_([12,24],0,255),new j2([12,25,1]),new j2([12,25,0])];
for(var w=0;w<3;w++){var x=this.sM[w];x.parent=this;x.c(this.aU[w]);this.n.appendChild(x.n);x.k(S.E.A,this.N$,this)}}ad.prototype=new bS;
ad.prototype.N$=function(){for(var w=0;w<3;w++)this.aU[w]=this.sM[w].h();this.T(new gT(S.E.A,!1))};ad.prototype.c=function(x){this.aU=x.slice(0);
for(var w=0;w<3;w++)this.sM[w].c(x[w])};ad.prototype.h=function(){return this.aU.slice(0)};ad.prototype._=function(){for(var w=0;
w<3;w++)this.sM[w]._()};function eL(x,F){bS.call(this);if(F==null)F=!1;this.CR=[];this.Zz=Math.floor(120*v.e1());
this.aho=Math.floor(23*v.e1());this.gu=0;this.PS=[];this.bb=[];for(var W in r.xP.type){if((W=="warpCustom"||W=="warpCylinder")&&!F)continue;
this.PS.push(W);this.bb.push(r.xP.type[W])}this.n=v.t("span","fitem warpbutton");this.ut=new bS;this.ut.n=v.t("div","floatcont");
if(x){this.tm=x;this.yJ=v.t("label","flabel");this.n.appendChild(this.yJ)}this.d=v.t("button");this.n.appendChild(this.d);
v.p6(this.d,this.dG.bind(this));this._y=new eP(!0);this.ut.n.appendChild(this._y.n);this._y.k(S.E.A,this.a4Z,this);
this.ut.n.setAttribute("style","width:"+Math.floor(8+this.Zz/v.e1())+"px;");this._()}eL.prototype=new bS;
eL.prototype.rT=function(x){this.yJ.textContent=x};eL.prototype._=function(){if(this.tm)this.yJ.innerHTML=hz.get(this.tm)+":";
this.sD()};eL.ahD={};eL.a8U=function(x,F,W){var n=hz.get(r.xP.type[x]),L=n+"-"+x+"-"+F+"-"+W,$=eL.ahD[L];
if($)return $;var l=eL.yG;if(k==null){var k=v.t("canvas");l=eL.yG=k.getContext("2d")}var k=l.canvas;
if(k.width!=F||k.height!=W){k.width=F;k.height=W}l.font=Math.floor(13*v.e1())+"px sans-serif";l.lineWidth=1;
l.strokeStyle="#000000";var V=Math.floor(16*v.e1()),i=new eu(0,0,V,V);l.clearRect(0,0,k.width,k.height);
var f=r.xP.xP(x,x=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);r.xP.a8o(f[3],i);var X=r.Z.o4(i);
X.G.push("M","L","M","L");X.p.push(0,V/2,V,V/2);X.p.push(V/2,0,V/2,V);X=r.Z.ik(X);X=r.Z.Hs(X,V/5);r.AH.i(f,X.p,i);
r.Z.i(X.p,new iJ(1,0,0,1,Math.floor(8*v.e1())+.5,Math.floor(3*v.e1())+.5),X.p);l.beginPath();Typr.U.pathToContext({cmds:X.G,crds:X.p},l);
l.stroke();l.fillText(n,Math.floor(40*v.e1()),Math.floor(16*v.e1()));$=eL.ahD[L]=k.toDataURL();return $};
eL.prototype.dG=function(x){if(v.Ww(this.ut.n))return;x.stopPropagation();var F=this.Zz,W=this.aho;for(var w=0;
w<this.PS.length;w++)this.CR[w]=eL.a8U(this.PS[w],F,W);this._y.Yl(this.CR,null,F,W);var n=this.d.getBoundingClientRect(),L=new gT(S.E.M,!0);
L.data={d:S.H.OO,f_:this.ut,x:n.left,y:n.top+n.height+4};this.T(L)};eL.prototype.a4Z=function(x){var F=new gT(S.E.M,!0);
F.data={d:S.H.qk,f_:this.ut};this.T(F);this.gu=x.target.h()[0];this.sD();this.T(new gT(S.E.A))};eL.prototype.sD=function(){var x=this.Zz,F=this.aho;
this._y.c([this.gu]);this.d.innerHTML="<img src=\""+eL.a8U(this.PS[this.gu],x,F)+"\" class=\"gsicon\" />";
v.H$(this.d.firstChild,x,F)};eL.prototype.h=function(){return this.PS[this.gu]};eL.prototype.c=function(x){this.gu=this.PS.indexOf(x);
this.sD()};function hH(x,F,W){bS.call(this);if(x==null)x=!1;if(F==null)F=!1;if(W==null)W=!1;this.as2=F;
this.xP=null;this.PW=new eL([12,22],W);this.PW.parent=this;this.PW.k(S.E.A,this.Hc,this);this.lm=new hx([22,0],[[22,4,0],[22,4,1]]);
this.lm.k(S.E.A,this.Hc,this);var n=x?c_:cS;this.Tx=new n([22,1],-100,100,"%");this.L1=new n("Horizontal Distortion:",-100,100,"%");
this.FL=new n("Vertical Distortion:",-100,100,"%");this.Tx.parent=this.L1.parent=this.FL.parent=this;
this.Tx.k(S.E.A,this.Hc,this);this.L1.k(S.E.A,this.Hc,this);this.FL.k(S.E.A,this.Hc,this)}hH.prototype=new bS;
hH.prototype._=function(){this.PW._();this.lm._();this.Tx._();var x=this.as2?1:100;this.L1.rT(hz.get([22,2]).substring(0,x)+":");
this.FL.rT(hz.get([22,3]).substring(0,x)+":")};hH.prototype.Hc=function(){var x=this.xP,F=this.PW.h(),W=x.warpStyle.v.warpStyle;
if(F=="warpCustom")r.xP.oz(x,r.xP.Bs(x));else delete x.customEnvelopeWarp;x.warpStyle.v.warpStyle=this.PW.h();
x.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.lm.h()];var n=this.Tx.h();x.warpPerspective.v=this.L1.h();x.warpPerspectiveOther.v=this.FL.h();
if(F=="warpNone"||F=="warpCustom"){n=0;x.warpPerspective.v=0;x.warpPerspectiveOther.v=0}else if(W=="warpNone"||W=="warpCustom"||W=="warpCylinder")n=50;
if(F!="warpCylinder"){x.warpValue={t:"doub",v:n};delete x.warpValues}else{x.warpValues=O.Y.ud([0,100,100,0,.15,.2,1]);
delete x.warpValue}this.T(new gT(S.E.A,!1));this.c(x)};hH.prototype.h=function(x){return JSON.parse(JSON.stringify(this.xP))};
hH.prototype.c=function(x){this.xP=JSON.parse(JSON.stringify(x));var F=x.warpStyle.v.warpStyle,W=F=="warpNone"||F=="warpCustom"||F=="warpCylinder";
this.PW.c(F);if(!W){this.lm.c(x.warpRotate.v.Ornt=="Hrzn"?0:1);this.Tx.c(x.warpValue.v);this.L1.c(x.warpPerspective.v);
this.FL.c(x.warpPerspectiveOther.v)}var n=[this.lm,this.Tx,this.L1,this.FL];for(var w=0;w<n.length;w++)if(W)n[w].H8();
else n[w].cy()};function dt(x){bS.call(this);this.XL={};this.n=v.t("div");this.Q4=x;this.v8=null;this.Hh=new eX(0,0);
this.OS="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.T3=null;this.jv=new v.YC(this.n);
this.r0("grab");this.Mt=v.t("canvas","canv");this.n.appendChild(this.Mt);this.yG=this.Mt.getContext("2d",{willReadFrequently:!0});
this.a39=null;this.FX=null;this.RM=null;this.Jh=0;this.akf=0;this.vW=0;this.Ht=0;this.axG=this.a8S.bind(this);
this.aBg=null;this.U=new iE({m:1,e:1});this.HU=null;this.T8=null;this._5=[];this.awg=0;this.qq=0;this.afr=this.uT.bind(this);
this.a8$=this.Fj.bind(this);this.aeY=this.ji.bind(this);this.ay3=this.s4.bind(this);this.aA1=0;this.Dl=null;
this.alo(this.Mt);this.Yk(this)}dt.prototype=new bS;dt.prototype.a2Y=function(x){this.XL=x;this.sr()};
dt.cZ=function(x){var F=new gp(!0);if(x>=0)F.ou("Space");if(x>=1){F.ou("ControlLeft");if(x==2)F.ou("AltLeft")}return F};
dt.prototype.lH=function(x){var F=this.T3,W=null;if(x.S(gp.QM)){W="grab";if(x.S(gp.Fr)){W="zoom-in";
if(x.S(gp.d8))W="zoom-out"}}this.v8=W;if(W)F=W;this.jv.Lv(F,this.OS);if(x.S(gp.Fr)){var n=0;if(x.S(gp.Yu))n=1;
if(x.S(gp.VB))n=-1;if(n!=0){this.A6(new eX(this.Mt.width/2,this.Mt.height/2),n==1)}}};dt.prototype.r0=function(x){this.T3=x;
if(this.v8)return;this.jv.Lv(x,this.OS)};dt.prototype.alo=function(x){v.p6(x,this.afr);v.OC(x);x.addEventListener("wheel",this.ay3,!1)};
dt.prototype.Yk=function(x){x.k("viewchange",this.a2g,this)};dt.prototype.a2g=function(x){var F=this.U.Q,W=x.currentTarget.rR();
this.U.Q=W.Q;this.U.J=W.J.clone();if(F!=W.Q)this.b9();this.sr()};dt.prototype.rR=function(){return{Q:this.U.Q,J:this.U.J}};
dt.prototype.c=function(x,F,W,n){var L=x[0].Sf;if(this.FX!=null&&this.FX[0].Sf.rr(L)){}else{this.U.GE={m:L.m,e:L.e};
this.U.Q=1;this.U.J=new eX(0,0)}this.FX=x;this.b9(n);this.Rx();this.Jh=0;this.akf=Date.now();this.vW=0;
this.Ht=F==null?0:F;if(W)this.XL=W;this.a8S()};dt.prototype.s4=function(x){x.preventDefault();if(x.deltaY==0||Date.now()-this.aA1<100)return;
var F=v.iF(x);F.x=v.e1()*F.x;F.y=v.e1()*F.y;this.aA1=Date.now();this.A6(F,x.deltaY<0)};dt.prototype.A6=function(x,F){O.Ov.qU(this.U,x,F);
this.a16()};dt.prototype.Ud=function(x){var F=this.U,W=F.GE;this.U.Q=O.Ov._i(W.m,W.e,F.$f.m,F.$f.e);
if(x)this.U.J=new eX(0,0);this.a16()};dt.prototype.a16=function(){this.b9();this.T(new gT("viewchange"));
this.T(new gT("zoom"))};dt.prototype.b9=function(x){var F=this.RM;this.RM=[];var W=this.U.Q;if(this.FX==null)return;
if(x){var n=r.y2(W),L=1;for(var $=0;$<n.length;$++)L*=n[$];var l=x.x,k=x.y,V=l+x.m,i=k+x.e;l=Math.floor(l/L)*L;
V=Math.ceil(V/L)*L;k=Math.floor(k/L)*L;i=Math.ceil(i/L)*L;x=new eu(l,k,V-l,i-k)}for(var w=0;w<this.FX.length;
w++){var f=this.FX[w],X=new Uint8Array(f.data),s;if(W>=1)s={Xu:X,rect:f.Sf};else{if(F&&F[w]&&x){var R=r.R(x.P()*4);
r.sh(X,f.Sf,R,x);var h=r.xt(R,x,W),B=h.rect;B.x=Math.floor(B.x*W);B.y=Math.floor(B.y*W);s=F[w];r.sh(h.Xu,h.rect,s.Xu,s.rect)}else s=r.xt(X,f.Sf,W)}this.RM[w]=s}};
dt.prototype.Rx=function(){clearTimeout(this.aBg)};dt.prototype.sr=function(){if(this.FX==null||!v.Ww(this.Mt))return;
var x=this.a39,F=this.Mt.width,W=this.Mt.height,h,B;if(x==null||x.width!=F||x.height!=W){x=this.a39=this.yG.createImageData(F,W);
console.log("creating image data")}var n=this.FX[this.Jh],L=this.RM[this.Jh],$=this.U,l=$.GE,k=$.$f,V=k.m,i=k.e,f=l.m*$.Q,X=l.e*$.Q,s=Math.round((V-f)/2+$.J.x),R=Math.round((i-X)/2+$.J.y);
if($.Q<=1){B=L.rect.clone();B.x=s;B.y=R;f=B.m;X=B.e;h=L.Xu}else{var e=1/$.Q,U=new eu(Math.floor((k.x-s)*e),Math.floor((k.y-R)*e),Math.ceil(k.m*e)+1,Math.ceil(k.e*e)+1),o=new eu(0,0,U.m*$.Q,U.e*$.Q);
o.x=U.x*$.Q+s;o.y=U.y*$.Q+R;if($.IM==null||$.IM.length!=U.P()*4){$.IM=r.R(U.P()*4)}if($.Pd==null||$.Pd.length!=o.P()*4){$.Pd=r.R(o.P()*4)}r.De($.IM,0);
r.sh(L.Xu,L.rect,$.IM,U);r.scale.du($.IM,U.m,U.e,$.Pd,o.m,o.e,$.Q);h=$.Pd;B=o}var b=new Uint8Array(x.data.buffer);
r.aq(b,V,i,8,-s,-R);r.l.X3("norm",h,B,b,k,k,1);var u=this.yG;u.setTransform(1,0,0,1,0,0);u.putImageData(x,0,0);
u.clearRect(s-4e3,R,4e3,X);u.clearRect(s+f,R,4e3,X);u.clearRect(s-4e3,R-4e3,f+8e3,4e3);u.clearRect(s-4e3,R+X,f+8e3,4e3);
var Z=dt.aqv($.Q,"#ffffff");u.putImageData(Z,0,$.$f.e-Z.height);var I=this.XL,$=this.U;if(I){var y=k9.qP([.1,.5,1,1]),D=k9.qP([1,0,0,1]),N=k9.qP([1,1,1,1]),j=k9.qP([0,0,0,1]),H=$.gy(!1);
H.sx();u.save();u.setTransform(H.V,H.z,H.Pu,H.P9,H.yq,H.Ze);u.strokeStyle=D;if(I.agA){k9.nT(I.agA,null,u);
u.lineWidth=1/$.Q;u.stroke()}u.strokeStyle=N;if(I.a0T){k9.nT(I.a0T,null,u);u.lineWidth=1/$.Q;u.stroke();
u.strokeStyle=j;u.setLineDash([4/$.Q,4/$.Q]);u.stroke();u.setLineDash([])}u.strokeStyle=y;u.fillStyle=k9.qP([1,1,1,1]);
if(I.HV){k9.nT(I.HV,null,u);u.lineWidth=1/$.Q;u.stroke()}if(I.sC){k9.VK(I.sC,u,$,.5);u.lineWidth=2/$.Q;
u.stroke();u.fill()}if(I.D9){u.font=16/$.Q+"px sans-serif";var Q=1/$.Q;for(var w=0;w<I.D9.length;w++){var C=I.D9[w],J=C[0],E=C[1]+6/$.Q,T=C[2];
u.fillStyle="black";u.fillText(T,J-Q,E);u.fillText(T,J+Q,E);u.fillStyle="white";u.fillText(T,J,E)}}u.restore()}u.getImageData(0,0,1,1)};
dt.a3y="";dt.a2B=null;dt.aqv=function(x,F,W,n){if(W==null){W=0;n=0}var L=W+" \xD7 "+n,$="z"+x+","+F+","+W+","+n;
if($==dt.a3y)return dt.a2B;var l=Math.round(50*v.e1()),k=Math.round(18*v.e1()),V=W==0?0:Math.round((L.length+2)*k*.35),i=v.t("canvas"),f=i.getContext("2d");
i.width=l+V;i.height=k;f.fillStyle="rgba(1,1,1,1)";f.fillRect(0,0,l,k);if(W!=0)f.fillRect(l+2,0,V,k);
f.font=Math.round(11*v.e1())+"px monospace";f.fillStyle=F;var X=x*100;if(X<100)X=X.toFixed(2);else X=Math.round(X);
X=X+"%";var R=f.measureText(X).width;f.fillText(X,(l-R)/2,Math.round(k*.7));if(W!=0){var h=f.measureText(L).width;
f.fillText(L,l+(V-h)/2+1,Math.round(k*.7))}var B=f.getImageData(0,0,l+V,k);dt.a3y=$;dt.a2B=B;return B};
dt.prototype.a8S=function(){var x=this.FX,F=x.length,W=this.Jh,n=this.FX[W],L=(W+1)%F;this.sr();var $=Date.now();
if(F!=1&&x[L].Sf.rr(n.Sf)){var l=n.PV?parseInt(n.PV.split(",").pop()):30;if(l==0)l=16;if(L==0)this.vW++;
if(this.Ht==0||this.vW<this.Ht)this.aBg=setTimeout(this.axG,l)}this.Jh=L;this.akf=$};dt.prototype.z4=function(x,F){if(x<=0||F<=0)return;
var W=Math.floor(x*v.e1()),n=Math.floor(F*v.e1());this.U.$f=new eu(0,0,W,n);this.Mt.width=W;this.Mt.height=n;
this.Mt.setAttribute("style","width:"+W/v.e1()+"px; height:"+n/v.e1()+"px; display:block;");this.sr()};
dt.prototype.Cg=function(x){var F=-1,W=this._5;for(var w=0;w<W.length;w++)if(W[w].pointerId==x.pointerId)F=w;
return F};dt.prototype.uT=function(x){var F=this.Cg(x),W=this._5;if(F!=-1)W[F]=x;else W.push(x);if(W.length==1){this.Dl=x.target;
v.FJ(window,this.a8$);v.UJ(window,this.aeY);this.HU=v.iF(x,this.Mt);this.HU.x*=v.e1();this.HU.y*=v.e1();
this.Hh=this.HU;this.T8=this.U.J.clone();if(this.Q4&&this.Dl==this.Mt&&!this.v8)this.T(new gT("mousedown"))}else this.awg=this.qq=eX.I9(v.iF(W[0],this.Mt),v.iF(W[1],this.Mt))};
dt.prototype.Fj=function(x){var F=this.Cg(x),W=this._5;if(F!=-1)W[F]=x;var n=this.U,L=this.v8,$=this.FX[this.Jh].Sf.clone();
$.m*=n.Q;$.e*=n.Q;var l=v.iF(x,this.Mt);l.x*=v.e1();l.y*=v.e1();this.Hh=l;if(this.Q4&&this.Dl==this.Mt&&!L)this.T(new gT("mousemove"));
else if(L=="grab"||L==null){if(W.length>1){var k=v.iF(W[0],this.Mt),V=v.iF(W[1],this.Mt),i=new eX(v.e1()*(k.x+V.x)/2,v.e1()*(k.y+V.y)/2),f=eX.I9(k,V),X=null;
if(f>this.qq+50){this.qq+=50;X=!0}if(f<this.qq-50){this.qq-=50;X=!1}if(X!=null)this.A6(i,X);return}else{var s=l.x-this.HU.x,R=l.y-this.HU.y;
n.J.x=this.T8.x+Math.round(s);n.J.y=this.T8.y+Math.round(R)}this.T(new gT("viewchange"))}};dt.prototype.ji=function(x){var F=this.Cg(x),W=this._5;
W.splice(F,1);if(W.length==0){v.ac(window,this.a8$);v.bg(window,this.aeY);var n=this.v8;if(x.detail>1){this.U.Q=1;
this.U.J.xz(0,0);this.sr()}if(this.Q4&&this.Dl==this.Mt&&!this.v8)this.T(new gT("mouseup"));else{if(n=="zoom-in"||n=="zoom-out")this.A6(this.Hh,n=="zoom-in")}}else{var L=this.HU=v.iF(W[0],this.Mt);
L.x*=v.e1();L.y*=v.e1()}};dt.prototype.Ib=function(x){var F=this.Hh;if(x){F=v.iF(x,this.Mt);F.x*=v.e1();
F.y*=v.e1()}return this.U.m$(F.x,F.y)};function a1(){bS.call(this);this.wU=null;this.a2=null;this.Ks=null;
this.tZ=null;this.a8y="";this.i6=[];this.M_=0;this.Hb=[];this.FS=0;this.Mh=null;var x=this.n=v.t("div",""),F=this.ael=v.t("div","form");
F.setAttribute("style","line-height:0; margin-bottom:0.5em;");x.appendChild(F);var W=this.tm=v.t("span");
F.appendChild(W);W.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var n=this.abe=new j2([25,2,0]);
n.c(!0);F.appendChild(n.n);n.k(S.E.A,this.tL,this);var L=this.oS=new j2([25,2,1]);L.c(!0);F.appendChild(L.n);
L.k(S.E.A,this.tL,this);var $=new e8(" ");F.appendChild($.n);var l=this.AD=new f8([25,1,1]);F.appendChild(l.n);
l.k(S.E.A,this.tL,this);this.fY=new ji(14);this.fY.a5v(3);F.appendChild(this.fY.n);this.fY.parent=this;
this.fY.k(S.E.A,this.ac$,this);var k=this.a5b=new cX([25,1,2],null,null,!0);F.appendChild(k.n);k.k("click",this.xq,this);
var V=new cX("?",null,null,!0);F.appendChild(V.n);V.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.ayT=this.atK.bind(this);this.lx=v.t("div","svggallery scrollable");x.appendChild(this.lx);this.lx.addEventListener("scroll",this.aup.bind(this))}a1.prototype=new bS;
a1.prototype.AW=function(x){this.ajf=x};a1.prototype._=function(){this.tm.textContent=hz.get([25,0]);
this.fY._();this.abe._();this.oS._();this.AD._();this.a5b._()};a1.prototype.z4=function(x,F){this.wU=new eX(x,F);
this.ael.setAttribute("style","width:"+x+"px");var W=this.ael.getBoundingClientRect();F-=W.height;this.lx.setAttribute("style","width:"+x+"px; height:"+F+"px");
if(v.Ww(this.n))this.tL()};a1.prototype.c=function(x){this.a2=x;this.tL()};a1.prototype.aup=function(x){var F=this.lx;
if(F.scrollTop+F.clientHeight+10>=F.scrollHeight){this.tL(!0)}};a1.prototype.ac$=function(x){this.Ks=null;
this.tL()};a1.prototype.atK=function(x){if(Date.now()-this.FS<2e3)return;this.FS=Date.now();this.M_=this.Hb.indexOf(x.currentTarget);
var F=this.CI(this.a2.x,this.a2.y);if(F[1]){var W=F[1].largeImageURL,n=new XMLHttpRequest;n.responseType="arraybuffer";
n.open("GET",W,!0);n.onload=this.a86.bind(this);n.send();return}this.adI(F)};a1.prototype.a86=function(x){var F=x.target.response,W=jW.XM(F),n=jW.w0(W),L=n.La(F),$=this.CI(this.a2.x,this.a2.y,[F,L[0].Sf.m,L[0].Sf.e]);
this.adI($)};a1.prototype.adI=function(x){var F=x[0],W=jW.XM(F),n=jW.w0(W),L=new az("template.psd");
n.La(F,L);var $=new gT("tempready",!0);$.data={GE:L};this.T($)};a1.prototype.xq=function(x){var F=x.target;
this.i6=[];this.Ks=null;this.tL()};a1.prototype.aow=function(x){var F=JSON.parse(x.target.response),W=this.tZ=F.hits;
for(var w=0;w<W.length;w++)if(W[w].user_id==6314823)W.splice(w,1);this.tL()};a1.prototype.tL=function(x){if(this.a2==null||this.wU==null||this.ajf==null)return;
if(this.wU.x<=0)return;var F=this.a2.x,W=this.a2.y;if(Math.min(F,W)<50)return;if(x!=!0){this.Hb=[];v.Ri(this.lx);
this.lx.scrollTop=0}if(this.Hb.length>300)return;var n=Math.min(1,300/Math.max(F,W)),L=this.wU.clone();
L.x-=20;var $=Math.max(1,Math.floor(L.x/(F*n))),l=Math.max(1,Math.ceil(L.y/(W*n)));n=L.x/$/F;var k=$*l;
if(this.Ks==null){var V=this.ajf.op.vF(),i=[];for(var f in V){var X=V[f],s=X[3];if(!this.fY.p_(X))continue;
if(X[5]==null||X[5].slice(0,2)=="gf")continue;i.push(X)}if(i.length==0)i.push(V.DejaVuSans);var R=i.length;
for(var w=0;w<R*10;w++){var h=Math.floor(Math.random()*R),B=Math.floor(Math.random()*R),e=i[h];i[h]=i[B];
i[B]=e}i=i.slice(0,10);this.Ks=i}var U=this.oS.h(),o=this.AD.h().trim();this.AD.DE(U);if(U&&(this.tZ==null||o!=this.a8y)){var b=new XMLHttpRequest,u="https://pixabay.com/api/?image_type=photo"+(o==""?"":"&q="+encodeURIComponent(o))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(o=="")u="plugins/gallery.json";b.open("GET",u,!0);b.onload=this.aow.bind(this);b.onerror=function(j){console.log(j.target.response)};
b.send();this.a8y=o;return}n*=(F*n-5)/(F*n);var Z=this.Hb.length;for(var w=0;w<k;w++){var I=this.M_=Z+w;
if(this.i6[I]==null)this.i6[I]=Math.floor(Math.random()*4294967295);var y=this.CI(Math.round(F*n),Math.round(W*n)),D=y[0];
D=_.NM(new Uint8Array(D));var N=v.t("span");N.innerHTML=D;this.Hb.push(N);this.lx.appendChild(N);N.addEventListener("click",this.ayT,!1)}};
a1.prototype.CI=function(x,F,W){var n=this.oS.h(),L=this.abe.h(),$=n&&this.tZ.length!=0?this.tZ:null;
if(L&&!n)$=null;if(L&&n&&(this.M_&1)==0)$=null;return cM.sk(x,F,this.i6[this.M_],this.Ks,W?W:$)};function fr(){bS.call(this);
this.n=v.t("div");this.Zg=null;this.ara=null;this.in=-1;this.T_={JPG:[{TZ:new cS([12,52,0],0,100,"%",null,null,!0),oc:70},{TZ:new j2("attach metadata"),oc:!1}],TIFF:[{TZ:new j2("attach metadata"),oc:!1}],WEBP:[{TZ:new cS([12,52,0],0,100,"%",null,null,!0),oc:70},{TZ:new j2("attach metadata"),oc:!1}],GIF:[{TZ:new cS([12,52,0],0,100,"%",null,null,!0),oc:100},{TZ:new j2([12,23,3]),oc:!1}],PNG:[{TZ:new cS([12,52,0],0,100,"%",null,null,!0),oc:100},{TZ:new j2("don't use palettes"),oc:!1}],BMP:[{TZ:new j2("don't use palettes"),oc:!1}],PDF:[{TZ:new f8([12,52,1]),oc:""},{TZ:new cS([12,52,0],0,100,"%",null,null,!0),oc:100},{TZ:new j2("reverse pages"),oc:!1},{TZ:new j2("rasterize all"),oc:!1},{TZ:new j2("vectorize text"),oc:!1},{TZ:new cS("Add Margin",0,5,"in",2),oc:0},{TZ:new j2("add crop marks"),oc:!1}],EMF:[{TZ:new f8([12,52,1]),oc:""},{TZ:new cS([12,52,0],0,100,"%",null,null,!0),oc:100},{TZ:new j2("reverse pages"),oc:!1},{TZ:new j2("rasterize all"),oc:!1},{TZ:new j2("vectorize text"),oc:!1},{TZ:new cS("Add Margin",0,5,"in",2),oc:0}],SVG:[{TZ:new j2("add raster graphics"),oc:!0},{TZ:new j2("add hidden layers"),oc:!1},{TZ:new j2("vectorize text"),oc:!1},{TZ:new j2("rasterize text"),oc:!1},{TZ:new j2("minify"),oc:!1}],RAW:[{TZ:new c7([12,72],["1","3","4"]),oc:2},{TZ:new c7([12,34],["8 Bits","16 Bits"]),oc:0},{TZ:new c7("Byte Order",["12-34","34-12"]),oc:0}],DDS:[{TZ:new hx("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),oc:0},{TZ:new j2("Add Mipmaps"),oc:!0}],MP4:[{TZ:new cS([12,52,0],0,100,"%",null,null,!0),oc:50}],anim:[{TZ:new cS("Speed",10,1e3,"%",null,!0,!0),oc:100},{TZ:new c_("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),oc:0},{TZ:new j2("reverse frames"),oc:!1},{TZ:new j2("boomerang"),oc:!1}],slcs:[{TZ:new j2([8,11,0]),oc:!0}],artb:[{TZ:new j2([1,16,1]),oc:!0}],hicc:[{TZ:new j2("convert to sRGB"),oc:!0}]};
for(var x in this.T_){var F=this.T_[x];for(var w=0;w<F.length;w++){F[w].TZ.c(F[w].oc);F[w].TZ.k(S.E.A,this.BC,this)}}}fr.prototype=new bS;
fr.prototype.apR=function(){this.in=-1};fr.prototype._=function(){for(var x in this.T_)for(var w=0;w<this.T_[x].length;
w++)this.T_[x][w].TZ._()};fr.prototype.BC=function(){this.tL();this.T(new gT(S.E.A,!1))};fr.prototype.tL=function(){var x=this.Zg,F=x[0],W=x[1],n=x[2],L=x[3],$=x[4],l=this.T_[F];
if(l==null)l=[];else l=l.slice(0);if(W)l=l.concat(this.T_.anim);if(["GIF","PNG","JPG"].indexOf(F)!=-1&&n)l=l.concat(this.T_.slcs);
else if(["GIF","PNG","JPG","SVG"].indexOf(F)!=-1&&L)l=l.concat(this.T_.artb);if($)l=l.concat(this.T_.hicc);
var k=x.join(",");if(k!=this.in){this.in=k;v.Ri(this.n);for(var w=0;w<l.length;w++){if(F=="PDF"&&!L&&(w==0||w==2))continue;
this.n.appendChild(l[w].TZ.n);v.kE(this.n)}}var V=this.ara=[];for(var w=0;w<l.length;w++)V.push(l[w].TZ.h())};
fr.prototype.lD=function(x,F,W,n,L){this.Zg=[x,F,W,n,L];this.tL()};fr.prototype.h=function(){return this.ara.slice(0)};
fr.prototype.c=function(x,F){var W=this.Zg,n=W[0],L=this.T_[n],$=Math.min(L.length,x.length);for(var w=0;
w<$;w++)L[w].TZ.c(x[w]);this.tL();if(F!=!0)this.BC()};function jQ(){bS.call(this);this.n=v.t("span","fitem");
this.Tj=!1;this.tQ=new cX("No",!1,"Cancel");this.an=new cX("Yes",!1,"Confirm");this.n.appendChild(this.tQ.n);
this.n.appendChild(this.an.n);this.tQ.k("click",this.TK,this);this.an.k("click",this.TK,this);this._()}jQ.prototype=new bS;
jQ.prototype._=function(){this.tQ.rT(v.ol("cross",null,"autoscale"));this.an.rT(v.ol("checkmark",null,"autoscale"))};
jQ.prototype.TK=function(x){this.Tj=x.target==this.an;this.T(new UIEvent("click"))};jQ.prototype.h=function(){return this.Tj};
function hS(x){bS.call(this);this.n=v.t("span","fitem");this.G1=new cX("\u25BC",null,"Auto Options",!0);
v.p6(this.G1.n,this.auD.bind(this));this.n.appendChild(this.G1.n);this.bv=new cX("Auto",null,null,!0);
this.bv.k("click",this.jx,this);this.n.appendChild(this.bv.n);this.vw=new gM("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.vw.k(S.E.A,this.jx,this);this.vw.c([!1,!1,!1,!0]);this.ut=new bS;var F=this.ut.n=v.t("div","floatcont form");
F.setAttribute("style","width: 250px;");this.ut.parent=this;F.appendChild(this.vw.n);this.Gw=[];for(var w=0;
w<2;w++){var W=new c_((w==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);W.c(.1);W.k(S.E.A,this.jx,this);
this.Gw.push(W);F.appendChild(W.n)}}hS.prototype=new bS;hS.prototype.jx=function(x){this.T(new gT(S.E.A,!1))};
hS.prototype._=function(){};hS.prototype.h=function(){return[this.vw.h().indexOf(!0),this.Gw[0].h(),this.Gw[1].h()]};
hS.prototype.auD=function(x){if(v.Ww(this.ut.n))return;x.stopPropagation();var F=this.G1.n.getBoundingClientRect(),W=new gT(S.E.M,!0);
W.data={d:S.H.OO,f_:this.ut,x:F.left,y:F.top+F.height+4};this.T(W)};function b9(){bS.call(this);var x=this.n=v.t("div","fitem");
this.ZG=new hx([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.ZG.k(S.E.A,this.N$,this);x.appendChild(this.ZG.n);
this.p7=new d1(!1);this.p7.parent=this;this.p7.KB(16777215);this.p7.k(S.E.A,this.N$,this);x.appendChild(this.p7.n)}b9.prototype=new bS;
b9.prototype._=function(){this.ZG._();this.p7._()};b9.prototype.aAX=function(x){var F=[x.artboardBackgroundType.v-1];
if(x.Clr)F.push(x.Clr.v);this.c(F)};b9.prototype.ayS=function(){var x=this.h();return{classID:"artboard",Clr:{t:"Objc",v:x[1]},artboardBackgroundType:{t:"long",v:x[0]+1}}};
b9.prototype.c=function(x){this.ZG.c(x[0]);if(x[1])this.p7.c(x[1])};b9.prototype.h=function(){return[this.ZG.h(),this.p7.h()]};
b9.prototype.N$=function(x){if(x.target==this.p7)this.ZG.c(3);this.T(new gT(S.E.A,!1))};function jP(x){bS.call(this);
this.oG=x;this.mj=0;this.a6E=!1;this.oD=x?new jP.as:null;this.n=v.t("div","flexrow storageset");this.n.style.background="var(--bg-panel)";
this.gF=v.t("div");this.n.appendChild(this.gF);this.Mo=v.t("div");this.n.appendChild(this.Mo);this.hD=[];
var F=Storage.list.length;if(x)F=F+1+jP.kb.length;var W=this.ob.bind(this);for(var w=0;w<F;w++){var n=v.t("div");
this.hD.push(n);this.gF.appendChild(n);n.addEventListener("click",W,!1)}this.ob(null,0)}jP.prototype=new bS;
jP.HA=[];jP.ty=function(x){jP.HA.push(x);x.tW()};jP.iz=function(){var x=jP.HA;x.pop();x[x.length-1].tW()};
jP.prototype.tW=function(){console.log(this.mj);this.ob(null,this.mj)};jP.prototype.AW=function(x,F){if(!x.Kx&&!this.a6E){var W=this.oG?2:1;
for(var w=W;w<this.hD.length;w++)this.gF.removeChild(this.hD[w]);this.a6E=!0;if(this.oG)this.oD.AW(x,F)}if(this.Ag)this.Ag.AW(x,F)};
jP.prototype._=function(){if(this.oG)this.oD._();if(this.Ag)this.Ag._()};jP.prototype.ob=function(x,F){var W=this.hD,n;
if(F==null)F=W.indexOf(x.currentTarget);this.mj=F;for(var w=0;w<W.length;w++)v.B$(W[w],"active");v.fX(W[F],"active");
if(this.oG)F--;v.Ri(this.Mo);var L=Storage.list.length;if(F==-1)n=this.oD;else if(F<L)n=Storage.A3(F);
else{var $=jP.kb[F-L];n=new jP.zF($[1])}this.Ag=n;n.parent=this;this.Mo.appendChild(n.n);this.z4(this.Xv,this.eD);
this._()};jP.prototype.z4=function(x,F){this.Xv=x;this.eD=F;var W=x<850,n=W?50:200,L=Storage.list;if(this.oG)L=[["Home",null,"strg/home"]].concat(L.concat(jP.kb));
for(var w=0;w<L.length;w++){var $=this.hD[w],l="padding: 8px "+(W?13:36)+"px; cursor:pointer;";$.setAttribute("style",l);
var k=L[w][2],V=k.indexOf(".")!=-1;k=V?k:PIMG[k];$.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\""+(V?"":"gsicon")+"\" src=\""+k+"\" /> "+(W?"":L[w][0])}this.n.style.width=x+"px";
this.n.style.height=F+"px";this.gF.style.width=n+"px";this.gF.style.paddingTop="32px";if(this.Ag)this.Ag.z4(x-n,F)};
jP.kb=[["Design contest","code/storages/wows.html","img/wows_logo.png",!0,"Join the contenst!",1686144664]];
for(var w=0;w<jP.kb.length;w++)if(jP.kb[w][5]*1e3<Date.now()){jP.kb.splice(w,1);w--}jP.as=function(){this.tO=null;
var x=this.n=v.t("div");x.style.background="var(--bg-canvas)";var F=this.JZ=v.t("div");x.appendChild(F);
var W=v.t("style");x.appendChild(W);W.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var w=0;w<2;w++){var n=v.t("div"),W="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";F.appendChild(n);
if(w==0)W+="padding: 12px 0px";if(w==1)W+="position:absolute;  bottom:0;";n.setAttribute("style",W);
var L=v.t("img");n.appendChild(L);L.setAttribute("src",PIMG[w==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(w==0)this.Hf=L;else this.al8=L;if(w==0)this.alN=n;else this.aqz=n}this.hD=[];W="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var $=this.ks.bind(this),l=v.t("div");F.appendChild(l);l.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var w=0;w<4;w++){var k=v.t("span","bhover");this.hD.push(k);k.setAttribute("style",W+"cursor:pointer; padding:12px;");
k.addEventListener("click",$,!1);l.appendChild(k)}v.kE(F);var n=v.t("div");n.setAttribute("style",W+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
n.textContent="Drop any files here";F.appendChild(n);this.Mt=v.t("canvas");this.Mt.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.yG=this.Mt.getContext("2d");this.avU=r.R(4);x.appendChild(this.Mt);var V=new Date().getDate(),i=new Date().getMonth();
if(i==11&&V>20||i==0&&V<10){var f=Math.random()<.5,X={o:255,r:255,z:255};if(!f){X=r.zi(Math.random(),Math.random()*.7,1);
X.o*=255;X.r*=255;X.z*=255}this.EH=[Math.round(1048575*Math.random()),f?.05:.02,Math.round(4+Math.random()*8),1,f?3:15,X,0,!0,f,f?1:.2,3];
this.a2q=f?.1:.2;this.fP=this.BS.bind(this);window.requestAnimationFrame(this.fP)}};jP.as.prototype=new bS;
jP.as.prototype.BS=function(){window.requestAnimationFrame(this.fP);if(!v.Ww(this.n))return;var x=this.avU,F=this.Mt,W=this.yG,n=F.width,L=F.height;
this.EH[6]=Date.now()*.001*this.a2q;r.YQ.tC(x,n,L,this.EH,!0);W.putImageData(new ImageData(new Uint8ClampedArray(x.buffer),n,L),0,0)};
jP.as.prototype.ks=function(x){var w=this.hD.indexOf(x.currentTarget),F=new gT(S.E.M,!0);if(w==0)F.data={d:S.H.Ar,ip:"newproject"};
if(w==1)F.data={d:S.H.aS};if(w==2)F.data={d:S.H.Ar,ip:"res0"};if(w==3)F.data={d:S.H.X4};this.T(F)};jP.as.prototype._=function(){var x=this.hD,F=[[11,7],[1,6],[25,0],[0,17,6]],W=["\u2605","\uD83E\uDC7F","\u25A3"],W=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var w=0;w<x.length;w++)x[w].innerHTML="<span style=\"vertical-align:middle\">"+v.ol(W[w],null,"autoscale")+"</span>\u2000"+hz.get(F[w]);
var n="l"+"o"+"g"+"o",L=n+"_"+["pp","vp"][aH],$=new Date;if($.getMonth()==3&&$.getDate()==1)L="lo"+"go_cuc"+"umber";
if(PIMG[n])L=n;this.Hf.setAttribute("src",PIMG[L]);this.al8.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
jP.as.prototype.z4=function(x,F){var W=Math.min(F*1.5,Math.min(x,600));v.vI(this.Mt,x,W*.26);var n=this.Mt.width,L=this.Mt.height;
this.avU=r.R(n*L*4);this.n.style.width=x+"px";this.n.style.height=F+"px";this.aqz.style.width=x+"px";
this.JZ.style.marginLeft=Math.max(0,Math.round((x+200-600)/2)-200)+"px";this.Hf.style.width=W+"px";this.al8.style.width=W+"px"};
jP.as.prototype.AW=function(x,F){var W=x;if(x==null)x=this.Mh;this.Mh=x;if(!x.Kx&&this.hD[2].parent){this.JZ.removeChild(this.hD[2]);
this.JZ.removeChild(this.hD[3])}this.hD[3].style.display=x.MS?"inline-block":"none";if(W)this.tO=setTimeout(this.AW.bind(this),100)};
jP.zF=function(x){var F=this.n=v.t("iframe");F.style.background="var(--bg-canvas)";F.setAttribute("src",x)};
jP.zF.prototype=new bS;jP.zF.prototype.z4=function(x,F){var W=this.n;W.style.width=x+"px";W.style.height=F+"px"};
jP.zF.prototype.AW=function(){};function Storage(x){bS.call(this);var F=this.n=v.t("div","storage");
v.Fs(F);F.addEventListener("drop",this.ayK.bind(this),!1);var W=this.abg=v.t("style");F.appendChild(W);
F.setAttribute("tabindex","0");F.style.outline="none";F.addEventListener("keydown",this.aeg.bind(this),!1);
this.z6=this.acS.bind(this);this.EO=0;this.v1=0;var n=v.t("div");F.appendChild(n);var L=this.a5_.bind(this);
this.Sw=v.t("div","bar");n.appendChild(this.Sw);this.Vu=v.t("div","fls scrollable");n.appendChild(this.Vu);
this.Dr=v.t("div");n.appendChild(this.Dr);this.Dr.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.EX=v.t("div","bar");this.EX.textContent="Name: ";var $=this.CP=v.t("input");$.setAttribute("type","text");
this.EX.appendChild($);var l=this.At=v.t("div","btn");l.textContent="Save";this.EX.appendChild(l);v.UJ(l,L);
v.p6(this.Vu,this.z6);this.PX=0;this.y8=x;var k=this.aeV.bind(this),V=this.azX=v.t("div");V.setAttribute("style","text-align:center; font-size:1.6em");
var i=v.t("img");V.appendChild(i);v.kE(V);i.setAttribute("src",PIMG[Storage.list[this.y8][2]]);i.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
v.UJ(i,k);this.Qw=v.t("div","btn");V.appendChild(this.Qw);v.UJ(this.Qw,k);this.j3=new g$([{name:[6,20]},{name:[5,2],$H:[gp.Fr,gp.l8],w:function(){return{w:Storage.pt!=null}}}]);
this.j3.parent=this;this.j3.k("select",this.kA,this);this.Vu.addEventListener("contextmenu",this.z6);
this.aiU=v.t("span");this.cm=v.t("span");this.cm.setAttribute("style","position:absolute; right:0; top:5px;");
this.Ge=[];this.a0=[];for(var w=0;w<3;w++){var f=v.t("div","btn");this.Ge.push(f);this.aiU.appendChild(f);
v.UJ(f,L);f.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][w]}for(var w=0;w<5;w++){var f=v.t("div","btn");
this.a0.push(f);this.cm.appendChild(f);v.UJ(f,L)}window.addEventListener("message",this.aAh.bind(this),!1);
this.a5j=!1;this.$W=0;setInterval(this.ao3.bind(this),300);this.HE();var X=this.awZ=document.createElement("input");
X.setAttribute("type","file");X.addEventListener("change",this.ayK.bind(this),!1);document.body.appendChild(X);
X.setAttribute("style","display:none");X.setAttribute("multiple","")}Storage.prototype=new bS;Storage.py=!1;
Storage.prototype.ayK=function(x){x.stopPropagation();x.preventDefault();var F=x.dataTransfer?x.dataTransfer.files:x.target.files;
this.a8F=F.length;Storage.pt={};for(var w=0;w<F.length;w++){var W=F[w],n=new FileReader;n.jh=W;n.onload=this.aui.bind(this);
n.readAsArrayBuffer(W)}};Storage.prototype.aui=function(x){var F=Storage.pt;F[x.target.jh.name]=x.target.result;
this.a8F--;if(this.a8F==0)this.wb()};Storage.prototype.AW=function(x,F){var W=Storage.list[this.y8][3],n=ii.KP();
if(W){if(this.$W==1&&v.Ww(this.n)&&n!=null){this.HE()}if(this.$W==2&&n==null){this.rh("forget","")}}};
Storage.prototype.ao3=function(){var x=v.Ww(this.n),F=this.a5j;if(x&&!F){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!x&&F){window.onpopstate=function(){};history.go(-1)}this.a5j=x};
Storage.prototype.HE=function(){if(this.iZ)document.body.removeChild(this.iZ);this.g7=[[]];this.Xf=0;
this.a58={"/":[]};this.alv="";this.TM=null;this.sM=[];this.yt=[];this.a49=[];this.aw0=null;var x="code/storages/"+Storage.list[this.y8][1],F=this.iZ=v.t("iframe");
F.setAttribute("src",x);F.setAttribute("style","display:none");document.body.appendChild(F)};Storage.prototype.$d=function(){return this.a58[this.jj()]};
Storage.prototype.w7=function(x){this.a58[this.jj()]=x};Storage.A3=function(w){var x=Storage.St[w];if(x==null)x=Storage.St[w]=new Storage(w);
return x};Storage.St=[];Storage.tq=0;Storage.aC1="";Storage.fT=function(x,F){Storage.tq=x;Storage.aC1=F;
var W=Storage.St;for(var w=0;w<W.length;w++)if(W[w])W[w].tW()};Storage.a94=[500*(1<<20),5e3*(1<<20)];
Storage.hZ=0;Storage.t2=2;Storage.TE=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.ayB=function(x){for(var w=0;w<Storage.St.length;w++){if(Storage.St[w]&&Storage.St[w].iZ.contentWindow==x)return!0}return!1};
Storage.prototype.aeg=function(x){if(x.target.tagName=="INPUT")return;var F=gp;if(F.ii(x.code,F.bl)&&this.jj().length!=0)this.aAI();
else if(x.ctrlKey){if(F.ii(x.code,F.H)){var W=[];this.w7(W);for(var w=0;w<this.TM.length;w++)W.push(w);
this.EP()}if(F.ii(x.code,F.PA))this.bu(2);if(F.ii(x.code,F.l8))this.wb()}else if(F.ii(x.code,F.hI)){var n=this.$d();
if(n.length!=0)this.arG(n[0])}else if(F.ii(x.code,F.F_)){this.Xf=Math.max(this.Xf-1,0);this._f()}else{var L=0;
for(var w=65;w<=90;w++)if(x.code=="Key"+String.fromCharCode(w))L=w;if(L!=0){var $=String.fromCharCode(L).toLowerCase(),l=[],k=this.TM,V;
for(var w=0;w<k.length;w++)if(k[w][0][0].toLowerCase()==$)l.push(w);if(l.length==0)return;var n=this.$d();
if(n.length==0)V=l[0];else{var i=l.indexOf(n[0]);if(i==-1){V=l[0];for(var w=0;w<l.length;w++)if(l[w]>n[0]){V=l[w];
break}}else V=l[(i+1)%l.length]}this.w7([V]);this.EP(!0)}}};Storage.prototype.z4=function(x,F){this.Xv=x;
this.eD=F;this.n.style.width=x+"px";this.n.style.height=F+"px";var W=x-30,n=Math.floor(W/230),W=Math.floor(W/n)-70;
this.abg.textContent=".storage .tile .name {  width:"+W+"px;  }";this.CP.style.width=x-140+"px";this.Vu.style.width=this.Sw.style.width=x-20+"px";
this.Vu.style.height=F-70-(Storage.tq==0?0:45)+"px"};Storage.prototype.aeV=function(){this._f()};Storage.prototype._f=function(){this.v1=1;
this.rh("show",this.jj())};Storage.prototype.jj=function(x){var F=this.g7[this.Xf],W="/"+F.join("/");
if(x&&F.length!=0)W+="/";return W};Storage.prototype.a5_=function(x){var F=x.currentTarget,W=this.Xf,n=this.Ge.indexOf(F),L=this.a0.indexOf(F);
if(n>=0&&!this.aek(n))return;if(n==0){this.Xf=Math.max(W-1,0);this._f()}if(n==1){this.Xf=Math.min(W+1,this.g7.length-1);
this._f()}if(n==2){var $=this.g7[W+1]=this.g7[W].slice(0);$.pop();this.Xf++;this.g7=this.g7.slice(0,this.Xf+1);
this._f()}if(L==0){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.awZ.dispatchEvent(l)}if(L==1){Storage.hZ=(Storage.hZ+1)%2;this.tW()}if(L==2){Storage.t2=(Storage.t2+1)%3;
this.tW()}if(L==3){Storage.TE=(Storage.TE+1)%3;this.tW()}if(L==4){this.rh("forget","")}if(F==this.At){var k=this.CP.value.trim(),V=this.TM,i=-1;
if(!k.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");return}for(var w=0;
w<V.length;w++)if(V[w][0]==k)i=w;if(i!=-1){this.KQ("Do you really want to replace \""+k+"\"?",this.att.bind(this))}else this.att()}};
Storage.prototype.att=function(){var x=this.CP.value.trim(),F=[this.y8,this.jj(!0)+x];this.U7({d:S.H.aAn,G4:F});
this.T(new gT("canclose",!0))};Storage.prototype.wb=function(){if(Storage.pt==null)return;this.U7({d:S.H.OI,hw:hz.get("Uploading ...")});
this.EO=4;fN.A3(2,this.iZ,[this.jj(),Storage.pt,this.TM],null,this.aDM.bind(this))};Storage.prototype.aDM=function(x){this.EO=0;
this.U7({d:S.H.tU,hw:hz.get("Uploading ...")});this._f()};Storage.prototype.kA=function(x){var F=x.target.wK();
if(x.target==this.j3){if(F[0]==0){var W=[hz.get([6,20]),-1,0];this.TM.push(W);this.tW();var w=this.TM.indexOf(W),n=this.sM[w].querySelector(".name");
console.log(n);var L=new bs.PE(n,function(X){this.U7({d:S.H.OI,hw:hz.get([1,2])+" ..."});var s=this.jj(!0)+X+"/";
console.log(s);this.rh("save",s)}.bind(this),!0)}else this.wb()}else{if(F[0]==0){this.bu(2)}else if(F[0]==1){var w=this.$d()[0],$=this.TM[w],n=this.sM[w].querySelector(".name");
console.log(n);n.innerHTML=$[0];var L=new bs.PE(n,function(X){X=X.trim();var s=this.TM;for(var w=0;w<s.length;
w++)if(s[w][0]==X){alert("Item with such name already exists.");this.tW();return}var R=this.jj(!0)+$[0]+":"+X;
console.log(R);this.rh("rename",R)}.bind(this))}else if(F[0]==2){this.bu(3)}else if(F[0]==3)this.aAI();
else if(F[0]==4){this.bu(1)}else{var l=this.TM[this.$d()[0]],k=Storage.Y2(l),V=k[F[1]],i=V[0],f=this.$P().pop()[1];
if(Storage.asN(l,i)!=-1){this.rh("share",f+":"+i+":-1");alert("Unshared.")}else{this.rh("share",f+":"+i+":"+F[2]);
alert("Shared.")}}}};Storage.asN=function(x,F){var W=x[4];if(W==null)return-1;if(W.indexOf(F+":0")!=-1)return 0;
if(W.indexOf(F+":1")!=-1)return 1;return-1};Storage.prototype.aAI=function(){var x=this.$d();this.KQ("Do you really want to delete "+(x.length==1?"\""+this.TM[x[0]][0]+"\"":"these files")+"?",this.qz.bind(this))};
Storage.prototype.KQ=function(x,F){var W={d:S.H.Ar,ip:"confirm",b:x,Fv:F};this.U7(W)};Storage.prototype.bu=function(x){this.EO=x;
if(1<x)this.U7({d:S.H.OI,hw:hz.get("Downloading ...")});else this.U7({d:S.H.OI,hw:hz.get("Getting info ...")});
fN.A3(0,this.iZ,this.jj(),this.$P(!0),this.adL.bind(this))};Storage.prototype.adL=function(x){if(this.EO==1){var F=0,W=0;
for(var n in x){var L=x[n];F+=L[1];W++}this.KQ(W+" files, "+aK.LS(F)+" in total.",function(){});this.U7({d:S.H.tU,hw:hz.get("Getting info ...")});
this.EO=0}if(1<this.EO)fN.A3(1,this.iZ,x,null,this.aiR.bind(this))};Storage.prototype.aiR=function(x){if(1<this.EO){if(1<this.EO)this.U7({d:S.H.tU,hw:hz.get("Downloading ...")});
var F={},W=this.jj(!0);for(var n in x)F[n.slice(W.length)]=x[n];if(this.EO==2){Storage.pt=F;alert("Copied to a clipboard")}if(this.EO==3){var L=Object.keys(x);
if(L.length==1)jh.save(x[L[0]].buffer,L[0].split("/").pop());else jh.save(UZIP.encode(F),W=="/"?"files.zip":this.jj().split("/").pop()+".zip")}}this.EO=0};
Storage.pt=null;Storage.prototype.qz=function(){this.U7({d:S.H.OI,hw:hz.get([5,4])+" ..."});this.yt=this.$P();
this.ZQ()};Storage.prototype.ZQ=function(){if(this.yt.length==0){this.U7({d:S.H.tU,hw:hz.get([5,4])+" ..."});
this.w7([]);this._f()}else this.rh("delete",this.yt.pop()[1])};Storage.prototype.$P=function(x){var F=[],W=this.jj(!0),n=this.$d();
for(var w=0;w<n.length;w++){var L=this.TM[n[w]];if(x)F.push(L[0]);else F.push([this.y8,W+L[0]])}return F};
Storage.prototype.rh=function(x,F){v.fX(this.n,"disabled");this.alv=x;if(Storage.py)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+x+"\", \"prm\": "+JSON.stringify(F)+"  }");
this.iZ.contentWindow.postMessage("{\"code\": \""+x+"\", \"prm\": "+JSON.stringify(F)+"  }","*")};Storage.prototype.aAh=function(x){if(x.source!=this.iZ.contentWindow||this.EO!=0)return;
v.B$(this.n,"disabled");if(typeof x.data=="string"){if(Storage.py)console.log("==",Math.floor(Date.now()/1e3),x.data);
var F=JSON.parse(x.data),W=F.code,n=F.prm,L=this.alv,$=Storage.list[this.y8][3];if(W=="ready"){if($&&!n){var l=ii.KP();
console.log(l);var k=ii.F0(),V=k.acc;if(l==null){this.$W=1;alert("Log in to use this storage (press Account at the top).");
this.AN();return}var i=[],f=l.wantToJoin;for(var X in f)i.push(parseInt(X.slice(1)));var s=[],R=l.inTeams;
for(var w=0;w<R.length;w++)s.push(R[w][2]);var h={uid:l.id,limit:Storage.a94[ii.vR()?1:0],inTeams:s,myTeams:i};
h.secret=V&&V.pds?V.pds:"";this.rh("login",h);return}if($)this.$W=2;if($&&F.secret){var k=ii.F0(),V=k.acc;
if(V==null)V=k.acc={};V.pds=F.secret;ii.am(k)}if(n)this._f();else this.AN()}else if(W!="0"){if(L=="save")this.U7({d:S.H.tU,hw:hz.get([1,2])+" ..."});
if(L=="delete")this.ZQ();alert(n);this.tW()}else if(L=="show"){this.v1=0;this.TM=n;this.tW()}else if(L=="save"){this.v1=0;
this.U7({d:S.H.tU,hw:hz.get([1,2])+" ..."});this._f()}else if(L=="delete"){this.ZQ()}else if(L=="forget"){if($)this.AN();
else this.HE()}else if(L=="rename"||L=="share"){this._f()}else throw W}else{if(Storage.py)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.U7({d:S.H.ad8,G4:this.$P()[0],LK:x.data});this.U7({d:S.H.tU,hw:"Opening ..."})}};Storage.prototype.AN=function(){v.Ri(this.Sw);
v.Ri(this.Vu);v.Ri(this.Dr);this.Vu.appendChild(this.azX)};Storage.prototype.aek=function(w){if(w==0)return this.Xf>0;
if(w==1)return this.Xf<this.g7.length-1;if(w==2)return this.jj()!="/"};Storage.prototype.tW=function(){var x=Storage.list[this.y8][3],F=this.TM,W=Storage.t2,n=Storage.hZ,L=Storage.TE;
if(F==null)return;F.sort(function(C,J){var E=C[1]==-1?1:5,T=J[1]==-1?1:5,c=0;if(Math.min(E,T)==1&&E!=T)return E-T;
else if(E==1||W==0)c=C[0].toLowerCase()<J[0].toLowerCase()?-1:1;else if(W==1)c=C[1]-J[1];else if(W==2)c=C[2]-J[2];
if(n==1)c=-c;if(C[0]=="Shared")c=-1;if(J[0]=="Shared")c=1;return c});var $=this.Vu,l=this.Sw,k=this.g7[this.Xf];
v.Ri($);v.Ri(l);this.sM=[];for(var w=0;w<3;w++)if(this.aek(w))v.B$(this.Ge[w],"disabled");else v.fX(this.Ge[w],"disabled");
l.appendChild(this.aiU);l.appendChild(this.cm);var V=v.t("span");V.textContent="/";l.appendChild(V);
for(var w=0;w<k.length;w++){var V=v.t("span");V.textContent=k[w];l.appendChild(V);var V=v.t("span");
V.textContent="/";l.appendChild(V)}var i=["tile","icon","litm"][L];for(var w=0;w<F.length;w++){var f=F[w],X=f[1]==-1,s=X?"":aK.LS(f[1]),R=v.t("div","cont "+i),y=!1;
$.appendChild(R);this.sM.push(R);R.setAttribute("title",f[0]+(X?"":"\nSize: "+s+"\nDate Modified: "+new Date(f[2]*1e3).toLocaleString().replaceAll(". ",".")));
var h=v.t("img");h.setAttribute("src",X?Storage.az8:f[3]?f[3]:Storage.jh);if(!X&&f[3])h.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var B=v.t("span","name"),e=f[0];if(i=="icon"&&e.length>30)e=e.slice(0,24)+".."+e.slice(e.length-5);if(x&&k.length==1&&k[0]=="Shared"){var U=Storage.Y2(),o=parseInt(e.slice(5));
for(var b=0;b<U.length;b++)if(U[b][0]==o)e=U[b][1]}B.textContent=e;R.appendChild(h);R.appendChild(B);
if(i!="icon"&&!X){if(i=="tile")v.kE(B);var u=v.t("span");u.textContent=s;u.style.opacity="0.8";(i=="tile"?B:R).appendChild(u)}var Z=f[0].split("."),I=(Z.length==1?"":Z.pop()).toUpperCase();
if(x&&f[0]=="Shared"&&k.length==0){y=!0;I="\u21E7"}if(i!="litm"&&(!X&&f[3]==null||y)){var D=v.t("span","ext");
D.textContent=I;var N=Storage.Mf[I];D.style.backgroundColor=N?N:Storage.aCE(I);R.appendChild(D)}v.p6(R,this.z6);
R.addEventListener("contextmenu",this.z6)}this.EP();var j=this.EX.parentNode!=null,H=Storage.tq,Q=this.n;
if(j&&H==0)Q.removeChild(this.EX);if(!j&&H==1)Q.appendChild(this.EX);this.z4(this.Xv,this.eD);this._()};
Storage.prototype.EP=function(x){var F=this.sM,W=this.TM,n=this.$d(),L=!1,$=0;for(var w=0;w<F.length;
w++){var l=W[w],k=l[1]==-1,V=F[w];if(Storage.tq==1&&!k&&!l[0].toLowerCase().endsWith(".psd"))V.style.display="none";
else V.style.display="auto";if(n.indexOf(w)==-1)v.B$(V,"active");else{if(k)L=!0;else $+=l[1];v.fX(V,"active");
if(x)V.scrollIntoView({block:"center",behavior:"smooth"})}}var i=L?"":aK.LS($);this.Dr.textContent=n.length==0?"":n.length+" item"+(n.length==1?"":"s")+" selected\u2001"+i;
this.CP.value=n.length==1&&!L?W[n[0]][0]:Storage.aC1};Storage.prototype.arG=function(w){var x=this.TM[w];
if(x[1]==-1){var F=this.g7[this.Xf].slice(0);F.push(x[0]);this.Xf++;this.g7[this.Xf]=F;this.g7=this.g7.slice(0,this.Xf+1);
this.w7([]);this._f()}else if(Storage.tq==0){this.U7({d:S.H.OI,hw:"Opening ..."});this.T(new gT("canclose",!0));
var W=this.jj(!0)+x[0];this.rh("load",W)}};Storage.prototype._=function(){var x=Storage.t2,F=Storage.hZ,W=Storage.TE;
this.a0[0].textContent="Upload";this.a0[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][F];this.a0[2].textContent=hz.get([[12,48],[12,14,0],"Date"][x]);
this.a0[3].textContent=hz.get(["Tiles","Icons",[25,3,1]][W]);this.a0[4].textContent="\u2716";this.Qw.innerHTML=hz.get([[23,6],Storage.list[this.y8][0]])+"<br/><small><small>"+Storage.list[this.y8][4]+"</small></small>";
this.AW()};Storage.prototype.acS=function(x){this.U7({d:S.H.Ei});if(v.Ww(this.azX))return;if(x.button==3||x.button==4){if(Date.now()-this.a6U>50){var F=this.Xf;
if(x.button==3)this.Xf=Math.max(F-1,0);else this.Xf=Math.min(F+1,this.g7.length-1);this._f()}this.a6U=Date.now();
return}x.stopPropagation();var w=this.sM.indexOf(x.currentTarget);if(x.type=="contextmenu"){if(this.TM==null)return;
x.preventDefault();var W=this.j3;if(w!=-1){var n=[{name:[5,1],$H:[gp.Fr,gp.PA]},{name:[6,37]},{name:"Download",sz:!0},{name:[5,4],$H:[gp.bl]},{name:[9,2]}];
if(Storage.list[this.y8][3]){var L=this.TM[w],$=Storage.Y2(L);if($.length!=0){var l=[];for(var k=0;k<$.length;
k++){var V=[],i=$[k],f=Storage.asN(L,i[0]);if(f!=-1)V.push({name:"Unshare"});else V.push({name:"Allow Read"},{name:"Allow Read & Write"});
l.push({name:i[1]+[""," (R)"," (R,W)"][f+1],sub:V})}n.push({name:"Share With",sub:l})}}W=new g$(n);W.parent=this;
W.k("select",this.kA,this)}W.parent=this;W._();W.update();this.U7({d:S.H.OO,f_:W,x:x.clientX+4,y:x.clientY});
return}var X=this.$d(),s=X.indexOf(w);if(x.button!=0&&s!=-1)return;if(x.target==this.Vu)this.w7([]);
else{if(x.ctrlKey){if(s==-1)X.push(w);else X.splice(s,1)}else if(x.shiftKey&&X.length!=0){var k=X[0];
if(k<w){var R=w;w=k;k=R}X=[];this.w7(X);for(var h=w;h<=k;h++)X.push(h)}else{this.w7([w]);if(Date.now()-this.PX<300&&X.length!=0&&X[0]==w){this.arG(w);
this.PX=0}}}this.PX=Date.now();this.EP()};Storage.prototype.U7=function(x){var F=new gT(S.E.M,!0);F.data=x;
this.T(F)};Storage.Y2=function(x){var F=[],W=[],n=ii.F0(),L=n.acc.tstart;if(L)for(var w=0;w<L.length;
w++){F.push([L[w][2],L[w][0]]);W.push(L[w][2])}var $=ii.KP();L=$.inTeams;if(L)for(var w=0;w<L.length;
w++){F.push([L[w][2],L[w][0]]);W.push(L[w][2])}if(x&&x[4]){for(var w=0;w<x[4].length;w++){var l=parseInt(x[4][w].split(":")[0]);
if(W.indexOf(l)==-1)F.push([l,"Team "+l])}}return F};Storage.prototype.awJ=function(x,F){if(this.v1!=0)return 1;
this.v1=2;this.U7({d:S.H.OI,hw:hz.get([1,2])+" ..."});this.rh("save",x);if(Storage.py)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.iZ.contentWindow.postMessage(F,"*")};Storage.Mf={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.aCE=function(x){x=x.toLowerCase();
var F=0;for(var w=0;w<x.length;w++)F+=x.charCodeAt(w)*613<<8*w;return"#"+r.mZ(F&16777215)};Storage.az8="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.jh="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var fN=function(){var x,F,W,n,L,$,l,k;function V(R,h,B,e,U){F=h;n=e;l=U;x=R;$={};if(x==0){W=[B]}if(x==1){W=[];
for(var o in B)W.push(o)}if(x==2){var b=B[0],u=B[1],Z=B[2],I={};for(var w=0;w<Z.length;w++)I[Z[w][0]]=!0;
var y={};for(var o in u){var D=o.split("/"),N=D[0],j=N.split("."),H="";if(j.length!=1){H="."+j.pop();
N=j.join(".")}while(I[N+H])N+=" - Copy";D[0]=N+H;y[D.join("/")]=u[o]}var Q={};W=[];for(var o in y){var D=o.split("/");
for(var w=0;w<D.length-1;w++){var C=b+D.slice(0,w+1).join("/")+"/";if(Q[C]==null){Q[C]=!0;W.push([C])}}var J=b.endsWith("/")||o.startsWith("/")?"":"/";
W.push([b+J+o,y[o]])}}window.addEventListener("message",f,!1);k=Date.now();i()}function i(){if(W.length==0){s();
return}L=W.shift();if(x==0)X("show",L);if(x==1)X("load",L);if(x==2){X("save",L[0]);if(L.length==2)F.contentWindow.postMessage(L[1],"*")}}function f(R){if(R.source!=F.contentWindow)return;
if(x==0){var h=JSON.parse(R.data),B=h.code,e=h.prm;for(var w=0;w<e.length;w++){var U=e[w];if(n&&n.indexOf(U[0])==-1)continue;
var o=L+(L=="/"?"":"/"),b=o+U[0];if(U[1]==-1)W.push(b);else $[b]=U}n=null}else if(x==1){$[L]=new Uint8Array(R.data)}i()}function X(R,h){var B=R=="show"?", \"nothumbs\": true":"",e="{\"code\": \""+R+"\", \"prm\": "+JSON.stringify(h)+B+"  }";
F.contentWindow.postMessage(e,"*")}function s(){console.log(Date.now()-k);window.removeEventListener("message",f,!1);
l($)}return{A3:V}}();function j6(x){bS.call(this);var F=this.n=v.t("div","form scrollable padded label12");
this.pq=x;this.wc=null;var W=[],n=j6.nz[x];this.b3=[];for(var L in n){var $=parseInt(L.slice(1)),l=$%10==0?"":"\u2800\u2800- ";
W.push(l+n[L]);this.b3.push($)}this.kS=[new f8("Name",null,30),new f8("Description",null,30,4),x==0?new f8("File"," www.Photopea.com#i...",17):new jj("File",!1,!1),new f8("Thumbnail URL","* Use Imgur.com etc.",17),new hx("Category",W),new j2("Make Public"),new cX("<< Back",null,null,!0),new cX("Save",null,null,!0)];
if(x==0)this.kS.push(new e8("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new e8("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(x==1)this.kS.push(new e8("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(x!=0)this.kS.push(new e8("Do not load any file to preserve the old version."));for(var w=0;w<this.kS.length;
w++){var k=this.kS[w];F.appendChild(k.n);k.parent=this;if(w!=4&&w!=6)v.kE(F);if(k instanceof cX)k.k("click",this.aDD,this);
if(x!=0&&w==2)k.k(S.E.A,this.a62,this)}}j6.prototype=new bS;j6.prototype.a62=function(x){var F=this.kS[2],W=F.h(),n=Object.keys(W),L=W[n[0]].buffer,$=jW.XM(L),l=" json atn abr grd asl pat csh icc".split(" ")[this.pq];
if($!=l){alert("This is a wrong file"+($?" ("+$.toUpperCase()+")":"")+". You need to upload the "+l.toUpperCase()+" file.");
F.c({})}};j6.prototype.aDD=function(x){if(x.target==this.kS[6]){this.T(new gT("back"));return}var F=this.kS[3].h().trim(),W=F.startsWith("http")&&(F.endsWith(".jpeg")||F.endsWith(".jpg")||F.endsWith(".png")||F.endsWith(".gif"));
if(!W){alert("Thumbnail URL is incorrect.");return}var n=new XMLHttpRequest,L="mirror.php?url="+encodeURIComponent(F);
n.open("GET",L);n.responseType="arraybuffer";n.onload=this.amU.bind(this);n.send()};j6.prototype.amU=function(x){var F=x.target.response,W=F.byteLength;
if(W>2e5&&jW.XM(F)!="gif"){alert("Thumbnail is too large ("+aK.LS(W)+"). Make it under 200 kB.");return}var n=this.kS[2].h(),L=Object.keys(n);
if(this.pq!=0&&L.length==0&&(this.wc==null||this.wc.file==null||this.wc.file=="")){alert("You need to select a file.");
return}if(this.pq!=0&&L.length!=0){console.log(n);jh.Zg.a6_(n[L[0]].buffer,L[0],this.a0q.bind(this),"pp-resources");
return}this.a0q()};j6.prototype.a0q=function(x){var F=this.pq,W="name desc file thmb catg publ".split(" "),n=this.wc;
for(var w=0;w<6;w++){if(F!=0&&w==2)continue;var L=this.kS[w].h();if(w<=3){L=L.trim();if(L.length==0){alert("One of values is empty.");
return}}if(w==2){var $=L.split("#i");if($.length!=2||$[1].length!=8){alert("File ID is incorrect.");
return}L=$.pop()}if(w==4)L=this.b3[L];n[W[w]]=L}if(F!=0){if(x)n.file=x;else if(n.file==null){alert("Select a file from your computer.");
return}}if(n.utme.length==0)n.utme=""+Math.round(Date.now()/1e3);n.type=F;this.T(new gT("save"))};j6.prototype._=function(){};
j6.prototype.c=function(x){var F=this.wc=JSON.parse(JSON.stringify(x)),W=this.pq,n="name desc file thmb catg publ".split(" ");
for(var w=0;w<6;w++){if(W!=0&&w==2)continue;var L=F[n[w]];if(L!=""&&w==2)L="https://photopea.com#i"+L;
if(w==4)L=this.b3.indexOf(L);if(w==5&&L==null)L=!0;this.kS[w].c(L)}};j6.prototype.h=function(){return JSON.parse(JSON.stringify(this.wc))};
j6.nz=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function bn(x){bS.call(this);this.PB=x;this.n=v.t("div","");this.ly=[];this.EU=null;this.atl=[]}bn.prototype=new bS;
bn.prototype.dp=function(x){};bn.prototype.z5=function(){return!1};bn.prototype.z4=function(x,F){};bn.prototype.AW=function(x,F){};
bn.prototype.hf=function(x){};bn.prototype.c=function(x,F,W,n,L,$){var l=[],k=this.ly,V=0,i=ew.ro["s"+this.PB];
if(this.PB=="Dspl")this.gl(x,l,$);else i?i(x,l,$):this.gl(x,l,$);for(var w=0;w<k.length;w++)if(!(k[w]instanceof e8))k[w].c(l[V++]);
if(x.RndS)this.EU=x.RndS.v};bn.prototype.h=function(){var x=ew.Iz(this.PB),F=[],W=this.ly,n=0;for(var w=0;
w<W.length;w++)if(!(W[w]instanceof e8))F[n++]=W[w].h();var L=ew.ro["g"+this.PB];if(this.PB=="Dspl")this.He(x,F);
else L?L(x,F):this.He(x,F);if(x.RndS)x.RndS.v=this.EU;return x};bn.prototype.lH=function(x){};bn.prototype.Hc=function(x){if(x&&x.target instanceof cX){this.EU=Math.floor(Math.random()*4294967295)}var F=this.atl;
for(var w=0;w<F.length;w+=2){var W=this.ly[F[w]],n=this.ly[F[w+1]],L=W.h(),$=n.h();if(x.target==W)n.c(Math.max(L,$));
else W.c(Math.min(L,$))}this.T(new gT(S.E.A))};bn.prototype._=function(){for(var w=0;w<this.ly.length;
w++)this.ly[w]._();var x=this.ajZ;if(x)x._()};bn.prototype.pk=function(x){v.fX(this.n,"form");var F=this.ly;
for(var w=0;w<F.length;w++){var W=F[w];W.parent=this;W.k(S.E.A,this.Hc,this);this.n.appendChild(W.n);
if(W instanceof j2&&F[w+1]instanceof d1)continue;if(x&&x.indexOf(w)!=-1)v.K0(this.n);else v.kE(this.n)}var n=ew.Iz(this.PB);
if(n.RndS){var L=this.ajZ=new cX([25,1,2],null,null,!0);this.n.appendChild(L.n);L.k("click",this.Hc,this)}};
bn.prototype.Us=function(x){return!1};bn.prototype.nw=function(){return!1};bn.prototype.pI=function(x,F,W,n,L){};
bn.prototype.Lx=function(x,F,W,n,L){};bn.prototype.t8=function(x,F,W,n,L){};bn.prototype.He=function(x,F){};
bn.prototype.gl=function(x,F){};bn.prototype.XG=function(x){var F=x.target.h().indexOf(!0)!=-1,W=new gT(S.E.M,!0);
W.Kh=!0;W.data={d:F?S.H.Ac:S.H.g3,f:O.Ym};this.T(W);W=new gT(S.E.v,!0);W.f=O.Ym;W.Kh=!0;W.data={d:"supertool",f:F?this:null};
this.T(W)};bn.aaL=function(x){x.nw=function(){return!0};x.pI=function(F,W,n,L,$){this.AG=!0;this.a11(F,$)};
x.Lx=function(F,W,n,L,$){if(!this.AG)return;this.a11(F,$)};x.t8=function(F,W,n,L,$){this.AG=!1};x.a11=function(F,W){var n=new eu(0,0,F.m,F.e);
if(F.u)n=F.u.rect;var L=F.U.m$(W.x,W.y);L.x-=n.x;L.y-=n.y;function $(l,k){return Math.round(Math.max(0,Math.min(100,100*l/k)))}this.ly[2].c($(L.x,n.m));
this.ly[3].c($(L.y,n.e));this.Hc()}};bn.Bokh=function(){bn.call(this,"Bokh");this.ly=[new hx("Depth Map",["A","b"]),new cS("Focal Distance",0,255),new j2([4,11]),new hx([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new cS([12,56],0,100),new cS([12,15],0,360),new cS([12,2],0,100),new cS([4,13],0,255),new cS([24,6],0,100),new c7([12,58],[[12,59,0],[12,59,1]]),new j2([12,60])];
this.pk([5,7])};bn.Bokh.prototype=new bn;bn.Bokh.prototype.gl=function(x,F,W){var n=[[22,5,0],[6,5,3],[6,2]],L=x.BkDi.v.BtDi,$=x.BkDc,l=0;
if(L=="BeIn")l=0;else if(L=="BeIt"&&$.v.BtDc=="BeCt")l=1;else if(L=="BeIt"&&$.v.BtDc=="BeCm")l=2;else l=3+$.v;
for(var w=0;w<W[1].length;w++)n.push(W[1][w].name);this.ly[0].A1(n,[3]);F[0]=l;F[1]=x.BkDp.v;F[2]=x.BkDs.v;
F[3]=parseInt(x.BkIs.v.BtIs.slice(3))-3;F[4]=x.BkIb.v;F[5]=x.BkIr.v;F[6]=x.BkSb.v;F[7]=x.BkSt.v;F[8]=x.BkNa.v;
F[9]=x.BkNt.v.BtNt=="BeNu"?0:1;F[10]=x.BkNm.v};bn.Bokh.prototype.He=function(x,F){var W;if(F[0]==0){W="BeIn";
delete x.BkDc}else if(F[0]<3){W="BeIt";x.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][F[0]-1]}}}else{W="BeIa";
x.BkDc={t:"long",v:F[0]-3}}x.BkDi.v.BtDi=W;x.BkDp.v=F[1];x.BkDs.v=F[2];x.BkIs.v.BtIs="BeS"+(3+F[3]);
x.BkIb.v=F[4];x.BkIr.v=F[5];x.BkSb.v=F[6];x.BkSt.v=F[7];x.BkNa.v=F[8];x.BkNt.v.BtNt=["BeNu","BeNg"][F[9]];
x.BkNm.v=F[10]};bn.oilPaint=function(){bn.call(this,"oilPaint");this.ly=[new cS([12,56],.1,10,"px",!0),new cS("Cleanliness",0,10,"px",!0),new cS([12,38],.1,10,null,!0),new cS("Bristle Detail",0,10,null,!0),new j2("Lighting"),new cS("Shine",0,10,null,!0),new bv([12,15])];
this.pk()};bn.oilPaint.prototype=new bn;bn.oilPaint.prototype.gl=function(x,F){var W="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var w=0;w<W.length;w++)F[w]=x[W[w]].v;F[6]=[x.LghD.v]};bn.oilPaint.prototype.He=function(x,F){var W="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var w=0;w<W.length;w++)x[W[w]].v=F[w];x.LghD.v=F[6][0]};bn.TrcC=function(){bn.call(this,"TrcC");
this.ly=[new cS("Level",0,255),new c7([12,69],[[19,4,1],[19,4,0]])];this.pk()};bn.TrcC.prototype=new bn;
bn.TrcC.prototype.gl=function(x,F){F[0]=x.Lvl.v;F[1]=["Lwr","Upr"].indexOf(x.Edg.v.CntE)};bn.TrcC.prototype.He=function(x,F){x.Lvl.v=F[0];
x.Edg.v.CntE=["Lwr","Upr"][F[1]]};bn["Dfs "]=function(){bn.call(this,"Dfs ");this.ly=[new c7([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.pk()};bn["Dfs "].prototype=new bn;bn["Dfs "].prototype.gl=function(x,F){F[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(x.Md.v.DfsM)};
bn["Dfs "].prototype.He=function(x,F){x.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][F[0]]};bn.Embs=function(){bn.call(this,"Embs");
this.ly=[new bv([12,15]),new cS([12,42],1,100,"px"),new cS([12,57],1,500,"%")];this.pk()};bn.Embs.prototype=new bn;
bn.Embs.prototype.gl=function(x,F){F[0]=[x.Angl.v];F[1]=x.Hght.v;F[2]=x.Amnt.v};bn.Embs.prototype.He=function(x,F){x.Angl.v=F[0][0];
x.Hght.v=F[1];x.Amnt.v=F[2]};bn["Wnd "]=function(){bn.call(this,"Wnd ");this.ly=[new c7([12,32],["Wind","Blast","Stagger"]),new c7([12,33],["From the Right","From the Left"])];
this.pk()};bn["Wnd "].prototype=new bn;bn["Wnd "].prototype.gl=function(x,F){F[0]=["Wnd","Blst","Stgr"].indexOf(x.WndM.v.WndM);
F[1]=["Left","Rght"].indexOf(x.Drct.v.Drct)};bn["Wnd "].prototype.He=function(x,F){x.WndM.v.WndM=["Wnd","Blst","Stgr"][F[0]];
x.Drct.v.Drct=["Left","Rght"][F[1]]};bn.denoise=function(){bn.call(this,"denoise");this.ly=[new cS([12,64],0,10),new cS([12,65],0,100,"%")];
this.pk()};bn.denoise.prototype=new bn;bn.denoise.prototype.gl=function(x,F){var W=x.channelDenoise.v[0].v;
F[0]=W.Amnt.v;F[1]=W.EdgF.v};bn.denoise.prototype.He=function(x,F){var W=x.channelDenoise.v[0].v;W.Amnt.v=F[0];
W.EdgF.v=F[1]};bn.lightFilterGradient=function(){bn.call(this,"lightFilterGradient");this.ly=[new cS([24,3,1],0,100,"px",1,!0),new cS([12,38],0,200,"%"),new j2([4,11]),new cS("High",0,100,"%"),new cS("Medium",0,100,"%"),new cS("Low",0,100,"%")];
this.pk()};bn.lightFilterGradient.prototype=new bn;bn.lightFilterGradient.prototype.gl=function(x,F){F[0]=x.blur.v;
F[1]=x.textureScale.v*100;F[2]=x.Scl.v==-1;var W=x.Dtl.v;F[3]=W[0].v*100;F[4]=W[1].v*100;F[5]=W[2].v*100};
bn.lightFilterGradient.prototype.He=function(x,F){x.blur.v=F[0];x.textureScale.v=F[1]/100;x.Scl.v=F[2]?-1:1;
var W=x.Dtl.v;W[0].v=F[3]/100;W[1].v=F[4]/100;W[2].v=F[5]/100};bn.Fbrs=function(){bn.call(this,"Fbrs");
this.ly=[new cS("Variance",1,64),new cS([12,64],1,64)];this.pk()};bn.Fbrs.prototype=new bn;bn.Fbrs.prototype.gl=function(x,F){F[0]=x.Vrnc.v;
F[1]=x.Strg.v};bn.Fbrs.prototype.He=function(x,F){x.Vrnc.v=F[0];x.Strg.v=F[1]};bn.LnsF=function(){bn.call(this,"LnsF");
this.ly=[new cS([12,2],10,300,"%"),new c7([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new cS("Position X",0,100,"%"),new cS("Position Y",0,100,"%")];
this.pk()};bn.LnsF.prototype=new bn;bn.LnsF.prototype.gl=function(x,F){F[0]=x.Brgh.v;F[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(x.Lns.v.Lns);
var W=x.FlrC.v;F[2]=Math.round(W.Hrzn.v*100);F[3]=Math.round(W.Vrtc.v*100)};bn.LnsF.prototype.He=function(x,F){x.Brgh.v=F[0];
x.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][F[1]];var W=x.FlrC.v;W.Hrzn.v=F[2]/100;W.Vrtc.v=F[3]/100};bn.aaL(bn.LnsF.prototype);
bn.blendOptions=function(){bn.call(this,"blendOptions");this.ly.push(new hx([12,19,0],a2.bb,a2.Jv));
this.ly.push(new cS([12,0],0,100,"%"));this.pk()};bn.blendOptions.prototype=new bn;bn.blendOptions.prototype.gl=function(x,F){F[0]=a2.Se.indexOf(x.Md.v.BlnM);
F[1]=x.Opct.v.val};bn.blendOptions.prototype.He=function(x,F){x.Md.v.BlnM=a2.Se[F[0]];x.Opct.v.val=F[1]};
bn.LnCr=function(){bn.call(this,"LnCr");this.ly=[new cS([12,57],-100,100),new cS([12,38],10,150,"%")];
this.pk()};bn.LnCr.prototype=new bn;bn.LnCr.prototype.gl=function(x,F){F[0]=x.LnIa.v;F[1]=x.LnSi.v};
bn.LnCr.prototype.He=function(x,F){x.LnIa.v=F[0];x.LnSi.v=F[1]};bn.adaptCorrect=function(){bn.call(this,"adaptCorrect");
var x=ec;this.ly=[new e8([19,6,0]),new x([12,57],0,100,"%"),new x("Tone",0,100,"%"),new x([12,56],0,200,"px"),new e8([19,6,2]),new x([12,57],0,100,"%"),new x("Tone",0,100,"%"),new x([12,56],0,200,"px"),new e8([3]),new x([13,0],-100,100)];
this.pk([3,7])};bn.adaptCorrect.prototype=new bn;bn.adaptCorrect.prototype.gl=function(x,F){var W=x.sdwM.v;
F[0]=W.Amnt.v.val;F[1]=W.Wdth.v.val;F[2]=W.Rds.v;var W=x.hglM.v;F[3]=W.Amnt.v.val;F[4]=W.Wdth.v.val;
F[5]=W.Rds.v;F[6]=x.ClrC.v};bn.adaptCorrect.prototype.He=function(x,F){var W=x.sdwM.v;W.Amnt.v.val=F[0];
W.Wdth.v.val=F[1];W.Rds.v=F[2];var W=x.hglM.v;W.Amnt.v.val=F[3];W.Wdth.v.val=F[4];W.Rds.v=F[5];x.ClrC.v=F[6]};
bn.Flam=function(){bn.call(this,"Flam");var x=this.ly=[new hx([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new cS([12,80,0],20,1e3,"px"),new j2("Randomize Length"),new cS([12,41],5,600,"px"),new cS([12,15],0,360,"\xB0"),new cS("Interval",10,200,"px"),new j2("Adapt Interval for Loops"),new d1(!1),new hx([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new cS("Turbulent",0,100),new cS("Jag",0,100),new cS([12,0],0,100),new cS("Lines",2,30),new cS("Bottom",0,100),new hx([12,22],["Normal","Violent","Flat"]),new hx([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new j2("Randomize Shape"),new cS("Random Seed",0,100)];
this.pk();var F=this.n;v.Ri(F);var W=new c7(null,["Basic","Advanced"]);W.k(S.E.A,this.aen,this);F.appendChild(W.n);
v.K0(F);var n=v.t("div"),L=v.t("div");this.aAW=[n,L];F.appendChild(n);for(var w=0;w<x.length;w++){(w<9?n:L).appendChild(x[w].n);
if(w==6)v.kE(n)}x[0].k(S.E.A,this.a1u,this);this.a1u()};bn.Flam.prototype=new bn;bn.Flam.prototype.a1u=function(x){var F=this.ly,w=F[0].h();
F[1].DE(w!=0&&w!=5);F[2].DE(w!=0&&w!=5);F[4].DE(w!=0&&w!=5&&w!=1);F[5].DE(w!=0&&w!=5);F[6].DE(w!=0&&w!=5)};
bn.Flam.prototype.aen=function(x){var w=x.target.h(),F=this.aAW,W=this.n;W.removeChild(F[1-w]);W.appendChild(F[w])};
bn.boxblur=function(){bn.call(this,"boxblur");this.ly=[new cS([12,56],1,200," px")];this.pk()};bn.boxblur.prototype=new bn;
bn.boxblur.prototype.gl=function(x,F){F[0]=x.Rds.v.val};bn.boxblur.prototype.He=function(x,F){x.Rds.v.val=F[0]};
bn.GsnB=function(){bn.call(this,"GsnB");this.ly=[new cS([12,56],.1,400,"px",1,!0)];this.pk()};bn.GsnB.prototype=new bn;
bn.Dila=function(){bn.call(this,"Dila");this.ly=[new cS([11,12,1],0,20,"px",0),new cS([12,56],0,400,"px",0,!0)];
this.pk()};bn.Dila.prototype=new bn;bn.MtnB=function(){bn.call(this,"MtnB");this.ly=[new bv([12,15]),new cS([12,28],1,100," px")];
this.pk()};bn.MtnB.prototype=new bn;bn.RdlB=function(){bn.call(this,"RdlB");this.ly=[new cS([12,57],1,100),new c7([12,36],["Spin","Zoom"]),new cS("Position X",0,100,"%"),new cS("Position Y",0,100,"%")];
this.pk()};bn.RdlB.prototype=new bn;bn.RdlB.prototype.gl=function(x,F){F[0]=x.Amnt.v;F[1]=["Spn","Zm"].indexOf(x.BlrM.v.BlrM);
F[2]=x.Cntr.v.Hrzn.v*100;F[3]=x.Cntr.v.Vrtc.v*100};bn.RdlB.prototype.He=function(x,F){x.Amnt.v=F[0];
x.BlrM.v.BlrM=["Spn","Zm"][F[1]];x.Cntr.v.Hrzn.v=F[2]/100;x.Cntr.v.Vrtc.v=F[3]/100};bn.aaL(bn.RdlB.prototype);
bn.Dspl=function(){bn.call(this,"Dspl");this.ly=[new hx([6,36,3],["a","b"]),new cS([22,4,0],-100,100,"px"),new cS([22,4,1],-100,100,"px"),new hx([24,18,0],[[24,18,3],[24,18,2]])];
this.pk()};bn.Dspl.prototype=new bn;bn.Dspl.prototype.gl=function(x,F,W){this.ahE=[];this.FO=[];var n=-1,L=W?W[0]:null;
if(L==null)L=this.aBJ;else this.aBJ=L;if(L)for(var w=0;w<L.length;w++){var $=L[w];this.ahE.push($.GR.trim());
this.FO.push($.sd);if($.sd==x.DspF.v.pth)n=w}this.ly[0].A1(this.ahE);F[0]=n==-1?0:n;F[1]=x.HrzS.v;F[2]=x.VrtS.v;
F[3]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)};bn.Dspl.prototype.He=function(x,F){var W=this.aBJ;if(this.FO.length==0)return;
x.DspF.v.pth=this.FO[F[0]];x.HrzS.v=F[1];x.VrtS.v=F[2];x.UndA.v.UndA=["WrpA","RptE"][F[3]];var n=W[F[0]];
n.Hi();var L=n.mp[1],$=L.m,l=L.e,k=r.R(L.P());r.ad(n.mp[0],k);var V=[$&255,$>>>8,0,0,l&255,l>>>8,0,0,3,0];
for(var i=0;i<2;i++)for(var w=0;w<k.length;w++)V.push(k[w]);for(var w=0;w<1e3;w++)V.push(0);x.DspD={t:"tdta",v:V};
x.EmbF={t:"bool",v:!0}};bn.Pnch=function(){bn.call(this,"Pnch");this.ly=[new cS([12,57],-100,100,"%")];
this.pk()};bn.Pnch.prototype=new bn;bn["Plr "]=function(){bn.call(this,"Plr ");this.ly=[new c7(null,["Rect to Polar","Polar to Rect"])];
this.pk()};bn["Plr "].prototype=new bn;bn.Rple=function(){bn.call(this,"Rple");this.ly=[new cS([12,57],-999,999),new hx([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.pk()};bn.Rple.prototype=new bn;bn["Shr "]=function(){bn.call(this,"Shr ");this.ly=[new jY(!0,!0),new hx([24,18,0],[[24,18,3],[24,18,2]])];
this.pk()};bn["Shr "].prototype=new bn;bn["Shr "].prototype.gl=function(x,F){var W=new iJ(0,255/127,255/127,0,-2,128),n=JSON.parse(JSON.stringify(x.ShrP.v));
r.z3.i(n,W);F[0]=n;F[1]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)};bn["Shr "].prototype.He=function(x,F){var W=new iJ(0,255/127,255/127,0,-2,128);
W.sx();r.z3.i(F[0],W);x.ShrP.v=F[0];x.ShrE.v=F[0].length-1;x.UndA.v.UndA=["WrpA","RptE"][F[1]]};bn.Sphr=function(){bn.call(this,"Sphr");
this.ly=[new cS([12,57],-100,100),new hx([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.pk()};bn.Sphr.prototype=new bn;
bn.Sphr.prototype.gl=function(x,F){F[0]=x.Amnt.v;F[1]=["Nrml","HrzO","VrtO"].indexOf(x.SphM.v.SphM)};
bn.Sphr.prototype.He=function(x,F){x.Amnt.v=F[0];x.SphM.v.SphM=["Nrml","HrzO","VrtO"][F[1]]};bn.Dthr=function(){bn.call(this,"Dthr");
this.ly=[new hx("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new c7("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.pk()};bn.Dthr.prototype=new bn;bn.Dthr.prototype.gl=function(x,F){F[0]=x.Plte.v;F[1]=x.Mthd?x.Mthd.v:1};
bn.Dthr.prototype.He=function(x,F){x.Plte.v=F[0];x.Mthd.v=F[1]};bn.Part=function(){bn.call(this,"Part");
this.ly=[new cS([15,5,1],0,100,"%"),new cS([12,14,0],1,50,"px"),new cS([12,34],0,100,"%"),new cS([12,2],10,1e3,"%"),new d1(!0),new cS("Time",0,1,null,3),new cS("Turbulence",0,100,"%"),new j2("Blink"),new j2("Fall")];
this.pk([4])};bn.Part.prototype=new bn;bn.Part.prototype.gl=function(x,F){F[0]=x.Cont.v;F[1]=x.Size.v;
F[2]=x.Dpth.v;F[3]=x.Brgh.v;F[4]=x.Clr.v;F[5]=x.Time.v;F[6]=x.Turb.v;F[7]=x.Blnk.v;F[8]=x.Fall.v};bn.Part.prototype.He=function(x,F){x.Cont.v=F[0];
x.Size.v=F[1];x.Dpth.v=F[2];x.Brgh.v=F[3];x.Clr.v=F[4];x.Time.v=F[5];x.Turb.v=F[6];x.Blnk.v=F[7];x.Fall.v=F[8]};
bn.Twrl=function(){bn.call(this,"Twrl");this.ly=[new cS([12,15],-999,999)];this.pk()};bn.Twrl.prototype=new bn;
bn.Wave=function(){bn.call(this,"Wave");this.atl=[1,2,3,4];this.ly=[new cS("Number of Generators",1,100),new ec("Min Length",1,999),new ec("Max Length",1,999),new ec("Min Ampl.",1,999),new ec("Max Ampl.",1,999),new ec("Scale X",1,100,"%"),new ec("Scale Y",1,100,"%"),new c7([12,44],["Sine","Triangle",[12,93,3]]),new hx([24,18,0],[[24,18,3],[24,18,2]])];
this.pk()};bn.Wave.prototype=new bn;bn.ZgZg=function(){bn.call(this,"ZgZg");this.ly=[new cS([12,57],-100,100),new cS("Ridges",0,20),new hx([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.pk()};bn.ZgZg.prototype=new bn;bn.surfaceBlur=function(){bn.call(this,"surfaceBlur");this.ly=[new cS([12,56],1,200," px"),new cS([4,13],1,255," px")];
this.pk()};bn.surfaceBlur.prototype=new bn;bn.surfaceBlur.prototype.gl=function(x,F){F[0]=x.Rds.v.val;
F[1]=x.Thsh.v};bn.surfaceBlur.prototype.He=function(x,F){x.Rds.v.val=F[0];x.Thsh.v=F[1]};bn.AdNs=function(){bn.call(this,"AdNs");
this.ly=[new cS([12,57],0,200," %"),new hx([12,58],[[12,59,1],[12,59,0]]),new j2([12,60])];this.pk()};
bn.AdNs.prototype=new bn;bn.DstS=function(){bn.call(this,"DstS");this.ly=[new cS([12,56],1,200," px"),new cS([4,13],1,255," px")];
this.pk()};bn.DstS.prototype=new bn;bn["Mdn "]=function(){bn.call(this,"Mdn ");this.ly=[new cS([12,56],1,200," px")];
this.pk()};bn["Mdn "].prototype=new bn;bn["Mdn "].prototype.gl=function(x,F){F[0]=x.Rds.v.val};bn["Mdn "].prototype.He=function(x,F){x.Rds.v.val=F[0]};
bn.ClrH=function(){bn.call(this,"ClrH");this.ly=[new cS([12,56],4,100," px")];for(var w=1;w<4;w++)this.ly.push(new cS("Angle "+w,0,90," \xB0"));
this.pk()};bn.ClrH.prototype=new bn;bn.ClrH.prototype.gl=function(x,F){F[0]=x.Rds.v;for(var w=1;w<4;
w++)F[w]=x["Ang"+w].v};bn.ClrH.prototype.He=function(x,F){x.Rds.v=F[0];for(var w=1;w<4;w++)x["Ang"+w].v=F[w]};
bn.ClrH.prototype._=function(){var x=this.ly;x[0]._();for(var w=1;w<4;w++)x[w].rT(hz.get([12,15])+" "+w)};
bn.Crst=function(){bn.call(this,"Crst");this.ly=[new cS([12,61],3,100," px")];this.pk()};bn.Crst.prototype=new bn;
bn.Crst.prototype.gl=function(x,F){F[0]=x.ClSz.v};bn.Crst.prototype.He=function(x,F){x.ClSz.v=F[0]};
bn.Mztn=function(){bn.call(this,"Mztn");this.ly.push(new hx([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.FO="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.pk()};bn.Mztn.prototype=new bn;
bn.Mztn.prototype.gl=function(x,F){F[0]=this.FO.indexOf(x.MztT.v.MztT)};bn.Mztn.prototype.He=function(x,F){x.MztT.v.MztT=this.FO[F[0]]};
bn["Msc "]=function(){bn.call(this,"Msc ");this.ly=[new cS([12,61],2,200," px")];this.pk()};bn["Msc "].prototype=new bn;
bn["Msc "].prototype.gl=function(x,F){F[0]=x.ClSz.v.val};bn["Msc "].prototype.He=function(x,F){x.ClSz.v.val=F[0]};
bn.Pntl=function(){bn.call(this,"Pntl");this.ly=[new cS([12,61],3,100," px")];this.pk()};bn.Pntl.prototype=new bn;
bn.Pntl.prototype.gl=function(x,F){F[0]=x.ClSz.v};bn.Pntl.prototype.He=function(x,F){x.ClSz.v=F[0]};
bn.smartSharpen=function(){bn.call(this,"smartSharpen");this.ly=[new cS([12,57],1,200,"%"),new cS([12,56],0,200,"px",1,!0)];
this.pk()};bn.smartSharpen.prototype=new bn;bn.smartSharpen.prototype.gl=function(x,F){F[0]=x.Amnt?x.Amnt.v.val:200;
F[1]=x.Rds?x.Rds.v.val:1};bn.smartSharpen.prototype.He=function(x,F){x.Amnt.v.val=F[0];x.Rds.v.val=F[1]};
bn.UnsM=function(){bn.call(this,"UnsM");this.ly=[new cS([12,57],1,200," %"),new cS([12,56],.1,400,"px",1,!0),new cS([4,13],0,255," ")];
this.pk()};bn.UnsM.prototype=new bn;bn.HghP=function(){bn.call(this,"HghP");this.ly=[new cS([12,56],.1,400,"px",1,!0)];
this.pk()};bn.HghP.prototype=new bn;bn.HsbP=function(){bn.call(this,"HsbP");this.ly=[new c7("Input",["RGB","HSB","HSL"]),new c7("Output",["RGB","HSB","HSL"])];
this.pk()};bn.HsbP.prototype=new bn;bn["Mxm "]=function(){bn.call(this,"Mxm ");this.ly=[new cS([12,56],.1,200," px",1,!0),new hx([12,76,1],[[12,93,3],"Circle"])];
this.pk()};bn["Mxm "].prototype=new bn;bn["Mnm "]=function(){bn.call(this,"Mnm ");this.ly=[new cS([12,56],.1,200," px",1,!0),new hx([12,76,1],[[12,93,3],"Circle"])];
this.pk()};bn["Mnm "].prototype=new bn;bn.Ofst=function(){bn.call(this,"Ofst");this.ly=[new cS([22,4,0],-1024,1024," px"),new cS([22,4,1],-1024,1024," px"),new hx([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.pk()};bn.Ofst.prototype=new bn;bn.Kale=function(){bn.call(this,"Kale");this.ly=[new ec("Mirrors",2,20),new ec([12,15],0,360,"\xB0")];
this.pk()};bn.Kale.prototype=new bn;bn.Kale.prototype.gl=function(x,F){F[0]=x.Mirr.v;F[1]=x.MRot.v};
bn.Kale.prototype.He=function(x,F){x.Mirr.v=F[0];x.MRot.v=F[1]};bn.Rept=function(){bn.call(this,"Rept");
this.ly=[new ec([12,38],1,300," %"),new ec("Row Shift",-50,50," %"),new ec("Space X",-99,200," %"),new ec("Space Y",-99,200," %"),new j2([4,16,2]),new bv([12,15])];
this.pk()};bn.Rept.prototype=new bn;bn.Rept.prototype.gl=function(x,F){F[0]=x.Scl.v.val;F[1]=x.Rsft.v.val;
F[2]=x.SpcX.v.val;F[3]=x.SpcY.v.val;F[4]=x.SpcC.v;F[5]=[x.Angl.v]};bn.Rept.prototype.He=function(x,F){x.Scl.v.val=F[0];
x.Rsft.v.val=F[1];x.SpcX.v.val=F[2];x.SpcY.v.val=F[3];x.SpcC.v=F[4];x.Angl.v=F[5][0];return x};bn.Ctoa=function(){bn.call(this,"Ctoa");
this.ly=[new e8([13,0]),new d1(!0),new cS(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new cS(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.pk()};bn.Ctoa.prototype=new bn;bn.Ctoa.prototype.gl=function(x,F){F[0]=x.Clr.v;F[1]=x.Trsp.v.val;
F[2]=x.Opct.v.val};bn.Ctoa.prototype.He=function(x,F){x.Clr.v=F[0];x.Trsp.v.val=F[1];x.Opct.v.val=F[2]};
bn.LqFy=function(){bn.call(this,"LqFy");this.Zf=!1;this.A5=!1;this.ND=null;this.asS=null;this.f=0;this.hj=-1;
this.s={Tv:[[{f:{id:0,name:[24,1,0,1,0],CZ:"liq/smudge"}}],[{f:{id:1,name:[24,1,0,1,1],CZ:"liq/reconstruct"}}],[{f:{id:2,name:[24,1,0,1,2],CZ:"liq/smooth"}}],[{f:{id:3,name:[24,1,0,1,3],CZ:"liq/twirl"}}],[{f:{id:4,name:[24,1,0,1,4],CZ:"liq/shrink"}}],[{f:{id:5,name:[24,1,0,1,5],CZ:"liq/blow"}}],[{f:{id:6,name:[24,1,0,1,6],CZ:"liq/pleft"}}],[{f:{id:7,name:"Hand",CZ:"tools/hand"}}],[{f:{id:8,name:"Zoom In",CZ:"zoomIn"}}],[{f:{id:9,name:"Zoom Out",CZ:"zoomOut"}}]],keys:[]};
this.pg=new cI(this.s,!1);this.pg.QO(0);this.pg.k(S.E.M,this.FC,this);this.z2=jq.zu();this.Vf=null;this.TD=[];
this.AV=-1;this.Xh=null;this.a4u=null;this.Qs=null;this.vT=null;this.UD=null;var x=v.t("div","flexrow");
this.kX=x;this.n.appendChild(x);x.appendChild(this.pg.n);this.view=new dt(!0);this.view.z4(100,100);
this.view.k("mousedown",this.uT,this);this.view.k("mousemove",this.Fj,this);this.view.k("mouseup",this.ji,this);
this.view.k("zoom",this.ee,this);x.appendChild(this.view.n);var F=v.t("div","form");x.appendChild(F);
this.sU=F;F.style.width="230px";this.bQ=[new cS([12,14,0],0,1e3,null,!1,!0),new cS([12,74],0,100,null,!1,!1),new cS([12,84],0,100,null,!1,!1),new j2([12,46]),new cS([12,0],0,100,null,!1,!1),new j2([24,18,5])];
var W=this.z2.Brsh.v;W.Dmtr.v.val=100;var n=[100,50,100,!1,100,!0];for(var w=0;w<this.bQ.length;w++){var L=this.bQ[w];
L.c(n[w]);if(w==4)L.H8();L.k(S.E.A,this.aja,this);F.appendChild(L.n)}var $=this.aA9=new cX([1,12,2],!0,null,!0);
$.k("click",this.xq,this);F.appendChild($.n);this.a3h=this.v_.bind(this);this.f4=new bS;this.f4.n=v.t("div","floatcont");
this.wF=new cX("Menu",!1,null,!0);var l=this.wF.n;l.setAttribute("style","position:absolute; right:13px; top:47px");
v.p6(l,this.acG.bind(this))};bn.LqFy.prototype=new bn;bn.LqFy.prototype.z5=function(){return!0};bn.LqFy.prototype.dp=function(x){this.sU.appendChild(x)};
bn.LqFy.prototype.acG=function(x){if(v.Ww(this.f4.n))return;x.stopPropagation();var F=this.wF.n.getBoundingClientRect();
this.f4.n.appendChild(this.sU);var W=new gT(S.E.M,!0);W.data={d:S.H.OO,f_:this.f4,x:F.right+F.width-290,y:F.top+F.height};
this.T(W)};bn.LqFy.prototype.lH=function(x){this.Zf=x.S(gp.d8);var F=O.P1.gG(this.z2,x);if(F!=null){this.z2=F;
this.ee();this.bQ[0].c(F.Brsh.v.Dmtr.v.val)}else if(x.S(gp.Fr)&&x.S(gp.s8)){var W=this.TD;if(x.S(gp.ca)){if(this.AV+1<W.length)this.AV++}else if(this.AV>0)this.AV--;
this.Vf.map=W[this.AV].slice(0);this.tW(null)}else if(this.f<=6)this.view.lH(x);var n=this.f,L=-1,$=x.S(gp.d8);
if($&&this.hj==-1){if(n==0)L=1;if(n==4)L=5;if(n==5)L=4;if(L!=-1)this.hj=n}if(!$&&this.hj!=-1){L=this.hj;
this.hj=-1}if(L!=-1){this.f=L;this.pg.QO(this.f)}};bn.LqFy.prototype.FC=function(x){if(x.data.d==S.H.Ac){var F=this.f=x.data.f;
this.pg.QO(this.f);this.view.lH(F>6?dt.cZ(F-7):new gp)}};bn.LqFy.prototype.aja=function(x){var F=x.currentTarget,w=this.bQ.indexOf(F),W=this.z2.Brsh.v;
if(w==0){W.Dmtr.v.val=F.h();this.ee()}this.bQ[4].DE(this.bQ[3].h());if(w>2)this.tW(null)};bn.LqFy.prototype.Zk=function(){var x=this.TD;
this.AV++;x[this.AV]=this.Vf.map.slice(0);while(x.length>this.AV+1)x.pop();while(x.length>50){x=x.slice(1);
this.AV--}};bn.LqFy.prototype.uT=function(x){this.ND=this.view.Ib();this.asS=new eX(0,0);this.A5=!0;
window.requestAnimationFrame(this.a3h)};bn.LqFy.prototype.Fj=function(x){var F=this.view.Ib(),W=new eX(F.x-this.ND.x,F.y-this.ND.y);
if(this.f==0||this.f==6)this.abB(W);this.ND=F};bn.LqFy.prototype.ji=function(x){this.Zk();this.A5=!1};
bn.LqFy.prototype.v_=function(x){if(this.f!=0&&this.f!=6)this.abB(new eX(0,0));if(this.A5)window.requestAnimationFrame(this.a3h)};
bn.LqFy.prototype.abB=function(x){var F=this.Vf,W=F.Xv/this.Xh.m,n=this.ND,L=this.z2.Brsh.v,$=L.Dmtr.v.val,l=Date.now(),k=F.Xv,V=F.eD,i=Math.sqrt(x.x*x.x+x.y*x.y),f=Math.max(1,Math.ceil(i/2)),X=x.x/f,s=x.y/f,R=n.clone(),h=this.f,B=this.bQ[1].h()/100,e=this.bQ[2].h()/100,U=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],o=U[h*2],b=U[h*2+1],u=(1-B)*o+B*b,Z=$*W/2;
for(var w=0;w<f;w++){var I=[];R.x+=X;R.y+=s;r.n9.akz(F.map,k,V,h,R.x*W,R.y*W,Z,B,e,X*W,s*W,I,this.Zf);
r.n9.a1x(k,V,F.map,I,2*u*e)}var y=new eu(0,0,k,V),D=new eu(n.x*W,n.y*W,0,0);D.za($*W*.5,$*W*.5);var N=D.clone();
N.offset(x.x*W,x.y*W);D=D.oA(N);var j=new eu(D.x/W,D.y/W,D.m/W,D.e/W);j=r.Z.Jy(j).jB(this.Xh);this.bQ[5].c(!0);
this.tW(j)};bn.LqFy.prototype.ee=function(){var x=dp.OF(this.z2,null,this.view.rR().Q);this.view.r0(x)};
bn.LqFy.prototype.c=function(x,F,W,n,L){W=W.clone();if(F==null)return;if(!n.rr(W)){var $=W.oA(n),l=r.R($.P()*4);
r.sh(F,W,l,$);F=l;W=$;var k=r.R($.P()*4);r.sh(L,n,k,$);L=k}W.x=W.y=0;this.Qs=F;this.a4u=L;this.UD=F.slice(0);
this.vT=F.slice(0);this.Xh=W;this.Vf=kv.cF(new Uint8Array(x.LqMe.v).buffer);var V=W.m,i=W.e;if(this.Vf.Xv/V<.22){this.Vf={Xv:Math.floor(V/4),eD:Math.floor(i/4)};
this.Vf.map=new Float32Array(this.Vf.Xv*this.Vf.eD*2)}this.TD=[];this.AV=-1;this.Zk();this.tW(null);
this.view.Ud(!0);this.ee()};bn.LqFy.prototype.h=function(){var x=ew.Iz("LqFy"),F=new Uint8Array(kv.pm(this.Vf)),W=[];
for(var w=0;w<F.length;w++)W.push(F[w]);x.LqMe.v=W;return x};bn.LqFy.prototype.z4=function(x,F){this.pg.z4(x,F);
var W=this.wF.n,n=this.sU;this.kX.appendChild(n);this.kX.appendChild(W);if(x>450&&x-F>200){n.style.marginLeft="1em";
this.kX.removeChild(W);this.view.z4(x-238-45,F)}else{n.style.marginLeft="";this.kX.removeChild(n);this.view.z4(x-40,F)}};
bn.LqFy.prototype._=function(){this.pg._();this.aA9._();for(var w=0;w<this.bQ.length;w++)this.bQ[w]._()};
bn.LqFy.prototype.xq=function(){this.Vf.map.fill(0);this.Zk();this.tW(null)};bn.LqFy.prototype.tW=function(x){var F=this.Xh,W=this.Qs,n=this.UD,L=this.Vf;
if(this.bQ[5].h())r.n9.nE(W,this.vT,F.m,F.e,x,L.map,L.Xv,L.eD,0);else this.vT.set(W);if(this.bQ[3].hG()){r.sh(this.a4u,F,n,F,x?x:F);
r.l.X3("norm",this.vT,F,n,F,x?x:F,this.bQ[4].h()/100)}else r.Bj(this.vT,n);this.view.c([{Sf:F,data:n.buffer}])};
bn.GEfc=function(){bn.call(this,"GEfc");this.cl=0;this.vu=0;this.Qs=null;this.UD=null;this.Xh=null;this.Mh=null;
this.wc=null;this.Qy=0;this.Ly=null;this.J8=null;var x=v.t("div","flexrow");this.kX=x;this.n.appendChild(x);
this.view=new dt(null);this.view.z4(100,100);x.appendChild(this.view.n);this.UA="";this.hy=270;var F=this.pQ=v.t("div","form scrollable");
x.appendChild(F);F.setAttribute("style","width:"+this.hy+"px;");var W=this.cm=v.t("div","form");x.appendChild(W);
W.setAttribute("style","width:230px;  margin:0 10px");this.Gf={};for(var n in kx.names){var L=new bn.GEfc.RD(n);
L.parent=this;this.Gf[n]=L;L.k(S.E.A,this.a60,this)}this.xV=!0;this.wF=new cX("Menu",null,null,!0);this.wF.k("click",this.aea,this);
x.appendChild(this.wF.n);this.sK=new cX(">>",null,null,!0);this.sK.k("click",this.a9n,this);W.appendChild(this.sK.n);
this.i_=v.t("div");this.i_.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
W.appendChild(this.i_);this.Nk=v.t("div");this.Nk.style.minHeight="14em";this.Nk.style.marginBottom="1em";
W.appendChild(this.Nk);this.wS=v.t("div","lpbody scrollable");this.SX=v.t("div","lpfoot");W.appendChild(this.wS);
W.appendChild(this.SX);this.k("click",this.afg,this);this.vB=[];bR.Z4([[5,3],[5,4]],this.vB,this.SX,this.KZ.bind(this))};
bn.GEfc.prototype=new bn;bn.GEfc.prototype.z5=function(){return!0};bn.GEfc.prototype.dp=function(x){this.i_.appendChild(x)};
bn.GEfc.prototype.AW=function(x,F){this.Mh=x};bn.GEfc.prototype.a9n=function(x){var F=this.pQ.style.display!="none";
this.pQ.style.display=F?"none":"";this.sK.rT(F?"<<":">>");this.z4()};bn.GEfc.prototype.aea=function(x){this.xV=!this.xV;
this.z4()};bn.GEfc.prototype.z4=function(x,F){var W=this.pQ.style.display!="none";if(x!=null){this.cl=x;
this.vu=F;if(x<1e3&&W||x>=1e3&&!W){this.a9n();W=!W}this.xV=x>600}else{x=this.cl;F=this.vu}var n=this.xV?250+(W?this.hy:0):0;
if(v.Ww(this.cm)&&!this.xV){this.kX.removeChild(this.pQ);this.kX.removeChild(this.cm)}if(!v.Ww(this.cm)&&this.xV){this.kX.appendChild(this.pQ);
this.kX.appendChild(this.cm)}this.pQ.style.height=F+"px";this.view.z4(x-n,F);this.wS.style.height=F-Math.max(this.Nk.getBoundingClientRect().height,186)-96+"px";
this.wF.n.setAttribute("style","position:absolute; top:46px;  right:"+(n+16)+"px")};bn.GEfc.prototype.a44=function(){var x=jW.yL.get("img/beach",!0)[0],F=x.Sf,W=this.pQ,n=Math.floor(v.e1()*(this.hy-40)/3),L=~~(n*.7),$=new eu(0,0,n,L),l=r.R(n*L*4),k=l.slice(0),V=Math.round(10*v.e1()),i=new ImageData(new Uint8ClampedArray(k.buffer),n,L);
r.sh(new Uint8Array(x.data),F,l,new eu(Math.round((F.m-n)/2),Math.round((F.e-L)/2),n,L));var f=v.t("canvas"),X=f.getContext("2d");
f.width=n;f.height=L+Math.round(V*1.5);X.font=V+"px sans-serif";this.Ly={};v.Ri(W);var s=this.a27.bind(this);
for(var w=0;w<kx.nz.length;w++){var R=kx.nz[w],h=v.t("div");W.appendChild(h);h.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
h.textContent=hz.get(R);for(var B in kx.names){var e=kx.names[B];if(e[0]!=w)continue;kx.Pl(B,{rect:$,buffer:l},kx.Iz(B),{o:0,r:0,z:0},{o:255,r:255,z:255},{rect:$,buffer:k},{});
X.fillStyle="black";X.fillRect(0,0,500,500);X.putImageData(i,0,0);var U=hz.get(e[1]);X.fillStyle="white";
X.fillText(U,(n-X.measureText(U).width)/2,L+Math.round(V*1.1));var o=v.t("div");W.appendChild(o);o.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
o.addEventListener("click",s,!1);var h=v.t("img");o.appendChild(h);h.setAttribute("src",f.toDataURL());
h.setAttribute("style","width:"+n/v.e1()+"px; margin-bottom:0px;");this.Ly[B]=o}}};bn.GEfc.prototype.a27=function(x){var F;
for(var W in this.Ly)if(this.Ly[W]==x.currentTarget)this.UA=W;this.a60()};bn.GEfc.prototype.KZ=function(x){var F=bR.Ct(this.vB,x),W=this.wc.GEfs.v,n=W[this.Qy].v;
if(F==0){W.push(JSON.parse(JSON.stringify(W[this.Qy])));this.Qy=W.length-1}else if(W.length>1){W.splice(this.Qy,1);
if(this.Qy==W.length)this.Qy--}this.mT();this.tW()};bn.GEfc.prototype.a60=function(x){var F=this.UA,W;
if(x==null)W=kx.Iz(F);else W=this.Gf[F].h();this.wc.GEfs.v[this.Qy].v=W;this.mT();this.tW()};bn.GEfc.prototype.c=function(x,F,W,n,L){var $=hz.get([24,0]);
if(this.Ly==null||$!=this.J8)this.a44();this.J8=$;x=this.wc=JSON.parse(JSON.stringify(x));if(x.GEfs==null)x=this.wc={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:x}]}};
var l=x.GEfs.v;for(var w=0;w<l.length;w++)if(l[w].v.GELv==null)l[w].v.GELv={t:"bool",v:!0};this.Qy=l.length-1;
this.mT();W=W.clone();if(F==null)return;if(!n.rr(W)&&kx.lc(x).x!=0){var k=W.oA(n),V=r.R(k.P()*4);r.sh(F,W,V,k);
F=V;W=k}W.x=W.y=0;this.Qs=F;this.UD=F.slice(0);this.Xh=W;this.tW();this.view.Ud()};bn.GEfc.prototype.afg=function(x){var F=x.data,w=F.Fp,W=this.wc.GEfs.v;
if(F.fq){W[w].v.GELv.v=!W[w].v.GELv.v;this.tW()}else this.Qy=w;this.mT()};bn.GEfc.prototype.mT=function(){var x=this.wc.GEfs.v,F=x[this.Qy].v,W=F.GEfk.v.GEft,n=this.Nk;
if(kx.names[W]==null){alert("Unsupported gallery filter");v.Ri(n)}else{this.UA=W;for(var L in this.Ly)v.B$(this.Ly[L],"selected");
v.fX(this.Ly[W],"selected");var $=this.Gf[W];$.c(F);if(n.firstChild!=$.n){v.Ri(n);n.appendChild($.n)}}var l=[];
for(var w=0;w<x.length;w++){var k=x[w].v,V=kx.names[k.GEfk.v.GEft],i=new gf(w,!0,!0,null,V?V[1]:"Filter",w==this.Qy,k.GELv.v);
i.parent=this;l.push(i.n)}v.Ri(this.wS);l.reverse();for(var w=0;w<l.length;w++)this.wS.appendChild(l[w]);
this.z4()};bn.GEfc.prototype.h=function(){return JSON.parse(JSON.stringify(this.wc))};bn.GEfc.prototype.tW=function(x){var F=this.Xh,W=this.Qs,n=this.UD,L=this.UA,$=this.wc,l=this.Mh;
function k(V){return{o:V>>>16,r:V>>>8&255,z:V&255}}ew.Pl("GEfc",{rect:this.Xh,buffer:this.Qs},$,k(l.A_),k(l.G8),{rect:this.Xh,buffer:this.UD},null);
this.view.c([{Sf:F,data:n.buffer}])};bn.GEfc.prototype._=function(){for(var x in this.Gf)this.Gf[x]._();
bR.Ob(this.vB,["lrs/newlayer","lrs/bin"])};bn.GEfc.RD=function(x){bS.call(this);this.K8=x;this.n=v.t("div");
this.Xn={};var F=kx.Iz(x);for(var W in F){var n=null;if(W=="__name"||W=="classID"||W=="GEfk"||W=="GELv"||["FlRs"].indexOf(W)!=-1)continue;
else if(W=="EdgW")n=new cS("Edge Width",1,14);else if(W=="EdgB")n=new cS("Edge Brightness",0,x=="AccE"?50:20);
else if(W=="Smth")n=new cS([19,3,3],1,x=="Stmp"?50:15);else if(W=="ClSz")n=new cS([12,61],3,100);else if(W=="BrdT")n=new cS([7,9],1,20);
else if(W=="HghS")n=new cS([12,64],0,20);else if(W=="HlSz")n=new cS([12,14,0],1,15);else if(W=="Cntr")n=new cS([12,3,0],0,x=="WtrP"?100:50);
else if(W=="Shrp")n=new cS("Sharpness",0,40);else if(W=="SprR")n=new cS("Spray Radius",0,25);else if(W=="LgDr")n=new cS("Light/Dark Balance",0,x=="Stmp"?50:100);
else if(W=="Drkn")n=new cS("Darkness",1,50);else if(W=="Dstr")n=new cS("Distortion",0,20);else if(W=="Scln")n=new cS([12,38],50,200);
else if(W=="Rlf")n=new cS("Relief",0,x=="Ptch"||x=="NtPr"?25:50);else if(W=="ChAm")n=new cS("Thickness",1,7);
else if(W=="Pncl")n=new cS([19,2,5],1,30);else if(W=="StrP")n=new cS("Stroke Pressure",0,15);else if(W=="PprB")n=new cS("Paper Brightness",0,50);
else if(W=="BrsS")n=new cS("Brush Size",0,10);else if(W=="BrsD")n=new cS("Brush Detail",0,10);else if(W=="Txtr")n=new cS([12,67],1,3);
else if(W=="Grn")n=new cS("Grain",0,20);else if(W=="HghA")n=new cS("Highlight Area",0,20);else if(W=="Intn")n=new cS("Intensity",0,10);
else if(W=="Brgh")n=new cS("Glow Brightness",0,x=="WtrP"?100:50);else if(W=="StrS")n=new cS("Stroke Size",1,50);
else if(W=="StDt")n=new cS("Stroke Detail",1,3);else if(W=="Sftn")n=new cS("Softness",0,10);else if(W=="EdgT")n=new cS("Edge Thickness",0,10);
else if(W=="EdgI")n=new cS("Edge Intensity",0,10);else if(W=="Pstr")n=new cS("Posterization",0,6);else if(W=="Dfnt")n=new cS("Definition",0,25);
else if(W=="TxtC")n=new cS("Texture Coverage",0,50);else if(W=="ShdI")n=new cS("Shadow Intensity",0,10);
else if(W=="DrcB")n=new cS("Direction Balance",0,100);else if(W=="Strg")n=new cS([12,64],1,3);else if(W=="Blnc")n=new cS("Balance",0,10);
else if(W=="BlcI")n=new cS("Black Intensity",0,10);else if(W=="WhtI")n=new cS("White Intensity",0,10);
else if(W=="DrkI")n=new cS("Dark Intensity",0,50);else if(W=="LghI")n=new cS("Light Intensity",0,50);
else if(W=="StrW")n=new cS("Stroke Width",3,15);else if(W=="Grns")n=new cS("Graininess",0,x=="NtPr"?20:10);
else if(W=="GlwA")n=new cS("Glow Amount",0,20);else if(W=="ClrA")n=new cS("Clear Amount",0,20);else if(W=="ChrA")n=new cS("Charcoal Area",0,20);
else if(W=="ChlA")n=new cS("Chalk Area",0,20);else if(W=="FrgL")n=new cS("Foreground Level",1,15);else if(W=="BckL")n=new cS("Background Level",1,15);
else if(W=="WhtL")n=new cS("Background Level",0,50);else if(W=="BlcL")n=new cS("Foreground Level",0,50);
else if(W=="ImgB")n=new cS("Image Balance",0,50);else if(W=="Dnst")n=new cS([12,74],0,50);else if(W=="FbrL")n=new cS("Fiber Length",3,50);
else if(W=="CrcS")n=new cS("Crack Spacing",2,100);else if(W=="CrcD")n=new cS("Crack Depth",0,10);else if(W=="CrcB")n=new cS("Crack Brightness",0,10);
else if(W=="TlSz")n=new cS("Tile Size",2,100);else if(W=="GrtW")n=new cS("Grout Width",1,15);else if(W=="LghG")n=new cS("Lighten Grout",0,10);
else if(W=="SqrS")n=new cS("Square Size",0,10);else if(W=="RplS")n=new cS("Ripple Size",1,15);else if(W=="RplM")n=new cS("Ripple Magnitude",0,20);
else if(W=="NmbL")n=new cS("Number of Levels",2,8);else if(W=="EdgS")n=new cS("Edge Simplicity",0,10);
else if(W=="EdgF")n=new cS("Edge Fidelity",1,3);else if(W=="Sz")n=x=="NGlw"?new cS("Glow Size",-24,24):new cS("Brush Size",1,50);
else if(W=="Dtl")n=x=="Chrc"?new cS("Detail",0,5):new cS("Detail",1,15);else if(W=="StrL")n=x=="InkO"?new cS("Stroke Length",1,50):new cS("Stroke Length",0,20);
else if(W=="TxtT")n=new hx([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(W=="BrsT")n=new hx("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(W=="Grnt")n=new hx("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(W=="SDir")n=new hx([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(W=="ScrT")n=new hx([12,62],["Circle","Dot",[10,35]]);
else if(W=="LghD"||W=="LghP")n=new hx("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(W=="Clr")n=new d1("Glow Color");else if(W=="InvT")n=new j2([4,11]);else console.log(W);n.k(S.E.A,this.jx,this);
n.parent=this;this.Xn[W]=n;this.n.appendChild(n.n)}};bn.GEfc.RD.prototype=new bS;bn.GEfc.RD.prototype.jx=function(x){this.T(new gT(S.E.A,!1))};
bn.GEfc.aaG="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
bn.GEfc.RD.prototype.c=function(x){for(var F in this.Xn){var W;if(bn.GEfc.aaG.indexOf(F)!=-1)W=x[F].v;
else if(F=="TxtT")W=kx.Ez.indexOf(x[F].v[F]);else if(F=="BrsT")W=kx.a5z.indexOf(x[F].v[F]);else if(F=="LghD")W=kx.C9.indexOf(x[F].v[F]);
else if(F=="LghP")W=kx.k2.indexOf(x[F].v[F]);else if(F=="Grnt")W=kx.sS.indexOf(x[F].v[F]);else if(F=="ScrT")W=kx.Vp.indexOf(x[F].v[F]);
else if(F=="SDir")W=kx._v.indexOf(x[F].v.StrD);this.Xn[F].c(W)}};bn.GEfc.RD.prototype.h=function(){var x=kx.Iz(this.K8);
for(var F in this.Xn){var W=this.Xn[F].h();if(bn.GEfc.aaG.indexOf(F)!=-1)x[F].v=W;else if(F=="TxtT")x[F].v[F]=kx.Ez[W];
else if(F=="BrsT")x[F].v[F]=kx.a5z[W];else if(F=="LghD")x[F].v[F]=kx.C9[W];else if(F=="LghP")x[F].v[F]=kx.k2[W];
else if(F=="Grnt")x[F].v[F]=kx.sS[W];else if(F=="ScrT")x[F].v[F]=kx.Vp[W];else if(F=="SDir")x[F].v.StrD=kx._v[W]}return x};
bn.GEfc.RD.prototype._=function(){for(var x in this.Xn)this.Xn[x]._()};bn["Adobe Camera Raw Filter"]=function(x){bn.call(this,"Adobe Camera Raw Filter");
var F=this.n;this.atP=x;this.$S=null;this.zK=null;this._C=1e3;this.DN=null;this.Hf=null;v.fX(F,"flexrow");
var W=v.t("div"),n=v.t("div","padded");F.appendChild(W);F.appendChild(n);this.Mu=new dt;this.Mu.k("zoom",this.tW,this);
W.appendChild(this.Mu.n);this.ta=new c4(225);this.ta.fT(4);n.appendChild(this.ta.n);this.tP=v.t("div");
this.tP.setAttribute("style","width:18em;");n.appendChild(this.tP);this.arN=new e8("Hi",!0);this.tP.appendChild(this.arN.n);
this._r=v.t("div","scrollable");this.tP.appendChild(this._r);this.Xn=[new cS("Temperature",-100,100),new cS("Tint",-100,100),new cS([4,3],-4,4,null,!0),new cS([12,3,0],-100,100),new cS([4,4],-100,100),new cS([12,9],-100,100)];
this.uk="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var w=0;w<this.Xn.length;w++){var L=this.Xn[w];
L.c(0);L.k(S.E.A,this.tW,this);this._r.appendChild(L.n);if(w==1||w==3)this._r.appendChild(v.t("hr"))}};
bn["Adobe Camera Raw Filter"].prototype=new bn;bn["Adobe Camera Raw Filter"].prototype.z5=function(){return!0};
bn["Adobe Camera Raw Filter"].prototype.dp=function(x){this.tP.appendChild(x)};bn["Adobe Camera Raw Filter"].prototype.AW=function(x,F){this.ta.KB(eI.m2[x.wd]["--text-color"])};
bn["Adobe Camera Raw Filter"].prototype.c=function(x,F,W,n,L){this.wc=x;var $=W.m,l=W.e,k=$*l;this.arN.c($+" x "+l+", "+($*l/1e6).toFixed(1)+" MPx");
this.Xh=W;this.DN=new Float32Array($*l*3);this.Hf=new Uint8Array($*l*4);this.Hf.fill(255);if(F instanceof Float32Array)this.$S=F;
else{var V=this.$S=new Float32Array($*l*3);for(var w=0;w<k;w++){var i=w*3,f=w*4;V[i+0]=F[f+0]*(1/255);
V[i+1]=F[f+1]*(1/255);V[i+2]=F[f+2]*(1/255)}}this.zK=[{Xu:this.$S,rect:W.clone()}];this._C=1e3;var X=this.$S;
while($>1&&l>1){var s=$,R=s*3;$=$>>>1;l=l>>>1;var h=X,X=new Float32Array($*l*3);this.zK.push({Xu:X,rect:new eu(0,0,$,l)});
for(var B=0;B<l;B++)for(var e=0;e<$;e++){var i=(B*$+e)*3,U=(B*2*s+e*2)*3,o=U+R;X[i]=.25*(h[U]+h[U+3]+h[U+R]+h[U+R+3]);
X[i+1]=.25*(h[U+1]+h[U+4]+h[U+R+1]+h[U+R+4]);X[i+2]=.25*(h[U+2]+h[U+5]+h[U+R+2]+h[U+R+5])}}var b=this.uk;
for(var w=0;w<b.length;w++){var u=b[w];this.Xn[w].c(x[u]?x[u].v:0)}this.Mu.c([{Sf:W,data:this.Hf.buffer}]);
this.Mu.Ud();this.tW(null)};bn["Adobe Camera Raw Filter"].prototype.h=function(x){if(x){this.tW(null,!0);
return this.Hf}return JSON.parse(JSON.stringify(this.wc))};bn["Adobe Camera Raw Filter"].prototype.auF=function(){this.$S=null;
this.DN=null;this.zK=null;this.Hf=null};bn["Adobe Camera Raw Filter"].prototype.tW=function(x,F){if(x&&this.Xn.indexOf(x.target)!=-1){this._C=1e3;
var W=this.uk;for(var w=0;w<W.length;w++){var n=W[w];this.wc[n]={t:n=="Ex12"?"doub":"long",v:this.Xn[w].h()}}}var L=this.Mu.rR().Q,$=0;
while(L*2<=1&&!F){L*=2;$++}if(this._C<=$)return;this._C=$;var l=this.Xh,k=this.as8(this.$S,l,this.DN,this.wc,this.atP,this.Hf,$);
this.ta.c(k);this.Mu.c([{Sf:l,data:this.Hf.buffer}])};bn["Adobe Camera Raw Filter"].prototype.as8=function(x,F,W,n,L,$,l){var k=x,V=W,i=$,f=F.m,X=F.e,s=l!=0;
if(s){var R=this.zK[l];k=R.Xu;f=R.rect.m;X=R.rect.e;V=new Float32Array(f*X*3);i=r.R(f*X*4)}fK(k,f,X,V,n,L);
var h=Date.now(),B=f*X;for(var w=0;w<B;w++){var e=w*3,U=w*4;i[U+0]=~~(.5+V[e+0]*255);i[U+1]=~~(.5+V[e+1]*255);
i[U+2]=~~(.5+V[e+2]*255);i[U+3]=255}console.log(Date.now()-h,"integer conversion");h=Date.now();var o=r.uE(i,Math.max(1,Math.floor(B/2e5)));
console.log(Date.now()-h,"histogram done");h=Date.now();if(s){var b=new Uint32Array(i.buffer),u=new Uint32Array($.buffer),Z=F.m,I=F.e;
for(var y=0;y<I;y+=2)for(var D=0;D<Z;D+=2){var e=y*Z+D,N=b[(y>>>l)*f+(D>>>l)];u[e]=N;u[e+1]=N;u[e+Z]=N;
u[e+Z+1]=N}console.log(Date.now()-h,"upscale");h=Date.now()}return o};bn["Adobe Camera Raw Filter"].prototype.z4=function(x,F){this.aDt=x-248;
this.atW=F;this.Mu.z4(this.aDt,this.atW);this._r.style.height=F-236+"px"};bn["Adobe Camera Raw Filter"].prototype._=function(){for(var w=0;
w<this.Xn.length;w++)this.Xn[w]._()};bn.VaPo=function(){bn.call(this,"VaPo");this.f=-1;this.Qi=null;
this.AG=!1;this.ZT=null;this.bp=null;this.GD=null;this.jr=null;this.wJ=null;this.Pm=null;this.B9=null;
this.Id=null;this.ri=null;this.rB=null;this.Mn=null;this.TD=[];this.AV=-1;this.g=null;this.s={Tv:[[{f:{id:0,name:"Move",CZ:"tools/move"}}],[{f:{id:1,name:"Create Plane",CZ:"tools/pcrop"}}],[{f:{id:2,name:"Marquee",CZ:"tools/rselect"}}],[{f:{id:3,name:"Stamp",CZ:"tools/clone"}}],[{f:{id:4,name:"Brush",CZ:"tools/brush"}}],[{f:{id:5,name:"Transform",CZ:"tools/transform"}}],[{f:{id:6,name:"Hand",CZ:"tools/hand"}}],[{f:{id:7,name:"Zoom In",CZ:"zoomIn"}}],[{f:{id:8,name:"Zoom Out",CZ:"zoomOut"}}]],keys:[gp.l8,gp.PA,gp.ze,gp.nV,gp.IO,gp.jT,gp.R7,gp.s8]};
this.pg=new cI(this.s,!1);this.pg.k(S.E.M,this.FC,this);this.Ow=null;this.Xh=null;this.Qs=null;this.aB_=null;
this.UD=null;this.pE=null;var x=v.t("div","flexrow"),n=0;this.kX=x;this.n.appendChild(x);x.appendChild(this.pg.n);
var F=v.t("div");x.appendChild(F);var top=v.t("div","form");F.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.Sh=v.t("span");top.appendChild(this.Sh);this.Hd=[[new c_([12,80,5],1,1e3)],[new c_([7,6],0,30)],[new c_([12,14],1,200),new c_([12,17],0,100),new c_([12,0],0,100),new j2([12,75])],[new c_([12,14],1,200),new c_([12,17],0,100),new c_([12,0],0,100),new d1],[new j2("Flip"),new j2("Flop")],[]];
var W=[100,0,100,100,100,!1,100,100,100,JSON.parse(eC.CC.hV.slice(6)).v];this.Qt=[];for(var w=0;w<6;
w++){var L=v.t("span"),$=this.Hd[w];this.Qt.push(L);for(var l=0;l<$.length;l++){var k=$[l];k.parent=this;
k.c(W[n++]);k.k(S.E.A,this.a2j,this);L.appendChild(k.n)}}this.a5=v.t("div");this.a5.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.a5);this.view=new dt(!0);this.view.z4(100,100);this.view.r0("auto");this.view.k("mousedown",this.uT,this);
this.view.k("mousemove",this.Fj,this);this.view.k("mouseup",this.ji,this);v.FJ(this.view.Mt,this.Ou.bind(this));
F.appendChild(this.view.n)};bn.VaPo.prototype=new bn;bn.VaPo.prototype.z5=function(){return!0};bn.VaPo.prototype.dp=function(x){this.a5.appendChild(x)};
bn.VaPo.prototype.a2j=function(x){if(x.target==this.Hd[0][0]){var F=this.HT(),W=x.target.h();for(var w=0;
w<this.g.length;w++)if(this.g[w].length!=0&&F[w])F[w][0]=W;this._w(F)}if(this.f==5){this.Ow=this._9();
this.tW(!0)}this.tW()};bn.VaPo.prototype.lH=function(x){var F=this.f,W=this.bp;if(F==3||F==4){var n=this.Hd[F-1],L=jq.zu(),$=L.Brsh.v;
$.Dmtr.v.val=n[0].h();$.Hrdn.v.val=n[1].h();L=O.P1.gG(L,x);if(L){$=L.Brsh.v;n[0].c($.Dmtr.v.val);n[1].c($.Hrdn.v.val)}this.ee()}if(F==1&&W&&(x.S(gp.bl)||x.S(gp.F_))){W.pop();
W.pop();if(W.length==0)W=this.bp=null;this.tW()}function l(f,w,h){r.sh(f[w],f[0],h.Qs,h.Xh);h.ZR(f[0])}this.ZT=x;
if(F<6)this.view.lH(x);var k=x.S(gp.Fr);if(k){var V=this.AV,i=0;if(x.S(gp.s8)){if(x.S(gp.ca))i=1;else i=-1}else if(x.S(gp.Ia))i=1;
if(i!=0&&F!=5){console.log(this.AV,i,this.TD);var f=this.TD[this.AV],X=!1;if(f.length==3&&i==-1){l(f,1,this);
X=!0}V+=i;this.AV=Math.max(0,Math.min(this.TD.length-1,V));f=this.TD[this.AV];if(f.length==3&&i==1){l(f,2,this);
X=!0}this.tW(X)}if(x.S(gp.l8)){if(v.bT())jh.aBE(this.ZO.bind(this))}if(x.S(gp.ql)){this.wJ=null;this.tW()}}else{var s=this.s.keys;
for(var w=0;w<s.length;w++)if(x.S(s[w]))this.QO(w)}if(x.S(gp.F_)||x.S(gp.bl)){var R=this.HT();R=r.WP.anv(R,this.g);
this.g=[];for(var w=0;w<R.length;w++)this.g[w]=[];this._w(R);this.tW()}};bn.VaPo.prototype.ZO=function(x){if(x=="granted")jh.e8(this,this.d0.bind(this))};
bn.VaPo.prototype.d0=function(x,F){if(this.jr==null)this.jr=[0,0];if(this.f==5)this.QO(0);this.QO(5,{LK:x,fS:F})};
bn.VaPo.prototype.FC=function(x){if(x.data.d==S.H.Ac){this.QO(x.data.f)}};bn.VaPo.prototype.a8h=function(x){var F=this.view.Ib(x),W=r.WP.Pi(this.HT(),this.g),n=1e9,L=0;
for(var w=0;w<W.length;w++){var $=W[w][0],l=F.x-$[0],k=F.y-$[1],V=Math.sqrt(l*l+k*k);if(V<n){n=V;L=w}}if(n>4*v.e1()/this.view.rR().Q)return null;
return W[L]};bn.VaPo.prototype.Ou=function(x){var F=this.f,W=this.bp;if(F<2&&!this.AG){var n=this.Qi=this.a8h(x),L=this.HT(),$="auto";
if(F==0&&r.WP.qa(L,n)){var l=L[n[1]][1][n[2]],k=l[5+{1:0,5:1,7:2,3:3}[n[3]]],V=k[0],i=k[1];$=fn.arB(V[1]-i[1],-V[0]+i[0])}if(r.WP.aaU(L,n))$="crosshair";
this.view.r0($)}if(W){var f=this.view.Ib(x),X=W.slice(0);W[W.length-2]=f.x;W[W.length-1]=f.y;this.tW()}this.ee(x);
if(F==5&&!this.AG&&this.et){var f=this.view.Ib(x),L=this.HT(),s=r.WP.fD(L,f.x,f.y,this.wB());if(s){var R=new eX(s[2][0],s[2][1]),h=r.WP.My(L,L[s[0]][1][s[1]],this.wB()),B=h[1],e=r.D.An(h[0],B),U=[B.x+B.m/2,B.y+B.e/2];
r.D.i(e,U);var o=f.x-U[0],b=f.y-U[1],u=this.et.h7(R,this.view.rR().Q,null,null,Math.atan2(-b,-o));this.view.r0(u?u:"default")}}};
bn.VaPo.prototype.ee=function(x){var F=this.f,W=this.ZT;if((F==3||F==4)&&!this.AG){var n=x?this.view.Ib(x):this.rC,L=this.HT();
this.rC=n;if(n==null)return;var $=r.WP.fD(L,n.x,n.y,this.wB());if($){if(F==3&&this.Mn&&this.Hd[2][3].h()){var l=new eX($[2][0],$[2][1]);
this.rB=l.ZC(this.Mn);this.tW()}if(F==3&&(this.rB==null||W&&(W.S(gp.d8)||W.S(gp.xl)))){if(this.Ow){this.pE=null;
this.ZR(this.Ow);this.tW(!0,this.Ow)}return}this.a6x($,this.Ow)}}};bn.VaPo.prototype.wB=function(){return[this.Xh.m/2,this.Xh.e/2]};
bn.VaPo.prototype.uT=function(x){this.AG=!0;var F=this.f,W=this.bp,n=this.HT(),L=this.ZT,$=this.Qi=this.a8h(null),l=this.view.Ib(),k=r.WP.fD(n,l.x,l.y,this.wB()),V=k?new eX(k[2][0],k[2][1]):null;
if(r.WP.aaU(n,$)){var i=n[$[1]][1][$[2]];n.splice($[1],1);this.g.splice($[1],1);W=r.WP.anP(i);var f=-1,l=$[0];
for(var w=0;w<8;w+=2){var X=W[w]-l[0],s=W[w+1]-l[1];if(X*X+s*s<1e-5)f=w}f=f+2&7;W=this.bp=W.slice(f).concat(W.slice(0,f));
this._w(n)}else if(r.WP.qa(n,$)){if(F==1||L&&L.S(gp.Fr)){n=r.WP.asp(n,$,this.wB());this._w(n);$[2]=n[$[1]][1].length-1;
$[3]=8+($[3]+4&7);this.g[$[1]].push($[2]);this._w(n,!0);this.QO(0)}else this._w(this.HT(n))}else if(F==0){var R=[];
for(var w=0;w<n.length;w++)R.push([]);if(k){if(L&&L.S(gp.ca))R=this.g;var h=R[k[0]].indexOf(k[1]);if(h==-1)R[k[0]].push(k[1]);
else R[k[0]].splice(h,1)}this.g=R;this._w(n,!0);this.tW()}else if(F==2){if(k){var B=this.wJ;if(B&&B.U4(V)){if(L)if(L.S(gp.d8)||L.S(gp.Fr)){this.QO(5);
this.uT(x);return}this.Pm=new eX(V.x-B.x,V.y-B.y)}else{this.GD=k[2].concat(k[2]);this.jr=k}}}else if(F==3||F==4){if(F==3){if(L&&(L.S(gp.d8)||L.S(gp.xl))){if(k){this.rB=V;
this.Id=V.clone();this.Mn=null;this.ri=k;this.tW()}else alert("You must click into a plane");this.AG=!1;
return}else if(this.rB==null){alert(hz.get([15,7,0]));this.AG=!1;return}else if(k){var e=this.Mn=V.ZC(this.rB)}}if(k){this.a6x(k)}}else if(F==5){if(k){var U=new eX(k[2][0],k[2][1]),o=this.et.pI({U:this.view.rR()},{},L,U)}}};
bn.VaPo.prototype.a6x=function(x,F){var W=this.pE;if(W==null)this.pE=W=r.R(this.Xh.P()*4);else W.fill(0);
var n=this.f;this.jr=x;var L=this.Hd[n-1],$=r.afk.aiQ(L[0].h(),L[1].h()/100,1),l=r.R($[1].P()*4);r.rW($[0],l,3);
if(n==4){var k=r.I.z$(L[3].h());r.De(l,Math.round(k.z)<<16|Math.round(k.r)<<8|Math.round(k.o)<<0,4278190080)}this.B9={ae1:$[0],LK:l,fS:$[1]};
var V=this.Ow=this.DK(x[2],x[2]),i=F?F.oA(V):V;this.ZR(i);this.tW(!0,i)};bn.VaPo.prototype.Fj=function(x){var F=this.Qi,W=this.f,n=this.HT();
if(W==0&&r.WP.qa(n,F)){n=r.WP.axs(n,F,this.view.Ib());this._w(n,!0);this.tW()}var L=this.Pm;if(W==2&&this.AG&&(this.GD||L)){var $=this.view.Ib(),l=r.WP.fD(n,$.x,$.y,this.wB());
if(l){this.jr=l;if(L){this.wJ.x=l[2][0]-L.x;this.wJ.y=l[2][1]-L.y}else{this.GD=this.GD.slice(0,2).concat(l[2]);
this.wJ=r.Z.Gn(this.GD)}this.tW()}}if((W==3||W==4)&&this.AG){var $=this.view.Ib(),l=r.WP.fD(n,$.x,$.y,this.wB());
if(l){if(W==3){var k=this.Mn;this.rB=new eX(l[2][0]-k.x,l[2][1]-k.y)}var V=this.DK(this.jr[2],l[2]);
this.Ow=this.Ow.oA(V);this.jr=l;this.ZR(V);this.tW(!0,V)}}if(W==5&&this.AG){var $=this.view.Ib(),l=r.WP.fD(n,$.x,$.y,this.wB(),this.jr);
if(l){var i=new eX(l[2][0],l[2][1]);this.et.Lx({U:this.view.rR()},{},this.ZT,i);this.jr=l;var V=this.Ow;
if(V)this.ZR(V);else V=new eu;this.Ow=this._9(null,null,!0);this.tW(!0,V.oA(this.Ow))}}};bn.VaPo.prototype.DK=function(x,F){x=new eX(x[0],x[1]);
F=new eX(F[0],F[1]);var W=Math.max(1e-5,eX.I9(x,F)),n=this.B9.fS.m*.2,L=new eu;for(var $=0;$<W;$+=n){var l=1-$/W,k=l*x.x+(1-l)*F.x,V=l*x.y+(1-l)*F.y,i=this.B9.fS.clone();
i.x=Math.round(k-i.m/2);i.y=Math.round(V-i.e/2);if(this.f==3){var f=this.Mn;if(f==null)f=new eX(k,V).ZC(this.rB);
var X=this.wJ=i.clone();X.x=Math.round(X.x-f.x);X.y=Math.round(X.y-f.y);var s=this.B9.ae1;this.B9=this.a4X(this.ri);
this.wJ=null;r.Wz(s,this.B9.LK);this.B9.ae1=s}var R=this._9(this.pE,i);L=L.oA(R)}return L};bn.VaPo.prototype.ji=function(x){var F=this.Qi;
if(F&&F[3]>=8){var W=r.WP.azP(this.HT(),F,this.wB());this._w(W,!0);this.tW();alert("new plane added")}var n=this.f,L=this.bp;
if(L||n==1){var $=this.view.Ib();if(L==null)L=this.bp=[$.x,$.y];if(L.length==8&&fn.R$(L)){var W=this.HT();
W.push([100,[r.WP.aB5(L,this.wB())]]);this.g.push([0]);this._w(W,!0);L=this.bp=null;this.QO(0);this.tW()}else if(L.length<8){L.push($.x,$.y);
if(L.length==8&&!fn.R$(L)){var l=L[0],k=L[1];L[0]=L[4];L[1]=L[5];L[4]=l;L[5]=k}}}var V=this.GD;if(n==2&&V&&V[0]==V[2]&&V[1]==V[3]){this.wJ=null;
this.tW()}if((n==3||n==4)&&this.AG){if(n==3&&!this.Hd[2][3].h()&&this.Id){this.rB=this.Id.clone();this.tW()}this._w();
this.pE=null}if(!this.Hd[2][3].h())this.Mn=null;this.AG=!1;this.Pm=null;this.GD=null};bn.VaPo.prototype.QO=function(x,F){if(x==this.f)return;
var W=this.Ow,L=6;if(this.f==5){this._w();this.ZR(W);this.et=null;this.tW()}if(this.f==3||this.f==4){this.pE=null;
if(W)this.ZR(W);this.tW(!0,W)}if(x==5){if(F==null&&this.wJ==null){alert("Select the area to be transformed");
return}this.a2i(F)}if(x>1){var n=this.HT();this.kA();this._w(n,!0);this.tW()}this.view.lH(x>=L?dt.cZ(x-L):new gp);
if(x<L)this.view.r0("auto");this.f=x;this.pg.QO(x);v.Ri(this.Sh);var $={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[x];
this.Sh.appendChild(this.Qt[$])};bn.VaPo.prototype.HT=function(){var w=this.AV,x=this.TD;while(x[w].length==3)w--;
var F=x[w];this.g=JSON.parse(F[1]);return JSON.parse(F[0])};bn.VaPo.prototype._w=function(x,F){if(x==null&&this.Ow==null)return;
var W=this.TD,n=this.AV,w=n;while(w>=0&&W[w].length==3)w--;if(F==null)this.AV=n=n+1;if(x!=null)W[F?w:n]=[JSON.stringify(x),JSON.stringify(this.g)];
else{var L=this.Xh,$=this.Ow,l=r.R($.P()*4),k=r.R($.P()*4);W[n]=[$,l,k];r.sh(this.Qs,L,l,$);if(this.pE)r.l.X3("norm",this.pE,L,this.Qs,L,L,this.a6S());
else this._9(this.Qs);r.sh(this.Qs,L,k,$);this.Ow=null}while(W.length!=n+1)W.pop()};bn.VaPo.prototype.a6S=function(){return this.Hd[this.f-1][2].h()/100};
bn.VaPo.prototype.kA=function(x,F){if(x==null)x=this.HT();this.g=[];for(var w=0;w<x.length;w++){var W=[];
this.g.push(W);if(F)for(var n=0;n<x[w][1].length;n++)W.push(n)}};bn.VaPo.prototype.c=function(x,F,W,n,L,$){var l=JSON.parse(JSON.stringify($[2].WP));
this.AV=-1;this.kA(l);this._w(l);var k=r.R(n.P()*4);r.sh(F,W,k,n);this.a5w=new eu;this.Xh=n;this.aB_=L;
this.Qs=k;this.UD=L.slice(0);this.ZR(n);this.tW(!0);this.view.Ud();this.QO(0)};bn.VaPo.prototype.a2i=function(x){this.B9=x?x:this.a4X();
var F=r.Z.o4(this.B9.fS).p;if(x){var W=this.HT(),n=r.WP.My(W,W[0][1][0],this.wB()),L=n[1],$=Math.min(L.m/x.fS.m,L.e/x.fS.e)*.9;
if($<1)r.Z.i(F,new iJ($,0,0,$,0,0),F)}this.et=new fn(F,!0,!0);this.wJ=null;this.Ow=this._9();this.tW(!0)};
bn.VaPo.prototype.a4X=function(x){var F=this.Xh,W=r.Z.Jy(this.wJ),n=this.HT(),L=r.R(W.P()*4);if(x==null)x=this.jr;
var $=n[x[0]][1],l=r.WP.Ta(n[x[0]][1],x[1],W,this.wB());for(var k=0;k<l.length;k++){var V=$[l[k]],i=r.WP.My(n,V,this.wB()),f=i[0],X=i[1],s=X.jB(W);
if(s.ak())continue;s=r.Z.Jy(s);var R=r.R(s.P()*4),h=r.D.An(f,X);h=r.D.pY([1/F.m,0,0,0,1/F.e,0,0,0],h);
h=r.D.sx(h);r.D.drawImage(h,this.UD,F.m,F.e,R,s);r.sh(R,s,L,W)}var B=this.Hd[1][0].h(),e=Math.round(B*1.4),U=W.clone();
U.za(-e,-e);var o=r.R(U.P());o.fill(255);var b=r.R(W.P());r.Hz(o,U,b,W);var u=r.R(W.P());r.wG.kt(b,u,W,B);
r.Tb(L,b,3);r.KF.jB(b,u,u);r.rW(u,L,3);return{LK:L,fS:W}};bn.VaPo.prototype.ZR=function(x,F){var W=this.Xh;
r.sh(this.aB_,W,this.UD,W,x);r.l.X3("norm",this.Qs,W,this.UD,W,x,1);if(this.pE)r.l.X3("norm",this.pE,W,this.UD,W,x,this.a6S())};
bn.VaPo.prototype._9=function(x,F,W){var n=this.B9,L=n.fS,$=this.Xh,l,k=F?r.Z.o4(F).p:this.et.Pi(),V=r.Z.KR(k),l=r.D.An(k,L),i=this.Hd[4],f=new iJ;
if(i[0].h()){f.V=-1;f.yq=2*L.x+L.m}if(i[1].h()){f.P9=-1;f.Ze=2*L.y+L.e}l=r.D.pY(l,r.D.Mz(f));function X(E,T){E.beginPath();
E.moveTo(T[0],T[1]);for(var w=1;w<4;w++)E.lineTo(T[w*2],T[w*2+1]);E.closePath()}var s=this.HT(),R=r.WP.Ta(s[this.jr[0]][1],this.jr[1],V,this.wB()),h=s[this.jr[0]][1],B=new eu;
for(var e=0;e<R.length;e++){var U=h[R[e]],o=r.WP.My(s,U,this.wB()),b=o[0],u=o[1],Z=u.jB(V);if(this.wJ)Z=Z.jB(this.wJ);
if(Z.ak())continue;var I=r.D.An(b,u),y=r.Z.o4(Z).p;r.D.i(I,y);var D=k.slice(0);r.D.i(I,D);var N=r.Z.Gn(D).jB(r.Z.Gn(y)),j=N.m,H=N.e;
if(N.ak())continue;I=r.D.pY(r.D.pY(I,l),[L.m,0,L.x,0,L.e,L.y,0,0]);var Q=r.R(N.P()*4);r.D.drawImage(I,n.LK,L.m,L.e,Q,N,W);
if(Z.P()!=V.P()){var C=r.bz(j,H);C.save();C.clearRect(0,0,j,H);C.translate(-N.x,-N.y);X(C,y);C.clip();
X(C,D);C.fill();C.restore();var J=new Uint8Array(C.getImageData(0,0,j,H).data.buffer);for(var w=3;w<Q.length;
w+=4)if(J[w]<Q[w])Q[w]=J[w]}r.l.X3("norm",Q,N,x?x:this.UD,$,N,1);B=B.oA(N)}return B};bn.VaPo.prototype.h=function(){return JSON.parse(JSON.stringify(this.HT()))};
bn.VaPo.prototype.a3U=function(){if(this.f==5)this.QO(0);var x=new eu,F=this.TD;for(var w=0;w<=this.AV;
w++)if(F[w].length==3)x=x.oA(F[w][0]);var W=r.R(x.P()*4);r.sh(this.Qs,this.Xh,W,x);return[W,x]};bn.VaPo.prototype.z4=function(x,F){this.pg.z4(x,F);
this.view.z4(x-40,F-30)};bn.VaPo.prototype._=function(){this.pg._();for(var w=0;w<this.Hd.length;w++)for(var x=0;
x<this.Hd[w].length;x++)this.Hd[w][x]._()};bn.VaPo.prototype.tW=function(x,F){var W=this.Xh,n=[],L=[],$=[],l=this.HT(),k=r.WP.Pi(l,this.g),V=0,i=null,e=null,U=null,o=null;
for(var w=0;w<k.length;w++)$.push(k[w][0][0],k[w][0][1]);for(var w=0;w<l.length;w++){var f=this.g[w].length;
V+=f;if(f!=0)i=[w,this.g[w][0]]}var X=this.Hd[0][0];X.DE(V!=0);if(V!=0)X.c(Math.round(l[i[0]][0]));if(V==1){var s=l[i[0]][1]}var R=[];
if(this.wJ&&l[this.jr[0]])R=r.WP.Ta(l[this.jr[0]][1],this.jr[1],this.wJ,this.wB());var h=[];if(this.et){h=this.et.a9q();
h[4]=this.et.cv()}var B=[];if(this.et&&l[this.jr[0]])B=r.WP.Ta(l[this.jr[0]][1],this.jr[1],r.Z.Gn(this.et.Pi()),this.wB());
for(var b=0;b<l.length;b++){var u=l[b][0],s=l[b][1],Z=this.g[b];for(var I=0;I<s.length;I++){var i=s[I],y=r.WP.My(l,i,this.wB()),D=y[0],W=y[1],N=r.D.An(D,W);
if(W.ak()){if(U==null)U={G:[],p:[]};r.Z.concat(U,{G:["M","L","L","L","Z"],p:D});continue}var j=r.Z.o4(W),H=j.p,Q=j.G,C=this.rB;
if(C&&W.U4(C)&&this.ri&&this.ri[0]==b){e=[C.x,C.y];r.D.i(N,e)}if(R.indexOf(I)!=-1){var J=this.wJ.jB(W);
if(b==this.jr[0]&&!J.ak()){if(o==null)o={p:[],G:[]};var E=r.Z.o4(J);r.D.i(N,E.p);r.Z.concat(o,E)}}if(B.indexOf(I)!=-1&&b==this.jr[0]){var T=[];
for(var w=0;w<h.length;w++)if(W.U4(h[w]))T.push(h[w].x,h[w].y);if(T.length!=0){r.D.i(N,T);$=$.concat(T)}}if(Z&&Z.indexOf(I)!=-1){var c=Math.ceil(W.x/u)*u,a=W.x+W.m,K=Math.ceil(W.y/u)*u,Y=W.y+W.e;
for(var p=c;p<a;p+=u){H.push(p,W.y,p,Y);Q.push("M","L")}for(var P=K;P<Y;P+=u){H.push(W.x,P,a,P);Q.push("M","L")}}r.D.i(N,H);
n=n.concat(Q);L=L.concat(H)}if(e&&this.f==3){var p=e[0],P=e[1],m=10/this.view.rR().Q;L.push(p-m,P,p+m,P);
L.push(p,P-m,p,P+m);n.push("M","L","M","L")}}var D=this.bp,W=this.Xh;if(D){var z=["M"];for(var w=0;w<D.length-2;
w+=2)z.push("L");z.push("Z");var M=O.f7.Fo(D,W.m/2,W.e/2);if(isNaN(M)||M==Infinity||M==-Infinity||!fn.R$(D)){if(U==null)U={G:[],p:[]};
r.Z.concat(U,{G:z,p:D})}else{L=L.concat(D);n=n.concat(z)}}var d={HV:{G:n,p:L},agA:U,a0T:o,sC:$,D9:null};
if(x){this.view.c([{Sf:W,data:this.UD.buffer}],null,d,F)}else this.view.a2Y(d)};bn.blnc=function(){bn.call(this);
var x=this.n;this.Tj=null;this.p4=new hx([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.p4.k(S.E.A,this.tW,this);
x.appendChild(this.p4.n);this.xB=[];for(var w=0;w<3;w++){var F=new cS(["VAR0 - VAR1",a3.ak2[w],a3.O0[w]],-100,100);
F.k(S.E.A,this.Hc,this);this.xB.push(F);x.appendChild(F.n)}this.Q2=new j2([13,4]);this.Q2.k(S.E.A,this.Hc,this);
x.appendChild(this.Q2.n)};bn.blnc.prototype=new bn;bn.blnc.prototype._=function(){this.p4._();for(var w=0;
w<3;w++)this.xB[w]._();this.Q2._()};bn.blnc.prototype.c=function(x){this.Tj=JSON.parse(JSON.stringify(x));
this.tW()};bn.blnc.prototype.h=function(x){var F=["ShdL","MdtL","HghL"],W=this.Tj[F[this.p4.h()]].v;
for(var w=0;w<3;w++)W[w].v=this.xB[w].h();this.Tj.PrsL.v=this.Q2.h();return JSON.parse(JSON.stringify(this.Tj))};
bn.blnc.prototype.tW=function(x){var F=["ShdL","MdtL","HghL"],W=this.Tj[F[this.p4.h()]].v;for(var w=0;
w<3;w++)this.xB[w].c(W[w].v);this.Q2.c(this.Tj.PrsL.v)};bn.brit=function(){bn.call(this,"brit");this.ly.push(new cS([12,2],-150,150,""));
this.ly.push(new cS([12,3,0],-100,100,""));this.ly.push(new j2([12,3,1]));this.pk()};bn.brit.prototype=new bn;
bn.curv=function(){bn.call(this);this.value=null;this.rx=null;this.Mh=null;var x=this.n;this.Vx=new hx("Preset",["basic","advanced"]);
this.Vx.k(S.E.A,this.avb,this);x.appendChild(this.Vx.n);v.kE(x);this.Cm=new hx([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Cm.k(S.E.A,this.sr,this);x.appendChild(this.Cm.n);this.N5=new hx(null,["Spline","Sketch"]);this.N5.k(S.E.A,this.avb,this);
x.appendChild(this.N5.n);this.bv=new hS;this.bv.parent=this;this.bv.k(S.E.A,this.Xg,this);x.appendChild(this.bv.n);
v.kE(x);this.nM=new jY;this.nM.k(S.E.A,this.Fd,this);x.appendChild(this.nM.n);this.Mv=null;this.aoI=0;
this.Kb=0;v.kE(x);this.uN=new gM("Sample from image",c7.sJ(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.uN.k(S.E.A,this.XG,this);this.uN.n.style.marginRight="0";x.appendChild(this.uN.n)};bn.curv.prototype=new bn;
bn.curv.prototype.AW=function(x,F){if(F==iC.tB||F==iC.he){var W=x.J0,n=["Default"];for(var w=0;w<W.length;
w++)n.push(W[w].presetFileName.v);n.push("Custom");this.Vx.A1(n,[1,W.length,1]);this.Mh=x}};bn.curv.prototype.z4=function(x,F){this.nM.z4(x,F)};
bn.curv.prototype._=function(){this.Cm._();this.nM._()};bn.curv.prototype.sX=function(){this.Vx.c(this.Mh.J0.length+1)};
bn.curv.prototype.avb=function(x){if(x.target==this.Vx){var F=this.Vx.h(),W=this.Mh.J0,n;if(F==0)n=ew.Iz("curv");
else if(F-1<W.length)n=JSON.parse(JSON.stringify(W[F-1]));else return;this.c(n);this.Hc();return}this.sX();
var L=jL.EJ(this.value,0),$=L.length==256?1:0,l=this.N5.h();if($==l)return;var n=ew.Iz("curv");if(l==1){var k=[];
for(var w=0;w<256;w++)k.push(w);jL.Mm(n,0,k)}this.c(n);this.Hc()};bn.curv.prototype.Fd=function(){this.sX();
jL.Mm(this.value,this.Cm.h(),this.nM.h());this.Hc()};bn.curv.prototype.sr=function(){var x=this.Cm.h(),F=jL.EJ(this.value,x),W=F.length==256?1:0;
this.N5.c(W);if(this.rx)this.nM.hf(this.rx[x],this.rx[4]*[1,.33,.33,.33][x],["#ccc","#fcc","#cfc","#ccf"][x]);
this.nM.c(F)};bn.curv.prototype.nw=function(){return!0};bn.curv.prototype.pI=function(x,F,W,n,L){var $=this.value;
this.value=ew.Iz("curv");this.Hc();var l=O.c2.gJ(x,L,1,null,!0),k=this.Mv=[l>>>16&255,l>>>8&255,l&255];
this.aoI=L.y;var V=this.uN.h().indexOf(!0);if(V==0){var i=(k[0]+k[1]+k[2])/3,f=this.Cm.h(),X=jL.EJ($,f),s=f==0?i:k[f-1],R=-1;
for(var w=0;w<X.length;w++)if(X[w].v.Hrzn.v==s)R=w;if(R==-1){var h=JSON.parse(JSON.stringify(X[0]));
h.v.Hrzn.v=s;h.v.Vrtc.v=s;X.push(h);X.sort(function(B,e){return B.v.Hrzn.v-e.v.Hrzn.v});jL.Mm($,f,X);
this.Kb=X.indexOf(h)}else this.Kb=R}this.c($);this.Hc()};bn.curv.prototype.Lx=function(x,F,W,n,L){if(this.Mv==null)return;
if(this.uN.h().indexOf(!0)==0){var $=this.value,l=this.Cm.h(),k=jL.EJ($,l),V=k[this.Kb];V.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(V.v.Hrzn.v+(this.aoI-L.y))));
jL.Mm($,l,k);this.c($);this.Hc()}};bn.curv.prototype.t8=function(x,F,W,n,L){var $=this.value,l=this.Mv,k=(l[0]+l[1]+l[2])/3,V=this.uN.h().indexOf(!0)-1;
if(V<=-1){}else for(var w=0;w<3;w++){var i=jL.EJ($,1+w);if(V==0)i[0].v.Hrzn.v=l[w];if(V==1){var f=Math.log(l[w]/255)/Math.log(k/255),X=Math.min(999,Math.max(10,Math.round(100*f)));
if(i.length==2)i.splice(1,0,JSON.parse(JSON.stringify(i[0])));i[1].v.Hrzn.v=127-Math.log(X/100)*127;
i[1].v.Vrtc.v=127}if(V==2)i[i.length-1].v.Hrzn.v=l[w];jL.Mm($,1+w,i)}this.c($);this.Hc();this.sX();this.Mv=null};
bn.curv.prototype.c=function(x){this.value=x;this.sr()};bn.curv.prototype.hf=function(x){this.rx=x;this.sr()};
bn.curv.prototype.h=function(x){return JSON.parse(JSON.stringify(this.value))};bn.curv.prototype.Xg=function(){var x=this.bv.h(),F=this.rx,W=this.value,n=r.axj(x,F);
for(var w=0;w<4;w++){var L=n[w][0],$=n[w][1],l=n[w][2],k=[r.z3.Xd(L,0,!0),r.z3.Xd($,255,!0)];if(l!=null)k.splice(1,0,r.z3.Xd(128,l,!0));
jL.Mm(W,w,k)}this.sr();this.Hc()};bn.expA=function(){bn.call(this,"expA");this.ly.push(new cS([12,5],-20,20,null,2,!0));
this.ly.push(new cS([12,6],-.5,.5,null,2));this.ly.push(new cS([12,7],.01,9.99,null,2,!0));this.pk()};
bn.expA.prototype=new bn;bn.expA.prototype.gl=function(x,F){F[0]=x.Exps.v;F[1]=x.Ofst?x.Ofst.v:0;F[2]=x.gammaCorrection?x.gammaCorrection.v:1};
bn.expA.prototype.He=function(x,F){x.Exps={t:"doub",v:F[0]};x.Ofst={t:"doub",v:F[1]};x.gammaCorrection={t:"doub",v:F[2]}};
bn.grdm=function(){bn.call(this,"grdm");this.ly.push(new aJ(!0,null,!0));this.ly.push(new j2([12,23,0]));
this.pk()};bn.grdm.prototype=new bn;bn.grdm.prototype.gl=function(x,F){F[0]=x.Grad.v;F[1]=x.Rvrs?x.Rvrs.v:!1};
bn.grdm.prototype.He=function(x,F){x.Grad.v=F[0];x.Rvrs={t:"bool",v:F[1]}};bn.grdm.prototype.AW=function(x,F){this.ly[0].jP(x.A_,x.G8);
if(F==iC.tB||F==iC.N1||F==iC.W$)this.ly[0].KX(x.RP)};bn.selc=function(){bn.call(this);var x=this.n;this.d6=[];
this.KU=null;this.p4=new hx([12,82],a3.ds.concat([[13,1,8],[13,1,13],[13,1,10]]));this.p4.k(S.E.A,this.jx,this);
x.appendChild(this.p4.n);v.kE(x);for(var w=0;w<4;w++){var F=new cS(a3.ak2[w],-100,100,"%");F.k(S.E.A,this.jx,this);
this.d6.push(F);x.appendChild(F.n)}this.JO=new j2([13,3]);x.appendChild(this.JO.n);this.JO.k(S.E.A,this.jx,this)};
bn.selc.prototype=new bn;bn.selc.prototype._=function(){this.p4._();this.JO._();for(var w=0;w<4;w++)this.d6[w]._()};
bn.selc.prototype.c=function(x){this.KU=JSON.parse(JSON.stringify(x));this.tW()};bn.selc.prototype.h=function(x){return JSON.parse(JSON.stringify(this.KU))};
bn.selc.prototype.jx=function(x){if(x.target!=this.p4){var F=this.KU,W=[];for(var w=0;w<4;w++)W[w]=this.d6[w].h();
cG.Mm(F,this.p4.h(),W);F.Mthd={t:"enum",v:{CrcM:this.JO.h()?"Absl":"Rltv"}}}this.tW();this.Hc()};bn.selc.prototype.tW=function(){var x=this.KU,F=cG.EJ(x,this.p4.h());
for(var w=0;w<4;w++)this.d6[w].c(F[w]);this.JO.c(x.Mthd?x.Mthd.v.CrcM=="Absl":!1)};bn.blwh=function(){bn.call(this,"blwh");
this.ly.push(new j2([12,11]));this.ly.push(new d1(!0));for(var w=0;w<6;w++)this.ly.push(new cS(a3.ds[w],-200,300));
this.pk()};bn.blwh.prototype=new bn;bn.blwh.prototype.gl=function(x,F){F[0]=x.useTint.v;F[1]=x.tintColor.v;
var W="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var w=0;w<6;w++)F[2+w]=x[W[w]].v};bn.blwh.prototype.He=function(x,F){x.useTint.v=F[0];
x.tintColor.v=F[1];var W="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var w=0;w<6;w++)x[W[w]].v=F[2+w]};
bn.hue2=function(){bn.call(this);this.value=null;this.fB=null;this.al5=null;this.s_=[[0,0,0],[0,50,0]];
var x=this.n;this.uN=new gM(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.uN.k(S.E.A,this.aib,this);this.uN.k(S.E.A,this.XG,this);x.appendChild(this.uN.n);var F=this.ly=[new hx([12,12],["Master"].concat(a3.ds)),new cS([12,8],-180,180),new cS([12,9],-100,100),new cS([12,10],-100,100),new j2([12,11])];
for(var w=0;w<F.length;w++){var W=F[w];W.k(S.E.A,w==0?this.sr:this.apJ,this);x.appendChild(W.n)}this.p4=F[0];
this.QT=F[1];this.QZ=F[2];this.ME=F[3];this.aC=F[4];this.OH=new gM("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.OH.k(S.E.A,this.aib,this);this.OH.k(S.E.A,this.XG,this);this.OH.n.style.marginLeft="20px";x.appendChild(this.OH.n);
this.fw=v.t("div");x.appendChild(this.fw);this.YY=this.dx.bind(this);this.ti=this.IX.bind(this);this.Mt=v.t("canvas");
this.yG=this.Mt.getContext("2d");this.cP=null;v.OC(this.Mt);v.vI(this.Mt,282,18);x.appendChild(this.Mt);
v.p6(this.Mt,this.aI.bind(this))};bn.hue2.prototype=new bn;bn.hue2.prototype.z4=function(x,F){v.vI(this.Mt,Math.round(x),18);
if(this.value)this.sr()};bn.hue2.prototype.aib=function(x){var F=x.target.h().indexOf(!0);if(F==-1)return;
if(x.target==this.uN)this.OH.c([!1,!1,!1]);else this.uN.c([!1,!1,!1])};bn.hue2.prototype.aI=function(x){if(this.p4.h()==0||this.aC.h())return;
var F=v.iF(x,this.Mt).x/(this.Mt.width/v.e1()),$=1e6;function W(X,s,R){return X<s&&s<R||R<X&&(X<s||s<R)}var n=this.f2(),L=-1;
for(var w=0;w<4;w++){var l=Math.abs(F-(n[w]+w*1e-5));if(l<$){$=l;L=w}}if($>.025){L=-1;var k=n[0],V=n[1],i=n[2],f=n[3];
if(W(k,F,V))L=4;if(W(V,F,i))L=5;if(W(i,F,f))L=6}if(L==-1)return;this.cP=L;v.FJ(document.body,this.YY);
v.UJ(document.body,this.ti)};bn.hue2.prototype.dx=function(x){var F=v.iF(x,this.Mt).x/(this.Mt.width/v.e1()),W=this.f2(),n=this.cP;
for(var w=1;w<4;w++)if(W[w]<W[w-1]){W[w]+=1}if(n<4){var L=1e6,$=0;for(var w=-20;w<20;w++){var l=Math.abs(W[n]-(F+w));
if(l<L){L=l;$=w}}F+=$;W[n]=F;for(var w=n+1;w<4;w++)if(W[w]<W[w-1]){W[w]=W[w-1]}for(var w=n-1;w>=0;w--)if(W[w]>W[w+1]){W[w]=W[w+1]}}else{var k=F-(W[n-4]+W[n-3])/2;
if(k<-.5)k+=1;if(n==4){W[0]+=k;W[1]+=k;W[2]=Math.max(W[1],W[2]);W[3]=Math.max(W[1],W[3])}if(n==5)for(var w=0;
w<4;w++)W[w]+=k;if(n==6){W[2]+=k;W[3]+=k;W[0]=Math.min(W[0],W[2]);W[1]=Math.min(W[1],W[2])}}for(var w=1;
w<4;w++)if(W[w]<W[w-1])throw"e";this.a18(W);this.sr();this.Hc()};bn.hue2.prototype.IX=function(x){v.ac(document.body,this.YY);
v.bg(document.body,this.ti)};bn.hue2.prototype._=function(){for(var w=0;w<this.ly.length;w++)this.ly[w]._()};
bn.hue2.prototype.apJ=function(x){var F=this.value.Clrz.v=this.aC.h();if(F)this.p4.c(0);if(x&&x.target==this.aC){var W=F?1:0;
this.s_[1-W]=im.EJ(this.value,0);var n=this.s_[W];im.Mm(this.value,0,n);if(this.p4.h()==0){this.QT.c(n[0]);
this.QZ.c(n[1]);this.ME.c(n[2])}}var L=this.p4.h(),$=im.EJ(this.value,L),n=L==0?$:$.xB;n[0]=this.QT.h();
var l=this.QZ.h();n[1]=F?Math.max(0,l):l;n[2]=this.ME.h();im.Mm(this.value,L,$);this.sr();this.Hc()};
bn.hue2.prototype.sr=function(){var x=this.p4.h(),F=this.value.Clrz?this.value.Clrz.v:!1;this.aC.c(F);
this.p4.DE(!F);this.OH.DE(!F&&x!=0);var W=im.EJ(this.value,x),n=x==0?W:W.xB;this.QT.c(n[0]);this.QZ.c(n[1]);
this.ME.c(n[2]);var L=this.Mt.width,$=this.Mt.height,l=this.yG;l.clearRect(0,0,L,$);if(F||x==0){this.fw.innerHTML="";
return}var k=W.Bo;this.fw.innerHTML=k[0]+"\xB0 / "+k[1]+"\xB0<span style=\"float:right\">"+k[2]+"\xB0 \\ "+k[3]+"\xB0</span>";
var V=r.R(L*4);fQ.am5(V,1,L,-1,.5);var i=new ImageData(new Uint8ClampedArray(V.buffer),L,1),f=Math.round($/4);
for(var w=0;w<f;w++)l.putImageData(i,0,w);function X(U,o,b){l.fillStyle=b;var u=f*2;if(U<=o)l.fillRect(U*L,u,(o-U)*L,f);
else{l.fillRect(0,u,o*L,f);l.fillRect(U*L,u,(1-U)*L,f)}}var s=this.f2();X(s[0],s[1],"#888888");X(s[1],s[2],"#cccccc");
X(s[2],s[3],"#888888");l.fillStyle="#ffffff";l.lineWidth=1;l.beginPath();var R=f+.5,h=4*f+.5;for(var w=0;
w<4;w++){var B=Math.floor(L*s[w])+.5,e=(w<2?-1:1)*f*(w==1||w==2?1:2);l.moveTo(B,R);l.lineTo(B,h);l.lineTo(B+e,h);
l.lineTo(B+e,f+f+.5);l.closePath()}l.fill();l.stroke()};bn.hue2.prototype.f2=function(){var x=this.p4.h(),F=im.EJ(this.value,x).Bo;
for(var w=0;w<4;w++)F[w]=(1000.5+F[w]/360)%1;return F};bn.hue2.prototype.a18=function(x){var F=this.p4.h(),W=im.EJ(this.value,F);
for(var w=0;w<4;w++)W.Bo[w]=Math.round(36e3+(x[w]-.5)*360)%360;im.Mm(this.value,F,W)};bn.hue2.prototype.nw=function(){return!0};
bn.hue2.prototype.a5m=function(){var x=this.uN.h().indexOf(!0),F=this.OH.h().indexOf(!0);return x!=-1?x:F!=-1?F+1:-1};
bn.hue2.prototype.pI=function(x,F,W,n,L){var $=this.a5m();if($==-1)return;var l=this.value;this.value=ew.Iz("hue2");
this.Hc();var k=O.c2.gJ(x,L,1,null,!0);this.c(l);var V=[k>>>16&255,k>>>8&255,k&255],i=r.uO(V[0]/255,V[1]/255,V[2]/255);
if($==0){this.p4.c(1+Math.round(i.eD*6)%6)}else{var f=this.f2(),X=.5+i.eD,s=1/12,R=f[1],h=f[2];if(h<R){h++;
if(X<R&&X+1-h<R-X)X++}var B=R<=X&&X<=h;if($==1){R=X-s/2;h=X+s/2}else if($==2&&!B){R=Math.min(X,R);h=Math.max(X,h)}else if($==3&&B){if(X-R<h-X)R=X;
else h=X}f=[R-s,R,h,h+s];this.a18(f)}this.Hc();this.fB=L.x;this.al5=this.QZ.h()};bn.hue2.prototype.Lx=function(x,F,W,n,L){var $=this.a5m();
if($==-1)return;if($==0){if(this.fB!=null){var l=L.x-this.fB;l=Math.max(-100,Math.min(100,this.al5+.5*l));
this.QZ.c(l);this.apJ()}}};bn.hue2.prototype.t8=function(x,F,W,n,L){this.fB=null};bn.hue2.prototype.c=function(x){this.value=JSON.parse(JSON.stringify(x));
var F=this.value.Clrz?this.value.Clrz.v:!1;this.s_[F?1:0]=im.EJ(this.value,0);this.sr()};bn.hue2.prototype.h=function(x){return JSON.parse(JSON.stringify(this.value))};
bn.levl=function(){function x(){bn.call(this);this.value=null;this.rx=null;this.iy=[new eX(0,0),new eX(0,0),new eX(0,0),new eX(0,0),new eX(0,0)];
this.Ik=-1;this.YY=this.dx.bind(this);this.ti=this.IX.bind(this);var F=this.n;this.Cm=new hx([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Cm.k(S.E.A,this.sr,this);F.appendChild(this.Cm.n);this.bv=new hS;this.bv.parent=this;this.bv.k(S.E.A,this.Xg,this);
F.appendChild(this.bv.n);var W=v.t("div","");F.appendChild(W);var n=v.t("div","");F.appendChild(n);this.Mt=v.t("canvas");
W.appendChild(this.Mt);this.yG=this.Mt.getContext("2d");this.gB=new eX(256,120);this.Mt.setAttribute("style","display:block");
v.OC(this.Mt);v.p6(this.Mt,this.aI.bind(this));this.ka=v.t("canvas","");n.appendChild(this.ka);this.QK=this.ka.getContext("2d");
this.eh=new eX(this.gB.x,40);this.ka.setAttribute("style","display:block");v.OC(this.ka);v.p6(this.ka,this.as7.bind(this));
var L=this.VZ=[];for(var w=0;w<5;w++){var $=new f8(null,null,3);L.push($);$.k(S.E.A,this.acI,this);(w<2||w==4?W:n).appendChild($.n)}W.appendChild(L[1].n);
this.uN=new gM("Sample from image",c7.sJ(["#000000","#888888","#ffffff"]),!0,null,!0);this.uN.k(S.E.A,this.XG,this);
F.appendChild(this.uN.n);this.z4(250,100)}x.prototype=new bn;x.prototype.Xg=function(){var F=this.bv.h(),W=this.rx,n=this.value,L=r.axj(F,W);
for(var w=0;w<4;w++){var $=L[w][0],l=L[w][1],k=L[w][2],V=[r.z3.Xd($,0,!0),r.z3.Xd(l,255,!0)];if(k!=null)V.splice(1,0,r.z3.Xd(128,k,!0));
var i=[~~$,~~l,0,255,k==null?100:~~(100+.75*100*(k-128)/128)];ef.Mm(n,w,i)}this.sr();this.Hc()};x.prototype.z4=function(F,W){F+=6;
this.gB.x=this.eh.x=F;v.vI(this.Mt,F,this.gB.y,this.yG);v.vI(this.ka,F,this.eh.y,this.QK);var n=this.VZ;
n[3].n.setAttribute("style","margin-left: "+(F-104)+"px");n[4].n.setAttribute("style","margin: 0 "+(F/2-74)+"px");
if(this.value)this.sr()};x.prototype._=function(){this.Cm._()};x.prototype.acI=function(F){var W=[];
for(var w=0;w<5;w++){var n=255,L=1;if(w==4){n=999;L=100}var $=parseFloat(this.VZ[w].h());W[w]=Math.max(0,Math.min(n,$*L))}ef.Mm(this.value,this.Cm.h(),W);
this.sr();this.Hc()};x.prototype.sr=function(F){var W=this.gB.x,n=this.gB.y,L=this.Cm.h(),$=this.yG;
$.clearRect(0,0,W,n);$.fillStyle="#cccccc";$.fillRect(8,8,W-16,n-16-8);if(this.rx){var l=this.rx[0].slice(0),h=0;
if(L==0){l.fill(0);var k=JSON.parse(JSON.stringify(this.value));ef.Mm(k,0,[0,255,0,255,100]);var V=a3.So("levl",k),i=[V.nQ,V.Ya,V.kh];
for(var f=0;f<3;f++){var X=this.rx[1+f],s=i[f];for(var w=0;w<256;w++)l[s[w]]+=X[w]}}var R=L==0?l:this.rx[L];
for(var w=0;w<R.length;w++)h+=R[w];$.fillStyle="#333333";$.beginPath();$.moveTo(8,n-16);for(var w=0;
w<256;w++){var B=55*R[w]/h;$.lineTo(8+w/256*(W-16),Math.max(8,n-16-n*B))}$.lineTo(W-8,n-16);$.closePath();
$.fill()}var e=ef.EJ(this.value,L);for(var w=0;w<5;w++)this.VZ[w].c(e[w]/(w==4?100:1));this.iy[0].xz(8+e[0]/255*(W-16),n-14);
this.iy[1].xz(8+e[1]/255*(W-16),n-14);var U=Math.log(e[4]/100)/Math.log(9.99);U=.5-U/2;this.iy[4].xz(this.iy[0].x+U*(this.iy[1].x-this.iy[0].x),n-14);
this.zU($,this.iy[0],"#000000");this.zU($,this.iy[1],"#ffffff");this.zU($,this.iy[4],"#777777");var W=this.eh.x,n=this.eh.y;
$=this.QK;$.clearRect(0,0,W,n);var o=$.createLinearGradient(0,0,W-16,0);o.addColorStop(0,"black");o.addColorStop(1,"white");
$.fillStyle=o;$.fillRect(8,8,W-16,16);this.iy[2].xz(8+e[2]/255*(W-16),n-14);this.iy[3].xz(8+e[3]/255*(W-16),n-14);
this.zU($,this.iy[2],"#000000");this.zU($,this.iy[3],"#ffffff")};x.prototype.zU=function(F,W,n){F.fillStyle=n;
F.fillRect(W.x-5,W.y,10,10)};x.prototype.aI=function(F){var W=v.iF(F,this.Mt),n=this.aub([0,1,4],W);
if(n!=-1)this.Ik=n;this.aaR()};x.prototype.as7=function(F){var W=v.iF(F,this.ka),n=this.aub([2,3],W);
if(n!=-1)this.Ik=n;this.aaR()};x.prototype.aub=function(F,W){var n=-1,L=1e9;for(var w=0;w<F.length;w++){var $=Math.abs(this.iy[F[w]].x-W.x);
if($<L){L=$;n=F[w]}}return L<16?n:-1};x.prototype.aaR=function(F){if(this.Ik==-1)return;v.FJ(document.body,this.YY);
v.UJ(document.body,this.ti)};x.prototype.dx=function(F){var W=ef.EJ(this.value,this.Cm.h()),n=v.iF(F,this.Ik==2&&this.Ik==3?this.ka:this.Mt),L=255*(n.x-8)/(this.gB.x-16);
L=Math.max(0,Math.min(255,L));if(this.Ik==0)L=Math.min(L,W[1]-2);if(this.Ik==1)L=Math.max(L,W[0]+2);
if(this.Ik!=4)W[this.Ik]=Math.round(L);else{var $=(L-W[0])/(W[1]-W[0]);$=1-2*$;$=Math.pow(9.99,$);W[4]=Math.min(999,Math.max(10,Math.round($*100)))}ef.Mm(this.value,this.Cm.h(),W);
this.sr();this.Hc()};x.prototype.IX=function(F){v.ac(document.body,this.YY);v.bg(document.body,this.ti);
this.Ik=-1};x.prototype.nw=function(){return!0};x.prototype.t8=function(F,W,n,L,$){var l=this.value,k=this.uN.h().indexOf(!0);
if(k==-1)return;this.value=ew.Iz("levl");this.Hc();var V=O.c2.gJ(F,$,1,null,!0),i=[V>>>16&255,V>>>8&255,V&255];
for(var w=0;w<3;w++){var f=ef.EJ(l,1+w);if(k==0)f[0]=i[w];if(k==1){var X=Math.log(i[w]/255)/Math.log((i[0]+i[1]+i[2])*.333/255);
f[4]=Math.min(999,Math.max(10,Math.round(100*X)))}if(k==2)f[1]=i[w];ef.Mm(l,1+w,f)}this.c(l);this.Hc()};
x.prototype.c=function(F){this.value=F;this.sr()};x.prototype.hf=function(F){this.rx=F;this.sr()};x.prototype.h=function(F){return JSON.parse(JSON.stringify(this.value))};
return x}();bn.phfl=function(){bn.call(this,"phfl");this.ly.push(new d1);this.ly.push(new cS([12,74],0,100,"%"));
this.ly.push(new j2([13,4]));this.pk()};bn.phfl.prototype=new bn;bn.phfl.prototype.gl=function(x,F){F[0]=x.Clr.v;
F[1]=x.Dnst.v;F[2]=x.PrsL.v};bn.phfl.prototype.He=function(x,F){var W=r.I.z$(F[0]),n=x.Clr.v,L=r.YX(W.o,W.r,W.z);
n.Lmnc.v=L.$_;n.A.v=L.V;n.B.v=L.z;x.Dnst.v=F[1];x.PrsL.v=F[2]};bn.vibA=function(){bn.call(this,"vibA");
this.ly.push(new cS([12,13],-100,100,null));this.ly.push(new cS([12,9],-100,100,null));this.pk()};bn.vibA.prototype=new bn;
bn.vibA.prototype.gl=function(x,F){F[0]=x.vibrance?x.vibrance.v:0;F[1]=x.Strt?x.Strt.v:0};bn.vibA.prototype.He=function(x,F){x.vibrance.v=F[0];
x.Strt.v=F[1]};bn.thrs=function(){bn.call(this,"thrs");this.ly.push(new cS([4,13],1,255,null));this.pk()};
bn.thrs.prototype=new bn;bn.thrs.prototype.gl=function(x,F){F[0]=x.Lvl.v};bn.thrs.prototype.He=function(x,F){x.Lvl.v=F[0]};
bn.mixr=function(){bn.call(this);var x=this.n;this.d6=[];this.KU=null;this.p4=new hx([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aqW=!1;this.p4.k(S.E.A,this.jx,this);x.appendChild(this.p4.n);v.kE(x);this.Y9=new j2([12,60]);x.appendChild(this.Y9.n);
this.Y9.k(S.E.A,this.jx,this);for(var w=0;w<4;w++){var F=new cS([[13,1,1],[13,1,4],[13,1,5],[13,2]][w],-200,200,"%");
F.k(S.E.A,this.jx,this);this.d6.push(F);x.appendChild(F.n)}};bn.mixr.prototype=new bn;bn.mixr.prototype._=function(){this.p4._();
this.Y9._();for(var w=0;w<4;w++)this.d6[w]._()};bn.mixr.prototype.c=function(x){this.KU=JSON.parse(JSON.stringify(x));
this.tW()};bn.mixr.prototype.h=function(x){return JSON.parse(JSON.stringify(this.KU))};bn.mixr.prototype.jx=function(x){if(x.target!=this.p4){var F=a3.iq(this.KU);
if(x.target==this.Y9){F.Y9=this.Y9.h();if(F.Y9)F.b=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else F.b=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var W=(F.Y9?0:this.p4.h())*5,w=this.d6.indexOf(x.target);
F.b[W+(w<3?w:4)]=x.target.h()}this.KU=a3.a3n(F)}this.tW();this.Hc()};bn.mixr.prototype.tW=function(){var x=a3.iq(this.KU);
if(x.Y9!=this.aqW)this.p4.A1(x.Y9?[[13,1,7]]:a3.O0);this.aqW=x.Y9;this.Y9.c(x.Y9);var F=(x.Y9?0:this.p4.h())*5;
for(var w=0;w<4;w++)this.d6[w].c(x.b[F+(w<3?w:4)])};bn.post=function(){bn.call(this,"post");this.ly.push(new cS([4,1],2,255,null));
this.pk()};bn.post.prototype=new bn;bn.post.prototype.gl=function(x,F){F[0]=x.Lvls.v};bn.post.prototype.He=function(x,F){x.Lvls.v=F[0]};
bn.clrL=function(){bn.call(this,"clrL");this.ly.push(new fg("LUTs"));this.pk()};bn.clrL.prototype=new bn;
bn.clrL.prototype.gl=function(x,F){F[0]=x};bn.clrL.prototype.He=function(x,F){var W=F[0];for(var n in W)x[n]=W[n]};
bn.clrL.prototype.AW=function(x,F){if(F==iC.tB||F==iC.ug)this.ly[0].KX(x.atL)};bn.rplc=function(){bn.call(this,"rplc");
this.ly.push(new cS([12,92],0,200));this.ly.push(new d1);this.ly.push(new cS([12,8],-180,180));this.ly.push(new cS([12,9],-100,100));
this.ly.push(new cS([12,10],-100,100));this.pk()};bn.rplc.prototype=new bn;bn.rplc.prototype.gl=function(x,F){F[0]=x.Fzns.v;
F[1]=x.Mxm.v;F[2]=x.H.v;F[3]=x.Strt.v;F[4]=x.Lght.v};bn.rplc.prototype.He=function(x,F){function W(L,$){$.Lmnc.v=L.$_;
$.A.v=L.V;$.B.v=L.z}x.Fzns.v=F[0];x.H.v=F[2];x.Strt.v=F[3];x.Lght.v=F[4];var n=r.I.z$(F[1]),L=r.YX(n.o,n.r,n.z);
W(L,x.Mnm.v);W(L,x.Mxm.v)};bn.fade=function(){bn.call(this,"fade");this.ly.push(new cS([12,0],0,100,"%"));
this.ly.push(new hx([12,19,0],a2.bb,a2.Jv));this.pk()};bn.fade.prototype=new bn;bn.fade.prototype.gl=function(x,F){F[0]=x.Opct.v.val;
F[1]=a2.Se.indexOf(x.Md.v.BlnM)};bn.fade.prototype.He=function(x,F){x.Opct.v.val=F[0];x.Md.v.BlnM=a2.Se[F[1]]};
bn.aply=function(){var x=a2.Se.concat(["Add","Sbtr"]);x.splice(21,1);var F=a2.bb.concat([[15,10,28],[15,10,21]]);
F.splice(21,1);var W=a2.Jv.slice(0);W[4]--;function n(){bn.call(this,"aply");this.ly.push(new hx([0,3],[]));
this.ly.push(new hx([12,4],["RGB"].concat(a3.O0).concat(["Transparency"])));this.ly.push(new j2([4,11]));
this.ly.push(new hx([12,19,0],F,W));this.ly.push(new cS([12,0],0,100,"%"));this.ly.push(new c_([12,38],1,2,null,2));
this.ly.push(new c_([12,6],-255,255));this.ly.push(new j2([13,5]));this.pk([2]);this.Jn=null}n.prototype=new bn;
n.prototype.gl=function(L,$,l){if(l){var k=l[2].B,V=this.Jn=[];for(var w=0;w<k.length;w++){var i=k[w].getName();
V.push(i.length<30?i:i.slice(0,27)+"...")}V.reverse();this.ly[0].A1([[5,7]].concat(V),[1,V.length])}else var V=this.Jn;
L=L.With.v;var f=L.T.v;$[0]=f[1].t=="name"?1+V.indexOf(f[1].v.val):0;$[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(f[0].v.enum);
$[2]=L.Invr.v;var X=L.Clcl.v.Clcn;$[3]=x.indexOf(X);$[4]=L.Opct.v.val;$[5]=L.Scl.v;$[6]=L.Ofst.v;$[7]=L.PrsT.v};
n.prototype.He=function(L,$){L=L.With.v;var l=L.T.v;if($[0]==0)l[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else l[1]={t:"name",v:{classID:"Lyr",val:this.Jn[$[0]-1]}};l[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][$[1]];
L.Invr.v=$[2];var k=L.Clcl.v.Clcn=x[$[3]];L.Opct.v.val=$[4];L.Scl.v=$[5];L.Ofst.v=$[6];L.PrsT.v=$[7];
var V=k=="Add"||k=="Sbtr";this.ly[5].DE(V);this.ly[6].DE(V)};return n}();bn.matc=function(){var x,F,W=0;
function n(){bn.call(this,"matc");this.ly.push(new cS("Luminance",1,200));this.ly.push(new cS("Color Intensity",1,200));
this.ly.push(new cS([2,11],0,100,"%"));this.ly.push(new j2("Neutralize"));this.ly.push(new hx([12,70],[]));
this.ly.push(new hx([0,3],[]));this.pk([2])}function L($,l){$.ly[5].A1([[5,7]].concat(l),[1,l.length])}n.prototype=new bn;
n.prototype.gl=function($,l,k){W=0;l[0]=$.Lght.v;l[1]=$.ClrR.v;l[2]=$.Fade.v;l[3]=$.neutralizeColor?$.neutralizeColor.v:!1;
l[4]=l[5]=0;var V=$.Srce;if(V)V=V.v;if(k){x=[];F=[];var i=k[2],f=k[3];for(var w=0;w<f.length;w++){var X=f[w];
x.push(X.name);var s=X.B,R=[];F.push(R);for(var h=0;h<s.length;h++)R.push(s[h].getName());R.reverse()}this.ly[4].A1([[13,1,0]].concat(x),[1,x.length]);
var B=f.indexOf(i);if(V)B=x.indexOf(V[1].v.val);L(this,F[B])}if(V){var e=x.indexOf(V[1].v.val);l[3]=W=1+e;
if(V[0].t=="name")l[4]=1+F[e].indexOf(V[0].v.val)}};n.prototype.He=function($,l){$.Lght.v=l[0];$.ClrR.v=l[1];
$.Fade.v=l[2];$.neutralizeColor.v=l[3];if(l[4]==0){$.noReference={t:"bool",v:!0};delete $.Srce}else{if(l[4]!=W){W=l[4];
L(this,F[l[4]-1])}delete $.noReference;var k={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},V=F[l[4]-1];
if(l[5]!=0)k={t:"name",v:{classID:"Lyr",val:V[l[5]-1]}};$.Srce={t:"obj ",v:[k,{t:"name",v:{classID:"Dcmn",val:x[l[4]-1]}}]}}};
return n}();function bc(x,F){bS.call(this);if(x==null)return;this.id=F;this.$G=x;this.Nr=null;this.n=v.t("div","window "+F);
this.aju=null;this.$e=v.t("div","whead");this.aA_=v.t("span","wname");this.$e.appendChild(this.aA_);
this.aq1=!1;this.n.appendChild(this.$e);this.TP=this.aqS.bind(this);this.VV=this.av$.bind(this);this.JX=this.anr.bind(this);
v.OC(this.$e);v.p6(this.$e,this.TP);this.aBf=v.t("span","cross gsicon");this.$e.appendChild(this.aBf);
bc.prototype._.call(this);v.UJ(this.aBf,this.agx.bind(this));this.body=v.t("div","body");this.n.appendChild(this.body)}bc.prototype=new bS;
bc.prototype.ek=function(){return!1};bc.prototype.nw=function(){return!1};bc.prototype._=function(){if(this.$G==null)return;
this.aA_.textContent=hz.get(this.$G)};bc.prototype.pI=function(x,F,W,n,L){};bc.prototype.u6=function(x,F,W,n,L){};
bc.prototype.Lx=function(x,F,W,n,L){};bc.prototype.t8=function(x,F,W,n,L){};bc.prototype.Nc=function(x,F,W,n,L){};
bc.prototype.lH=function(x,F,W,n){if(n.S(gp.hI)&&this.Di)this.Di();if(n.S(gp.Fr)){var L=new gT(S.E.v);
L.Kh=!0;O.Ov.ast(n,L);if(L.data)F.T(L)}};bc.prototype.Us=function(x){return!1};bc.prototype.gT=function(x,F){return!0};
bc.prototype.Lv=function(x,F,W,n){};bc.prototype.AW=function(x,F){};bc.prototype._$=function(x,F){return null};
bc.prototype.aiu=function(x){return this.aju};bc.prototype.z4=function(){};bc.prototype.close=function(){this.T(new gT(S.E.Jo))};
bc.prototype.aqS=function(x){this.Nr=v.iF(x,this.n);v.FJ(window,this.VV);v.UJ(window,this.JX)};bc.prototype.av$=function(x){var F=this.n.parentNode,W=v.iF(x,F),n=Math.round(W.x-this.Nr.x),L=F.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(W.y-this.Nr.y)));
this.aju=new eX(n,L);this.n.style.left=n+"px";this.n.style.top=L+"px"};bc.prototype.anr=function(x){v.ac(window,this.VV);
v.bg(window,this.JX)};bc.prototype.agx=function(x){if(this.aq1){this.Di();return}this.T(new gT("closebtn"));
this.close()};function i1(){bc.call(this,"About Photopea","aboutpp");var x=v.t("div","flexrow");this.body.appendChild(x);
var F=this.agP=v.t("img");x.appendChild(F);this.body.setAttribute("style","margin:0; padding:0");var W=this.Qt=v.t("div");
W.innerHTML=i1.JZ;x.appendChild(W);var n=this.Or=v.t("span");n.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(n)}i1.prototype=new bc;i1.prototype._$=function(x,F){return new eX(0,0)};i1.prototype.z4=function(x,F){var W=this.agP,n=this.Qt,L=this.Or,$=(x+F-42-42)/110;
$=Math.sqrt((x-42)*(F-42))/50;W.setAttribute("style","width:"+x/2+"px; height:"+F+"px; display:block; object-fit:cover;");
n.setAttribute("style","width:"+(x/2-42)+"px; height:"+(F-42)+"px; padding:20px; font-size:"+$+"px;");
L.setAttribute("style","position:absolute;  bottom:10px; right:"+(x/2+10)+"px")};i1.prototype._=function(){};
i1.prototype.Lv=function(x,F,W,n){this.agP.setAttribute("src","promo/ivan_pp.webp")};i1.JZ="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function ja(){bc.call(this,[0,13,0],"account");this.tP=v.t("div","form scrollable");this.body.appendChild(this.tP);
this.body.style.padding="0";this.ep=[new ja.sR,new ja.HX("::privacy.html"),new ja.HX(ja.aD5)];for(var w=0;
w<this.ep.length;w++)this.ep[w].parent=this;this.k("showpage",this.a08,this)}ja.prototype=new bc;ja.prototype.gT=function(x,F){var W=navigator.onLine;
if(!W)alert("Go online first");return W};ja.prototype.z4=function(x,F){this.tP.setAttribute("style","width:"+Math.min(x-40,740)+"px;  height:"+(F-38)+"px;  padding:1.5em;");
this.ep[0].z4(x,F)};ja.prototype._$=function(x,F){return new eX(Math.max(0,Math.min(150,(x-740)/2)),Math.max(0,Math.min(100,(F-500)/2)))};
ja.prototype.a08=function(x){v.Ri(this.tP);this.tP.scrollTop=0;this.tP.appendChild(this.ep[x.data.Fp].n)};
ja.prototype._=function(){bc.prototype._.call(this);for(var w=0;w<this.ep.length;w++)this.ep[w]._()};
ja.prototype.Lv=function(x,F,W){if(!navigator.onLine)return;v.Ri(this.tP);var n=this.ep[0];this.tP.appendChild(n.n);
n.Lv();this._()};ja.prototype.AW=function(x,F){this.Lv(null,null,null)};ja.sR=function(){bS.call(this);
this.n=v.t("div");var x=this.n,k,V,f="font-size:1.25em;",X="text-align:center;",R="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",h="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",B="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",U=12;
this.n8=v.t("div");x.appendChild(this.n8);this.Dq=new cX([0,11],!1,null,!0);this.Dq.n.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.Dq.k("click",this.xi,this);x.appendChild(this.Dq.n);this.$E=new cX([0,13,1],!1,null,!0);this.$E.k("click",this.aeP,this);
x.appendChild(this.$E.n);this.xv=new cX("Business Terms",!1,null,!0);this.xv.k("click",this.a1K,this);
x.appendChild(this.xv.n);var F=v.t("div");F.style.margin="20px 0";x.appendChild(F);var W=["Account Types","Go Premium","Team Settings","Distributors"],n=this.ed=[],L=this.avH=[],$=this.$f=v.t("div");
x.appendChild($);for(var w=0;w<W.length;w++){var l=v.t("span");l.textContent=W[w];F.appendChild(l);n.push(l);
l.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
l.addEventListener("click",this.IZ.bind(this));L.push(v.t("div"))}this.IZ(0);var i=this.adU="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
x=L[0];var V=v.t("table"),s="style=\" "+X+f+" padding-bottom:20px;\"";V.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+B+">\t\t\t\t\t<div "+s+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+h+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+h+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+B+">\t\t\t\t\t<div "+s+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+h+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+h+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+h+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+h+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+h+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
x.appendChild(V);var l=new cX("Go Premium");l.n.setAttribute("style",i+"padding:10px 0;");l.k("click",function(u){this.IZ(1)},this);
V.children[0].children[1].children[1].appendChild(l.n);this.cE=v.t("div");x.appendChild(this.cE);x=L[1];
var e=this.anU=[[10,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.NN=[];for(var w=0;w<e.length;w++)this.NN.push(new cX("Buy: $"+e[w][0],!1,null,!0));for(var w=0;
w<this.NN.length;w++){this.NN[w].k("click",this.a9v,this)}this.XT=new cX("...",!0);this.XT.n.setAttribute("style",i);
x.appendChild(this.XT.n);V=this.a8b(4,["Single user",this.NN[0],this.NN[1],this.NN[2],"Team of 5",this.NN[3],this.NN[4],this.NN[5],"Team of 20",this.NN[6],this.NN[7],this.NN[8],"Team of 50",this.NN[9],this.NN[10],this.NN[11]]);
x.appendChild(V);this.aiq=new j2("I accept",!0,"");x.appendChild(this.aiq.n);this.wA=new cX([0,13,1],!1,null,!0);
this.wA.k("click",this.aeP,this);x.appendChild(this.wA.n);this.RH=new cX("I have a key",!1,null,!0);
this.RH.n.setAttribute("style",i+" float:right; width:inherit;");this.RH.k("click",this.a9v,this);x.appendChild(this.RH.n);
x=L[2];this.tO=new iS;this.tO.parent=this;this.tO.k(S.E.A,this.aO,this);x.appendChild(this.tO.n);x=L[3];
this.kM=new cX("...",!0);this.kM.n.setAttribute("style",i);x.appendChild(this.kM.n);V=this.a8b(3,["1000 views/mo",this.NN[U++],this.NN[U++],this.NN[U++],"5000 views/mo",this.NN[U++],this.NN[U++],this.NN[U++],"20000 views/mo",this.NN[U++],this.NN[U++],this.NN[U++]]);
x.appendChild(V);var o=v.t("p");o.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
x.appendChild(o);this.En=new f8("Domain name (e.g. domain.com)",null,14);x.appendChild(this.En.n);var b=new cX("Save Domain Settings",!1,null,!0);
b.iA();x.appendChild(b.n);b.k("click",this.anj,this)};ja.sR.prototype=new bS;ja.sR.prototype.IZ=function(x){var F=typeof x=="number"?x:this.ed.indexOf(x.target);
for(var w=0;w<4;w++)this.ed[w].style.opacity=.6;this.ed[F].style.opacity=1;v.Ri(this.$f);this.$f.appendChild(this.avH[F])};
ja.sR.prototype.z4=function(x,F){var W=x<600?"d":" days",n=["30 days","90 days","365 days"];if(x<600)n=["30d","90d","365d"];
var L=this.anU;for(var w=0;w<L.length;w++){this.NN[w].rT("<span>"+n[w%3]+": <sup>$</sup><big><b>"+L[w][0]+"</b></big>"+"</span>");
this.NN[w].n.setAttribute("style",this.adU)}};ja.sR.prototype.aeP=function(x){var F=new gT("showpage",!0);
F.data={Fp:1};this.T(F)};ja.sR.prototype.a1K=function(x){var F=new gT("showpage",!0);F.data={Fp:2};this.T(F)};
ja.sR.prototype._=function(){this.Dq.rT(ii.su()?hz.get([0,11]):hz.get([0,10]));this.wA._();this.$E._();
this.xv._()};ja.sR.prototype.aiL=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.Ih,link:"https://www.photopea.com/api/accounts#"+(x.target==this.a95?"teams":"distributors")};
this.T(F)};ja.sR.prototype.awn=function(x){var F=x.currentTarget==this.amS;this.amS.c(F);this.a0W.c(!F)};
ja.sR.prototype.agw=function(x){var F=this.amS.h(),W=this.a1_.h().trim().toLowerCase(),n=this.a0B.value.trim().toLowerCase();
if(W.length>60){alert("Too long email address");return}if(n.length>600){alert("Too many team members");
return}n=n.split(",").join(" ").trim();n=n.replace(/\s+/g," ");if(n=="")n=[];else n=n.split(" ");var L=ii.F0();
if(L==null)L={};if(L.acc==null)L.acc={};L.acc.team={jin:F,ldr:W,mmb:n};ii.am(L,this.aO.bind(this));alert("Saved!");
this.Lv()};ja.sR.prototype.anj=function(x){var F=this.En.h().trim();if(!ii.su()){alert("You have to log in first.");
return}if(ii.O5()==0){alert("Order a distributor account first.");return}var W=ii.F0();if(W==null)W={};
if(W.acc==null)W.acc={};if(F=="")delete W.acc.dname;else W.acc.dname=F;ii.am(W,this.aO.bind(this));alert("Saved!");
this.Lv()};ja.sR.prototype.atf=function(x){var F=ii.KP(),w=this.OL,W=ii.F0();if(W==null)W={};if(W.acc==null)W.acc={};
W.acc.bto=x;ii.am(W,function(){});var n=ja.ap6(x.split("\n"),F.pmnts[w]);jh.save(n,"photopea_invoice.pdf")};
ja.sR.prototype.a7M=function(x){var F=ii.KP(),W=ii.F0(),n=W.acc?W.acc.bto:null;if(n==null)n=F.name+"\n"+F.email;
var w=-1,L=x.target.n.parentNode;while((L=L.previousSibling)!=null)w++;this.OL=w;var $=new gT(S.E.M,!0);
$.data={d:S.H.Ar,ip:"billto",aG:n,Fv:this.atf.bind(this)};this.T($)};ja.sR.prototype.Lv=function(){this.n8.innerHTML="";
v.Ri(this.cE);if(ii.su()){var x=ii.KP(),F=x.pmnts;if(x==null)return;this.n8.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+x.name+"</span> "+x.email+" <br/>";
if(F){var W="<h2>Payments</h2>";for(var w=0;w<F.length;w++){var n=F[w],L=new Date(n[0]*1e3);W+="<div style=\"font-size:1.2em\">"+L.getDate()+". "+(L.getMonth()+1)+". "+L.getFullYear()+" - "+ja.akv(n)+"</div>"}this.cE.innerHTML=W;
for(var w=0;w<F.length;w++){var $=new cX("Get Invoice",!1,null,!0);$.n.setAttribute("style","float:right");
$.k("click",this.a7M,this);this.cE.children[w+1].appendChild($.n)}}}else{}var l=ii.su()&&ii.vR();this.XT.n.style.display=l?"block":"none";
if(l){var k,V,i=l;if(i[0]==0){k=ii.yR(i[1])-Date.now()*(1/1e3);V=i[1][2]==1?"Single User":"Team Of "+i[1][2]}else{k=i[1][1]-Date.now()*(1/1e3);
V="Member of \""+i[1][0]+"\""}this.XT.rT("Premium active for "+Math.round(k/(60*60*24))+" more days! ("+V+")")}var f=ii.su()&&ii.O5()*1e3>Date.now();
this.kM.n.style.display=f?"block":"none";if(f){var k=ii.O5()-Date.now()/1e3;this.kM.rT("Distributor active for "+Math.round(k/(60*60*24))+" more days!")}var X=ii.F0();
this.tO.Lv();if(X&&X.acc&&X.acc.dname)this.En.c(X.acc.dname);else this.En.c("")};ja.sR.prototype.a8b=function(x,F){var W=v.t("table");
if(!0){var n="<table><tr>";for(var w=0;w<x;w++)n+="<th>"+F[w*4]+"</th>";n+="</tr></table>";W.innerHTML=n;
for(var w=0;w<3;w++){var L=v.t("tr"),$;W.appendChild(L);for(var l=0;l<x;l++){$=v.t("td");$.style.width=Math.round(100/x)+"%";
L.appendChild($);$.appendChild(F[l*4+1+w].n)}}}return W};ja.sR.prototype.a9v=function(x){var F=this.NN.indexOf(x.currentTarget),n=30,L=1;
if(!ii.su()){this.xi();return}if(this.aiq.h()==!1&&F<12){alert("You must accept Terms of Service");return}var W=ii.su()&&ii.vR();
if(F!=-1){var $=this.anU[F];n=$[1];L=$[2]}if(W&&L<1e3){alert("You already have premium.");return}console.log($,n,L);
if(F==-1){var l=prompt("Please enter your key");if(l!=null){ii.a2b(l,this.aO.bind(this));this.Zd()}return}if(n==30&&L==1){var k=confirm("You can have 90 days for $15. Do you still want a 30 days version for $10?");
if(!k)return}ii.order(n,L,this.aO.bind(this));this.Zd()};ja.sR.prototype.aO=function(x){this.Lv();this.Zd()};
ja.sR.prototype.xi=function(x){if(ii.su()){ii.a02();this.Zd();this.Lv(null,null,null)}else ii.xi(this.a53.bind(this))};
ja.sR.prototype.a53=function(){var x=new gT(S.E.M,!0);x.data={d:S.H.asD};this.T(x)};ja.sR.prototype.Zd=function(){var x=new gT(S.E.M,!0);
x.data={d:S.H.a3G};this.T(x)};ja.HX=function(x){bS.call(this);this.n=v.t("div");var F=this.n,W=this.aCu=new cX([0,13,2],!1,null,!0),n;
W.k("click",this.avT,this);F.appendChild(W.n);if(x.startsWith("::")){n=v.t("iframe");n.setAttribute("style","width:100%;height:1700px; background-color:white;");
n.setAttribute("src",x.slice(2))}else{n=v.t("div");n.innerHTML=x}F.appendChild(n)};ja.HX.prototype=new bS;
ja.HX.prototype.avT=function(x){var F=new gT("showpage",!0);F.data={Fp:0};this.T(F)};ja.HX.prototype._=function(){this.aCu._()};
ja.aD5="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
ja.akv=function(x){var F=x[1]+" days, ";if(x[2]<1e3)return"Photopea Premium ("+F+x[2]+" user"+(x[2]==1?"":"s")+")";
else return"Photopea Distributor ("+F+x[2]+" views/month)"};ja.ap6=function(x,F){x=["Bill To:"].concat(x);
var W=new ToPDF,n=595,L=842,$=40,l=18,k=12,V=500,i=100,f=400,B=0;function X(j,H,Q,C,J){R.font.Tf=J?"Helvetica-Bold":"Helvetica";
R.ctm=[1,0,0,1,H,Q];R.font.Tfs=C?C:k;W.PutText(R,j,0)}function s(j,H,Q,C){for(var w=0;w<j.length;w++){X(j[w],H,Q-w*C,null,w==0)}}var R=UDOC.getState();
W.StartPage(0,0,n,L);X("INVOICE",n-$-140,L-$-30,30,!0);s(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],$,L-$-40,l);
var h=new Date(F[0]*1e3);s(["Date: "+h.getDate()+". "+(h.getMonth()+1)+". "+h.getFullYear(),"Transaction ID: "+F[4]],n-$-140,L-$-40-l*2,l);
var e=x.join("");for(var w=0;w<e.length;w++)B=Math.max(B,e.charCodeAt(w));if(B>256){var U=4,o=v.t("canvas"),b=o.getContext("2d"),u=0;
b.font=k*U+"px sans-serif";for(var w=0;w<x.length;w++)u=Math.max(u,b.measureText(x[w]).width);var Z=Math.round(u)+20,I=x.length*U*l+20;
o.width=Z;o.height=I;b.font=k*U+"px sans-serif";for(var w=0;w<x.length;w++){b.font=(w==0?"bold ":"")+k*U+"px sans-serif";
b.fillText(x[w],10,(w+1)*U*l)}document.body.appendChild(o);var y=new Uint8Array(b.getImageData(0,0,Z,I).data.buffer);
R.ctm=[Z/U,0,0,I/U,$-10/U,L-$-40-100-I/U];W.PutImage(R,y,Z,I);R.ctm=[1,0,0,1,0,0]}else s(x,$,L-$-40-100,l);
R.colr=[.8,.8,.8];R.pth={cmds:["M","L","L","L","Z"],crds:[$,V,n-$,V,n-$,V-l,$,V-l]};W.Fill(R);R.colr=[0,0,0];
var D=[$,V,n-$,V,$,V-l,n-$,V-l,$,V-i,n-$,V-i,$,V,$,V-i,n-$,V,n-$,V-i,f,V,f,V-i],N=[];for(var w=0;w<D.length;
w+=4)N.push("M","L");R.pth={cmds:N,crds:D};W.Stroke(R);X("Order details",$+4,V-14);X(ja.akv(F),$+4,V-l-14);
X("TOTAL:",$+4,V-i-14,null,!0);X("Price",n-$-50,V-14);X(F[3]+" USD",n-$-60,V-l-14);X(F[3]+" USD",n-$-60,V-i-14,null,!0);
X("www.Photopea.com",$,$);X("support@photopea.com",n-$-130,$);W.ShowPage();W.Done();return W.buffer};
function fE(){bc.call(this,[11,14],"addguides");this.bn;this.Mh={_X:{$o:0}};this.wR=null;var x=v.t("div","form");
this.body.appendChild(x);this.mG=[];this.rq=new c7(null,["Hi"]);x.appendChild(this.rq.n);v.kE(x);this.rq.k(S.E.A,this.tL,this);
this.ym=new f8([22,4,0],null,16);this.ym.k(S.E.A,this.Q1,this);this.ck=new f8([22,4,1],null,16);this.ck.k(S.E.A,this.Q1,this);
this.mg=new hx(null,r.uX.k6);this.mg.k(S.E.A,this.Q1,this);x.appendChild(this.ym.n);x.appendChild(this.mg.n);
v.kE(x);x.appendChild(this.ck.n);this.an=v.nX(this,x);this.k("closebtn",this.tV,this)}fE.prototype=new bc;
fE.prototype.gT=function(x,F){return x!=null};fE.prototype.ek=function(){return!0};fE.prototype._=function(){bc.prototype._.call(this);
this.ym._();this.ck._();this.mg._();this.an._()};fE.prototype.AW=function(x,F){var W=x._X.$o;this.Mh._X.$o=W;
this.mg.c(W)};fE.prototype.Lv=function(x,F){this.bn=x;this.wR=JSON.stringify(x.L6());this.mG=[-1];var W=["Global"],n=x.root.children,L=x.gD();
for(var w=0;w<n.length;w++){var $=n[w].a;if($.add.artb){W.push($.getName());this.mG.push(n[w].index)}}this.rq.A1(W);
this.rq.c(this.mG.indexOf(L));this.tL()};fE.prototype.tL=function(){var x=this.bn,F=x.L6(),W=this.mG[this.rq.h()],n=[0,0];
if(W!=-1){var L=x.B[W].U$();n=[L.x,L.y]}var $=function(l,k,x,V,i){var f=l[0],X=[];for(var w=0;w<f.length;
w++)if(l[1][w]==W&&f[w][0]==k)X.push(r.uX.e3(f[w][1]-n[k],x.Bq,V,i));X.sort(function(s,R){return s-R});
return X.join(", ")};this.ym.c($(F,1,x,this.Mh,x.e));this.ck.c($(F,0,x,this.Mh,x.m))};fE.prototype.Q1=function(x){if(x&&x.currentTarget==this.mg)this.Mh._X.$o=this.mg.h();
else{var F=this.a8N(),W=this.bn;W.Ox(F);W.yW=!0}this.tL()};fE.prototype.a8N=function(){var x=this.bn,F=x.L6(),W=this.mG[this.rq.h()],n=[0,0];
if(W!=-1){var L=x.B[W].U$();n=[L.x,L.y]}var $=[];for(var l=0;l<2;l++){var k=l==0?this.ck:this.ym,V=l==0?x.m:x.e,i=k.h().replace(/,/g," ").replace(/  +/g," ").trim(),f=i==""?[]:i.split(" ");
for(var w=0;w<f.length;w++)$.push([l,r.uX.a0J(f[w],x.Bq,this.Mh,V)+n[l]])}for(var w=0;w<F[0].length;
w++)if(F[1][w]==W){F[0].splice(w,1);F[1].splice(w,1);w--}for(var w=0;w<$.length;w++){F[0].push($[w]);
F[1].push(W)}return F};fE.prototype.tV=function(x){var F=this.bn;F.Ox(JSON.parse(this.wR));F.yW=!0;this.bn=null};
fE.prototype.Di=function(x){this.Q1(x);var F=new gT(S.E.v,!0);F.f=O.iY;F.data={d:"gids",wi:JSON.parse(this.wR),Lb:this.bn.L6()};
this.bn=null;this.close();this.T(F)};function hG(x){bc.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups"}[x],x);
this.Mh=null;this.bn=null;var F=v.t("div","form");this.body.appendChild(F);F.setAttribute("style","width:300px");
this.tw=new jj("Source Images",!0,!0);F.appendChild(this.tw.n);this._m=new hx([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.eu=new j2("Order images by name");this.eu.c(!0);var W=this.aeX=jW.cs();for(var w=0;w<W.length;w++)if(jW.w0(W[w]).sG){W.splice(w,1);
w--}W.push("SVG","PDF");this.z7=new hx([12,50],W);this.PK=new fr;this.z7.k(S.E.A,this.$u,this);this.Tu=new hx("Action Set",[]);
this.Tu.k(S.E.A,this.AW,this);this.NL=new hx("Action",[]);if(x=="pdfpres"){F.appendChild(this._m.n);
F.appendChild(this.eu.n)}else{if(x=="batch"){F.appendChild(this.Tu.n);v.kE(F);F.appendChild(this.NL.n);
v.K0(F)}F.appendChild(this.z7.n);F.appendChild(this.PK.n)}var n=["VAR0 PDF",[1,8]];if(x=="cformat")n="Convert Images";
if(x=="batch")n="Process Images";if(x=="mockups")n="Generate";var L=new cX(n,!0,null,!0);L.k("click",this.$v,this);
F.appendChild(L.n);this.$u()}hG.prototype=new bc;hG.prototype.$u=function(x){var F=this.aeX[this.z7.h()];
this.PK.lD(F)};hG.prototype.$v=function(x){var F=this.tw.h(),W=[],$=595,l=842,h;for(var n in F)W.push(n);
if(W.length==0){alert("No images selected");return}if(this.eu.h())W.sort();var L=this._m.h(),k=new ToPDF,V=UDOC.getState(),i=this.aeX[this.z7.h()],f=jW.w0(i),X=this.PK.h(),s={},R=this.bn;
if(this.id=="mockups"){if(R==null){alert("Open a document with smart objects");return}var B=R.B[R.g[0]];
if(B.add.SoLd==null){B=null;for(var w=0;w<R.B.length;w++)if(R.B[w].add.SoLd)B=R.B[w];if(B==null){alert("There are no smart objects in a current document.");
return}}R.g=[R.B.indexOf(B)];h=B.add.SoLd.Sz.v}for(var e=0;e<W.length;e++){var n=W[e],U=F[n],o=U[0]==255,b=jW.XM(U.buffer),u=jW.w0(b),Z=[{Sf:new eu,data:new ArrayBuffer(0)}],I=null;
if(b=="psd"&&!f.sG)Z=ko.a61(U.buffer);else if(u.sG){I=new az("file.psd");u.La(U.buffer,I);I.vq();if(!f.sG){if(I.Sv)kc.xD(I,this.Mh.op,this);
I.W();I.KS();Z=[{Sf:new eu(0,0,I.m,I.e),data:I.Hi().buffer}]}}else Z=u.La(U.buffer);if(this.id=="batch"){var y=new gT(S.E.M,!0),D=this.Mh,N=D.qS,j=N[this.Tu.h()];
for(var w=0;w<Z.length;w++){I=jW.WD(n,[Z[w]]);y.data={d:S.H.bt,GE:I};this.T(y);if(I.B.length==3)I.g=[1];
ga.aD9(I,N,j.$f[this.NL.h()].Sa,j.Sa,this);I.W();I.KS();Z[w].Sf=new eu(0,0,I.m,I.e);Z[w].data=I.Hi().buffer;
y.data={d:S.H.Oa,_j:I};this.T(y)}}if(this.id=="mockups"){var y=new gT(S.E.BD,!0);y.data={Y3:"placedLayerEditContents",Xe:{classID:"placedLayerEditContents"}};
this.T(y);var H=new Uint8Array(Z[0].data),Q=Z[0].Sf,C=O.Y.f$([H,Q],new iJ(h.Wdth.v/Q.m,0,0,h.Hght.v/Q.e,0,0)),J=new gT(S.E.v,!0);
J.f=O.c9;J.data={d:t.Xy,v2:{buffer:C.buffer,rect:C.rect}};this.T(J);var y=new gT(S.E.M,!0);y.data={d:S.H.rN};
this.T(y);y.data={d:S.H.Oa};this.T(y);Z=[{data:R.Hi().buffer,Sf:new eu(0,0,R.m,R.e)}];J.data={d:"h_stepbck"};
J.f=O.o7;this.T(J)}var E=Z[0].Sf,T=new Uint8Array(Z[0].data),c=E.m,a=E.e;if(this.id=="pdfpres"){var K=[[595,842],[842,595],[595,595],[595,0]][L];
if(L==3)K[1]=Math.round(K[0]*a/c);var $=K[0],l=K[1],Y=Math.min($/c,l/a);k.StartPage(0,0,$,l);V.ctm=[c*Y,0,0,a*Y,($-c*Y)/2,(l-a*Y)/2];
k.PutImage(V,o?U:T,c,a);k.ShowPage()}else{var p=n.split("."),P;p.pop();p.push(i.toLowerCase());if(f.sG)P=f.Rd(I,I.m,I.e,X,this.Mh);
else{var m=[];for(var w=0;w<Z.length;w++){var z=Z[w],M=z.PV,d=0;if(M){M=M.split(",");if(M[1])d=parseInt(M[1])}m.push([z.data,d,z.Bq,z.dU,null,z.q5])}P=f.Rd(m,c,a,X)}s[p.join(".")]=new Uint8Array(P)}}if(this.id=="pdfpres"){k.Done();
jh.save(k.buffer,"file.pdf")}else{jh.save(UZIP.encode(s),"images.zip")}};hG.prototype.Lv=function(x,F,W,n){this.bn=x};
hG.prototype.AW=function(x,F){if(F!=null){this.Mh=x;var W=x.qS,n=[];for(var w=0;w<W.length;w++)n.push(W[w].Sa);
this.Tu.A1(n)}else x=this.Mh;var W=x.qS.length==0?[]:x.qS[this.Tu.h()].$f,n=[];for(var w=0;w<W.length;
w++)n.push(W[w].Sa);this.NL.A1(n)};hG.prototype._=function(){bc.prototype._.call(this);this.tw._();this._m._();
this.eu._()};function aI(x){var F=ew.names[x];if(F==null)F=a3.names[x];if(x=="aply")F=[2,12];if(x=="fade")F=[2,11];
if(x=="matc")F=[4,18];if(x=="blendOptions")F=[14,10];bc.call(this,F,"afw_"+x);this.Rc=x;this.zL=null;
this.Q5=null;this.nM=new bn[x];this.nM.k(S.E.A,this.Hc,this);this.nM.parent=this;this.body.appendChild(this.nM.n);
this.jG=new j2([24,18,5]);this.jG.c(!0);this.jG.k(S.E.A,this.Hc,this);this.ef=new cX([1,12,2],!0,null,!0);
this.ef.k("click",this.xq,this);this.an=v.nX(this);if(this.zz())this.nM.dp(this.an.n);else{v.fX(this.nM.n,"form");
v.fX(this.body,"flexrow");this.nM.n.setAttribute("style","width:312px");var W=v.t("div");this.body.appendChild(W);
W.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");W.appendChild(this.an.n);W.appendChild(this.ef.n);
W.appendChild(this.jG.n)}this.k("closebtn",this.Mc,this)}aI.prototype=new bc;aI.prototype.ek=function(){return!0};
aI.prototype.zz=function(){return this.nM!=null&&this.nM.z5()};aI.prototype._$=function(){return this.zz()?new eX(0,0):bc.prototype._$()};
aI.prototype.Us=function(x){return this.nM.Us(x)};aI.prototype.nw=function(){return this.nM.nw()};aI.prototype.pI=function(x,F,W,n,L){this.nM.pI(x,F,W,n,L)};
aI.prototype.Lx=function(x,F,W,n,L){this.nM.Lx(x,F,W,n,L)};aI.prototype.t8=function(x,F,W,n,L){this.nM.t8(x,F,W,n,L)};
aI.prototype.gT=function(x,F){if(this.Rc=="fade")return aI.ads(x);return!0};aI.prototype.xq=function(x){this.nM.c(ew.Iz(this.Rc));
this.Hc()};aI.prototype.Hc=function(x){this.Lg({d:"edit",_M:this.nM.h(),MQ:!this.jG.h()})};aI.prototype.Mc=function(x){this.Lg({d:"cancel"})};
aI.prototype.Di=function(x){if(!this.jG.h()){this.jG.c(!0);this.Hc()}this.Q5=this.nM.h();if(this.zz())this.Hc();
this.Lg({d:"confirm"});this.close()};aI.prototype._=function(){bc.prototype._.call(this);this.jG._();
if(this.nM)this.nM._();this.an._()};aI.prototype.AW=function(x,F){if(this.nM)this.nM.AW(x,F)};aI.prototype.lH=function(x,F,W,n){if(this.zz())this.nM.lH(n);
else bc.prototype.lH.call(this,x,F,W,n)};aI.prototype.Lv=function(x,F,W,n){this.zL=F.zL;var L=x.add.lnk2?x.add.lnk2:[],$,l,k=new eu(0,0,x.m,x.e),V=x.B[x.g[0]],f=null;
$=V.buffer;l=V.rect;var i=x.u&&this.Rc=="LqFy"&&F.zL==null;if(i){l=x.u.rect.clone();$=r.R(l.P()*4);r.sh(V.buffer,V.rect,$,l)}if(this.zz()){f=x.Hi(x.g[0]-1);
if(i){var X=r.R(l.P()*4);r.sh(f,k,X,l);k=l.clone();f=X}}var s=ew.Iz(this.Rc),R=[L,x.o2,x,W];if(F.zL==null){this.nM.c(s,$,l,k,f,R);
if(a3.names[this.Rc]){if(n.S(gp.d8)&&this.Q5)this.nM.c(this.Q5);var h=O.dl.getData(x),B=r.uE(h[0].LK);
this.nM.hf(B)}}else{var e=!1,V=x.B[this.zL.a];if(V.mK()){var U=V.DU(x);$=U.buffer;l=U.rect;var o=V.add.SoLd.filterFX.v.filterFXList.v;
if(o[this.zL.index]){var b=o[this.zL.index].v;this.nM.c(this.Rc=="blendOptions"?b.blendOptions.v:b.Fltr.v,$,l,k,f,R);
this.nM.hf(r.uE($));e=!0}}if(!e){this.nM.c(s,$,l,k,f,R);this.nM.hf(r.uE($))}}if(!this.zz()){this.Hc();
var u=this.nM;if(u&&u.ly&&u.ly[0]&&u.ly[0].D$&&Math.min(window.innerWidth,window.innerHeight)>500)u.ly[0].D$()}};
aI.prototype.Lg=function(x){var F=new gT(S.E.v,!0);x.Rc=this.Rc;x.zL=this.zL;if(this.Rc=="VaPo"){x.b=this.nM.h();
x.vj=this.nM.a3U()}F.data=x;F.f=ew.names[this.Rc]||this.zL?O.T2:O.t7;F.Kh=!0;this.T(F)};aI.prototype.z4=function(x,F){if(!this.nM.z5()){}else{this.body.style.padding="0";
this.nM.z4(x,F)}};aI.ads=function(x){if(x==null)return!1;var F=x.Ao();if(F==null||!(F.data instanceof Array)||F.data.length!=x.g.length)return!1;
for(var w=0;w<F.data.length;w++){var W=F.data[w];if(W.a<0&&x.o2[-1-W.a])return!0;if(W.a==null||x.B[W.a]==null||x.B[W.a].sj!=W.Ca)return!1;
if(x.g.indexOf(W.a)==-1)return!1}return!0};function b$(){bc.call(this,[11,0],"camera");this.data=null;
this.lZ=new eX(1,1);this.a0n=[];var x=v.t("div","form hbar");this.body.appendChild(x);this.abq=new hx(null,[]);
this.Za=new hx([21,0],[[21,2],[21,1]]);x.appendChild(this.Za.n);this.nL=new hx(null,[]);this.nL.k(S.E.A,this.ajt,this);
x.appendChild(this.nL.n);this.hB=new cX([11,0],!1,null,!0);this.hB.k("click",this.aCs,this);x.appendChild(this.hB.n);
this._g=new e8("");x.appendChild(this._g.n);this.stream=null;this.Hp=v.t("video","");this.Hp.setAttribute("autoplay","true");
this.body.appendChild(this.Hp);this.aoK=this.abp.bind(this);this.auh=this.am3.bind(this);this.ao2=this.ana.bind(this);
this.k("closebtn",this.a4a,this)}b$.prototype=new bc;b$.prototype._=function(){bc.prototype._.call(this);
this.Za._();this.hB._();this.z4(this.Xv,this.eD)};b$.prototype.Hi=function(){var x=this.Hp.videoWidth,F=this.Hp.videoHeight,W=v.t("canvas","");
W.width=x;W.height=F;var n=W.getContext("2d");n.drawImage(this.Hp,0,0,x,F);var L=n.getImageData(0,0,x,F);
return{Sf:new eu(0,0,x,F),data:L.data.buffer}};b$.prototype.aCs=function(x){if(this.Za.h()==0)this.azh();
else this.a0S()};b$.prototype.a0S=function(){var x=this.Hi(),F={buffer:new Uint8Array(x.data),rect:x.Sf},W=new gT(S.E.v,!0);
W.Kh=!0;W.f=O.c9;W.data={d:t.Xy,v2:F};this.T(W);alert(hz.get([21,4]))};b$.prototype.azh=function(){var x=this.Hi(),F=jW.WD("camera",[x]),W=new gT(S.E.M,!0);
W.data={d:S.H.bt,GE:F};this.T(W);alert(hz.get([21,5]))};b$.prototype.Lv=function(x,F,W){navigator.mediaDevices.enumerateDevices().then(this.auP.bind(this))};
b$.prototype.auP=function(x){var F=this.a0n=[],W=[];for(var w=0;w<x.length;w++)if(x[w].kind=="videoinput"){F.push(x[w]);
W.push("Camera "+F.length)}this.nL.A1(W);this.nL.c(0);this.ajt()};b$.prototype.ajt=function(x){this.a4a();
var F={video:{deviceId:this.a0n[this.nL.h()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(F).then(this.aoK).catch(this.auh);
else navigator.webkitGetUserMedia(F,this.aoK,this.auh)};b$.prototype.abp=function(x){this.stream=x;this.Hp.srcObject=x;
this.Hp.addEventListener("loadedmetadata",this.ao2,!1)};b$.prototype.ana=function(x){this.Hp.play();
this.z4(this.Xv,this.eD)};b$.prototype._$=function(x,F){return new eX(0,0)};b$.prototype.z4=function(x,F){var W=this.Hp.videoWidth,n=this.Hp.videoHeight;
this._g.c(W+" x "+n+" px");this._g.n.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.lZ.xz(W,n);this.Xv=x;this.eD=F;var L=x-28,$=F-28-30,l=this.lZ.x/this.lZ.y;if(L/$>l)L=$*l;else $=L/l;
this.Hp.setAttribute("style","display: block; width: "+Math.round(L)+"px; height:"+Math.round($)+"px;")};
b$.prototype.am3=function(x){console.log("error",x);alert(hz.get([21,6]));this.close()};b$.prototype.a4a=function(x){if(this.stream!=null){var F=this.stream.getTracks();
for(var w=0;w<F.length;w++)F[w].stop();this.stream=null}};function hI(){bc.call(this,[7,8],"crange");
this.bn=null;this.yO={$_:73,V:4.45,z:4};this.RK={$_:73,V:4.45,z:4};this.body.style.width="20em";this.tq=new hx([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.tq.k(S.E.A,this.a3v,this);this.body.appendChild(this.tq.n);this.JZ=v.t("div","form");this.body.appendChild(this.JZ);
var x=this.agX=2,F=this.sM=[new cS([12,92],0,200),new c7([12,36],[[18,0],"\uFF0B","-"]),new cS([12,92],0,100,"%"),new c_("Min",0,255),new c_("Max",0,255)];
F[0].c(40);F[x].c(40);for(var w=0;w<F.length;w++){F[w].k(S.E.A,this.tW,this);F[w].parent=this}this.Mt=v.t("canvas");
this.body.appendChild(this.Mt);this.an=v.nX(this,this.body)}hI.prototype=new bc;hI.prototype.gT=function(x,F){return x!=null};
hI.prototype.nw=function(){return!0};hI.prototype.ek=function(){return!0};hI.prototype.a3v=function(x){var F=this.tq.h(),W=this.sM,n=this.JZ,L=0,$=W.length,l=this.agX;
if(F==0)$=l;else{L=l;W[L+1].c([0,100,190][F-1]);W[L+1].DE(F!=1);W[L+2].c([60,150,255][F-1]);W[L+2].DE(F!=3)}v.Ri(n);
for(var w=L;w<$;w++){n.appendChild(W[w].n)}this.tW()};hI.prototype._=function(){bc.prototype._.call(this);
this.an._();this.tq._();for(var w=0;w<this.sM.length;w++)this.sM[w]._()};hI.prototype.pI=function(x,F,W,n,L){var $=x.U.m$(L.x,L.y);
this.aaq($.x,$.y)};hI.prototype.aaq=function(x,F){var W=Math.min,n=Math.max,L=this.bn,$=n(0,W(L.m-1,Math.floor(x))),l=n(0,W(L.e-1,Math.floor(F))),k=L.Hi(),V=(l*L.m+$)*4,i=k[V],f=k[V+1],X=k[V+2],s=r.YX(i,f,X),R=this.sM[1].h(),h=this.yO,B=this.RK;
if(R==0){this.yO=JSON.parse(JSON.stringify(s));this.RK=s}else if(R==1){h.$_=W(h.$_,s.$_);h.V=W(h.V,s.V);
h.z=W(h.z,s.z);B.$_=n(B.$_,s.$_);B.V=n(B.V,s.V);B.z=n(B.z,s.z)}else if(R==2){var e=(h.$_+B.$_)/2,U=(h.V+B.V)/2,o=(h.z+B.z)/2;
if(s.$_<e)h.$_=n(h.$_,s.$_+10);else B.$_=W(B.$_,s.$_-10);if(s.V<U)h.V=n(h.V,s.V+1);else B.V=W(B.V,s.V-1);
if(s.z<o)h.z=n(h.z,s.z+1);else B.z=W(B.z,s.z-1)}this.tW()};hI.prototype.Di=function(x){var F=this.tq.h(),W=this.sM,n={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(F==0){var L=this.yO,$=this.RK;n.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:L.$_},A:{t:"doub",v:L.V},B:{t:"doub",v:L.z}}};
n.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:$.$_},A:{t:"doub",v:$.V},B:{t:"doub",v:$.z}}};n.Fzns={t:"long",v:W[0].h()}}else{F--;
var l=["shadows","midtones","highlights"][F];n.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][F]}};if(0<F)n[l+"LowerLimit"]={t:"long",v:W[3].h()};
if(F<2)n[l+"UpperLimit"]={t:"long",v:W[4].h()};n[l+"Fuzziness"]={t:"long",v:W[2].h()}}this.close();var k=new gT(S.E.BD,!0);
k.data={Y3:"colorRange",Xe:n};this.T(k)};hI.prototype.Lv=function(x,F){this.bn=x;this.aaq(0,0);this.a3v()};
hI.prototype.tW=function(){var x=this.bn,F=this.tq.h(),W=this.yO,n=this.RK,L=this.sM,$=L[0].h()/200,l=!1;
if(F>0){W=L[3].h();n=L[4].h();if(W>=n)W=n-1;l=!0;$=L[2].h()/100}var k=O.FA.cL(x,W,n,$,l),V=k.rect,i=k.channel,f=this.Mt,X=f.getContext("2d"),s=Math.floor(230*v.e1()),R=Math.floor(s*(V.e/V.m));
f.width=s;f.height=R;v.H$(f,s,R);var h=r.R(i.length*4);r.De(h,4294967295);for(var w=0;w<3;w++)r.rW(i,h,w);
var B=O.Y.f$([h,V],new iJ(s/V.m,0,0,R/V.e,0,0)),e=B.rect,U=new ImageData(new Uint8ClampedArray(B.buffer.buffer),e.m,e.e);
X.putImageData(U,0,0)};function dW(){bc.call(this,[12,76,1],"createshape");this.aU=null;var x=v.t("div","form");
x.setAttribute("style","width:20em");this.body.appendChild(x);this.Hx=new ht(!0,!0,null,!0,!0);this.Hx.c(new eX(100,100));
x.appendChild(this.Hx.n);this.g8=new j2([19,5,3]);x.appendChild(this.g8.n);this.an=v.nX(this,x)}dW.prototype=new bc;
dW.prototype.Di=function(x){var F=this.Hx.h();this.aU.am9(this.aU.agM,F.x,F.y,this.g8.h());this.close()};
dW.prototype._=function(){if(this.aU)this.$G=hz.get([5,3])+": "+hz.get(this.aU.arv);bc.prototype._.call(this);
this.an._();this.Hx._();this.g8._()};dW.prototype.Lv=function(x,F){this.aU=F;this._();this.Hx.c(this.Hx.h(),x.Bq)};
function dM(){bc.call(this,[11,1],"colorpicker");this.u2=null;this.EE=null;this._0=null;this.eX=!1;this.kk=!1;
this.a78=[.9642,1,.8249];var x=v.t("div","flexrow"),l,k;this.body.appendChild(x);this.zT=new fQ(256,!0);
this.zT.k(S.E.A,this.PO,this);x.appendChild(this.zT.n);var F=v.t("div","form");F.setAttribute("style","width:14.5em; margin-left:1em;");
x.appendChild(F);var W=v.t("div","flexrow");F.appendChild(W);var n=v.t("div");W.appendChild(n);n.style="width:95px; margin-right:14px";
this.aBi=v.t("div","full");n.appendChild(this.aBi);this.aeo=v.t("div","full");n.appendChild(this.aeo);
var n=v.t("col");W.appendChild(n);n.style.width="80px";this.an=v.nX(this,n);var W=v.t("div","flexrow");
F.appendChild(W);var L=v.t("div"),$=v.t("div");W.appendChild(L);W.appendChild($);L.style=$.style="margin-left:14px; max-width:80px;";
l=["H","S","B"];k=L;this.N0=[];for(var w=0;w<3;w++){var V=0,i=360,f="\xB0";if(w!=0){i=100;f="%"}var X=new c_(l[w],V,i,f,0,!1,!0);
this.N0.push(X);X.k(S.E.A,this.aqD,this);k.appendChild(X.n);if(w==2)X.n.style.marginBottom="8px"}l=["R","G","B"];
k=L;this.XE=[];for(var w=0;w<3;w++){var X=new c_(l[w],0,255,null,0,!1,!0);this.XE.push(X);X.k(S.E.A,this.alq,this);
k.appendChild(X.n)}l=["L","a","b"];k=$;this.$Q=[];for(var w=0;w<3;w++){var V=[0,-128,-128][w],i=[100,127,127][w],X=new c_(l[w],V,i,null,0,!1,!0);
X.c(0);this.$Q.push(X);X.k(S.E.A,this.arY,this);k.appendChild(X.n);if(w==2)X.n.style.marginBottom="8px"}l=["C","M","Y","K"];
k=$;this.rs=[];for(var w=0;w<4;w++){var X=new c_(l[w],0,100,"%",0,!1,!0);X.c(0);this.rs.push(X);X.k(S.E.A,this.a5F,this);
k.appendChild(X.n);if(w==3)X.n.style.marginBottom="8px"}this.ym=new f8("#",null,4.5);this.ym.k(S.E.A,this.IK,this);
L.appendChild(this.ym.n);this.ym.n.style.marginRight="0";this.CL=v.t("input","fitem");this.CL.setAttribute("type","color");
this.CL.setAttribute("style","width:59px;  margin-left:19px;");this.CL.addEventListener("change",this.IK.bind(this),!1);
this.fM=new h3(9);this.fM.k(S.E.A,this.IK,this);F.appendChild(this.fM.n);this.k("closebtn",this.Mc,this);
this.t3=!1}dM.prototype=new bc;dM.prototype.nw=function(){return!0};dM.prototype._$=function(x,F){if(Math.min(x,F)>500)return null;
return new eX(Math.max(0,Math.min(150,(x-484)/2)),Math.max(0,Math.min(150,(F-316)/2)))};dM.prototype.z4=function(x,F){this.zT.z4(Math.min(256,x-226),F)};
dM.prototype._=function(x,F){bc.prototype._.call(this);for(var w=0;w<3;w++){this.XE[w]._();this.N0[w]._();
this.$Q[w]._()}for(var w=0;w<4;w++)this.rs[w]._();this.an._()};dM.prototype.PO=function(x){this.EE=this.zT.h();
this.update()};dM.prototype.pI=function(x,F,W,n,L){this.t3=!0;this.aqB(x,L)};dM.prototype.Lx=function(x,F,W,n,L){if(!this.t3)return;
this.aqB(x,L)};dM.prototype.t8=function(x,F,W,n,L){this.t3=!1};dM.prototype.aqB=function(x,F){var W=O.c2.gJ(x,F,1),n=W&255,L=W>>8&255,$=W>>16&255;
this.EE={o:$/255,r:L/255,z:n/255};this.update()};dM.prototype.alq=function(x){var F=this.XE,W=this.om(parseInt(F[0].h())),n=this.om(parseInt(F[1].h())),L=this.om(parseInt(F[2].h()));
this.EE={o:W/255,r:n/255,z:L/255};this.update()};dM.prototype.aqD=function(x){var F=this.N0,W=this.rU(parseInt(F[0].h())/360),n=this.rU(parseInt(F[1].h())/100),L=this.rU(parseInt(F[2].h())/100);
this.EE=r.zi(W,n,L);this.update()};dM.prototype.a5F=function(x){var F=this.rs,W=[];for(var w=0;w<4;w++){var n=this.a1$(parseInt(F[w].h()));
F[w].c(n);W.push(n/100)}var L=r.go(W);this.EE={o:L[0],r:L[1],z:L[2]};this.update(!0)};dM.prototype.arY=function(x){var F=this.$Q,W=parseInt(F[0].h()),n=parseInt(F[1].h()),L=parseInt(F[2].h()),$=r.Qo(W,n,L);
this.EE={o:$.o/255,r:$.r/255,z:$.z/255};this.update()};dM.prototype.IK=function(x){var F;if(x.currentTarget==this.fM)F=this.fM.h();
else{F=x.currentTarget==this.ym?this.ym.h():this.CL.value;if(F.charAt(0)=="#")F=F.slice(1);if(F.length==3)F=F[0]+F[0]+F[1]+F[1]+F[2]+F[2];
F=r.ajR(F)}this.EE={o:(F>>16&255)/255,r:(F>>8&255)/255,z:(F&255)/255};this.update()};dM.prototype.H1=function(x){var F=x.o,W=x.r,n=x.z;
return Math.round(F*255)<<16|Math.round(W*255)<<8|Math.round(n*255)};dM.prototype.Di=function(x){this.a3_();
var F=this.H1(this.EE);this._0(F);this.close();this.kk=!1;this.EE=null};dM.prototype.Mc=function(x){this.a3_();
if(this.eX)this._0(this.H1(this.u2));this.kk=!1;this.EE=null};dM.prototype.a3_=function(x){var F=new gT(S.E.M,!0);
F.data={d:S.H.azW};this.T(F)};dM.prototype.AW=function(x,F){var W=bE.XX(x,F);if(W!=null)this.fM.c(W);
if(F!=iC.N1)return;if(this.EE!=null){this.EE={o:(W>>16&255)/255,r:(W>>8&255)/255,z:(W>>0&255)/255};this.update()}};
dM.prototype.Lv=function(x,F){var W=F.Rr,n={o:(W>>16&255)/255,r:(W>>8&255)/255,z:(W>>0&255)/255};if(this.EE==null){var L=new gT(S.E.M,!0);
L.data={d:S.H.W_,VD:"crosshair",push:!0};this.T(L);this.t3=!1;this._0=F.$O;this.eX=!1;this.kk=F.C3;this.u2=JSON.parse(JSON.stringify(n));
this.aeo.setAttribute("style","height:2.3em;background-color:#"+r.mZ(W)+";")}this.EE=n;this.update()};
dM.prototype.update=function(x){var F=this.EE,W=this.H1(F);this.ym.c(r.mZ(W));this.CL.value="#"+r.mZ(W);
this.aBi.setAttribute("style","height:2.3em;background-color:#"+r.mZ(W)+";");var n=this.XE;n[0].c(Math.round(F.o*255));
n[1].c(Math.round(F.r*255));n[2].c(Math.round(F.z*255));var L=r.uO(F.o,F.r,F.z);n=this.N0;n[0].c(Math.round(L.eD*360));
n[1].c(Math.round(L.TR*100));n[2].c(Math.round(L._M*100));var $=r.YX(F.o*255,F.r*255,F.z*255,this.a78);
n=this.$Q;n[0].c(Math.round($.$_));n[1].c(Math.round($.V));n[2].c(Math.round($.z));if(x==null){var l=r.yC([F.o,F.r,F.z]);
n=this.rs;n[0].c(Math.round(l[0]*100));n[1].c(Math.round(l[1]*100));n[2].c(Math.round(l[2]*100));n[3].c(Math.round(l[3]*100))}this.zT.c(F);
if(this.kk){this._0(this.H1(this.EE));this.eX=!0}};dM.prototype.a1$=function(x){return Math.max(0,Math.min(100,x))};
dM.prototype.om=function(x){return Math.max(0,Math.min(255,x))};dM.prototype.rU=function(x){return Math.max(0,Math.min(1,x))};
function bp(){bc.call(this,[11,2],"contoureditor");this.awl=null;this.ev=null;this.response=null;this.zx=v.t("div","cell");
this.body.appendChild(this.zx);this.rp=v.t("div","cell padded");this.body.appendChild(this.rp);var x=v.t("div","bordered padded vmargin");
this.zx.appendChild(x);this.nM=new jY(null,null,!0);this.nM.k(S.E.A,this.Fd,this);x.appendChild(this.nM.n);
this.an=v.nX(this,this.rp);this.k("closebtn",this.Wa,this)}bp.prototype=new bc;bp.prototype.Di=function(){this.close()};
bp.prototype._=function(){bc.prototype._.call(this);this.an._();this.nM._()};bp.prototype.Fd=function(x){this.ev.Crv.v=this.nM.h();
this.response(this.ev)};bp.prototype.Wa=function(x){this.response(this.awl)};bp.prototype.Lv=function(x,F){this.awl=JSON.parse(JSON.stringify(F.$f));
this.ev=F.$f;this.response=F.response;this.nM.c(this.ev.Crv.v)};function cq(){bc.call(this,[11,4],"duplinto");
this._j=null;this.lG=null;this.Rp=null;var x=v.t("div","form");x.setAttribute("style","max-width:26em");
this.body.appendChild(x);this.ov=new hx([12,43],["abc","def"]);this.ov.k(S.E.A,this.jx,this);x.appendChild(this.ov.n);
v.kE(x);this.YM=new hx([1,16,0],["abc","def"]);this.YM.k(S.E.A,this.jx,this);x.appendChild(this.YM.n);
v.kE(x);this.Lj=new f8([12,48],null,14);x.appendChild(this.Lj.n);this.an=v.nX(this,x)}cq.prototype=new bc;
cq.prototype.ek=function(){return!0};cq.prototype._=function(){bc.prototype._.call(this);this.an._();
this.ov._();this.Lj._()};cq.prototype.jx=function(x){if(x&&x.target==this.YM)return;var F=this.ov.h(),W=this.lG[F],n=this._j,L=W!=null&&W.add.artd!=null;
for(var w=0;w<n.g.length;w++)if(n.B[n.g[w]].add.artb)L=!1;this.Lj.DE(F==this.lG.length);this.YM.DE(L);
if(L){var $=W.root.children,l=[],k=this.Rp=[];for(var w=0;w<$.length;w++){var V=$[w].a;if(V.add.artb)l.push(V.getName());
k.push($[w].index)}this.YM.A1(l);this.YM.c(0)}else this.Rp=null};cq.prototype.Lv=function(x,F,W){this._j=x;
this.lG=W;this.Lj.c(x.g.length==0?"Layer":x.B[x.g[0]].getName());var n=[];for(var w=0;w<W.length;w++){var L=W[w].name;
n.push(L.length<30?L:L.slice(0,27)+"...")}n.push([11,7]);this.ov.A1(n);this.ov.c(W.indexOf(x));this.jx(null)};
cq.prototype.Di=function(x){var F=this.ov.h();if(F==this.lG.length){var W=new az(this.Lj.h()+".psd"),n=this._j.m,L=this._j.e,$=this._j.gD();
if($!=-1){var l=this._j.B[$].U$();n=l.m;L=l.e}W.m=n;W.e=L;W.buffer=r.R(W.m*W.e*4);var k=W.dI();k.sc("Background");
W.me([k]);var V=new gT(S.E.M,!0);V.Kh=!0;V.data={d:S.H.bt,GE:W};this.T(V)}var i=this._j.yd(null,this._j!=this.lG[F]),V=new gT(S.E.v,!0);
V.data={d:t.bs,B:i,Zx:this._j,gY:this.lG[F]};if(this.Rp)V.data.Gh=this.Rp[this.YM.h()];V.f=O.c9;V.Kh=!0;
this.T(V);this.close()};function c8(){bc.call(this,[1,9],"eassets");this.Mh=null;this.YR=null;var x=this.body;
v.fX(x,"form");x.style.width="32em";this.tq=new c7(null,["Layers","Combinations"]);this.tq.k(S.E.A,this.tL,this);
x.appendChild(this.tq.n);v.K0(x);this.hw=v.t("span");x.appendChild(this.hw);this.dH=v.t("div");x.appendChild(this.dH);
var F=v.t("div"),W=v.t("div","flexrow");this.aby=[F,W];this.Tt=[new j2("Only layers / folders, whose name starts with \"-e-\""),new j2("Remove parts outside the canvas"),new j2("Trim transparent parts")];
for(var w=0;w<3;w++){var n=this.Tt[w];n.c(!0);n.k(S.E.A,this.tL,this);F.appendChild(n.n);v.kE(F)}this.V7=new gM([12,14,0],["1x","2x","3x","4x"]);
this.V7.c([!0,!1,!1,!1]);F.appendChild(this.V7.n);var L=v.t("div");W.appendChild(L);var $=v.t("img");
$.setAttribute("src","img/nft.png");$.style.width="150px";W.appendChild($);var l=v.t("span");l.textContent="File Names:";
L.appendChild(l);this.gC=new gM(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
L.appendChild(this.gC.n);this.gC.c([!0,!1,!1]);v.K0(x);this.ie=["PNG","JPG","SVG","TIFF","TGA"];this.Lt=new hx([12,50],this.ie);
this.Lt.k(S.E.A,this.$u,this);x.appendChild(this.Lt.n);this.PK=new fr;x.appendChild(this.PK.n);this.an=new cX([1,9],!0,null,!0);
this.an.k("click",this.Di,this);x.appendChild(this.an.n);this.k("closebtn",this.CB,this)}c8.prototype=new bc;
c8.prototype.$u=function(x){this.PK.lD(this.ie[this.Lt.h()],!1,!1,!1,this.YR.M9()!=null)};c8.prototype.CB=function(x){this.YR=null};
c8.prototype._=function(){bc.prototype._.call(this);this.Lt._();this.V7._();this.an._();this.PK._()};
c8.prototype.Lv=function(x,F,W){this.YR=x;this.tL()};c8.prototype.tL=function(x){var F=this.tq.h(),W;
v.Ri(this.dH);this.dH.appendChild(this.aby[F]);if(F==0){var n=this.a2z();W=n.length+" exportable layers"}else{var n=this.al9();
W=n[1]+" combinations ("+n[0].join(" \xD7 ")+")"}this.hw.textContent="- - - "+W;this.$u(null)};c8.prototype.a2z=function(){var x=this.Tt[0].h(),F=[],W=this.YR;
for(var w=0;w<W.B.length;w++){var n=W.B[w],L=n.getName();if(!x&&!n.vN()&&!n.rect.ak()||L.startsWith("-e"))F.push(w)}return F};
c8.prototype.al9=function(){var x=this.YR,F=x.root.children,W=[],n=1,L=[];for(var w=0;w<F.length;w++){var $=F[w],l=$.a;
if(l.vN()){var k=$.children.length;W.push(k);n*=k;L.push($.index)}l}return[W,n,L]};c8.prototype.AW=function(x,F){this.Mh=x};
c8.prototype.Di=function(x){var F=this.YR,W=this.tq.h(),n=[this.ie[this.Lt.h()]],L=[this.PK.h()],$={};
if(W==0){var l=this.V7.h(),k={},V=this.a2z();if(V.length==0){alert("No layers to export.");return}var i=[this.Tt[1].h(),this.Tt[2].h()];
for(var w=0;w<V.length;w++){var f=V[w],X=F.B[f],s=X.getName();if(k[s]!=null){k[s]++;s+=" "+k[s]}else k[s]=1;
var R=X.MG();X.FH(!0);for(var h=0;h<l.length;h++){if(!l[h])continue;var B=h+1,e=O.fI.alM(F,n,B,this.Mh,f,L,i);
for(var U=0;U<n.length;U++){var o=n[U],b=s.slice(s.startsWith("-e-")?3:0)+(B==1?"":"@"+B+"x")+"."+o.toLowerCase();
if(e[U])$[b]=new Uint8Array(e[U])}}X.FH(R)}}else{var R=[];for(var w=0;w<F.B.length;w++)R.push(F.B[w].MG());
var u=this.al9(),Z=u[0],V=u[2],I=[];function y(H,f,Q,C){if(f==H.length){C.push(Q.slice(0));return}var J=H[f];
for(var w=0;w<J;w++){Q.push(w);y(H,f+1,Q,C);Q.pop(w)}}y(Z,0,[],I);var D=this.gC.h().indexOf(!0);this.gz=[I,$,V,n,L,R,D,this.a73.bind(this),0,0];
this.a73();return}var N=UZIP.encode($),j=new gT(S.E.M,!0);j.data={d:S.H.Ps,data:N,name:"assets.zip"};
this.T(j)};c8.prototype.a73=function(){var x=this.gz,F=x[0],W=x[1],n=this.YR,L=x[2],$=x[3],l=x[4],k=x[5],V=x[6],i=x[7],f=0;
while(F.length!=0&&f<1e3){var X=Date.now(),s=F.shift(),R=[];for(var w=0;w<s.length;w++){var h=n.root.y9(L[w]);
for(var B=0;B<h.children.length;B++)h.children[B].a.FH(!1);var e=h.children[s[w]].a;R.push(V==2?e.getName():h.a.getName()+s[w]);
e.FH(!0)}n.W();n.KS();var U=(V==0?s:R).join("-")+"."+$[0].toLowerCase();W[U]=new Uint8Array(jW.Ko(n,$[0],n.m,n.e,l[0],this.Mh));
x[8]++;x[9]+=W[U].length;f+=Date.now()-X}if(F.length!=0){alert(x[8]+" done, "+aK.LS(x[9])+".",800);setTimeout(i,35);
return}for(var w=0;w<n.B.length;w++)n.B[w].FH(k[w]);n.W();var o=UZIP.encode(W),b=new gT(S.E.M,!0);b.data={d:S.H.Ps,data:o,name:"assets.zip"};
this.T(b)};function hU(){bc.call(this,"Export Color Lookup Tables","exlut");this.Mh=null;this.YR=null;
var x=v.t("div","form");x.setAttribute("style","width:20em");this.body.appendChild(x);this.Tt=[new c_("Grid Points",1,256),new c7([12,50],[".CUBE"])];
var F=[16,0];for(var w=0;w<this.Tt.length;w++){var W=this.Tt[w];W.c(F[w]);W.parent=this;W.k(S.E.A,this.tL,this);
x.appendChild(W.n);v.kE(x)}this.an=v.nX(this,x);this.k("closebtn",this.CB,this)}hU.prototype=new bc;
hU.prototype.gT=function(x,F){if(Math.min(x.m,x.e)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(x.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};hU.prototype.CB=function(x){this.YR=null};hU.prototype.AW=function(x,F){this.Mh=x};
hU.prototype.Lv=function(x,F,W){this.YR=x};hU.prototype.Di=function(){var x=this.YR,F=this.Tt[0].h(),W=[],n=new eu(0,0,x.m,x.e),L=r.R(F*F*4),$=L.slice(0),l=new eu(x.m-F>>>1,x.e-F>>>1,F,F),k=x.B[0],V=k.buffer,i=k.rect;
k.rect=l;k.buffer=L;for(var f=0;f<F;f++){this.au0(F,f,L);k.W(l);x.W(l);var X=x.Hi();r.sh(X,n,$,l);for(var s=0;
s<F;s++)for(var R=0;R<F;R++){var h=s*F+R<<2;W.push($[h]/255,$[h+1]/255,$[h+2]/255)}}var B=b2.afl(W,F,x.name);
jh.save(B,x.name.split(".")[0]+".CUBE");k.buffer=V;k.rect=i;k.W();x.W()};hU.prototype.au0=function(x,F,W){var n=255/(x-1),L=Math.round(F*n);
for(var $=0;$<x;$++)for(var l=0;l<x;l++){var k=$*x+l<<2;W[k]=Math.round(l*n);W[k+1]=Math.round($*n);
W[k+2]=L;W[k+3]=255}};hU.prototype._=function(){bc.prototype._.call(this);for(var w=0;w<this.Tt.length;
w++)this.Tt[w]._();this.an._()};function gD(){bc.call(this,[1,14],"finfo");this.E5=null;this.Vf=null;
this.ok=null;this.tP=v.t("div","form scrollable label12");this.tP.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.tP);var x=v.t("div","form");this.body.appendChild(x);this.qY=new hx(null,["Hello"]);
x.appendChild(this.qY.n);this.a6f=new cX("Add Parameter",!1,null,!0);x.appendChild(this.a6f.n);this.a6f.k("click",this.ZG,this);
this.At=new cX("=== S A V E ===",!1,null,!0);x.appendChild(this.At.n);this.At.k("click",this.zM,this);
this.aqp=""}gD.prototype=new bc;gD.prototype._$=function(x,F){return x<450||F<450?new eX(0,0):new eX(150,100)};
gD.prototype.ZG=function(x){if(this.ok.length==0)return;var F=this.ok[this.qY.h()],W=this.eg();W[F]=ks.mu[F][0];
this.Ft(W);this.Vf[F].n.scrollIntoView();this.Vf[F].D$()};gD.prototype.z1=function(x){var F=this.eg();
delete F[x.currentTarget.avs];this.Ft(F)};gD.prototype.zM=function(x){var F=this.eg(),W=this.E5,n=!0;
for(var L in W)if(JSON.stringify(W[L])!=JSON.stringify(F[L]))n=!1;for(var L in F)if(JSON.stringify(W[L])!=JSON.stringify(F[L]))n=!1;
if(n)return;var $=new gT(S.E.v,!0);$.f=O.c9;$.data={d:t.Jl,uy:F};this.T($);this.E5=F;this.Ft(F)};gD.asI=function(x){function F(L){var $=L.toLowerCase();
return L==$}var W=x.split(":").pop();for(var n=1;n<W.length-1;n++){if(W[n]==W[n].toUpperCase()&&(F(W[n+1])||F(W[n-1]))){W=W.slice(0,n)+" "+W.slice(n);
n++}}return W};gD.prototype.Lv=function(x,F){this.E5=x.dU;this.Ft(x.dU)};gD.prototype.Ft=function(x){var F=this.tP,L=0;
v.Ri(F);var W=this.Vf={},n=["tiff","exif","exif:GPS"],$=this.ok=[],l=[];for(var k in ks.mu){var V=gD.asI(k),i=0,f=15,X=null;
if(x[k]==null){if(ks.mu[k].length!=1||k=="photoshop:Credit"||k=="photoshop:Source"){$.push(k);l.push(V)}continue}for(var w=0;
w<n.length;w++)if(k.startsWith(n[w]))i=w;if(i!=L){v.K0(F);L=i}if(k=="tiff:ImageDescription"||k=="dc:Keywords"){f=18.5;
X=3}var s=new f8(V,null,f,X);W[k]=s;var R=x[k];if(R instanceof Array)R=R[1]==0?"---":R[0]+"/"+R[1];var h=new cX("\u2716",null,hz.get([5,4]));
F.appendChild(h.n);h.k("click",this.z1,this);h.avs=k;s.c(R);F.appendChild(s.n);v.kE(F);if(k=="exif:GPSLongitude"&&x["exif:GPSLatitude"]){this.aqp=gD.azi(x["exif:GPSLatitude"])+","+gD.azi(x["exif:GPSLongitude"]);
var B=new cX("Show on map",!1,null,!0);F.appendChild(B.n);v.kE(F);B.k("click",this.ah6,this)}}this.qY.A1(l);
this.qY.c(0)};gD.prototype.eg=function(){var x=this.Vf,F=ks.mu,W={};for(var n in F){var L=F[n][0],$=typeof L;
if(L==null||x[n]==null)continue;var l=x[n].h(),k="The value of \""+gD.asI(n)+"\" must ";if($=="number"){l=parseFloat(l);
if(isNaN(l)){alert(k+"be a number.");l=L}}else if(L instanceof Array&&L.length==2){if(l.indexOf("/")==-1){alert(k+"be a fraction.");
l=L.slice(0)}else{l=l.split("/").map(parseFloat);if(isNaN(l[0])||isNaN(l[1])){l=L.slice(0)}}}W[n]=l}return W};
gD.azi=function(x){var F=x.length,W=x.slice(0,F-1).split(",").map(parseFloat),n=x.slice(F-1),L=W[0]+W[1]/60+W[2]/3600;
if(n!="N"&&n!="E")L=-L;return L};gD.prototype.ah6=function(x){window.open("https://maps.google.com?q="+this.aqp,"Map")};
function a9(){bc.call(this,[11,5],"gradienteditor");this.u2=null;this.EE=null;this.tG=null;this._0=null;
this.eX=!1;this.kk=!1;this.oC=null;this.lo=null;this.vD=-1;this.X5=-1;this.qX=0;this.YY=this.dx.bind(this);
this.ti=this.IX.bind(this);this.Mt=v.t("canvas");this.yG=this.Mt.getContext("2d");this.Mt.setAttribute("style","display:block");
this.jt=null;v.OC(this.Mt);v.p6(this.Mt,this.aI.bind(this));this.Yz=v.t("div","form");this.Y7=v.t("div");
this.qy=v.t("div","form");this.eq=v.t("div");this.pq=new hx([12,44],[[15,10,0],[24,6]]);this.pq.k(S.E.A,this.dV,this);
this.body.appendChild(this.pq.n);v.K0(this.body);var x=this.Yz;this.QH=new c_([19,3,3],0,100,"%");this.QH.k(S.E.A,this.dV,this);
this.QH.parent=this;x.appendChild(this.QH.n);v.kE(x);this.mX=new e8([12,0]);x.appendChild(this.mX.n);
this.Uo=v.t("div","bordered padded noalign");x.appendChild(this.Uo);this.BE=new c_([12,0],0,100,"%");
this.BE.parent=this;this.BE.k(S.E.A,this.dV,this);this.Uo.appendChild(this.BE.n);this.SD=new c_([12,40],0,100,"%");
this.SD.parent=this;this.SD.k(S.E.A,this.dV,this);this.Uo.appendChild(this.SD.n);this.pA=new cX([5,4],!1,null,!0);
this.pA.k("click",this.afm,this);this.Uo.appendChild(this.pA.n);x.appendChild(this.Y7);this.axl=new e8([13,0]);
x.appendChild(this.axl.n);this.Uv=v.t("div","bordered padded noalign");x.appendChild(this.Uv);this.VO=new hx([12,44],[[12,45],[12,46],[12,47]]);
this.VO.k(S.E.A,this.dV,this);this.Uv.appendChild(this.VO.n);this.sH=new d1(!0);this.sH.parent=this;
this.sH.k(S.E.A,this.dV,this);this.Uv.appendChild(this.sH.n);this.o0=new c_([12,40],0,100,"%");this.o0.parent=this;
this.o0.k(S.E.A,this.dV,this);this.Uv.appendChild(this.o0.n);this.oe=new cX([5,4],!1,null,!0);this.oe.k("click",this.aBx,this);
this.Uv.appendChild(this.oe.n);var x=this.qy;this.kl=new c_("Roughness",0,100,"%");this.kl.k(S.E.A,this.dV,this);
this.kl.parent=this;x.appendChild(this.kl.n);x.appendChild(this.eq);this.lO=new cX([25,1,2],!1,null,!0);
this.lO.k("click",this.dV,this);x.appendChild(this.lO.n);this.an=v.nX(this);this.k("closebtn",this.Mc,this)}a9.prototype=new bc;
a9.prototype.Mc=function(x){if(this.eX)this._0(this.u2)};a9.prototype._=function(){bc.prototype._.call(this);
this.an._();this.QH._();this.mX._();this.axl._();this.pA._();this.oe._();this.BE._();this.SD._();this.VO._();
this.o0._();this.lO._()};a9.prototype.AW=function(x,F){this.tG=x};a9.prototype.Lv=function(x,F){this.EE=JSON.parse(JSON.stringify(F.I));
this.u2=JSON.parse(JSON.stringify(F.I));this.oC=this.lo=null;this._0=F.$O;this.eX=!1;this.kk=F.C3;this.sr();
this.md()};a9.prototype.Di=function(x){var F=this.EE;this._0(F);this.close()};a9.prototype.Us=function(x){return x==gp.bl||x==gp.F_};
a9.prototype.lH=function(x,F,W,n){if(n.S(gp.bl)||n.S(gp.F_)){if(this.lo)this.afm();if(this.oC)this.aBx()}};
a9.prototype.afm=function(x){var F=this.EE.Trns.v;if(this.lo==null||F.length==1)return;F.splice(F.indexOf(this.lo),1);
this.lo=null;this.sr();this.md()};a9.prototype.aBx=function(x){var F=this.EE.Clrs.v;if(this.oC==null||F.length==1)return;
F.splice(F.indexOf(this.oC),1);this.oC=null;this.sr();this.md()};a9.prototype.sr=function(){var x=this.Mt,F=this.yG,W=v.e1();
x.width=Math.floor(410*W);x.height=Math.floor(70*W);v.H$(x,x.width,x.height);x.style.marginTop="8px";
this.jt=new eu(0,0,Math.floor(380*W),Math.floor(32*W));this.jt.x=Math.floor((x.width-this.jt.m)/2);this.jt.y=Math.floor((x.height-this.jt.e)/2);
var n=this.jt,L=n.m,$=n.e,l=n.x,k=n.y,V=new eu(0,0,L,$),i=F.getImageData(0,0,L,$),f=new Uint8Array(i.data.buffer);
r.aq(f,L,$,8);var X=r.R(L*$*4);r.I.wL(this.EE,X,V,[1/L,0,0,1/$],L/2,$/2,!1,0,this.tG.A_,this.tG.G8);
r.l.X3("norm",X,n,f,n,n,1);F.clearRect(0,0,x.width,x.height);F.putImageData(i,l,k);var s=this.EE;if(s.Clrs){var R=s.Trns.v,h=s.Clrs.v,B=r.I.hM(s,this.tG.A_,this.tG.G8),e=Math.round(6*v.e1()),U=Math.round(14*v.e1()),o=this.lo?this.lo.v:null,b=this.oC?this.oC.v:null;
for(var w=0;w<R.length;w++){var u=R[w].v,Z=Math.round(255-255*u.Opct.v.val/100);if((u==o||R[w-1]&&R[w-1].v==o||w==this.X5)&&w!=0){F.fillStyle="#000000";
F.fillRect(l-3+L*(R[w-1].v.Lctn.v+(u.Lctn.v-R[w-1].v.Lctn.v)*u.Mdpn.v/100)/4096,k-6-2,6,6)}if(u==o){F.fillStyle="#ffffff";
F.fillRect(l-e+L*(u.Lctn.v/4096)-2,k-2-U-2,2*e+4,U+4)}F.fillStyle="rgb("+Z+","+Z+","+Z+")";F.fillRect(l-e+L*(u.Lctn.v/4096),k-2-U,2*e,U)}for(var w=0;
w<h.length;w++){var I=h[w].v,y=B[0][w][0];if((I==b||h[w-1]&&h[w-1].v==b||w==this.vD)&&w!=0){F.fillStyle="#000000";
F.fillRect(l-3+L*(h[w-1].v.Lctn.v+(I.Lctn.v-h[w-1].v.Lctn.v)*I.Mdpn.v/100)/4096,k+$+2,6,6)}if(I==b){F.fillStyle="#ffffff";
F.fillRect(l-e+L*(I.Lctn.v/4096)-2,k+$+2-2,2*e+4,U+4)}F.fillStyle="rgb("+Math.round(y.o)+", "+Math.round(y.r)+","+Math.round(y.z)+")";
F.fillRect(l-e+L*(I.Lctn.v/4096),k+$+2,2*e,U)}}if(this.kk){this._0(this.EE);this.eX=!0}};a9.prototype.md=function(){var x=this.EE,F=x.Clrs?0:1;
this.pq.c(F);if(v.Ww(this.Yz))this.body.removeChild(this.Yz);if(v.Ww(this.qy))this.body.removeChild(this.qy);
(F==0?this.Y7:this.eq).appendChild(this.Mt);if(F==0){this.body.appendChild(this.Yz);this.QH.c(Math.round(100*x.Intr.v/4096));
var W=x.Trns.v,n=x.Clrs.v,L=this.lo!=null,$=this.X5!=-1;this.BE.DE(L);this.SD.DE(L||$);this.pA.DE(L);
if(L){this.Uo.setAttribute("style","");var l=this.lo.v;this.SD.c(Math.round(100*l.Lctn.v/4096));this.BE.c(l.Opct.v.val)}if($)this.SD.c(W[this.X5].v.Mdpn.v);
var L=this.oC!=null,$=this.vD!=-1;this.VO.DE(L);this.sH.DE(L);this.o0.DE(L||$);this.oe.DE(L);if(L){this.Uv.setAttribute("style","");
var k=this.oC.v;this.o0.c(Math.round(100*k.Lctn.v/4096));var V=k.Type.v.Clry;this.VO.c(["FrgC","BckC","UsrS"].indexOf(V));
if(V=="FrgC")this.sH.KB(this.tG.A_);if(V=="BckC")this.sH.KB(this.tG.G8);if(V=="UsrS")this.sH.c(k.Clr.v)}if($)this.o0.c(n[this.vD].v.Mdpn.v)}else{this.body.appendChild(this.qy);
this.kl.c(Math.round(100*x.Smth.v/4096))}this.body.appendChild(this.an.n)};a9.prototype.dV=function(x){var F=this.EE,W=F.Clrs?0:1;
if(x.target==this.pq){var n=W==0?JSON.parse(eC.CC.adc).v:ew.Iz("grdm").Grad.v;this.EE=n;this.md();this.sr();
return}if(W==0){F.Intr.v=Math.round(4096*this.QH.h()/100);var L=F.Trns.v,$=F.Clrs.v;if(this.lo!=null){var l=this.lo.v;
l.Lctn.v=Math.round(4096*(this.SD.h()/100));l.Opct.v.val=this.BE.h()}if(this.oC!=null){var k=this.oC.v;
k.Lctn.v=Math.round(4096*(this.o0.h()/100));if(x.target==this.sH)this.VO.c(2);var V=this.VO.h();k.Type.v.Clry=["FrgC","BckC","UsrS"][V];
if(V==2)k.Clr={t:"Objc",v:this.sH.h()};else if(k.Clr)delete k.Clr}if(this.X5!=-1)L[this.X5].v.Mdpn.v=this.SD.h();
if(this.vD!=-1)$[this.vD].v.Mdpn.v=this.o0.h()}else{F.Smth.v=Math.round(4096*this.kl.h()/100);if(x.target==this.lO)F.RndS.v=Math.floor(Math.random()*4294967295)}this.sr()};
a9.prototype.aI=function(x){var F=v.iF(x,this.Mt),W=this.jt,n=(F.x*v.e1()-W.x)/W.m,L=(F.y*v.e1()-W.y)/W.e,$=this.EE.Trns.v,l=this.EE.Clrs.v,k=null,V=null,i=-1,f=-1;
if(L<1)for(var w=0;w<$.length;w++){var X=$[w].v;if(Math.abs(X.Lctn.v/4096-n)<.02)k=$[w];if(w>0)if(Math.abs(($[w-1].v.Lctn.v+(X.Lctn.v-$[w-1].v.Lctn.v)*X.Mdpn.v/100)/4096-n)<.01)i=w}if(L>0)for(var w=0;
w<l.length;w++){var s=l[w].v;if(Math.abs(s.Lctn.v/4096-n)<.02)V=l[w];if(w>0)if(Math.abs((l[w-1].v.Lctn.v+(s.Lctn.v-l[w-1].v.Lctn.v)*s.Mdpn.v/100)/4096-n)<.01)f=w}if(V==null&&k==null&&i==-1&&f==-1){if(L<0){var X={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
X.v.Lctn.v=Math.round(n*4096);$.push(X);$.sort(this.WR);k=X}if(L>1){var l=this.EE.Clrs.v,R=r.I.hM(this.EE,this.tG.A_,this.tG.G8),h=r.I.oF(this.EE,R,n),s={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:r.I.GB({o:h&255,r:h>>8&255,z:h>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
s.v.Lctn.v=Math.round(n*4096);l.push(s);l.sort(this.WR);V=s}}if(V!=null)f=-1;if(k!=null)i=-1;if(V!=null||k!=null||i>-1||f>-1){this.lo=k;
this.oC=V;this.X5=i;this.vD=f;this.md();this.sr();v.FJ(window,this.YY);v.UJ(window,this.ti)}};a9.prototype.dx=function(x){var F=v.iF(x,this.Mt),W=this.jt,n=(F.x*v.e1()-W.x)/W.m,L=(F.y*v.e1()-W.y)/W.e;
n=Math.max(0,Math.min(1,n));var $=this.EE.Trns.v,l=this.EE.Clrs.v;if(this.lo!=null){var k=this.lo.v;
k.Lctn.v=Math.round(4096*n);var V=$.indexOf(this.lo);if(V!=-1&&L<-1&&$.length>1)$.splice(V,1);if(V==-1&&L>-1)$.push(this.lo);
$.sort(this.WR)}if(this.oC!=null){var i=this.oC.v;i.Lctn.v=Math.round(4096*n);var f=l.indexOf(this.oC);
if(f!=-1&&L>2&&l.length>1)l.splice(f,1);if(f==-1&&L<2)l.push(this.oC);l.sort(this.WR)}if(this.X5>-1){var k=$[this.X5].v;
k.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(n*4096-$[this.X5-1].v.Lctn.v)/(k.Lctn.v-$[this.X5-1].v.Lctn.v))))}if(this.vD>-1){var i=l[this.vD].v;
i.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(n*4096-l[this.vD-1].v.Lctn.v)/(i.Lctn.v-l[this.vD-1].v.Lctn.v))))}if(this.lo!=null||this.oC!=null||this.X5>-1||this.vD>-1){this.md();
this.sr()}};a9.prototype.IX=function(x){v.ac(window,this.YY);v.bg(window,this.ti);if(Date.now()-this.qX<300){if(this.vD!=-1||this.X5!=-1){var F=(this.vD!=-1?this.EE.Clrs.v[this.vD]:this.EE.Trns.v[this.X5]).v;
F.Mdpn.v=50;this.md();this.sr()}else if(this.oC!=null)this.sH.xY()}this.qX=Date.now()};a9.prototype.WR=function(x,F){return x.v.Lctn.v-F.v.Lctn.v};
function kz(x){bc.call(this,x=="isize"?[11,10]:[11,3],x);this.abh=x;var F=v.t("div","form");F.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");
this.body.appendChild(F);var W=x=="csize";this.a7K=new e8("Hi");F.appendChild(this.a7K.n);v.kE(F);this.Hx=new ht(!0,!0,W,W,!0);
if(W)this.Hx.aws(!1);F.appendChild(this.Hx.n);this.yI=new j2([12,25,3]);this.yI.c(!0);this.yI.k(S.E.A,this.akM,this);
this.N5=new hx(null,[[12,14,2],[12,14,3],[12,14,4]]);this.N5.c(1);this.E6=new au([12,23,2],41);this.E6.c(4);
if(x=="isize"){F.appendChild(this.yI.n);F.appendChild(this.N5.n)}else F.appendChild(this.E6.n);this.an=v.nX(this,this.body)}kz.prototype=new bc;
kz.prototype.gT=function(x,F){return x!=null};kz.prototype.ek=function(){return!0};kz.prototype.Us=function(x){return this.abh=="isize"?!1:[gp.tY,gp.Oe,gp.fH,gp.ZM].indexOf(x)!=-1};
kz.prototype.lH=function(x,F,W,n){if(n.S(gp.hI))this.Di();this.E6.alj(n.xa())};kz.prototype._=function(){bc.prototype._.call(this);
this.Hx._();this.yI._();this.N5._();this.E6._();this.an._()};kz.prototype.Di=function(x){var F=this.Hx.h(),W=F.x,n=F.y,L=new gT(S.E.BD,!0),$=this.Hx.gv.h();
if(this.abh=="csize"){if($){var l=this.Hx.GG,k=this.Hx.wc;W=k.x-l.x;n=k.y-l.y}L.data=O.f7.aDn(W,n,this.E6.h(),$)}else{var V=this.N5.h();
if(!this.yI.h())V=null;L.data=O.f7.a4U(W,n,this.Hx.bM(),V)}this.close();this.T(L)};kz.prototype.Lv=function(x,F){this.Hx.c(new eX(x.m,x.e),x.Bq);
this.Hx.D$();this.a7K.c(hz.get(this.$G)+": "+(x.m*x.e/1e6).toFixed(2)+" MPx")};kz.prototype.akM=function(x){var F=this.yI.h(),W=this.Hx,n=this.N5;
if(F)n.cy();else n.H8();W.a7I(F)};function gy(){bc.call(this,"Import RAW","importraw");var x=v.t("div","flexrow"),F=v.t("div");
F.setAttribute("style","margin-bottom: 1em");this.body.appendChild(x);this.body.appendChild(F);var W=v.t("div","form");
W.setAttribute("style","width:18em");x.appendChild(W);var n=v.t("div","form");n.setAttribute("style","width:15em");
x.appendChild(n);this.aU=null;this.CP=null;this.DB=null;this.YH=null;this.ayp=[];var L=[];for(var w=0;
w<gy.vK.length;w++)L.push(gy.vK[w]+" Bits");var $=this.gz=[new ht(!0,null,null,!0),new c_([12,72],1,8),new j2("Last one is Transparency"),new c7([12,34],L),new c7("Byte Order",["12-34","34-12"]),new hx("Guesses",[])];
for(var w=0;w<$.length;w++){var l=$[w];l.parent=this;l.k(S.E.A,w==5?this.atg:this.jx,this);var k=w==0?W:w==5?F:n;
k.appendChild(l.n)}this.Mt=v.t("canvas");this.yG=this.Mt.getContext("2d");this.body.appendChild(this.Mt);
this.an=v.nX(this,this.body)}gy.prototype=new bc;gy.prototype._=function(){bc.prototype._.call(this);
var x=this.gz;this.an._();for(var w=0;w<x.length;w++)x[w]._()};gy.prototype.Di=function(x){this.close();
var F=this.gz[0].h(),W=jW.WD(this.CP,[{data:this.DB,Sf:new eu(0,0,F.x,F.y)}]);if(this.YH)W.o2=this.YH;
var n=new gT(S.E.M,!0);n.data={d:!0?S.H.bt:S.H.eA,GE:W};this.T(n)};gy.vK=[8,16];gy.prototype.Lv=function(x,F){this.aU=new Uint8Array(F.Gy);
this.CP=F.GR;var W=this.aU.length,n=[1,3,4],L=0,$=0,l=1,k=1,V=this.ayp=[],i=Math.round(Math.sqrt(W)*2);
i=Math.max(i,4e3);for(var f=0;f<3;f++){for(var X=0;X<2;X++){var s=gy.vK[X],R=n[f],h=R*s,B=Math.round(W*8/h);
if(B!=W*8/h)continue;for(var e=0;e<=i;e++)for(var U=0;U<=i;U++)if(e*U==B){var o=0;if(e==U)o+=64;if(Math.round(e/100)==e/100&&Math.round(U/100)==U/100)o+=32;
if(Math.round(e/10)==e/10&&Math.round(U/10)==U/10)o+=16;if(Math.round(e/2)==e/2&&Math.round(U/2)==U/2)o+=8;
V.push([e,U,R,s,o])}}}var b=function(y,D){if(D[4]!=y[4])return D[4]-y[4];var N=Math.max(y[0],y[1])/Math.min(y[0],y[1]),j=Math.max(D[0],D[1])/Math.min(D[0],D[1]);
if(N!=j)return N-j;return D[0]-y[0]};V.sort(b);var u=this.gz,Z=[];for(var w=0;w<V.length;w++){var I=V[w];
Z.push(I[0]+" x "+I[1]+", "+I[2]+"ch, "+I[3]+"-bit")}u[5].A1(Z);u[5].c(0);this.atg(null)};gy.prototype.atg=function(x){var F=this.gz,W=this.ayp[this.gz[5].h()];
F[0].c(new eX(W[0],W[1]),72);F[1].c(W[2]);F[3].c(gy.vK.indexOf(W[3]));this.jx()};gy.prototype.jx=function(x){var F=this.gz,W=F[0].h(),n=W.x,L=W.y,$=gy.vK[F[3].h()],l=this.aU;
if($==16&&F[4].h()==1){l=l.slice(0);for(var w=0;w<l.length;w+=2){var k=l[w];l[w]=l[w+1];l[w+1]=k}}var V=this.DB=this.La(l,n,L,F[1].h(),$,F[2].h()),i=this.Mt,f=this.yG,X=[V,new eu(0,0,n,L)];
r.Bh(X);for(var w=0;w<X.length;w+=2)if(X[w+1].e<300){V=X[w];n=X[w+1].m;L=X[w+1].e;break}i.width=n;i.height=L;
v.H$(i,n,L);var s=new ImageData(new Uint8ClampedArray(V.buffer),n,L);f.putImageData(s,0,0)};gy.prototype.La=function(x,F,W,n,L,$){this.YH=null;
var l=[],k=F*W;for(var V=0;V<n;V++){var i=r.R(k);l.push(i);if(L==8)for(var w=0;w<k;w++)i[w]=x[w*n+V];
else if(L==16)for(var w=0;w<k;w++)i[w]=Math.round((x[(w*n+V)*2]<<8|x[(w*n+V)*2+1])*(255/65535))}var f=r.R(k*4);
new Uint32Array(f.buffer).fill(4278190080);if($){r.rW(l.pop(),f,3);n--}if(n==0){}else if(n==1)r.Mi(l[0],f);
else{r.rW(l[0],f,0);r.rW(l[1],f,1);if(n>2){r.rW(l[2],f,2);if(n>3){this.YH=[];for(var w=3;w<n;w++){var X=new t.gm;
X.name="Alpha "+(w-2);X.rect=new eu(0,0,F,W);X.channel=l[w];this.YH.push(X)}}}}return f};function cz(x,F,W){bS.call(this);
this.n=v.t("div","");this.Se=x;this.Z9=null;this.Nl=F==null?!1:F;this.Ue=null;this.WI=W;this.E9=[];this.ir=[];
this.Uh=[];this.aY=[];this.D5=0;this.Z9=this.aoX(cz.aY[x]);this.pk();this.OJ=null;this.adQ;this.ahM}cz.prototype=new bS;
cz.prototype.pI=function(x,F,W,n,L){this.OJ=L;this.adQ=JSON.parse(JSON.stringify(this.Ue));if(this.Z9.lagl)this.ahM=this.Z9.lagl.h()[0]};
cz.prototype.Lx=function(x,F,W,n,L){var $=this.OJ,l=this.Se,k=this.adQ;if($==null)return;var V=(L.x-$.x)/x.U.Q,i=(L.y-$.y)/x.U.Q;
if(l=="GrFl"){var f=JSON.parse(JSON.stringify(k.Ofst.v));f.Hrzn.v.val+=V*.5;f.Vrtc.v.val+=i*.5;this.Z9.Ofst.c(f,!0)}if(l=="patternFill"){var f=JSON.parse(JSON.stringify(k.phase.v));
f.Hrzn.v+=V;f.Vrtc.v+=i;this.Z9.phase.c(f,!0)}if(l=="DrSh"||l=="IrSh"||l=="ChFX"){var X=k.Dstn.v.val,s=this.ahM*Math.PI/180,R=-Math.cos(s)*X+V,h=Math.sin(s)*X+i;
this.Z9.Dstn.c(Math.sqrt(R*R+h*h),!0);this.Z9.lagl.c([Math.atan2(h,-R)*180/Math.PI],!0)}};cz.prototype.t8=function(x,F,W,n,L){this.OJ=null};
cz.prototype.akq=function(){for(var w=0;w<this.aY.length;w++){v.B$(this.aY[w],"selected");if(this.Uh[w]instanceof j2)this.Uh[w].c(!1)}};
cz.prototype.apc=function(x){var F=this.a4V.bind(this);for(var w=0;w<this.Uh.length;w++){var W=v.t("div","listitem");
this.aY.push(W);if(w>0)W.textContent="\u2003";W.appendChild(this.Uh[w].n);if(eC.aeM.indexOf(this.Se)!=-1){var n=new cX("+");
n.iA();n.n.style.float="right";W.appendChild(n.n);var L=new cX("\u2B0D");L.iA();L.n.style.float="right";
L.n.style["margin-right"]="2px";W.appendChild(L.n)}W.addEventListener("click",F,!1);x.appendChild(W)}};
cz.LY=function(x,F){var W=F.getBoundingClientRect();return(x.clientY-W.top)/W.height};cz.prototype.a4V=function(x){var F=x.target.tagName.toLowerCase();
if(F=="input"){return}if(F=="button"){var W=new gT(S.E.v,!0),n=x.target.textContent=="+",L=n?0:cz.LY(x,x.target)<.5?-1:1;
if(n)W.data={d:"st_dupsingle",a:this.parent.data.a,fe:this.WI};else W.data={d:"st_movsingle",a:this.parent.data.a,fe:this.WI,anL:L};
W.f=O.pj;W.Kh=!0;this.T(W);W=new gT("redrawall",!0);W.data={anL:L};this.T(W);return}v.Wa(x);this.ZK();
this.D5=this.aY.indexOf(x.currentTarget);this.T(new gT("showme"))};cz.prototype.ZK=function(){if(this.Z9.enab&&this.Z9.enab.h()==!1)this.Lg({oi:"enab",b:!0})};
cz.prototype.a0j=function(){var x=this.aY[this.D5];if(x)v.fX(x,"selected");return this.ir[this.D5]};
cz.prototype.aoX=function(x){var F={};for(var w=0;w<x.length;w++){var W=x[w],n=null;if(W=="----")n={n:v.t("hr")};
if(W=="\n")n={n:v.t("br")};if(W=="blOptions")n=new e8([14,10]);if(W=="brst")n=new gM([12,72],["R","G","B"]);
if(W=="knko")n=new hx("Knockout",[[13,1,0],"Shallow","Deep"]);if(W=="enab")n=new j2(eC.names[eC.order.indexOf(this.Se)]);
if(W=="lrMd"||W=="Md")n=new hx([12,19,0],a2.bb,a2.Jv);if(W=="Opct")n=new ec([12,0],0,100,"%");if(W=="iOpa")n=new ec([12,26],0,100,"%");
if(W=="blIf")n=new be;if(W=="ShdN")n=new ec([12,68],0,100,"%");var L=this.Se=="St3D"&&W=="lagl";if(W=="lagl"||W=="Angl")n=new bv(L?"Light":[12,15],this.Se=="ebbl"||L);
if(W=="uglg")n=new j2([12,27]);if(W=="Dstn")n=new ec([12,28],0,200,"px");if(W=="Ckmt")n=new ec([12,29],0,100,"%");
if(W=="Srnk")n=new ec("Shrink",0,100,"%");if(W=="Drkn")n=new ec("Darken",0,100,"%");if(W=="blur")n=new ec([12,14,0],0,200,"px");
if(W=="TrnS"||W=="MpgS")n=new kw([12,21]);if(W=="Nose")n=new ec([12,30],0,100,"%");if(W=="layerConceals")n=new j2([12,31]);
if(W=="Cntn")n=new j2([12,25,4]);if(W=="AntA"||W=="antialiasGloss")n=new j2([12,25,1]);if(W=="GlwT")n=new hx([12,32],eC.b8.names);
if(W=="glwS")n=new hx([12,70],eC.b8.aom);if(W=="Inpr")n=new ec([12,12],1,100,"%");if(W=="bvlS")n=new hx([12,22],eC.q3.style);
if(W=="bvlT")n=new hx([12,32],eC.q3.aAO);if(W=="bvlD")n=new hx(null,eC.q3.dir);if(W=="srgR")n=new ec([12,34],0,1e3,"%");
if(W=="Sftn")n=new ec([12,35],0,20,"px");if(W=="Lald")n=F.lagl;if(W=="hglM"||W=="sdwM")n=new hx([12,36],a2.bb,a2.Jv);
if(W=="hglC"||W=="sdwC")n=new d1;if(W=="hglO"||W=="sdwO")n=new ec([12,0],0,100,"%");if(W=="Invr"||W=="InvT")n=new j2([4,11]);
if(W=="overprint")n=new j2("Overprint");if(W=="Sz")n=new ec([12,14,0],1,200,"px");if(W=="Styl")n=new hx([12,40],eC.stroke.names);
if(W=="PntT")n=new hx([12,66],eC.stroke.ajl);if(W=="Clr")n=new d1(!0);if(W=="Grad"){n=new aJ(!0,[12,37],!0);
n.c(JSON.parse(eC.CC.aAM).v)}if(W=="Rvrs")n=new j2([12,23,0]);if(W=="Dthr")n=new j2([12,23,3]);if(W=="Type")n=new hx([12,22],eC.I.names.slice(0,this.Se=="FrFX"?6:5));
if(W=="Ptrn")n=new gK([12,62]);if(W=="Scl")n=new ec([12,38],5,500,"%",0,!0);if(W=="Algn")n=new j2([12,39]);
if(W=="Ofst")n=new cl(!0);if(W=="phase")n=new cl(!1);if(W=="useShape")n=new j2([12,21]);if(W=="useTexture")n=new j2([12,67]);
if(W=="textureDepth")n=new ec([12,34],-300,300,"%");var $=W=="----"||W=="\n"?W+w:W;if(n!=null)F[$]=n}return F};
cz.prototype.ap1=function(x){var F=this.ir[this.D5];for(var w=0;w<x.length;w++){var W=this.Z9[x[w]];
if(W&&F.contains(W.n))F.removeChild(W.n)}};cz.prototype.aqg=function(x){var F=this.ir[this.D5];for(var w=0;
w<x.length;w++){var W=this.Z9[x[w]];if(W&&!F.contains(W.n))F.appendChild(W.n)}};cz.prototype.AW=function(x,F){if(this.Z9==null)return;
var W=F==iC.tB;if(this.Z9.Grad){this.Z9.Grad.jP(x.A_,x.G8);if(W||F==iC.N1||F==iC.W$)this.Z9.Grad.KX(x.RP)}if(this.Z9.Ptrn){if(W||F==iC.K7)this.Z9.Ptrn.KX(x.Oz)}if(this.Z9.TrnS){if(W||F==iC.By)this.Z9.TrnS.KX(x.JP)}if(this.Z9.MpgS){if(W||F==iC.By)this.Z9.MpgS.KX(x.JP)}};
cz.prototype._=function(){for(var w=0;w<this.E9.length;w++)this.E9[w]._();for(var x in this.Z9)if(this.Z9[x]instanceof bS)this.Z9[x]._()};
cz.prototype.pk=function(){for(var x in this.Z9){var F=this.Z9[x];F.parent=this;if(F instanceof bS)F.k(S.E.A,this.azy,this);
if(this.ir.length==0||x=="useShape"||x=="useTexture"){var W=new e8(F.a5B()),n=v.t("div","bordered padded");
if(this.Nl==!1){n.appendChild(W.n);n.appendChild(v.t("hr",""))}this.E9.push(W);this.ir.push(n);this.Uh.push(F)}else this.ir[this.ir.length-1].appendChild(F.n)}};
cz.prototype.update=function(x,F){if(this.Z9==null)return;this.Ue=JSON.parse(JSON.stringify(F));for(var W in F){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(W)!=-1)this.Z9[W].c(F[W].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(W)!=-1){this.Z9[W].c(F[W].v,x)}if(["Md","hglM","sdwM"].indexOf(W)!=-1)this.Z9[W].c(a2.Se.indexOf(F[W].v.BlnM));
if(W=="lrMd"){var n=(F.vN?[[15,10,27]]:[]).concat(a2.bb),L=(F.vN?[1]:[]).concat(a2.Jv);this.Z9[W].A1(n,L);
this.Z9[W].c(F[W].v)}if(W=="Angl")this.Z9[W].c([F[W].v.val]);if(W=="lagl"){var $=F.uglg&&F.uglg.v?x.z8():F.lagl.v.val;
this.Z9[W].c([$])}if(W=="Lald"){var $=F.uglg&&F.uglg.v?x.l5():F.Lald.v.val;this.Z9[W].c([null,$])}if(W=="Type")this.Z9[W].c(eC.I.types.indexOf(F.Type.v.GrdT));
if(W=="Styl")this.Z9[W].c(eC.stroke.types.indexOf(F.Styl.v.FStl));if(W=="PntT"){var l=eC.stroke.n0.indexOf(F.PntT.v.FrFl);
this.Z9[W].c(l);if(!this.Nl){this.ap1(eC.eK.concat(eC.Qu.concat(eC.YZ)));this.aqg([eC.eK,eC.Qu,eC.YZ][l])}}if(W=="GlwT")this.Z9[W].c(eC.b8.types.indexOf(F.GlwT.v.BETE));
if(W=="glwS")this.Z9[W].c(eC.b8.an4.indexOf(F.glwS.v.IGSr));if(W=="bvlS")this.Z9[W].c(eC.q3.types.indexOf(F.bvlS.v.BESl));
if(W=="bvlT")this.Z9[W].c(eC.q3.atO.indexOf(F.bvlT.v.bvlT));if(W=="bvlD")this.Z9[W].c(["In","Out"].indexOf(F.bvlD.v.BESs))}};
cz.prototype.azy=function(x){for(var F in this.Z9){if(this.Z9[F]!=x.target)continue;var W=null,n=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(F)!=-1)W={type:"#Prc",val:x.target.h()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(F)!=-1)W={type:"#Pxl",val:x.target.h()};if(["Angl","lagl"].indexOf(F)!=-1)W={type:"#Ang",val:x.target.h()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(F)!=-1)W=x.target.h();
if(["Md","hglM","sdwM"].indexOf(F)!=-1)W={BlnM:a2.Se[x.target.h()]};if(F=="uglg"){W=x.target.h();n=!0}if(F=="PntT"){W={FrFl:eC.stroke.n0[x.target.h()]};
n=!0}if(F=="Lald")W={type:"#Ang",val:x.target.h()[1]};if(F=="Type")W={GrdT:eC.I.types[x.target.h()]};
if(F=="Styl")W={FStl:eC.stroke.types[x.target.h()]};if(F=="GlwT")W={BETE:eC.b8.types[x.target.h()]};
if(F=="glwS")W={IGSr:eC.b8.an4[x.target.h()]};if(F=="bvlS")W={BESl:eC.q3.types[x.target.h()]};if(F=="bvlT")W={bvlT:eC.q3.atO[x.target.h()]};
if(F=="bvlD")W={BESs:["In","Out"][x.target.h()]};this.Lg({oi:F,b:W});if(n){if(this.Nl)this.update(null,this.Ue);
else{var L=this.parent,$=L.GE,l=this.WI,k=$.B[L.data.a].add.lmfx[eC.UM[l[0]]].v[l[1]].v;this.update($,k)}}}};
cz.prototype.Lg=function(x){if(this.Ue&&this.Ue[x.oi])this.Ue[x.oi].v=x.b;if(this.Nl){this.T(new gT(S.E.A))}else{x.d="changeprop";
x.a=this.parent.data.a;x.Fp=this.WI;var F=new gT(S.E.v,!0);F.data=x;F.f=O.pj;F.Kh=!0;this.T(F);this.T(new gT("afterchange",!0))}};
cz.prototype.h=function(){return JSON.parse(JSON.stringify(this.Ue))};cz.aY={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(eC.eK),GrFl:["enab","Md","Opct"].concat(eC.Qu),patternFill:["enab","Md","Opct"].concat(eC.YZ),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(eC.eK.concat(eC.Qu.concat(eC.YZ)))};
function ds(){bc.call(this,[11,6],"layerstyle");this.aq6=-1;this.data={};this.GE=null;this.Mh=null;this.ES=[];
this.wV=[];v.fX(this.body,"flexrow");this.zx=v.t("div","bordered");this.zx.setAttribute("style","min-width:13em;");
this.body.appendChild(this.zx);this.l2=v.t("div","");this.l2.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.l2);this.rp=v.t("div","form");this.rp.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.rp);this.an=v.nX(this,this.rp);this.E2=new cX([12,87],!0,null,!0);this.E2.k("click",this.ayY,this);
this.rp.appendChild(this.E2.n);this.yF=new dS;this.yF.parent=this;this.yF.k(S.E.A,this.acp,this);this.rp.appendChild(this.yF.n);
this.k("closebtn",this.Mc,this);this.k("redrawall",this.a4H,this)}ds.prototype=new bc;ds.prototype.ek=function(){return!0};
ds.prototype.nw=function(){return!0};ds.prototype.pI=function(x,F,W,n,L){var $=this.Su();if($)$.pI(x,F,W,n,L)};
ds.prototype.Lx=function(x,F,W,n,L){var $=this.Su();if($)$.Lx(x,F,W,n,L)};ds.prototype.t8=function(x,F,W,n,L){var $=this.Su();
if($)$.t8(x,F,W,n,L)};ds.prototype.Su=function(x){if(x==null)x=this.data.index;return x==null?null:x==0?this.ES[0]:this.wV[x[0]][x[1]]};
ds.prototype.acp=function(x){var F=this.yF.h();this.Lg({d:"setstl",b:F.RB});this.a4H(null)};ds.prototype.ayY=function(x){var F=this.GE,W=this.data.a;
if(W==null)W=F.g[0];var n=this.GE.B[W],L=hM.a79(n),$=new gT(S.E.M,!0);$.data={d:S.H.DD,xE:"add",jL:iC.Oj,bL:[JSON.parse(JSON.stringify(L))]};
this.T($)};ds.prototype.aaQ=function(x){this.data.index=x.currentTarget.WI;this.Y8(x.currentTarget.WI)};
ds.prototype.a4H=function(x){this.Lv(this.GE,this.data)};ds.prototype.Y8=function(x,F){v.Ri(this.l2);
for(var w=0;w<this.ES.length;w++)this.ES[w].akq();var W=this.Su(x);this.l2.appendChild(W.a0j());if(F)W.ZK();
var n=this.GE;if(n){var L=n.B[this.data.a];this.ES[0].update(n,O.Ci.gU(n,L));var $=L.add.lmfx;if($==null)return;
for(var w=0;w<eC.order.length;w++){var l=$[eC.UM[w]].v;for(var k=0;k<l.length;k++)this.wV[w][k].update(n,l[k].v)}}if(F)W.ZK()};
ds.prototype._=function(){bc.prototype._.call(this);this.E2._();this.yF._();this.an._();for(var w=0;
w<this.ES.length;w++)this.ES[w]._()};ds.prototype.Lv=function(x,F){var W=F.a==null;this.data.a=F.a;this.data.index=F.index;
F=this.data;this.GE=x;if(W)F.a=x.g.length==0?x.B.length-1:x.g[0];v.Ri(this.zx);var n=x.B[F.a].add.lmfx;
this._q();this.ES=[new cz("bops",!1,0)];this.wV=[];for(var w=0;w<eC.order.length;w++){this.wV.push([]);
var L=n==null?[]:n[eC.UM[w]].v;for(var $=0;$<L.length;$++){var l=new cz(eC.order[w],!1,[w,$]);this.ES.push(l);
this.wV[w].push(l)}if(L.length==0){var l=new cz(eC.order[w],!1,[w,0]);this.ES.push(l);this.wV[w].push(l)}}this._();
this.aDY(this.Mh,iC.tB);for(var w=0;w<this.ES.length;w++){this.ES[w].parent=this;this.ES[w].apc(this.zx);
this.ES[w].k("showme",this.aaQ,this)}if(F.index==null||F.index==0||!W&&n[eC.UM[F.index[0]]].v.length==0){this.Y8(0)}else this.Y8(F.index,W);
this.k("afterchange",this._q,this)};ds.prototype._q=function(x){var F=this.GE,W=this.data.a;if(W==null)W=F.g[0];
var n=this.GE.B[W],L=hM.a79(n);this.yF.c(L,F.add.Patt?F.add.Patt:[],F.z8(),F.l5())};ds.prototype.AW=function(x,F){this.Mh=x;
this.aDY(x,F);if(F==iC.Oj||F==iC.tB){this.yF.KX([x.LX,x.Oz])}if(F==iC.iU){}};ds.prototype.aDY=function(x,F){for(var w=0;
w<this.ES.length;w++)this.ES[w].AW(x,F)};ds.prototype.Mc=function(x){this.Lg({d:"cancel"})};ds.prototype.Di=function(x){this.Lg({d:"confirm"});
this.close()};ds.prototype.Lg=function(x){x.a=this.data.a;var F=new gT(S.E.v,!0);F.data=x;F.f=O.pj;F.Kh=!0;
this.T(F);this._q()};ds.anS=function(){var x=function(F){if(F==null||F.g.length==0)return{w:!1};var W=F.B[F.g[0]];
return{w:W.add.lmfx!=null}};return{name:[11,6],sz:!0,sub:[{name:[5,1],w:x},{name:[5,2]},{name:[2,2],w:x}]}};
ds.awM=function(){return{sub:[{K:S.E.v,f:O.pj,C:{d:"st_copy"}},{K:S.E.v,f:O.pj,C:{d:"st_paste"}},{K:S.E.v,f:O.pj,C:{d:"st_clear"}}]}};
ds.Jw=function(x){var F=[{name:[14,10],sz:!0}];for(var w=0;w<eC.names.length;w++)F.push({name:eC.names[w]});
if(x){F[F.length-1].sz=!0;F.push(ds.anS());F.push({name:[6,30,1],w:function(W){return{w:W!=null&&W.g.length!=0&&W.B[W.g[0]].e6()}}});
F.push({name:["VAR0 VAR1",[12,49],[9,1]],w:function(W){return{w:W!=null&&W.g.length!=0&&W.B[W.g[0]].add.lmfx!=null}}})}return F};
ds.zc=function(x){var F=[{K:S.E.M,C:{d:S.H.Ar,ip:"layerstyle"}}];for(var w=0;w<eC.names.length;w++)F.push({K:S.E.M,C:{d:S.H.Ar,ip:"layerstyle",index:[w,0]}});
if(x){F.push(ds.awM());F.push({K:S.E.M,C:{d:S.H.Ar,ip:"scaleeffects",aG:100,MT:{K:S.E.v,f:O.pj,C:{d:"scaleeffects"}}}});
var W={classID:"Mk",null:ga.oY("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
F.push({K:S.E.BD,C:{Y3:"make",Xe:W}})}return F};ds.akj=function(x){var F=[];if(x)F.push({name:[6,48,0,0],PT:!0},{name:[6,48,0,1],PT:!0},{name:[6,48,0,2],PT:!0,sz:!0});
for(var W in a3.names)F.push({name:a3.names[W],sz:a3.avN.indexOf(W)!=-1,PT:bn[W]!=null});return F};ds.yn=function(x){var F=[];
if(x){F.push({K:S.E.v,f:O.gX,C:{d:"newfill",d$:0}});for(var w=1;w<3;w++)F.push({K:S.E.BD,C:O.bw.fg(w)})}for(var W in a3.names){var n=ew.Iz(W);
if(n==null)n={};for(var L in a3.I5)if(a3.I5[L]==W)n.classID=L;var $={Y3:"make",Xe:{classID:"Mk",null:ga.oY("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:n}}}}};
F.push({K:S.E.BD,C:$})}return F};function fl(){bc.call(this,"Merge Channels","mergechannels");this._Z=null;
var x=v.t("div","form");this.body.appendChild(x);this.gz=[];for(var w=0;w<3;w++){var F=new hx(a3.O0[w],[]);
this.gz.push(F);x.appendChild(F.n);v.kE(x)}this.an=v.nX(this,x)}fl.prototype=new bc;fl.prototype._=function(){bc.prototype._.call(this);
this.an._();for(var w=0;w<3;w++)this.gz[w]._()};fl.prototype.Lv=function(x,F,W,n){this._Z=W;var L=[];
for(var w=0;w<W.length;w++)L.push(W[w].name);for(var w=0;w<3;w++){var $=this.gz[w];$.A1(L);$.c(Math.min(w,W.length-1))}};
fl.prototype.Di=function(x){var F=this._Z,W=F[0],n=new gT(S.E.BD,!0);n.data=az.jU(W.m,W.e,W.Bq,"Merged Document","Wht",!1);
this.T(n);var L=[];for(var w=0;w<3;w++)L.push(F[this.gz[w].h()].Hi());var W=F[F.length-1],$=W.B[0],l=$.buffer;
for(var w=0;w<l.length;w+=4){l[w]=L[0][w];l[w+1]=L[1][w];l[w+2]=L[2][w]}$.W();W.W();this.close()};function iG(){bc.call(this,[1,10],"script");
var x=v.t("div","form");x.setAttribute("style","width:44em");this.body.appendChild(x);this.Mh=null;this.hD=[];
this.XN=[];this.aaz;var F=this.At=new cX([1,2],!1,null,!0);F.k("click",this.zM,this);x.appendChild(F.n);
var W=new cX("JS Reference",!1,null,!0);W.k("click",this.ae_,this);x.appendChild(W.n);x.appendChild(new e8("Demos:").n);
this.a8r=[];var n=iG.qW;for(var w=0;w<n.length;w++){var L=new cX(n[w].xd,!1,null,!0);this.a8r.push(L);
x.appendChild(L.n);L.k("click",this.afT,this)}this.fo=v.t("textarea");v.Fs(this.fo);this.fo.setAttribute("rows",16);
this.fo.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");x.appendChild(this.fo);
var $=new cX("Run",!0,null,!0);$.k("click",this.Di,this);x.appendChild($.n);this.Ex=v.t("div");x.appendChild(this.Ex)}iG.prototype=new bc;
iG.prototype._=function(){this.At._()};iG.prototype.zM=function(){var x=this.aaz;if(x==null)x="script.jsx";
var F=new gT(S.E.M,!0);F.data={d:S.H.Ar,ip:"namewindow",aG:x.slice(0,x.length-4),Fv:this.a5h.bind(this)};
this.T(F)};iG.prototype.a5h=function(x){var F=this.fo.value,W=_.Ug(F),n=new gT(S.E.M,!0);n.data={d:S.H.V0,Gy:W.buffer,pL:x+".jsx",alk:!0};
this.T(n)};iG.prototype.a5q=function(x){var w=this.hD.indexOf(x.target),F=this.aaz=this.XN[w],W=this.Mh.aF.iN[F],n=new Uint8Array(W),L=_.NM(n,0,n.length);
this.fo.value=L};iG.prototype.Lv=function(x,F,W){this.fo.value=iG.qW[0].n3;this.afi()};iG.prototype.afi=function(){var x=this.Mh.aF,F=this.Ex;
v.Ri(F);this.hD=[];this.XN=[];F.textContent="Saved scripts: ";for(var W in x.iN){if(W.endsWith(".jsx")){var n=new cX(W,!1,null,!0);
this.hD.push(n);this.XN.push(W);n.k("click",this.a5q,this);F.appendChild(n.n)}}};iG.prototype.AW=function(x,F){this.Mh=x;
if(F==iC.k0)this.afi()};iG.prototype.ae_=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.Ih,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.T(F)};iG.prototype.Di=function(x){var F=this.fo.value,W=this.Mh.aF.iN;F=iG.arn(F,W);var n=new gT(S.E.M,!0);
n.data={d:S.H.tN,TJ:F};this.T(n)};iG.arn=function(x,F){var W=x.split("\n");for(var w=0;w<W.length;w++){var n=W[w].trim();
if(n.startsWith("#include")){var L=n.slice(n.indexOf("\"")+1,n.lastIndexOf("\"")),$=F[L];if($==null)alert("\""+L+"\" not found in the Local Storage");
W[w]=iG.arn(_.NM(new Uint8Array($)),F)}}return W.join("\n")};iG.prototype.afT=function(x){var F=this.a8r.indexOf(x.currentTarget);
this.fo.value=iG.qW[F].n3};iG.qW=[{xd:"Hello",n3:"\nalert(\"Hello Photopea!\");\n"},{xd:"Process Layers",n3:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{xd:"Clone Layers",n3:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function cO(){bc.call(this,[11,7],"newproject");this.data=null;this._Z=null;this.mA=0;var x=v.t("div","flexrow");
this.JZ=x;this.body.appendChild(x);var F=v.t("div","form");this.tP=F;x.appendChild(F);this.Lj=new f8([12,48],null,10);
F.appendChild(this.Lj.n);v.kE(F);this.Hx=new ht(!0,null,null,null,!0);this.Hx.c(new eX(1280,720),72);
this.Hx.a7I(!0,!0);this.Hx.k(S.E.A,this.mE,this);F.appendChild(this.Hx.n);this.kw=new b9;this.kw.parent=this;
F.appendChild(this.kw.n);this.aM=new cX("\u02C5",null,[0,14],!0);this.aM.k("click",this.iO,this);F.appendChild(this.aM.n);
var W=this.O6=v.t("span");F.appendChild(W);W.style.display="none";this.a1g=new hx([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
W.appendChild(this.a1g.n);this.mC=new j2([1,16,1]);W.appendChild(this.mC.n);this.an=new cX([12,49],!0,null,!0);
this.an.k("click",this.Di,this);F.appendChild(this.an.n);var n=cO.aU,L=[];for(var w=0;w<n.length;w++)L.push(n[w].name);
this.BA=new c7(null,L);this.BA.k(S.E.A,this.ah8,this);F.appendChild(this.BA.n);this.BA.n.style["margin-top"]="1em";
this.LZ=new eP(!0);this.LZ.k(S.E.A,this.ape,this);F.appendChild(this.LZ.n);this.ah8();this.zv=new a1;
this.zv.parent=this;this.zv.n.setAttribute("style","margin-left:1em");this.zv.k("tempready",this.a4W,this)}cO.prototype=new bc;
cO.prototype.iO=function(x){var F=this.O6,W=F.style.display!="none";F.style.display=W?"none":"";this.aM.rT(W?"\u02C5":"\u02C4");
this.z4(this.Xv,this.eD)};cO.prototype.AW=function(x,F){this.zv.AW(x)};cO.prototype._$=function(x,F){return new eX(Math.max(0,Math.min(70,(x-690)/2)),x>F?Math.max(0,Math.min(50,(F-400)/2)):0)};
cO.prototype.z4=function(x,F){this.Xv=x;this.eD=F;this.tP.setAttribute("style","width:"+Math.min(x-24,338)+"px");
this.LZ.n.style.height=F-248-(this.O6.style.display=="none"?0:28)+"px";var W=this.zv.n,n=W.parentNode;
if(x<500){if(n!=null)this.JZ.removeChild(W)}else{if(n==null)this.JZ.appendChild(W);this.zv.z4(x-378,F-28)}};
cO.prototype.mE=function(){this.zv.c(this.Hx.h())};cO.prototype.ape=function(x){var F=this.LZ.h()[0],W=cO.aU[this.BA.h()].xB[F],n=W[4];
if(n==0)n=72;var L=W[1],$=W[2],l=["px","%","mm","in"].indexOf(W[3]),k=[1,1,25.4/n,1/n][l];L/=k;$/=k;
this.Hx.c(new eX(Math.round(L),Math.round($)),n);this.Hx.a83(l);this.mE();if(Date.now()-this.mA<300)this.Di();
this.mA=Date.now()};cO.prototype.ah8=function(x){var F=cO.aU[this.BA.h()].xB,W=[],n=[],L=Math.round(106*v.e1()),$=Math.round(106*v.e1()),l=0;
for(var w=0;w<F.length;w++)l=Math.max(l,F[w][1],F[w][2]);for(var w=0;w<F.length;w++){var k=F[w],V=k[1]+" x "+k[2]+" "+k[3];
if(k[3]=="in")V=(k[1]*25.4).toFixed(0)+" x "+(k[2]*25.4).toFixed(0)+" mm";if(k[3]=="mm")V=(k[1]/25.4).toFixed(1)+" x "+(k[2]/25.4).toFixed(1)+" in";
if(k[4])V=V+" @ "+k[4]+" ppi";n.push(V);W.push(cO.k7(k,L,$,l))}this.LZ.Yl(W,n,L,$)};cO.k7=function(x,F,W,n){var L=v.t("canvas",""),$=L.getContext("2d");
L.width=F;L.height=W;var l=Math.round(F/8),k=Math.floor(11*v.e1()),V=x[1],i=x[2];$.fillStyle="#000000";
$.font=Math.round(k*.9)+"px \"Open Sans\", Sans-Serif";var f=V+" x "+i+" "+x[3],X=$.measureText(f);$.fillText(f,Math.round((F-X.width)/2),W-Math.round(l/2));
if(x[0]!=null){$.font="bold "+k+"px \"Open Sans\", Sans-Serif";var f=x[0],X=$.measureText(f);$.fillText(f,Math.round((F-X.width)/2),W-Math.round(l/2)-Math.round(k*1.3))}W-=Math.round(2.5*k);
var s=Math.min((F-l)/V,(W-l)/i);s*=.5+.5*(Math.max(V,i)/n);var R=(F-V*s)/2,h=(W-i*s)/2;$.strokeRect(Math.round(R)+.5,Math.round(h)+.5,Math.round(V*s),Math.round(i*s));
return L.toDataURL()};cO.prototype._=function(){bc.prototype._.call(this);this.Hx._();this.Lj._();this.kw._();
this.an._();this.Lj.c(hz.get([11,7]));this.BA._();this.mC._();this.aM._();this.zv._()};cO.prototype.Di=function(x){var F=this.Hx.h(),W=F.x,n=F.y;
this.close();var L=this.kw.h(),$=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a1g.h()],l=new gT(S.E.BD,!0);
l.data=az.jU(W,n,this.Hx.bM(),this.Lj.h(),["Wht","Blck","Trns","Clr"][L[0]],this.mC.h(),L[1],$);this.T(l);
this.amM()};cO.prototype.a4W=function(x){var F=x.data.GE;F.Bq=this.Hx.bM();var W=new gT(S.E.M,!0);W.data={d:S.H.bt,GE:F};
this.T(W);this.close();this.amM()};cO.prototype.amM=function(){var x=this._Z[this._Z.length-1],F=this.data.acs;
if(F)fS.R4(function(){var W=new XMLHttpRequest,n="https://www.googleapis.com/drive/v3/files?"+fS.Qp();
W.open("POST",n,!0);W.setRequestHeader("Content-Type","application/json");W.addEventListener("load",function(L){var $=JSON.parse(L.target.response);
x.pb={file:$,cB:"psd"};alert(x.name+" created in Google Drive")});W.send(JSON.stringify({name:x.name,atT:[F]}))})};
cO.prototype.Lv=function(x,F,W,n){this._Z=W;if(x!=null&&x.u!=null){var L=new eu(0,0,x.m,x.e).jB(x.u.rect);
this.Hx.c(new eX(L.m,L.e))}this.data=F;this.mE();if(v.bT())jh.aBE(this.ZO.bind(this))};cO.prototype.ZO=function(x){if(x=="granted")jh.e8(this,this.d0.bind(this))};
cO.prototype.d0=function(x,F){this.Hx.c(new eX(F.m,F.e))};cO.aU=[{name:"Social",xB:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],xB:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],xB:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],xB:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],xB:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],xB:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",xB:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function as(x,F,W){bc.call(this,F,"sel_"+x);this.d=x;var n=v.t("div","form");this.body.appendChild(n);
this.Lj=new c_(F,0,255,null,0,!1,!0);n.appendChild(this.Lj.n);this.Lj.c(1);var L=v.t("span");L.textContent=W;
n.appendChild(L);v.kE(n);this.anN=new j2("Apply at canvas bounds");if(x!="border")n.appendChild(this.anN.n);
this.an=v.nX(this,n)}as.prototype=new bc;as.prototype.gT=function(x,F){if(x==null)return;if(x.u==null)alert("No selection!");
return x.u!=null};as.prototype.Di=function(x){var F=new gT(S.E.BD,!0);F.data=O.FA.px(this.d,this.Lj.h(),this.anN.h());
F.Kh=!0;this.T(F);this.close()};as.prototype._=function(){bc.prototype._.call(this);this.an._();if(this.Lj)this.Lj._()};
as.prototype.Lv=function(x,F){this.Lj.D$()};function hW(x,F,W,n,L,$){bc.call(this,W,F);this.anE=$;this.kk=L;
this.aU=null;this.tP=v.t("div","form");this.body.appendChild(this.tP);this.al2=v.t("div");this.tP.appendChild(this.al2);
var l=500;if(n){var k=n.split(",");n=k[0];if(k[1])l=parseFloat(k[1])}this.Lj=x==0?new f8(W,null,10):x==1?new ec(W,0,l,n,1):new f8(W,null,24,5);
this.Lj.k(S.E.A,this.BC,this);this.tP.appendChild(this.Lj.n);this.an=v.nX(this,this.tP);this.k("closebtn",this.Mc,this)}hW.prototype=new bc;
hW.prototype._$=function(x,F){return new eX(Math.max(0,Math.min(150,(x-250)/2)),Math.max(0,Math.min(150,(F-120)/2)))};
hW.prototype.ek=function(){return this.anE};hW.prototype.BC=function(x){var F=this.Lj.h();if(this.kk)this.yi(F)};
hW.prototype.Mc=function(x){if(this.kk)this.yi("cancel")};hW.prototype.Di=function(x){if(this.kk)this.yi("confirm");
else this.yi(this.Lj.h());this.close()};hW.prototype.yi=function(x){if(this.aU.Fv)this.aU.Fv(x);else if(this.aU.MT){var F=this.aU.MT,W=new gT(F.K,!0);
W.f=F.f;W.data=F.C;W.data.b=x;W.Kh=!0;this.T(W)}};hW.prototype._=function(){bc.prototype._.call(this);
this.an._();if(this.Lj)this.Lj._()};hW.prototype.Lv=function(x,F){this.aU=F;this.Lj.c(F.aG);this.Lj.D$();
this.al2.innerHTML=F.amb?F.amb:"";this.BC(null)};function ae(){bc.call(this,[1,5],"open_from_url");this.OL=null;
var x=v.t("div","form");this.body.appendChild(x);this.rd=new f8("URL",null,22);x.appendChild(this.rd.n);
v.kE(x);this.mL=new c7([21,0],[[21,2],[21,1]]);x.appendChild(this.mL.n);this.an=v.nX(this,x)}ae.prototype=new bc;
ae.prototype._=function(){bc.prototype._.call(this);this.an._();this.mL._()};ae.prototype.Lv=function(x,F,W){this.rd.D$();
this.OL=null;if(x&&W.indexOf(x)!=-1)this.OL=W.indexOf(x)};ae.prototype.Di=function(x){var F=new gT(S.E.M,!0),W=this.rd.h();
F.data={d:S.H.ij,jL:{url:W,EN:!0,OL:this.mL.h()==1?this.OL:null}};this.T(F);this.close()};function dB(){bc.call(this,[12,79],"preferences");
this.Mh=null;var x=v.t("div","form");this.body.appendChild(x);this.aY=[new j2([8,2]),new d1,new j2([8,4]),new d1,new hx([12,80,3],[[12,93,3],[12,80,4]]),new ec([12,80,5],.02,100,null,2),new hx(null,r.uX.k6),new hx([12,80,6],r.uX.k6),new j2("Remind me to save"),new j2("Glass Menus"),new ec("Cursor Offset",0,200)];
for(var w=0;w<this.aY.length;w++){var F=this.aY[w];F.parent=this;F.k(S.E.A,this.Q1,this);if(w==8)continue;
x.appendChild(F.n);if(w!=0&&w!=2&&w!=3&&w!=5)v.kE(x)}}dB.prototype=new bc;dB.prototype._=function(){bc.prototype._.call(this);
for(var w=0;w<this.aY.length;w++)this.aY[w]._()};dB.prototype.Lv=function(x,F,W){};dB.prototype.AW=function(x,F){this.Mh=x;
var W=x._X;this.aY[0].c(W.Ul);this.aY[1].KB(W.Zr);this.aY[2].c(W.xg);this.aY[3].KB(W.VW);this.aY[4].c(W.MX);
this.aY[5].c(W.hh);this.aY[6].c(W.wq);this.aY[7].c(W.$o);this.aY[8].c(x.LT==1);var n=window.locStor.getItem("__glm");
this.aY[9].c(n=="1");this.aY[10].c(x.nA)};dB.prototype.Q1=function(x){var F=this.aY;if(x.target==F[8])this.Mh.LT=1-this.Mh.LT;
var W=JSON.parse(JSON.stringify(this.Mh._X));W.Ul=F[0].h();W.Zr=F[1].Ec();W.xg=F[2].h();W.VW=F[3].Ec();
W.MX=F[4].h();W.hh=F[5].h();W.wq=F[6].h();W.$o=F[7].h();window.locStor.setItem("__glm",F[9].h()?"1":"0");
this.Mh.nA=F[10].h();var n=new gT(S.E.M,!0);n.data={d:S.H.DD,jL:iC.qt,k9:W};this.T(n)};function aK(){bc.call(this,[11,8],"saveforweb");
this.aoM="";this.k("closebtn",function(){this.do.Rx()},this);this.GE=null;this.Gu=null;this.ac2=null;
this.Mh=null;v.fX(this.body,"flexrow");this.body.style.padding="0";var x=v.t("div");x.setAttribute("style","position:relative;");
var F=v.t("div");this.body.appendChild(x);this.body.appendChild(F);this.Uv=v.t("div","imgcont");x.appendChild(this.Uv);
this.do=new dt;this.do.z4(512,512);var W=this.vU=v.t("video");W.setAttribute("controls","");W.setAttribute("preload","auto");
W.setAttribute("loop","");this.d1=v.t("div");this.d1.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
x.appendChild(this.d1);var n=this.tP=v.t("div","form cell");n.setAttribute("style","width:195px; padding:9px 13px;");
F.appendChild(n);this.gC=new f8([12,48],null,7.6);this.gC.yk();n.appendChild(this.gC.n);var L=jW.cs();
L[L.indexOf("WEBP")]="webP";this.Eb=new hx([12,50],L);this.Eb.n.style.marginRight="0";this.Eb.yk();n.appendChild(this.Eb.n);
this.Eb.k(S.E.A,this.tL,this);v.kE(n);this.Hx=new ht(!0,!0,!1,!0);this.Hx.yk();this.Hx.k(S.E.A,this.tL,this);
this.Hx.q2.n.style.paddingBottom="8px";n.appendChild(this.Hx.n);this.PK=new fr;this.PK.k(S.E.A,this.tL,this);
n.appendChild(this.PK.n);this.QD=new cX([1,2],!0,null,!0);this.QD.k("click",this.Di,this);n.appendChild(this.QD.n)}aK.prototype=new bc;
aK.prototype.gT=function(x,F){return x!=null};aK.prototype._=function(){bc.prototype._.call(this);this.Hx._();
this.gC._();this.Eb._();this.PK._();this.QD._()};aK.prototype.Di=function(x){var F=this.gC.h().trim(),W=jW.cs()[this.Eb.h()],n=W=="JPG"||W=="PNG"||W=="GIF"||W=="SVG",L=jW.w0(W),$="."+W.toLowerCase(),l=this.Gu,k=F+$,V=this.GE,i=V.EC,f=this.PK.h();
if(V.M9())f.pop();if(i.length!=0&&n&&f.pop()){var X="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",s=[],R={},h=new eu(0,0,V.m,V.e),B=V.Hi();
for(var w=0;w<i.length;w++)s.push(O.jH.xM(i,w));s.reverse();var e=r.rect.a9V([0,0,V.m,V.e],s);for(var w=0;
w<e.length;w++){var U=e[w],o=new eu(U[0],U[1],U[2]-U[0],U[3]-U[1]),b=U.length==5?i[U[4]].v:null,u=r.R(o.P()*4);
r.sh(B,h,u,o);var Z="img/img"+(w+1)+$;R[Z]=new Uint8Array(L.Rd([[u.buffer,0,V.Bq,V.dU]],o.m,o.e,f));
X+="<div style=\"background-image:url('"+Z+"'); left:"+o.x+"px; top:"+o.y+"px; width:"+o.m+"px; height:"+o.e+"px\">";
if(b&&b.url.v!="")X+="\n\t<a href=\""+b.url.v+"\" target=\""+b.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
X+="</div>\n"}X+="</body>\n</html>\n";var I=r.R(Math.round(X.length*1.5)),y=_.S1(X,I,0);R["index.html"]=I.slice(0,y);
l=UZIP.encode(R);k=F+".zip"}else if(V.add.artd&&V.add.artd.Cnt.v>1&&n&&f.pop()){var R={},h=new eu(0,0,V.m,V.e),B=V.Hi(),D=V.root.children;
for(var w=0;w<D.length;w++){var N=D[w].a,H;if(N.add.artb==null||!N.MG())continue;var j=N.U$();if(W=="SVG")H=new Uint8Array(L.Rd(V,j.m,j.e,f,this.Mh,w));
else{var Q=r.R(j.P()*4);r.sh(B,h,Q,j);H=new Uint8Array(L.Rd([[Q.buffer,0,V.Bq,V.dU]],j.m,j.e,f))}R[N.getName()+$]=H}l=UZIP.encode(R);
k=F+".zip"}var C=function(){if(V.q0)jh.j5("act=1&id="+V.q0);this.do.Rx();this.close();var E=new gT(S.E.M,!0);
E.data={d:S.H.Ps,data:l,name:k};this.T(E)}.bind(this);if(!this.Mh.Kx||ii.vR()){C();return}if(hQ.J_==0){hQ.CQ(C);
return}var J=hQ.Ny()!=0;C();var E=new gT(S.E.M,!0),T=c$.m6("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),c=c$.m6(";QJXQ_*II9"),a=function(){E.data={d:S.H.Ar,ip:"account"};
this.T(E)}.bind(this);if(J){T=c$.m6("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
a=function(){};c=null}E.data={d:S.H.Ar,ip:c$.MF,b:T,Fv:a,awo:c};if(Math.random()<.1||J)this.T(E)};aK.prototype.Lv=function(x,F){if(F.BW!=null)this.Eb.c(F.BW);
this.GE=x;var W=this.GE.name,n=W.lastIndexOf("."),W=n==-1?W:W.slice(0,n);this.gC.c(W);var L=x.m+","+x.e;
if(L!=this.aoM){this.aoM=L;this.Hx.c(new eX(x.m,x.e),x.Bq)}this.PK.apR();if(F.asf){this.Hx.a83(3);this.PK.T_.PDF[2].TZ.c(!0)}this.tL(null,!0)};
aK.prototype.arK=function(x,F){return x<F&&x<660};aK.prototype._$=function(x,F){return this.arK(x,F)?new eX(0,0):new eX(Math.max(0,Math.min(150,(x-770)/2)),Math.max(0,Math.min(150,(F-590)/2)))};
aK.prototype.z4=function(x,F,W){this.Xv=x;this.eD=F;if(this.GE==null)return;var n=this.QD.n,L=this.arK(x,F),$,l,s="<span style=\"width:",R="display:inline-block; text-align:right;\">";
if(L){var k=this.tP.getBoundingClientRect().height;$=x;l=F-Math.max(k,252);v.B$(this.body,"flexrow")}else{$=Math.min(512,x-195-2*13);
l=Math.min(512,F-24);v.fX(this.body,"flexrow")}var V=L?x-2*13:195;this.tP.style.width=V+"px";this.gC.lj.style.width=V-77+"px";
this.Hx.z4(V);var i=jW.cs()[this.Eb.h()],f=jW.w0(i);if(f.sG||f.MQ)this.Uv.firstChild.setAttribute("style","display:block; width:"+$+"px; height:"+l+"px;");
else{this.do.z4($,l);this.vU.width=$;this.vU.height=l}var X=this.Gu.byteLength,h=s+64+"px;"+R+aK.LS(X)+"</span>";
if($>400)h+=s+90+"px; opacity:"+.5+";"+R+X.toLocaleString()+" B</span>";this.d1.innerHTML=h;if(W)setTimeout(function(){this.z4(this.Xv,this.eD)}.bind(this),20)};
aK.LS=function(x){var F=x.toString(2),W=0;while(W+10<F.length)W+=10;var n=(x/Math.pow(2,W)).toFixed(1);
if(n.endsWith(".0"))n=n.slice(0,-2);var L="B KB MB GB TB PB".split(" ")[Math.floor(W/10)];return n+" "+L};
aK.prototype.AW=function(x,F){this.Mh=x};aK.prototype.tL=async function(x,F){var W=this.GE,n=this.Hx.h(),L=n.x,$=n.y,l=this.Eb.h(),k=jW.cs()[l],V=jW.G7(W)[0].length,i=["GIF","PNG","WEBP","MP4"].indexOf(k)!=-1&&V>1,U="";
if(i&&k!="MP4"&&F&&(V>4&&L*$>1024*1024||L*$*V>800*800*50)){var f=1;while(Math.max(L>>>f,$>>>f)>800)f++;
var X=window.confirm("Your animation is large ("+L+" x "+$+" px). Press \"OK\" to scale it to "+(100>>>f)+"%. Press \"Cancel\" to keep the size.");
if(X){this.Hx.c(new eX(L>>>f,$>>>f),null,!0);L=L>>>f;$=$>>>f}}var s=W.add.artd,R=s!=null&&s.Cnt.v>1,h=W.M9();
this.PK.lD(k,i,W.EC.length!=0,R,h!=null);var B=window.locStor.getItem("sfwPrms");if(B==null)B={};else{B=JSON.parse(B);
if(B.MP4&&B.MP4[0]==100)B.MP4[0]=50}var e=this.PK.h();if(x&&x.target==this.PK){B[k]=e;window.locStor.setItem("sfwPrms",JSON.stringify(B))}else if(B[k]){this.PK.c(B[k],!0);
e=this.PK.h()}this.Gu=await jW.Ko(W,k,L,$,e,this.Mh);if(this.Gu==null){this.GE=null;return}v.Ri(this.Uv);
this.do.Rx();var o=jW.w0(k);if(o.MQ){this.Uv.innerHTML="<div></div>"}else if(o.sG){var b=L,u=$,Z;if(k=="PDF"||k=="AI"){Z=URL.createObjectURL(new Blob([this.Gu],{type:"application/pdf"}))}else{Z=URL.createObjectURL(new Blob([this.Gu],{type:"image/svg+xml"}))}this.Uv.innerHTML="<iframe src=\""+Z+"\"></iframe>"}else if(k=="MP4"){var Z=URL.createObjectURL(new Blob([this.Gu]));
this.vU.setAttribute("src",Z);this.Uv.appendChild(this.vU)}else{var I=this.ac2=o.La(this.Gu),y=I[0],D=y.Sf,b=D.m,u=D.e;
if(y.q5){var N=ICC.R(y.q5.buffer),j=17,H=ICC.U.sampleLUT(N,j);for(var w=0;w<I.length;w++){var Q=new Uint8Array(I[w].data);
ICC.U.applyLUT(H,j,Q,Q)}}this.do.c(I,I.length>1?e[e.length-3]:0);this.Uv.appendChild(this.do.n);U="background: rgba(0,0,0,0);"}this.Uv.setAttribute("style","display:block; "+(o.MQ?"background:rgba(0,0,0,0);":"background-size:"+16/v.e1()+"px;")+U);
this.z4(this.Xv,this.eD,F)};function aq(){bc.call(this,[11,13],"shortcuts");this.Mh=null;var x=this.JZ=v.t("div","scrollable");
x.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(x);
this.qg()}aq.prototype=new bc;aq.prototype._=function(){bc.prototype._.call(this);this.qg()};aq.prototype.AW=function(x,F){this.Mh=x};
aq.prototype.Lv=function(x,F,W,n){if(v.Ww(this.n))this.qg()};aq.prototype.qg=function(){var x="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",F="",W=gp,n=W.Fr,L=W.ca,$=W.d8;
F+="<h2 style=\"margin-top:0;\">Main Menu</h2>";F+=x;F+=this.bH([[0,0],"---",[1,0],[n,W.VQ],[1,2],[n,W.nV],[1,3],[L,n,W.nV],[1,8],[$,L,n,W.nV],[0,1],"---",[2,0],[L,n,W.s8],[2,1],[n,W.s8],[5,0],[n,W.v0],[5,1],[n,W.PA],[5,2],[n,W.l8],[2,2],"Delete",[2,3],[$,W.F_],[10,16],[$,n,W.jT],[12,79],[n,W.xl],[3],"---",[4,1],[n,W.$_],[4,2],[n,W.ze],[4,5],[n,W.w_],[4,11],[n,W.HF],[0,3],"---",[6,13],[L,n,W.JQ],[6,49,0],[n,W.ry],[6,6,0],[$,n,W.mw],[6,9],[n,W.mw],[6,10],[n,W.E],[0,5],"---",[7,0],[n,W.H],[7,1],[n,W.ql],[7,2],[L,n,W.HF],[0,7],"---",[8,0],[n,W.Yu],[8,1],[n,W.VB],[8,3],[n,W.Kz],[8,2],[n,W.EK],[8,4],[n,W.BI],[11,13],"?"]);
F+="</div>";F+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";F+=x;F+=this.bH(["Vertical scroll","Wheel","Horizontal scroll",[n,"Wheel"],"Zooming",[$,"Wheel"]]);
F+="</div>";F+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
F+=x;F+=this.bH([[10,11],[n],[10,7],"Space",[10,17],[n,W.QM]]);F+="</div>";F+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
F+=x;var l=[],k=this.Mh;if(k==null)return;var V=k.s;for(var w=0;w<V.Tv.length;w++){var i=V.Tv[w],f=V.keys[w];
for(var X=0;X<i.length;X++)l.push(i[X].f.name,f?f.xd:null)}l=l.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[n,W.eM]]);
F+=this.bH(l);F+="</div>";this.JZ.innerHTML=F};aq.prototype.bH=function(x){var F="",W=!0;for(var w=0;
w<x.length;w+=2){var n=x[w],L=gp.xe(x[w+1]);if(L==null){W=!1;continue}var $=v.sf(hz.get(n));if(L=="---"){if(!W)F+="<br/>";
F+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+$+"</div>"}else F+="<div>"+$+" <span style=\"float:right; font-weight:bold;\">"+L+"</span> </div>";
W=!1}return F};function e9(){bc.call(this,[8,11,1],"soptions");this.wc=null;var x=v.t("div","form");
x.style.width="20em";this.body.appendChild(x);this.ZX={Nm:[12,48],url:"URL",null:[12,71]};this.aY={};
for(var F in this.ZX){var W=new f8(this.ZX[F],null,15);this.aY[F]=W;x.appendChild(W.n)}this.agf=new e8([12,14,0]);
x.appendChild(this.agf.n);this.if=new cW(0,!0);x.appendChild(this.if.n);this.an=v.nX(this,x)}e9.prototype=new bc;
e9.prototype.Lv=function(x,F,W){var n=F.b;this.wc=JSON.stringify(n);for(var L in this.ZX){if(n[L])this.aY[L].c(n[L].v)}var $=n.bounds.v,l=$.Left.v,k=$.Top.v;
this.if.c([l,k,$.Rght.v-l,$.Btom.v-k])};e9.prototype.Di=function(x){var F=JSON.parse(this.wc);for(var W in this.ZX){var n=this.aY[W].h();
F[W]={t:"TEXT",v:n}}var L=this.if.h();console.log(L);var $=F.bounds.v,l=L[0],k=L[1];$.Left.v=l;$.Top.v=k;
$.Rght.v=l+L[2];$.Btom.v=k+L[3];var V=new gT(S.E.v,!0);V.f=O.cY;V.data=F;V.Kh=!0;this.T(V);this.close()};
e9.prototype._=function(){bc.prototype._.call(this);this.an._();this.agf._();this.if._()};function fb(){bc.call(this,[2,3],"fill");
this.Mh=null;this.bn=null;var x=v.t("div","form padded");x.style.width="22em";this.body.appendChild(x);
this.wX="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.Mq=new hx([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.Mq.k(S.E.A,this.aue,this);x.appendChild(this.Mq.n);this.Uv=v.t("span");x.appendChild(this.Uv);this.hV=new d1;
this.hV.parent=this;this.hV.KB(0);this.r5=new gK;this.r5.parent=this;this.RL=new hx([12,19,0],a2.bb,a2.Jv);
x.appendChild(this.RL.n);this.xf=new ec([12,0],0,100,"%",0,!1);this.xf.c(100);x.appendChild(this.xf.n);
this.Pf=new j2([13,5]);this.Pf.c(!1);x.appendChild(this.Pf.n);this.an=v.nX(this,this.body)}fb.prototype=new bc;
fb.prototype.gT=function(x,F){return x!=null};fb.prototype.ek=function(){return!0};fb.prototype.aue=function(){var x=this.Mq.h(),F=this.hV.n,W=this.r5.n,n=this.Uv;
if(x==2)n.appendChild(F);else if(n.contains(F))n.removeChild(F);if(x==7)n.appendChild(W);else if(n.contains(W))n.removeChild(W)};
fb.prototype._=function(){bc.prototype._.call(this);this.Mq._();this.RL._();this.xf._();this.Pf._();
this.an._()};fb.prototype.Di=function(x){if(!this.bn.SP())return;var F=new gT(S.E.BD,!0),W=this.Mq.h();
F.data=O.P1.fg(this.wX[W],a2.BL[this.RL.h()],this.xf.h()/100,this.hV.h(),this.Pf.h(),this.r5.h());this.close();
this.T(F)};fb.prototype.Lv=function(x,F){this.bn=x};fb.prototype.AW=function(x,F){this.Mh=x;if(F==iC.tB||F==iC.K7){this.r5.KX(x.Oz);
this.r5.c({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function br(){bc.call(this,[14,9],"stroke");this.Mh=null;this.tP=v.t("div","form");this.tP.setAttribute("style","width:24em");
this.body.appendChild(this.tP);this.K2=new cz("FrFX",!0);this.K2.parent=this;var x=["Sz","Styl","Md","Opct"].concat(eC.eK);
for(var w=0;w<x.length;w++){var F=this.K2.Z9[x[w]].n;this.tP.appendChild(F)}this.ON=!1;this.an=v.nX(this,this.body)}br.prototype=new bc;
br.prototype.gT=function(x,F){return x!=null};br.prototype.ek=function(){return!0};br.prototype._=function(){bc.prototype._.call(this);
this.an._();this.K2._()};br.prototype.Di=function(x){var F=new gT(S.E.v,!0);F.f=O.xZ;F.data={d:"stroke",ah9:this.K2.h()};
this.close();this.T(F)};br.prototype.Lv=function(x,F){if(!this.ON){var W=eC.bc[eC.order.indexOf("FrFX")];
W=JSON.parse(W);this.K2.update(x,W);this.ON=!0}var W=this.K2.h(),n=this.Mh.A_;W.Clr.v=r.I.GB({o:n>>16&255,r:n>>8&255,z:n&255});
this.K2.update(x,W)};br.prototype.AW=function(x,F){this.Mh=x};function et(){bc.call(this,[11,9],"textwarp");
this.aY=new hH;this.aY.k(S.E.A,this.Hc,this);this.aY.parent=this;this.tP=v.t("div","form");this.tP.setAttribute("style","width:20em");
this.body.appendChild(this.tP);this.tP.appendChild(this.aY.PW.n);this.tP.appendChild(this.aY.lm.n);this.tP.appendChild(this.aY.Tx.n);
this.tP.appendChild(this.aY.L1.n);this.tP.appendChild(this.aY.FL.n);this.an=v.nX(this,this.tP);this.k("closebtn",this.Mc,this)}et.prototype=new bc;
et.prototype.ek=function(){return!0};et.prototype._=function(){bc.prototype._.call(this);this.an._();
this.aY._()};et.prototype.Hc=function(x){var F=this.aY.h();this.yi({d:"warp",xP:F})};et.prototype.yi=function(x){var F=new gT(S.E.v,!0);
F.f=O.w1;F.data=x;F.Kh=!0;this.T(F)};et.prototype.Mc=function(x){this.yi({d:"warpCancel"})};et.prototype.Di=function(x){this.yi({d:"warpConfirm"});
this.close()};et.prototype.Lv=function(x,F){var W=x.B[x.g[0]];this.aY.c(W.add.TySh.Zb)};function c1(){bc.call(this,[11,12,0],"trim");
var x=this.tP=v.t("div","form");this.tP.setAttribute("style","width:22em");this.body.appendChild(this.tP);
var F=new e8("Color To Trim:");x.appendChild(F.n);this.tq=new gM(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.tq.c([!0]);this.tP.appendChild(this.tq.n);var F=new e8("Sides:");x.appendChild(F.n);this.cz=new gM(null,["Top","Left","Bottom","Right"]);
this.cz.c([!0,!0,!0,!0]);this.tP.appendChild(this.cz.n);this.an=v.nX(this,this.body)}c1.prototype=new bc;
c1.prototype.gT=function(x,F){return x!=null};c1.prototype.ek=function(){return!0};c1.prototype._=function(){bc.prototype._.call(this);
this.tq._();this.cz._();this.an._()};c1.prototype.Di=function(x){var F=this.tq.h().indexOf(!0),W=this.cz.h(),n=new gT(S.E.BD,!0);
n.data=O.f7.nd(F,W);this.close();this.T(n)};function dh(){bc.call(this,"Raw Photopea","rawpea");this.DB=null;
this.vC=null;this.body.style.padding="0";var x=this.XS=new bn["Adobe Camera Raw Filter"](!0),F="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(x.n);this.an=new cX([1,0],!0,null,!0);this.an.k("click",this.Di,this);this.lv=new cX(F+" JPG",!0,null,!0);
this.lv.k("click",this.aw1,this);this.lv.n.style.marginTop="6px";x.dp(this.an.n);x.dp(this.lv.n)}dh.prototype=new bc;
dh.prototype._$=function(){return new eX(0,0)};dh.prototype.z4=function(x,F){this.XS.z4(x,F)};dh.prototype._=function(){bc.prototype._.call(this);
this.XS._()};dh.prototype.aw1=function(x){var F=this.DB,W=this.vC,n=jW.w0("JPG").Rd([[this.XS.h(!0).buffer]],W.mr,W.t9,[85]),L=new gT(S.E.M,!0);
L.data={d:S.H.Ps,data:n,name:"photo.jpg"};this.T(L)};dh.prototype.Di=function(x){var F=this.DB,W=this.vC,n=ks._W(F),F={Sf:new eu(0,0,W.mr,W.t9),data:this.XS.h(!0).buffer,dU:n},L=jW.WD("Raw Photo",[F]),$=new gT(S.E.M,!0);
$.data={d:S.H.bt,GE:L};this.T($);this.nR();this.close()};dh.prototype.nR=function(){this.DB=null;this.vC=null;
this.XS.auF()};dh.prototype.Lv=function(x,F,W,n){this.DB=F.vj;var L=this.vC=r.raw.a2f(this.DB),$=r.raw.aik(F.vj),l=iK.a4t($);
r.raw.Gi(L.Xu,L.Xu,F.vj,[l.Ej,l.n1]);var k=ew.Iz("Adobe Camera Raw Filter");this.XS.c(k,L.Xu,new eu(0,0,L.mr,L.t9))};
function jC(x){bc.call(this,x?[11,11,0]:[11,11,1],x?"vbitmap":"rcolors");this.aU=null;this.Cu=null;this.p8=null;
this.Gp=null;this.m5=null;this.az4=null;this.YR=null;this.gz="";this.Bv=x;this.fy=this.sr.bind(this);
this.ab=!1;this.body.style.padding="0";this.tP=v.t("div","form hbar padded");this.body.appendChild(this.tP);
var F=this.QA={cnum:new c_([12,82],2,50,null),nois:new j2([12,81]),mode:new hx(null,["Cartoon","Photo"]),segm:new j2("Segmentize"),cbok:new j2("Coloring book"),poly:new j2("Polygon"),merg:new j2("Merge colors"),polE:new c_("Roughness",2,30,null),dthr:new j2([12,23,3]),ok:v.nX(this,null,!1)},$=16;
for(var W in F){var n=F[W];n.parent=this;if(W!="ok")n.k(S.E.A,this.sr,this)}var L=this.M3=v.t("div","flexrow");
this.body.appendChild(L);L.setAttribute("style","background-color:var(--bg-canvas)");this.ao=new dt;
this.ao.k("viewchange",this.ms,this);this.E$=new dt;this.Mt=v.t("canvas");this.Mt.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.yG=this.Mt.getContext("2d");var l=r.R(16*16*4);r.aq(l,$,$,8);this.WJ=r.scale.dh(l,$,$);this.ao.alo(this.Mt);
this.ao.Yk(this.E$);this.E$.Yk(this.ao);L.appendChild(this.ao.n);if(x)L.appendChild(this.Mt);else L.appendChild(this.E$.n)}jC.prototype=new bc;
jC.prototype._$=function(){return new eX(0,0)};jC.prototype.ek=function(){return!0};jC.prototype.z4=function(x,F){this.Xv=x;
this.eD=F;F=F-44;if(x<600)F-=29;if(this.aU==null)return;var W=this.aU.Sf,n=ar.ajY(x,F,W.m,W.e);if(n==1)F-=3;
if(n==0){x=Math.floor(x/2);v.fX(this.M3,"flexrow")}else{F=Math.floor(F/2);v.B$(this.M3,"flexrow")}v.vI(this.Mt,x,F);
this.ao.z4(x,F);if(this.Bv)this.ms();else this.E$.z4(x,F)};jC.prototype.lH=function(x,F,W,n){this.ao.lH(n)};
jC.prototype._=function(){bc.prototype._.call(this);for(var x in this.QA)this.QA[x]._()};jC.prototype.Lv=function(x,F){this.YR=x;
this.m5=null;var W=x.B[x.g[0]],n=r.Cf.a9r(W.buffer.buffer,W.rect.m,W.rect.e).aee,L=n/((W.rect.m-2)*(W.rect.e-2)),$=this.QA;
$.cnum.c(20);$.nois.c(L<.75);$.mode.c(L<.75?1:0);$.segm.c(!1);$.cbok.c(!1);$.poly.c(!1);$.merg.c(!0);
$.polE.c(1);$.dthr.c(!1);var l=W.rect.clone();l.x=l.y=0;this.aU={Sf:l,data:W.buffer.buffer.slice(0)};
this.Cu=null;this.z4(this.Xv,this.eD);this.ao.c([this.aU]);this.ao.Ud();this.ab=!0;setTimeout(this.fy,20)};
jC.prototype.sr=function(){var x=!0,F=Date.now(),W=this.aU,n=this.QA,L=n.cnum.h(),$=n.nois.h(),l=n.mode.h(),k=n.segm.h(),V=n.cbok.h(),i=n.poly.h(),f=n.merg.h(),X=n.polE.h(),j=null;
if(l==0)k=i=V=!1;var s=n.dthr.h(),R=["cnum","nois","mode"];if(l==1){R.push("cbok");if(this.Bv){R.push("poly");
if(i)R.push("polE")}}if(this.Bv)R.push("merg");else R.push("dthr");R.push("ok");v.Ri(this.tP);for(var w=0;
w<R.length;w++)this.tP.appendChild(n[R[w]].n);if(x)console.log("---------------------------------------");
var h=$||k,B=$+","+k;if(h&&(this.Cu==null||this.gz!=B)){this.gz=B;var e=new Uint8Array(W.data),U=W.Sf.m,o=W.Sf.e;
if($){if(this.m5==null){this.m5=e.slice(0);r.R_.JV=35;r.R_.CY(this.m5,this.m5,U,o,15,1);if(x){console.log("denoise",Date.now()-F);
F=Date.now()}}e=this.m5.slice(0)}else e=e.slice(0);if(k){var b=r.Cf.bC(e,U,o,40,10),u=b.xl,Z=new Uint8Array(u*4);
for(var w=0;w<u;w++){var I=w*4,y=w*6,D=1/b.lU[y+5];Z[I]=b.lU[y]*D;Z[I+1]=b.lU[y+1]*D;Z[I+2]=b.lU[y+2]*D}for(var w=0;
w<e.length;w+=4){var N=b.m4[w>>>2]*4;e[w]=Z[N];e[w+1]=Z[N+1];e[w+2]=Z[N+2]}if(x){console.log("segm",Date.now()-F);
F=Date.now()}}this.Cu={Sf:W.Sf.clone(),data:e.buffer}}if(h)W=this.Cu;var e=new Uint8Array(W.data),U=W.Sf.m,o=W.Sf.e;
for(var w=0;w<e.length;w+=4){if(e[w+3]<10)e[w]=e[w+1]=e[w+2]=e[w+3]=0}if(l==0){j=r.Cf.amw(e,U,o,L,h?.1:2e-4);
if(x){console.log("quantize",Date.now()-F);F=Date.now()}}if(l!=0||j&&j.g5.length<2){j=kx.avo(e.buffer,L,U,o,null,V)}if(this.Bv){var H=j.m4.slice(0);
for(var w=0;w<H.length;w++)H[w]++;var Q=new Uint8Array((U+2)*(o+2));r.Hz(H,new eu(1,1,U,o),Q,new eu(0,0,U+2,o+2));
if(!i){var C=Math.round((U+2)*(o+2)/1e4),J=jX.Gl(Q.slice(0),U+2,o+2,Math.min(12,C)),E=jX.x8(J);if(x){console.log("trace smooth",Date.now()-F);
F=Date.now()}}else{var E=r.Z.aez(Q,U+2,o+2,X,x)}var T=E.length,c=new iJ(1,0,0,1,-1,-1);for(var w=0;w<T;
w++)r.Z.i(E[w].path.p,c,E[w].path.p);this.Gp=E;this.p8=j;for(var w=0;w<T;w++){var a=E[w];for(var K=w+1;
K<T;K++){var Y=E[K];if(Y.parent==w&&j.g5[Y.color-1].est.q[3]<.05){var p=Y.path.G.slice(1),P=p.pop();
if(P!="Z")p.push(P);p.reverse();p=["M"].concat(p);if(P=="Z")p.push("Z");var m=[],J=Y.path.p.length;for(var z=0;
z<J;z+=2){m[z]=Y.path.p[J-2-z];m[z+1]=Y.path.p[J-2-z+1]}r.Z.concat(a.path,{p:m,G:p})}}}if(x){console.log("finding holes",Date.now()-F);
F=Date.now()}for(var w=0;w<E.length;w++){var M=E[w];if(M.parent!=-1){var d=E[M.parent];M.parent=d;if(d.bD==null)d.bD=[];
d.bD.push(M)}M.depth=M.parent==-1?0:M.parent.depth+1}if(f){function A(g8,q){var e0={},cF=0,ei=0;for(var w=0;
w<g8.length;w++){var g=g8[w].color,z="c"+g;if(g==q)throw g;if(e0[z]==null)e0[z]=0;e0[z]++;if(e0[z]>cF){cF=e0[z];
ei=g}}return ei}var G=[],kB=[],q=-1,fO=!0;for(var w=0;w<E.length;w++)if(E[w].parent==-1)kB.push(E[w]);
while(kB.length!=0){var g=A(kB,q);q=g;for(var w=0;w<kB.length;w++)if(kB[w].color==g){var jN=kB[w];G.push(jN);
kB.splice(w,1);w--;if(jN.bD)for(var K=0;K<jN.bD.length;K++){kB.push(jN.bD[K]);if(jN.bD[K].color!=g)fO=!1}}}if(fO)E=G;
else{var c6=[];for(var a7=0;a7<500;a7++){var bd=[],J=c6[a7-1];c6.push(bd);for(var w=0;w<E.length;w++){var M=E[w],d=M.parent;
if(a7==0&&d==-1||a7!=0&&J.indexOf(d)!=-1){bd.push(M);E.splice(w,1);w--}}bd.sort(function(g8,e0){return g8.color-e0.color});
if(E.length==0)break}for(var w=0;w<c6.length;w++)E=E.concat(c6[w])}}else{var G=[],ey=[];while(E.length!=0){ey.push(E.shift());
while(ey.length!=0){var c5=ey.pop();G.push(c5);if(c5.bD)for(var w=0;w<c5.bD.length;w++){var M=c5.bD[w];
E.splice(E.indexOf(M),1);ey.push(M)}}}E=G}this.Gp=E;for(var w=0;w<E.length;w++){var a=E[w],bx=j.g5[a.color-1].est.q;
if(bx[3]<=.05){E.splice(w,1);w--;continue}}for(var w=1;w<E.length;w++){var ap=E[w-1],a=E[w];if(ap.color==a.color&&(f||ap.parent==a.parent&&ap.depth>=2)){r.Z.concat(ap.path,a.path);
E.splice(w,1);w--;continue}}if(x){console.log("reordering layers",Date.now()-F,T,E.length);F=Date.now()}this.ms()}else{var fC=new Uint32Array(U*o),kE=U*o,bm=this.az4=new Uint8Array(fC.buffer);
if(s){var fe=[];for(var w=0;w<j.g5.length;w++)fe.push(j.g5[w].est.rgba);var N=r.R(U*o);UPNG.encode.dither(new Uint8Array(W.data),U,o,fe,bm,N)}else{for(var w=0;
w<kE;w++){var g=j.g5[j.m4[w]];fC[w]=g.est.rgba}}this.E$.c([{Sf:W.Sf,data:fC.buffer}]);if(this.ab){this.E$.Ud();
this.ab=!1}}};jC.prototype.ms=function(x){if(this.Gp==null)return;var F=this.aU.Sf.m,W=this.aU.Sf.e,n=this.Gp,L=this.p8.g5,$=this.Mt,l=this.yG,k=this.ao.rR();
l.setTransform(1,0,0,1,0,0);l.clearRect(0,0,$.width,$.height);l.translate($.width/2,$.height/2);l.scale(k.Q,k.Q);
l.translate(k.J.x/k.Q-F/2,k.J.y/k.Q-W/2);l.scale(1/k.Q,1/k.Q);l.fillStyle=this.WJ;l.fillRect(0,0,F*k.Q,W*k.Q);
l.scale(k.Q,k.Q);var V=[];for(var w=0;w<L.length;w++){var i=L[w].est.q;V.push({o:Math.round(255*i[0]),r:Math.round(255*i[1]),z:Math.round(255*i[2]),V:Math.round(255*i[3])})}for(var w=0;
w<n.length;w++){var f=n[w],i=V[f.color-1];if(i.V==0)continue;l.fillStyle="rgba("+i.o+","+i.r+","+i.z+","+i.V/255+")";
l.beginPath();Typr.U.pathToContext({crds:f.path.p,cmds:f.path.G},l);l.fill()}};jC.prototype.Di=function(x){var F=this.YR,W=F.g[0],n=F.B[W],L=new gT(S.E.v,!0);
L.Kh=!0;L.f=O.c9;if(this.Bv){var $=this.Gp,l=$.length==1,k=F.B.slice(0,W);if(!l)k.push(F.Nz());for(var w=0;
w<$.length;w++){var V=$[w],i=this.p8.g5[V.color-1].est.q;r.Z.i(V.path.p,new iJ(1,0,0,1,n.rect.x,n.rect.y),V.path.p);
var X=F.dI();X.sc("Path "+w);k.push(X);X.opacity=Math.round(i[3]*255);X.xb|=16;X.add.SoCo={classID:"null",Clr:{t:"Objc",v:r.I.GB({o:255*i[0],r:255*i[1],z:255*i[2]})}};
X.add.vmsk=new t.C$;X.add.vstk=eC.pr.Iz(!0);X.add.vmsk.$=r.Z.zI(V.path,!1);X.add.vogk=[];X.oO();X.pZ(F)}var s=k[k.length-1];
if(!l){var X=F.dI();X.sc(n.getName());X.add.lsct=eD.en;X.q_="pass";X.xb=24;k.push(X);s=X}var R=n.add.lmfx;
if(R)s.add.lmfx=JSON.parse(JSON.stringify(R));for(var w=W+1;w<F.B.length;w++)k.push(F.B[w]);L.data={d:t.Br,bZ:k,U_:[W+$.length+(l?-1:1)],Sa:[11,11,0]}}else{var k=F.B.slice(0),X=F.dI();
X.sc(n.getName());k.splice(F.g[0]+1,0,X);X.rect=n.rect.clone();X.buffer=this.az4;X.W();L.data={d:t.Br,bZ:k,U_:[F.g[0]+1],Sa:[11,11,1]}}this.T(L);
this.close()};function ar(x){bc.call(this,[[7,11],[7,13]][x],["redge","magiccut"][x]);this.tq=x;this.aU={};
this.g9=null;this.gr=null;this.YR=null;this.ZT=null;this.Uk=null;this.body.style.padding="0";this.TD=[];
this.AV=-1;this.tP=v.t("div","form hbar padded");this.body.appendChild(this.tP);this.rq=new hK;this.rq.parent=this;
this.rq.k(S.E.A,this.ee,this);this.tP.appendChild(this.rq.n);var F=x==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
F=F.concat("tools/hand","zoomIn","zoomOut");var W=x==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Hj=new bC(null,F,W,28);this.Hj.k(S.E.A,this.lH,this);this.tP.appendChild(this.Hj.n);this.zH=new c_([7,9],0,50,null);
this.zH.parent=this;this.zH.k(S.E.A,[this.acy,this.sr][x],this);this.tP.appendChild(this.zH.n);var n=this.aAd=new cX([2,2],!1,null,!0);
n.k("click",this.nR,this);this.tP.appendChild(n.n);var L=this.Mo=v.t("span","form");this.tP.appendChild(L);
var $=this.aps=new cX([12,90],!1,null,!0);$.k("click",function(V){alert(x==0?hz.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
L.appendChild($.n);var l=new cX("Tutorial",!1,null,!0);l.k("click",this.aC6,this);L.appendChild(l.n);
this.Rw=new bC([12,46],["checker","#ffffff","#000000"]);this.Rw.k(S.E.A,this.arj,this);L.appendChild(this.Rw.n);
this.D1=new hx(null,[[6,13],[6,2],[17,2]]);L.appendChild(this.D1.n);this.an=v.nX(this,L,!1);var k=this.M3=v.t("div","flexrow");
this.body.appendChild(k);this.oQ=new dt(!0);this.dA=new dt;this.oQ.Yk(this.dA);this.dA.Yk(this.oQ);this.oQ.k("mousedown",this.uT,this);
this.oQ.k("mousemove",this.Fj,this);this.oQ.k("mouseup",this.ji,this);this.oQ.k("zoom",this.ee,this);
this.dA.k("zoom",this.ee,this);k.appendChild(this.oQ.n);k.appendChild(this.dA.n)}ar.prototype=new bc;
ar.prototype.gT=function(x,F){var W=x!=null&&!x.B[x.g[0]].rect.ak();if(!W)alert("The layer is empty.");
return W};ar.prototype._$=function(){return new eX(0,0)};ar.prototype.ek=function(){return!0};ar.prototype.z4=function(x,F){this.Xv=x;
this.eD=F;F=F-12-33;if(x<900){this.Mo.setAttribute("style","display:block;  text-align:right;");F-=29}else{this.Mo.setAttribute("style","position:absolute;  right:0px")}this.Rw.rT(x<440?null:[12,46]);
this.zH.rT(x<470?null:[7,9]);var W=this.aU.rect;if(W){var n=ar.ajY(x,F,W.m,W.e);if(n==0){x=Math.floor(x/2);
v.fX(this.M3,"flexrow")}else{F=Math.floor(F/2);v.B$(this.M3,"flexrow")}this.oQ.z4(x,F);this.dA.z4(x,F)}};
ar.ajY=function(x,F,W,n){var L=x/2,$=F/2,l=Math.min(L/W,F/n),k=Math.min(x/W,$/n);return l>k?0:1};ar.prototype._=function(){bc.prototype._.call(this);
this.rq._();this.zH._();this.an._();this.Rw._();this.D1._();this.aAd._();this.aps._()};ar.prototype.aC6=function(x){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.tq],"_blank")};
ar.prototype.AW=function(x,F){this.gr=x;if(F==iC.s3||F==iC.tB){this.rq.KX(x.rj);this.rq.c(jq.zu(),x.rj.kF,x.rj.r5)}};
ar.prototype.lH=function(x,F,W,n){var L=this.Hj.h();if(n==null){this.oQ.lH(dt.cZ(L-3));return}this.ZT=n;
var $=O.P1.gG(this.rq.h(),n);if($!=null){this.rq.c($);this.ee()}else if(n.S(gp.Fr)&&n.S(gp.s8)){var l=this.TD,k=0;
if(n.S(gp.ca)){if(this.AV+1<l.length)k=1}else if(this.AV>0)k=-1;if(k!=0){this.AV+=k;var V=this.AV,i=this.aU;
if(k==1)r.sh(l[V][2],l[V][0],i.wh,i.rect);else r.sh(l[V+1][1],l[V+1][0],i.wh,i.rect);i.oB=i.rect;this.sr()}}else if(L<3)this.oQ.lH(n)};
ar.prototype.Zk=function(x){var F=this.aU,W=this.TD,n=r.R(x.P()*4);r.sh(F.u1,F.rect,n,x);F.u1=null;var L=r.R(x.P()*4);
r.sh(F.wh,F.rect,L,x);this.AV++;W[this.AV]=[x.clone(),n,L];while(W.length>this.AV+1)W.pop();while(W.length>50){W=W.slice(1);
this.AV--}};ar.prototype.ee=function(){var x=this.gr,F=dp.OF(this.rq.h(),x.rj.kF,this.oQ.rR().Q);this.oQ.r0(F)};
ar.prototype.uT=function(x){var F=this.gr,W=this.aU,n=this.ZT,L=this.rq.h(),$=this.oQ.Ib(),l=[16777215,8421504,0][this.Hj.h()];
this.g9=new dp(L,F.rj.kF,F.rj.r5,{BE:1,hW:!0},l,F.G8,W.rect);W.u1=W.wh.slice(0);if(n!=null&&n.S(gp.ca)&&this.Uk){this.g9.moveTo(this.Uk.x,this.Uk.y);
this.g9.lineTo($.x,$.y)}else this.g9.moveTo($.x,$.y);this.adN()};ar.prototype.Fj=function(x){var F=this.aU,W=this.oQ.Ib();
this.g9.lineTo(W.x,W.y);this.adN()};ar.prototype.ji=function(x){this.Uk=this.oQ.Ib();this.Zk(this.g9.FV());
this.sr()};ar.prototype.adN=function(){var x=this.aU,F=this.g9,W=F.Kf();if(W.ak())return;x.oB=W;r.l.X3("norm",F.Eo(),F.oU(),x.wh,x.rect,W,1);
this.a2X()};ar.prototype.nR=function(x){var F=this.aU;F.u1=F.wh.slice(0);F.oB=F.rect;r.De(F.wh,[4278190080,4292730333][this.tq]);
this.Zk(F.rect);this.sr()};ar.prototype.Lv=function(x,F){this.YR=x;var W=x.B[x.g[0]],n=W.rect.clone(),L=n.m,$=n.e,V;
this.zH.c(this.tq==0?3:L*$<3e6?3:0);this.Hj.c(x.u==null?0:1);this.zH.H8();if(this.tq==0&&x.u!=null||this.tq==1)this.zH.cy();
var l=this.tq,k=r.R(n.P());if(l==0&&x.u){r.Hz(x.u.channel,x.u.rect,k,n);var i=r.R(n.P());for(var f=0;
f<$;f++)for(var X=0;X<L;X++){var w=f*L+X,s=k[w];if(X>0&&k[w-1]!=s||X<L-1&&k[w+1]!=s||f>0&&k[w-L]!=s||f<$-1&&k[w+L]!=s)i[w]=255}V=r.style.ld(i,V,L,$)}else{V=new Float32Array(n.P());
V.fill(1e9)}n.x=n.y=0;this.aU={rect:n,Xu:W.buffer,WZ:k,Pt:V,KW:r.R(n.P()*4),od:r.R(n.P()*4),wh:r.R(n.P()*4),u1:null,P4:null,oB:n,a65:{}};
if(l==0)this.acy();else{this.aU.a65=O.kW.ann(x);var R=this.aU.wh;r.De(R,4287137928);var h=r.j1.getSelection(W.buffer,L,$),B=Math.round(L/60),e=Math.round(.7*$);
for(var f=0;f<$;f++)for(var X=0;X<L;X++){var U=(f*L+X)*4,o=h[U>>>2];o=o>128?255:128;if(f<B||f<e&&(X<B||X>L-1-B))o=0;
R[U]=R[U+1]=R[U+2]=o}this.sr()}this.TD=[1];this.AV=0;var b=this.rq.h();b.Brsh.v.Dmtr.v.val=Math.round(n.m/(l==0?10:20));
this.rq.c(b);this.ee();this.z4(this.Xv,this.eD);this.oQ.Ud()};ar.prototype.acy=function(){var x=this.aU,F=x.rect.P(),W=this.zH.h(),n=x.WZ.slice(0);
for(var w=0;w<F;w++)if(x.Pt[w]<W)n[w]=128;r.De(x.wh,4294967295);r.rW(n,x.wh,0);r.rW(n,x.wh,1);r.rW(n,x.wh,2);
x.oB=x.rect;this.sr()};ar.prototype.sr=function(){var x=this.aU,L,k,V=0,i=0,f=0;this.a2X();var F=x.rect,W=F.m,n=F.e,$=r.R(F.P()),l=x.Xu;
r.Tb(x.wh,$,0);for(var w=0;w<$.length;w++){if(l[(w<<2)+3]!=255)continue;var X=$[w];if(X==0)V++;else if(X==255)i++;
else f++}if(V*i*f!=0){if(this.tq==0)k=r.X$.X$(F,l,$);else{var s=this.Hj.h();for(var R=1;R<n;R++)for(var h=1;
h<W;h++){var w=R*W+h,B=$[w],e=$[w-1];if(B==0&&e==255||B==255&&e==0){L="The Red and Green should never touch! Erase it with Grey.";
break}}var U=Date.now(),o=this.aU.a65;r.Bj($,o.sg);O.kW.UN(o,!0,this.YR);var b=Math.ceil(this.zH.h()/2);
if(b==0){k=l.slice(0);r.rW(o.u,k,3)}else{var u=o.u.slice(0),Z=o.u.slice(0);for(var I=0;I<b;I++){for(var R=1;
R<n-1;R++)for(var h=1;h<W-1;h++){var w=R*F.m+h,y=u[w];if(u[w-W]!=y||u[w-1]!=y||u[w+1]!=y||u[w+W]!=y)Z[w]=128;
else Z[w]=y}var D=u;u=Z;Z=D}for(var R=0;R<n;R++)for(var h=0;h<W;h++){var w=R*W+h;if($[w]==0||$[w]==255)u[w]=$[w]}k=r.X$.X$(F,l,u,20,!1)}}}else{k=l.slice(0);
r.rW($,k,3)}for(var w=3;w<k.length;w+=4)if(k[w]>l[w])k[w]=l[w];if(F.rr(x.rect))x.P4=k;else r.sh(k,F,x.P4,x.rect);
this.arj();if(L)alert(L,4e3)};ar.prototype.a2X=function(x){var F=this.aU,W=F.oB;r.sh(F.Xu,F.rect,F.KW,F.rect,W,!0);
var n=F.wh,L=F.rect,$=Date.now();if(this.tq==1){var l=new Uint32Array(256);l[0]=4278190335;l[255]=4278255360;
var k=r.R(W.P()*4),V=W.P();r.sh(n,L,k,W);n=k;L=W;var i=new Uint32Array(n.buffer);for(var w=0;w<V;w++)i[w]=l[i[w]&255]}console.log(Date.now()-$);
r.l.X3("norm",n,L,F.KW,F.rect,W,.3);this.oQ.c([{Sf:F.rect,data:F.KW.buffer}],null,null,W)};ar.prototype.arj=function(x){var F=this.aU;
r.De(F.od,[0,4294967295,4278190080][this.Rw.h()]);r.l.X3("norm",F.P4,F.rect,F.od,F.rect,F.rect,1);this.dA.c([{Sf:F.rect,data:F.od.buffer}])};
ar.prototype.Di=function(x){var F=this.YR,W=this.aU,n=this.D1.h(),L=F.B[F.g[0]],$=new gT(S.E.v,!0);$.Kh=!0;
var l=L.rect.clone();if(n==0&&L.MG()||n!=0&&!L.MG()){$.f=O.c9;$.data={d:t._k,a:F.g[0]};this.T($)}if(F.u!=null){$.f=O.Yg;
$.data={d:"fromAction",$V:O.FA.YT()};this.T($)}if(n==0){var k=F.B.slice(0),V=F.dI();V.sc(L.getName());
k.splice(F.g[0]+1,0,V);V.rect=l;V.buffer=W.P4;V.W();$.f=O.c9;$.data={d:t.Br,bZ:k,U_:[F.g[0]+1],Sa:[7,11]};
this.T($)}if(n==1){var i=L.GH();$.f=O.c9;$.data={d:t.Tc,arP:!0};this.T($);var X=L.GH();X.channel=r.R(l.P());
X.rect=l;X.color=0;X.DQ=!0;r.Tb(W.P4,X.channel,3);if(i){var s=X.pY(i);X.rect=s.rect;X.channel=s.channel;
X.color=s.color}X.iv();L.pZ()}if(n==2){var R={rect:l,channel:r.R(l.P())};r.Tb(W.P4,R.channel,3);$.f=O.Yg;
$.data={d:"setsel",u:R,Sa:this.$G};this.T($)}this.close()};function aF(){bc.call(this,[1,13],"locstor");
this.Mh=null;this.PS=[];var x=this.body,F=v.t("p");F.textContent="These files are loaded every time you start Photopea.";
x.appendChild(F);this.avi=0;this.I3=v.t("span");x.appendChild(this.I3);this.I3.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var W=v.t("span","form");x.appendChild(W);this.z1=new cX([5,4],!1,null,!0);this.z1.k("click",this.qz,this);
W.appendChild(this.z1.n);this.Ji=new cX("Get all as ZIP",!1,null,!0);this.Ji.k("click",this.zM,this);
W.appendChild(this.Ji.n);this.Zh=new eP(!0);this.Zh.parent=this;this.Zh.fT(1);x.appendChild(this.Zh.n);
this.Zh.n.setAttribute("style","width: 40em; height: 25em")}aF.prototype=new bc;aF.prototype._=function(){bc.prototype._.call(this);
this.I3.textContent=hz.get([13,2])+": "+aK.LS(this.avi);this.z1._()};aF.prototype.AW=function(x,F){this.Mh=x;
if(F==iC.k0)this.Lv()};aF.prototype.Lv=function(x,F){var W=this.Mh.aF.iN,V=0;this.PS=[];for(var n in W)this.PS.push(n);
this.PS.sort(function(f,X){f=f.split(".");X=X.split(".");return f[1]==X[1]?f[0]<X[0]?-1:1:f[1]<X[1]?-1:1});
var L=Math.floor(100*v.e1()),$=Math.floor(16*v.e1()),l=[],k=[];for(var w=0;w<this.PS.length;w++){var n=this.PS[w],i=aF.k7(n,W[n],L,$);
l.push(i);k.push(n);V+=W[n].byteLength}this.Zh.Yl(l,k,L,$);this.avi=V;this._()};aF.prototype.qz=function(x){var F=this.Zh.h();
if(F.length==0){alert("Select a file first.");return}this.Zh.c([]);var W=this.Mh.aF.iN;for(var w=0;w<F.length;
w++)delete W[this.PS[F[w]]];var n=new gT(S.E.M,!0);n.data={d:S.H.DD,jL:iC.k0};this.T(n)};aF.prototype.zM=function(x){var F=this.Mh.aF.iN,W={};
for(var n in F)W[n]=new Uint8Array(F[n]);var L=UZIP.encode(W);jh.save(L,"resources.zip")};aF.k7=function(x,F,W,n){var L=v.t("canvas"),k=0;
L.width=W;L.height=n;var $=L.getContext("2d"),l=x.split(".").pop().toLowerCase();for(var w=0;w<l.length;
w++)k+=l.charCodeAt(w)*613<<8*w;$.fillStyle="#"+r.mZ(k&16777215);$.fillRect(0,0,20,n);var V=Math.floor(14*v.e1());
$.fillStyle="#000000";$.font="bold "+V+"px sans-serif";var i=(n-V)/2,f=aK.LS(F.byteLength),X=$.measureText(f);
$.fillText(f,W-12-X.width,n-i);return L.toDataURL()};function b1(){bc.call(this,[1,15],"pmanager");this.Mh=null;
this.dQ=new hx([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.dQ.k(S.E.A,this.Lv,this);
this.body.appendChild(this.dQ.n);var x=v.t("div","flexrow");this.body.appendChild(x);var F=this.arf=v.t("div");
x.appendChild(F);var W=v.t("div","form");x.appendChild(W);W.setAttribute("style","width:140px; margin-left:12px");
this.ajj=[iC.s3,iC.W$,iC.K7,iC.Oj,iC.iU,iC.By];this.hD=[new hK,new aJ,new gK,new dS,new hY,new kw];for(var w=0;
w<this.hD.length;w++)this.hD[w].parent=this;this.gF=[];for(var w=0;w<4;w++){var n=new cX("Hello",!0,null,!0);
n.k("click",this.sy,this);this.gF.push(n);W.appendChild(n.n)}this.Lv()}b1.prototype=new bc;b1.prototype.Us=function(x){return x==gp.bl||x==gp.F_};
b1.prototype.sy=function(x){var w=this.gF.indexOf(x.target);this.hD[this.dQ.h()].LB(w)};b1.prototype._=function(){bc.prototype._.call(this);
this.dQ._();for(var w=0;w<this.hD.length;w++)this.hD[w]._();var x=this.gF,F=this.dQ.h(),W=iC.uH[this.ajj[F]],n=W[0].toUpperCase();
x[0].rT([[23,6],"."+n]);x[1].rT(["VAR0 ."+n,[1,8]]);x[2].rT([6,37]);x[3].rT([5,4])};b1.prototype.AW=function(x,F){this.Mh=x;
this.Lv()};b1.prototype.Lv=function(x,F){if(!v.Ww(this.n))return;this._();v.Ri(this.arf);this.arf.appendChild(this.hD[this.dQ.h()].pT);
var W=this.hD,n=this.Mh;if(n==null)return;W[0].KX(n.rj);W[1].jP(n.A_,n.G8);W[1].KX(n.RP);W[2].KX(n.Oz);
W[3].KX([n.LX,n.Oz]);W[4].KX(n.hx);W[5].KX(n.JP)};function i0(x,F,W){bc.call(this,F,"cwindow");this.adj=new eX(W[0],W[1]-33);
this.tP=v.t("div","form");this.tP.setAttribute("style","width:"+(W[2]-W[0])+"px; height:"+(W[3]-W[1])+"px");
this.body.appendChild(this.tP)}i0.prototype=new bc;i0.prototype._$=function(x,F){return this.adj.clone()};
function kq(x){var F=kq.a5C(x);bc.call(this,F,"res"+x);var W=this.aqC.bind(this);window.addEventListener("message",function(L){if(typeof L.data=="string"&&L.data.startsWith("--et ")){console.log(L.data);
var $=this.a1d=L.data.slice(5).split(",");$[0]=parseFloat($[0]);ii.CS($[0],$[1],W)}}.bind(this));this.gC=F;
this.pq=x;this.a9e=null;this.lx=null;this.b_=0;this.I4=null;this.Nd=null;this.a1d=null;this.Mh=null;
this.body.setAttribute("style","padding:0");this.MW=new cX("",null,null,!0);this.body.appendChild(this.MW.n);
this.MW.k("click",this.Xx,this);this.MW.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.AG=new cX("\u25BC",null,null,!0);this.AG.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.AG.k("click",this.avD,this);this.body.appendChild(this.AG.n);this.Sn=v.t("span","form");this.body.appendChild(this.Sn);
this.gF=[];for(var w=0;w<9;w++){var n=new cX(kq.a5C(w));this.gF.push(n);if(w==x)n.c(!0);this.Sn.appendChild(n.n);
n.k("click",this.aDK,this)}this.OR=new cX([5,3],null,null,!0);this.OR.k("click",this.ab6,this);this.aBp=new cX("Upload Current Document as a Template",null,null,!0);
this.aBp.k("click",this.ab2,this);this.eV=new f8("Creator / Brand name");this.QD=new cX([1,2],null,null,!0);
this.QD.k("click",this.zM,this);this.IP=v.t("iframe","scrollable");this.IP.setAttribute("style","border:none; margin:0; padding:0;");
this.Fb=v.t("div","form scrollable padded");this.nM=new j6(x);this.nM.k("back",this.nR,this);this.nM.k("save",this.ahT,this);
this.body.appendChild(this.IP)}kq.prototype=new bc;kq.a5C=function(x){var F;if(x==0)F=[25,0];else if(x==1)F="Plugins";
else for(var W in iC.uH)if(iC.uH[W][4]==x)F=iC.uH[W][3];return F};kq.prototype.avD=function(x){this.Sn.style.display=this.Sn.style.display=="none"?"":"none"};
kq.prototype.aDK=function(x){var w=this.gF.indexOf(x.target);if(w==this.pq)return;this.close();var F=new gT(S.E.M,!0);
F.data={d:S.H.Ar,ip:"res"+w};this.T(F)};kq.prototype.aqC=function(x){this.Xx();this.Nd=JSON.parse(x.target.response);
this.wr()};kq.prototype._$=function(x,F){return new eX(0,0)};kq.prototype.z4=function(x,F){this.Xv=x;
this.eD=F;this.bn=null;F=F-4;x=x;var W=x>820,n="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",L="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.Sn.setAttribute("style",W?n:L);this.Sn.style.marginTop=(W?-31:0)+"px";this.AG.n.style.display=W?"none":"";
var $=this.Fb;$.style.width=x-12+"px";$.style.height=F-12+"px";var $=this.nM.n;$.style.width=x-12+"px";
$.style.height=F-12+"px";var $=this.IP;$.style.width=x+"px";$.style.height=F+"px";this.q1()};kq.prototype.AW=function(x,F){this.Mh=x};
kq.prototype._=function(){bc.prototype._.call(this);for(var w=0;w<this.gF.length;w++)this.gF[w]._();
this.OR._()};kq.prototype.Lv=function(x,F,W,n){this.bn=x;this.Xx(null,!1)};kq.prototype.Xx=function(x,F){var W=F!=null?F:v.Ww(this.IP);
if(W){if(!ii.su()){alert("You need to log in first!");return}var n=ii.F0();this.lx=n.tpl?n.tpl.list:[];
this.eV.c(n.tpl&&n.tpl.brnd?n.tpl.brnd:"");this.q1()}else{this.IP.setAttribute("src","");this.IP.setAttribute("src","templates/?type="+this.pq+"&rsrc="+this.Mh.bL.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(W?this.Fb:this.IP);var L=hz.get(this.gC);this.MW.rT(W?"All "+L:"Add "+L)};kq.prototype.q1=function(){var x=hz.get(this.gC),F=this.lx,W=this.pq,k=450;
if(F==null)return;var n=this.Fb;v.Ri(n);var L=v.t("h1");n.appendChild(L);L.textContent="Share your "+x+" with the world!";
var $=v.t("ul");n.appendChild($);var l=v.t("li");$.appendChild(l);l.textContent="By publishing your "+x+", you agree to let others use them for all kinds of purposes, even commercially.";
n.appendChild(this.OR.n);if(W==0)n.appendChild(this.aBp.n);v.kE(n);n.appendChild(this.eV.n);n.appendChild(this.QD.n);
v.kE(n);k=(this.Xv-20)/Math.max(1,Math.floor(this.Xv/k))-42;var V="display:inline-block; width:"+k+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var w=F.length-1;w>=0;w--){var i=F[w];if(i.type==null)i.type=0;if(i.type!=W)continue;var f=v.t("div");
n.appendChild(f);f.setAttribute("style",V);var X=v.t("img");f.appendChild(X);X.setAttribute("src",i.thmb);
X.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var s=v.t("h3");f.appendChild(s);s.textContent=i.name;s.setAttribute("style","margin:0 0 10px 0");var R=v.t("p");
f.appendChild(R);R.textContent=i.desc;R.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var h=0;h<2;h++){var B=new cX(h==0?"Edit":"Delete",null,null,!0);B.asq=w;B.wr=h==0;B.k("click",this.ahz,this);
f.appendChild(B.n)}}};kq.prototype.ab2=function(x){if(this.bn==null){alert("No document opened.");return}var F=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!F)return;var W=new gT(S.E.M,!0);W.data={d:S.H.Li,BW:"psd",ws:this.axt.bind(this)};this.T(W)};kq.prototype.axt=function(x){this.aBF=x;
var F=new gT(S.E.M,!0);F.data={d:S.H.Li,BW:"jpg",ws:this.a6j.bind(this),axv:1400};this.T(F)};kq.prototype.a6j=function(x){this.I4={type:0,catg:0,desc:"",file:this.aBF,name:this.bn.name.split(".")[0],thmb:x,publ:!0,utme:""};
this.wr()};kq.prototype.ab6=function(x){this.I4={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.wr()};kq.prototype.ahz=function(x){this.b_=x.target.asq;if(!x.target.wr){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.lx.splice(this.b_,1);this.zM();this.q1();return}this.wr()};kq.prototype.wr=function(){if(v.Ww(this.Fb))this.body.removeChild(this.Fb);
this.body.appendChild(this.nM.n);var x=this.I4?this.I4:this.Nd?this.Nd:this.lx[this.b_];if(x.type==null)x.type=0;
this.nM.c(x)};kq.prototype.ahT=function(x){var F=this.nM.h();if(this.I4)this.lx.push(F);else if(this.Nd){var W=this.a1d;
ii.CS(W[0],W[1],this.nR.bind(this),JSON.stringify(F));return}else this.lx[this.b_]=F;this.zM();this.nR()};
kq.prototype.nR=function(){var x=this.Nd;this.I4=null;this.Nd=null;this.body.removeChild(this.nM.n);
this.body.appendChild(this.Fb);this.q1();if(x)this.Xx()};kq.prototype.zM=function(){var x=ii.F0();if(this.lx.length==0)delete x.tpl;
else{x.tpl={list:JSON.parse(JSON.stringify(this.lx))};var F=this.eV.h().trim();if(F!="")x.tpl.brnd=F}ii.am(x,function(){alert("Saved.")})};
function dI(){bc.call(this,"Make Selection","makesel");this.Mh=null;var x=v.t("div","form");this.body.appendChild(x);
this.Uq=new j2([12,25,1]);this.Uq.c(!0);x.appendChild(this.Uq.n);v.kE(x);this.VT=new cK(!0);x.appendChild(this.VT.n);
this.an=v.nX(this,this.body)}dI.prototype=new bc;dI.prototype._=function(){bc.prototype._.call(this);
this.VT._();this.Uq._();this.an._()};dI.prototype.Di=function(x){var F=new gT(S.E.v,!0);F.f=O.Yg;F.data={d:"frompath",U0:[null,0,this.VT.h(),this.Uq.h()]};
this.close();this.T(F)};function dX(){bc.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.bn=null;this.CC=null;
this.zR=null;var x=this.aha=v.t("div","form");x.setAttribute("style","width:20em");this.body.appendChild(x);
this.z7=new c7([12,50],["PSD","PSB"]);this.z7.k(S.E.A,this.tL,this);x.appendChild(this.z7.n);v.K0(x);
var F=new e8("Minify the file");x.appendChild(F.n);v.kE(x);var W=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.T0=[];for(var w=0;w<W.length;w++){var n=new j2(W[w]);this.T0.push(n);x.appendChild(n.n);n.k(S.E.A,this.tL,this)}v.K0(x);
this.zp=new e8("aa.psd");this._z=new e8("10 kB");x.appendChild(this._z.n);this.a88=new e8("1000 B");
x.appendChild(this.a88.n);this.an=new cX([1,2],!0,null,!0);this.an.k("click",this.Di,this);x.appendChild(this.an.n);
this.s$=new cX(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.s$.k("click",this.Di,this);x.appendChild(this.s$.n);
this.k("closebtn",this.Mc,this)}dX.prototype=new bc;dX.prototype.Lv=function(x,F,W,n){var L=v.Ww(this.s$.n),$=x.pb!=null&&x.pb.cB=="psd";
if($&&!L)this.aha.appendChild(this.s$.n);if(!$&&L)this.aha.removeChild(this.s$.n);for(var w=0;w<this.T0.length;
w++)this.T0[w].c(!1);this.bn=x;this.tL()};dX.prototype.Di=function(x){if(x.target==this.an)jh.save(this.CC,this.zR);
else{if(this.T0[3].h()){alert("You should not save a ZIP as a PSD to Google Drive.");return}am.aku(this.bn,this.CC)}};
dX.prototype.Mc=function(){this.bn=null;this.CC=null};dX.prototype.tL=function(){var x=this.bn,F=[!1,!1,!1,!1];
for(var w=0;w<3;w++)F[w]=this.T0[w].h();var W=this.T0[3].h(),n=F[3]=this.z7.h()==1,L=x.name.slice(0,x.name.length-3),$=this.CC=jW.w0("PSD").Rd(x,0,0,F),dx=this.zR=L+"ps"+(n?"b":"d");
if(W){var l={};l[dx]=new Uint8Array($);$=this.CC=UZIP.encode(l);dx=this.zR=L+"zip"}this.zp.c(dx);this._z.c(aK.LS($.byteLength));
this._z.n.style["font-size"]="2em";this.a88.c(" \u2001 "+$.byteLength+" B");this.an.rT(hz.get([1,2])+" \""+dx+"\"")};
dX.prototype._=function(){bc.prototype._.call(this);this.z7._();this.an._();this.s$._()};function cj(){bc.call(this,"Confirm","confirm");
this.Fv=null;var x=v.t("div");x.setAttribute("style","margin-bottom:1em");this.body.appendChild(x);this.Lj=v.t("div");
this.Lj.textContent="Hello";x.appendChild(this.Lj);this.an=v.nX(this,this.body)}cj.prototype=new bc;
cj.prototype.Di=function(x){if(this.Fv==null)return;console.log("okconfirm");this.close();this.Fv();
this.Fv=null};cj.prototype._=function(){bc.prototype._.call(this);this.an._()};cj.prototype.Lv=function(x,F){if(F.aDP)this.Lj.innerHTML=F.b;
else this.Lj.textContent=F.b;if(F.awo)this.an.rT(F.awo);this.Fv=F.Fv;this.an.n.focus();if(F.aDP!=null)this.n.style.top=Math.random()*(window.innerHeight-150)+"px";
this.aq1=F.aDP!=null};cj.prototype._$=function(x,F){return new eX(Math.max(0,(x-500)/2),Math.max(0,Math.min(60,(F-100)/2)))};
cj.prototype.z4=function(x,F){this.Lj.style.width=x-30+"px"};function bG(){bc.call(this,[1,16,2],"newartb");
this.tq=0;this.kK=null;var x=v.t("div","form");x.style.width="260px";this.body.appendChild(x);this.Zh=new ht;
x.appendChild(this.Zh.n);this.an=v.nX(this,x)}bG.prototype=new bc;bG.prototype.gT=function(x,F){return x!=null};
bG.prototype.Di=function(x){var F=this.Zh.h();this.kK.m=F.x;this.kK.e=F.y;var W=new gT(S.E.v,!0);W.f=O.wl;
W.data={a15:this.kK,tj:this.tq};this.T(W);this.close()};bG.prototype._=function(){bc.prototype._.call(this);
this.Zh._();this.an._()};bG.prototype.Lv=function(x,F){this.tq=F.tj;var W=new eu(0,0,x.m,x.e);if(x.g.length!=0){var n=x.B[x.g[0]];
if(n.add.artb){W=n.U$();W.x+=W.m+100}if(F.tj==1)W=O.Y.oU(x)}this.kK=W;this.Zh.c(new eX(W.m,W.e))};function eG(){bc.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this._C=null;this.k("closebtn",this.tV,this);this.k("canclose",this.tV,this)}eG.prototype=new bc;
eG.prototype.AW=function(x,F){if(this._C)this._C.AW(x,F)};eG.prototype._$=function(x,F){return new eX(Math.max(0,Math.min(150,(x-980)/2)),Math.max(0,Math.min(150,(F-590)/2)))};
eG.prototype.z4=function(x,F){this.Xv=x;this.eD=F;x=Math.min(x,980);F=Math.min(F,590);if(this._C)this._C.z4(x,F)};
eG.prototype._=function(){bc.prototype._.call(this);if(this._C)this._C._()};eG.prototype.Lv=function(x,F,W,n){this.$G=F.tj==0?"Open from Storage":"Save to Storage";
this._();if(this._C==null){this._C=new jP;this._C.parent=this;this.body.appendChild(this._C.n);this._();
this.z4(this.Xv,this.eD)}Storage.fT(F.tj,x?x.name:"");jP.ty(this._C)};eG.prototype.tV=function(x){Storage.fT(0);
jP.iz();if(x.type=="canclose")this.close()};function jJ(){bc.call(this,[2,14],"varsdats");var x=this.tP=v.t("div","form");
x.setAttribute("style","width:300px");this.body.appendChild(x);this.bn=null;this.uh=0;this.Mh=null;this.IV=new c7(null,[[2,14],"Data Sets",[1,8]]);
this.IV.k(S.E.A,this.a9G,this);this.zq=new jJ.Tk;this.Le=new jJ.f5;this.TU=new jJ.n7;this.Le.k("activate",this.GK,this);
this.TU.k("export",this.$v,this);this.an=v.nX(this)}jJ.prototype=new bc;jJ.prototype.a9G=function(x){var F=this.IV.h(),W=this.tP;
v.Ri(W);W.appendChild(this.IV.n);v.K0(W);W.appendChild([this.zq,this.Le,this.TU][F].n);W.appendChild(this.an.n)};
jJ.prototype.Di=function(x){var F=new gT(S.E.v,!0);F.f=O.c9;F.data={d:t.L9,b:JSON.stringify([this.zq.h(),this.Le.h()])};
this.T(F);this.close()};jJ.prototype._=function(){bc.prototype._.call(this);this.an._();this.TU._()};
jJ.prototype.Lv=function(x,F){this.bn=x;if(x==null)return;this.zq.Lv(x,F);this.Le.Lv(x,F);this.IV.c(0);
this.a9G();this.uh=0};jJ.prototype.AW=function(x,F){this.Mh=x};jJ.prototype.$v=function(x){var F=this.zq.h(),W=this.Le.h(),n=this.TU.h();
if(F.length==0){alert("There are no variables.");return}if(W.length==0){alert("There are no data sets.");
return}var L=jW.acn(this.bn,F,W,this.Le.als(),n[0],n[1],n[2],this.Mh,this);if(L!=null)jh.save(L,"images.zip")};
jJ.prototype.GK=function(x){var F=this.Le.g,W=this.zq.h(),n=this.Le.h();if(W.length==0){alert("There are no variables.");
return}if(n.length==0){alert("There are no data sets.");return}this.xr();this.uh+=jW.uS(this.bn,this,W,n,this.Le.als(),F)};
jJ.prototype.xr=function(){var x=new gT(S.E.v,!0);x.f=O.o7;x.data={d:"h_stepbck"};while(this.uh>0){this.T(x);
this.uh--}};jJ.n7=function(){bS.call(this);var x=this.n=v.t("div");this._e=new f8("Variable for file names");
x.appendChild(this._e.n);v.K0(x);this.Lt=["JPG","PNG","PDF"];this.z7=new c7([12,50],this.Lt);this.z7.k(S.E.A,this.afc,this);
x.appendChild(this.z7.n);this.PK=new fr;x.appendChild(this.PK.n);this.afc();this.Ji=new cX("Export all items",!0,null,!0);
this.Ji.k("click",this.$v,this);x.appendChild(this.Ji.n)};jJ.n7.prototype=new bS;jJ.n7.prototype._=function(x){this._e._();
this.z7._();this.Ji._();this.PK._()};jJ.n7.prototype.afc=function(x){var F=this.Lt[this.z7.h()];this.PK.lD(F)};
jJ.n7.prototype.$v=function(x){this.T(new gT("export"))};jJ.n7.prototype.h=function(){var x=this.Lt[this.z7.h()];
return[x,this.PK.h(),this._e.h().trim()]};jJ.f5=function(){bS.call(this);this.$s=null;this.$A=[];this.g=0;
var x=this.n=v.t("div","form");this.gQ=new jj("Import a CSV file");x.appendChild(this.gQ.n);this.gQ.k(S.E.A,this.aAe,this);
this.Ex=v.t("div","scrollable");this.Ex.setAttribute("style","overflow:scroll;  height:234px;");x.appendChild(this.Ex);
this.a7u=new jj("Source Images",!0);x.appendChild(this.a7u.n)};jJ.f5.prototype=new bS;jJ.f5.prototype.aAe=function(x){var F=this.gQ.h();
for(var W in F){F=F[W];break}this.$s=aS.cF(_.NM(F));this.tW()};jJ.f5.prototype.als=function(){return this.a7u.h()};
jJ.f5.prototype.Lv=function(x,F){var W=this.$s=JSON.parse(JSON.stringify(x.wD));this.tW()};jJ.f5.prototype.h=function(){return this.$s};
jJ.f5.prototype.tW=function(){var x=this.nb.bind(this),F=this.$s,n="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.$A=[];var W=v.t("table");W.setAttribute("style","border-collapse: collapse;");for(var w=0;w<F.length;
w++){var L=v.t("tr"),$=F[w],l=w==0?"th":"td";W.appendChild(L);var k=v.t(l);L.appendChild(k);k.setAttribute("style",n+"cursor:pointer;");
if(w!=0)k.textContent="\u2713";this.$A.push(k);k.addEventListener("click",x,!1);for(var V=0;V<$.length;
V++){var k=v.t(l);k.textContent=$[V];L.appendChild(k);k.setAttribute("style",n);k.setAttribute("title",$[V])}}v.Ri(this.Ex);
this.Ex.appendChild(W)};jJ.f5.prototype.nb=function(x){this.g=this.$A.indexOf(x.currentTarget);this.T(new gT("activate"))};
jJ.Tk=function(){bS.call(this);var x=this.n=v.t("div","form marged");this.KC=null;this.VN=[];this.XN=[];
this.$Y=null;this.nU=new hx([0,3],[]);this.nU.k(S.E.A,this.azs,this);x.appendChild(this.nU.n);this.gH=[];
var F=["Visibility","Text Content","Pixel Content"];for(var w=0;w<F.length;w++){v.K0(x);var W=new j2(F[w]);
W.k(S.E.A,this.jx,this);x.appendChild(W.n);v.kE(x);var n=new f8("Variable Name");n.k(S.E.A,this.jx,this);
x.appendChild(n.n);this.gH.push(W,n)}};jJ.Tk.prototype=new bS;jJ.Tk.prototype.jx=function(x){var F=this.nU.h(),W=this.$Y[F],n=this.VN[F],L=this.KC["l"+W],$=this.gH;
if(L==null)this.KC["l"+W]=L=[];while(L.length!=0)L.pop();for(var w=0;w<3;w++){var l=$[2*w+1].h();if(!$[2*w].h())continue;
var k={varName:l,trait:["visibility","textcontent","fileref"][w]};L.push(k);if(w==2){k.align="center";
k.clip="false";k.placementMethod="fit";k.valign="middle"}}if(L.length==0)delete this.KC["l"+W];this.Lv()};
jJ.Tk.prototype.azs=function(x){var F=this.nU.h(),W=this.$Y[F],n=this.VN[F],L=this.KC["l"+W],$=this.gH;
if(L==null)L=[];for(var w=0;w<3;w++){var l=w==0||w==1&&n==0||w==2&&n==1;$[2*w].DE(l);$[2*w].c(!1);$[2*w+1].DE(l);
$[2*w+1].c("")}for(var w=0;w<L.length;w++){var k=L[w],V=k.trait,i=["visibility","textcontent","fileref"].indexOf(V);
$[i*2].c(!0);$[i*2+1].c(k.varName)}};jJ.Tk.prototype.Lv=function(x,F){if(x){var W=JSON.parse(JSON.stringify(x.C7)),n=this.KC={};
for(var w=0;w<W.length;w++){var L=W[w],$=L.docRef;$="l"+$.slice(4,$.length-2);if(n[$]==null)n[$]=[];
n[$].push(L)}this.$Y=[];this.VN=[];this.XN=[];for(var w=x.B.length-1;w>=0;w--){var l=x.B[w],$=l.add.lyid;
if(l.getName()=="</Layer group>")continue;this.$Y.push($);this.VN.push(l.add.TySh?0:1);this.XN.push(l.getName())}}var k=[],V=this.XN;
for(var w=0;w<V.length;w++){k.push(V[w]+(this.KC["l"+this.$Y[w]]?" *":""))}var i=this.nU.h();this.nU.A1(k);
this.nU.c(i);this.azs()};jJ.Tk.prototype.h=function(){var x=this.KC,F=[];for(var W in x){var n=x[W];
for(var L=0;L<n.length;L++){n[L].docRef="id('"+W.slice(1)+"')";F.push(n[L])}}return F};function jG(){bc.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.R8=!1;var x=this.H3=[],F=v.t("div","form");F.setAttribute("style","width:20em");this.body.appendChild(F);
for(var w=0;w<2;w++){var W=new j2([22,4,2+w]);F.appendChild(W.n);v.kE(F);var n=new c7(null,[["N equal parts"],["N pixels per part"]]);
F.appendChild(n.n);v.kE(F);var L=new c_("N",0,1e3);L.c(4);L.parent=this;F.appendChild(L.n);v.kE(F);if(w==0)v.K0(F);
x.push(W,n,L)}for(var w=0;w<x.length;w++)x[w].k(S.E.A,this.N$,this);x.push(v.nX(this,F));this.k("closebtn",this.xr,this)}jG.prototype=new bc;
jG.prototype.xr=function(){if(this.R8){var x=new gT(S.E.v,!0);x.f=O.o7;x.data={d:"h_stepbck"};this.T(x)}};
jG.prototype.N$=function(x){this.xr();this.R8=!0;var F=[];for(var w=0;w<6;w++)F.push(this.H3[w].h());
var W={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var n=0;n<2;n++){if(!F[n*3])continue;var L=F[n*3+1],$=F[n*3+2];W[["slices","pixels"][L]+["Across","Down"][n]]={t:"long",v:$}}var l=new gT(S.E.BD,!0);
l.data={Y3:"divide",Xe:W};this.T(l)};jG.prototype.Di=function(x){this.close()};jG.prototype._=function(){bc.prototype._.call(this);
var x=this.H3;for(var w=0;w<x.length;w++)x[w]._()};jG.prototype.Lv=function(x,F){this.R8=!1};function b6(){bc.call(this,"Stroke Path","strokepath");
this.Mh=null;this.jW=null;this.ZW=null;this.an=null;this.jC=[O.mU,O.s3,O.xZ,O.vV,O.qC,O.S_,O.DC,O.p0,O.Jk,O.WY,O.WV,O.jM,O.Ew,O.g0,O.B0]}b6.prototype=new bc;
b6.prototype._=function(){bc.prototype._.call(this);if(this.an){this.jW._();this.an._()}};b6.prototype.Di=function(x){var F=this.jC[this.jW.h()],W=null;
for(var n in O.Np)if(O.Np[n]==F)W=n;var L=new gT(S.E.BD,!0);L.data=O.Sj.Va(W,this.ZW.h());this.close();
this.T(L)};b6.prototype.AW=function(x,F){if(this.Mh==null){var W=[];for(var w=0;w<this.jC.length;++w){W.push(x.s.map[this.jC[w]].f.name)}var n=v.t("div","form");
this.body.appendChild(n);this.jW=new hx("Tool",W);this.jW.c(1);n.appendChild(this.jW.n);this.ZW=new j2("Simulate Pressure");
v.kE(n);n.appendChild(this.ZW.n);this.an=v.nX(this,this.body)}this.Mh=x};function i5(){bc.call(this,[1,18],"linkview");
v.fX(this.body,"form");var x=this.QA=[new f8(null,null,17),new cX([5,1],!1,null,!0),new cX([1,0],!1,null,!0)];
for(var w=0;w<3;w++){var F=x[w];this.body.appendChild(F.n);if(w!=0)F.k("click",this.asw,this);if(w==0)v.kE(this.body)}}i5.prototype=new bc;
i5.prototype.Lv=function(x,F){var W=F.ahs;if(W.startsWith("https://"))W=W.slice(8);this.QA[0].c(W)};
i5.prototype.asw=function(x){var F=this.QA,W=F[0].h(),n=x.target==this.QA[1];if(n){navigator.clipboard.writeText(W);
alert("Copied to a clipboard!")}else window.open("https://"+W,"Shared")};function d7(x){bc.call(this,x==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][x]);
this._j=null;this.lG=null;this.a13=x;var F=v.t("div","form label8");F.setAttribute("style","max-width:26em");
this.body.appendChild(F);this.ov=new hx("Document",["abc","def"]);this.ov.k(S.E.A,this.jx,this);F.appendChild(this.ov.n);
v.kE(F);this.Cm=new hx([12,4],["abc","def"]);this.Cm.k(S.E.A,this.jx,this);F.appendChild(this.Cm.n);
this.ai7=new j2([4,11]);this.Lj=new f8([12,48]);this.Lj.c("Alpha");if(x==0){}else{F.appendChild(this.Lj.n)}this.Ph=new cK(!0);
F.appendChild(this.Ph.n);this.an=v.nX(this,F)}d7.prototype=new bc;d7.prototype.ek=function(){return!0};
d7.prototype._=function(){bc.prototype._.call(this);this.an._();this.ov._();this.Cm._();this.Lj._();
this.ai7._();this.Ph._()};d7.prototype.jx=function(x){var F=this.a13;if(x==null||x==this.ov){var W=this.ov.h(),n=this.lG[W],L=[];
if(F==0)L.push(n.B[n.g[0]].getName()+" Transparency");else L.push([5,3]);for(var w=0;w<n.o2.length;w++)L.push(n.o2[w].name);
this.Cm.A1(L)}if(F==0)return;var $=this.Cm.h();this.Lj.DE($==0);this.Ph.DE($!=0)};d7.prototype.Lv=function(x,F,W){this._j=x;
this.lG=W;var n=[];for(var w=0;w<W.length;w++){var L=W[w].name;n.push(L.length<30?L:L.slice(0,27)+"...")}this.ov.A1(n);
this.ov.c(W.indexOf(x));this.jx(null)};d7.prototype.Di=function(x){var F=this.a13,W=this.Cm.h(),n=this.ov.h(),L=this.lG[n],$=this.Ph.h(),l;
if(W==0){l=new gT(S.E.BD,!0);if(F==0)l.data=O.FA.HW($,"Trsp",L.B[L.g[0]].getName());else l.data={Y3:"duplicate",Xe:{classID:"null",Nm:{t:"TEXT",v:this.Lj.h()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{l=new gT(S.E.v,!0);
if(F==0){l.f=O.Yg;l.data={d:"fromchannel",U0:[-4-W,0,$]}}else{l.f=O.c9;l.data={d:t.Bl,k1:"seltochannel",U0:[W-1,$]}}}this.close();
this.T(l)};function bs(x,F,W,n){bS.call(this);this.name=x;this.aDv=W;this.c0=n;this.rf=v.t("div","");
this.rf.setAttribute("draggable","true");this.SO=v.t("div","pbody");this.Gg=new cX("",!1,"");this.Gg.parent=this;
this.aec=v.t("span","cross gsicon");this.DY=v.t("span","label");var L=this.aaO.bind(this);this.rf.addEventListener("mousedown",this.a8q.bind(this),!1);
this.rf.addEventListener("contextmenu",L,!1);this.Gg.n.addEventListener("contextmenu",L,!1);this.aec.addEventListener("mousedown",this.CB.bind(this),!1);
this.rf.appendChild(this.DY);if(F)this.rf.appendChild(this.aec);this.hL=!1;this.DY.textContent=x}bs.prototype=new bS;
bs.prototype.HD=function(){return null};bs.prototype._=function(){var x=hz.get(this.name),F=!1,W=this.Xv==0?22:Math.round(2+this.Xv/50);
if(x.endsWith(" *")){F=!0;x=x.slice(0,x.length-2);W-=2}var n=x.length>W;this.DY.textContent=n?x.slice(0,W-2):x;
if(n)for(var L=0;L<2;L++){var $=v.t("span");$.textContent=x.charAt(W-2+L);$.setAttribute("style","opacity:"+(.6-L*.4));
this.DY.appendChild($)}if(F){var $=v.t("span");$.textContent=" *";this.DY.appendChild($)}var l=x.split(" "),k=l.length==2?l[0].substring(0,2)+l[1][0]:x.substring(0,3);
if(k.charCodeAt(0)>=11776)k=k.substring(0,1);var V=this.aDv;if(V==null)this.Gg.rT(k,x);else{var i;if(V.startsWith("---"))i="<img src=\""+PIMG[V.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(V.startsWith("==="))i="<img src=\""+V.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(V.indexOf("\"")==-1)i="<img src=\""+V+"\" alt=\""+v.sf(x).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Gg.rT(i,x)}};bs.prototype.enable=function(){this.SO.className="pbody"};bs.prototype.disable=function(){this.SO.className="pbody disabled"};
bs.prototype.AW=function(x,F){};bs.prototype.Lv=function(x,F,W){};bs.prototype.ZZ=function(x){};bs.prototype.z4=function(x,F){};
bs.prototype.o6=function(x){this.name=x;this._()};bs.prototype.fO=function(){};bs.prototype.a8q=function(x){if(x.button==0)this.T(new gT("select",!1));
if(x.button==1)this.Jz()};bs.prototype.aaO=function(x){v.Wa(x);if(this.c0!=null&&isNaN(this.c0))return;
var F=v.iF(x,document.body),W=this.Wp;if(W==null){W=this.Wp=new g$([{name:[1,12,0]}]);this.Wp.k("select",this.CB,this)}W.update(null);
W._();W.parent=this;var n=new gT(S.E.M,!0);n.data={d:S.H.OO,f_:W,x:F.x+1,y:F.y+1};this.T(n)};bs.prototype.Jz=function(){this.CB({})};
bs.prototype.CB=function(x){if(x.stopPropagation)x.stopPropagation();if(this.c0!=null&&!isNaN(this.c0)){var F=new gT(S.E.M,!0);
F.data={d:S.H.qk,f_:this.Wp};this.T(F);F.data={d:S.H.DD,jL:iC.nI,b:parseFloat(this.c0),xE:"del"};this.T(F)}else if(this.afP())this.T(new gT(S.E.Jo,!1))};
bs.prototype.afP=function(x){return!0};bs.prototype.pI=function(x,F,W,n,L){};bs.prototype.Lx=function(x,F,W,n,L){};
bs.prototype.t8=function(x,F,W,n,L){};bs.PE=function(x,F,W){if(x.childElementCount!=0)return;var n=x.textContent;
this.tf=this.a7p.bind(this);this.ari=this.au3.bind(this);this.KV=F;this.aAA=W;this.Mj=x;this.a0e=n;var L=v.t("input","");
L.setAttribute("type","text");L.setAttribute("size","10");L.setAttribute("value",n);v.Ri(x);x.appendChild(L);
L.select();L.focus();v.Fs(x);x.addEventListener("keyup",this.tf,!1);document.body.addEventListener("mousedown",this.ari,!1)};
bs.PE.prototype.a7p=function(x){var F=gp.ii,W=F(x.code,gp.hI);if(F(x.code,gp.oX)||W)this.ap$(W)};bs.PE.prototype.au3=function(x){var F=x.target;
if(F.tagName&&F.tagName.toLowerCase()=="input")return;this.ap$(!0)};bs.PE.prototype.ap$=function(x){var F=this.Mj,W=F.firstChild.value;
F.removeEventListener("keyup",this.tf);document.body.removeEventListener("mousedown",this.ari);if(this.aAA||x&&W!=""&&W!=this.a0e){this.KV(W)}else{v.Ri(F);
F.textContent=this.a0e}};bs.Kz={o7:"0",aio:"1",c9:"2",aaK:"3",atQ:"4",ZN:"5",CSS:"6",s3:"7",aqX:"8",abQ:"9",atM:"10",akY:"11",agt:"12",N1:"13",I$:"14",arq:"15",adg:"16",Lc:"17",a2Z:"18",aqm:"19",agO:"20",Oj:"21",agm:"22",auM:"23"};
function eq(){bs.call(this,[9,9],!1,"---panels/actions",bs.Kz.akY);this.Mh=null;this.wy=[0,0]}eq.prototype=new bs("");
eq.prototype.HE=function(){if(!v.Ww(this.SO)||this.Zg)return;this.Zg=v.t("div","padded scrollable");
this.Zg.setAttribute("style","width:260px;  height:260px");this.SO.appendChild(this.Zg);this.k(S.E.A,this.BC,this);
this.SX=v.t("div","lpfoot");this.SO.appendChild(this.SX);this.hD=[];var x="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",F="</svg>",W=x+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+F,n=x+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+F;
this.abX=x+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+F;this.amP=x+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+F;
var L=[this.abX,n,"lrs/folder","lrs/newlayer","lrs/bin",W],$=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var w=0;w<L.length;w++){var l=L[w];if(1<w&&w!=L.length-1)l="<img src=\""+PIMG[L[w]]+"\" class=\"miniscale gsicon\" />";
var k=new cX(l,!1,$[w]);k.k("click",this.a2N,this);this.SX.appendChild(k.n);this.hD.push(k)}this.tW()};
eq.prototype._=function(){bs.prototype._.call(this);if(this.Zg==null)return;for(var w=0;w<this.hD.length;
w++)this.hD[w]._()};eq.prototype.a2N=function(x){var w=this.hD.indexOf(x.currentTarget),F=this.wy,W=this.Mh,n=W.qS;
if(w==0){var L,$=W.Wj;if(n.length==0){alert("Create an Action Set first.");return}if(F.length<2){alert("Select a target action first.");
return}if($==null){L=this.amP;$=this.wy}else{L=this.abX;$=null}this.hD[0].rT(L);W.Wj=$}else if(w==1)this.ap0();
else if(w==2||w==3){var l={Sa:"Action Set "+n.length,$f:[],exp:!0};if(w==2||n.length==0){F=[n.length];
n.push(l)}if(w==3){var k=n[F[0]].$f;F=[F[0],k.length];k.push({Sa:"Action "+k.length,color:0,$f:[],aAw:!1,shift:!1,exp:!0,Fp:k.length})}this.wy=F;
this.tW()}else if(w==4){var V;if(F.length==1)V=n;else if(F.length==2)V=n[F[0]].$f;else V=n[F[0]].$f[F[1]].$f;
var i=F.length-1;V.splice(F[i],1);if(V.length==0)F.pop();else while(F[i]>=V.length)F[i]--;if(F.length==0)F.push(0);
this.tW()}else if(w==5){if(n.length==0){alert("No Actions Present.");return}var f=new gT(S.E.M,!0);f.data={d:S.H.Ts,a47:iC.v,fe:F[0]};
this.T(f)}};eq.prototype.BC=function(x){var F=this.Mh.qS,W=x.data.d,n=x.data.ru;if(W=="sel")this.wy=n;
if(W=="fold"){if(n.length==1)F[n[0]].exp=!F[n[0]].exp;else F[n[0]].$f[n[1]].exp=!F[n[0]].$f[n[1]].exp}if(W=="enab"){var L=F[n[0]].$f[n[1]].$f[n[2]];
L.w=!L.w}if(W=="nchange"){if(n.length==1)F[n[0]].Sa=x.data.au;else F[n[0]].$f[n[1]].Sa=x.data.au}this.tW()};
eq.prototype.Lv=eq.prototype.fO=function(){this.HE()};eq.prototype.AW=function(x,F){this.Mh=x;if(this.Zg==null)return;
if(F==iC.v||F==iC.tB)this.tW()};eq.prototype.tW=function(){if(this.Mh==null)return;v.Ri(this.Zg);var x=this.Mh.qS;
if(x.length==0)return;var F=JSON.stringify(this.wy);for(var w=0;w<x.length;w++){var W=x[w],n=new eq.vd([w],F,W.exp,W.Sa.split("=").pop());
n.parent=this;this.Zg.appendChild(n.n);if(!W.exp)continue;for(var L=0;L<W.$f.length;L++){var $=W.$f[L],n=new eq.vd([w,L],F,$.exp,$.Sa.split("=").pop());
n.parent=this;this.Zg.appendChild(n.n);if(!$.exp)continue;for(var l=0;l<$.$f.length;l++){var k=$.$f[l],n=new eq.vd([w,L,l],F,null,hz.get(ga.aBn(k)),k.w);
n.parent=this;this.Zg.appendChild(n.n)}}}};eq.prototype.ap0=function(){var x=this.Mh.qS,F=this.wy;if(x.length==0){alert("No Actions Present");
return}if(F.length==1){alert("Select an Action first");return}if(this.Mh.Wj!=null){alert("You can not apply actions while recording actions");
return}if(F.length==1)F.push(0);var W=x[F[0]],n=W.$f[F[1]],L=new gT(S.E.M,!0);L.data={d:S.H.HQ,U0:[n.Sa,W.Sa]};
this.T(L)};eq.vd=function(x,F,W,n,L){bS.call(this);this.ru=x;var $=this.ru.length-1;this.n=v.t("div","layeritem"+(JSON.stringify(x)==F?" selected":""));
this.$e=v.t("div","head");this.n.appendChild(this.$e);this.$e.setAttribute("style","height:24px");this.SN=v.t("div","headL");
this.$e.appendChild(this.SN);if($!=0){var l=v.t("div");l.style.width=$*20+"px";this.SN.appendChild(l)}if(W!=null){var k=this.a9C=v.t("div",W?"open":"closed");
this.SN.appendChild(k)}else{var V=this.a1L=v.t("div","cmark");V.setAttribute("style","background-size:12px 12px; opacity:"+(L?1:.3));
this.SN.appendChild(V)}if($==0){var i=v.t("div","folder");this.SN.appendChild(i)}var f=this.DY=v.t("div","label");
f.textContent=n;this.SN.appendChild(f);this.n.addEventListener("mouseup",this.GK.bind(this),!1)};eq.vd.prototype=new bS;
eq.vd.prototype.GK=function(x){if(x.detail==1&&x.target.tagName.toLowerCase()!="input"){var F="sel";
if(x.target==this.a9C)F="fold";if(x.target==this.a1L)F="enab";var W=new gT(S.E.A,!0);W.data={d:F,ru:this.ru};
this.T(W)}else if(this.ru.length<3)var n=new bs.PE(this.DY,this.KV.bind(this))};eq.vd.prototype.KV=function(x){var F=new gT(S.E.A,!0);
F.data={d:"nchange",au:x,ru:this.ru};this.T(F)};function bN(){bs.call(this,[3],!1,"---lrs/adj",bs.Kz.a2Z)}bN.prototype=new bs("");
bN.prototype.HE=function(){if(!v.Ww(this.SO)||this.hD)return;this.SO.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.hD=[];var w=0;for(var x in a3.names){var F=new cX("<img src=\""+PIMG["adj/"+x]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,a3.names[x]);
F.k("click",this.KG,this);this.hD.push(F);this.SO.appendChild(F.n);if(w==4||w==10)v.kE(this.SO);w++}this._()};
bN.prototype.Lv=function(){this.HE()};bN.prototype.fO=function(){this.HE()};bN.prototype._=function(){bs.prototype._.call(this);
if(this.hD==null)return;for(var w=0;w<this.hD.length;w++)this.hD[w]._()};bN.prototype.KG=function(x){var F=this.hD.indexOf(x.target),W=ds.yn()[F],n=new gT(W.K,!0);
n.data=W.C;this.T(n)};function gt(){bs.call(this,[12,22],!1,null,bs.Kz.Oj);this.Zg=v.t("div","padded");
this.Mh=null;this.SO.appendChild(this.Zg);this.yF=new dS(null,17.7,10);this.yF.parent=this;this.yF.k(S.E.A,this.N$,this);
this.Zg.appendChild(this.yF.pT)}gt.prototype=new bs("");gt.prototype.N$=function(x){var F=this.yF.h(),W=new gT(S.E.v,!0);
W.data={d:"setstl",b:F.RB};W.f=O.pj;this.T(W);W.data={d:"confirm"};this.T(W)};gt.prototype.AW=function(x,F){this.Mh=x;
this.tW()};gt.prototype.tW=function(){var x=this.Mh;if(x==null)return;this.yF.KX([x.LX,x.Oz]);this.yF.z4()};
gt.prototype.Lv=function(){this.tW()};gt.prototype.fO=function(){this.tW()};var dE=function(){function x(){bs.call(this,[9,3],!1,"---panels/brush",bs.Kz.s3);
this.BX=null;this.Mh=null}x.prototype=new bs("");x.prototype.HE=function(){var L=v.t("div","");this.SO.appendChild(L);
this.zx=v.t("div","bordered cell");this.zx.setAttribute("style","width:10em; height:28.5em;");L.appendChild(this.zx);
this.aY=[];this.NR=null;this.nh=[];var $=this.afp.bind(this);this.ES=[new W("basic"),new W("useTipDynamics"),new W("useScatter"),new W("useColorDynamics"),new W("usePaintDynamics")];
for(var w=0;w<this.ES.length;w++){var l=v.t("div","listitem"),k=this.ES[w],i=null;k.parent=this;k.k("brushchange",this.aiC,this);
var V=k.$g;if(w==0){this.NR=new e8(V);l.appendChild(this.NR.n)}else{i=new j2(V,!1);i.k(S.E.A,this.azb,this);
l.appendChild(i.n)}this.nh.push(i);this.zx.appendChild(l);this.aY.push(l);l.addEventListener("click",$,!1)}this.l2=v.t("div","cell padded");
L.appendChild(this.l2);this.setItem(0);this.Mt=v.t("canvas");this.Mt.height=10;L.appendChild(this.Mt);
this.yG=this.Mt.getContext("2d");this.sr()};x.prototype.z4=function(L,$){if(this.Xv==L)return;this.Xv=L;
this.eD=$;this.sr()};x.prototype.fO=function(){if(!v.Ww(this.SO))return;if(this.zx){this.sr();return}this.HE();
this._();this.AW(this.Mh,iC.tB)};x.prototype._=function(){bs.prototype._.call(this);if(this.zx==null)return;
this.NR._();for(var w=1;w<this.nh.length;w++)this.nh[w]._();for(var w=0;w<this.ES.length;w++)this.ES[w]._()};
x.prototype.aiC=function(L){var $=this.ES.indexOf(L.currentTarget),l=JSON.parse(JSON.stringify(this.ES[$].BX)),k=new gT(S.E.M,!0);
k.data={d:S.H.DD,jL:iC.rb,BX:l};this.T(k)};x.prototype.azb=function(L){this.a0Q(this.nh.indexOf(L.currentTarget),L.currentTarget.hG())};
x.prototype.afp=function(L){var w=this.aY.indexOf(L.currentTarget);if(L.target.tagName.toLowerCase()=="input")return;
if(this.nh[w]&&!this.nh[w].hG()){this.nh[w].iA();this.a0Q(w,!0)}this.setItem(w)};x.prototype.a0Q=function(L,$){this.ES[L].ac_($)};
x.prototype.setItem=function(L){for(var w=0;w<this.ES.length;w++)this.aY[w].className="listitem";if(this.l2.firstChild)this.l2.removeChild(this.l2.firstChild);
this.aY[L].className="listitem selected";this.l2.appendChild(this.ES[L].n)};x.prototype.AW=function(L,$){this.Mh=L;
if(this.zx==null)return;for(var w=0;w<this.ES.length;w++)this.ES[w].AW(L,$);if($==iC.rb||$==iC.tB){this.BX=L.rj.gd;
this.sr()}if($==iC.N1)this.sr()};x.prototype.sr=function(){if(this.BX)this.enable();else{this.disable();
return}if(!v.Ww(this.SO))return;var L=this.Mh;for(var w=0;w<this.ES.length;w++){this.ES[w].c(this.BX);
if(this.nh[w])this.nh[w].c(this.ES[w].hG())}var $=JSON.parse(JSON.stringify(this.BX));$.Brsh.v.Dmtr.v.val=Math.min($.Brsh.v.Dmtr.v.val,50);
v.vI(this.Mt,this.Xv,80);var l=new eu(0,0,this.Mt.width,this.Mt.height),k=this.Mh.rj,V=new dp($,k?k.kF:null,k?k.r5:null,{BE:1},L.A_,L.G8,l,null,0),i=l.e/2,f=l.m-i*2;
V.moveTo(i,i);for(var w=0;w<=f;w+=10)V.lineTo(i+w,i+20*Math.sin(2*Math.PI*w/f));V.finish();var X=this.yG.createImageData(l.m,l.e);
r.sh(V.Eo(),V.oU(),X.data,l);this.yG.putImageData(X,0,0)};function F(L){bS.call(this);L=L.split(".")[0];
this.Hn=L;var $=this.n=v.t("span"),l=["Off","Fade"];l.push(L=="angleDynamics"?"Direction":"Pen Pressure");
var k=this.dQ=new hx("Control",l);k.k(S.E.A,this.jx,this);$.appendChild(k.n);var V=this.aDh=new c_(null,0,100,null,null,null,!0);
V.c(50);V.k(S.E.A,this.jx,this)}F.prototype=new bS;F.prototype.c=function(L){L=L<2?L:2;this.dQ.c(L);
this.tW()};F.prototype.h=function(){var L=this.dQ.h(),$=this.Hn;L=L<=1?L:$=="angleDynamics"?6:2;return L};
F.prototype.jx=function(L){this.tW();L.target=L.currentTarget=this;this.T(L)};F.prototype.tW=function(L){this.aDh.DE(this.dQ.h()==1)};
function W(L){bS.call(this);this.n=v.t("div");this.BX=null;var $=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(L);
this.$g=[[15,0],[15,1],[15,2],[15,3],"Transfer"][$];this.tq=L;this.Z9={};this.amI=null;var l=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][$];
for(var w=0;w<l.length;w++){var k=l[w],V;if(k=="--br"){V=new hK;this.n.appendChild(V.pT.firstChild)}else if(k=="Brsh.Dmtr")V=new cS([12,14,0],1,1e3," px",0,!0);
else if(k=="Brsh.Angl")V=new cS([12,15],0,359," \xB0");else if(k=="Brsh.Rndn")V=new cS([12,16],0,100," %");
else if(k=="Brsh.Hrdn")V=new cS([12,17],0,100," %");else if(k=="Brsh.Spcn")V=new cS([12,18],1,300," %");
else if(k=="szVr.jitter")V=new cS([15,4,0],0,100,"%");else if(k=="minimumDiameter")V=new cS([15,4,1],0,100,"%");
else if(k=="angleDynamics.jitter")V=new cS([15,4,2],0,100,"%");else if(k.endsWith("bVTy"))V=new F(k);
else if(k.endsWith("fStp"))V=new c_(null,0,100,null,null,null,!0);else if(k=="roundnessDynamics.jitter")V=new cS([15,4,3],0,100,"%");
else if(k=="minimumRoundness")V=new cS([15,4,4],1,100,"%");else if(k=="scatterDynamics.jitter")V=new cS([15,5,0],0,1e3," %");
else if(k=="Cnt")V=new cS([15,5,1],1,20);else if(k=="countDynamics.jitter")V=new cS([15,5,2],0,100," %");
else if(k=="clVr.jitter")V=new cS([15,6,0],0,100," %");else if(k=="H")V=new cS([15,6,1],0,100," %");
else if(k=="Strt")V=new cS([15,6,2],0,100," %");else if(k=="Brgh")V=new cS([15,6,3],0,100," %");else if(k=="opVr.jitter")V=new cS("Opacity Jitter",0,100," %");
else if(k=="prVr.jitter")V=new cS("Flow Jitter",0,100," %");else throw k;this.Z9[k]=V;V.parent=this;
V.k(S.E.A,this.jx,this)}}W.prototype=new bS;W.prototype.a9a=function(){this.T(new gT("brushchange"))};
W.prototype.c=function(L){this.BX=JSON.parse(JSON.stringify(L));this.n.className=this.hG()?"":"disabled";
this.sr()};W.prototype._=function(){for(var L in this.Z9)this.Z9[L]._()};W.prototype.hG=function(){return!0};
W.prototype.AW=function(L,$){if($==iC.s3||$==iC.tB){var l=this.Z9["--br"];if(l)l.KX(L.rj)}};W.prototype.jx=function(L){var $=L.target,l=this.Z9,k;
for(var V in l)if(l[V]==$)k=V;if(k=="--br"){var i=new gT(S.E.M,!0);i.data={d:S.H.DD,jL:iC.rb,BX:$.h()};
this.T(i)}else{var X=n(this.BX,k),s=$.h();if(X){if(k.endsWith("bVTy")||k.endsWith("fStp")||k=="Cnt")X.v=s;
else X.v.val=s;this.a9a()}}};W.prototype.sr=function(){var L=this.BX,$=L.Brsh.v.classID,l=this.Z9,k=$!=this.amI;
this.amI=$;if(k){v.Ri(this.n);for(var V in l){if($!="computedBrush"&&$!="sampledBrush"&&V=="Brsh.Rndn")continue;
if($!="computedBrush"&&V=="Brsh.Hrdn")continue;var i=l[V],f=i.n;if(V=="--br"){f=i.FB.n;f.style.width="auto"}this.n.appendChild(f)}}for(var V in l){if(V=="--br")continue;
var X=n(L,V),s;if(X){if(V.endsWith("bVTy")||V.endsWith("fStp")||V=="Cnt")s=X.v;else s=X.v.val;l[V].c(s);
if(V.endsWith("fStp"))l[V].DE(n(L,V.split(".")[0]+".bVTy").v==1)}}};W.prototype.hG=function(){var L=this.tq;
return L=="basic"?!0:this.BX[L].v};W.prototype.ac_=function(L){var $=this.tq;if($=="basic")return;this.BX[$].v=L;
jq.om.af5(this.BX);this.a9a()};function n(L,$){var l=$.split(".");L=L[l[0]];for(var w=1;w<l.length;w++){if(L==null)return L;
L=L.v[l[w]]}return L}return x}();function je(){bs.call(this,[9,0],!1,"---panels/history",bs.Kz.o7);this.SO.setAttribute("style","min-width:200px;");
this.kX=v.t("div","hpbody scrollable");this.kX.style.height="160px";this.SO.appendChild(this.kX);this.ask=-1;
this.UL=[];this.W1="";this.ux=new g$([{name:"Clear History"}],[{K:S.E.v,f:O.o7,C:{d:"h_clear"}}])}je.prototype=new bs("");
je.prototype.HD=function(){return this.ux};je.prototype.z4=function(x,F){this.fO()};je.prototype.Lv=function(x){if(x==null){v.Ri(this.kX);
this.W1="";return}v.Ri(this.kX);var F=0;for(var w=0;w<x.history.length;w++)if(w<=x.Mw&&!x.history[w].Bc)F=w;
for(var w=0;w<x.history.length;w++){var W=x.history[w];if(W.Bc)continue;var n=new fs(W,w,F);n.parent=this;
this.kX.appendChild(n.n);this.UL.push(n)}if(x.Mw==x.history.length-1)this.fO()};je.prototype.fO=function(){this.kX.scrollTop=this.kX.scrollHeight};
je.prototype._=function(){bs.prototype._.call(this);for(var w=0;w<this.UL.length;w++)this.UL[w]._()};
function fs(x,w,F){bS.call(this);this.index=w;this.n=v.t("div",w==F?"listitem selected":"listitem");
this.gC=x.name;this._();if(w>F)this.n.style.opacity=.4;this.n.addEventListener("click",this.pI.bind(this),!1)}fs.prototype=new bS;
fs.prototype._=function(){this.n.textContent=hz.get(this.gC)};fs.prototype.pI=function(x){if(this.index==this.parent.ask)return;
this.Lg({d:"h_itemchange",index:this.index})};fs.prototype.Lg=function(x){var F=new gT(S.E.v,!0);F.data=x;
F.f=O.o7;this.T(F)};function iI(){bs.call(this,[9,10],!1,"---panels/histogram",bs.Kz.atQ);var x=v.t("div","padded");
this.SO.appendChild(x);this.ta=new c4(256,!0);x.appendChild(this.ta.n);this.bn=null}iI.prototype=new bs("");
iI.prototype.Lv=function(x){this.bn=x;this.tW()};iI.prototype.tW=function(){var x=this.bn;if(!v.Ww(this.SO))return;
if(x==null||x.g.length==0){this.ta.c(r.uE(r.R(4)));return}var F=x.Hi(),W=new eu(0,0,x.m,x.e),n=W.P();
if(x.u){var L=x.u.rect,$=r.R(L.P()*4);r.sh(F,W,$,L);r.Wz(x.u.channel,$);F=$;W=L;var l=x.u.channel;n=0;
for(var w=0;w<l.length;w++)n+=l[w];n=Math.round(n/255)}var k=r.uE(F);k[0][255]+=3*(n-k[5]);for(var w=1;
w<4;w++)k[w][255]+=n-k[5];this.ta.c(k,n)};iI.prototype.AW=function(x,F){this.ta.KB(eI.m2[x.wd]["--text-color"])};
iI.prototype._=function(){bs.prototype._.call(this);this.ta._()};iI.prototype.fO=function(){this.tW()};
function bE(){bs.call(this,[9,8],!1,"---adj/clrL",bs.Kz.aio);this.Zg=v.t("div","padded");this.SO.appendChild(this.Zg);
this.YB=new h3(10);this.Zg.appendChild(this.YB.n);this.pR=new ay;this.pR.parent=this;this.Zg.appendChild(this.pR.pT);
this.pR.pT.style.marginTop="6px";this.YB.k(S.E.A,this.ag_,this);this.pR.k(S.E.A,this.ag_,this)}bE.prototype=new bs("");
bE.prototype.ag_=function(x){var F;if(x.target==this.YB)F=this.YB.h();else{var W=this.pR.h();F=Math.round(W.o)<<16|Math.round(W.r)<<8|Math.round(W.z)}var n=new gT(S.E.M,!0);
n.data={d:S.H.DD,jL:iC.N1,k1:0,b:F};this.T(n)};bE.XX=function(x,F){var W=F==iC.tB,n=x.nC,L=x.Yy,$=L.strokeStyleContent.v,l=null;
if((F==iC.JL||W)&&n.d_==1){l=r.I.z$(n.oa.Clr.v);l=l.o<<16|l.r<<8|l.z}if((F==iC.ys||W)&&L.strokeEnabled.v&&$.classID=="solidColorLayer"){l=r.I.z$($.Clr.v);
l=l.o<<16|l.r<<8|l.z}if(F==iC.N1||W)l=x.A_;return l};bE.prototype.AW=function(x,F){var W=x.A_,n=F==iC.tB,L=bE.XX(x,F);
if(L!=null){this.YB.c(L);this.pR.c({o:L>>>16&255,r:L>>>8&255,z:L>>>0&255,v6:"Color #"+r.mZ(L)})}if(F==iC.IE||n){var $=x.af8;
this.pR.KX($)}};function bR(){bs.call(this,[12,72],!1,"---adj/mixr",bs.Kz.adg);this.UF=null;this.yo=null;
this.kX=v.t("div","lpbody scrollable");this.kX.style.marginTop="4px";this.SX=v.t("div","lpfoot");this.SO.appendChild(this.kX);
this.SO.appendChild(this.SX);this.iK=[];this.k("click",this.U8,this);this.vB=[];bR.Z4([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.vB,this.SX,this.KZ.bind(this),this.Hu.bind(this));
this.ux=new g$([{name:"Merge Channels",PT:!0}],[{K:S.E.M,C:{d:S.H.Ar,ip:"mergechannels"}}])}bR.prototype=new bs("");
bR.prototype.HD=function(){return this.ux};bR.Z4=function(x,F,W,n,L){for(var w=0;w<x.length;w++){var $=new cX("W",!1,x[w]);
F.push($);v.p6($.n,n);W.appendChild($.n);var l=$.n;l.addEventListener("drop",L,!1);l.addEventListener("dragover",function(k){k.preventDefault()},!1);
l.addEventListener("dragenter",v.Wa,!1)}};bR.Ct=function(x,F){for(var w=0;w<x.length;w++)if(x[w].n==F.currentTarget)return w};
bR.prototype.KZ=function(x){var F=bR.Ct(this.vB,x);if(F==0)this.T(gf.Jq(!0,null,x));else{F--;var W=new gT(S.E.BD,!0),n={classID:"null"};
if(F==0)n.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(F==1)n.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else n.null=ga.oY("Chnl",!0);W.data={Y3:["duplicate","make","delete"][F],Xe:n};this.T(W)}};bR.prototype.Hu=function(x){var F=bR.Ct(this.vB,x);
if(F==2){var W=new gT(S.E.BD,!0),n={classID:"null"};n.null=ga.oY("Chnl",!0);W.data={Y3:"duplicate",Xe:n};
this.T(W)}else this.KZ(x)};bR.prototype.WN=function(w){var x=this.iK,F=x[w];if(F==null){var W=v.t("canvas");
F=W.getContext("2d");x.push(F)}return F};bR.prototype.U8=function(x){var F=this.UF.slice(0),W=x.data.Fp,n=F[0]+F[1]+F[2],L=this.yo;
if(-5<W&&W<0){var $=-W-1;if(x.data.fq){if($==0)F=n==3?[0,0,0]:[1,1,1];else{if(F[$-1]==0)F[$-1]=1;else if(!0)F[$-1]=0}}else{if($==0)F=[1,1,1];
else{F=[0,0,0];F[$-1]=1}for(var w=0;w<L.o2.length;w++)L.o2[w].NZ=!1;L.kO=[]}var l=new gT(S.E.v,!0);l.f=O.CD;
l.data={d:"setcls",O:F};this.T(l);return}if(-1<W){var k=L.B[W],V=k.sj==1?k.GH():k.DU(L).F;if(x.data.fq)V.NZ=!V.NZ;
else{for(var w=0;w<L.o2.length;w++)L.o2[w].NZ=!1;L.kO=[]}}else{var i=-W-5,V=L.o2[i];if(x.data.fq)V.NZ=!V.NZ;
else{for(var w=0;w<L.o2.length;w++)L.o2[w].NZ=!1;V.NZ=!0;L.kO=[i];if(n!=0){var l=new gT(S.E.v,!0);l.f=O.CD;
l.data={d:"setcls",O:[0,0,0]};this.T(l)}}}L.yW=L.bA=!0};bR.prototype.fO=function(){this.tL()};bR.prototype.Lv=function(x){this.yo=x;
this.tL()};bR.prototype.tL=function(){var x=this.yo,F=this.kX,R=4;v.Ri(F);if(x==null||!v.Ww(F))return;
var W=x.m,n=x.e,L=new eu(0,0,W,n),$=this.UF=x.U.O.slice(0),l=$[0]+$[1]+$[2],k=Math.round(34*v.e1()),V=k;
if(W>n)V=Math.round(V*n/W);else k=Math.round(k*W/n);var i=["RGB"].concat(a3.O0);for(var w=0;w<4;w++){var f=this.WN(w);
r.pa.Ep(f,k,V,L,x.Hi(),L,!1,w==0?null:w-1);var X=w==0?l==3:$[w-1]==1,s=new gf(-1-w,!0,!0,f,i[w],X,X);
s.parent=this;F.appendChild(s.n);v.lf(f.canvas)}for(var w=0;w<x.g.length;w++){var h=x.B[x.g[w]],B=h.sj;
if(B!=1&&B!=3)continue;var e=B==1?h.GH():h.DU(x).F,f=this.WN(R+w);R++;r.pa.wp(f,k,V,L,e);var s=new gf(x.g[w],!0,!0,f,h.getName()+(B==1?"":" Filter")+" Mask",!0,e.NZ);
s.parent=this;F.appendChild(s.n);v.lf(f.canvas)}for(var w=0;w<x.o2.length;w++){var e=x.o2[w],f=this.WN(R+w);
r.pa.wp(f,k,V,L,e);var s=new gf(-5-w,!0,e.name=="Quick Mask",f,e.name,x.kO.indexOf(w)!=-1,e.NZ,O.c9,{d:t.Bl,k1:"rnm",Fp:w});
s.parent=this;F.appendChild(s.n);v.lf(f.canvas)}};bR.prototype.z4=function(x,F){this.kX.style.height=F-30-4+"px";
this.kX.style.width=x+"px"};bR.prototype._=function(){bs.prototype._.call(this);this.tL();bR.Ob(this.vB,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
bR.Ob=function(x,F,W){var F=c7.sJ(F,null,"miniscale");for(var w=0;w<x.length;w++)x[w].rT(F[w],W?W[w]:null)};
function gf(x,F,W,n,L,$,l,k,V){bS.call(this);this.n=v.t("div");this.a6B=x;this.aqO=F;this.yG=n;this.at6=k;
this.axU=V;this.$e=v.t("div",$?"head selected":"head");this.$e.setAttribute("style","height: "+40+"px");
var i=v.t("div","headL"),f=v.t("div","headR"),X=15;this.n.appendChild(this.$e);this.$e.appendChild(i);
this.$e.appendChild(f);this.S8=v.t("div","eye");if(1<v.e1()&&v.e1()<1.5)X=X/v.e1();this.S8.setAttribute("style","background-size: "+X+"px "+X+"px;");
this.S8.style.opacity=l?1:.2;if(F)i.appendChild(this.S8);this.ai=v.t("div","thumb");if(n)this.ai.appendChild(n.canvas);
i.appendChild(this.ai);this.m7=v.t("div","label");if(W)this.m7.style.fontStyle="italic";this.m7.textContent=hz.get(L);
i.appendChild(this.m7);var s=this.$e;s.setAttribute("draggable","true");s.addEventListener("dragstart",function(R){R.stopPropagation();
R.dataTransfer.setData("Text","hello")},!1);s.addEventListener("drop",v.Wa,!1);v.p6(this.$e,this.a8g.bind(this));
if(!W)this.$e.addEventListener("mouseup",this.aov.bind(this),!1)}gf.prototype=new bS;gf.prototype.KV=function(x){var F=new gT(S.E.v,!0);
F.f=this.at6;F.data=this.axU;F.data.name=x;this.T(F)};gf.prototype.a8g=function(x){var F=x.ctrlKey||x.metaKey,W=this.a6B;
if(F&&x.target==this.yG.canvas){this.T(gf.Jq(this.aqO,W,x))}else{var n=new gT("click",!0);n.data={Fp:W,fq:x.target==this.S8,Oi:F};
this.T(n)}};gf.prototype.aov=function(x){if(x.detail==2&&x.target==this.m7){var F=new bs.PE(this.m7,this.KV.bind(this))}};
gf.Jq=function(x,F,W){var n=0;if(W.shiftKey)n++;if(W.altKey)n+=2;var L=new gT(S.E.v,!0);L.f=O.Yg;if(x){if(-5<F&&F<0){L=new gT(S.E.BD,!0);
L.data=O.FA.HW(n,["RGB","Rd","Grn","Bl"][-1-F])}else L.data={d:"fromchannel",U0:[F,0,n]}}else L.data={d:"frompath",U0:[F,0,n]};
return L};function j0(){bs.call(this,[8,9],!1,"---panels/paths",bs.Kz.Lc);this.UF=null;this.yo=null;
this.kX=v.t("div","lpbody scrollable");this.kX.style.marginTop="4px";this.SX=v.t("div","lpfoot");this.SO.appendChild(this.kX);
this.SO.appendChild(this.SX);this.SO.addEventListener("click",this.amW.bind(this),!1);this.iK=[];this.k("click",this.U8,this);
this.vB=[];bR.Z4(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.vB,this.SX,this.KZ.bind(this),this.Hu.bind(this))}j0.prototype=new bs("");
j0.prototype.KZ=function(x,F){var W=bR.Ct(this.vB,x),n;if(W<2){if(W==1&&x.altKey){n=new gT(S.E.M,!0);
n.data={d:S.H.Ar,ip:"strokepath"}}else{n=new gT(S.E.BD,!0);n.data=O.Sj.Va(W==0?null:"PbTl")}}else if(W==2)n=gf.Jq(!1,null,x);
else if(W==3){n=new gT(S.E.BD,!0);n.data={Y3:"make",Xe:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(W>3){var n=new gT(S.E.v,!0);
n.f=O.iM;n.data={d:"pathedit",k1:["new","del"][W-4],ag$:F}}this.T(n)};j0.prototype.Hu=function(x){this.KZ(x,!0)};
j0.prototype.WN=function(w){var x=this.iK,F=x[w];if(F==null){var W=v.t("canvas");F=W.getContext("2d");
x.push(F)}return F};j0.prototype.amW=function(x){if(x.target==this.kX){var F=this.yo;F._H=[];F.TQ=[];
F.bA=!0;F.yW=!0}};j0.prototype.U8=function(x){var F=x.data.Fp,W=this.yo,n=x.data.Oi,L=F,$=W.TQ,l=W._H;
if(F<0){L=-1-F;$=W._H;l=W.TQ}if(n){var k=$.indexOf(L);if(k==-1)$.push(L);else $.splice(k,1)}else{while($.length!=0)$.pop();
while(l.length!=0)l.pop();$.push(L)}W.bA=!0;W.yW=!0};j0.prototype.fO=function(){this.tL()};j0.prototype.Lv=function(x){this.yo=x;
this.tL()};j0.prototype.tL=function(){var x=this.yo,F=this.kX;v.Ri(F);if(x==null||!v.Ww(F))return;var W=x.m,n=x.e,L=new eu(0,0,W,n),$=this.UF=x.U.O.slice(0),l=$[0]+$[1]+$[2],k=Math.round(34*v.e1()),V=k;
if(W>n)V=Math.round(V*n/W);else k=Math.round(k*W/n);var i=x.x8(),f=i[0];for(var w=0;w<f.length;w++){var X=f[w],s=this.WN(w);
r.pa.at$(s,k,V,L,X.add.vmsk);var R=new gf(X.Fp,!1,X.Fp>=0,s,X.name,i[1].indexOf(w)!=-1,!1,O.iM,{d:"pathedit",k1:"rnm",Fp:X.Fp});
R.parent=this;F.appendChild(R.n);v.lf(s.canvas)}};j0.prototype.z4=function(x,F){this.kX.style.height=F-30-4+"px";
this.kX.style.width=x+"px"};j0.prototype._=function(){bs.prototype._.call(this);this.tL();bR.Ob(this.vB,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function eQ(x){bs.call(this,[9,x?4:5],!1,"---panels/"+(x?"character":"paragraph"),x?bs.Kz.abQ:bs.Kz.atM);
this.SO.setAttribute("style","min-width:240px;");this.af1=x;this.M6=null;this.Mh=null}eQ.prototype=new bs("");
eQ.prototype.HE=function(){this.M6=new ag;var x=this.M6,F=this.SO;x.parent=this;if(this.af1){var W=v.t("div","marged");
F.appendChild(W);W.appendChild(x.$B.n);F.appendChild(v.t("hr"));var n=v.t("div","marged");F.appendChild(n);
n.appendChild(x.qs.n);n.appendChild(x.LJ.n);var L=v.t("div","marged");F.appendChild(L);L.appendChild(x.na.n);
L.appendChild(x.so.n);F.appendChild(v.t("hr"));var $=v.t("div","marged");F.appendChild($);$.appendChild(x.zb.n);
$.appendChild(x.Rf.n);var l=v.t("div","marged");F.appendChild(l);l.appendChild(x.w4.n);l.appendChild(x.ko.n);
l.appendChild(x.YJ.n);F.appendChild(v.t("hr"));var k=v.t("div","marged");F.appendChild(k);k.appendChild(x.EI.n);
k.appendChild(x.xh.n);k.appendChild(x.Qg.n);k.appendChild(x.eC.n);k.appendChild(x.lS.n);k.appendChild(x.JR.n);
k.appendChild(x.RQ.n);k.appendChild(x.k5.n)}else{var W=v.t("div","marged");F.appendChild(W);W.appendChild(x.g2.n);
W.appendChild(x.Mp.n);W.appendChild(x.Vz.n);W.appendChild(x.aBN.n);W.appendChild(x.asg.n);W.appendChild(x.a1c.n);
W.appendChild(x.atI.n);F.appendChild(v.t("hr"));var n=v.t("div","marged");F.appendChild(n);n.appendChild(x.fE.n);
n.appendChild(x.sY.n);n.appendChild(x.Cw.n);F.appendChild(v.t("hr"));var L=v.t("div","marged");F.appendChild(L);
L.appendChild(x.RZ.n);L.appendChild(x.Df.n);L.appendChild(x.PU.n);L.appendChild(x.wn.n)}};eQ.prototype.fO=function(){if(!v.Ww(this.SO))return;
if(this.M6==null){this.HE();var x=this.Mh;if(x)this.M6.c(x.Sq,x.op,x.Jg);this.M6._()}};eQ.prototype._=function(){bs.prototype._.call(this);
if(this.M6)this.M6._()};eQ.prototype.AW=function(x,F){this.Mh=x;if(F!=iC.tB&&F!=iC.LC&&F!=iC.nx&&F!=iC.n6)return;
if(this.M6)this.M6.c(x.Sq,x.op,x.Jg)};function jI(){bs.call(this,[9,13],!1,"---panels/glyphs",bs.Kz.aqm);
this.Mh=null}jI.prototype=new bs("");jI.prototype.HE=function(){this.M6=new ag;this.M6.parent=this;this.aAy=null;
this.as6=null;this.fG=null;this.akW=null;this.ve=Math.round(290*v.e1());this.YO=45;this.ahJ=4;this.aop=this.tW.bind(this);
this.anA=0;this.VL=new hx(null,["Hi","Hello"]);this.VL.k(S.E.A,this.tW,this);var x=this.hY=new cX("-",null,null,!0);
x.k("click",this.a3S,this);var F=this.a7l=new cX("+",null,null,!0);F.k("click",this.a3S,this);this.FB=new eP(!1);
this.FB.k(S.E.A,this.SF,this);this.FB.n.style.height=250+"px";var W=this.IC=v.t("div","form padded");
this.SO.appendChild(W);W.appendChild(this.M6.$B.n);v.kE(W);W.appendChild(this.VL.n);W.appendChild(x.n);
W.appendChild(F.n);this.SO.appendChild(this.FB.n)};jI.prototype.z4=function(x,F){if(this.Xv==x||this.M6==null)return;
this.Xv=x;this.ve=Math.floor((x-13)*v.e1());this.IC.setAttribute("style","width:"+this.ve/v.e1()+"px;");
this.FB.n.style.height=F-73+"px";this.tW()};jI.prototype.SF=function(x){var F=this.asi(),W=Math.round(this.ve/F);
F/=v.e1();var n=this.FB.h()[0]*W*this.ahJ,L=this.FB.a0i();n+=Math.floor(L.y/F)*W;n+=Math.floor(L.x/F);
var $=this.fG[this.VL.h()];if(n>=$.length)return;var l=$[n],k=this.akW[l],V=new gT(S.E.v,!0);V.f=O.w1;
if(k.eU.length==0)V.data={d:"insertGlyph",b:n+1};else V.data={d:"insertText",b:String.fromCodePoint(k.eU[0])};
this.T(V)};jI.prototype.a3S=function(x){var F=1.2;if(x.target==this.hY){if(this.YO>20)this.YO/=F}else{if(this.YO<100)this.YO*=F}this.tW()};
jI.prototype.fO=function(){this.AW(this.Mh)};jI.prototype.AW=function(x,F){this.Mh=x;if(!v.Ww(this.SO))return;
if(this.M6==null)this.HE();this.M6.c(x.Sq,x.op,x.Jg);var W=x.Sq,n=W.oE.Font,V=0;if(n==null)return;var L=W.zf[n].Name;
if(this.aAy==L)return;var n=x.op.Z6(L);if(n==null)return;var $=n.maxp.numGlyphs,l=this.akW=new Array($);
for(var w=0;w<$;w++)l[w]={eU:[]};var k=Date.now(),i=new Uint8Array(1048575);for(var w=0;w<1048575;w++){var f=Typr.U.codeToGlyph(n,w);
if(f!=0&&f<$){i[w]=1;if(l[f].eU.length==0)V++;l[f].eU.push(w)}}var X=jI.nz,s=[];for(var w=0;w<X.length;
w++)s.push([]);for(var f=1;f<$;f++){s[0].push(f);var R=l[f].eU[0];if(R==null){continue}for(var h=1;h<X.length;
h++){var B=X[h].h6;for(var w=0;w<B.length;w+=2)if(B[w]<=R&&R<=B[w+1]){s[h].push(f);break}}}this.fG=s;
var e=[];for(var w=0;w<X.length;w++)e.push(X[w].xd+" ("+s[w].length+")");var U=this.VL.h();this.VL.A1(e);
this.VL.c(U);this.aAy=L;this.as6=n;this.tW()};jI.prototype.asi=function(x){var F=Math.floor(this.ve/this.YO);
return Math.floor(this.ve/F)};jI.prototype.tW=function(x){if(!v.Ww(this.SO)||this.fG==null)return;var F=this.fG[this.VL.h()],W=F.length,n=this.as6,L=Typr.U,$=this.asi(),l=$,k=l*.8,V=l*.8/n.head.unitsPerEm,i=[],f=Math.floor(this.ve/$),X=Math.ceil(W/f),s=this.ahJ,R=Date.now();
for(var h=0;h<X;h+=s){var B=v.t("canvas"),e=B.getContext("2d");B.width=$*f;B.height=l*s;e.fillStyle="white";
e.fillRect(0,0,f*$,l*s);for(var U=0;U<s;U++){for(var o=0;o<f;o++){var w=F[(h+U)*f+o];if(w==null)break;
var b=L.glyphToPath(n,w),u=r.Z.KR(b.crds);e.fillStyle="#252525";if(u.ak()){var Z=n.hmtx,I=[],H=170;for(var y in Z)I.push(y);
var D=Z[I[0]][w],N=Z[I[1]][w],j=Math.max(D,N);b={cmds:"M L M L M L".split(" "),crds:[0,0,j,0,0,-H,0,H,j,-H,j,H]};
u.m=j;u.x=0;e.strokeStyle="rgba(0,255,0,1)"}e.beginPath();var Q=o*$+($-u.m*V)*.5-u.x*V,C=U*l+k;e.translate(Q,C);
e.scale(V,-V);L.pathToContext(b,e);e.scale(1/V,-1/V);e.translate(-Q,-C);u.ak()?e.stroke():e.fill()}}e.beginPath();
for(var o=0;o<f;o++){var J=o*$+$+.5;e.moveTo(J,0);e.lineTo(J,l*s)}for(var U=0;U<s;U++){var E=U*l+l+.5;
e.moveTo(0,E);e.lineTo(f*$,E)}e.strokeStyle="rgba(0,0,0,0.3)";e.stroke();i.push(B)}this.FB.Yl(i,null,$*f,l*s)};
jI.nz=[{xd:"All Glyphs"},{xd:"Basic Latin, Latin 1",h6:[0,127,128,143]},{xd:"Latin Extended-A",h6:[256,383]},{xd:"Latin Extended-B",h6:[384,591]},{xd:"Punctuations",h6:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{xd:"Greek",h6:[880,1023]},{xd:"Cyrillic",h6:[1024,1279]},{xd:"Hebrew",h6:[1424,1535]},{xd:"Arabic",h6:[1536,1791]},{xd:"Emoji",h6:[9728,10095,127744,129535]}];
function dN(){bs.call(this,[13,0],!1,null,bs.Kz.N1);this.Vr=0;this.ajx=0;this.Mh=null}dN.prototype=new bs("");
dN.prototype.HE=function(){if(!v.Ww(this.SO)||this.LW)return;var x=v.t("div","flexrow padded");this.SO.appendChild(x);
var F=v.t("div");x.appendChild(F);this.LW=[];for(var w=0;w<2;w++){var W=new d1;this.LW.push(W);W.k("click",this.arw,this);
F.appendChild(W.n)}this.zT=new fQ(192);console.log("hsb picker");this.zT.k(S.E.A,this.PO,this);this.hX=new bh;
this.hX.parent=this;x.appendChild(this.zT.n);this.AW(this.Mh,iC.tB)};dN.prototype.arw=function(x){var F=x.currentTarget,W=this.LW.indexOf(F);
if(W==this.Vr){this.hX.xY(W)}else{this.Vr=W;this.tW()}};dN.prototype.PO=function(x){var F=this.zT.h();
this.zT.c(F);var W=Math.round(F.o*255)<<16|Math.round(F.r*255)<<8|Math.round(F.z*255),n=new gT(S.E.M,!0);
n.data={d:S.H.DD,jL:iC.N1,k1:this.Vr,b:W};this.T(n);this.ajx=Date.now()};dN.prototype.tW=function(){if(this.hX==null)return;
var x=this.Mh,F=this.Vr,W=[x.A_,x.G8];for(var w=0;w<2;w++){var n=this.LW[w],L=n.n.style;n.KB(W[w]);if(w==F)L.filter="drop-shadow(0 0 1px #000000)"}var $=W[F];
if(Date.now()-this.ajx>100)this.zT.c({o:($>>>16)/255,r:($>>>8&255)/255,z:($&255)/255})};dN.prototype.AW=function(x,F){this.Mh=x;
if(this.hX==null)return;if(F==iC.tB||F==iC.N1){this.hX.ail(x.A_,x.G8);this.tW()}};dN.prototype.Lv=function(){this.HE()};
dN.prototype.fO=function(){this.HE();this.tW()};function gu(){bs.call(this,"CSS",!1,"---panels/css",bs.Kz.CSS);
this.bn=null;var x=v.t("div","padded");this.SO.appendChild(x);this.fo=v.t("textarea");v.Fs(this.fo);
x.appendChild(this.fo)}gu.prototype=new bs("");gu.prototype.z4=function(x,F){if(this.Xv==x)return;this.Xv=x;
this.fo.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(x-10)+"px; height:"+(F-10)+"px")};
gu.prototype.Lv=function(x){this.bn=x;this.tW()};gu.prototype.AW=function(x,F){if(F==iC.nx)this.tW()};
gu.prototype.tW=function(){var x=this.bn;if(x==null||x.g.length==0)return;if(!v.Ww(this.SO))return;var F=x.B[x.g[0]],W=CSS.a9H(F,x);
if(W.length!=0)this.fo.value=W.join(";\n")+";";else this.fo.value=""};gu.prototype.fO=function(){this.tW()};
function dm(){bs.call(this,"Text to Image",!1,null,bs.Kz.auM);this.bn=null;var x=this.ago=v.t("div","form padded labfxd");
this.SO.appendChild(x);this.asR=["512x512","1024x1024"];this.OL=0;this.AA={};this.i4=[];this.JM=[];this.kq=null;
var F=["API Key","Generate"],W=this.H3=[[new e8("Stable Diffusion"),new c7(null,["Our key","Your own key"]),new f8],[new f8("Prompt",null,null,4),new j2("Inpaint the selection"),new cX([12,49],!0,null,!0)]];
W[1][0].c("goat riding a bike");for(var w=0;w<2;w++){var n=new cX(F[w]);this.i4.push(n);x.appendChild(n.n);
n.k("click",this.a3T,this);var L=v.t("div");this.JM.push(L);var $=W[w];for(var l=0;l<$.length;l++){$[l].parent=this;
L.appendChild($[l].n);if(w==0)$[l].k(S.E.A,this.ae0,this);if(w==1&&l==2)$[l].k("click",this.a9Y,this)}}v.K0(x);
this.JZ=v.t("div");x.appendChild(this.JZ);this.ta=v.t("div","scrollable");this.JM[1].appendChild(this.ta);
var k=window.locStor.getItem("dezgo_api_key");if(k){k=k.split(",");W[0][1].c(parseInt(k[0]));W[0][2].c(k[1])}else W[0][2].c("your_api_key");
this.ae0();this.a3T(null,1);dm.apt=dm.prototype.a1R.bind(this)}dm.prototype=new bs("");dm.prototype.a9Y=function(){var x=this.H3,F=x[0],W=x[1],n=F[1].h()==0,L=F[2].h().trim(),$=W[0].h().trim(),l=W[1].h(),k=dm.awm(n,L,$,l?this.bn:null);
if(k==1)v.fX(this.SO,"disabled")};dm.apt=null;dm.YB=0;dm.agc=null;dm.Rt=function(x){if(!ii.vR()){var F=Math.round((Date.now()-dm.YB)/1e3),W=0;
if(F<W){window.confirm("Wait "+(W-F)+" seconds or get a Premium account for the unlimited access. Or enter your own API Key.");
return!1}}if(x&&dm.BN(x)==null){alert("Your area is too big, we support only smaller areas.");return!1}return!0};
dm.BN=function(x){var F=x.B[x.g[0]].rect,W=x.u.rect.jB(F),$=7;if(W.P()>1024*1024)return null;var n=W.P()>512*512,L=512*512;
if(n){L=1024*1024;$=15}while(!0){var l=W.clone();l.za(1,1);l=l.jB(F);if(l.P()>W.P()&&l.P()<=L)W=l;else break}var k=W.m&$;
W.m-=k;W.x+=k>>>1;var V=W.e&$;W.e-=V;W.y+=V>>>1;return W};dm.awm=function(x,F,W,n,L,$){if(!navigator.onLine){alert("Get online to use this feature.");
return}if(x&&!dm.Rt())return;var l=n?dm.BN(n).P()>512*512:!0,k,V,i=JSON.parse(c$.gV("l6oGo\"40.m {b$AXcpiCzCUgcaASO6T~&*:G@&*B2=^DdL>PLJJ\\X Xgh ^")),f=c$.gV("sx| !WZ\\0a=F>js@zFNQRV-'\\/dfv:oHDMK&20+\\a`26l<@xFL"),X={};
X[i[0]]=x?f:F;X[i[1]]=i[2];var s={prompt:W,upscale:l?2:1,steps:30,model:n?"stablediffusion_inpaint_2":"stablediffusion_2_1_512px"};
if($)for(var R in $)s[R]=$[R];var h="https://dezgo.p.rapidapi.com/"+(n==null?"text2image":"inpainting"),B=new XMLHttpRequest;
B.open("POST",h,!0);for(var e in X)B.setRequestHeader(e,X[e]);if(L==null)L=dm.apt;B.onload=L;B.responseType="arraybuffer";
if(n==null){B.setRequestHeader("content-type","application/x-www-form-urlencoded");var U=[];for(var R in s)U.push(encodeURIComponent(R)+"="+encodeURIComponent(s[R]));
B.send(U.join("&"));k=V=512}else{var o=dm.BN(n),b=n.B[n.g[0]],u=n.u,Z=r.R(o.P()*4);r.sh(b.buffer,b.rect,Z,o);
var I=r.R(o.P());r.Hz(u.channel,u.rect,I,o);if(l){console.log("downscaling");var y=r.gR(Z,o);Z=y.Xu;
var D=r.WM(I,o);I=D.Xu;o=D.rect}var N=UPNG.encode([Z.buffer],o.m,o.e);r.round(I);var j=r.R(o.P()*4);
j.fill(255);r.Mi(I,j);var H=UPNG.encode([j.buffer],o.m,o.e,null,null,null,!0),Q=new FormData;Q.append("init_image",new Blob([N],{type:"image/png"}));
Q.append("mask_image",new Blob([H],{type:"image/png"}));for(var R in s)Q.append(R,s[R]);B.send(Q);k=o.m;
V=o.e}dm.agc=[k,V,l,x];return 1};dm.UG=function(x){dm.YB=Date.now();var F=this.agc,W=F[0],n=F[1],L=F[2],$=F[3],k=30;
if(!$)return;var l=ii.vR()?"Premium":"Free",V=Math.max(W*n,512*512),i=(V*6849e-9-1.133)*Math.max(k,10);
if(L==2)i+=V*49278e-9;for(var w=0;w<i;w++)ii.event("dezgo_Dezgo "+l+(x?" "+x:""))};dm.prototype.a1R=function(x){var F=this.H3;
v.B$(this.SO,"disabled");var W={created:Math.round(Date.now()/1e3),data:[{b64_json:jW.pe(x.target.response)}]},n=this.AA,L=F[1][0].h().trim();
if(n[L]==null)n[L]=[];n[L].push(W);dm.UG();this.tW()};dm.prototype.ae0=function(x){var F=this.H3,W=[F[0][1].h(),F[0][2].h().trim()];
window.locStor.setItem("dezgo_api_key",W.join(","));F[0][2].DE(W[0]==1)};dm.prototype.a3T=function(x,w){v.Ri(this.JZ);
if(w==null)w=this.i4.indexOf(x.target);for(var F=0;F<2;F++)this.i4[F].c(F==w);this.JZ.appendChild(this.JM[w])};
dm.prototype.z4=function(x,F){if(this.Xv==x)return;this.Xv=x;this.ago.style.width=x-16+"px";this.ta.style.height=F-190+"px"};
dm.prototype.Lv=function(x,F){this.bn=x;if(x)this.OL=F.indexOf(x);this.tW()};dm.prototype.AW=function(x,F){};
dm.prototype._=function(x,F){bs.prototype._.call(this);var W=this.H3,L=" target=\"_blank\" style=\"color:inherit;\">";
for(var w=0;w<2;w++){this.i4[w]._();for(var n=0;n<W[w].length;n++)this.H3[w][n]._()}W[0][0].n.innerHTML="Stable Diffusion - <a href=\"//rapidapi.com/dezgo/api/dezgo\" "+L+"rapidapi.com/dezgo</a>"};
dm.prototype.tW=function(){var x=this.ta,F=this.AA;v.Ri(x);var W=[];for(var n in F){F[n].sort(function(R,h){return h.created-R.created});
W.push([n,F[n]])}W.sort(function(R,h){return h[1][0].created-R[1][0].created});var L=this.awG.bind(this),$=this.kq=[[],[]];
for(var w=0;w<W.length;w++){var n=W[w][0],l=W[w][1],k=v.t("div");k.textContent=n;x.appendChild(k);for(var V=0;
V<l.length;V++){var i=l[V].data;for(var f=0;f<i.length;f++){var X=i[f].b64_json,s=v.t("img");s.setAttribute("src","data:image/png;base64,"+X);
s.onclick=L;s.style.width=128/v.e1()+"px";s.style.marginRight="4px";s.style.cursor="pointer";x.appendChild(s);
$[0].push(s);$[1].push(i[f])}}}};dm.prototype.awG=function(x){var w=this.kq[0].indexOf(x.target),F=this.kq[1][w].b64_json,W=jW.Ip(F);
jh.s5({url:"file",OL:this.OL},W,this)};dm.prototype.fO=function(){this.tW()};function j3(){bs.call(this,[9,6],!1,"---panels/info",bs.Kz.aaK);
this.SO.setAttribute("style","min-width:240px;");this.bn=null;this.Mh=null;this.rH=null;var x=this.bQ=[];
for(var F=0;F<3;F++){var W=v.t("div","marged row");this.SO.appendChild(W);var n=v.t("div","cell");n.setAttribute("style","width:10em");
W.appendChild(n);var L=v.t("div","cell");L.setAttribute("style","width:10em");W.appendChild(L);var $=[8,4,3][F];
for(var w=0;w<$;w++){var l=new e8("");x.push(l);l.c(0);l.n.style.padding="0";var k=w<(F==1?2:4)?n:L;
k.appendChild(l.n);v.kE(k)}if(F<2)v.K0(this.SO)}this.dm=x[8];this.cN=x[9];this.q2=x[10];this.ym=x[11];
v.K0(this.SO);this.rH=v.t("div");this.rH.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.SO.appendChild(this.rH)}j3.prototype=new bs("");j3.prototype.Lx=function(x,F,W,n,L){if(!v.Ww(this.SO)||x==null)return;
var $=x.U.m$(L.x,L.y),l=new eX(Math.floor($.x),Math.floor($.y));if(!L.Pz){var k=0,V=0,i=0,f=0,X=this.bQ;
if(!L.Pz&&!x.a85()&&new eu(0,0,x.m-1,x.e-1).U4(l)){var s=x.Hi(),w=x.m*l.y+l.x<<2;k=s[w+0];V=s[w+1];i=s[w+2];
f=s[w+3]}var R=r.yC([k/255,V/255,i/255]);X[0].c("R: "+k);X[1].c("G: "+V);X[2].c("B: "+i);X[3].c("A: "+f);
X[4].c("C: "+Math.round(R[0]*100)+"%");X[5].c("M: "+Math.round(R[1]*100)+"%");X[6].c("Y: "+Math.round(R[2]*100)+"%");
X[7].c("K: "+Math.round(R[3]*100)+"%");var h=r.aBh(k,V,i);X[12].c("H: "+Math.round(h.eD*360)+"\xB0");
X[13].c("S: "+Math.round(h.TR*100)+"%");X[14].c("B: "+Math.round(h.z*100/255)+"%")}var B=x.U.Q>1?new eX($.x,$.y):l;
this.dm.c("X: "+r.uX.e3(B.x,x.Bq,W,x.m));this.cN.c("Y: "+r.uX.e3(B.y,x.Bq,W,x.e));this.KK()};j3.prototype.KK=function(){var x=this.bn,F=this.Mh,W=0,n=0;
if(x&&F){if(x.U.M2){W=x.U.M2.m;n=x.U.M2.e}else if(x.u){W=x.u.rect.m;n=x.u.rect.e}W=r.uX.e3(Math.abs(W),x.Bq,F,x.m);
n=r.uX.e3(Math.abs(n),x.Bq,F,x.e)}this.q2.c(hz.get([12,41]).charAt(0)+": "+W);this.ym.c(hz.get([12,42]).charAt(0)+": "+n)};
j3.prototype._=function(){bs.prototype._.call(this);this.KK()};j3.prototype.fO=function(){this.Lv(this.bn,null,this.Mh)};
j3.prototype.Lv=function(x,F,W){this.bn=x;this.Mh=W;if(!v.Ww(this.SO))return;console.log("update");this.KK();
if(x&&x.g.length!=0){var n=x.g[0],L=x.B[n],$=a3.get(L.add)!=null,l=$&&x.g[0]>0;this.rH.innerHTML="";
for(var w=0;w<x.FK.length;w++){var k=x.FK[w],L=x.U.Q0(k.x,k.y),V=O.c2.gJ(x,L,1,l?1:2),i={o:V>>>16&255,r:V>>>8&255,z:V&255},B="<span style=\"display:inline-block; width:25px; text-align:right\">",e="</span>";
if(l){var f=x.g[0];x.g[0]=n-1;var X=O.c2.gJ(x,L,1,1),s={o:X>>>16&255,r:X>>>8&255,z:X&255};x.g[0]=f}var R=v.t("div");
R.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var h="<b>#"+(w+1)+"</b>",U=[i.o,i.r,i.z],o=l?[s.o,s.r,s.z]:null,b=["R","G","B"];
for(var u=0;u<3;u++)h+="<br/>"+B+b[u]+e+": "+(l?B+o[u]+e+" /":"")+B+U[u]+e;R.innerHTML=h;this.rH.appendChild(R)}}};
function h8(){bs.call(this,[9,1],!1,"---panels/layers",bs.Kz.c9);this.GN=null;this.Ho=[];this.GE=null;
this.lG=null;this.$e=v.t("div","lphead");this.kX=v.t("div","lpbody scrollable");this.kX.addEventListener("scroll",this.adl.bind(this),!1);
this.SX=v.t("div","lpfoot");var x=this.a68=v.t("span");x.setAttribute("style","display:inline-block; height:26px");
this.$e.appendChild(x);this.nW=new hx(null,a2.bb,a2.Jv);this.nW.k(S.E.A,this.ak3,this);this.$e.appendChild(this.nW.n);
this.re=new c_([12,0],0,100,"%",0);this.re.k(S.E.A,this.aj3,this);this.re.parent=this;this.$e.appendChild(this.re.n);
this.XZ=new gM([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.XZ.k(S.E.A,this.arH,this);this.$e.appendChild(this.XZ.n);this.O9=new c_([12,26],0,100,"%",0);this.O9.k(S.E.A,this.a7y,this);
this.O9.parent=this;this.$e.appendChild(this.O9.n);this.vB=[];this.Z4();this.SO.appendChild(this.$e);
this.SO.appendChild(this.kX);this.kX.addEventListener("dragover",function(L){L.preventDefault()},!1);
this.kX.addEventListener("dragenter",v.Wa,!1);this.kX.addEventListener("drop",this.agS.bind(this),!1);
this.SO.appendChild(this.SX);this.SO.addEventListener("contextmenu",v.Wa,!1);this.k("rclick",this.ajy,this);
var F=function(L,$,w){return{BV:this.Zl[w]==1}}.bind(this);this.a3N=new g$([{name:[0,6],w:F},{name:[14,10],w:F},{name:[6,57,2],w:F,sz:!0},{name:"Long-tap as a right click",w:F,sz:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",w:function(){return{BV:a6.r$==0,w:!0}}},{name:"Thumbnails by Document",w:function(){return{BV:a6.r$==1,w:!0}}}]);
this.a3N.k("select",this.ajz,this);this.Zl=[0,1,1,0];var W=window.locStor;if(W){var n=W.getItem("lpOpt");
if(n){n=JSON.parse(n);this.Zl=n[0];a6.zY=n[1];a6.r$=n[2]}}this.ajz()}h8.prototype=new bs("");h8.prototype.yy=function(){if(this.ahf)return;
var x=ds.Jw(!0),F=ds.zc(!0);this.ahf=new g$(x,F);var x=[{name:[14,10]},{name:[14,11],sz:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],sz:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",w:function(W){return{w:W.B[W.g[0]].add.SoLd!=null}},sz:!0},{name:[6,8],w:h8.aqH},{name:[6,34],w:function(W){var n=W.B[W.g[0]];
return{w:n.add.lmfx!=null&&!n.vN()}}},{name:[6,40],sz:!0,w:function(W){var n=W.B[W.g[0]];return{w:n.add.TySh!=null}}},{name:"",sz:!0,w:function(W){var n=W.B[W.g[0]],L=n.add.TySh,$=L?L.OU:null;
return{w:L!=null&&$.Curve==null,ye:hz.get(L&&iV.eQ($)==0?[16,3,1]:[16,3,0])}}},h8.aiT(!1),ds.anS(),{name:[6,12,0],w:function(W){var n=W==null?0:W.g.length;
return{w:n!=0&&(n!=1||W.g[0]!=0),ye:hz.get(n>1||n==1&&W.B[W.g[0]].vN()?[6,12,0]:[6,10])}}},{name:[6,12,1],sz:!0},{name:[13,0],sub:function(){var W=[];
for(var w=0;w<gh.N2.length;w++)W.push({name:[13,1,w],pa:"#"+r.mZ(gh.N2[w])});return W}()}],F=[{K:S.E.M,C:{d:S.H.Ar,ip:"layerstyle"}},{K:S.E.v,f:O.Yg,C:{d:"fromlayer",U0:[null,0,0]}},{K:S.E.v,f:O.c9,C:{d:t.Fu}},{K:S.E.M,C:{d:S.H.Ar,ip:"duplinto"}},{K:S.E.v,f:O.c9,C:{d:t.AL}},{K:S.E.BD,C:{Y3:"newPlacedLayer"}},{K:S.E.v,f:O.c9,C:{d:t.x0}},{K:S.E.BD,C:{Y3:"rasterizeLayer",Xe:{classID:"rasterizeLayer",null:ga.oY("Lyr",!0)}}},{K:S.E.v,f:O.c9,C:{d:t.J2}},{K:S.E.v,f:O.c9,C:{d:t.awd}},{K:S.E.v,f:O.w1,C:{d:"switchPntPrgr"}},{K:S.E.v,f:O.c9,C:{d:t.rF}},ds.awM(),{K:S.E.BD,C:{Y3:"mergeLayersNew",Xe:{__name:"Merge Layers",classID:"Mrg2"}}},{K:S.E.BD,C:{Y3:"flattenImage"}},{sub:function(){var W=[];
for(var w=0;w<8;w++)W.push({K:S.E.v,f:O.c9,C:{d:t.uQ,a9o:w}});return W}()}];this.l2=new g$(x,F);var x=[{name:[6,45],w:function(W){var n=W.B[W.g[0]];
return{w:n.DU(W).F==null}}},{name:[6,47]}],F=[{K:S.E.v,f:O.c9,C:{d:t.db}},{K:S.E.v,f:O.c9,C:{d:t.Os}}];
this.aAo=new g$(x,F);var x=[{name:"enab/disab",w:function(W){return{ye:hz.get(W.B[W.g[0]].GH().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],w:function(W){return{w:W.SP(!1,!0)}}}],F=[{K:S.E.v,f:O.c9,C:{d:t.Xt}},{K:S.E.v,f:O.c9,C:{d:t.LO}},{K:S.E.v,f:O.c9,C:{d:t.dN}}];
this.aAr=new g$(x,F);var x=[{name:"enab/disab",w:function(W){return{ye:hz.get(W.B[W.g[0]].DU(W).F.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],F=[{K:S.E.v,f:O.c9,C:{d:t.OG}},{K:S.E.v,f:O.c9,C:{d:t.nv}}];
this.aCA=new g$(x,F);var x=[{name:"enab/disab",w:function(W){return{ye:hz.get(W.B[W.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],F=[{K:S.E.v,f:O.c9,C:{d:t.ha}},{K:S.E.v,f:O.c9,C:{d:t.s0}},{K:S.E.v,f:O.c9,C:{d:t.mR}}];
this.aBH=new g$(x,F);this.apy=new g$(ds.akj(!0),ds.yn(!0));this.a4d=new g$(ds.Jw(),ds.zc())};h8.prototype.adl=function(x){var F=this.kX.scrollTop-600;
for(var w=0;w<this.Ho.length;w++){var W=this.Ho[w],n=W.BG;if(F<W.BG)W.abz();if(W.BG>F+this.eD+600)break}};
h8.prototype.HD=function(){return this.a3N};h8.prototype.ajz=function(x){var F=this.Zl;if(x){var W=x.target.wK(),w=W[0];
if(w<4)F[w]=1-F[w];else if(w<6){if(w==4&&a6.zY-10>=10)a6.zY-=10;if(w==5&&a6.zY+10<=200)a6.zY+=10;if(this.GE)this.GE.Md=!0}else{if(w==6)a6.r$=0;
if(w==7)a6.r$=1;if(this.GE)this.GE.Md=!0}var n=window.locStor;if(n)n.setItem("lpOpt",JSON.stringify([F,a6.zY,a6.r$]))}if(F[0]==1)this.aaf();
var L=[[{n:this.a68}],[this.nW,this.re],[this.XZ,this.O9]];for(var w=0;w<3;w++)for(var $=0;$<L[w].length;
$++)L[w][$].n.style.display=F[w]==1?"inline-block":"none";this.z4(this.Xv,this.eD)};h8.prototype.afz=function(){var x=this.gq;
if(x==null)return!1;if(x.h()){var F=this.Vl.h(),W=this.lX[F].h();if(F==0)return W.indexOf(!0)!=-1;if(F==1)return W!=""}return!1};
h8.aiT=function(x){var F=function(n){var L=n!=null&&n.g.length!=0&&n.B[n.g[0]].gO;return{BV:L,w:n!=null&&n._B(n.g[0]),C:{K:S.E.BD,C:{Y3:L?"ungroup":"groupEvent",Xe:{classID:L?"Ungr":"GrpL",null:ga.oY("Lyr",!0)}}}}},W={name:[6,6,0],sz:!0,w:F};
if(x)W.$H=[gp.d8,gp.Fr,gp.mw];return W};h8.aqH=function(x,F){if(x)for(var w=0;w<x.g.length;w++){var W=x.B[x.g[w]];
if(W.add.TySh||W.add.SoLd||W.add.SoCo||W.add.GdFl||W.add.PtFl)return{w:!0}}return{w:!1}};h8.prototype.agS=function(x){v.Wa(x);
var F=x.dataTransfer.getData("Text"),W=1,n=0;if(F==""){v.C6(x,this,this.lG.indexOf(this.GE),n+(W>.5?0:1))}else if(F!="--panel"){var F=JSON.parse(F),L=F.d$;
if(L=="l")this.Lg({d:t.r_,source:F.fe,target:n,ft:W})}};h8.prototype.ajy=function(x){var F=this.GE,W=x.data,L;
if(F.g.indexOf(W.a)==-1){var n={d:t.uA,a:x.target.Mj.index,ll:W.sj};this.Lg(n)}if(F.g.indexOf(W.a)==-1)return;
this.yy();if(W.sj==1){L=this.aAr}else if(W.sj==2){L=this.aBH}else if(W.sj==3){L=this.aCA}else if(W.sj==4){L=this.aAo}else if(W.sj==5){L=this.ahf}else{L=this.l2}L._();
L.update(F);L.parent=this;var $=new gT(S.E.M,!0);$.data={d:S.H.OO,f_:L,x:W._b.x+1,y:W._b.y+1};this.T($)};
h8.prototype._=function(){bs.prototype._.call(this);this.nW._();this.re._();this.XZ._();this.O9._();
if(this.gq){this.gq._();this.lX[0]._()}if(this.GE)this.Lv(this.GE);var x="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var w=0;w<this.vB.length;w++){var F=this.vB[w];F.rT(v.ol(x[w],null,"miniscale"));if(w==1||w==3){F.n.style.position="relative";
var W=v.t("img","gsicon");W.setAttribute("src",PIMG["tools/corner"]);W.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
F.n.appendChild(W)}}};h8.prototype.Lv=function(x,F){if(x&&!x.Md)return;if(x==null)v.fX(this.SO,"disabled");
else v.B$(this.SO,"disabled");this.GE=x;this.lG=F;if(this.GN!=null){v.Ri(this.kX);this.GN=null;this.Ho=[]}if(x==null)return;
var W=!1;for(var w=0;w<x.o2.length;w++)if(x.o2[w].NZ)W=!0;this.GN=new gh(x.root,this,x,{Rr:0,vo:!1},{aBq:W,aoF:this.afz()},this.Ho,0,new eu(0,0,x.m,x.e));
if(x.g.length==0||x.B[x.g[0]]==null)v.fX(this.$e,"disabled");else{v.B$(this.$e,"disabled");if(x.g.length==1&&x.XB){var n=x.g[0];
for(var w=0;w<this.Ho.length;w++){var L=this.Ho[w];if(L.Mj.index==n&&L.$e.scrollIntoView)L.$e.scrollIntoView({block:"nearest"})}}var $=x.B[x.g[0]];
if($.vN()){this.nW.A1([[15,10,27]].concat(a2.bb),[1].concat(a2.Jv));var l=a2.BL.indexOf($.q_);this.nW.c(l+1)}else{this.nW.A1(a2.bb,a2.Jv);
var l=a2.BL.indexOf($.q_);this.nW.c(l)}this.re.c(Math.round(100*$.opacity/255));this.XZ.c([$._3(0),$._3(1),$._3(2),$._3(31)]);
var k=x.Z2();this.nW.DE(!k);this.O9.DE(!k);this.re.DE(!k);this.XZ.DE(!(k&&!$._3(31)));this.O9.c(Math.round(100*($.add.iOpa!=null?$.add.iOpa/255:1)));
this.vB[2].af7(hz.get($.GH()?[6,23]:[6,21]))}this.adl(null)};h8.prototype.z4=function(x,F){this.Xv=x;
this.eD=F;var W=this.$e.getBoundingClientRect().height;if(55<W&&W<56)W=60.2;var n=this.SX.getBoundingClientRect().height,L=F-(W+n+3);
this.kX.style.height=L+"px";this.kX.style.width=x+"px"};h8.prototype.ak3=function(x){this.Lg({d:t.rX,k9:this.nW.h()})};
h8.prototype.aj3=function(x){this.Lg({d:t.W2,k9:Math.round(255*this.re.h()/100)})};h8.prototype.arH=function(x){this.Lg({d:t.ku,k9:[this.XZ.h(),[0,1,2,31]]})};
h8.prototype.a7y=function(x){this.Lg({d:t.MD,k9:Math.round(255*this.O9.h()/100)})};h8.prototype.Sm=function(x){if(x.target==this.Vl)this.aaf();
var F=this.gq.h();if(F)v.B$(this.zN,"disabled");else v.fX(this.zN,"disabled");this._();this.GE.Md=!0;
this.Lv(this.GE);this.GE.Md=!1};h8.prototype.aaf=function(){var x=this.zN;if(x==null){var F=this.a68,W=this.gq=new j2([0,6]);
W.k(S.E.A,this.Sm,this);F.appendChild(W.n);x=this.zN=v.t("span","disabled");F.appendChild(x);this.Vl=new hx(null,["Kind",[12,48]],[]);
this.Vl.k(S.E.A,this.Sm,this);var n=this.lX=[new gM(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new f8(null,null,8)];
n[0].k(S.E.A,this.Sm,this);n[1].k("input",this.Sm,this)}v.Ri(x);x.appendChild(this.Vl.n);x.appendChild(this.lX[this.Vl.h()].n)};
h8.prototype.aeD=function(x){this.yy();this.aa3(x,this.apy)};h8.prototype.aus=function(x){this.yy();
this.aa3(x,this.a4d)};h8.prototype.aa3=function(x,F){var W=x.currentTarget;if(v.Ww(F.n))return;x.stopPropagation();
var n=W.getBoundingClientRect();F._();F.update(this.GE);F.parent=this;var L=new gT(S.E.M,!0);L.data={d:S.H.OO,f_:F,x:n.left,y:n.top,axY:!0};
this.T(L)};h8.prototype.avy=function(x){this.Lg({d:t.acX})};h8.prototype.ah2=function(x){this.Lg({d:this.GE.g.length>1?t.YV:t.Hg})};
h8.prototype.a8W=function(x){this.Lg({d:t.Ut})};h8.prototype.aqd=function(x){var F=this.GE;if(F.g.length==0)return;
var W=F.B[F.g[0]],n=W.sj;this.Lg({d:n<=0?W.HZ?t.s0:t.AL:n==3?t.nv:t.LO})};h8.prototype.ap2=function(x){this.Lg({d:t.xU})};
h8.prototype.Lg=function(x){var F=new gT(S.E.v,!0);F.data=x;F.f=O.c9;this.T(F)};h8.prototype.Z4=function(){var x=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],F=[this.ap2,this.aus,this.avy,this.aeD,this.ah2,this.a8W,this.aqd],W=this.ajk.bind(this);
for(var w=0;w<x.length;w++){var n=new cX("W",!1,x[w]);this.vB.push(n);v.p6(n.n,F[w].bind(this));this.SX.appendChild(n.n);
if(w>=x.length-3){var L=n.n;L.addEventListener("drop",W,!1);L.addEventListener("dragover",function($){$.preventDefault()},!1);
L.addEventListener("dragenter",v.Wa,!1)}}};h8.prototype.ajk=function(x){v.Wa(x);var F=0,W=this.vB;while(W[F].n!=x.currentTarget)F++;
W[F].jd();var n=x.dataTransfer.getData("Text");if(n=="")return;var n=JSON.parse(n);if(n.d$=="l"){var L={d:[t.YV,t.Fu,t.AL][F-4]};
if(this.GE.g.indexOf(n.fe)==-1)L.a=n.fe;this.Lg(L)}if(F!=6)return;if(n.d$=="sm"||n.d$=="s"){var $=new gT(S.E.v,!0);
$.f=O.pj;$.data={d:n.d$=="sm"?"st_clear":"st_delsingle",a:n.fe,fe:n.Zj};this.T($)}if(n.d$=="fm"||n.d$=="f"){this.Lg({d:n.d$=="fm"?t.Os:t.kx,src:n.fe,Zj:n.Zj})}if(n.d$=="m"||n.d$=="vm"){this.Lg({d:n.d$=="m"?t.LO:t.s0,a:n.fe})}};
function gh(x,F,W,n,L,$,l,k){bS.call(this);this.parent=F;this.BG=l;this.Mj=x;$.push(this);this.YR=W;
this._8=n;var V=F.kX,i=x.a,f=W.g.indexOf(x.index)!=-1,h=null;this.$e=v.t("div",f?"head selected":"head");
if(i.add.artb!=null){v.fX(this.$e,"artb");k=i.U$()}var X=this.a7r=Math.floor(10+i.aqL/v.e1()),s="height: "+X+"px;";
if(f&&L.aBq)s+="background-color:rgba(255,50,50,0.4);";this.$e.setAttribute("style",s);this.Mu=k;var R=this.atS=this.ak4.bind(this),B=L.aoF&&!this.ahA();
if(!B){if(x.depth!=0){V.appendChild(this.$e);l+=X}if(i.e6()||i.mK())if(i.gN()){h=this.a7R=v.t("div","lpineck");
V.appendChild(h);if(i.e6()){h.addEventListener("contextmenu",R,!1);var e=new h8.lQ(hz.get([12,1]),"sm","layerstyle",x.depth,0,null);
l+=21;e.parent=this;h.appendChild(e.n);var U=i.add.lmfx,o=U.masterFXSwitch.v;e.FH(o);for(var w=0;w<eC.order.length;
w++){var b=U[eC.UM[w]].v;if(b.length==0)continue;for(var u=0;u<b.length;u++){var e=new h8.lQ(hz.get(eC.names[w]),"s","layerstyle",x.depth,1,[w,u]);
l+=21;e.FH(o&&b[u].v.enab.v);e.parent=this;h.appendChild(e.n)}}}if(i.mK()){var Z=i.DU(W).F;if(Z)this.kj=v.t("div","thumb");
var e=new h8.lQ(hz.get([12,55]),"fm",null,x.depth,0,-1,Z?this.kj:null,X);l+=Z?X:21;e.parent=this;h.appendChild(e.n);
this.atH=e.n;this.atH.addEventListener("contextmenu",R,!1);var U=i.add.SoLd.filterFX.v,I=U.filterFXList.v,o=U.enab.v;
e.FH(o);for(var w=I.length-1;w>=0;w--){var y=I[w].v,D=ew.Vd(y);if(a3.UO[D])D=a3.UO[D];var N=y.Nm.v;if(ew.names[D])N=hz.get(ew.names[D]);
if(a3.names[D])N=hz.get(a3.names[D]);var j="afw_"+D,e=new h8.lQ(N,"f",j,x.depth,1,w);l+=21;e.FH(o&&y.enab.v);
e.parent=this;h.appendChild(e.n)}}}}var H=i.add.lclr;if(H==null)H=0;H=H==0?n.Rr:gh.N2[H];this.alX=H;
if(i.vN()&&(i.add.lsct==eD.en||L.aoF)){var Q={Rr:H,vo:n.vo||i._3(31)};for(var w=x.children.length-1;
w>=0;w--){var C=new gh(x.children[w],F,W,Q,L,$,l,k);l=C.ay6}}this.ay6=l}gh.prototype=new bS;gh.N2=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
gh.prototype.abz=function(){if(this.AQ)return;var x=this.Mj,F=x.a,W=this.YR,n=this._8,X=!0,Q=!1;x.k7(W,this.Mu,!0);
var L=v.t("div","headL"),$=v.t("div","headR");this.$e.appendChild(L);this.$e.appendChild($);var l=this.$e;
l.setAttribute("draggable","true");l.addEventListener("dragstart",this.i9.bind(this),!1);l.addEventListener("drop",this.gA.bind(this),!1);
l.addEventListener("dragover",this.Lz.bind(this),!1);l.addEventListener("dragenter",v.Wa,!1);l.addEventListener("dragleave",this.Ay.bind(this),!1);
var k=[],V=[null,null,null,null],i=F.MG(),f=x;while(f.parent){f=f.parent;i=i&&f.a.MG()}if(F.gO){for(var w=x.index-1;
w>=0;w--){var s=W.B[w];if(!s.gO){X=s.MG();break}}}var R=F.MG()?i&&X?2:1:0;this.AQ=v.t("div");var h=v.t("div",R==0?"sqr":"eye");
this.AQ.appendChild(h);h.style.opacity=[.12,.33,1][R];var B=v.t("div","space");this.m7=v.t("div","label");
this.m7.setAttribute("style","max-width:calc(100% - "+(96+x.depth*20)+"px); margin-top:"+(this.a7r-19)/2+"px;"+(F.Tg?"text-decoration:underline;":""));
this.m7.textContent=F.getName();this.tg=v.t("div","lock");this.afE=v.t("div","lrfx");this.wu=v.t("div","arfx");
var e=this.atS,U=this.a5T.bind(this);this.$e.addEventListener("click",U,!1);this.$e.addEventListener("contextmenu",e,!1);
var o=this.alX;if(o!=0){var b=[o>>16,o>>8&255,o&255];for(var w=0;w<3;w++){b[w]="calc("+b[w]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.AQ.setAttribute("style","background-color:rgba("+b.join(",")+",1);")}var u=this.auG.bind(this);
this.AQ.addEventListener("mousedown",u,!1);this.AQ.addEventListener("mouseover",u,!1);this.wu.addEventListener("click",this.a1T.bind(this),!1);
k[0]=this.AQ;k[1]=B;k[10]=this.m7;if(F.vN()){var Z=v.t("div","arrow"),I=v.t("div","folder");this.bx(I);
Z.addEventListener("click",this.aDR.bind(this),!1);k[2]=Z;k[3]=I;Z.className=F.add.lsct==eD.en?"open":"closed"}else{this.ai=v.t("div","thumb");
k[5]=this.ai;gh.IT(this.ai,F.L0);this.bx(this.ai);if(a3.get(F.add))v.fX(F.L0.canvas,"gsicon")}var y=F.GH();
if(y){this.xx=v.t("div","chain");this.YE=v.t("div","thumb");gh.IT(this.YE,F.Cq,!0);this.xx.style.opacity=y.eS?1:0;
this.xx.addEventListener("click",this.ady.bind(this),!1)}var D=F.qA()&&F.add.vmsk;if(F.add.vmsk&&!D){this.Lh=v.t("div","chain");
this.ua=v.t("div","thumb");gh.IT(this.ua,F._G,!0);this.Lh.style.opacity=F.add.vmsk.eS?1:0;this.Lh.addEventListener("click",this.akG.bind(this),!1)}if(F.mK()&&F.gN()&&F.DU(W).F){gh.IT(this.kj,F.iH,!1);
this.bx(this.kj);this.kj.addEventListener("click",U,!1);this.kj.addEventListener("contextmenu",e,!1)}if(x.index==W.g[0]){var N=F.sj,j;
if(N<=0)j=this.ai;else if(N==1)j=this.YE;else if(N==3)j=this.kj;if(j)j.className="thumb active";if(F.HZ&&this.ua)this.ua.className="thumb active"}B.setAttribute("style","width:"+Math.max(0,x.depth-1)*18+"px");
var H=F.add.lspf!=null&&F.add.lspf!=0||n.vo;this.tg.style.opacity=F._3(31)?1:.5;k[4]=F.gO?v.t("div","clipp"):null;
k[6]=y?this.xx:null;k[7]=y?this.YE:null;k[8]=F.add.vmsk&&!D?this.Lh:null;k[9]=F.add.vmsk&&!D?this.ua:null;
var C=F.ju,J=W.g;if(C!=0)for(var w=0;w<J.length;w++)if(W.B[J[w]].ju==C){Q=!0;break}if(Q){V[0]=v.t("div",F.nS?"link":"linkX");
V[0].addEventListener("click",this.ahc.bind(this),!1)}V[1]=H?this.tg:null;V[2]=F.e6()?this.afE:null;
V[3]=F.e6()||F.mK()?this.wu:null;this.wu.className=F.gN()?"arfx open  gsicon":"arfx closed  gsicon";
var E=k;for(var w=0;w<E.length;w++)if(E[w])L.appendChild(E[w]);E=V;for(var w=0;w<E.length;w++)if(E[w])$.appendChild(E[w])};
gh.IT=function(x,F,W){var n=F.canvas;v.lf(n);if(W)x.setAttribute("draggable","true");x.appendChild(n);
n.setAttribute("style",n.getAttribute("style")+"; pointer-events:none")};gh.prototype.bx=function(x){v.p6(x,function(F){if(this.parent.Zl[3]==0)return;
v.MP(F);v.UJ(document.body,function(){clearTimeout(this.acd)}.bind(this));this.acd=setTimeout(function(){var W=new gT("rclick",!0);
W.data={a:this.Mj.index,sj:this.sj(F),_b:v.iF(F,document.body)};this.T(W)}.bind(this),600)}.bind(this))};
gh.LY=function(x,F){var W=F.getBoundingClientRect();return(x.clientY-W.top)/W.height};gh.prototype.i9=function(x){x.stopPropagation();
var F=x.target==this.YE?"m":x.target==this.ua?"vm":"l";x.dataTransfer.setData("Text",JSON.stringify({d$:F,fe:this.Mj.index}))};
gh.prototype.Ay=function(x){v.Wa(x);this.Ch()};gh.prototype.gA=function(x){v.Wa(x);this.Ch();var F=x.dataTransfer.getData("Text"),W=this.parent.GE,n=gh.LY(x,this.$e),L=this.Mj.index;
if(n>.8){var $=!0,l=W.root.y9(L);while(l.parent!=null){var k=l.parent,V=k.children;if(V.indexOf(l)!=0)$=!1;
l=l.parent}if($){L=0;n=1}}if(F==""){v.C6(x,this,this.parent.lG.indexOf(W),L+(n>.5?0:1))}else if(F!="--panel"){var F=JSON.parse(F),i=F.d$;
if(i=="l")this.Lg({d:t.r_,source:F.fe,target:L,ft:n});else if(i=="m"||i=="vm")this.Lg({d:i=="m"?t.a54:t.xk,src:F.fe,D0:L});
else gh.axo(x,F,this)}};gh.axo=function(x,F,W,n){var L=F.d$,$=W.Mj.index,l=F.fe;if(L=="s"||L=="sm")W.Lg({d:t.kR,src:l,D0:$,Zj:F.Zj});
if(L=="f"||L=="fm")W.Lg({d:t.a2y,src:l,D0:$,Zj:F.Zj,rV:n==null?0:n})};gh.prototype.Lz=function(x){v.Wa(x);
var F=gh.LY(x,this.$e),W=this.Mj.a.vN()&&.5<F&&F<.8;this.Ch();var n="inset 0 "+(W?0:F>.5?-3:3)+"px "+(W?"5px black":"0 rgba(0,0,0,0.5)");
this.$e.style.boxShadow=n};gh.prototype.Ch=function(x){this.$e.style.boxShadow=""};gh.a96=-1;gh.ne=!1;
gh.ad0=function(x){gh.ne=!1;document.body.removeEventListener("mouseup",gh.ad0)};gh.prototype.auG=function(x){if(x.button!=0)return;
if(x.type=="mousedown"){gh.ne=!0;document.body.addEventListener("mouseup",gh.ad0,!1)}if(x.type=="mouseover"&&(!gh.ne||gh.a96==this.Mj.index))return;
v.Wa(x);this.Lg({d:t._k,a:this.Mj.index});gh.a96=this.Mj.index};gh.prototype.aDR=function(x){v.Wa(x);
this.Lg({d:t.aoC,a:this.Mj.index})};gh.prototype.ady=function(x){this.Lg({d:t.ra,a:this.Mj.index})};
gh.prototype.akG=function(x){this.Lg({d:t.Re,a:this.Mj.index})};gh.FS=0;gh.prototype.KV=function(x){this.Lg({d:t.hF,a:this.Mj.index,name:x})};
gh.prototype.a1T=function(x){this.Lg({d:t.aii,a:this.Mj.index})};gh.prototype.ahc=function(x){this.Lg({d:t.oP,a:this.Mj.index})};
gh.prototype.ak4=function(x){if(x.button!=2&&!v.akU(x)&&!(x.ctrlKey&&gp.yx()))return;var F=this.sj(x);
if(F!=3&&x.currentTarget==this.atH)F=4;if(x.target==this.afE||x.currentTarget==this.a7R)F=5;var W=new gT("rclick",!0);
W.data={a:this.Mj.index,sj:F,_b:v.iF(x,document.body)};this.T(W)};gh.prototype.sj=function(x){var F=x.target,W=F;
return W==this.ua?2:W==this.YE?1:W==this.ai?0:W==this.kj?3:-1};gh.prototype.a5T=function(x){var F=x.target,R;
if(F==this.AQ.firstChild||F==this.wu||F==this.xx||F==this.Lh||F.tagName&&F.tagName.toLowerCase()=="input")return;
var W=this.sj(x),n=this.parent.GE,L=this.Mj.index,$=n.B[L];if(F==this.tg){this.Lg({d:t.ku,a:L,k9:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var l=gh.FS,k=Date.now()-l<300;gh.FS=Date.now();if(F==this.m7){if(k){this.$e.setAttribute("draggable","false");
var V=new bs.PE(this.m7,this.KV.bind(this))}else this.Lg({d:t.uA,a:L,ll:W,i3:!0});return}if(x.button==0&&k){if(F==this.m7)return;
var i=new gT(S.E.v,!0),f=new gT(S.E.M,!0),X=new gT(S.E.BD,!0);if(W==0&&$.add.SoCo){var s=r.I.z$($.add.SoCo.Clr.v);
f.data={d:S.H.Ar,ip:"colorpicker",Rr:s.o<<16|s.r<<8|s.z,$O:function(e){var U=r.I.GB({z:e&255,r:e>>>8&255,o:e>>16&255});
U={classID:"null",Clr:{t:"Objc",v:U}};var o=new gT(S.E.v,!0);o.f=O.c9;o.data={d:t.lr,te:[L],v5:!0,b:{d_:1,oa:U}};
this.T(o)}.bind(this),C3:!0}}else if(W==0&&(a3.get($.add)||$.add.SoCo||$.add.GdFl||$.add.PtFl))f.data={d:S.H.Tl,ip:bs.Kz.ZN};
else if(W!=0&&W!=-1)f.data={d:S.H.Tl,ip:bs.Kz.ZN};else if(W==0&&$.add.SoLd)X.data={Y3:"placedLayerEditContents",Xe:{classID:"placedLayerEditContents"}};
else if(W==0&&$.add.TySh){i.f=O.w1;i.data={d:"editCurr",ax:L}}else f.data={d:S.H.Ar,ip:"layerstyle",a:L};
this.T(X.data?X:f.data?f:i);return}if(x.button!=0)return;if(W==1||W==3){var h=W==3?$.DU(n).F:$.GH();
R=h.NZ?n.U.O.join("")=="111"?1:2:0}var B={d:t.uA,a:L,ll:W,ao4:R,i3:!0};this.Lg(B)};gh.prototype.Lg=function(x){var F=new gT(S.E.v,!0);
F.data=x;F.f=O.c9;this.T(F)};gh.prototype.ahA=function(){var x=this.Mj.a,F=x.add,W=this.parent.Vl.h(),n=this.parent.lX[W].h();
if(W==0){if(n[0]&&F.SoLd==null&&F.TySh==null&&x.aQ())return!0;if(n[1]&&a3.get(F)!=null)return!0;if(n[2]&&F.TySh!=null)return!0;
if(n[3]&&F.vstk!=null)return!0;if(n[4]&&F.SoLd!=null)return!0;return!1}if(W==1)return x.getName().toLowerCase().indexOf(n.toLowerCase())!=-1};
h8.lQ=function(x,F,W,n,L,$,l,k){bS.call(this);this.a3m=F;this.J8=W;this.index=$;this.n=v.t("div","styleitem");
this.$e=v.t("div","head");this.a9m=null;if(F=="f"){var V=this.a9m=v.t("div","headR");V.textContent="\u2699";
this.$e.appendChild(V)}this.AQ=v.t("div","eye gsicon");this.m7=v.t("div","label");this.n.appendChild(this.$e);
this.$e.appendChild(this.AQ);if(l){this.YE=l;this.$e.appendChild(l);this.$e.setAttribute("style","height: "+k+"px")}this.m7.innerHTML=x;
this.n.setAttribute("style","margin-left: "+(24+n*16+L*22)+"px");this.$e.appendChild(this.m7);this.AQ.addEventListener("click",this.aDy.bind(this),!1);
var i=this.n;i.setAttribute("draggable","true");i.addEventListener("dragstart",this.i9.bind(this),!1);
if(!0){i.addEventListener("drop",this.gA.bind(this),!1);i.addEventListener("dragover",this.Lz.bind(this),!1);
i.addEventListener("dragenter",v.Wa,!1);i.addEventListener("dragleave",this.Ay.bind(this),!1)}this.n.addEventListener("click",this.t8.bind(this),!1)};
h8.lQ.prototype=new bS;h8.lQ.prototype.i9=function(x){x.stopPropagation();x.dataTransfer.setData("Text",JSON.stringify({d$:this.a3m,fe:this.parent.Mj.index,Zj:this.index}))};
h8.lQ.prototype.Ay=function(x){v.Wa(x);this.Ch()};h8.lQ.prototype.gA=function(x){v.Wa(x);this.Ch();var F=x.dataTransfer.getData("Text");
if(F=="")return;var F=JSON.parse(F);gh.axo(x,F,this.parent,this.index+(gh.LY(x,this.$e)>.5?0:1))};h8.lQ.prototype.Lz=function(x){v.Wa(x);
var F=gh.LY(x,this.$e)>.5;this.Ch();var W="border-"+(F?"bottom":"top");this.$e.style[W]="0.2em solid rgba(0,0,0,0.5)"};
h8.lQ.prototype.Ch=function(x){this.$e.style.border="none"};h8.lQ.prototype.FH=function(x){this.AQ.style.opacity=x?1:.2};
h8.lQ.prototype.t8=function(x){var F=gh.FS,W=Date.now()-F<300;gh.FS=Date.now();if(x.target==this.AQ)return;
var n=this.parent.Mj.index;if(W&&this.J8!=null){var n=this.parent.Mj.index,L=new gT(S.E.M,!0);if(this.J8.indexOf("afw_")==0){var $=this.J8.slice(4),l=bn[$]||ew.s[$],k=x.target==this.a9m;
if(!k&&!l)return;L.data=O.vS.a5g(k?"blendOptions":$,{a:n,index:this.index})}else L.data={d:S.H.Ar,ip:this.J8,a:n,index:this.index};
this.T(L)}else{if(x.target.className!="thumb")this.parent.Lg({d:t.uA,a:n,ll:0})}};h8.lQ.prototype.aDy=function(x){var F={fm:t.bN,f:t.Lk,sm:t.Zn,s:t.Tm}[this.a3m];
this.parent.Lg({d:F,a:this.parent.Mj.index,index:this.index})};function da(){bs.call(this,"Guide Guy",!1,"---panels/guideguy",bs.Kz.arq);
this.bn=null;this.dQ=new hx(null,r.uX.k6)}da.prototype=new bs("");da.prototype.HE=function(){this.bQ=[];
var x=v.t("div","form padded");this.SO.appendChild(x);x.setAttribute("style","width:200px");this.SO.appendChild(x);
var F=v.t("canvas"),W=F.getContext("2d");F.width=F.height=160;var n=[32,0,16,160,0,32,160,16,0,112,160,16],L="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),$=[0,0,0,0,0,0,0,0,0,0];
x.appendChild(this.dQ.n);for(var w=0;w<10;w++){W.clearRect(0,0,160,160);W.setTransform(1,0,0,1,80,80);
W.rotate((w&3)*Math.PI/2);W.translate(-80,-80);W.fillStyle="rgba(0,0,0,0.3)";if(w<4){for(var l=0;l<12;
l+=4){W.fillStyle=l==0?"#000000":"rgba(0,0,0,0.3)";W.fillRect(n[l],n[l+1],n[l+2],n[l+3])}}else if(w<6){var k=8*6;
W.fillRect(0,0,k,160);W.fillRect(8*7,0,k,160);W.fillStyle="#000000";W.fillRect(8*14,0,k,160)}else if(w<8){W.fillRect(0,0,16,160);
W.fillRect(160-16,0,16,160);W.fillRect(32,0,160-64,160);W.fillStyle="#000000";W.fillRect(32,80-8,160-64,8*1)}else{W.fillRect(0,0,8*7,160);
W.fillRect(8*13,0,160,160);W.fillStyle="#000000";W.fillRect(8*7,80-8,8*6,8*1)}var V="<img src=\""+F.toDataURL()+"\" class=\"autoscale gsicon\" /> ",i=new c_(V,0,200,null,w==4||w==5?0:2,null,null,4,L[w]);
i.parent=this;i.k(S.E.A,this.af0,this);i.c($[w]);i._();this.bQ.push(i);x.appendChild(i.n)}var f=[[11,14],[11,15,0]];
this.hD=[];for(var w=0;w<f.length;w++){var X=new cX(f[w],!0,null,!0);this.hD.push(X);X.k("click",this.sy,this);
x.appendChild(X.n)}for(var w=0;w<6;w++){W.setTransform(1,0,0,1,80,80);W.rotate(Math.floor(w/3)*Math.PI/2);
W.translate(-80,-80);W.clearRect(0,0,160,160);W.fillStyle="rgba(0,0,0,0.3)";W.fillRect(0,0,160,160);
W.clearRect(16,16,128,128);W.fillStyle="#000000";var s=w%3;W.fillRect([0,9,18][s]*8,0,16,160);var V="<img src=\""+F.toDataURL()+"\" class=\"autoscale gsicon\" /> ",X=new cX(V,!1,null,!1);
this.hD.push(X);X.k("click",this.sy,this);x.appendChild(X.n)}};da.prototype._=function(){bs.prototype._.call(this);
this.dQ._();if(this.bQ==null)return;for(var w=0;w<this.hD.length;w++)this.hD[w]._()};da.prototype.af0=function(x){var F=this.bQ,W=F.indexOf(x.target),n=Math.floor(W/2),L=W&1,$=[];
for(var w=0;w<4;w++)$.push(F[2*w+L].h());var l=-1;if(n==2&&$[2]!=0&&$[3]!=0&&$[4]!=0)l=4;if(n==3&&$[3]!=0&&$[2]!=0&&$[4]!=0)l=4;
if(n==4&&$[4]!=0&&$[2]!=0&&$[3]!=0)l=3;if(l!=-1)F[2*l+L].c(0)};da.prototype.sy=function(x){var F=this.bn,W=this.hD.indexOf(x.target),n=[[],[]];
if(F==null)return;var L=F.u?F.u.rect:new eu(0,0,F.m,F.e),$=L.m,l=L.e;if(W==0){var k=[[],[]],V=this.dQ.h();
for(var w=0;w<this.bQ.length;w++){var i=this.bQ[w].h();i=r.uX.aL(i,F.Bq,F.m,V);k[w&1].push(i)}var f=[da.ajU(k[0],L.x,L.x+$),da.ajU(k[1],L.y,L.y+l)];
n=da.cC(f);O.fI.af(n,F.L6())}else if(W==1){}else{W-=2;var X=Math.floor(W/3),f=[[],[]];f[X].push([L.x,L.x+$/2,L.x+$,L.y,L.y+l/2,L.y+l][W]);
n=da.cC(f);O.fI.af(n,F.L6())}this.abw(n)};da.cC=function(x){var F=[],W=[];for(var n=0;n<2;n++)for(var w=0;
w<x[n].length;w++){F.push([n,x[n][w]]);W.push(-1)}return[F,W]};da.prototype.afS=function(x){var F=this.aqJ.indexOf(x.target)};
da.prototype.abw=function(x){var F=new gT(S.E.v,!0);F.f=O.iY;F.data={d:"gids",Lb:x};this.T(F)};da.ajU=function(x,F,W){var n=[],L=x[2],$=x[3],l=x[4],k=0;
if(L==0)k++;if($==0)k++;if(l==0)k++;if(k>1&&L==0&&$==0){if(x[0]!=0)n.push(F+x[0]);if(x[1]!=0)n.push(W-x[1]);
return n}var V=W-F-x[0]-x[1];if(L==0){if(l==0){L=Math.floor(V/$);l=(V-L*$)/(L-1)}else{L=1;while($*L+l*(L-1)+$+l<=V)L++}}else if(L!=0&&$!=0){if(L*$>V)L=Math.floor(V/$);
l=(V-L*$)/(L-1)}n.push(F+x[0],W-x[1]);var $=(V-l*(L-1))/L;for(var w=1;w<L;w++){if(l==0)n.push(F+x[0]+w*$);
else n.push(F+x[0]+w*$+(w-1)*l,F+x[0]+w*$+w*l)}return n};da.prototype.Lv=function(x,F,W){this.bn=x};
da.prototype.fO=function(){if(v.Ww(this.SO)&&this.bQ==null)this.HE();this._()};da.prototype.AW=function(x){this.dQ.c(x._X.$o)};
function ju(){bs.call(this,[9,2],!1,"---panels/properties",bs.Kz.ZN);this.acC=null;this.YR=null;this.Mh=null;
this.aAH=-1;this.Zg=null}ju.prototype=new bs("");ju.prototype.z4=function(x,F){this.Xv=x;this.eD=F;x=x-16;
F=F-30;var W=this.Zg;if(W){W.style.width=x+"px";W.style.height=F+"px";for(var w=0;w<3;w++)this.QR[w].z4(x-12,F)}};
ju.prototype.HE=function(){this.Zg=v.t("div","padded scrollable");this.SO.appendChild(this.Zg);var x=v.t("span");
this.Zg.appendChild(x);this.S0=[new cX([0,3]),new cX([12,73]),new cX([12,91,0])];for(var w=0;w<this.S0.length;
w++){var F=this.S0[w];F.k("click",this.awU,this);x.appendChild(F.n);if(w==2)F.n.style.marginRight="0"}this.Zg.appendChild(v.t("hr"));
this.l0=new ju.RE;this.l0.parent=this;this.xw=new ju.Yf;this.xw.parent=this;this.Gk=new ju.EF;this.Gk.parent=this;
this.QR=[this.l0,this.xw,this.Gk];this.Zg.appendChild(this.l0.n);this.SX=v.t("div","lpfoot");this.SO.appendChild(this.SX);
this.vB=[];for(var w=0;w<3;w++){var F=new cX("W");F.k("click",this.KZ,this);this.vB.push(F);this.SX.appendChild(F.n)}this.z4(this.Xv,this.eD)};
ju.prototype.KZ=function(x){var w=this.vB.indexOf(x.target),F=new gT(S.E.v,!0);F.f=O.c9;if(w==0)F.data={d:t.rF};
if(w==1)F.data={d:t._k};if(w==2)F.data={d:t.AL};this.T(F)};ju.prototype.awU=function(x){var w=this.S0.indexOf(x.currentTarget);
this.Sg(w);this.amR(w==1?this.xw.Zo:-1)};ju.prototype.Sg=function(x){for(var w=0;w<3;w++){this.S0[w].jd();
var F=this.QR[w].n;if(F.parentNode==this.Zg&&w!=x)this.Zg.removeChild(F);if(F.parentNode!=this.Zg&&w==x)this.Zg.appendChild(F)}this.S0[x].iA()};
ju.prototype.amR=function(x){var F=this.YR.g[0],W=this.YR.B[F],n=x+1;if(x==1&&W.HZ)return;var L=new gT(S.E.v,!0);
L.f=O.c9;if(x!=1&&W.HZ){L.data={d:t.uA,a:F,ll:2};this.T(L)}L.data={d:t.uA,a:F,ll:n};this.T(L)};ju.prototype._=function(){bs.prototype._.call(this);
if(this.Zg==null)return;this.Lv(this.YR);for(var w=0;w<3;w++){this.S0[w]._();this.QR[w]._()}bR.Ob(this.vB,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
ju.prototype.fO=function(){if(!v.Ww(this.SO))return;if(this.Zg==null){this.HE();this.AW(this.Mh,iC.tB);
this.Lv(this.acC);this._()}};ju.prototype.Lv=function(x){this.acC=x;if(this.Zg==null)return;this.l0.Lv(x);
this.xw.Lv(x);this.Gk.Lv(x);if(x==null||x.g.length==0||x.B[x.g[0]]==null){v.fX(this.SO,"disabled");this.YR=null;
return}else v.B$(this.SO,"disabled");var F=x.g[0],W=x.B[F];this.vB[0].c(W.gO);this.vB[1].c(W.MG());var n=x.x8(),L=n[0],$=n[1];
if($.length!=0){var l=L[$[0]],k=l.add.vogk,V=!1;if(k)for(var w=0;w<k.length;w++){var i=k[w].v;if(!r.mq.Vw(i))continue;
V=!0;F=l.Fp}}F+=","+V;if(x!=this.YR||this.aAH!=F){this.YR=x;this.aAH=F;if(V)this.Sg(2);else if(W.sj<1&&!W.HZ||a3.get(W.add))this.Sg(0);
else this.Sg(1)}this.S0[1].DE(this.xw.Zo!=-1);this.S0[2].DE(V)};ju.prototype.AW=function(x,F){this.Mh=x;
if(this.l0)this.l0.AW(x,F);if(this.Gk)this.Gk.AW(x,F)};ju.RE=function(){bS.call(this);this.n=v.t("div","form");
this.ayG=new e8("Hello");this.ef=new cX([1,12,2],null,null,!0);this.ef.n.style.aCl="right";this.ef.k("click",this.xq,this);
this.n.appendChild(this.ayG.n);this.n.appendChild(this.ef.n);this.Cx=null;this.$r=null;this.YR=null;
this.Mh=null;this.apr=-1;this.asX=null;this.yj=null;this.rq=new cW(0,!0,!0);this.rq.parent=this;this.rq.k(S.E.A,this.afI,this);
this.n.appendChild(this.rq.n);this.Z3=new d1(!0);this.Z3.parent=this;this.Z3.k(S.E.A,this.av4,this);
this.qN=v.t("div","marged hiline");this.qN.appendChild(this.Z3.n);this.ED=new cz("GrFl",!0);this.ED.parent=this;
this.ED.k(S.E.A,this.a3k,this);this.iB=v.t("div","marged hiline");var x="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var w=0;w<x.length;w++){var F=this.ED.Z9[x[w]].n;this.iB.appendChild(F)}this.Uf=new cz("patternFill",!0);
this.Uf.parent=this;this.Uf.k(S.E.A,this.amx,this);this.Ff=v.t("div","marged hiline");var x=["Ptrn","Angl","Scl","Algn","phase"];
for(var w=0;w<x.length;w++){var F=this.Uf.Z9[x[w]].n;this.Ff.appendChild(F)}this.CN={};for(var W in a3.names){if(bn[W]==null)continue;
this.CN[W]=new bn[W];this.CN[W].k(S.E.A,this.ahK,this);this.CN[W].parent=this}var n=this.ag2=v.t("div","marged hiline");
this.Q7=new cW(0,!0);n.appendChild(this.Q7.n);this.Q7.k(S.E.A,this.Dw,this);this.avl=null;this.p7=new b9;
this.p7.parent=this;this.p7.k(S.E.A,this.Dw,this);n.appendChild(this.p7.n)};ju.RE.prototype=new bS;ju.RE.prototype.afI=function(x){var F=this.rq.h(),W=this.yj,n=new eu(F[0],F[1],F[2],F[3]);
if(n.rr(W))return;this.yj=n;var L=new gT(S.E.v,!0);if(W.m==n.m&&W.e==n.e){L.f=O.iY;L.data={d:"trsl",eH:n.x-W.x,u7:n.y-W.y}}else{L.f=O.d9;
L.data={d:"scl",Sa:[2,4],b:new eX(n.m/W.m,n.e/W.e),TL:0}}this.T(L)};ju.RE.prototype.z4=function(x,F){var W=this.CN;
for(var n in W)W[n].z4(x,F)};ju.RE.prototype.xq=function(x){var F=this.YR,W=F.B[F.g[0]],n=a3.get(W.add);
this.$r.c(ew.Iz(n));this.ahK()};ju.RE.prototype._=function(){for(var x in this.CN)this.CN[x]._();this.ED._();
this.Uf._();this.p7._();this.Q7._();this.ef._();this.rq._()};ju.RE.prototype.Dw=function(x){var F=new gT(S.E.v,!0),W=this.Q7.h(),n=this.avl;
if(x.target==this.Q7&&W[2]==n[2]&&W[3]==n[3]){F.f=O.iY;F.data={d:"trsl",eH:W[0]-n[0],u7:W[1]-n[1]}}else{var L=t.x6(new eu(W[0],W[1],W[2],W[3])),$=this.p7.ayS();
$.artboardRect={t:"Objc",v:L};var l=this.YR,k=l.B[l.g[0]],V=k.add.artb.guideIndeces;if(V)$.guideIndeces=JSON.parse(JSON.stringify(V));
F.f=O.c9;F.data={d:t.pV,Ed:$}}this.T(F)};ju.RE.prototype.av4=function(x){var F=this.YR,W=F.g[0];if(F.B[W].add.SoCo==null)return;
var n=JSON.parse(JSON.stringify(F.B[W].add.SoCo));n.Clr.v=this.Z3.h();this.QX({d_:1,oa:n})};ju.RE.prototype.a3k=function(x){var F=this.YR,W=F.g[0];
if(F.B[W].add.GdFl==null)return;this.QX({d_:2,oa:this.ED.h()})};ju.RE.prototype.amx=function(x){this.QX({d_:3,oa:this.Uf.h()})};
ju.RE.prototype.QX=function(x){this.av0(O.c9,{d:t.lr,te:[this.YR.g[0]],v5:!0,b:x})};ju.RE.prototype.ahK=function(x){this.av0(O.t7,{d:"edit_layer",b:this.$r.h()})};
ju.RE.prototype.av0=function(x,F){var W=new gT(S.E.v,!0);W.f=x;W.data=F;this.T(W)};ju.RE.prototype.Lv=function(x,F){var W=hz.get([0,3]),n=!1,L=!1,$=null;
this.YR=x;if(x&&x.B.length>0&&x.g.length!=0&&x.B[x.g[0]]){var l=x.B[x.g[0]],k=a3.get(l.add);if(k!=null&&this.CN[k]!=null){$=this.CN[k].n;
this.$r=this.CN[k];this.CN[k].c(JSON.parse(JSON.stringify(l.add[k])));if(x.g[0]!=this.apr){var V=x.Hi(x.g[0]-1);
this.asX=r.uE(V)}this.CN[k].hf(this.asX);W=hz.get(a3.names[k]);n=!0}if(k==null&&l.add.artb==null){var i=this.yj=r.Z.Jy(O.Y.oU(x));
L=!i.ak();this.rq.c([i.x,i.y,i.m,i.e],[x.Bq,x.m,this.Mh._X.$o])}if(l.add.SoCo){$=this.qN;this.Z3.c(l.add.SoCo.Clr.v);
W=hz.get([6,48,0,0])}if(l.add.GdFl){$=this.iB;this.ED.update(x,l.add.GdFl);W=hz.get([6,48,0,1])}if(l.add.PtFl){$=this.Ff;
this.Uf.update(x,l.add.PtFl);W=hz.get([6,48,0,2])}if(l.add.artb){var f=l.add.artb,X=l.U$();$=this.ag2;
this.p7.aAX(f);var s=this.avl=[X.x,X.y,X.m,X.e];this.Q7.c(s,[x.Bq,x.m,this.Mh._X.$o]);W=hz.get([1,16,0])}this.apr=x.g[0]}if($!=this.Cx){if(this.Cx)this.n.removeChild(this.Cx);
if($!=null)this.n.appendChild($);this.Cx=$}this.ayG.c(W);this.ef.n.style.display=n?"":"none";this.rq.n.style.display=L?"":"none"};
ju.RE.prototype.AW=function(x,F){this.Mh=x;this.ED.AW(x,F);this.Uf.AW(x,F);if(F==iC.qt)this.Lv(this.YR,x);
for(var W in this.CN)this.CN[W].AW(x,F)};ju.Yf=function(){bS.call(this);this.n=v.t("div","form");this.YR=null;
this.Zo=0;var x=v.t("span","fitem");this.n.appendChild(x);this.S0=[new cX([6,2]),new cX([6,3]),new cX([6,50])];
for(var w=0;w<this.S0.length;w++){var F=this.S0[w];F.k("click",this.a2c,this);x.appendChild(F.n)}this.cj=new cS([12,74],0,255);
this.cj.k(S.E.A,this.jx,this);this.n.appendChild(this.cj.n);this.Un=new cS([7,6],0,500,"px",2,!0);this.Un.k(S.E.A,this.jx,this);
this.n.appendChild(this.Un.n);this.We=new cX([4,11],null,null,!0);this.We.k("click",this.ap_,this)};
ju.Yf.prototype=new bS;ju.Yf.prototype.ap_=function(){var x=new gT(S.E.v,!0);x.f=O.t7;x.data={d:"start",sv:"nvrt"};
this.T(x)};ju.Yf.prototype.jx=function(x){var F=this.cj.h(),W=this.Un.h(),n=new gT(S.E.v,!0);n.f=O.c9;
n.data={d:t.ge,Jr:this.YR.g[0],wc:{L3:this.Zo,cj:F,Un:W}};this.T(n)};ju.Yf.prototype._=function(){for(var w=0;
w<this.S0.length;w++)this.S0[w]._();this.cj._();this.Un._();this.We._()};ju.Yf.prototype.Lv=function(x){this.YR=x;
this.tL()};ju.Yf.prototype.a2c=function(x){this.tL(this.S0.indexOf(x.currentTarget));this.parent.amR(this.Zo)};
ju.Yf.prototype.tL=function(x){var F=this.YR,W=this.S0;for(var w=0;w<3;w++){var n=W[w];n.jd();n.H8()}if(F==null||F.B.length==0||F.g.length==0||F.B[F.g[0]]==null)return;
var L=-1,$=F.B[F.g[0]];if($.mK()&&$.DU(F).F!=null){W[2].cy();L=2}if($.add.vmsk){W[1].cy();L=1}if($.GH()){W[0].cy();
L=0}if(x!=null)L=x;else if($.HZ)L=1;else if($.sj==3)L=2;else if($.sj==1)L=0;this.Zo=L;if(L==-1){this.cj.H8();
this.Un.H8();return}var l=$.Lq(L);this.cj.cy();this.Un.cy();this.cj.c(l.cj);this.Un.c(l.Un);W[L].iA();
var k=this.We.n;if(L==0)this.n.appendChild(k);else if(k.parentNode==this.n)this.n.removeChild(k)};ju.EF=function(){bS.call(this);
this.n=v.t("div","form");this.bn=null;this.Mh=null;this.YB=-1;this.rq=new cW(0,!1);this.zC=new cS([12,15],-180,180,"\xB0",2);
this.uq=new cW(1,!0);this.Ls=new cS([12,94,0],0,100,null,2);this.gh=new cS([12,78],3,30);this.eP=new cX(["\u279C  ",[12,76,0]],null,null,!0);
this.rq.k(S.E.A,this.JT,this);this.zC.k(S.E.A,this.JT,this);this.uq.k(S.E.A,this.JT,this);this.Ls.k(S.E.A,this.JT,this);
this.gh.k(S.E.A,this.JT,this);this.eP.k("click",this.JT,this)};ju.EF.prototype=new bS;ju.EF.prototype._=function(){this.rq._();
this.zC._();this.uq._();this.Ls._();this.gh._()};ju.EF.prototype.JT=function(x){var F=this.bn,W=r.mq.An(F),n=x.target.h(),L=[this.rq,this.zC,this.uq,this.Ls,this.gh,this.eP].indexOf(x.target);
if(L==0){var $=[];$[0]=n[0];$[1]=n[1];$[2]=$[0]+n[2];$[3]=$[1]+n[3];n=$}if(L==1)n=n*Math.PI/180;var l={0:1,1:2,2:3,3:3,4:4}[L];
W[l]=n;var k=new gT(S.E.v,!0);k.f=O.c9;k.data={d:t.$b,b:W,a6h:L==5};this.T(k)};ju.EF.prototype.Lv=function(x){var F=this.n;
this.bn=x;if(x==null)return;var W=this.Mh,n=[x.Bq,x.m,W._X.$o],L=r.mq.An(x),$=L[0],l=L[1];if(l==null)return;
var k=$!=this.YB;this.YB=$;if(k)v.Ri(F);if(k)F.appendChild(this.rq.n);if(k)F.appendChild(this.zC.n);
this.rq.c([l[0],l[1],l[2]-l[0],l[3]-l[1]],n);this.zC.c(L[2]*180/Math.PI);if($==2){if(k)F.appendChild(this.uq.n);
var V=L[3];this.uq.c(V,n)}if($==7||$==8){if(k)F.appendChild(this.Ls.n);this.Ls.c(L[3])}if($==8){if(k)F.appendChild(this.gh.n);
this.gh.c(L[4])}F.appendChild(this.eP.n)};ju.EF.prototype.AW=function(x,F){this.Mh=x;this.Lv(this.bn)};
function k9(x){bs.call(this,x.name,!0);this.GE=x;this.gr=null;this.lA=new aD(this.SO);this.lA.parent=this}k9.prototype=new bs;
k9.ig=function(){var x=document.createElement("canvas"),F=document.createElement("canvas"),W=16,n=r.R(16*16*4);
r.aq(n,W,W,8);var L=r.scale.dh(n,W,W);return{YI:x,SU:F,$f:x.getContext("2d",{willReadFrequently:!0}),Ok:F.getContext("2d"),WJ:L}}();
k9.prototype.afP=function(){if(this.GE.BP())return window.confirm(hz.get([22,6,3])+" "+this.GE.name+". "+hz.get([22,6,4]));
return!0};k9.prototype.AW=function(x,F){this.gr=x};k9.prototype.Lv=function(x){this.fO();this.tW()};
k9.prototype.z4=function(x,F){if(x<=0||F<=0)return;this.Xv=x;this.eD=F;var W=this.GE,n=k9.ig,L=v.e1();
W.U.$f.m=Math.floor(x*L);W.U.$f.e=Math.floor(F*L);v.vI(n.YI,x,F);v.vI(n.SU,x,F);v.vI(hl.bz(),x,F);if(W.U.Q==0)W.U.Q=O.Ov._i(W.m,W.e,x*L,F*L);
this.tW()};k9.prototype.fO=function(){var x=this.SO.firstChild,F=k9.ig,W=hl.Cp&&aH==0;if(!W&&x==hl.bz()||W&&x==F.YI)this.SO.removeChild(x);
var n=W?hl.bz():F.YI;if(!v.Ww(n))this.SO.appendChild(n)};k9.prototype.tW=function(){if(this.gr==null)return;
var x=this.GE,F=hl.Cp&&aH==0;if(F)this.a4K();else this.fy()};k9.prototype.a4K=function(){if(hl.Cp&&k9.pl==null){var x=k9.pl=[],F=[0,2,8,32,128];
for(var w=0;w<5;w++)x[w]=[new k9.Td(!1,F[w],!1),new k9.Td(!0,F[w],!1)];x.push([new k9.Td(!1,0,!0),new k9.Td(!0,0,!0)])}var W=this.GE,n=k9.ig,h,U=0,D,N;
if(W.C4==null)return;var L=W.U,$=L.$f.m,l=L.$f.e,k=hl.yG;n.$f.clearRect(0,0,$,l);var V=this.arI(W);if(L.a9==null||L.a9.m!=$||L.a9.e!=l)L.a9=new hl.Co($,l);
if(V){var i=Date.now(),f=l,X=new Uint8Array(n.$f.getImageData(0,0,$,f).data.buffer);L.a9.set(X,new eu(0,0,$,f));
this.lP=!0}else if(this.gr.TG){if(this.lP){hl.uR(L.a9);hl.Ap(1);this.lP=!1}var s=r.uX.YW,X=new Uint8Array(W.U.wH.data.buffer);
L.a9.set(X,new eu(0,0,s,l));var X=new Uint8Array(W.U.q$.data.buffer);L.a9.set(X,new eu(0,0,$,s));var X=new Uint8Array(n.$f.getImageData(0,l-s,$,s).data.buffer);
L.a9.set(X,new eu(0,l-s,$,s));this.lP=!0}else if(this.lP){hl.uR(L.a9);hl.Ap(1);this.lP=!1}var R=L.Q0(0,0);
if(k9.aBA==null)k9.aBA=new Float32Array(4*1024);var B=[0,0,0,0],e=k9.aBA;if(W.add.artd){e.fill(0);B=k9.Kk(W);
var o=W.m,b=W.e,y=0;for(var w=0;w<W.B.length;w++){var u=W.B[w],Z=u.add.artb;if(Z==null||!u.MG())continue;
var I=u.U$();e[U]=I.x/o;e[U+1]=I.y/b;e[U+2]=I.m/o;e[U+3]=I.e/b;U+=4;if(U==e.length)break}if(U>2*4)y++;
if(U>8*4)y++;if(U>32*4)y++;h=k9.pl[y+1];e=new Float32Array(e.buffer,0,[2,8,32,128][y]*4)}else h=k9.pl[W.da?5:0];
var j=W.xu();if(j==null)h=h[0];else{h=h[1];N=j[W.add.fcmy==1?6:4];D=j[2]}hl.ej($,l);hl.Ap(0);hl.ej($,l);
h.Rb();var H=new iJ;H.scale($,l);H.concat(L.gy(!0));H.scale(1/W.m,1/W.e);var Q=[H.V,H.z,0,H.Pu,H.P9,0,H.yq,H.Ze,1];
h.Rh(L.a9.Yn,W.C4.Yn,new Float32Array(Q),new Float32Array([$/8,l/8,R.x/$,R.y/l]),W.m,W.e,1/W.U.Q,$,l,new Float32Array(B),e,new Float32Array(r.L5.kZ(r.L5.aBw(L.O))),N,D);
k.drawArrays(k.TRIANGLES,0,6)};k9.Kk=function(x){return[0,0,0,0]};k9.aAk=function(x){var F=r.I.z$(x.v),W=[F.o/255,F.r/255,F.z/255,1];
for(var w=0;w<4;w++)W[w]=Math.min(1,W[w]);return W};k9.qP=function(x,F){var W=x[2]*255;if(hl.Cp)W=F?0:Math.max(2,W);
return"rgba("+x[0]*255+","+x[1]*255+","+W+","+x[3]+")"};k9.rK=function(x){var F=x.length;if(hl.Cp)for(var w=0;
w<F;w+=4){if(x[w+2]==0)x[w+2]=3}};k9.prototype.fy=function(){var x=this.GE,F=k9.ig;if(aH==0&&x.buffer==null)return;
var W=x.U,n=W.$f,L=n.m,$=n.e,l=new eu(0,0,x.m,x.e);F.Ok.clearRect(0,0,L,$);F.$f.clearRect(0,0,L,$);var k=W.gy(!0),V=k.clone();
V.sx();if(x.add.artd==null){F.$f.save();var i=V.dr(new eX(0,0));V.translate(-i.x,-i.y);F.$f.translate(Math.round(i.x),Math.round(i.y));
F.$f.fillStyle=aH==0?F.WJ:"#ffffff";if(x.da)F.$f.fillRect(-5e3,-5e3,2e4,2e4);else{var f=x.add.arts;if(aH==1)for(var w=0;
w<f.length;w++){var X=r.Z.KR(f[w].A$);this.nP(r.Z.o4(X),V,F.$f);F.$f.fill()}else{this.nP(r.Z.o4(l),V,F.$f);
F.$f.fill()}}F.$f.restore()}else{F.$f.fillStyle=k9.qP(k9.Kk(x));F.$f.fillRect(0,0,L,$);F.$f.save();F.$f.setTransform(V.V,V.z,V.Pu,V.P9,V.yq,V.Ze);
var s=x.root.children;for(var w=0;w<s.length;w++){var R=s[w].a;if(R.add.artb==null||!R.MG())continue;
var h=R.U$(),B=R.G9();if(B!=0)continue;F.$f.fillStyle=F.WJ;F.$f.save();F.$f.scale(1/W.Q,1/W.Q);F.$f.fillRect(W.Q*h.x,W.Q*h.y,h.m*W.Q,h.e*W.Q);
F.$f.restore()}F.$f.restore()}if(W.r1.length!=n.P()){W.r1=r.R(n.P());W.Ev=r.R(n.P()*4)}W.Ev.fill(0);
if(aH==1){var V=W.gy(!0);V.sx();F.$f.save();var e=r.Z.o4(W.$f);r.Z.i(e.p,W.gy(!0),e.p);var X=r.Z.Gn(e.p);
F.$f.setTransform(V.V,V.z,V.Pu,V.P9,V.yq,V.Ze);x.root.a6c(x,F.$f,this.gr,X);F.$f.restore()}else{r.scale.aod(x.buffer,l,k,W.Ev,n,x.da);
var U=x.xu();if(U)ICC.U.applyLUT(U[x.add.fcmy==1?5:3],U[2],W.Ev,W.Ev);if(W.O[0]+W.O[1]+W.O[2]!=3)r.L5.a7T(W.Ev,W.Ev,r.L5.aBw(W.O));
F.Ok.putImageData(new ImageData(new Uint8ClampedArray(W.Ev.buffer),n.m,n.e),0,0);F.$f.drawImage(F.SU,0,0);
F.$f.getImageData(0,0,1,1)}this.arI(x)};k9.prototype.arI=function(x){var F=x.U,W=F.O[0]+F.O[1]+F.O[2],n=k9.ig,L=!1,$=[];
for(var w=0;w<x.g.length;w++){var l=x.B[x.g[w]];if(l==null)continue;var k=l.sj;if(k!=1&&k!=3)continue;
var V=k==1?l.GH():l.DU(x).F;if(V.NZ)$.push(V)}for(var w=0;w<x.o2.length;w++)if(x.o2[w].NZ)$.push(x.o2[w]);
for(var w=0;w<$.length;w++){var V=$[w];this.a5Z(V,F,$.length==1&&W==0?2:1,V.color,V.Rr);L=!0}var i=this.gr;
L=this.adM(x,n.$f,F,$.length!=0)||L;if(x.u&&i.AU&&i._X.H9){this.a5Z(x.u,F,0,0,null);L=!0}return L};k9.prototype.a5Z=function(x,F,W,n,L){var $=0;
if(L)$=Math.round(L.z)<<16|Math.round(L.r)<<8|Math.round(L.o);var l=F.gy(!0),k=F.$f,V=new eu(0,0,F.GE.m,F.GE.e),i=k9.ig;
if(F.Ev==null||F.Ev.length!=k.P()*4){F.r1=r.R(k.P());F.Ev=r.R(k.P()*4)}F.r1.fill(n);F.Ev.fill(0);var f=x.channel,X=x.rect;
r.scale.i(f,X,l,F.r1,k);if(W==0){var s=new Uint32Array([4278190080,4294967295]);k9.rK(new Uint8Array(s.buffer));
r.u.adV(F.r1,F.Ev,k,s,v.e1()>1.9)}else{var R=Date.now();r.u.aCq(F.r1,F.Ev,k,W,$);k9.rK(F.Ev)}var h=new ImageData(new Uint8ClampedArray(F.Ev.buffer),k.m,k.e);
i.Ok.putImageData(h,0,0);i.$f.save();if(W!=0){var B=new eu(0,0,V.m,V.e),e=l.clone();e.sx();this.nP(r.Z.o4(B),e,i.$f);
i.$f.clip()}i.$f.drawImage(i.SU,0,0);i.$f.restore()};k9.prototype.adM=function(x,F,W,n){var L=x.N.Ys!=null||x.N.HV!=null||x.N.DG!=null||x.N.kr!=null||x.N.pF.length!=0||x.N.v7.length!=0,$=this.gr,l=$._X,k=eI.m2[$.wd],V=Math.round(12*v.e1()),i=V/x.U.Q,f=W.gy(!0);
f.sx();F.save();F.setTransform(f.V,f.z,f.Pu,f.P9,f.yq,f.Ze);var X=k9.Kk(x)[0];X=X<.5?X+.5:X-.5;X=""+Math.round(X*255).toString(16);
while(X.length<2)X="0"+X;F.font=i+"px sans-serif";if(x.add.artd){F.fillStyle="#"+X+X+X;for(var w=0;w<x.B.length;
w++){var s=x.B[w];if(s.add.artb==null||!s.MG())continue;var R=s.U$();F.save();F.beginPath();F.rect(R.x,R.y-2*i,R.m,2*i);
F.clip();F.fillText(s.getName(),R.x+2,R.y-i*.7);F.beginPath();F.restore();L=!0}}if(x.add.arts&&$.Dj==O.aAF){var h=x.add.arts;
for(var w=0;w<h.length;w++){var R=h[w],B=r.Z.KR(R.A$),e=(w+1+"").padStart(2,"0");e+=" - "+R.pL;F.save();
F.beginPath();F.fillStyle=R.g?"#cce6ff":"#dddddd";F.rect(B.x,B.y,F.measureText(e).width+i,i*1.5);F.fill();
F.fillStyle="black";F.fillText(e,B.x+i/2,B.y+i*1.1);F.restore()}L=!0}function U(bF){return bF==1||bF==2||bF==4||bF==5}var o=k9.qP([.3,.5,1,1]),b=k9.qP([1,1,1,1]);
if($.AU&&l.V2){F.fillStyle=F.strokeStyle=o;F.lineWidth=1.5/W.Q;var u=x.x8(),Z=u[0],I=u[1];for(var y=0;
y<I.length;y++){var s=Z[I[y]],D=s.add.vmsk,N=D.$,j=r.Z.aE(N);this.nP(j,null,F);F.stroke();L=!0;var H=3*v.e1()/W.Q;
for(var w=0;w<D.GO.length;w++){var Q=r.j.aC8(N,D.GO[w]);if(Q==null)continue;var C=Q.x,J=Q.y;F.beginPath();
var E=w==0;if(D.TC)E=!E;if(E){F.moveTo(C-H,J-H);F.lineTo(C+H,J+H);F.moveTo(C-H,J+H);F.lineTo(C+H,J-H);
F.stroke()}else{F.arc(C,J,H*1,0,2*Math.PI);F.fill()}L=!0}if(x.g.length!=1)continue;var T=-1,c=-1,a=-1;
for(var w=0;w<N.length;w++){if(N[w].type>5)continue;if(N[w].type==0||N[w].type==3){c=w+1;a=N[w].length;
if(N[w].eb!=-1)T++;continue}if(D.g.indexOf(T)!=-1){var C=N[w].L.x,J=N[w].L.y;F.fillRect(C-H*.8,J-H*.8,2*H*.8,2*H*.8)}if(D.Au.indexOf(w)!=-1){var K=N[w],Y=[K.L];
F.beginPath();F.moveTo(K.Xs.x,K.Xs.y);F.lineTo(K.L.x,K.L.y);F.lineTo(K.vf.x,K.vf.y);var p=c+(w+a-c-1)%a,P=c+(w+a-c+1)%a,m=N[p],z=N[P];
if(m&&U(m.type)&&D.Au.indexOf(p)==-1){F.moveTo(m.L.x,m.L.y);F.lineTo(m.vf.x,m.vf.y);Y.push(m.vf)}if(z&&U(z.type)&&D.Au.indexOf(P)==-1){F.moveTo(z.L.x,z.L.y);
F.lineTo(z.Xs.x,z.Xs.y);Y.push(z.Xs)}F.stroke();if(!K.L.rr(K.Xs))Y.push(K.Xs);if(!K.L.rr(K.vf))Y.push(K.vf);
for(var M=0;M<Y.length;M++){var Q=Y[M],C=Q.x,J=Q.y;if(M==0&&(K.type==2||K.type==5))F.fillRect(C-1.2*H,J-1.2*H,2.4*H,2.4*H);
else{F.beginPath();F.arc(C,J,H*1.2,0,2*Math.PI);F.fill();if(M!=0)F.fillStyle=b;F.beginPath();F.arc(C,J,H*.8,0,2*Math.PI);
F.fill();F.fillStyle=o}}}L=!0}}}F.lineWidth=1/W.Q;if(x.N.JA){F.fillStyle=F.strokeStyle=o;var z={p:[],G:[]},d=k9.aD6;
if(d==null){d=k9.aD6={p:[1,0],G:["M"]};for(var w=1;w<30;w++){var A=Math.PI*2*w/30;d.p.push(Math.cos(A),Math.sin(A));
d.G.push("L")}d.G.push("Z","M","L","M","L");d.p.push(-.5,0,.5,0,0,-.5,0,.5)}for(var w=0;w<x.N.JA.length;
w++){var m=O.SR.a7Q(x.N.JA[w],W),G=new iJ(m[0],0,0,m[0],m[1],m[2]);r.Z.concat(z,d,G)}this.nP(z,null,F);
F.stroke();L=!0}var kB=new iJ(1,0,0,1,.5/W.Q,.5/W.Q);if(x.da){F.fillStyle=F.strokeStyle=o;var z={p:[0,0,x.m,0,x.m,x.e,0,x.e],G:["M","L","L","L","Z"]};
this.nP(z,kB,F);F.stroke();L=!0}if(x.N.PY){F.fillStyle=F.strokeStyle=k9.qP([0,0,0,.5]);this.nP(x.N.PY,null,F,!0);
F.fill("evenodd")}F.strokeStyle=o;F.fillStyle=b;if(x.N.DG){this.nP(x.N.DG,kB,F);F.stroke()}var q=k9.VK(x.N.uf,F,W);
F.fill();F.stroke();L=L||q;F.fillStyle=F.strokeStyle=k9.qP([0,0,0,hl.Cp&&aH==0?1:.5],!0);if(x.N.Ys){this.nP(x.N.Ys,null,F);
F.fill()}if(x.N.HV){this.nP(x.N.HV,kB,F);F.stroke()}for(var fO in x.N.lI)if(x.N.lI[fO].HV){this.nP(x.N.lI[fO].HV,null,F);
F.stroke();L=!0}var q=k9.VK(x.N.sC,F,W);F.stroke();L=L||q;if(x.N.Vq.length+x.N.dM.length+x.N.kV.length!=0){L=!0;
F.fillStyle=b;k9.E7(x.N.Vq,F,W,6);F.fill();k9.E7(x.N.dM,F,W,6);F.fill();F.fillStyle=o;k9.E7(x.N.Vq,F,W,4);
F.fill();k9.E7(x.N.kV,F,W,4);F.fill();F.fillStyle=k9.qP([.7,.7,.7,1]);k9.E7(x.N.dM,F,W,4);F.fill()}if(x.N.pF.length!=0){for(var w=0;
w<x.N.pF.length;w++){var g=x.N.pF[w],jN=g[1],c6;if(n){c6=F.getImageData(jN.x,jN.y,jN.m,jN.e);r.l.X3("norm",g[0],jN,new Uint8Array(c6.data.buffer),jN,jN,1)}else c6=new ImageData(new Uint8ClampedArray(g[0].buffer),jN.m,jN.e);
F.putImageData(c6,jN.x,jN.y)}}var a7=.5/W.Q;F.lineWidth=1/W.Q;if(x.N.Pt){L=!0;var bd=x.N.Pt,ey=bd.rJ,j={G:[],p:[]};
for(var w=0;w<bd.Gz.length;w++)r.Z.concat(j,r.Z.o4(bd.Gz[w]));j.p=j.p.concat(ey);for(var w=0;w<ey.length;
w+=4){j.G.push("M","L")}for(var w=0;w<j.p.length;w++){j.p[w]+=a7}F.strokeStyle=k9.qP([.9,.2,.2,1]);this.nP(j,null,F);
F.stroke();var c5=v.e1(),bx=2/W.Q;F.font=i*.9+"px sans-serif";for(var w=0;w<ey.length;w+=4){var C=ey[w],J=ey[w+1],ap=ey[w+2],fC=ey[w+3],kE=Math.sqrt((fC-J)*(fC-J)+(ap-C)*(ap-C));
kE=r.uX.e3(kE,x.Bq,$,J==fC?x.m:x.e);var bm=new eX((C+ap)/2,(J+fC)/2);F.fillStyle=k9.qP([.9,.2,.2,1]);
var fe=F.measureText(kE).width;F.fillRect(bm.x-fe/2-bx*c5,bm.y-3.5*bx*c5,fe+2*bx*c5,7*bx*c5);F.fillStyle=k9.qP([1,1,1,1]);
F.save();F.translate(bm.x-fe/2,bm.y+2*bx*c5);F.scale(.1,.1);F.font=i*9+"px sans-serif";F.fillText(kE,0,0);
F.restore()}}if($.AU){if(l.wa&&x.U.Q>10&&aH==0){this.aq(x,F,1,1,.25,l.MX,16777215);L=!0}if(l.xg){var g8=r.uX.aL(l.hh,x.Bq,x.m,l.wq),e0=g8;
if(l.wq==4)e0*=x.e/x.m;this.aq(x,F,g8,e0,1,l.MX,l.VW);L=!0}if(l.Ul){var cF=x.L6(),ei=x.gD(),cr=Math.max(x.U.$f.m,x.U.$f.e)/x.U.Q;
cr=Math.max(Math.max(x.m,x.e)*2,cr);for(var w=0;w<cF[0].length;w++){var e_=cF[0][w],gg=cF[1][w];if(gg!=-1&&gg!=ei)continue;
var bW=W.Q0(e_[1],e_[1]),gx=W.m$(Math.floor(bW.x)+.5,Math.floor(bW.y)+.5),h$=r.j4(l.Zr);h$=[h$.o/255,h$.r/255,h$.z/255,1];
if(gg!=-1)h$=[0,.5,1,1];F.beginPath();F.strokeStyle=k9.qP(h$);if(e_[0]==0){var dH=gx.x;F.moveTo(dH,-cr);
F.lineTo(dH,cr)}else{var eg=gx.x;F.moveTo(-cr,eg);F.lineTo(cr,eg)}F.stroke();L=!0}}var aB=x.FK;if(aB.length>0&&$.Dj==O.a5R){var jN=7/x.U.Q,gB=jN/3,jy=jN*4;
F.strokeStyle=F.fillStyle="black";for(var w=0;w<aB.length;w++){var aV=aB[w];F.fillRect(aV.x-.5*gB,aV.y-.5*jy,gB,jy);
F.fillRect(aV.x-.5*jy,aV.y-.5*gB,jy,gB);F.lineWidth=2.5/x.U.Q;F.beginPath();F.arc(aV.x,aV.y,jN,0,2*Math.PI);
F.stroke();F.font=1.9*jN+"px serif";F.lineWidth=1.25/x.U.Q;F.strokeText(""+(w+1),aV.x+.75*jN,aV.y+2.5*jN)}L=!0}var ie=x.EC;
if(l.EC&&ie.length!=0){F.font=i*.8+"px sans-serif";var cT=[],a_=[];for(var w=0;w<ie.length;w++){var gs=O.jH.xM(ie,w);
cT.push(gs);if(x.oJ.indexOf(w)!=-1)a_.push(gs)}cT.reverse();var gq=Date.now();cT=r.rect.a9V([0,0,x.m,x.e],cT);
for(var M=0;M<2;M++)for(var w=0;w<cT.length;w++){var kr=cT[w],T=kr[4],a=T!=null?ie[T]:null;if(a&&M==0||a==null&&M==1)continue;
var C=Math.round(kr[0]),J=Math.round(kr[1]),ap=Math.round(kr[2]),fC=Math.round(kr[3]);F.strokeStyle=F.fillStyle=k9.qP(a?[0,.7,.7,1]:[.8,.8,.8,1]);
F.strokeRect(C+a7,J+a7,ap-C,fC-J);var iN=w+1,jH=F.measureText(iN),fe=jH.width;F.fillRect(C,J,fe+i/2,i);
F.fillStyle=k9.qP([1,1,1,1]);F.fillText(iN,C+i/4,J+i*.8)}var bx=2/x.U.Q,h2=2*bx;for(var w=0;w<a_.length;
w++){var kr=a_[w],C=Math.round(kr[0]),J=Math.round(kr[1]),ap=Math.round(kr[2]),fC=Math.round(kr[3]);
F.strokeStyle=F.fillStyle=k9.qP([1,.6,0,1]);F.strokeRect(C+a7,J+a7,ap-C,fC-J);var an=[C,J,ap,J,ap,fC,C,fC];
for(var bt=0;bt<an.length;bt+=2){var dH=an[bt],eg=an[bt+1],kH=an[bt+2&7],js=an[bt+3&7];F.fillRect(dH-bx,eg-bx,h2,h2);
F.fillRect(Math.round((dH+kH)/2)-bx,Math.round((eg+js)/2)-bx,h2,h2)}}L=!0}var gA=x.add.Anno;if(gA&&gA.length!=0)for(var w=0;
w<gA.length;w++){var jR=gA[w],h$=jR[2],dH=jR[0]-a7,eg=jR[1]-a7,h2=30/W.jA,c3=.4*h2,iU=.6*h2;F.beginPath();
F.moveTo(dH,eg+iU);F.lineTo(dH,eg);F.lineTo(dH+h2,eg);F.lineTo(dH+h2,eg+h2);F.lineTo(dH+c3,eg+h2);F.closePath();
F.lineTo(dH+c3,eg+iU);F.lineTo(dH+c3,eg+h2);if(w==x.U.LQ){F.lineWidth*=5;F.strokeStyle=k9.qP([0,0,0,.5]);
F.stroke();F.lineWidth/=5}F.fillStyle=k9.qP([h$.o/255,h$.r/255,h$.z/255,1]);F.fill();F.strokeStyle=k9.qP([0,0,0,1]);
F.stroke()}}F.strokeStyle=k9.qP([1,0,0,1]);if(x.N.kr){this.nP(x.N.kr,kB,F);F.stroke()}F.restore();if($.TG){if(x.U.q$==null||x.U.q$.width!=x.U.$f.m||x.U.wH.height!=x.U.$f.e){x.U.q$=F.createImageData(x.U.$f.m,r.uX.YW);
x.U.wH=F.createImageData(r.uX.YW,x.U.$f.e)}var k=eI.m2[$.wd],hn=0,db=0,dy=x.m,c2=x.e;if(x.gD()!=-1){var R=x.B[x.gD()].U$();
hn=R.x;db=R.y;dy=R.m;c2=R.e}hn*=W.Q;db*=W.Q;var W=x.U,bk=[1,x.Bq,x.Bq/2.54,x.Bq/25.4,dy/100][l.$o],cx=W.Q*x.m/2,ft=W.Q*x.e/2,eZ=[W.Q*bk,new eX(W.J.x+(hn+cx*bk-cx),W.J.y+(db+ft*bk-ft))];
if(l.$o==4)bk*=c2/dy;var hf=[W.Q*bk,new eX(W.J.x+(hn+cx*bk-cx),W.J.y+(db+ft*bk-ft))],jr=this.lA.ND;r.uX.aaZ(W,k["--text-color"],k["--bg-input"],Math.floor(jr.x),Math.floor(jr.y),eZ,hf);
var ix=dt.aqv(W.Q,k9.qP([1,1,1,1]),x.m,x.e);k9.rK(x.U.wH.data);k9.rK(x.U.q$.data);F.putImageData(x.U.wH,0,0);
F.putImageData(x.U.q$,0,0);F.putImageData(ix,0,x.U.$f.e-ix.height)}if(x.N.v7.length!=0){for(var w=0;
w<x.N.v7.length;w++){var g=x.N.v7[w],jN=g[1];F.putImageData(new ImageData(new Uint8ClampedArray(g[0].buffer),jN.m,jN.e),jN.x,jN.y)}}return L};
k9.prototype.aq=function(x,F,W,n,L,$,l){while(W*x.U.Q<4){W*=2;n*=2}var k=x.m,V=x.e,i=.5/x.U.Q;l=r.j4(l);
F.strokeStyle=k9.qP([l.o/255,l.r/255,l.z/255,L],!1);F.save();F.rect(0,0,k,V);F.clip();F.beginPath();
for(var f=0;f<=k;f+=W){F.moveTo(f+i,0);F.lineTo(f+i,V)}if($==0){for(var X=0;X<=V;X+=n){F.moveTo(0,X+i);
F.lineTo(k,X+i)}}else{n*=Math.sqrt(4/3);var s=n*Math.floor(k/n),R=k*(n/(2*W));for(var X=-s;X<=V+s;X+=n){F.moveTo(0,X);
F.lineTo(k,X-R);F.moveTo(0,X);F.lineTo(k,X+R)}}F.stroke();F.restore()};k9.E7=function(x,F,W,n){F.beginPath();
var L=n*v.e1()/W.Q,$=!1;for(var w=0;w<x.length;w+=2){$=!0;var l=x[w],k=x[w+1];F.moveTo(l+L,k);F.arc(l,k,L,0,2*Math.PI)}return $};
k9.VK=function(x,F,W,n){F.beginPath();var L=(n?n:1)*(4*v.e1()+.5)/W.Q,$=!1;for(var w=0;w<x.length;w+=2){$=!0;
var l=x[w],k=x[w+1];F.rect(l-L,k-L,2*L,2*L)}return $};k9.nT=function(x,F,W,n){W.beginPath();if(n)W.rect(-1e5,-1e5,1e6,1e6);
var L=x;if(F){L=r.Z.clone(x);r.Z.i(L.p,F,L.p)}Typr.U.pathToContext({cmds:L.G,crds:L.p},W)};k9.prototype.nP=k9.nT;
k9.Td=function(x,F,W){hl.AF.call(this);var n=F!=0,L=W?"true":"in01(sCoord)",$="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(x?"uniform sampler2D lut;  uniform float N;  "+hl.d4.arE:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(n?"uniform vec4 bgClr;  uniform vec4 ars["+F+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+hl.d4.axg+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(W?"-floor(sCoord)":"")+"); \t\t\t\t"+(x?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(n?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+F+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+L+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+L+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",l="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.pk($,l)};k9.Td.prototype=new hl.AF;k9.Td.prototype.Rh=function(x,F,W,n,L,$,l,k,V,i,f,X,s,R){this.EZ("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var h=hl.yG,B=this.w_;h.uniformMatrix3fv(B.tmat,!1,W);h.uniform4fv(B.gsize,n);h.uniform3f(B.contSizeZoom,L,$,l);
h.uniform2f(B.cnvSize,k,V);h.uniformMatrix4fv(B.ctrn,!1,X);if(this.a5E){h.uniform4fv(B.ars,f);h.uniform4fv(B.bgClr,i)}h.uniform1i(B.source,0);
h.uniform1i(B.target,1);h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,x);h.activeTexture(h.TEXTURE1);
h.bindTexture(h.TEXTURE_2D,F);if(s){h.uniform1f(B.N,R);h.uniform1i(B.lut,2);h.activeTexture(h.TEXTURE2);
h.bindTexture(h.TEXTURE_2D,s.Yn);var e=h.LINEAR;h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,e);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,e)}h.activeTexture(h.TEXTURE0)};function iY(){bs.call(this,[9,7],!1,"---panels/layercomps",bs.Kz.aqX);
this.SO.setAttribute("style","min-width:240px;");this.YR=null;this.to=-1;this.Ho=[];this.kX=v.t("div","scrollable");
this.kX.style.height="160px";this.SO.appendChild(this.kX);this.SX=v.t("div","lpfoot");this.SO.appendChild(this.SX);
this.hD=[];var x=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],F=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var w=0;w<x.length;w++){var W=x[w];if(w>0)W="<img src=\""+PIMG[x[w]]+"\" class=\"miniscale gsicon\" />";
var n=new cX(W,!1,F[w]);n.k("click",this.ay9,this);this.SX.appendChild(n.n);this.hD.push(n)}}iY.prototype=new bs("");
iY.prototype.z4=function(x,F){this.SO.setAttribute("style","width:"+(x-2)+"px;");this.kX.style.height=F-28+"px"};
iY.prototype.Lg=function(x){var F=new gT(S.E.v,!0);F.data=x;F.f=O.aR;this.T(F)};iY.asv="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
iY.prototype.ay9=function(x){var w=this.hD.indexOf(x.currentTarget)-1;if(w==-1){var F=new gT(S.E.M,!0);
F.data={d:S.H.tN,TJ:iY.asv};this.T(F);return}if(w!=1)if(this.to==-1)return;this.Lg({d:["updLC","addLC","delLC"][w],Fp:this.to});
if(w==2)this.to=-1};iY.prototype._=function(){bs.prototype._.call(this);for(var w=0;w<this.hD.length;
w++)this.hD[w]._()};iY.prototype.Lv=function(x){if(x==null)v.fX(this.SO,"disabled");else v.B$(this.SO,"disabled");
this.YR=x;v.Ri(this.kX);if(x==null)return;var F=x.U9.lastAppliedComp?x.U9.lastAppliedComp.v:0,W=x.U9.list.v.slice(0);
W.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var w=0;w<W.length;
w++){var n=W[w].v,L=new bP(n.Nm.v,n.compID.v,n.capturedInfo.v,F,this.to);L.k("activate",this.GK,this);
L.parent=this;this.kX.appendChild(L.n);this.Ho.push(L)}};iY.prototype.GK=function(x){this.to=x.currentTarget.Fp;
this.Lv(this.YR)};function bP(x,w,F,W,n){bS.call(this);this.Fp=w;this.n=v.t("div","head listitem"+(w==n?" selected":""));
var L=w==W,$=new cX(L?"\u2713":"\u2014");if(L)$.iA();this.n.appendChild($.n);$.k("click",this.dT,this);
var l=this.DY=v.t("span");l.textContent=x;this.n.appendChild(l);this.hD=[];if(w!=0){this.n.addEventListener("mouseup",this.GK.bind(this),!1);
this.aif=v.t("span","headR");this.n.appendChild(this.aif);var k=["lrs/eye","pos","lrs/fx"],V=["Visibility","Position","Appearance"];
for(var i=0;i<k.length;i++){var f=new cX("<img src=\""+PIMG[k[i]]+"\" class=\"autoscale gsicon\" />",!1,V[i]);
if((F>>i&1)==0)f.n.setAttribute("style","opacity:0.3");f.k("click",this.a0X,this);this.aif.appendChild(f.n);
this.hD.push(f)}}}bP.prototype=new bS;bP.prototype.GK=function(x){if(x.target!=this.DY&&x.target!=this.n)return;
if(x.detail==1)this.T(new gT("activate",!1));else{var F=new bs.PE(this.DY,this.KV.bind(this))}};bP.prototype.a0X=function(x){var w=this.hD.indexOf(x.currentTarget);
this.Lg({d:"editLC",aBL:w,Fp:this.Fp})};bP.prototype.KV=function(x){this.Lg({d:"editLC",au:x,Fp:this.Fp})};
bP.prototype.dT=function(x){this.Lg({d:"setLC",Fp:this.Fp})};bP.prototype.Lg=function(x){var F=new gT(S.E.v,!0);
F.data=x;F.f=O.aR;this.T(F)};function fI(){bs.call(this,[9,11],!1,"---panels/navigator",bs.Kz.agt);var x=this.SO;
v.fX(x,"padded");x.setAttribute("style","cursor:grab;");this.Mt=v.t("canvas");x.appendChild(this.Mt);
v.kE(x);v.OC(this.Mt);v.p6(this.Mt,this.TP.bind(this));this.km=new ec(null,2,6400,"%",null,!0);this.km.k(S.E.A,this.aa2,this);
x.appendChild(this.km.n);this.a59=this.VV.bind(this);this.a5X=this.JX.bind(this);this.bn=null;this.zK=null;
this.AG=!1}fI.prototype=new bs("");fI.prototype.z4=function(x,F){this.Xv=x*1.2;this.eD=F*1.2;this.tW()};
fI.prototype.aa2=function(x){var F=this.km.h(),W=this.bn,n=F/100;if(.8<n&&n<1.2)n=1;else if(1.8<n)n=Math.round(n);
var L=new gT(S.E.v,!0);L.f=O._6;L.data={d:"zoom",Q:n};this.T(L)};fI.prototype.TP=function(x){var F=this.bn;
if(F==null)return;this.AG=!0;v.FJ(window,this.a59);v.UJ(window,this.a5X)};fI.prototype.VV=function(x){var F=v.iF(x,this.Mt),W=this.bn,n=this.Mt.width,L=this.Mt.height,$=(F.x*v.e1()-n/2)/n,l=(F.y*v.e1()-L/2)/L,k=v.e1()*W.U.Q,V=Math.round(-W.U.Q*W.m*$),i=Math.round(-W.U.Q*W.e*l);
O.ga.dK(W,V,i)};fI.prototype.JX=function(x){v.ac(window,this.a59);v.bg(window,this.a5X);this.AG=!1};
fI.prototype.Lv=function(x){if(x==null&&this.bn!=null)this.Mt.width=100;this.bn=x;this.tW()};fI.prototype.aDo=function(){var x=this.bn,F=v.e1(),W=O.Ov._i(x.m,x.e,F*(this.Xv-10),F*(this.eD-36)),n=r.xt(x.Hi(),new eu(0,0,x.m,x.e),W);
this.zK=[n.Xu,n.rect]};fI.prototype.tW=function(){var x=this.bn;if(x==null||x.U.Q==0)return;var F=x.U;
if(!v.Ww(this.SO))return;this.km.c(F.Q*100);if(!this.AG)this.aDo();var W=this.zK[0],n=this.zK[1],L=n.m,$=n.e,l=this.Mt;
l.width=L;l.height=$;v.H$(l,L,$);var k=this.SO;k.style.width=this.Mt.style.width+12+"px";var V=l.getContext("2d"),i=V.createImageData(L,$);
r.Bj(W,i.data);V.putImageData(i,0,0);V.getImageData(0,0,1,1);var f=F.$f,X=F.m$(f.x,f.y),s=F.m$(f.x+f.m,f.y+f.e),R=L/x.m;
V.scale(R,R);V.lineWidth=4/R;V.strokeStyle="#ff0000";V.strokeRect(X.x,X.y,s.x-X.x,s.y-X.y)};fI.prototype.AW=function(x,F){};
fI.prototype.fO=function(){this.tW()};function cy(x,F){bs.call(this,x.name,!1,x.icon,F);this.ajM=x}cy.prototype=new bs("");
cy.prototype.HE=function(){var x=this.SO,F=this.ajM;if(!v.Ww(x)||this.R5)return;var W=this.R5=v.t("iframe");
W.setAttribute("src",F.url);this.SO.appendChild(W)};cy.prototype.fO=cy.prototype.Lv=function(){this.HE()};
cy.prototype.ZZ=function(x){if(v.Ww(this.R5))this.R5.contentWindow.postMessage(x,"*")};cy.prototype.z4=function(x,F){if(this.R5==null)return;
this.R5.setAttribute("style","width:"+x+"px; height:"+F+"px")};function fT(){bs.call(this,[9,12],!1,"---panels/tpreset",bs.Kz.I$);
this.Mh=null;this.fs=new bH(O.s3);this.fs.parent=this;var x=v.t("div","padded");x.setAttribute("style","width:20em");
this.SO.appendChild(x);x.appendChild(this.fs.pT)}fT.prototype=new bs("");fT.prototype.fO=function(){this.fs.KX(this.Mh.yz)};
fT.prototype.AW=function(x,F){this.Mh=x;if(F==iC.tB||F==iC.I$)this.fs.KX(x.yz)};fT.prototype.z4=function(x,F){this.fs.aa0(this.Mh.Dj)};
fT.prototype._=function(){bs.prototype._.call(this);this.fs._()};var aj=function(){var x=[],F=null,W=null,n=null,L=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function $(){bs.call(this,"Memory",!1,null,bs.Kz.agO);var s=v.t("div","padded");this.SO.appendChild(s);
W=new cX(["<< VAR0",[0,13,2]],!1,null,!0);W.addEventListener("click",function(R){x.pop();k()});s.appendChild(W.n);
F=v.t("div","scrollable");F.setAttribute("style","width:20em;  height:26em; margin-top:8px;");s.appendChild(F)}$.prototype=new bs("");
$.prototype.Lv=function(s,R,h){n=R;this.fO()};$.prototype.fO=function(){W.DE(!1);if(!v.Ww(F))return;
var s={pL:"Total:",I8:[]};for(var w=0;w<n.length;w++)s.I8.push(i(n[w]));X(s);x=[s];k()};$.prototype._=function(){bs.prototype._.call(this);
W._()};function l(s){var R=s.currentTarget,w=0;while((R=R.previousSibling)!=null)w++;x.push(x[x.length-1].I8[w-1]);
k()}function k(){W.DE(x.length>1);var s=x[x.length-1];v.Ri(F);V(s,F,0);s.I8.sort(function(R,h){return h.LM[0]-R.LM[0]});
for(var w=0;w<s.I8.length;w++)V(s.I8[w],F,1)}function V(s,R,h){var B=aK.LS,e=h!=0&&s.I8,U="margin-left:"+h*10+"px; margin-bottom:8px; padding:3px 5px;";
if(e)U+="cursor:pointer;";if(s.d$!=null)U+="background-color:rgba("+L[s.d$].join(",")+",0.2);";var o=v.t("div");
R.appendChild(o);o.setAttribute("style",U);o.innerHTML=v.sf(s.pL)+"<br />"+"RAM: <b>"+B(s.LM[0])+"</b>\u2001GPU: <b>"+B(s.LM[1])+"</b>";
if(e)o.addEventListener("click",l,!1)}function i(s){var R={pL:s.name,I8:[],d$:0},h=hl.Cp?1:0,B=1-h,e={pL:"History",I8:[],d$:5};
R.I8.push(e);for(var w=1;w<s.history.length;w++){var U=s.history[w];e.I8.push({pL:hz.get(U.name),d$:5,LM:[U.p$(),0]})}X(e);
var e={pL:"Final Image",LM:[s.m*s.e*4,h*s.m*s.e*4],d$:2};R.I8.push(e);for(var w=0;w<s.B.length;w++){var o=f(s.B[w]);
if(o.I8.length!=0)R.I8.push(o)}var b=s.add.lnk2;if(b)for(var w=0;w<b.length;w++){var o=b[w],u={pL:o.GR,I8:[],d$:4},Z=0;
u.I8.push({pL:"Raw file",LM:[o.raw.length,0]});if(o.mp)for(var I=0;I<o.mp.length;I+=2)Z+=o.mp[I].length;
if(Z!=0)u.I8.push({pL:"Decoded pixels",LM:[Z,0]});X(u);R.I8.push(u)}X(R);return R}function f(s){var R={pL:s.getName(),I8:[],d$:1},h=hl.Cp?1:0,B=1-h,e=s.rect.P();
if(e!=0)R.I8.push({pL:"Layer pixels",LM:[e*4,h*e*4]});if(s.add.lmfx&&s.jT.LX.type){var U=s.jT.LX.type,Z=0;
for(var o in U){var b=0;for(var u=0;u<U[o].length;u++)if(o=="ebbl"){if(U[o][u]._S)b+=U[o][u]._S.mF.P();
if(U[o][u].i1)b+=U[o][u].i1.mF.P();if(U[o][u].h0)b+=U[o][u].h0.mF.P();if(U[o][u].LE)b+=U[o][u].LE.mF.P()}else b+=U[o][u].mF.P();
if(b!=0)R.I8.push({pL:hz.get(eC.names[eC.order.indexOf(o)]),LM:[B*b*4,h*b*4],d$:3})}if(s.jT.KW)Z+=e;
if(s.jT.od)Z+=e;if(s.jT.l4)Z+=e;if(s.jT.l4)Z+=e;if(s.jT.tI)Z+=e;if(s.jT.JF)Z+=e;var I=s.jT.Ad?s.jT.Ad.length:0;
if(Z+I!=0)R.I8.push({pL:"Additional Blending Data",LM:[B*Z*4+I,h*Z*4]})}var y=s.GH(),D=y?y.rect.P():0;
if(D!=0){R.I8.push({pL:"Raster Mask",LM:[D,0]})}var y=s.add.vmsk,D=y&&y.y7?y.y7.rect.P():0;if(D!=0){R.I8.push({pL:"Vector Mask",LM:[D,0]})}X(R);
return R}function X(s){s.LM=[0,0];for(var w=0;w<s.I8.length;w++){s.LM[0]+=s.I8[w].LM[0];s.LM[1]+=s.I8[w].LM[1]}}return $}();
function he(){bs.call(this,[9,14],!1,"---panels/notes",bs.Kz.agm);this.SO.setAttribute("style","min-width:240px;");
var x=v.t("div","padded");this.SO.appendChild(x);this.yv=new f8("Author");x.appendChild(this.yv.n);this.fo=v.t("textarea");
v.Fs(this.fo);x.appendChild(this.fo);var F=new cX("<<",null,null,!0);x.appendChild(F.n);this.a4M=F;var W=new cX(">>",null,null,!0);
x.appendChild(W.n);F.k("click",this.Pn,this);W.k("click",this.Pn,this);var n=this.acz=new e8("");x.appendChild(n.n)}he.prototype=new bs("");
he.prototype.Pn=function(x){var F=x.target==this.a4M?-1:1,W=this.bn,n=W.add.Anno;if(n==null)return;var L=n.length,$=W.U.LQ;
W.U.LQ=($+F+L)%L;W.bA=!0;this.tW()};he.prototype.tW=function(){var x=this.bn;if(x==null)return;var F=x.add.Anno;
if(F==null||F.length==0)return;var W=x.U.LQ,n=F[W];this.fo.value=n[4];this.acz.c(W+1+" / "+F.length);
this.yv.c(n[3])};he.prototype.z4=function(x,F){if(this.Xv==x)return;this.Xv=x;F=Math.min(F,200);this.fo.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(x-10)+"px; height:"+(F-66)+"px")};
he.prototype.Lv=function(x,F,W){this.bn=x;this.tW()};function f9(){bS.call(this);this.f=0;this.CZ=null;
this.n=v.t("div","toolconf");this.fs=null;this.vQ=null;this.body=new v.t("div","body")}f9.prototype=new bS;
f9.prototype.a2P=function(x,F){this.f=x;this.CZ=F;if(O.XR[x]){var W=this.fs=new bH(x);this.n.appendChild(W.n);
W.parent=this}else{this.vQ=v.t("div");this.n.appendChild(this.vQ)}this.n.appendChild(this.body);this._()};
f9.prototype.a24=function(x,F){};f9.prototype.aey=function(x){};f9.prototype.AW=function(x,F){if(F==iC.tB||F==iC.I$)if(this.fs)this.fs.KX(x.yz)};
f9.prototype.Bi=function(x){};f9.prototype._=function(){if(this.fs)this.fs._();else this.vQ.innerHTML=v.ol(this.CZ,null,"toolicon");
this.zV()};f9.prototype.zV=function(){};function hb(){f9.call(this);this.p7=new b9;this.p7.k(S.E.A,this.Dw,this);
this.body.appendChild(this.p7.n)}hb.prototype=new f9;hb.prototype.zV=function(){this.p7._()};hb.prototype.Dw=function(x){var F=new gT(S.E.M,!0);
F.data={d:S.H.mh,f:this.f,jL:this.p7.ayS()};this.T(F)};hb.prototype.Bi=function(x){this.p7.aAX(x.qm)};
function g3(x){f9.call(this);if(x==null)return;this.Mh=null;this.bQ={};if(x.indexOf("brush")!=-1&&x.indexOf("prsr")==-1)x.push("prsr");
for(var w=0;w<x.length;w++){var F=x[w],W=null;if(F=="brush"){W=new hK}if(F=="bmode"){W=new hx([12,19,0],a2.bb,a2.Jv)}if(F=="bmode0"){W=new hx([12,19,0],a2.bb.slice(23))}if(F=="emode"){W=new hx([12,36],[[9,3],[10,38]])}if(F=="opacity"){W=new c_([12,0],0,100,"%");
W.c(100)}if(F=="flow"){W=new c_([12,63],0,100,"%");W.c(100)}if(F=="smth"){W=new c_([19,3,0],0,100,"%");
W.c(0)}if(F=="samp"){W=new hx([12,36],[[12,25,4],[12,25,5],[12,46]])}if(F=="wconf"){W=new ad;W.c([40,!0,!0])}if(F=="sall"){W=new j2([12,25,2])}if(F=="smode"){W=new hx([12,36],[[19,7,0],[19,7,1]]);
W.c(1)}if(F=="pdetail"){W=new j2([12,65]);W.iA()}if(F=="rng"){W=new hx([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
W.c(1)}if(F=="expo"){W=new c_([12,5],0,100,"%");W.c(50)}if(F=="algnd"){W=new j2([12,75]);W.c(!1)}if(F=="sfrom"){W=new hx([12,70],[[17,1],[17,3],[17,0]])}if(F=="alt"){W=new gM(null,["Alt"],!0,["Select Source"])}if(F=="qsmode"){W=new c7([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(F=="redge"){W=new cX([7,11],!1,null,!0)}if(F=="sesu"){W=new cX("Select Subject",!1,null,!0)}if(F=="setop"){W=new cK}if(F=="patch"){W=new c7(null,[[12,70],[12,71]])}if(F=="strn"){W=new c_([12,64],1,100,"%");
W.c(50)}if(F=="prsr"){W=this.bQ.brush.hQ}this.body.appendChild(W.n);if(F=="prsr")continue;W.parent=this;
this.bQ[F]=W;if(F=="brush")W.k(S.E.A,this.a76,this);else if(F=="redge"||F=="sesu")W.k("click",gd.agF,this);
else W.k(S.E.A,this.Ot,this)}}g3.prototype=new f9;g3.prototype.a24=function(x,F){x=x[1];var W=this.bQ;
if(x.Md)W.bmode.c(a2.Se.indexOf(x.Md.v.BlnM));if(x.Opct)W.opacity.c(x.Opct.v);if(x.flow)W.flow.c(x.flow.v);
if(x.Brsh)W.brush.c(x,F.rj.kF,F.rj.r5);if(x.FrgC){var n=r.I.z$(x.FrgC.v),L=new gT(S.E.M,!0);L.data={d:S.H.DD,jL:iC.N1,k1:0,b:n.o<<16|n.r<<8|n.z};
this.T(L)}this.a76();this.Ot()};g3.prototype.aey=function(){if(O.XR[this.f]==null)return null;var x=this.bQ,F;
for(var W in O.Np)if(O.Np[W]==this.f)F=W;var n=JSON.parse(JSON.stringify(x.brush.h()));n.classID=F;if(x.bmode)n.Md={t:"enum",v:{BlnM:a2.Se[x.bmode.h()]}};
if(x.opacity)n.Opct={t:"long",v:x.opacity.h()};if(x.flow)n.flow={t:"long",v:x.flow.h()};var L=this.Mh.A_;
L={o:L>>>16,r:L>>>8&255,z:L&255};n.FrgC={t:"Objc",v:r.I.GB(L)};return["Brush Preset "+n.Brsh.v.Dmtr.v.val,n]};
g3.prototype.zV=function(){for(var x in this.bQ)this.bQ[x]._()};g3.prototype.Bi=function(x){if(x.akn=="showBrushOpts"){this.bQ.brush.au2(x._b.x,x._b.y)}for(var F in x.Z_){var W=x.Z_[F];
if(F!="qsmode")W*=100;if(this.bQ[F])this.bQ[F].c(W)}};g3.prototype.AW=function(x,F){f9.prototype.AW.call(this,x,F);
this.Mh=x;var W=this.bQ.brush;if(W==null)return;if(F==iC.tB||F==iC.s3)W.KX(x.rj);if(F==iC.rb){W.c(x.rj.gd,x.rj.kF,x.rj.r5)}};
g3.prototype.a76=function(){var x=new gT(S.E.M,!0);x.data={d:S.H.DD,jL:iC.rb,BX:this.bQ.brush.h()};this.T(x)};
g3.prototype.Ot=function(){var x=new gT(S.E.M,!0);x.data={d:S.H.mh,f:this.f};for(var F in this.bQ){if(F=="brush"||F=="redge")continue;
var W=this.bQ[F].h();if(["opacity","flow","smth","expo","strn"].indexOf(F)!=-1)x.data[F]=W/100;else if(F=="bmode")x.data.bmode=a2.BL[W];
else if(F=="bmode0")x.data.bmode=a2.BL[23+W];else x.data[F]=W}this.T(x)};function gd(x,F){f9.call(this);
if(x)return;this.bQ={};for(var w=0;w<F.length;w++){var W=F[w],n=null;if(W=="binop")n=new cK;if(W=="feat"){n=new c_([7,6],0,100,"px");
n.c(0)}if(W=="redge")n=new cX([7,11],!1,null,!0);if(W=="sesu")n=new cX("Select Subject",!1,null,!0);
if(W=="wconf")n=new ad;if(W=="cstr")n=new i8;if(W=="anta"){n=new j2([12,25,1]);n.c(!0)}if(W=="sall")n=new j2([12,25,2]);
if(W=="redge"||W=="sesu")n.k("click",gd.agF,this);else n.k(S.E.A,this.Ot,this);n.parent=this;this.body.appendChild(n.n);
this.bQ[W]=n}}gd.prototype=new f9;gd.prototype.Bi=function(x){if(x.W0!=null)this.bQ.binop.c(x.W0);else if(x.y6){for(var F in x.y6)if(this.bQ[F])this.bQ[F].c(x.y6[F])}else{var W=gd.LU;
if(W==null){var n=ij.alB(!0);W=gd.LU=new g$(n.items,n.pd)}W._();W.parent=this;W.update(x.Oq,x.gr);var L=new gT(S.E.M,!0);
L.data={d:S.H.OO,f_:W,x:x.t4.PC+2,y:x.t4.RX+1};this.T(L)}};gd.prototype.zV=function(){for(var x in this.bQ)this.bQ[x]._()};
gd.agF=function(x){var F=x.target==this.bQ.sesu,W=new gT(F?S.E.v:S.E.M,!0);if(F){W.f=O.Yg;W.data={d:"bgrm",b:2}}else W.data={d:S.H.Ar,ip:"redge"};
this.T(W)};gd.prototype.Ot=function(){var x=new gT(S.E.M,!0);x.data={d:S.H.mh,f:this.f,y6:{}};for(var F in this.bQ)x.data.y6[F]=this.bQ[F].h();
this.T(x)};function ee(){g3.call(this,["brush","strn"])}ee.prototype=new g3;function bz(){g3.call(this,"brush bmode opacity flow smth prsr".split(" "))}bz.prototype=new g3;
function ir(){g3.call(this,["brush","bmode0","samp","wconf"])}ir.prototype=new g3;function fu(){g3.call(this,["brush"])}fu.prototype=new g3;
function a4(){g3.call(this,["brush","bmode","opacity","smth","prsr"])}a4.prototype=new g3;function cP(){g3.call(this,["brush","rng","expo"])}cP.prototype=new g3;
function j9(){g3.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}j9.prototype=new g3;function iM(x){f9.call(this);
if(x==null)return;this.S0=[];this.NY=new cX("\u2026",!1,null,!0);if(!x)this.body.appendChild(this.NY.n);
this.NY.k("click",this.dG,this);this.ut=new bS;this.ut.parent=this;var F=this.ut.n=v.t("div","floatcont form"),W=[[17,0],[17,1],[11,12,0],[17,2]];
for(var w=0;w<W.length;w++){var n=new cX(W[w],!1,null,!0);this.S0.push(n);n.k("click",this.aBs,this);
if(!x||w==1)F.appendChild(n.n)}this.ml=new i8;this.ml.k(S.E.A,this.XP,this);if(!x)this.body.appendChild(this.ml.n);
this.YK=new cX([15,7,6],!1,null,!0);this.YK.k("click",this.aBs,this);if(!x)this.body.appendChild(this.YK.n);
this.uK=new j2([15,7,10]);this.uK.k(S.E.A,this.XP,this);if(!x)this.body.appendChild(this.uK.n);this.Ws=new j2("Content-Aware");
this.Ws.k(S.E.A,this.XP,this);if(!x)this.body.appendChild(this.Ws.n);this.t6=new jQ;this.t6.k("click",this.TK,this)}iM.prototype=new f9;
iM.prototype.dG=function(x){if(v.Ww(this.ut.n))return;var F=this.NY.n.getBoundingClientRect(),W=new gT(S.E.M,!0);
W.data={d:S.H.OO,f_:this.ut,x:F.left,y:F.top+F.height+4};this.T(W)};iM.prototype.zV=function(){this.t6._();
for(var w=0;w<this.S0.length;w++)this.S0[w]._();this.ml._();this.uK._();this.YK._()};iM.prototype.Bi=function(x){if(x.jV){this.ml.aiZ(x.jV[0],x.jV[1]);
return}var F=this.t6.n;if(x.hN)this.body.appendChild(F);else if(this.body.contains(F))this.body.removeChild(F);
if(x.ml)this.ml.c(x.ml)};iM.prototype.TK=function(x){var F={d:S.H.mh,f:this.f,_1:this.t6.h()?"commit":"cancel"},W=new gT(S.E.M,!0);
W.data=F;this.T(W)};iM.prototype.aBs=function(x){x.target.n.blur();var F={d:S.H.mh,f:this.f,_1:"cropby",acq:this.S0.indexOf(x.target)};
if(x.target==this.YK)F._1="straighten";var W=new gT(S.E.M,!0);W.data={d:S.H.qk,f_:this.ut};this.T(W);
W.data=F;this.T(W)};iM.prototype.XP=function(x){var F={d:S.H.mh,f:this.f,_1:"config",tl:{Ds:this.ml.h(),e7:this.uK.h(),p1:this.Ws.h()},a1N:x.target==this.ml},W=new gT(S.E.M,!0);
W.data=F;this.T(W)};function bi(){iM.call(this,!1)}bi.prototype=new iM;function cd(){iM.call(this,!0)}cd.prototype=new iM;
function dV(){g3.call(this,["brush","rng","expo"])}dV.prototype=new g3;function gk(){g3.call(this,"brush emode opacity flow smth prsr".split(" "))}gk.prototype=new g3;
function i2(){g3.call(this,["brush","samp","wconf"])}i2.prototype=new g3;function bB(){gd.call(this,!1,["binop","feat","anta","redge","cstr"])}bB.prototype=new gd(!0);
function dG(){f9.call(this);var x=this.bQ=[new hx([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new hx([12,70],[[17,1],[17,3],[17,0]]),new j2([12,20,1]),new j2([8,0])];
x[1].c(2);x[2].c(!0);for(var w=0;w<x.length;w++){var F=x[w];F.k(S.E.A,this.Ot,this);this.body.appendChild(F.n)}}dG.prototype=new f9;
dG.prototype.Ot=function(x){var F=this.bQ,W=[];for(var w=0;w<F.length;w++)W[w]=F[w].h();var n=new gT(S.E.M,!0);
n.data={d:S.H.mh,f:this.f,y6:W};this.T(n)};dG.prototype.zV=function(){for(var w=0;w<this.bQ.length;w++)this.bQ[w]._()};
function aP(){f9.call(this);this.Z8=new aJ(!1);this.Z8.parent=this;this.Z8.k(S.E.A,this.jx,this);this.body.appendChild(this.Z8.n);
this.Z8.c(JSON.parse(eC.CC.ac4).v);this.V8=new hx(null,eC.I.names.slice(0,5));this.V8.k(S.E.A,this.jx,this);
this.body.appendChild(this.V8.n);this.Xw=new hx([12,19,0],a2.bb,a2.Jv);this.Xw.k(S.E.A,this.jx,this);
this.body.appendChild(this.Xw.n);this.mX=new c_([12,0],0,100,"%");this.mX.parent=this;this.mX.k(S.E.A,this.jx,this);
this.body.appendChild(this.mX.n);this.mX.c(100);this.n$=new j2([12,23,0]);this.n$.k(S.E.A,this.jx,this);
this.body.appendChild(this.n$.n);this.gt=new j2([12,23,3]);this.gt.k(S.E.A,this.jx,this);this.body.appendChild(this.gt.n)}aP.prototype=new f9;
aP.prototype.zV=function(){this.V8._();this.Xw._();this.mX._();this.n$._();this.gt._()};aP.prototype.AW=function(x,F){f9.prototype.AW.call(this,x,F);
var W=F==iC.N1;this.Z8.jP(x.A_,x.G8);if(W||F==iC.W$||F==iC.tB)this.Z8.KX(x.RP)};aP.prototype.jx=function(){var x=new gT(S.E.M,!0);
x.data={d:S.H.mh,f:this.f};x.data.jL={I:this.Z8.h(),RB:eC.I.types[this.V8.h()],TC:this.n$.hG(),Nx:this.gt.hG(),aur:a2.BL[this.Xw.h()],BE:this.mX.h()/100};
this.T(x)};function hE(){f9.call(this);this.o9=new j2([8,7,1]);this.body.appendChild(this.o9.n);this.o9.k(S.E.A,this.Ot,this)}hE.prototype=new f9;
hE.prototype.Ot=function(){var x={d:S.H.mh,f:this.f,MJ:this.o9.h()},F=new gT(S.E.M,!0);F.data=x;this.T(F)};
function eT(){f9.call(this);var x=v.t("span","fitem");this.body.appendChild(x);this.JI=[new c_([12,15],-180,180,"\xB0"),new cX([1,12,2],null,null,!0)];
for(var w=0;w<this.JI.length;w++){var F=this.JI[w];F.parent=this;x.appendChild(F.n);F.k(w==1?"click":S.E.A,this.BC,this)}}eT.prototype=new f9;
eT.prototype.zV=function(){for(var w=0;w<this.JI.length;w++)this.JI[w]._()};eT.prototype.Bi=function(x){this.JI[0].c(x.YD*180/Math.PI)};
eT.prototype.BC=function(x){var F=this.JI.indexOf(x.target),W=new gT(S.E.M,!0);W.data={d:S.H.mh,f:this.f,YD:F==1?0:x.target.h()*Math.PI/180};
this.T(W)};function ho(){g3.call(this,["brush","algnd","sfrom","alt"])}ho.prototype=new g3;function j$(){f9.call(this);
this.zP=new ag;this.zP.parent=this;this.body.appendChild(this.zP.$B.n);this.body.appendChild(this.zP.qs.n);
this.body.appendChild(this.zP.ko.n);this.body.appendChild(this.zP.YJ.n);var x=v.t("span","fitem");this.body.appendChild(x);
x.appendChild(this.zP.g2.n);x.appendChild(this.zP.Mp.n);x.appendChild(this.zP.Vz.n);this.m1=new hx("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.m1.k(S.E.A,this.TK,this);this.body.appendChild(this.m1.n);this.Lu=new cX([11,9],!1,null,!0);this.Lu.k("click",this.a4b,this);
this.body.appendChild(this.Lu.n);this.t6=new jQ;this.t6.k("click",this.TK,this)}j$.prototype=new f9;
j$.prototype.zV=function(){this.t6._();this.zP._();this.Lu._()};j$.prototype.a4b=function(x){var F={d:S.H.mh,f:this.f,_1:"showwarp"},W=new gT(S.E.M,!0);
W.data=F;this.T(W)};j$.prototype.Bi=function(x){if(x._1=="showactive")this.body.appendChild(this.t6.n);
if(x._1=="hideactive")this.body.removeChild(this.t6.n);if(x._1=="changeAA")this.m1.c(x.k9);if(x._1=="showpan"){var F=[{name:[0,1],sz:!0}],W=[{K:S.E.v,f:O.w1,C:{d:"editCurr",ax:x.ax}}],n=x.t4;
if(x.a7x){F=[{name:["VAR0: VAR1",[0,5],[7,0]],sz:!0}];W=[{K:S.E.BD,C:O.FA.YT(!0)}];var L=ij.aCi();F=F.concat(L[0]);
W=W.concat(L[1])}F.push({name:[11,9]});W.push({K:S.E.M,C:{d:S.H.mh,f:this.f,_1:"showwarp"}});var $=new g$(F,W);
$.parent=this;$._();$.update(x.Oq,x.gr);var l=new gT(S.E.M,!0);l.data={d:S.H.OO,f_:$,x:n.PC+2,y:n.RX+1};
this.T(l)}};j$.prototype.AW=function(x,F){f9.prototype.AW.call(this,x,F);if(F!=iC.tB&&F!=iC.LC&&F!=iC.nx&&F!=iC.n6)return;
this.zP.c(x.Sq,x.op,x.Jg)};j$.prototype.TK=function(x){var F={d:S.H.mh,f:this.f,_1:this.t6.h()?"commit":"cancel"};
if(x.target==this.m1){F._1="changeAA";F.k9=this.m1.h()}var W=new gT(S.E.M,!0);W.data=F;this.T(W)};function b7(){gd.call(this,!1,["binop","feat","anta","redge"])}b7.prototype=new gd(!0);
function j5(){f9.call(this);var x=[],W="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.$F=new j2([12,85]);this.$F.c(!0);this.$F.k(S.E.A,this.Ot,this);x.push(this.$F.n);this.P2=new hx(null,[[0,4],[0,3]]);
this.P2.k(S.E.A,this.Ot,this);this.P2.c(1);x.push(this.P2.n);this.Qh=new j2([20,1]);this.Qh.k(S.E.A,this.Ot,this);
x.push(this.Qh.n);this.ZJ=new j2([12,83]);this.ZJ.k(S.E.A,this.Ot,this);x.push(this.ZJ.n);this.ut=new bS;
this.ut.n=v.t("div","floatcont form");this.ut.n.setAttribute("style","max-width: 200px;");this.ut.parent=this;
var F=this.ut.n;this.alP=new hx("Scale for exported files",["1x","2x","3x","4x"]);F.appendChild(this.alP.n);
this.BR=new cX(W+" PNG",!1,"Save selected layers as PNG",!0);F.appendChild(this.BR.n);this.BR.k("click",this.t0,this);
this.anO=new cX(W+" SVG",!1,"Save selected layers as SVG",!0);F.appendChild(this.anO.n);this.anO.k("click",this.t0,this);
var n=new cX(W,!1,"Save selected layers",!0);x.push(n.n);n.k("click",function(V){if(v.Ww(this.ut.n))return;
var i=n.n.getBoundingClientRect(),f=new gT(S.E.M,!0);f.data={d:S.H.OO,f_:this.ut,x:i.left,y:i.top+i.height,Je:!0};
this.T(f)},this);var L=v.t("span","fitem");x.push(L);var $=v.t("span","fitem");x.push($);this.hD=[];
for(var w=0;w<8;w++){var l=w==3||w==7?[20,4,6]:[20,4,w<3?w:w-1],k=new cX("Hi",!1,l);(w<4?L:$).appendChild(k.n);
k.k("click",this.t0,this);this.hD.push(k)}for(var w=0;w<x.length;w++)this.body.appendChild(x[w]);this.a6i=x}j5.prototype=new f9;
j5.prototype.Bi=function(x){var F=x.qm,W=x.a7E;this.$F.c(F.z0);this.Qh.c(F.Pw);this.ZJ.c(F.Pt);if(W){v.Ri(this.body);
for(var w=0;w<W.length;w++)if(W[w]==1&&this.a6i[w])this.body.appendChild(this.a6i[w])}};j5.prototype.t0=function(x){var F=this.hD.indexOf(x.target),W;
if(F==-1){W=new gT(S.E.M,!0);W.data={d:S.H.mh,f:this.f,k1:x.target==this.BR?"getPNG":"getSVG",VM:this.alP.h()+1}}else{W=new gT(S.E.v,!0);
W.f=O.iY;W.data={d:"algn",b:F}}this.T(W)};j5.prototype.Ot=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.mh,f:this.f,k1:"prms",z0:this.$F.hG(),ajo:this.P2.h(),Pw:this.Qh.hG(),Pt:this.ZJ.hG()};
this.T(F)};j5.prototype.zV=function(){this.$F._();this.P2._();this.Qh._();this.ZJ._();var x="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var w=0;w<8;w++){this.hD[w].rT(v.ol("align/"+x[w],null,"autoscale"))}};function dF(){gd.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}dF.prototype=new gd(!0);
function bq(){g3.call(this,["setop","patch"])}bq.prototype=new g3;function i7(){g3.call(this,["setop"])}i7.prototype=new g3;
function gr(x){var F=x==O.a36?[]:["bmode"];g3.call(this,F.concat(["opacity","wconf","sall"]))}gr.prototype=new g3;
function bj(){gd.call(this,!1,["binop","feat","anta","redge"])}bj.prototype=new gd(!0);function aO(){gd.call(this,!1,["binop","feat","anta","redge"])}aO.prototype=new gd(!0);
function ig(){gd.call(this,!1,["binop","feat","redge","cstr"])}ig.prototype=new gd(!0);function af(){f9.call(this);
this.Mh=null;this._8=null;this.UX=[new f8("X",null,3.2,null,!0),new f8("Y",null,3.2,null,!0),new f8("W",null,3.2,null,!0),new f8("H",null,3.2,null,!0),new f8([12,15],"\xB0",3.7,null,!0),new f8(["VAR0 1",[12,80,0]],null,3.5,null,!0),new f8(["VAR0 2",[12,80,0]],null,3.5,null,!0),new cX([15,7,6],!1,null,!0),new cX([2,2],!1,null,!0)];
for(var w=0;w<this.UX.length;w++){var x=this.UX[w];this.body.appendChild(x.n);if(w>6)x.k("click",this.$n,this)}this.Rj=0}af.prototype=new f9;
af.prototype.$n=function(x){var F=this.UX.indexOf(x.target)==7,W=new gT(S.E.v,!0);if(F){if(this.Rj==0)return;
W.f=O.d9;W.data={d:"rot",Sa:[2,5],b:-this.Rj}}else{W.f=O.LD;for(var w=0;w<6;w++)this.UX[w].c(null)}this.T(W)};
af.prototype.Bi=function(x){function F(k,V,i){var f=Math.sqrt(Math.pow(V.x-k.x,2)+Math.pow(V.y-k.y,2)),X=Math.sqrt(Math.pow(V.x-i.x,2)+Math.pow(V.y-i.y,2)),s=Math.sqrt(Math.pow(i.x-k.x,2)+Math.pow(i.y-k.y,2));
return Math.acos((X*X+f*f-s*s)/(2*X*f))}if(x==null)return;this._8=x;var W=x.apC,n=x.R1,L=n.x-W.x,$=n.y-W.y;
this.Rj=-Math.atan2($,L);if(x.Ru)this.Rj=F(n,W,x.Ru);var l=this.UX;l[0].c(this.Nf(x,W.x));l[1].c(this.Nf(x,W.y));
l[2].c(this.Nf(x,L));l[3].c(this.Nf(x,$));l[4].c((this.Rj*180/Math.PI).toFixed(2));l[5].c(this.Nf(x,eX.I9(W,n)));
if(x.Ru){l[6].c(this.Nf(x,eX.I9(W,x.Ru)))}else l[6].c("")};af.prototype.Nf=function(x,F){var W=r.uX.e3(F,x.Bq,this.Mh,x.awc,!1);
return parseFloat(W).toFixed(2)};af.prototype.AW=function(x,F){this.Mh=x;this.Bi(this._8)};af.prototype.zV=function(){var x=this.UX;
for(var w=0;w<x.length;w++)x[w]._();v.fc(x[2],x[3])};function jE(){g3.call(this,["brush","strn","pdetail"])}jE.prototype=new g3;
function eM(){g3.call(this,["brush","sfrom"]);this.amJ=[];var x=[[7,12]];for(var w=0;w<x.length;w++){var F=new cX(x[w],!1,null,!0);
this.amJ.push(F);F.parent=this;this.body.appendChild(F.n);F.k("click",this.aCB,this)}}eM.prototype=new g3;
eM.prototype.aCB=function(x){var F=this.amJ.indexOf(x.currentTarget),W=new gT(S.E.BD,!0);W.data=O.P1.fg(F==0?"contentAware":"aiHeal");
this.T(W)};function iw(){g3.call(this,["brush","strn"])}iw.prototype=new g3;function ky(){g3.call(this,["brush","flow","smode"])}ky.prototype=new g3;
function iv(){f9.call(this);this.sx=!1;var x=v.t("span","fitem");this.body.appendChild(x);this.MU=new c7(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
x.appendChild(this.MU.n);this.MU.k(S.E.A,this.Ot,this);this.XK=new cX([20,2]);this.body.appendChild(this.XK.n);
this.XK.k("click",this.am6,this);this.kH=new cX([20,3]);this.body.appendChild(this.kH.n);this.kH.k("click",this.am6,this);
this.o9=new j2([8,7,1]);this.body.appendChild(this.o9.n);this.o9.k(S.E.A,this.Ot,this)}iv.prototype=new f9;
iv.prototype.zV=function(){this.XK._();this.kH._()};iv.prototype.Ot=function(){var x={d:S.H.mh,f:this.f,sm:this.MU.h()==0,MJ:this.o9.h()},F=new gT(S.E.M,!0);
F.data=x;this.T(F)};iv.prototype.Bi=function(x){if(this.sx!=x.sx)this.MU.c(1-this.MU.h());this.sx=x.sx};
iv.prototype.am6=function(x){var F=new gT(S.E.v,!0);F.f=O._6;F.data={d:"adapt",b:x.target==this.XK?"pixel":"fitscr"};
this.T(F)};function aX(x,F){f9.call(this);if(x==null)return;this.gz=x;this.QA={};this.a4Y=F;for(var w=0;
w<x.length;w++){var W=x[w],n=null;if(W=="tmode"){n=new hx(null,[[12,76,1],[12,76,0],[12,76,2]]);n.c(0);
if(F)n.atq(2)}if(W=="make"){n=new c7("Make",[[17,2],[12,76,1]],null,!0)}if(W=="anta"){n=new j2([12,25,1]);
n.c(!0)}if(W=="binop"){n=new hx(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(W=="pshape")n=new hx(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(W=="shape")n=new hY([12,76,1]);if(W=="crad"){n=new c_([12,94,0],0,50,"px");n.c(0)}if(W=="cstr"){n=new i8}if(W=="irad"){n=new c_([12,94,1],0,100,"%");
n.c(40)}if(W=="length"){n=new c_([12,80,0],4,40);n.c(4)}if(W=="sides"){n=new c_([12,78],3,30);n.c(5)}if(W=="width"){n=new c_([12,41],1,100,"px");
n.c(5)}if(W=="tolr"){n=new c_([12,24],0,100);n.c(5)}if(W=="fstyle"){n=new cZ([12,26])}if(W=="sstyle"){n=new dg}if(W=="psnap"){n=new j2([8,10])}if(W=="crnr"){n=new cX("\u2312",!1,[12,94,0],!0)}if(W=="aopts"){n=new gW;
n.c([!1,!1,50,60,0])}if(W=="smplp"){n=new cX([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}n.parent=this;
this.body.appendChild(n.n);this.QA[W]=n;n.k(W=="crnr"||W=="smplp"?"click":S.E.A,this.Ot,this)}}aX.prototype=new f9;
aX.prototype.Bi=function(x){if(x.W0!=null)this.QA.binop.c(x.W0);else if(x.k1=="vals")for(var F in x.a6q)this.QA[F].c(x.a6q[F]);
else{var W=aX.LU,n=function($){return{w:$!=null&&$.SP(!1)}};if(W==null)W=aX.LU=new g$([{name:"Remove Anchor Point",w:function($){var l=$?$.x8():null;
return{w:$&&l[1].length!=0&&l[0][l[1][0]].add.vmsk.Au.length!=0}}},{name:"Remove Path",w:function($){var l=$?$.x8():null;
return{w:$&&l[1].length!=0&&l[0][l[1][0]].add.vmsk.g.length!=0}},sz:!0},{name:"Make Selection"},{name:[2,3],w:n},{name:[14,9],w:n}],[{K:S.E.v,f:O.cp,C:{d:"remove",em:!0}},{K:S.E.v,f:O.iM,C:{d:"remove"}},{K:S.E.M,C:{d:S.H.Ar,ip:"makesel"}},{K:S.E.BD,C:O.Sj.Va(null)},{K:S.E.BD,C:O.Sj.Va("PbTl")}]);
W.parent=this;W.update(x.Oq,x.gr);var L=new gT(S.E.M,!0);L.data={d:S.H.OO,f_:W,x:x.t4.PC+2,y:x.t4.RX+1};
this.T(L)}};aX.prototype.ax5=function(w){return null};aX.prototype.zV=function(){for(var x in this.QA){this.QA[x]._()}};
aX.prototype.Ot=function(x){var F=new gT(S.E.M,!0),W=this.QA;if(x.target==W.crnr){F=new gT(S.E.v,!0);
F.f=O.cp;F.data={d:"crnr"}}else if(x.target==W.smplp){F=new gT(S.E.v,!0);F.f=O.iM;F.data={d:"smplp"}}else if(x.target==W.make){var w=x.target.h();
console.log(w);if(w==0)F.data={d:S.H.Ar,ip:"makesel"};else{F=new gT(S.E.v,!0);F.f=O.gX;F.data={d:"newfill",d$:0}}}else if(x.target==W.fstyle){F.data={d:S.H.DD,jL:iC.JL,b:W.fstyle.h()}}else if(x.target==W.sstyle){F.data={d:S.H.DD,jL:iC.ys,b:W.sstyle.h()}}else if(x.target==W.tmode){F.data={d:S.H.DD,jL:iC.k3,b:W.tmode.h()}}else{if(W.pshape)this.Ub();
F.data={d:S.H.mh,f:this.f};for(var n in W)F.data[n]=W[n].h()}this.T(F)};aX.prototype.Ub=function(){var x=this.QA,F=x.tmode.h(),W=x.pshape?this.ax5(x.pshape.h()):this.gz,n;
if(F==0)n=["anta","make"];if(F==1)n=["anta","fstyle","sstyle"];if(F==2)n=["make","binop","fstyle","sstyle"];
var L=x.binop;if(L){var $=L.h();if(F==0){L.ajs(0)}else{L.atq(0);if($==0){L.c(1);this.Ot({target:L})}}}v.Ri(this.body);
for(var w=0;w<W.length;w++){var l=W[w];if(n.indexOf(l)!=-1)continue;this.body.appendChild(x[l].n)}};
aX.prototype.AW=function(x,F){f9.prototype.AW.call(this,x,F);var W=this.QA.fstyle,n=this.QA.sstyle,L=this.QA.tmode;
if(W)W.AW(x,F);if(n)n.AW(x,F);if(F==iC.tB||F==iC.iU)if(x.hx.length!=0&&this.QA.shape){this.QA.shape.KX(x.hx)}if(F==iC.tB||F==iC.JL)if(W)W.c(null,x.nC,x.n4);
if(F==iC.tB||F==iC.ys)if(n)n.c(null,x.Yy,x.V4);if(F==iC.tB||F==iC.k3){var $=x.X0;if(this.a4Y&&$==2)$=0;
if(L){L.c($);this.Ub()}}};function cA(){aX.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}cA.prototype=new aX;
function gS(){aX.call(this,"tmode make anta fstyle sstyle binop".split(" "))}gS.prototype=new aX;function jF(){aX.call(this,["fstyle","sstyle","smplp"]);
this.aDL=null;this.ah_=null;this.arR=null;this.NJ=new hx([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.AG=new cX("\u25BC");this.AG.iA();this.T7=new cX("\u25B2");this.T7.iA();this.aA=[this.NJ,this.AG,this.T7];
for(var w=0;w<this.aA.length;w++){var x=this.aA[w];this.body.appendChild(x.n);x.parent=this;x.k(w==0?S.E.A:"click",this.N$,this)}}jF.prototype=new aX;
jF.prototype.Bi=function(x){if(x._1=="main"){var F=this.aA,W=x.iR;if(W){this.ah_=W.clone();this.arR=JSON.stringify(x.mq);
var n=W.g.slice(0),L=n.length;for(var w=0;w<n.length;w++)n[w]++;n.sort(function(V,i){return V-i});F[0].cy();
F[1].DE(L!=0);F[2].DE(L!=0);F[0].rT(L==0?"No Paths":L==1?"Path "+n[0]:"Paths "+n.slice(0,3).join(",")+(L>3?"..":""));
if(L!=0){var $=W.g[0],l=r.j.Of(W.$,$),k=W.$[l];this.NJ.c([3,0,1,2][k.eb])}}else for(var w=0;w<F.length;
w++)F[w].H8()}else aX.prototype.Bi.call(this,x)};jF.prototype.zV=function(){aX.prototype.zV.call(this);
this.NJ._()};jF.prototype.N$=function(x){if(x.target==this.NJ||x.target==this.AG||x.target==this.T7){var F={},W=this.ah_,n=W.$,L=W.g,$=r.j.tn(n),l=JSON.parse(this.arR);
L.sort(function(o,b){return o-b});if(x.target==this.NJ){var k=this.NJ.h();if(k<4)for(var w=0;w<L.length;
w++)n[r.j.Of(n,L[w])].eb=[1,2,3,0][k];else{if($<=1)return;W.$=r.j.Tp(n);W.g=W.$.length==2?[]:[0];W.Au=[];
l=[r.mq.I2()]}}else{var V=x.target==this.AG?-1:1,i=[];for(var w=0;w<$;w++){var f=r.j.Of(n,w),X=f+1+n[f].length;
i.push(n.slice(f,X))}var s=L.slice(0);for(var w=0;w<L.length;w++)s[w]=Math.max(w,Math.min($-1-(L.length-1-w),s[w]+V));
if(L.join(",")==s.join(","))return;var R=JSON.parse(JSON.stringify(l));for(var w=0;w<L.length;w++){var h=V==-1?w:L.length-1-w,f=L[h],X=s[h];
if(f!=X){var B=i[f];i[f]=i[X];i[X]=B;B=R[f];R[f]=R[X];R[X]=B}}var e=n.slice(0,2);for(var w=0;w<i.length;
w++)e=e.concat(i[w]);W.$=e;W.g=s;l=R}F.iR=W;F.mq=l;var U=new gT(S.E.M,!0);U.data={d:S.H.mh,f:this.f,U0:F};
this.T(U)}};function hv(){aX.call(this,["fstyle","sstyle","crnr","psnap"])}hv.prototype=new aX;function jl(){aX.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}jl.prototype=new aX;
function il(){aX.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}il.prototype=new aX;
function ed(){aX.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.QA.aopts.c([!1,!0,50,60,0])}ed.prototype=new aX;ed.prototype.ax5=function(w){var x=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(x[w])};function ke(){aX.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}ke.prototype=new aX;
function d$(){aX.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}d$.prototype=new aX;
function fy(){gd.call(this,!1,["binop","feat","redge","sesu"])}fy.prototype=new gd(!0);function ge(){g3.call(this,["brush","qsmode","redge","sesu"])}ge.prototype=new g3;
function dP(){f9.call(this);this.sM=[];for(var w=0;w<2;w++){var x=new cX(w==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.sM.push(x);x.k("click",this.N$,this);this.body.appendChild(x.n)}}dP.prototype=new f9;dP.prototype.N$=function(x){var F;
if(this.sM.indexOf(x.target)==0){F=new gT(S.E.BD,!0);F.data={Y3:"make",Xe:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{F=new gT(S.E.M,!0);
F.data={d:S.H.Ar,ip:"divslice"}}this.T(F)};dP.prototype.zV=function(x){for(var w=0;w<this.sM.length;
w++)this.sM[w]._()};function kg(){f9.call(this);var x=this.H3=[new cX("\u25BC",null,null,!0),new cX("\u25B2",null,null,!0),new cX([5,4],null,null,!0),new cX(["VAR0...",[15,10,22]],null,null,!0)];
for(var w=0;w<4;w++){var F=x[w];this.body.appendChild(F.n);F.k("click",this.N$,this)}}kg.prototype=new f9;
kg.prototype.N$=function(x){var F=this.H3.indexOf(x.target),W;if(F==3){W=new gT(S.E.M,!0);W.data={d:S.H.Ar,ip:"divslice"}}else{W=new gT(S.E.v,!0);
W.f=O.cY;W.data={d:F==2?"delete":"reorder",dir:F==0?-1:1}}this.T(W)};kg.prototype._=function(){f9.prototype._.call(this);
for(var w=0;w<4;w++)this.H3[w]._()};function dQ(x,F){f9.call(this);if(window.Typr==null||x)return;this.a5P=F;
this.Qf=null;this.awI=v.t("span","");this.alb=v.t("span","");var W=1,n=this.Iy={TL:new au(null,24),dm:new c_("X",0,0,"px",0,!1,!0,4),cN:new c_("Y",0,0,"px",0,!1,!0,4),q2:new c_("W",0,0,["%","px"],2,!1,!0,5),le:new cX("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),ym:new c_("H",0,0,["%","px"],2,!1,!0,5),axF:new c_("\u2221",0,0,"\xB0",W,!1,!0),amv:new c_("\u25B1 H",-85,85,"\xB0",W,!1,!0),a9t:new c_("\u25B1 V",-85,85,"\xB0",W,!1,!0),N5:new hx(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),Sx:new hx("Protect",[])};
n.N5.c(1);n.le.c(!0);for(var L in n){var $=n[L],l=!0;if(F&&($==n.axF||$==n.amv||$==n.a9t||$==n.N5))l=!1;
if(!F&&$==n.Sx)l=!1;if(l)this.awI.appendChild($.n);var k=$==n.le?"click":S.E.A;$.k(k,this.azx,this)}this.c7=new c7("Split",c7.sJ(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.c7.c(-1);this.c7.k(S.E.A,this.awQ,this);this.jg=new hH(!0,!0,!0);this.jg.k(S.E.A,this.awQ,this);
this.jg.parent=this;var V=this.alb,i=this.jg;V.appendChild(this.c7.n);V.appendChild(i.PW.n);V.appendChild(i.lm.n);
V.appendChild(i.Tx.n);V.appendChild(i.L1.n);V.appendChild(i.FL.n);this.Lu=new cX([11,9]);this.Lu.k("click",this.ax2,this);
this.t6=new jQ;this.t6.k("click",this.TK,this)}dQ.prototype=new f9;dQ.prototype.Bi=function(x){if(x.t4){var F=dQ,W=this.LU;
if(W==null)W=this.LU=new g$(F.atw(),F.acT(this.f));W._();W.parent=this;W.update(x.Oq,x.gr);var n=new gT(S.E.M,!0);
n.data={d:S.H.OO,f_:W,x:x.t4.PC+2,y:x.t4.RX+1};this.T(n);return}v.Ri(this.body);this.Qf=x;if(x.Iy){var L=x.Iy.fS,$=x.Iy.Rg.clone(),l=Math.atan2(-$.z,$.V),k=new iJ;
k.rotate(-l);$.concat(k);var V=this.Iy;V.TL.c(x.Iy.dS);V.dm.c(x.Iy.C8.x);V.cN.c(x.Iy.C8.y);V.q2.c($.V*(V.q2.oV()=="%"?100:L.m));
V.ym.c($.P9*(V.ym.oV()=="%"?100:L.e));V.axF.c(-l*180/Math.PI);V.amv.c(Math.atan($.Pu/$.P9)*180/Math.PI);
V.a9t.c(0*180/Math.PI);this.body.appendChild(this.awI);this.Lu.jd();if(x.Iy.Vi!=null)V.le.c(x.Iy.Vi)}if(x.pG){if(x.afu)this.c7.c(-1);
this.jg.c(x.pG);this.body.appendChild(this.alb);this.Lu.iA()}if(x.o2)V.Sx.A1(x.o2);this.body.appendChild(this.t6.n);
if(x.a2r&&!this.a5P)this.body.appendChild(this.Lu.n)};dQ.prototype.azx=function(x){var F=this.Iy,W=this.Qf.Iy.fS;
if(x.target==F.le)F.le.c(!F.le.h());else if(F.le.hG()){var n=F.ym,L=F.q2,$=W.e,l=W.m;if(x.target==F.q2){n=F.q2;
L=F.ym;$=W.m;l=W.e}var k=n.h()/(n.oV()=="%"?100:$);k*=L.oV()=="%"?100:l;L.c(k)}var V=[];for(var i in F)if(F[i]!=F.le&&F[i]!=F.TL){var k=F[i].h();
if((F[i]==F.q2||F[i]==F.ym)&&k==0){k=.1;F[i].c(k)}if(F[i]==F.q2&&F[i].oV()=="px")k/=W.m/100;if(F[i]==F.ym&&F[i].oV()=="px")k/=W.e/100;
V.push(k)}var f=new eX(V[0],V[1]);if(x.target==F.TL){this.fu({_1:"ctyp",dS:F.TL.h()})}else if(x.target==F.dm||x.target==F.cN){this.fu({_1:"cen",C8:f})}else{var X=this.Qf.Iy.Rg.clone(),s=X.clone(),R=Math.atan2(-X.z,X.V);
s.translate(-f.x,-f.y);s.rotate(-R);var h=new iJ(s.V,s.z,s.Pu,s.P9,0,0);h.sx();s.concat(h);var B=V[2]/100,e=V[3]/100;
s.concat(new iJ(B,B*Math.tan(V[6]*Math.PI/180),e*Math.tan(V[5]*Math.PI/180),e,0,0));s.rotate(-V[4]*Math.PI/180);
s.translate(f.x,f.y);this.Qf.Iy.Rg=s;this.fu({_1:"trn",Iy:s,nq:F.N5.h(),MZ:F.Sx.h(),Vi:F.le.h()})}};
dQ.prototype.awQ=function(x){var F=this.c7;this.fu(x.target==F?{_1:"splt",b:F.h()}:{_1:"wrp",pG:this.jg.h()})};
dQ.prototype.ax2=function(x){this.fu({_1:"switchWarp"})};dQ.prototype.TK=function(x){this.fu({_1:this.t6.h()?"commit":"cancel"})};
dQ.prototype.fu=function(x){x.d=S.H.mh;x.f=this.f;var F=new gT(S.E.M,!0);F.data=x;this.T(F)};dQ.prototype.zV=function(){var x=this.Iy;
for(var F in x)x[F]._();v.fc(x.q2,x.ym);this.t6._();this.c7._();this.jg._();this.Lu._()};dQ.atw=function(){var x=function(F){var W=!0;
if(F==null||F.g.length==0)W=!1;else{var n=F.g;for(var w=0;w<n.length;w++){if(F.B[n[w]].add.TySh)W=!1}}return{w:W}};
return[{name:[5,9],$H:"Shift+Alt+Ctrl + T",sz:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],w:x},{name:[2,9],w:x,sz:!0},{name:[11,9],w:function(F){if(F==null||F.g.length!=1)return{w:!1};
var W=F.B[F.g[0]];return{w:W.add.TySh==null&&!W.vN()}},sz:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
dQ.acT=function(x){if(x==null)x=O.d9;return[{K:S.E.v,f:x,C:{d:"again"}},{K:S.E.M,C:{d:S.H.Ac,f:x,qm:{tj:3}}},{K:S.E.M,C:{d:S.H.Ac,f:x,qm:{tj:4}}},{K:S.E.M,C:{d:S.H.Ac,f:x,qm:{tj:5}}},{K:S.E.M,C:{d:S.H.Ac,f:x,qm:{tj:2}}},{K:S.E.M,C:{d:S.H.Ac,f:x,qm:{tj:1}}},{K:S.E.M,C:{d:S.H.Ac,f:x,qm:{tj:-1}}},{K:S.E.BD,C:O.Y.GV(!0,90,!0)},{K:S.E.BD,C:O.Y.GV(!0,-90,!0)},{K:S.E.BD,C:O.Y.GV(!0,-180,!0)},{K:S.E.BD,C:O.Y.GV(!1,"Hrzn",!0)},{K:S.E.BD,C:O.Y.GV(!1,"Vrtc",!0)}]};
function gj(){dQ.call(this)}gj.prototype=new dQ(!0);function iT(){dQ.call(this)}iT.prototype=new dQ(!0);
function eA(){dQ.call(this,!1,!0)}eA.prototype=new dQ(!0);function iX(){f9.call(this);var x=this.gz=[new hx([12,36],["Rigid",[15,10,0],[24,4]]),new hx([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new c_([7,4],0,100,"px"),new j2("Show Mesh"),new cX("\u25BC",null,null,!0),new cX("\u25B2",null,null,!0)];
for(var w=0;w<x.length;w++){var F=x[w];F.parent=this;this.body.appendChild(F.n);F.k(w<4?S.E.A:"click",this.aDq,this)}this.t6=new jQ;
this.t6.k("click",this.TK,this);this.body.appendChild(this.t6.n)}iX.prototype=new f9;iX.prototype.zV=function(){var x=this.gz;
for(var w=0;w<4;w++)x[w]._();this.t6._()};iX.prototype.Bi=function(x){var x=x.jL;for(var w=0;w<4;w++)this.gz[w].c(x[w])};
iX.prototype.aDq=function(x){var F=[];for(var w=0;w<4;w++)F[w]=this.gz[w].h();var W=this.gz.indexOf(x.target);
if(W<4)this.fu({_1:"prm",jL:F});else this.fu({_1:"moveDepth",avW:W==5})};iX.prototype.TK=function(x){this.fu({_1:this.t6.h()?"commit":"cancel"})};
iX.prototype.fu=function(x){x.d=S.H.mh;x.f=this.f;var F=new gT(S.E.M,!0);F.data=x;this.T(F)};function ca(){f9.call(this);
var x=this.bQ=[new hx([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var w=0;w<x.length;w++){var F=x[w];
F.k(S.E.A,this.Ot,this);this.body.appendChild(F.n)}}ca.prototype=new f9;ca.prototype.Ot=function(x){var F=this.bQ,W=[];
for(var w=0;w<F.length;w++)W[w]=F[w].h();var n=new gT(S.E.M,!0);n.data={d:S.H.mh,f:this.f,y6:W};this.T(n)};
ca.prototype.zV=function(){for(var w=0;w<this.bQ.length;w++)this.bQ[w]._()};function aQ(){gd.call(this,!1,["binop"]);
this.Yx=new cX("Remove",!1,null,!0);this.Yx.k("click",this.KG,this);this.Yx.n.style.marginRight="2em";
this.aeF=new f8("New content");this.O6=new cX("\u2026",!1,null,!0);this.O6.k("click",this.dG,this);this.K4=new cX("Replace",!1,null,!0);
this.K4.k("click",this.KG,this);this.body.appendChild(this.Yx.n);this.body.appendChild(this.aeF.n);this.body.appendChild(this.O6.n);
this.body.appendChild(this.K4.n);this.ut=new bS;this.ut.parent=this;var x=this.ut.n=v.t("div","floatcont form label6"),F=this._C="euler euler_a ddim dpm k_lms pndm".split(" "),W=this.Ek=[new j2("Use default settings"),new f8("Neg. prompt",null,13.25),new ec("Guidance",-20,20),new ec("Steps",10,50),new hx("Sampler",F)];
W[0].k(S.E.A,this._,this);W[0].c(!0);W[2].c(6);W[3].c(20);for(var w=0;w<W.length;w++){x.appendChild(W[w].n);
v.kE(x)}}aQ.prototype=new gd(!0);aQ.prototype._=function(){f9.prototype._.call(this);var x=this.Ek;for(var w=0;
w<x.length;w++){x[w]._();if(w>0)x[w].DE(!x[0].h())}};aQ.prototype.KG=function(x){var F=this.Ek,W={},n=["negative_prompt","guidance","steps","sampler"],L=!F[0].h();
if(L){for(var w=1;w<F.length;w++)W[n[w-1]]=F[w].h();W.sampler=this._C[W.sampler];W.steps=Math.min(W.steps,50)}var $=new gT(S.E.BD,!0);
$.data=O.P1.fg("aiHeal");if(x.target==this.K4){$.data.Xe.prmt={t:"TEXT",v:this.aeF.h()};if(L)$.data.Xe.jL=W}this.T($)};
aQ.prototype.dG=function(x){if(v.Ww(this.ut.n))return;var F=this.O6.n.getBoundingClientRect(),W=new gT(S.E.M,!0);
W.data={d:S.H.OO,f_:this.ut,x:F.left,y:F.top+F.height+4};this.T(W)};function fV(){bS.call(this);this.n=v.t("div","cmanager");
window.alert=function(n,L){this.ale(n,L);console.log("Alert: "+n)}.bind(this);window.onblur=function(n){var L=this;
L.lW()}.bind(this);this.Xv=0;this.eD=0;this.Yp=[];this.Eq={};this.K_=v.t("div","alertcont");this.n.appendChild(this.K_);
this.axf=v.t("div","alertcont");this.n.appendChild(this.axf);this.j_=v.t("div","alertcont");this.af3=0;
this.RO=-1;this.aB7=null;this.sM=null;var x=this.a9l=v.t("div","alertpanel");x.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.j_.appendChild(x);var F=this.lj=v.t("input");F.setAttribute("type","text");v.Fs(F);F.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
F.addEventListener("input",this.axb.bind(this),!1);F.addEventListener("keydown",this.av6.bind(this),!1);
x.appendChild(F);var W=this.an1=v.t("div","contextpanel scrollable");W.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
W.addEventListener("click",this.abl.bind(this),!1);x.appendChild(W);v.p6(document.body,this.a35.bind(this))}fV.prototype=new bS;
fV.prototype.IS=function(){if(v.Ww(this.j_))this.n.removeChild(this.j_)};fV.prototype.amu=function(x,F){var W=this.aB7=[],n=F.a4Q;
for(var w=0;w<ij.data.length;w++){var L=ij.data[w],$=[hz.get(L.name)],l=[w];fV.EQ(L.items,$,l,W,x,F,n==null?null:n[w]==null?0:n[w])}var k=F.s;
for(var w=0;w<k.Tv.length;w++){var V=k.Tv[w],i=k.keys[w];for(var f=0;f<V.length;f++)W.push([["Tools",hz.get(V[f].f.name)],[-1,V[f].f.id],i?i.xd:null])}this.n.appendChild(this.j_);
var X=this.lj;X.focus();X.select();this.tW()};fV.prototype.axb=function(x){this.RO=-1;this.tW()};fV.prototype.tW=function(){var x=this.lj.value.toLowerCase().trim().replace(/  +/g," "),F=this.aB7,W=[],n=[],L=x.split(" ");
if(x!="")for(var w=0;w<F.length;w++){var $=F[w][0],l=[],k=0;for(var V=0;V<$.length;V++)l[V]=-1;for(var i=0;
i<L.length;i++)for(var V=0;V<$.length;V++){var f=$[V].toLowerCase().indexOf(L[i]);if(f!=-1){l[V]=[f,f+L[i].length];
k++;break}}if(k==L.length){W.push(F[w]);n.push(l)}}var X=[],s=this.an1;v.Ri(s);for(var w=0;w<W.length;
w++){var R=W[w],h=R[0],f=n[w],B="enab",U="";if(w==this.RO)B+=" active";var e=v.t("div",B);X.push(e);
s.appendChild(e);for(var V=0;V<h.length;V++){var o=f[V],b=L[V],u=h[V];if(o!=-1)u=u.slice(0,o[0])+"<span style=\"color:black\">"+u.slice(o[0],o[1])+"</span>"+u.slice(o[1]);
U+=u;if(V<h.length-1)U+=" \uFE65 "}if(R[2]&&(typeof R[2]!="string"||R[2].length==1))U+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+gp.xe(R[2])+"</span>";
e.innerHTML=U}this.sM=[W,X]};fV.prototype.av6=function(x){var F=gp.ii,W=x.code;if(F(W,gp.oX))this.IS();
var n=F(W,gp.fH),L=F(W,gp.ZM),$=F(W,gp.hI);if(n||L){this.RO=Math.max(0,Math.min(this.sM[0].length-1,this.RO+(n?-1:1)));
this.tW()}if($&&this.RO!=-1)this.a0r(this.RO)};fV.EQ=function(x,F,W,n,L,$,l){if(typeof l=="number"){if(l==0)return;
if(l==1)l=null}for(var w=0;w<x.length;w++){if(l!=null&&(l[w]==0||l[w]==null))continue;var k=x[w],V=F.slice(0),i=W.slice(0),f=hz.get(k.name);
if(k.w){var X=k.w(L,$,w);if(X.ye)f=X.ye;if(X.w==!1)continue}V.push(f);i.push(w);if(k.sub)fV.EQ(k.sub,V,i,n,L,$,l?l[w]:null);
else n.push([V,i,k.$H])}};fV.prototype.abl=function(x){var F=x.target;if(F.tagName.toLowerCase()=="span")F=F.parentNode;
var W=this.sM[1].indexOf(F);if(W!=-1)this.a0r(W)};fV.prototype.a0r=function(x){var F=this.sM[0][x][1];
if(F[0]==-1){var W=new gT(S.E.M,!0);W.data={d:S.H.Ac,f:F[1]};this.T(W)}else{var n=ij.data[F[0]].pd[F[1]];
for(var w=2;w<F.length;w++)n=n.sub[F[w]];var L=new gT(n.K,!0);L.f=n.f;L.data=n.C;this.T(L)}this.IS()};
fV.prototype.z4=function(x,F){this.Xv=x;this.eD=F;this.an1.style["max-height"]=F-120+"px"};fV.prototype.aBO=function(x){var F=v.t("div","alertpanel");
F.textContent=hz.get(x);this.K_.appendChild(F);this.Eq[JSON.stringify(x)]=F};fV.prototype.a72=function(x){var F=this.Eq[JSON.stringify(x)];
this.K_.removeChild(F);delete this.Eq[JSON.stringify(x)]};fV.prototype.ale=function(x,F){var W=this.axf;
for(var w=0;w<W.children.length;w++)if(W.children[w].textContent==x)return;var n=v.t("div","alertpanel tpanel");
n.textContent=x;n.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");W.appendChild(n);if(F==null)F=1500;
var L=F,$=Math.max(Date.now()+L,this.af3+L);setTimeout(function(){n.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){W.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},$-Date.now()-30);
setTimeout(function(){W.removeChild(W.firstChild);W.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},$-Date.now());
this.af3=$};fV.prototype.a35=function(x){var F=this.Yp;for(var w=F.length-1;w>=0;w--){var W=F[w],n=x.target;
while(n!=null){if(n==W.n){this.lW(W);return}n=n.parentNode}}this.lW();var L=x.target;while(L!=this.j_&&L!=document.body)L=L.parentNode;
if(L!=this.j_)this.IS()};fV.prototype.lW=function(x){var F=this.Yp;for(var w=0;w<F.length;w++){if(x&&x.aqZ(F[w]))continue;
var W=F[w].n;if(!(F[w]instanceof g$))v.Wq(F[w],this.n);else this.n.removeChild(W);W.style.height="auto";
v.B$(W,"scrollable");F.splice(w,1);w--}};fV.prototype.a2I=function(x){this.lW(x.f_);var F=x.f_,W=F.n;
if(this.Yp.indexOf(F)!=-1)return;this.Yp.push(F);this.n.appendChild(W);var n=this.Xv,L=this.eD,$=x.x,l=x.y,k=this.n.getBoundingClientRect(),V=F instanceof g$,i=-1,f=L-2;
if(V||x.Je){var X=F.QG(),s=F.adC();if(V)X=Math.min(X,200);var R=n-X-2,h=L-s-2;if(l<h)i=2;else if($<R)i=1;
else if(0<l-s-2)i=0;else i=3;if(x.axY)i=0;if(x.auI)i=2;if(i==2){$=Math.min($,R)}else if(i==1){l=Math.min(l,h)}else if(i==0){l=l-s-2;
$=Math.min($,R);f=x.y}else if(i==3){$=$-X-2;l=Math.min(l,h)}}l=Math.max(2,l);var top=Math.round(l-k.y+this.n.offsetTop);
W.style.position="absolute";W.style["z-index"]=10;if(l+F.adC()>f){W.style.height=f-l+"px";v.fX(W,"scrollable");
if(i==3)$-=10}W.style.left=Math.round($)+"px";W.style.top=top+"px";if(!(F instanceof g$))v.Rn(F)};fV.prototype.a5J=function(x){var F=x.f_,W=this.Yp.indexOf(F);
if(W==-1)return;this.Yp.splice(W,1);var n=F.n;if(!(F instanceof g$))v.Wq(F,this.n);else this.n.removeChild(F.n)};
fV.prototype.pJ=function(){var x=this.Yp;return x.length==0?null:x[x.length-1]};fV.prototype.ax0=function(){this.a5J({f_:this.pJ()})};
function eF(){bS.call(this);this.n=v.t("div","confbar")}eF.prototype=new bS;eF.prototype.ali=function(x){x.parent=this;
v.Ri(this.n);this.n.appendChild(x.n)};function jh(x){bS.call(this);jh.Zg=this;jh.s5=x;this.Mh=null;this.bk=v.t("input","");
this.bk.setAttribute("type","file");this.bk.setAttribute("multiple","");this.bk.addEventListener("change",function(F){this.x1(F.target.files,null,this.ST,null);
this.ST=null}.bind(this),!1);document.body.appendChild(this.bk);this.bk.setAttribute("style","display:none");
this.axu=[];this.lu=!1;this.amK=[];this.Wk=!1;this.alw={};this.ST=null}jh.prototype=new bS;jh.s5=null;
jh.M0=function(x){try{var F={};F[x.type]=x;navigator.clipboard.write([new ClipboardItem(F)])}catch(ii){console.error(ii,ii.message)}};
jh.e8=function(x,F){navigator.clipboard.read().then(function(W){for(var w=0;w<W.length;w++){try{var n=W[w],L={},$=0,l=0;
for(var k=0;k<n.types.length;k++){var V=n.types[k];$++;n.getType(V).then(function(i){var f=V;new Response(i).arrayBuffer().then(function(X){L[this.d$]=X;
l++;if(l==$)jh.at7(L,x,F)}.bind({d$:this.d$}))}.bind({d$:V}))}}catch(ii){console.error(ii,ii.message)}}}).catch(function(W){})};
jh.aBE=function(x){navigator.permissions.query({name:"clipboard-read"}).then(function(F){x(F.state)})};
jh.at7=function(x,F,W){var n=["text/plain","image/png","text/html","text/plain"];for(var L in x)console.log(L,L.startsWith("text")?_.NM(new Uint8Array(x[L])).slice(0,100)+"...":x[L]);
for(var $=0;$<n.length;$++){var l=n[$],k=x[l];if(k==null)continue;if(l=="image/png"){jh.s5({name:"image.png"},k,F,W);
return}if(l=="text/plain"){var V=_.NM(new Uint8Array(k));if($==0)if(!V.startsWith("<!--")&&!V.startsWith("<svg"))continue;
if(W&&V.startsWith("<svg"))continue;var i=new gT(S.E.M,!0);i.data={d:S.H.a1G,b:V};F.T(i);return}if(l=="text/html"){var V=_.NM(new Uint8Array(k)),X=V.indexOf("src=\"");
if(X!=-1&&V.slice(X+5,X+9)!="http"){var s=X+10;while(V[s]!="\"")s++;var R=V.slice(X+5,s);jh.s5({name:"chart.png"},jW.jm(R).buffer,F,W);
return}}}};jh.prototype.cf=function(x){if(x==null)x=[23,5];var F=JSON.stringify(x),W=this.alw;if(W[F]==null)W[F]=0;
if(W[F]==0){var n=new gT(S.E.M,!0);n.data={d:S.H.OI,hw:x};this.T(n)}W[F]++};jh.prototype.bW=function(x){if(x==null)x=[23,5];
var F=JSON.stringify(x),W=this.alw;if(W[F]==null)W[F]=0;W[F]--;if(W[F]==0){var n=new gT(S.E.M,!0);n.data={d:S.H.tU,hw:x};
this.T(n)}};jh.prototype.a5r=function(x,F){this.ST=x;var W=window.showOpenFilePicker;if(W&&window.self==window.top){var n=this;
W({multiple:!0}).then(function(l){var k=[];function V(i){k.push(i);if(k.length==l.length){n.x1(k,null,n.ST,null,l);
n.ST=null}else l[k.length].getFile().then(V)}l[k.length].getFile().then(V)});return}var L=this.bk;if(F)L.setAttribute("accept",F);
else L.removeAttribute("accept");var $=document.createEvent("MouseEvents");$.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
L.dispatchEvent($)};jh.prototype.AT=function(x){if(x.url.indexOf("photopea.com#i")!=-1||x.url.indexOf("photopea.com/#i")!=-1){this.mH(x.url.split("#i").pop());
return}this.axu.push(x);this.anz()};jh.prototype.anz=function(){var x=this.axu;if(x.length==0||this.lu)return;
this.lu=!0;var F=x.shift();this.cf();if(F.xE==null)F.xE={};var W=new XMLHttpRequest;W.jh=F;var n=F.url;
if(F.EN&&!n.startsWith("data:image"))n="mirror.php?url="+encodeURIComponent(n);W.open("GET",n);if(F.Du)for(var L in F.Du)W.setRequestHeader(L,F.Du[L]);
W.responseType="arraybuffer";W.onload=this.afL.bind(this);W.send()};jh.prototype.x1=function(x,F,W,n,L){for(var w=0;
w<x.length;w++){this.cf();var $=x[w],l=new FileReader;l.jh=$;l.jh.OL=W;l.jh.dX=n;l.aiB=F;if(L)l.jh.rO=L[w];
l.onload=this.afL.bind(this);l.onerror=function(k){this.bW()}.bind(this);this.amK.push([l,$])}this.bk.value=null;
this.alz()};jh.prototype.alz=function(){var x=this.amK;if(x.length==0||this.Wk)return;this.Wk=!0;var F=x.shift();
F[0].readAsArrayBuffer(F[1])};jh.prototype.apA=function(x,F,W){this.cf("Saving ...");this.Mh=F;setTimeout(W.bind({_j:x,caller:this}),50)};
jh.RU=function(x){var F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=new Uint8Array(x),n=W.length,L=n%3,$=n-L,l=[],k=0,V=0,i=0;
for(var w=0;w<$;w+=3){k=W[w];V=W[w+1];i=W[w+2];l.push(F[k>>2]+F[(k&3)<<4|V>>4]+F[(V&15)<<2|i>>6]+F[i&63])}if(L==1){k=W[$];
l.push(F[k>>2]+F[(k&3)<<4]+"==")}if(L==2){k=W[$];V=W[$+1];l.push(F[k>>2]+F[(k&3)<<4|V>>4]+F[(V&15)<<2]+"=")}var f=l.join("");
return f};jh.ayC=function(x,F){var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(64),k=0,V=0,i=0,X=0;
for(var w=0;w<64;w++)n[w]=W.charCodeAt(w);var L=new Uint8Array(x),$=F%3,l=F-$,f=new Uint8Array(Math.floor(F/3)*4+($==0?0:4));
for(var w=0;w<l;w+=3){k=L[w];V=L[w+1];i=L[w+2];f[X]=n[k>>>2];f[X+1]=n[(k&3)<<4|V>>>4];f[X+2]=n[(V&15)<<2|i>>>6];
f[X+3]=n[i&63];X+=4}if($==1){k=L[l];f[X]=n[k>>2];f[X+1]=n[(k&3)<<4];f[X+2]=61;f[X+3]=61}if($==2){k=L[l];
V=L[l+1];f[X]=n[k>>2];f[X+1]=n[(k&3)<<4|V>>4];f[X+2]=n[(V&15)<<2];f[X+3]=61}return f};jh.prototype.afL=function(x){var F,W=x.target.jh;
if(x.target instanceof XMLHttpRequest)F=x.target.response;else F=x.target.result;jh.s5(W,F,this,x.target.aiB);
this.bW();if(x.target instanceof XMLHttpRequest){this.lu=!1;this.anz()}else{this.Wk=!1;this.alz()}};
jh.avQ=function(x,F){var W=new XMLHttpRequest;W.open("POST","https://api.imgur.com/3/image",!0);W.ws=F;
W.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");W.setRequestHeader("Content-type","application/x-www-form-urlencoded");
W.setRequestHeader("Accept","application/json");W.addEventListener("load",jh.amy);W.send("type=base64&image="+encodeURIComponent(jh.RU(x)));
alert("Saving to Imgur ...",4e3)};jh.amy=function(x){var F=JSON.parse(x.target.response);if(F.success){if(x.target.ws)x.target.ws(F.data.link);
else window.open(F.data.link,"Imgur")}};jh.prototype.mH=function(x,F,W){this.cf();var n=new XMLHttpRequest;
n.responseType="arraybuffer";n.open("GET","https://f000.backblazeb2.com/file/"+(W?"pp-resources":"psdshared")+"/"+x);
n.onload=this.atb.bind(this);n.send();n._8=[Date.now(),x,F?x:null,W]};jh.prototype.atb=function(x){var F=x.target._8,W=new Uint8Array(x.target.response);
console.log(W.length+" B,",Date.now()-F[0]+" ms");for(var w=0;w<W.length;w++)W[w]=255-W[w];W=pako.inflateRaw(W);
var n=JSON.parse(_.NM(W,0,2e3));jh.s5({name:n.name,q0:F[2]},W.slice(2e3).buffer,this);this.bW();if(!F[3])jh.j5("act=0&id="+F[1])};
jh.prototype.a6_=function(x,F,W,n){if(!(x instanceof ArrayBuffer))throw"e";x=new Uint8Array(x);var L=new Uint8Array(x.length+2e3),s="";
for(var w=0;w<2e3;w++)L[w]=32;_.S1(JSON.stringify({name:F}),L,0);L.set(x,2e3);x=L;x=pako.deflateRaw(x);
for(var w=0;w<x.length;w++)x[w]=255-x[w];x=x.buffer;var $=x.byteLength,l=aK.LS($),k=~~(609e5/2),V=~~(209e5/2);
if($>k){confirm("Your file is "+l+". Our limit is "+aK.LS(k)+". Delete some layers and try again.");
return}if($>V){var i=confirm("Your file is quite large ("+l+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!i)return}var f=sha1(x),X=[];for(var w=0;w<20;w++){var R=parseInt(f.slice(w*2,w*2+2),16);X.push(R);
s+=String.fromCharCode(R)}var h=btoa(s).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(jh.anc(h,n)){console.log("file already exists");
if(W)W(h);else window.open("https://www.photopea.com#i"+h+".psd");return}this.cf("Publishing ...");var B=new XMLHttpRequest;
B._8=[x,f,h,W,n];B.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+h+"&size="+$+"&bname="+n);
B.onload=this.am4.bind(this);B.send()};jh.anc=function(x,F){try{var W=new XMLHttpRequest;W.open("HEAD","https://f000.backblazeb2.com/file/"+F+"/"+x,!1);
W.send();if(W.status==200)return!0}catch(ii){return!1}return!1};jh.prototype.am4=function(x){console.log(x.target.response);
var F=JSON.parse(x.target.response),W=x.target._8,n=new XMLHttpRequest;n.open("POST",F.uploadUrl);n.setRequestHeader("Authorization",F.authorizationToken);
n.setRequestHeader("X-Bz-File-Name",W[2]);n.setRequestHeader("Content-Type","b2/x-auto");n.setRequestHeader("X-Bz-Content-Sha1",W[1]);
n.send(new Blob([W[0]]));n.onload=this.aej.bind({gP:this,_8:W})};jh.prototype.aej=function(x){this.gP.bW("Publishing ...");
if(this._8[3])this._8[3](this._8[2]);else window.open("https://www.photopea.com#i"+this._8[2]+".psd");
if(this._8[4]=="psdshared")jh.j5("act=2&id="+this._8[2]+"&fileId="+JSON.parse(x.target.response).fileId)};
jh.j5=function(x){var F=new XMLHttpRequest;F.open("GET","/papi/img/update.php?"+x+"&rnd="+Math.random());
F.send()};jh.save=function(x,F){var W=new Uint8Array(x),n=document.createElement("a");if(typeof n.download=="string"){var L=new Blob([W]),$=window.URL.createObjectURL(L);
n.href=$;n.download=F;document.body.appendChild(n);n.click();document.body.removeChild(n)}else{var l="data:application/octet-stream;base64,"+jh.RU(x);
window.open(l)}};function aL(){this.size=16;this.data=r.R(16)}aL.prototype.Gq=function(x,F){if(x+F<=this.size)return;
var W=this.size;while(x+F>this.size)this.size*=2;var n=r.R(this.size);for(var w=0;w<W;w++)n[w]=this.data[w];
this.data=n};var am={};am.aD=function(x,F,W,n){var L=F.split(":"),$=L[0];if(L.length==2){if($=="jpg")n=[Math.round(100*parseFloat(L[1]))];
if($=="webp")n=[Math.round(100*parseFloat(L[1])),100,0,!1,!1];if($=="psd")n=[!0,!0,!1,!1,!1];if($=="svg")n=L[1].split(",").map(function(k){return k=="true"})}var l=jW.Ko(x,$.toUpperCase(),null,null,n,W);
return l};am.adv=function(x,F,W){var n=x.Hi(),L=F[0];return am.aD(x,L,W)};am.air=function(){var x=this._j,F=this.caller,W=x.xE.sO,n=W.formats,L,$;
x.Hi();var l=Date.now();if(W.version==1){var k=[],V=0,f=0;for(var w=0;w<n.length;w++){var i=am.aD(x,n[w],F.Mh);
k.push(i);V+=i.byteLength}L=new Uint8Array(2e3+V);var X="{ \"source\": "+JSON.stringify(x.Cs)+", \"versions\": [\n";
for(var w=0;w<n.length;w++){var s=new Uint8Array(k[w]);X+="\t{\"format\": \""+n[w].split(":")[0]+"\", \"start\": "+f+", \"size\": "+s.length+" }"+(w+1<n.length?", ":"")+"\n";
L.set(s,2e3+f);f+=k[w].byteLength}X+="] }";var R=_.S1(X,L,0);for(var w=R;w<2e3;w++)L[w]=32;$="application/octet-stream"}else{var h=new aL,B=0,e="",U=encodeURIComponent;
e="p="+U("{ \"source\": "+JSON.stringify(x.Cs)+", \"versions\": [");_.bP(h,B,e);B+=e.length;for(var w=0;
w<n.length;w++){e=U(" {\"format\": \""+n[w].split(":")[0]+"\", \"data\": \"");_.bP(h,B,e);B+=e.length;
var i=am.aD(x,n[w],F.Mh),o=jh.ayC(i,i.byteLength),R=o.length;h.Gq(B,R);for(var b=0;b<R;b++){h.Gq(B,3);
var u=o[b];if(u==43){h.data[B]=37;h.data[B+1]=50;h.data[B+2]=66;B+=3}else if(u==47){h.data[B]=37;h.data[B+1]=50;
h.data[B+2]=70;B+=3}else if(u==61){h.data[B]=37;h.data[B+1]=51;h.data[B+2]=68;B+=3}else{h.data[B]=u;
B++}}e=U("\" }"+(w+1<n.length?", ":""));_.bP(h,B,e);B+=e.length}e=U("] }");_.bP(h,B,e);B+=e.length;L=h.data.slice(0,B);
$="application/x-www-form-urlencoded"}var Z=new XMLHttpRequest;Z.open("POST",W.url,!0);if($)Z.setRequestHeader("Content-Type",$);
Z.addEventListener("load",am.afK.bind(this));Z.send(new Blob([L.buffer]))};am.afK=function(x){this.caller.bW("Saving ...");
var F=x.target.response;if(F.charAt(0)=="{"){F=JSON.parse(F);if(F.newSource)this._j.Cs=F.newSource;if(F.message)alert(F.message,2e3);
if(F.script){var W=new gT(S.E.M,!0);W.data={d:S.H.tN,TJ:F.script};this.caller.T(W)}}else alert("Saved. Response: "+F,1500)};
am.a8c=function(x){var F=x.G4,W=F[1].split(".").pop(),n=am.aD(x,W,null,W=="psd"&&F[0]==1?[!0,!1,!0,!1]:null),L=Storage.A3(F[0]);
return L.awJ(F[1],n)};am.aku=function(x,F){var W=x.pb.cB;if(F==null)F=am.aD(x,W);fS.R4(function(){var n=new XMLHttpRequest,L="https://www.googleapis.com/upload/drive/v3/files/"+x.pb.file.id+"?uploadType=media"+"&"+fS.Qp();
n.open("PATCH",L,!0);n.addEventListener("load",function($){var l=JSON.parse($.target.response);alert(l.name+" updated")});
n.send(F);alert("Saving \""+x.pb.file.name+"\" to Google Drive ...")})};am.s5=function(x,F,W,n){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)am.an3(x,F,W,n);
else{try{am.an3(x,F,W,n)}catch(ii){if(ii=="low_ram"){}else{var L="Error. Please, send your file to support@photopea.com and we will solve it.";
if(jW.XM(F)=="eps")L="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(L,1e4)}}}};am.an3=function(x,F,W,n){var L;if(x.name){var $=x.name.lastIndexOf(".");L=$==-1?x.name:x.name.slice(0,$)}else{if(x.url.substring(0,5)=="data:"||x.url.indexOf("googleapis")!=-1)L="image";
else L=x.url.substring(x.url.lastIndexOf("/")+1).split(".")[0];L=L.slice(0,50)}var l=x.name?x.name:x.url,k=new Uint8Array(F),V=jW.XM(F),i=window.gtag;
if(Math.random()<.25&&i&&V!=null&&jW.w0(V))i("event",V,{event_category:"Formats"});if(V==null)V=_.xR(k,0,4);
if(l&&l.toLowerCase().endsWith(".raw")){var f=new gT(S.E.M,!0);f.data={d:S.H.Ar,ip:"importraw",Gy:F,GR:l.split("/").pop()};
W.T(f);return}else if(V=="json"){var X="";for(var w=0;w<k.length;w++)X+=String.fromCharCode(k[w]);X=decodeURIComponent(escape(X));
var s=JSON.parse(X);if(s.name&&s.url){var f=new gT(S.E.M,!0);f.data={d:S.H.ayv,b:s};W.T(f)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(s)}return}if(V=="html"){var X=_.NM(k,0,k.length),R=new DOMParser,h=R.parseFromString(X,"text/html"),B=h.getElementsByTagName("meta");
for(var w=0;w<B.length;w++){var e=B[w],U=e.getAttribute("property"),o=e.getAttribute("content"),b=null;
if(U=="og:image")b=o;if(U==null&&o&&o.startsWith("0;url=/imgres?")){var u=o.slice(14).split("&");for(var Z=0;
Z<u.length;Z++)if(u[Z].startsWith("imgurl"))b=decodeURIComponent(u[Z].slice(7))}if(b==null)continue;
var f=new gT(S.E.M,!0);f.data={d:S.H.ij,jL:{url:b,EN:!0,OL:x.OL}};W.T(f)}return}if(jW.w0(V)){var I,y,D=jW.w0(V);
if(x.OL!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(V)!=-1){var f=new gT(S.E.M,!0);if(0<=x.OL)f.data={d:S.H.eA,target:x.OL,ax:x.dX,GE:F,$g:L};
else{f=new gT(S.E.v,!0);f.data={d:t.sF,data:new Uint8Array(F),GR:L+"."+V};f.f=O.c9}W.T(f);return}var N=[L,D,V,x,W,n,F];
if(D.sG){var j=aH==0?"psd":"ai";I=new az(L+(V==j?"":"-"+V)+"."+j);D.La(F,I,am.xp,N)}else{y=D.La(F,null,am.xp,N,W)}if(D.Ak!=!0)am.xp(I,y,N);
else W.cf();return}var H=new gT(S.E.M,!0);H.data={d:S.H.V0,Gy:F,pL:x.name};var Q=x instanceof File&&x.Zs!=!0,f=new gT(S.E.M,!0);
f.data={d:S.H.DD,xE:"add",jL:null,bL:null,a8l:x.Zs};if(V=="zip"){var C=Date.now(),J=UZIP.parse(F),E="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var T in J){var c=!1;for(var w=0;w<E.length;w++)if(T.toLowerCase().endsWith("."+E[w]))c=!0;if(T.startsWith("__MACOSX/")||J[T].length==0)c=!0;
if(c)continue;var a=T.split("/").pop();am.s5({name:a},J[T].buffer,W,n)}}else if(V=="jsx"||l&&l.toLowerCase().endsWith(".jsx")){if(Q)W.T(H);
var X=_.NM(new Uint8Array(F));f.data={d:S.H.tN,TJ:X};W.T(f)}else if(V=="otf"){if(Q)W.T(H);var K=Typr.parse(F);
f.data.jL=iC.nx;for(var w=0;w<K.length;w++){f.data.bL=K[w];W.T(f)}}else if(V=="asl"){if(Q)W.T(H);var K=dC.cF(F,l);
f.data.jL=iC.K7;f.data.bL=K.tM;W.T(f);f.data.jL=iC.Oj;f.data.bL=K.rg;W.T(f)}else if(V=="tpl"){if(Q)W.T(H);
var K=du.cF(F);f.data.jL=iC.s3;f.data.bL={kF:K.kF,r5:K.r5,list:[]};W.T(f);if(K.ai3.length!=0){f.data.jL=iC.iU;
f.data.bL=K.ai3;W.T(f)}if(K.rg.length!=0){f.data.jL=iC.Oj;f.data.bL=K.rg;W.T(f)}f.data.jL=iC.I$;f.data.bL=K.list;
W.T(f)}else{var Y="";for(var p in iC.uH)if(iC.uH[p][0]==V)Y=p;if(Y!=""){if(Q)W.T(H);f.data.bL=iC.uH[Y][2].cF(F,l);
f.data.jL=Y;W.T(f)}else if(F.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(V))}};
am.xp=function(x,F,W){var n=W[0],L=W[1],$=W[2],l=W[3],k=W[4],V=W[5],i=W[6];if(L.Ak)k.bW();if(!L.sG){if(F.length==0)return;
if(F[0].t33421||F[0].t50706){r.raw.normalize(F[0],i);console.log(F[0]);var f=new gT(S.E.M,!0);f.data={d:S.H.Ar,ip:"rawpea",vj:F[0]};
k.T(f);return}if(V){V(new Uint8Array(F[0].data),F[0].Sf);return}x=jW.WD(n,F)}x.q0=l.q0;x.Hk=$;x.xE=l.xE;
x.Cs=l.url;x.fN=l.fN;x.pb=l.pb;x.rO=l.rO;x.G4=l.G4;if(x.pb)x.pb.cB=$;if(x.B.length!=0){var f=new gT(S.E.M,!0);
f.data={d:l.OL==null?S.H.bt:S.H.eA,target:l.OL,ax:l.dX,GE:x};k.T(f)}};function jz(x){bS.call(this);this.tR=jz.tR++;
this.oL=x;this.a9Q=this.aDT.bind(this);this.a1y=this.amm.bind(this);this.a2s=this.f4.bind(this);this.aiN=this.alg.bind(this);
this.aCL=this.a0h.bind(this);this.aq2=this.amF.bind(this);this.ea=0;this.a0_=0;this.aa5=0;this.n=v.t("div","panelblock");
this.JU=v.t("div","block");this.Oy=v.t("div","collapsed");this.n.appendChild(this.JU);this.hL=-1;this.tr=!0;
this.BZ=v.t("div","panelhead");this.JU.appendChild(this.BZ);this.kd(this.BZ);this.Qk=new cX("\u2261");
this.Qk.n.setAttribute("style","position:absolute; right:0;");this.Qk.k("click",this.aoQ,this);this.kX=v.t("div","body");
this.JU.appendChild(this.kX);this.aY=[];this.mz=null;this.gf=null}jz.tR=0;jz.prototype=new bS;jz.u0=26.1;
jz.prototype.aoQ=function(x){var F=this.aY[this.hL].HD(),W=x.currentTarget.n.getBoundingClientRect();
F._();F.update();F.parent=this;var n=new gT(S.E.M,!0);n.data={d:S.H.OO,f_:F,x:W.left,y:W.top+W.height+2};
this.T(n)};jz.prototype.TF=function(x){var F=this.JU,W=this.BZ,n=this.kX;if(v.Ww(W))F.removeChild(W);
if(v.Ww(n))F.removeChild(n);if(x==0)F.appendChild(W);F.appendChild(n);this.aa5=x};jz.Wa=function(x){x.stopPropagation();
x.preventDefault()};jz.prototype.aDT=function(x){var F=x.dataTransfer.types;if(F[1]!=null&&F[1]!=this.tR+"")return;
jz.Wa(x);var dx=x.currentTarget;if(x.target==dx)v.fX(dx,"highlight")};jz.prototype.amm=function(x){jz.Wa(x);
var dx=x.currentTarget;if(x.target==dx)v.B$(dx,"highlight")};jz.prototype.kd=function(x){x.addEventListener("dragenter",this.a9Q,!1);
x.addEventListener("dragleave",this.a1y,!1);x.addEventListener("dragover",jz.Wa,!1);x.addEventListener("drop",this.a2s,!1);
x.addEventListener("dragstart",function(F){F.dataTransfer.setData("Text","--panel");F.dataTransfer.setData(this.tR+"","")}.bind(this),!1)};
jz.prototype.f4=function(x){this.a1y(x);var F=null,dx=x.currentTarget,W=this.a5K(dx);if(dx==this.kX&&this.hL!=-1)F=this.hL;
else if(dx==this.BZ)F=null;else if(W!=-1)F=W;var n=x.dataTransfer.getData("Text");if(n==""||n.startsWith("http"))v.C6(x,this,F);
else if(n=="--panel"){var L=v.iF(x,dx),$=this.aY,l=$.slice(0),w=this.hL,k=W==-1?$.length:L.x<dx.getBoundingClientRect().width/2?W:W+1;
if(w==k||w+1==k||dx==this.kX)return;var V=w<k?k-1:k,i=$[w];$.splice(w,1);$.splice(V,0,i);v.Ri(this.BZ);
for(var f=0;f<$.length;f++)this.BZ.appendChild($[f].rf);this.yu(V);var X=[];for(var w=0;w<$.length;w++)X[w]=l.indexOf($[w]);
var s=new gT("shuffleItems",!1);s.data={aCX:X};this.T(s)}else if(F!=null&&this instanceof ic){var s=new gT(S.E.M,!0);
s.data={d:S.H.aje,abj:F};this.T(s)}};jz.prototype.lV=function(){return null};jz.prototype.alr=function(){if(this.lV()){this.BZ.style.padding="0px";
this.gf=this.lV();this.kX.appendChild(this.gf);this.jv.DE(!1);var x=new gT(S.E.M,!0);x.data={d:S.H.L2,b:1};
this.T(x)}};jz.prototype.akF=function(){if(this.gf){this.BZ.style.padding="";this.kX.removeChild(this.gf);
this.gf=null;this.jv.DE(!0);var x=new gT(S.E.M,!0);x.data={d:S.H.L2,b:0};this.T(x)}};jz.prototype.a5K=function(x){var F=this.aY;
for(var w=0;w<F.length;w++)if(F[w].rf==x)return w;return-1};jz.prototype.wQ=function(){for(var w=0;w<this.aY.length;
w++)this.aY[w].Gg.jd()};jz.prototype.NK=function(){return this.hL};jz.prototype.DM=function(){if(this.tr)return;
this.tr=!0;this.n.removeChild(this.Oy);this.n.appendChild(this.JU)};jz.prototype.collapse=function(){if(!this.tr)return;
this.tr=!1;this.n.appendChild(this.Oy);this.n.removeChild(this.JU)};jz.prototype.u0=function(){var x=0;
if(this.aa5==0){x=this.BZ.getBoundingClientRect().height+1;x=Math.max(x,jz.u0)}return x};jz.prototype.aoe=function(){return this.u0()+this.kX.getBoundingClientRect().height};
jz.prototype.z4=function(x,F){this.BZ.style.maxWidth=x+"px";var W=this.u0();if(this.hL!=-1)this.aY[this.hL].z4(x,F-W);
return F-W};jz.prototype.AW=function(x,F){if(this.hL!=-1)this.aY[this.hL].AW(x,F)};jz.prototype.Lv=function(x,F,W){this.aY[this.hL].Lv(x,F,W)};
jz.prototype.nO=function(x){this.akF();if(this.aY.indexOf(x)!=-1){this.yu(this.aY.indexOf(x));return}x.parent=this;
this.aY.push(x);this.BZ.appendChild(x.rf);x.rf.addEventListener("mouseover",this.aiN,!1);this.kd(x.rf);
this.Oy.appendChild(x.Gg.n);x.Gg.k("click",this.aCc,this);x.k("select",this.a0O,this);x.k(S.E.Jo,this.a5U,this);
this.yu(this.aY.length-1)};jz.prototype.alg=function(x){if(x.buttons==0)return;var F=x.currentTarget,W=F,w=0;
while((W=W.previousSibling)!=null)w++;this.a0_=w;F.addEventListener("mouseout",this.aCL,!1);this.ea=setTimeout(this.aq2,700)};
jz.prototype.a0h=function(x){var F=x.currentTarget,W=F,w=0;while((W=W.previousSibling)!=null)w++;F.removeEventListener("mouseout",this.aCL);
clearTimeout(this.ea)};jz.prototype.amF=function(x){this.T(new gT(S.E.abm,!1))};jz.prototype.ap5=function(x){return this.a0_};
jz.prototype.dZ=function(w){var x=new gT(S.E.Jo,!1);x.data={X1:w};this.T(x);var F=this.aY[w];this.aY.splice(w,1);
this.BZ.removeChild(F.rf);this.Oy.removeChild(F.Gg.n);F.rf.className="";F.Gg.removeEventListener("click",this.aCc,this);
F.Gg.jd();F.removeEventListener("activate",this.a0O);F.removeEventListener(S.E.Jo,this.a5U);var W=this.hL;
if(w<W)W--;else if(w==W&&w==this.aY.length)W--;this.yu(W);if(this.aY.length==0)this.alr()};jz.prototype.agE=function(){return this.aY.length};
jz.prototype.Jz=function(){if(this.aY.length!=0)this.aY[this.hL].Jz()};jz.prototype.yu=function(x,F){if(F==null)F=!0;
for(var w=0;w<this.aY.length;w++)this.aY[w].rf.className="";if(this.mz)this.kX.removeChild(this.mz);
this.mz=null;this.hL=x;if(x==-1)return;var W=this.aY[this.hL];this.mz=W.SO;this.kX.appendChild(W.SO);
W.rf.className="active";if(!this.tr){this.T(new gT("showFloat"));this.aY[x].Gg.iA()}if(F)this.T(new gT(S.E.A,!1));
W.fO();var n=this.Qk.n;if(n.parentNode)this.BZ.removeChild(n);if(W.HD())this.BZ.appendChild(n);var L=new gT(S.E.M,!0);
L.data={d:S.H.Jm};this.T(L)};jz.prototype.a0O=function(x){if(this.oL&&!this.oL.aq3())return;var w=this.aY.indexOf(x.currentTarget);
this.yu(w)};jz.prototype.a5U=function(x){if(this.oL&&!this.oL.aq3())return;var w=this.aY.indexOf(x.currentTarget);
this.dZ(w)};jz.prototype.aCc=function(x){var F=this.aY.indexOf(x.currentTarget.parent);if(this.aY[F].Gg.hG())this.T(new gT("hideFloat"));
else this.yu(F)};jz.prototype.a8n=function(x){this.T(x)};function ic(x){jz.call(this,x);this.Xv=0;this.eD=0;
v.UJ(this.BZ,this.atZ.bind(this));this.OE=0;this.ad7=this.awy.bind(this);this.kd(this.kX);this.jS=["default;"];
this.jv=new v.YC(this.kX);this.HG=new jP(!0);this.HG.parent=this;this.NW=this.HG.n;jP.ty(this.HG)}ic.prototype=new jz;
ic.prototype.atZ=function(x){if(x.target!=this.BZ)return;var F=this.OE;this.OE=Date.now();if(Date.now()-F>300)return;
var W=new gT(S.E.M,!0);W.data={d:S.H.Ar,ip:"newproject"};this.T(W)};ic.prototype.r0=function(x,F){if(F)this.jS.push(x);
else{var W=this.jS.length-1;if(this.jS[W]==x)return;this.jS[W]=x}this.GW()};ic.prototype.acj=function(){this.jS.pop();
this.GW()};ic.prototype.GW=function(){var x=this.jS[this.jS.length-1];this.jv.Lv(x,this.OS)};ic.prototype.AW=function(x,F){jz.prototype.AW.call(this,x,F);
this.HG.AW(x,F);if(!x.Kx){}};ic.prototype._=function(){jz.prototype._.call(this);this.HG._()};ic.prototype.Lv=function(x,F){for(var w=0;
w<F.length;w++){var W=F[w];this.aY[w].o6(W.name+(W.BP()?" *":""))}jz.prototype.Lv.call(this,x,F)};ic.prototype.lV=function(){return this.NW};
ic.prototype.z4=function(x,F){if(this.aY.length==0)F+=jz.u0-1;this.Xv=x;this.eD=F;F=jz.prototype.z4.call(this,x,F);
this.OS="height:"+F+"px; width:"+x+"px; overflow:hidden; position:relative;";this.GW();this.HG.z4(x,F)};
ic.prototype.nO=function(x){jz.prototype.nO.call(this,x);x.rf.addEventListener("click",this.ad7,!1)};
ic.prototype.dZ=function(w){var x=this.aY[w];v.bg(x.rf,this.ad7);jz.prototype.dZ.call(this,w)};ic.prototype.awy=function(x){var F=this.OE;
this.OE=Date.now();if(Date.now()-F>300)return;var W=this.a5K(x.currentTarget),n=this.aY[W].GE.name,L=new gT(S.E.M,!0),$={K:S.E.v,f:O.c9,C:{d:t.rz}};
L.data={d:S.H.Ar,ip:"namewindow",aG:n.slice(0,n.length-4),MT:$};this.T(L)};function bI(x){bS.call(this);
if(x)return;eI.aa4(1);this.n=v.t("div","flexrow app");this.g4=v.t("div");this.n.appendChild(this.g4);
setTimeout(function(){var W=window.hideCap;if(W)W()},25e3);this.Q8=new gp;window.addEventListener("blur",function(W){this.Q8.reset()}.bind(this),!1);
window.addEventListener("resize",this.Q_.bind(this),!1);var F=this.g4;this.Fg=new hP;this.Fg.parent=this;
F.appendChild(this.Fg.n);this.HI=new fV;this.HI.parent=this;F.appendChild(this.HI.n);this.sn=new i3(!0);
this.sn.parent=this;F.appendChild(this.sn.n);this.k(S.E.M,this.S5,this);this.fP=this.BS.bind(this);window.requestAnimationFrame(this.fP)}bI.prototype=new bS;
bI.prototype.BS=function(x){this.v_();window.requestAnimationFrame(this.fP)};bI.prototype._=function(){};
bI.prototype.Q_=function(x){var F=window.innerWidth,W=window.innerHeight;this.z4(F,W)};bI.prototype.z4=function(x,F){this.HI.z4(x,F);
this.Fg.z4(x,F)};bI.prototype.S5=function(x){var F=x.data.d;if(F==S.H.OO)this.HI.a2I(x.data);if(F==S.H.qk)this.HI.a5J(x.data);
if(F==S.H.OI)this.HI.aBO(x.data.hw);if(F==S.H.tU)this.HI.a72(x.data.hw);if(F==S.H.Ei)this.HI.lW()};function hr(){bI.call(this);
this.ND={x:0,y:0,Pz:!1};this.Qr=!1;this.Ga=!1;this.dL=null;this.acr=0;this.a0o=!1;this.mA=0;window.onmessage=function(f){if(Storage.ayB(f.source))return;
if(f.data instanceof ArrayBuffer){var X=jW.XM(f.data),s=jW.w0(X);jh.s5({url:"file"},f.data,this);if(s==null)this.AO()}else if(f.data instanceof Object||f.data.startsWith("{")||f.data.startsWith("amp-")||f.data.startsWith("0=goog")||f.data.startsWith("3PCoo")||f.data.startsWith("ima://")){}else if(f.data.startsWith("--ur ")){var R=f.data.split(" ").pop(),b=null;
R=R.length==0?[]:R.split(",");console.log(R);var h=this.ke.bL,B=new gT(S.E.M,!0);B.data={d:S.H.DD,jL:iC.lz,k9:R};
this.T(B);var e=R,U=h;if(U.length>e.length){var o=U;U=e;e=o}for(var w=0;w<e.length;w++)if(U.indexOf(e[w])==-1)b=e[w];
jh.j5("act=3&id="+b+"&dif="+(e==R?1:-1));alert((e==R?"Resource added.":"Resource removed.")+" "+b)}else if(f.data.startsWith("--ot ")){if(this.Fg.pJ())this.Fg.pJ().close();
this.fx.mH(f.data.split(" ").pop(),!0)}else if(f.data.startsWith("--et ")){}else{console.log(f.data);
var B=new gT(S.E.M,!0);B.data={d:S.H.tN,TJ:f.data};this.T(B);this.AO()}}.bind(this);window.onbeforeunload=function(f){this.amf();
for(var w=0;w<this.iV.length;w++)if(this.iV[w].BP())return this.iV[w].name}.bind(this);window.setInterval(this.ahi.bind(this),5*60*1e3);
var x=this;if(window.indexedDB&&(!hQ.Fk()||document.hasStorageAccess==null)){var F={Gq:window.indexedDB.open("pp",1)};
F.Gq.onupgradeneeded=function(f){var X=f.target.result,s=X.createObjectStore("rsrc",{keyPath:"k"})};
F.Gq.onsuccess=function(f){var X=x.ke.aF.x7=f.target.result,s=X.transaction(["rsrc"],"readwrite").objectStore("rsrc"),R=s.get("fs0");
R.onsuccess=function(f){if(f.target.result){var e=x.ke.aF.iN=f.target.result.fset;for(var U in e){if(!U.endsWith(".jsx")&&!U.endsWith(".psd"))jh.s5({url:U,Zs:!0},e[U],x)}}};
var h=new BroadcastChannel("pp-tabs"),B=[];h.onmessage=function(f){if(f.data=="id")h.postMessage(x.ke.aF.id);
else B.push(f.data)};h.postMessage("id");setTimeout(function(){var s=X.transaction(["rsrc"],"readwrite").objectStore("rsrc"),e=s.getAllKeys();
e.onsuccess=function(){var U=e.result,o=[],b=0;for(var w=0;w<U.length;w++){if(U[w]=="fs0")continue;if(B.indexOf(U[w])!=-1)continue;
o.push(U[w])}for(var w=0;w<o.length;w++){var R=s.get(o[w]);R.onsuccess=function(f){if(f.target.result){var u=f.target.result.fset;
for(var Z in u){try{jh.s5({url:Z,Zs:!0},u[Z],x);var I=x.eo();I.zh=I.sN=-1}catch(f){console.log(f)}}b++;
if(b==o.length)for(var w=0;w<o.length;w++){var R=s.delete(o[w])}}}}}},200)}}var W=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],n=v.Og[c$.UR][c$.Pp];
for(var w=0;w<W.length;w++){var L=v.gV(W[w]);if(n.indexOf(L)!=-1){var $=v.Og[c$.UR][c$.kX],l=v.gV("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
v.Ri($);$[c$.atm]=l;return}}this.s=hr.afG();this.ke={s:this.s,a9I:!1,Dj:null,uu:0,rj:{r5:[],kF:[],list:[],gd:null},yz:[],atL:[],RP:[],JP:[],J0:[],Oz:[],af8:[],auK:[],J0:[],hx:[fZ.Iz()],LX:[],qS:[],Wj:null,X0:0,J1:eC.J1.Iz(),nC:{d_:1,oa:JSON.parse(JSON.stringify(eC.Ir[0]))},Yy:eC.pr.Iz(),n4:[null].concat(eC.Ir),V4:[null].concat(eC.Ir),op:new j8(function(f){var X=new gT(S.E.M,!0);
X.data={d:S.H.ij,jL:{url:"rsrc/fonts/"+f}};this.T(X)}.bind(this)),Sq:{zf:[],oE:null,wt:null},font:null,Jg:[],bL:[],aak:{},A_:0,G8:16777215,TG:!1,AU:!0,_X:{Ul:!0,xg:!1,H9:!0,V2:!0,wa:!0,EC:!0,hh:20,wq:0,MX:0,$o:0,VW:8421504,Zr:65535},ya:!0,my:[!0,!0,!1,!0,!0],ES:[0,1,2,3,5,6,7,9,10,16,17,100],wd:1,Gc:!0,pO:{},Kx:!0,a2R:!1,compact:!1,LT:1,nA:0,NW:!0,MS:null,aF:{id:"ts"+Math.round(Math.random()*16777215),ahO:!1,aaN:!1,iN:{},td:{},x7:null},anZ:0,a2$:null,v2:null,apH:null,l$:null};
j8.ln.pk(this);this.a5A={fS:new eu,yV:new eX};this.ke.Sq=iV.aCZ();this.Lp=new ij;this.zB=new eF;this.pg=new cI(this.s,!0);
this.vH=new ip;this._F=new ic(this);this.bj=v.t("div");this.dW=!1;this.jn=this.a1h.bind(this);v.fX(this._F.n,"mainblock");
this.sn.parent=this.Lp.parent=this.zB.parent=this.pg.parent=this.vH.parent=this._F.parent=this;this._F.k(S.E.A,this.bR,this);
this._F.k(S.E.Jo,this.akV,this);this._F.k("shuffleItems",this.a0c,this);this._F.k(S.E.abm,this.ae$,this);
this.k("mouse",this.apa,this);this.k(S.E.v,this.LB,this);this.k(S.E.BD,this.asG,this);document.body.addEventListener("keydown",this.xX.bind(this),!1);
window.addEventListener("keyup",this.tf.bind(this),!1);window.addEventListener("paste",this.ak7.bind(this),!1);
window.addEventListener("copy",this.am7.bind(this),!1);window.addEventListener("wheel",function(f){if(f.ctrlKey)f.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(f){if(window.innerWidth>400)f.preventDefault();
this.ke.MS=f}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(f){if(f.asW){console.log("Service worker installing")}else if(f.aDU){console.log("Service worker installed")}else if(f.active){console.log("Service worker active")}}).catch(function(f){console.log("Registration failed with "+f)})}this.Dh=0;
this.iV=[];this.fx=new jh(am.s5);this.fx.parent=this;var k=this.g4,V=this.n8=v.t("div");V.appendChild(this.Lp.n);
V.appendChild(this.zB.n);this.sn.ayf(V);var i=this.ats=v.t("div","flexrow");k.appendChild(i);i.appendChild(this.pg.n);
i.appendChild(this._F.n);i.appendChild(this.vH.n);this.fx.AT({url:"rsrc/basic/basic.zip"});this.QO(O.iY);
ii.pk(this.al7.bind(this))}hr.prototype=new bI(!0);hr.prototype.AO=function(x){var F=new gT(S.E.M);F.data={d:S.H.iC,jL:x?x:"done"};
this.T(F)};hr.prototype.ahi=function(){var x=this.ke.aF,W=!1;if(x.x7==null)return;var F=this.iV;for(var w=0;
w<F.length;w++){var n=F[w];if(n.sN!=n.Mw){var L=Date.now(),$=jW.Ko(n,"psd",0,0,[!0,!1,!0,!1,!0]);n.sN=n.Mw;
x.td[n.name]=$;W=!0;console.log(Date.now()-L,"saving "+n.name,$.byteLength)}}if(W){var l=new gT(S.E.M);
l.data={d:S.H.DD,jL:iC.k0,aB9:!0};this.T(l)}};hr.prototype.al7=function(){v.Og[c$.T4](this.ar0.bind(this),Math.pow(Math.PI,8)+v.Og[c$.aBl][c$.ahw]()*1e4);
var x=ii.F0();if(x!=null&&x.globals!=null)this.Wm(x.globals);else{this.a0o=!0;var F=hz.fd();if(F&&F.length!=0){var W=F[0];
hz.HB(W,this.jn)}}if(!this.$Z()){var n=v.aep();if(n==0)this.a2R=!0;if(n==2)this.ke.Kx=!1;if(n!=1&&Math.random()<.002)v.ayj()}if(!hQ.Fk()||!this.ke.Kx){this.a4c();
this.Ui()}else{var L=v.bJ(v.Og[c$.Qm]);L[c$.UY](c$.i8,this.arz.bind(this));L[c$.eI](v.m6("61="),v.m6("_MYOqDLGJa;A:6"));
L[c$.rh]()}this.Qr=!0;this.AO()};hr.prototype.arz=function(x){var F=JSON.parse(x.target[c$._0]),W=v.Og[c$.Ln][c$.a6w]()/1e3,n=v.Og[c$.UR][c$.Pp],L=!1;
for(var $ in F)if($.indexOf(".")!=-1&&n.indexOf($)!=-1&&parseInt(F[$])>W)L=!0;if(L)this.ke.Kx=!1;this.a4c();
this.Ui()};hr.prototype.Ui=function(x){this.Ga=!0;if(!this.ke.NW)this._F.NW=null;else if(this.iV.length==0)this._F.alr();
this.a7(iC.tB);this._();this.Q_();this.vH.Lv(this.eo(),this.iV,this.ke)};hr.prototype.Wm=function(x){var F=this.ke;
if(x.fcolor!=null)F.A_=x.fcolor;if(x.bcolor!=null)F.G8=x.bcolor;if(x.rulers!=null)F.TG=x.rulers;if(x.extras!=null)F.AU=x.extras;
if(x.favFam!=null)F.Jg=x.favFam;if(x.rsrc!=null)F.bL=x.rsrc;if(x.font!=null)F.Sq.zf[0].Name=x.font;if(x.panels!=null)F.ES=x.panels;
if(x.as!=null)F.LT=x.as;if(x.co!=null)F.nA=x.co;if(x.eparams){var W=x.eparams,n=F._X;if(W.guides!=null)n.Ul=W.guides;
if(W.grid!=null)n.xg=W.grid;if(W.gsize!=null)n.hh=W.gsize;if(W.gunits!=null)n.wq=W.gunits;if(W.gtype!=null)n.MX=W.gtype;
if(W.runits!=null)n.$o=W.runits;if(W.gcol!=null)n.VW=W.gcol;if(W.gucol!=null)n.Zr=W.gucol;if(W.sels!=null)n.H9=W.sels;
if(W.paths!=null)n.V2=W.paths;if(W.pgrid!=null)n.wa=W.pgrid;if(W.slices!=null)n.EC=W.slices}if(x.lang!=null)hz.HB(x.lang,this.jn);
if(x.theme!=null)F.wd=x.theme;if(x.topt||F.TV){var L=x.topt?x.topt:{},$=F.TV?F.TV:{};for(var l in this.s.map){if(l>=103)continue;
var k="t"+l;if(L[k]||$[k])this.s.map[l].f.LP(L[k],$[k],this)}}};hr.prototype.a4c=function(){if(this.ke.a9I)return;
this.ke.a9I=!0;var x=null,F=window.location.href,W=F.indexOf("="),n=F.indexOf("#");if(W!=-1)x=F.substring(F.indexOf("?")+1,W);
if(n!=-1&&n!=F.length-1){x="p";W=n}if(n!=-1&&F[n+1]=="i"){this.fx.mH(F.slice(n+2,n+10))}else if(F.slice(n+1).startsWith("goog_rewarded")){}else if(n!=-1&&F[n+1]=="t"){this.fx.mH(F.slice(n+2,n+10).split("").reverse().join(""),!0)}else if(x=="p"||x=="state"){var L=F.substring(W+1,F.length);
L=JSON.parse(decodeURI(L));if(x=="p"){if(L.script=="alert(73)")this.ke.Kx=!1;if(L.script)iO.a10(this);
if(L.server)this.dL=L.server;if(L.resources)for(var w=0;w<L.resources.length;w++)this.fx.AT({url:L.resources[w]});
if(L.files)for(var w=0;w<L.files.length;w++)this.fx.AT({url:L.files[w],xE:{sO:L.server,ay4:L.script}});
var $=L.environment;if($==null)$={};if($.plugins!=null)this.vH.a2Q($.plugins);if($.localsave!=null)this.ke.Gc=$.localsave;
if($.customIO!=null)this.ke.pO=$.customIO;if($.vmode!=null){var l=$.vmode;if(l==1)this.ke.compact=!0;
if(l==2)this.TF(1)}if($.intro!=null)this.ke.NW=$.intro;if($.menus!=null)this.ke.a4Q=$.menus;if($.tmnu!=null)this.ke.TV=$.tmnu;
if($.panels!=null)this.ke.ES=$.panels;if($.showtools!=null){var k=$.showtools,V=k.indexOf(this.ke.Dj);
this.ke.OV=k;if(V==-1)this.QO(k[0])}if($.phrases!=null)hz.ayP($.phrases);if($.autosave!=null){this.ke.LT=0;
window.setInterval(function(){var X=new gT(S.E.M);X.data={d:S.H.rN};this.T(X)}.bind(this),$.autosave*1e3)}if($.icons!=null){for(var i in $.icons)if($.icons[i].indexOf("\"")==-1){if((i==c$.amL||i==c$.a5y)&&this.ke.Kx)continue;
PIMG[i]=$.icons[i];PIMG["__"+i]=!0}}this.Wm($);if(L.files==null&&L.script){eb.LA(L.script,this);this.AO()}}else if(x=="state"){var f=this.fx;
if(L.action=="create"){var X=new gT(S.E.M);X.data={d:S.H.Ar,ip:"newproject",acs:L.folderId};this.T(X)}if(L.action=="open"){for(var w=0;
w<L.ids.length;w++)fS.R4(function(){var R="https://www.googleapis.com/drive/v3/files/"+this.asL,h=new XMLHttpRequest;
h.open("GET",R);h.setRequestHeader("Authorization",fS.OY());h.send();h.onload=function(B){var e=JSON.parse(B.target.response);
f.AT({url:R+"?alt=media",name:e.name,pb:{file:e,cB:""},Du:{Authorization:fS.OY()}})}}.bind({asL:L.ids[w]}));
alert("Loading files from Google Drive ...")}}}else{var s=window.launchQueue;if(s){var f=this.fx;s.setConsumer(function(R){var h=R.files;
console.log(h);for(var w=0;w<h.length;w++){var B=h[w];B.getFile().then(function(e){f.x1([e],null,null,null,[B])})}})}}};
hr.prototype._=function(){var x=document.getElementById("cap");if(x){var F=!1,W=x.getElementsByTagName("h1")[0],$=0,k=0,V=0;
W.textContent=F?"Photopea":hz.get([0,17,0]);var n=x.getElementsByTagName("p"),L=v.sf(hz.get([0,17,1])),l=["PSD","XCF","Sketch","XD","CDR"];
for(var w=0;w<l.length;w++)L=L.replace(l[w],"<b>"+l[w]+"</b>");if(!F)L+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
n[0].innerHTML=L;L=hz.get([0,17,2])+" "+hz.get([0,17,3]);for(var w=0;w<L.length;w++){var i=L[w];if(i=="<")k++;
if(i==">")V++}if(!F&&k*V==9){var f=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var w=0;w<3;w++){var X=L.indexOf("<",$),s=L.indexOf(">",$),R=L.slice(0,X)+"<a href=\""+f[w]+"\" target=\"_blank\">"+L.slice(X+1,s)+"</a>";
$=R.length;L=R+L.slice(s+1)}n[1].innerHTML=L}else n[1].innerHTML=hz.get([0,17,2])}var h=document.getElementById("sponsors");
if(h)h.textContent=hz.get([0,17,4]);this.sn._();this.Lp._();this.vH._();this.pg._();this.Fg._();this._F._();
for(var B in this.s.map)if(this.s.map[B].tG)this.s.map[B].tG._()};hr.prototype.$Z=function(){var x=v.Og[c$.cV][c$.acY];
if(x&&x[1]){if(x[1].endsWith(c$.m6("UUPSDm@ID")))return!0}return 4<v.Og[c$.cV][c$.D_][c$.avv](c$.m6("'$!|"))};
hr.prototype.z4=function(x,F){x=Math.floor(x);F=Math.floor(F);var W=v.m6("WUMK&AM"),n=c$.Se,L=v.Og[c$.UR],$=Math.max(x,window.screen.width),l=Math.max(F,window.screen.height),X=0;
if(hQ.J_==null)hQ.J_=Math.min($,l)<500||$<750?0:$<1500?1:2;var k=hQ.J_,V=!this.Ga||this.$Z()||!this.ke.Kx||ii.vR()||k==0;
if(!V&&hQ.Fk()){if(this.awz==null)this.awz=Math.random()<.5;V=this.awz}if(V){if(k!=0&&v.Og[W]&&this.Ga)v.Og[W]()}else{if(k==0)F-=60;
else x-=k==1?180:320}bI.prototype.z4.call(this,x,F);if(V&&this.dW){this.n[c$._n](this.bj);v.Ri(this.bj);
this.dW=!1}if(!V&&!this.dW){var i=function(h){if(Math.random()<.002){ii.event(hQ.Ny()?"gota_0":"gota_1")}this.aac(x,F);
var B=k==0?L[c$.kX]:this.n;B.appendChild(this.bj);this.bj[c$.VA](n,v.m6("_MMJLNDfKCAg")+(k==0?10:10)+v.m6("_d$ebOS?I:==Ba-+# }$M"));
this.bj[n][v.m6("_MMJLND&<:E")]=(k==0?0:19)+v.m6("_d");this.bj[n][v.m6("i5WJHX")]=k==0?0:1}.bind(this);
function f(){hQ.azB(i)}setTimeout(f,2300);this.dW=!0}if(v.Ww(this.Lp.n))X+=31;if(v.Ww(this.zB.n))X+=32;
this.sn.abu=this.ke.Kx&&this.Ga;this.sn.z4(x,X);var s=F-X,R=v.m6("_d");this.bj[n][c$.agW]=(k==0?100>>>1:F-11)+R;
this.bj[n][c$.lt]=(k==0?x:6*Math.pow(10,2))+R;if(v.Ww(this.pg.n))this.pg.z4(x,s);this.vH.z4(x,s);this._F.z4(x-this.pg.QG()-this.vH.QG(),s)};
hr.prototype.aac=function(x,F){var W=function(){var n=new gT(S.E.M);n.data={d:S.H.Ar,ip:"account"};this.T(n)}.bind(this);
hQ.a4l(x,F,this.bj,W)};hr.prototype.am7=function(x){console.log("systemCopy")};hr.prototype.ak7=function(x){if(v.bT())return;
console.log("systemPaste");if(!x.clipboardData)return;var F=x.target.tagName.toLowerCase(),W=x.clipboardData.items;
if(W==null)return;var n=this.ap9.bind(this);for(var w=0;w<W.length;w++){var L=W[w],$=L.getAsFile();if(L.type.indexOf("image")!=-1){if($.size==this.ke.anZ)return;
this.ke.anZ=$.size;if($){$.name="image.png";this.fx.x1([$],n)}}}};hr.prototype.ap9=function(x,F){var W={buffer:x,rect:F},n=this.ke;
if(v.bT()){var L=this.a5A,$=L.fS;if($.m==F.m&&$.e==F.e){W.rect=$;W.yV=L.yV}}else{if(n.v2){var l=new gT(S.E.v,!0);
l.f=O.o7;l.data={d:"h_stepbck"};this.T(l)}}n.v2=W;var l=new gT(S.E.M,!0);l.data={d:S.H.cd,a5u:!0};this.T(l)};
hr.prototype.aew=function(){if(this.Fg.pJ()!=null)alert(hz.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
hr.prototype.LB=function(x){var F=this.eo();if(F==null){alert(hz.get([15,7,7]));return}var W=x.f==O.CD||x.f==O._6;
if(this.Fg.ek()&&x.Kh!=!0&&!W){this.aew();return}var n=this.s,L=this.ke.Dj,$=x.f;if($==O.w1&&L==O.s7)$=O.s7;
if(L!=$&&n.map[L].f.ek()&&!W&&!(L==O.B8&&$==O.T2)){console.log("disabling",L);n.map[L].f.disable(F,this,this.ke,this.Q8)}var l=this.s.map[$].f;
l.LB(x.data,this,F,this.Q8,this.ke)};hr.prototype.asG=function(x){var F=this.ke;if(x.data.Sd!=!0)ga.a0U({Y3:x.data.Y3,Xe:x.data.Xe},this,F,this.eo());
var W=F.Wj,n=F.qS;if(W==null)return;var L={aCN:!1,ZU:"Step",awe:0,w:!0,exp:!1,Y3:x.data.Y3};if(W[2]==null)W[2]=n[W[0]].$f[W[1]].$f.length-1;
if(x.data.Xe)L.Xe=x.data.Xe;n[W[0]].$f[W[1]].$f.splice(W[2]+1,0,L);W[2]++;this.a7(iC.v)};hr.prototype.S5=function(x){if(this.a2R){x.data=0;
return x.type}bI.prototype.S5.call(this,x);var F=x.data.d;if(F==S.H.HQ)ga.aD9(this.eo(),this.ke.qS,x.data.U0[0],x.data.U0[1],this);
if(F==S.H.aje){this.aaw(x.data.abj)}if(F==S.H.a3G){this._();this.Q_()}if(F==S.H.Jm)this.Q_();if(F==S.H.X4)if(this.ke.MS){this.ke.MS.prompt();
this.ke.MS=null}if(F==S.H.W_)this._F.r0(x.data.VD,x.data.push);if(F==S.H.azW)this._F.acj();if(F==S.H.a4D)this.bR(null,x.data.dir);
if(F==S.H.Oa)this._F.dZ(this.iV.indexOf(x.data._j?x.data._j:this.eo()));if(F==S.H.L2){if(x.data.aN&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(x.data.aN)document.body.webkitRequestFullScreen();if(x.data.b!=null)this.TF(x.data.b)}if(F==S.H.a6G){if(x.data.Pz)this.Q8.ou(x.data.a0L);
else this.Q8.Gd(x.data.a0L);this.lH(x.data.Pz?"down":"up")}if(F==S.H.ayv){var W=x.data.b;this.vH.a2Q([W]);
this._()}if(F==S.H.iI){var n=this.eo(),L=n.Hi().slice(0),$=n.B[n.g[0]],l=new eu(0,0,n.m,n.e),k=az.a1()+"-d71c-11e5-b1ae-a548a96e5f9f",V=new gT(S.E.M,!0);
if(x.data.jL==0){var i={name:"Default/"+n.name.split(".")[0],id:k,aB:[L,l]};V.data={d:S.H.DD,xE:"add",jL:iC.K7,bL:[i]};
this.T(V)}if(x.data.jL==1){var X=r.R(l.P()*4);r.De(X,4294967295);r.l.X3("norm",L,l,X,l,l,1);var s=r.R(l.P());
r.ad(X,s);r.sx(s);var R=r.c_(s,l);if(R.ak())R=l;var h=r.R(R.P());r.Hz(s,l,h,R);R.x=R.y=0;var B={fS:R,id:k,aB:[h,R]},e=jq.zu(k),U=e.Brsh.v;
U.Dmtr.v.val=Math.max(R.m,R.e);U.Spcn.v.val=10;V.data={d:S.H.DD,xE:"add",jL:iC.s3,bL:{list:[{t:"Objc",v:e}],kF:[B],r5:[]}};
this.T(V);V.data={d:S.H.DD,jL:iC.rb,BX:e};this.T(V)}if(x.data.jL==2){var o=n.x8(),b=o[0][o[1][0]],u={DX:"Default/"+$.getName(),TY:k,$:b.add.vmsk.clone().$},Z=r.j.Bd(u.$),I=new iJ(Z.m,0,0,Z.e,Z.x,Z.y);
I.sx();r.j.js(u.$,I);Z.x=Z.y=0;u.A$=Z.clone();V.data={d:S.H.DD,xE:"add",jL:iC.iU,bL:[u]};this.T(V)}}if(F==S.H.ij)this.fx.AT(x.data.jL);
if(F==S.H.aS){var y=x.data.afD,D=x.data.dY;if(y!=!0&&D!=!0&&this.lY("open"))return;var N=this._F.NK();
if(D)N=-1-N;this.fx.a5r(y||D?N:null,x.data.aCf)}if(F==S.H.Ts){var j=x.data.a47,H=x.data.m4,Q=this.C0(j);
if(H){var C=j==iC.s3,J=[];for(var w=0;w<H.length;w++)J.push((C?Q.list:Q)[H[w]]);Q=C?{r5:Q.r5,kF:Q.kF,list:J}:J}if(j==iC.Oj){var l=new az;
for(var w=0;w<Q.length;w++){var E=Q[w].RB.Lefx;if(E)hM.a06(E,l,this.ke.Oz)}Q={tM:l.add.Patt?l.add.Patt:[],rg:Q}}if(j==iC.I$){var T=this.ke.rj;
Q={kF:[],r5:[],list:Q};console.log(Q)}if(j==iC.v)Q=Q[x.data.fe];var c=iC.uH[j],L=c[2].Kt(Q);jh.save(L,c[1]+"."+c[0])}if(F==S.H.V0){var a=this.ke.aF,K=x.data.alk;
if(a.x7&&!a.ahO&&!K){a.aaN=window.confirm("Load \""+x.data.pL+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
a.ahO=!0}if((a.aaN||K)&&a.x7){a.iN[x.data.pL]=x.data.Gy;var V=new gT(S.E.M);V.data={d:S.H.DD,jL:iC.k0};
this.T(V)}}if(F==S.H.aAi){var n=this.eo(),P="<!DOCTYPE HTML>";if(n==null)return;var Y=jW.Lw(n.Hi().buffer,n.m,n.e),p=window.open();
P+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";P+="<body><img src=\""+Y+"\" /></body>";
P+="</html>";p.document.write(P)}if(F==S.H.Li){if(this.lY("publishOnline"))return;var m=x.data.BW!="psd",n=this.eo();
if(n==null)return;if(!m&&n.q0)return;var z="Your "+(m?"picture":"document")+" will be published at "+(m?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!m)z+=" We guarantee 6+ months of storage.";var M=x.data.ws?!0:confirm(z);if(M){if(!m){var V=new gT(S.E.v,!0);
V.f=O.c9;V.data={d:t.r8};this.T(V);var d=new eu(0,0,n.m,n.e);for(var w=0;w<n.B.length;w++){var $=n.B[w];
if($.rect.ak()||$.vN()||$.GH()||$.VX()||$.qA()||$.add.TySh||$.add.vmsk||$.add.SoLd)continue;var A=d.jB($.rect);
if(!A.rr($.rect)&&!A.ak()){var G=r.R(A.P()*4);r.sh($.buffer,$.rect,G,A);$.buffer=G;$.rect=A}if(!r.SB($.buffer,$.rect.m,$.rect.e))continue;
var kB=$.MG(),q=$.opacity,fO=$.q_,g=$.gO;$.FH(!0);$.opacity=255;$.q_="norm";n.g=[w];V.data={d:t.C5,BW:"jpg"};
this.T(V);var jN=n.B[w];$.FH(kB);jN.FH(kB);$.opacity=jN.opacity=q;$.q_=jN.q_=fO,$.gO=jN.gO=g}}if(n.DR){n.KS()}var c6=n.m,a7=n.e,bd=x.data.axv,ey;
if(bd)while(Math.max(c6,a7)>bd){c6=c6>>>1;a7=a7>>>1}console.log(c6,a7);if(x.data.BW=="psd")ey=jW.Ko(n,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(x.data.BW=="png")ey=jW.Ko(n,"png",c6,a7);else{var c5=jW.Ko(n,"png",c6,a7),bx=jW.Ko(n,"jpg",c6,a7);
ey=c5.byteLength<bx.byteLength?c5:bx}if(x.data.ws==null)x.data.ws=function(bF){var fA=m?bF:"https://www.photopea.com/#i"+bF+".psd",V=new gT(S.E.M);
V.data={d:S.H.Ar,ip:"linkview",ahs:fA};this.T(V)}.bind(this);if(m)jh.avQ(ey,x.data.ws);else this.fx.a6_(ey,n.name,x.data.ws,"psdshared")}}if(F==S.H.rN){var n=this.eo(),ap=!1;
if(n==null)return;if(n.DR){n.KS()}if(x.data.fJ){if(!this.Xc(n,x.data.fJ))return;var L=am.adv(n,x.data.fJ,this.ke);
this.AO(L);ap=!0}else if(n.fN){if(this.iV.indexOf(n.fN.Zx)!=-1){var L=new Uint8Array(jW.w0("PSD").Rd(n,null,null,[!0,!1])),V=new gT(S.E.v,!0);
V.data={d:t.sF,GE:n.fN.Zx,data:L,id:n.fN.a5p,GR:n.name};V.f=O.c9;this.T(V);alert("Smart Object updated")}ap=!0}else if(this.lY("save")){ap=!0}else if(n.pb){am.aku(n);
ap=!0}else if(n.G4){var fC=am.a8c(n);if(fC==1){alert("Already saving another file. Try again later.");
return}ap=!0}else if(n.xE&&n.xE.sO){if(!this.Xc(n,n.xE.sO.formats))return;this.fx.apA(n,this.ke,am.air);
ap=!0}else if(n.rO&&"psd jpg png gif webp svg bmp".split(" ").indexOf(n.Hk)!=-1){this.aex();return}if(ap){n.zh=n.Mw;
n.by=Date.now();n.yW=!0}else{var V=new gT(S.E.M,!0);V.data={d:S.H.u3};this.T(V)}}if(F==S.H.u3){if(!this.ke.Gc){alert("function is disabled");
return}if(this.lY("saveAsPSD"))return;var n=this.eo();if(n==null)return;if(!this.Xc(n))return;var V=new gT(S.E.v,!0);
V.data={d:t.r8};V.f=O.c9;this.T(V);var kE=n.B.length,bm="Your document has "+n.B.length+" layers.";if(kE>1<<15){alert(bm+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(kE>8e3&&!confirm(bm+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var fe={_M:[]};n.root.ai1([],fe);var g8=fe._M;if(g8.length>11&&!confirm("One layer is nested "+(g8.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+g8.join(" \uD83E\uDC1A ")+"."))return;
var e0=window.showSaveFilePicker;if(window.parent!=window)e0=null;if(e0&&!x.data.apd){var cF={suggestedName:n.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
e0(cF).then(function(x){n.rO=x;n.name=x.name;n.bA=!0;n.Hk="psd";this.aex()}.bind(this));return}var ei=window.gtag;
if(n.gK()&&ei)ei("event",n.Hk+":"+v.gV(ii.vR()?"\"'|('61":"w'| "),{event_category:"Formats"});if(n.DR){n.KS()}var cr=aH==0?"PSD":"AI",e_=jW.w0(cr);
if(x.data.apd){var L=n.Hk=="psd"?e_.Rd(n):am.aD(n,n.Hk,this.ke);this.acv(L,n,this)}else{var L=e_.Rd(n);
jh.save(L,n.name);n.zh=n.Mw;n.by=Date.now();n.yW=!0}}if(F==S.H.Ih)window.open(x.data.link,"_blank");
if(F==S.H.aiz){if(this.Fg.ek()){this.aew();return}var n=this.eo(),$=n.B[n.g[0]],W=n.hz($.add.SoLd.Idnt.v);
for(var w=0;w<this.iV.length;w++){var gg=this.iV[w].fN;if(gg!=null&&gg.a5p==W.sd&&gg.Zx==n){this._F.yu(w);
return}}jh.s5({name:W.GR,fN:{a5p:$.add.SoLd.Idnt.v,Zx:n}},W.raw.buffer,this)}if(F==S.H.ao6){var n=this.eo(),$=n.B[n.g[0]],W=n.hz($.add.SoLd.Idnt.v);
jh.save(W.raw.buffer,W.GR)}if(F==S.H.ad8){console.log(x.data);jh.s5({name:x.data.G4[1].split("/").pop(),G4:x.data.G4},x.data.LK,this)}if(F==S.H.aAn){var n=this.eo();
n.G4=x.data.G4;n.name=n.G4[1].split("/").pop();var V=new gT(S.E.M);V.data={d:S.H.rN};this.T(V)}if(F==S.H.P5){this.aBC()}if(F==S.H.Ti){this.ai0(x.data.va,x.data.b4,x.data.FQ)}if(F==S.H.cd){this.awL(x.data.a5u,x.data.Ee,x.data.FQ)}if(F==S.H.a1G){var bW=x.data.b;
if(this.ke.Dj==O.w1&&this.Pa().ek()){var V=new gT(S.E.v,!0);V.f=O.w1;V.data={d:"insertText",b:bW};this.T(V);
return}if(bW.startsWith("vcb;")){var gx=JSON.parse(bW.slice(4));gx[0]=fZ.arx(gx[0]);var V=new gT(S.E.v,!0);
V.f=O.iM;V.data={d:"append",Sa:"Paste Paths",a2T:gx};this.T(V)}else if(bW.startsWith("lrs;")){var h$=bW.split(";"),dH=this.iV[parseInt(h$[1])];
if(dH==null)return;var eg=this.eo(),aB=dH.g;dH.g=JSON.parse(h$[2]);var gB=dH.yd(null,dH!=eg);dH.g=aB;
var V=new gT(S.E.v,!0);V.data={d:t.bs,B:gB,Zx:dH,gY:eg};V.f=O.c9;this.T(V)}else if(bW.startsWith("<!--")||bW.startsWith("<svg")){var jy=_.Ug(bW),ie=jW.w0("svg"),l=new az("image.psd");
ie.La(jy.buffer,l);if(this.iV.length!=0){var cT=l.B;if(cT.length==3&&cT[0].getName()=="</Layer group>"&&cT[2].vN())cT=[cT[1]];
var V=new gT(S.E.v,!0);V.f=O.c9;V.data={d:t.bs,B:cT,Zx:l,gY:this.eo()};this.T(V)}else this.a7L(l)}}if(F==S.H.tN){eb.LA(x.data.TJ,this)}if(F==S.H.iC){if(window.parent!=window)window.parent.postMessage(x.data.jL,"*");
this.vH.ZZ(x.data.jL)}if(F==S.H.Tl){var a_=parseFloat(x.data.ip);if(this.ke.ES.indexOf(a_)==-1){var V=new gT(S.E.M,!0);
V.data={d:S.H.DD,jL:iC.nI,b:a_,xE:"add"};this.T(V)}this.vH.acL(x.data.ip)}if(F==S.H.th){this.HI.amu(this.eo(),this.ke)}if(F==S.H.Ar){var gs="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var w=0;w<gs.length;w+=2)if(x.data.ip==gs[w]&&this.lY(gs[w+1]))return;if(!this.ke.Gc&&x.data.window=="saveforweb"){alert("function is disabled");
return}this.Fg.aDW(x.data.ip,this.eo(),x.data,this.iV,this.Q8)}if(F==S.H.Ps)jh.save(x.data.data,x.data.name);
if(F==S.H.bt){if(!this.Fg.ek()||x.Kh)this.a7L(x.data.GE)}if(F==S.H.eA){this._F.yu(x.data.target);var V=new gT(S.E.v,!0);
V.data={d:t.arX,GE:x.data.GE,$g:x.data.$g,ax:x.data.ax};V.f=O.c9;this.T(V);this.QO(O.d9)}if(F==S.H.a89){hl.Cp=!hl.Cp;
if(this.iV.length>0)this.eo().W()}if(F==S.H.asD){var gq=ii.F0();if(gq!=null&&gq.globals!=null)this.Wm(gq.globals);
this.Ui()}if(F==S.H.iW){this.fx.x1(x.data.data,null,x.data.OL,x.data.dX,x.data.ak_)}if(F==S.H.Ac){var kr=this.Pa();
if(!this.Fg.pJ()!=null)this.QO(x.data.f,x.data.qm);var iN=this.Pa();if(iN!=kr&&x.data.acb)iN.pI(this.eo(),this,this.ke,this.Q8,this.ND)}if(F==S.H.g3){if(this.s.MK)this.QO(this.s.MK)}if(F==S.H.mh){var jH=this.s.map[x.data.f].f,n=this.eo();
jH.FD(x.data,this,n,this.Q8,this.ke);if(n)n.Md=!0;this.aji()}if(F==S.H.QQ){var h2=this.s.map[x.data.f];
this.alf(h2);h2.tG.Bi(x.data)}if(F==S.H.DD){var n=this.eo(),an=x.data.jL,bt=x.data.bL,kH=this.ke;if(x.data.xE=="set"){var iN=O.Np[bt[1].classID];
if(kH.Dj!=iN)this.QO(iN);this.s.map[iN].tG.a24(bt,kH)}if(x.data.xE=="add"){var c=iC.uH[an];if(an==iC.nI){kH.ES.push(x.data.b);
kH.ES.sort(function(bF,fA){return bF-fA})}else if(c==null){if(bt)kH.op.adn(bt,x.data.a8l);if(n)n.yW=!0}else{var js=this.C0(an);
if(an==iC.s3){js.kF=js.kF.concat(bt.kF);js.r5=js.r5.concat(bt.r5);js=js.list;bt=bt.list}if(an==iC.Oj&&n){for(var w=0;
w<bt.length;w++){var E=bt[w].RB.Lefx;if(E)hM.axk(E,n,kH.Oz)}}if(an==iC.I$&&bt==null){var l=this.s.map[kH.Dj].tG.aey();
if(l==null)return;bt=[l]}for(var w=0;w<bt.length;w++)js.push(bt[w]);if(an==iC.iU){var gA={};for(var w=0;
w<js.length;w++){var jR=js[w].DX;while(gA[jR]!=null)jR=js[w].DX=jR+"X";gA[jR]=!0}}if(x.data.a8l!=!0)if(js.length!=bt.length||an==iC.IE||an==iC.Oj||an==iC.he||an==iC.v)alert(hz.get(c[3])+" "+hz.get([23,1])+".")}}if(x.data.xE=="del"){if(an==iC.nI){kH.ES.splice(kH.ES.indexOf(x.data.b),1)}else{var c=iC.uH[an],H=x.data.m4,js=this.C0(an);
if(an==iC.s3)js=js.list;for(var w=0;w<H.length;w++)js[H[w]]=null;for(var w=0;w<js.length;w++)if(js[w]==null){js.splice(w,1);
w--}alert(hz.get(c[3])+" deleted.")}}if(x.data.xE=="rnm"){var c=iC.uH[an],js=this.C0(an);if(an==iC.s3)js=js.list;
if(js[x.data.m4[0]]==null)return;c[2].o6(js[x.data.m4[0]],(x.data.a4?x.data.a4:"")+x.data.b)}if(an==iC.JL){var c3=x.data.b;
kH.nC=c3;kH.n4[c3.d_]=c3.oa}if(an==iC.ys){var c3=x.data.b;kH.Yy=JSON.parse(JSON.stringify(c3));var iU=eC.$p(c3);
kH.V4[iU.d_]=iU.oa}if(an==iC.aW){kH.J1=x.data.b}if(an==iC.k3){kH.X0=x.data.b}if(an==iC.LC){kH.Sq=x.data.Sq}if(an==iC.rb){var G=JSON.parse(JSON.stringify(x.data.BX)),hn=G.useBrushSize;
if(hn&&hn.v){G.Brsh.v.Dmtr.v.val=kH.rj.gd.Brsh.v.Dmtr.v.val;hn.v=!1}kH.rj.gd=G;var db={Y3:"select",Xe:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:G.Nm.v.split("/").pop()}}]}}},h2=this.Pa();
h2.gP=this;h2.track(db)}if(an==iC.n6){kH.Jg=x.data.k9}if(an==iC.lz){kH.bL=x.data.k9}if(an==iC.N1){var db,dy="Clrs";
if(x.data.k1<2){var c2=x.data.b,bk=x.data.k1==0,cx=r.I.GB({o:c2>>>16,r:c2>>>8&255,z:c2&255});if(bk)kH.A_=c2;
else kH.G8=c2;dy=bk?"FrgC":"BckC";db={Y3:"set",Xe:{__name:"Set",classID:"setd",T:{t:"Objc",v:cx}}}}if(x.data.k1==2){var ft=kH.A_;
kH.A_=kH.G8;kH.G8=ft;db={Y3:"exchange",Xe:{__name:"Exchange",classID:"Exch"}}}if(x.data.k1==3){kH.A_=0;
kH.G8=16777215;if(n!=null&&n.g.length!=0&&n.B[n.g[0]].sj==1){var ft=kH.A_;kH.A_=kH.G8;kH.G8=ft}db={Y3:"reset",Xe:{__name:"Reset",classID:"Rset"}}}if(db){db.Xe.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:dy}}]};
var h2=this.Pa();h2.gP=this;h2.track(db)}}if(an==iC.PH){kH.TG=!kH.TG;this.Q_()}if(an==iC.Yr){kH.AU=!kH.AU;
this.Q_()}var eZ=kH._X;if(an==iC.oo){eZ.H9=!eZ.H9;this.Q_()}if(an==iC.Lc){eZ.V2=!eZ.V2;this.Q_()}if(an==iC.Zq){eZ.Ul=!eZ.Ul;
this.Q_()}if(an==iC.C1){eZ.xg=!eZ.xg;this.Q_()}if(an==iC.IB){eZ.wa=!eZ.wa;this.Q_()}if(an==iC.Eu){eZ.EC=!eZ.EC;
this.Q_()}if(an==iC.qt){kH._X=x.data.k9;this.Q_()}if(an==iC.a0w){kH.ya=!kH.ya;this.Q_()}if(an==iC.JS){kH.my[x.data.Zw]=!kH.my[x.data.Zw];
this.Q_()}if(an==iC.N3){hz.Fm(x.data.lang,this.jn)}if(an==iC.lB){kH.wd=x.data.wd;this._()}if(an==iC.k0&&kH.aF.x7){var hf=kH.aF.x7.transaction(["rsrc"],"readwrite").objectStore("rsrc"),jr={k:"fs0",fset:kH.aF.iN};
if(x.data.aB9)jr={k:kH.aF.id,fset:kH.aF.td};var ix=Object.keys(jr.fset).length==0?hf.delete(jr.k):hf.put(jr);
ix.onerror=function(x){console.log(x);alert("Storing failed. Browser says: "+x.target.error.message,7e3)}}this.a7(an)}};
hr.prototype.aex=function(){var x=new gT(S.E.M,!0);x.data={d:S.H.OI,hw:"Saving ..."};this.T(x);setTimeout(function(){var x=new gT(S.E.M,!0);
x.data={d:S.H.u3,apd:!0};this.T(x)}.bind(this),20)};hr.prototype.acv=function(x,F){F.rO.createWritable().then(function(W){W.write(x);
return W}).then(function(W){return W.close()}).then(function(W){F.zh=F.Mw;F.by=Date.now();F.yW=!0;var n=new gT(S.E.M,!0);
n.data={d:S.H.tU,hw:"Saving ..."};this.T(n)}.bind(this)).catch(function(W){var n=new gT(S.E.M,!0);n.data={d:S.H.tU,hw:"Saving ..."};
this.T(n)}.bind(this))};hr.prototype.aaa=function(){var x=this.ke,F=x.bL,W=x.aak;for(var w=0;w<F.length;
w++){var n=F[w];if(W[n])continue;W[n]=!0;this.fx.mH(n,!1,!0)}};hr.prototype.a1h=function(){this._();
this.Q_()};hr.prototype.lY=function(x){var F=this.ke.pO[x];if(F){var W=new gT(S.E.M,!0);W.data={d:S.H.tN,TJ:F};
this.T(W)}return F!=null};hr.prototype.Xc=function(x,F){var W=!0,l=15;if(F){W=!1;for(var w=0;w<F.length;
w++)if(F[w].startsWith(v.m6("__M")))W=!0}var n=x.gK()||x.fN&&x.fN.Zx.gK();if(this.$Z())n=!1;var L=new v.Og[c$.Ln],$=(L[v.gV("xy,b-66:")]()&1)*60+L[v.m6("VQ]3LNRN<G")]();
if(n&&!ii.vR()&&$>l&&W){var k=v.Og[v.gV("}$z{2*35")][v.gV("y'|!")],V=v.m6("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
V+="\n\n"+v.m6("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-$+120)+v.m6("nYRTXTBMd");
if(k.indexOf(v.gV("\"|'/-1)(W0?@"))==-1)V=hz.get([0,11+6,3+2]);v.Og._cwY(V);return!1}return!0};hr.prototype.C0=function(x){var F=this.ke,W=[iC.s3,iC.W$,iC.By,iC.he,iC.K7,iC.iU,iC.Oj,iC.IE,iC.v,iC.I$,iC.ug],n=[F.rj,F.RP,F.JP,F.J0,F.Oz,F.hx,F.LX,F.af8,F.qS,F.yz,F.atL];
return n[W.indexOf(x)]};hr.prototype.aBC=function(){var x=this.ai0(),F=this.eo();if(F==null||F.g.length==0)return;
var W=F.B[F.g[0]],n=new gT(S.E.v);if(x==1){n.f=O.iM;n.data={d:"remove",Sa:"Cut Paths"}}else{n=new gT(S.E.BD);
n.data={Y3:"delete"}}this.T(n)};hr.prototype.ai0=function(x,F,W){if(x==null)x=!1;var n=this.ke;console.log("doCopy",x,F);
var L=this.eo();if(n.Dj==O.w1&&this.Pa().ek()){var $=new gT(S.E.v,!0);$.f=O.w1;$.data={d:"copyText"};
this.T($);return}if(L==null||L.g.length==0)return;var l=L.B[F==null?L.g[0]:F],k=L.x8(),V=k[0],i=k[1],X=V[i[0]];
if(!x&&X!=null&&X.add.vmsk.g.length!=0){var s=O.Sj.JY(X.add.vmsk,X.add.vogk);if(v.bT()){s[0]=fZ.auo(s[0]);
var R="vcb;"+JSON.stringify(s);jh.M0(new Blob([R],{type:"text/plain"}))}else n.l$=s;return 1}else if(L.u==null){if(v.bT()){var R="lrs;"+this.iV.indexOf(L)+";"+JSON.stringify(L.g);
jh.M0(new Blob([R],{type:"text/plain"}))}}else{var h,B;if(x){var e=new eu(0,0,L.m,L.e);B=e.jB(L.u.rect);
h=r.R(B.P()*4);r.sh(L.Hi(),e,h,B);r.L7(L.u.channel,L.u.rect,h,B)}else if(L.kO.length!=0){B=L.u.rect.clone();
h=r.R(B.P()*4);var U=L.o2[L.kO[0]],o=U.PM(B);r.Mi(o,h);r.rW(L.u.channel,h,3)}else{var b=l.vs(L,L.u);
if(b==null){alert("Copied area is empty");return}h=b.LK;B=b.rect}var u=L.U.O,Z=u[0]+u[1]+u[2];if(Z==1){var I=u.indexOf(1);
for(var w=0;w<h.length;w+=4)h[w]=h[w+1]=h[w+2]=h[w+I]}var y=new eX(L.m,L.e);if(v.bT()&&W!=!0){var D=jW.w0("PNG").a2e(h.buffer,B.m,B.e);
jh.M0(new Blob([new Uint8Array(D)],{type:"image/png"}));this.a5A={fS:B,yV:y}}else n.v2={buffer:h,rect:B,yV:y};
n.a2$=B.clone();n.l$=null}};hr.prototype.awL=function(x,F,W){if(F)this.ar3=!0;console.log("doPaste");
var n=this.ke,L=n.v2,V;if(this.iV.length==0){if(!x&&v.bT()){jh.e8(this,null);return}if(L){var $=jW.WD("image.psd",[{data:L.buffer.buffer,Sf:L.rect}]),l=new gT(S.E.M);
l.data={d:S.H.bt,GE:$};this.T(l)}return}var $=this.eo();if(n.Dj==O.w1&&this.Pa().ek()){jh.e8(this,null);
return}var k=$.B[$.g.length==0?$.B.length-1:$.g[0]];if(n.l$){var i=$.x8(!0),X=i[0],s=i[1];V=X[s[0]]}var l=new gT(S.E.v,!0);
if(n.l$!=null&&V!=null){l.f=O.iM;l.data={d:"append",Sa:"Paste Paths",a2T:n.l$}}else if(!x&&v.bT()&&W!=!0){jh.e8(this,this.ap9.bind(this));
return}else{if(L==null)return;if($.SP(!1)&&($.U.O.join("")!="111"||$.kO.length!=0||k.sj>0||k.rect.ak())){l.f=O.s3;
l.data={d:"draw",aw3:!0,Sa:[5,2]}}else{l.f=O.c9;l.data={d:t.Xy,Ee:this.ar3};this.ar3=!1}l.data.v2=L}this.T(l)};
hr.prototype.aaE=function(){var x=this.ke.op;if(x.abN())return;for(var w=0;w<this.iV.length;w++){var F=this.iV[w];
if(!kc.OQ(F,x,this))continue;if(F.Sv)kc.xD(F,x,this);var W=F.add.lnk2;if(W)for(var n=0;n<W.length;n++){var L=W[n];
if(L.Sv)O.RC.AP(F,L.sd,L.mp[1],L.mp[1],x)}if(F.aua)continue;F.aua=!0;if(F.xE&&F.xE.ay4)eb.LA(F.xE.ay4,this);
this.AO();var $=new gT(S.E.v);$.f=O.c9;$.data={d:t.Dg};var l=new gT(S.E.M);l.data={d:S.H.Tl,ip:bs.Kz.akY};
l.data={d:S.H.Ar,ip:"saveforweb",BW:5,index:[10,0]}}};hr.prototype.a7=function(x){this.aaa();var F=this.ke,W=F.Dj,l=!1;
if(x==iC.rb){if(this.s.map[W].tG)this.s.map[W].tG.AW(F,x)}else for(var n in this.s.map)if(this.s.map[n].tG)this.s.map[n].tG.AW(F,x);
if(x==iC.nx){if(W!=O.w1)this.s.map[O.w1].f.AW(F,x);this.aaE()}this._F.AW(F,x);this.pg.AW(F,x);this.Fg.AW(F,x);
if(aH==1&&(x==iC.JL||x==iC.ys))this.s.map[O.XA].f.AW(F,x);else this.Pa().AW(F,x);this.vH.AW(F,x);this.Lp.AW(F,x);
if(x==iC.lB||x==iC.tB){eI.aa4(F.wd);this.update(!0)}var L=F.Sq,$=L.oE.Font;if(x==iC.LC&&$!=null&&L.zf[$].Name!=F.font){F.font=L.zf[$].Name;
l=!0}if([iC.nI,iC.n6,iC.lz,iC.N1,iC.PH,iC.Yr,iC.qt,iC.Zq,iC.C1,iC.oo,iC.Lc,iC.IB,iC.Eu,iC.N3,iC.lB].indexOf(x)!=-1||l)this.aji()};
hr.prototype.aji=function(){if(!this.Qr)return;var x={},F=this.s.map;for(var W in F){var n=F[W].f;if(n.CH&&n.CH()!=null)x["t"+W]=n.CH()}var L=this.ke,$=L._X,l={guides:$.Ul,grid:$.xg,sels:$.H9,paths:$.V2,pgrid:$.wa,slices:$.EC,gsize:parseFloat($.hh.toFixed(2)),gunits:$.wq,gtype:$.MX,runits:$.$o};
if($.VW!=8421504)l.gcol=$.VW;if($.Zr!=65535)l.gucol=$.Zr;var k={fcolor:L.A_,bcolor:L.G8,rulers:L.TG,extras:L.AU,favFam:L.Jg,rsrc:L.bL,panels:L.ES,eparams:l,lang:hz.P_(),theme:L.wd,as:L.LT,co:L.nA,topt:x};
if(L.font!=null)k.font=L.font;var V=ii.F0();if(V==null)V={};V.globals=k;ii.am(V)};hr.prototype._o=function(x){var F=this.Q8,W=this.ND,n=this.ke.Dj,L=this.s.map[n].f,$=null,l=!1;
for(var w=0;w<this.s.a2n.length;w++){var k=this.s.a2n[w],V=!0;for(var i=0;i<k.$H.length;i++){var f=k.$H[i];
if(!F.S(f))V=!1}if(V&&(!k.SE||!L.ek())&&(k.MY==null||k.MY.indexOf(n)!=-1)){$=k.f;l=k.SE;break}}if((!W.Pz||n==O.r2||x)&&this.s.rM!=$&&($!=n||!l)){var X=this.eo();
if(this.s.rM!=null&&$==null)this.Pa().disable(X,this,this.ke,F,!0);this.s.rM=$;this.Pa().enable(X,this,this.ke,F,$!=null&&$!=n)}};
hr.prototype.ct=function(x){var F=this.ke.Dj,W=this.eo();if(F!=null){this.s.map[F].f.disable(W,this,this.ke,this.Q8)}};
hr.prototype.alf=function(x){if(x.tG==null){x.tG=new x.lq(x.f.id);x.tG.a2P(x.f.id,x.f.CZ);x.tG.AW(this.ke,iC.tB);
x.tG._()}};hr.prototype.QO=function(x,F){if(x==O.d9&&this.Fg.pJ())return;var W=this.eo(),n=this.ke;if(this.s.map[x].f.pn(W,n,F)){this.ct();
if(x!=n.Dj)this.s.MK=n.Dj?n.Dj:O.iY;n.Dj=x;this.pg.QO(n.Dj);var L=this.s.map[x];this.s.Fx[L.YU]=L.aoY;
this.alf(L);this.zB.ali(L.tG);var $=L.f;$.enable(W,this,this.ke,this.Q8,!1,F);if(W)W.Md=!0;this.Q_();
this.sn.azd()}};hr.prototype.Pa=function(x){var F=this.s,W=F.r3,n=F.rM,L=this.ke.Dj;if(W)L=W;else if(n&&x==null)L=n;
return F.map[L].f};hr.prototype.a7L=function(x){var F=this.ke,W=this.iV.indexOf(x);if(W!=-1){this._F.yu(W);
return}if(this.dL&&(x.xE==null||x.xE.sO==null)){x.xE={sO:this.dL}}if(x.Cs==null){x.Cs="local,"+this.acr+","+x.name;
this.acr++}x.by=Date.now();if(aH==1&&x.add.arts==null)x.afX();if(hQ.Ny()!=0&&!this.a0o&&v.Og[v.gV("t$&!'31")].toString().indexOf(v.gV(" u,$4&"))==-1){alert(v.gV("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var w=0;w<x.B.length;w++){var n=x.B[w];if(n.add.SoLd!=null){var L=Date.now()}}var $=x.B.length,l=c$.MH(),k=Math.PI*(6550<<14)+(v._2(31)?20:10)*7e7;
if(l>k){var $=x.B.length;x.B=[];return $}if(hl.Cp){hl.iE(Math.max(x.m,x.e));for(var w=0;w<x.B.length;
w++){var n=x.B[w];if(n.aQ())hl.iE(Math.max(n.rect.m,n.rect.e))}}x.vq();x.Qv();if(x.a8f)x.auf();else x.W();
x.a8f=!1;this.iV.push(x);this._F.nO(new k9(x));x.Md=!0;x.yW=!0;this.aaE();var V=new gT(S.E.v);V.f=O.t7;
V.data={d:"auto",VG:2}};hr.prototype.eo=function(){return this.iV[this.Dh]};hr.prototype.aq3=function(){return this.Fg.pJ()==null};
hr.prototype.bR=function(x,F){this.ct();var W=this.iV.length;if(F!=null)this._F.yu((this._F.NK()+F+W)%W);
this.Dh=this._F.NK();var n=this.eo();this.Lp.azS(n,this.ke);this.vH.Lv(n,this.iV,this.ke);this.Q_();
if(n)n.Md=!0};hr.prototype.akV=function(x){this.ct();var F=this.iV,W=F[x.data.X1];F.splice(x.data.X1,1);
if(F.length==0){this.bR(x);var n=hl.bz(),L=k9.ig.YI;if(n.parentNode)n.parentNode.removeChild(n);if(L.parentNode)L.parentNode.removeChild(L)}this.amf(W.name)};
hr.prototype.amf=function(x){var F=this.ke.aF,W=!1;if(F.x7==null)return;for(var n in F.td){if(x==null||n==x){delete F.td[n];
W=!0}}if(W){var L=new gT(S.E.M);L.data={d:S.H.DD,jL:iC.k0,aB9:!0};this.T(L)}};hr.prototype.a0c=function(x){var F=[],W=x.data.aCX;
for(var w=0;w<W.length;w++)F[w]=this.iV[W[w]];this.iV=F;this.Dh=this._F.NK()};hr.prototype.ae$=function(x){var F=this._F,W=F.ap5(),n=this.Pa(),L=this.eo();
if(W==F.NK()||!n.a5Q())return;this.aaw(W,n)};hr.prototype.aaw=function(x,F){console.log("dup2doc");var W=this.ke,n=this._F,L=this.eo(),$=this.iV[x],l,k=new gT(S.E.v,!0);
k.f=O.c9;if(L.u==null){k.data={d:t.bs,B:L.yd(null,!0),Zx:L,gY:$,a8O:F==null};this.T(k)}else l=L.B[L.g[0]].vs(L,L.u);
var V=this.ND,i=W.TG;W.TG=!1;V=L.U.m$(V.x,V.y);if(F)F.OA(L,this,W,this.Q8);n.yu(x);if(L.u){k.data={d:t.Xy,v2:{buffer:l.LK,rect:l.rect}};
this.T(k)}V=$.U.Q0(V.x,V.y);if(F)F.pI($,this,W,this.Q8,V);W.TG=i};hr.prototype.apa=function(x){var F=this.eo(),W=this.Q8,n=this.ke,L=x.ew;
if(L)this.ND=L;if(L)L.y-=n.nA;if(this.Ea==null)this.Ea=0;if(x.action=="multidown"){this.dH=x.Rl.length;
this.Ea=Date.now()}if(x.action=="up"&&Date.now()-this.Ea<100){var $=new gT(S.E.v);$.f=O.o7;$.data={d:this.dH==2?"h_stepbck":"h_stepfwd"};
this.T($)}if(x.action.startsWith("multi")){var l=new gT(S.E.v,!0);l.data={d:x.action,Rl:x.Rl};l.f=O._6;
this.T(l);return}var k=this.s.map[O.iY].f;if((x.action=="down"||x.action=="rdown")&&n.Dj!=O.iY&&this.s.rM!=O.iY&&k.apx(F,this,n,W,L)){this.s.r3=O.iY;
k.enable(F,this,n,W,!0)}if(x.action=="idown"){W.ou("Space");this._o(!0);x.action="down"}var V=this.Fg.pJ(),i=V!=null&&V.nw()&&this.s.rM==null?V:this.Pa();
if(x.action=="scroll"){var X=!W.S(gp.Fr)&&x.Oi,l=new gT(S.E.v,!0);l.data={d:"scroll",zO:x.zO.clone(),ew:L,aoD:X};
l.f=W.S(gp.d8)||X?O._6:O.CD;this.T(l)}if(V!=null&&i!=V&&this.Fg.ek()&&i.id!=O.CD&&i.id!=O._6)return;
if(x.action=="down")i.pI(F,this,n,W,L);if(x.action=="rdown")i.u6(F,this,n,W,L);if(x.action=="move")i.Lx(F,this,n,W,L);
if(x.action=="up"||x.action=="iup"||x.action=="cancellast")i.t8(F,this,n,W,L,x.action=="cancellast");
if(x.action=="rup")i.Nc(F,this,n,W,L);if(x.action=="iup"){W.Gd("Space");this._o(!0)}if(x.action=="cancellast"){if(F&&F.history.length!=0&&Date.now()-F.history[F.history.length-1].avP<200){var $=new gT(S.E.v);
$.f=O.o7;$.data={d:"h_stepbck"};this.T($)}}var s=this.vH;if(x.action=="down")s.pI(F,this,n,W,L);if(x.action=="move")s.Lx(F,this,n,W,L);
if(x.action=="up")s.t8(F,this,n,W,L);if(x.action=="down"||x.action=="up"){this._o()}if(x.action=="down"||x.action=="up"||x.action=="ctx"){F.Md=!0}if((x.action=="up"||x.action=="rup")&&this.s.r3){this.s.r3=null;
k.disable(F,this,n,W)}};hr.prototype.v_=function(x){var F=this.eo(),W=this.ND;if(F&&this.Pa().R0(W,this.Q8)){var n=F.U,L=n.$f.m,$=n.$f.e,l=0,k=0,V=16;
if(W.x<V)l=V-W.x;if(W.x>L-V)l=W.x-(L-V);if(W.y<V)k=V-W.y;if(W.y>$-V)k=W.y-($-V);var i=this.Q8.S(gp.ca)?8:1;
if((l!=0||k!=0)&&(F.m*n.Q>L||F.e*n.Q>$)){l=Math.min(5,l*.5)*i;k=Math.min(5,k*.5)*i;if(W.x>V)l=-l;if(W.y>V)k=-k;
n.J.x+=l;n.J.y+=k;this.apa({ew:this.ND,action:"move"});F.bA=!0}}this.update()};hr.prototype.update=function(x){var F=this.eo();
if(F==null)return;if(aH!=0){if(F.buffer)throw"e"}if(F.Md){var W=this.s.map;for(var n in W){if(W[n].f.HS)W[n].f.HS(F,this,this.ke,this.Q8)}if(aH==1){W[O.XA].f.HS(F,this,this.ke,this.Q8,!0)}}if(F.DR&&aH==0)if(hl.Cp)hl.iE(Math.max(F.m,F.e));
if(F.DR&&aH==0){F.KS()}var L=F.U,$=this.mA,l=this.mA=Date.now();if(F.DR||F.eT||F.yW||F.bA||x||L.jA!=L.Q||!L.Ma.rr(L.J)){var k=L.jA;
if(L.jA!=L.Q){var V=O.Ov.anQ(L.Q,L.jA>L.Q),i=.12;if(L.jA<L.Q&&L.jA<V)L.jA=V;if(L.jA>L.Q&&L.jA>V)L.jA=V;
var f=Math.abs(L.Q-V)*(l-$)*.001/i;if(L.jA<L.Q)L.jA=Math.min(L.Q,L.jA+f);else L.jA=Math.max(L.Q,L.jA-f)}var X=k==L.Q?0:(L.jA-L.Q)/(k-L.Q);
L.Ma.x=L.J.x+X*(L.Ma.x-L.J.x);L.Ma.y=L.J.y+X*(L.Ma.y-L.J.y);this._F.AW(this.ke,null);this._F.Lv(F,this.iV)}if((F.DR||F.bA||F.Md)&&(!this.ND.Pz||F.m3)){if(F.Md)F.Qv();
this.vH.Lv(F,this.iV,this.ke);this.pg.a29(F,this.Q8);F.XB=!1}F.m3=!1;F.Md=!1;F.DR=null;F.eT=F.yW=F.bA=!1};
hr.prototype.xX=function(x){var F=x.target.tagName.toLowerCase(),W=x.target.getAttribute("type"),n=gp,L=n.ii(x.code,n.hI);
if(!((F=="input"||F=="select"||F=="button")&&n.ii(x.code,n.fF))){if(n.Pe(x)&&F!="select"){x.preventDefault()}this.Q8.ou(n.r6(x));
this.lH("down")}};hr.prototype.tf=function(x){if(x.key==" ")this.Q8.jk();if(gp.ii(x.code,gp.Po))this.Q8.reset();
this.Q8.Gd(gp.r6(x));var F=x.target.tagName.toLowerCase();if(gp.Pe(x)&&F!="select"){x.preventDefault()}this.lH("up")};
hr.prototype.lH=function(x){var F=this.Q8,W=this.eo(),n=W!=null&&W.g.length!=0;if(this.HI.pJ()!=null){if(F.S(gp.oX)||F.S(gp.hI)){this.HI.ax0()}return}this._o();
var L=this.j$(gp.Fr),$=F.S(gp.d8),l=F.S(gp.ca);if(L&&F.S(gp.s8)&&x=="down"){var k=new gT(S.E.v),V=new gT(S.E.M);
k.f=O.o7;if(l){k.data={d:"h_stepfwd"}}else{k.data={d:"h_stepbck"}}if(this.Fg.pJ()!=null&&this.Fg.pJ().ek()){}else this.T(k)}if(L){var k=new gT(S.E.v),i=new gT(S.E.BD),V=new gT(S.E.M);
if(F.S(gp.HF)&&F.S(gp.w_)){V.data={d:S.H.Ar,ip:"storwindow"};this.T(V)}if(!$&&x=="down")for(var f in a3.keys){var X=a3.keys[f],s=!0;
for(var w=0;w<X.length;w++)if(!F.S(X[w]))s=!1;if(s){k.f=O.t7;if(f=="hue2"&&l&&W.B[W.g[0]].add.SoLd==null)k.data={d:"auto",VG:3};
else k.data={d:"start",sv:f}}}if(F.S(gp.H)){if($){i.data={Y3:"selectAllLayers",Xe:{classID:"null",null:ga.oY("Lyr",!0)}}}else i.data=O.FA.YT(!0)}if(F.S(gp.PA)){if($)V.data={d:S.H.Ar,ip:"csize"};
else if(W)V.data={d:S.H.Ti,va:l}}if(F.S(gp.ql)&&W.u){i.data=O.FA.YT()}if(F.S(gp.E)&&x=="down"){if(l)i.data={Y3:"mergeVisible"};
else i.data={Y3:"mergeLayersNew",Xe:{__name:"Merge Layers",classID:"Mrg2"}}}if(F.S(gp.eM)){if(l&&this.ke.Dj!=O.d9)V.data={d:S.H.Ar,ip:"afw_fade"};
else if($){k.f=O.T2;k.data={d:"applylast"}}else V.data={d:S.H.th}}if(F.S(gp.mw)){if($&&W&&W._B(W.g[0])){k.f=O.c9;
k.data={d:t.rF}}else{k.f=O.c9;k.data={d:t.YV,RJ:l}}}if(F.S(gp.R7)){V.data={d:S.H.DD,jL:iC.Yr}}if(F.S(gp.HF)){if(l){k.data=null;
if($)V.data={d:S.H.Ar,ip:"finfo"};else i.data={Y3:"inverse"}}else if($)V.data={d:S.H.Ar,ip:"isize"}}if(F.S(gp.ry)){i.data={Y3:(l?"cut":"copy")+"ToLayer"}}if(F.S(gp.xl)){V.data={d:S.H.Ar,ip:"preferences"}}if(F.S(gp.JQ)){if(l){k.f=O.c9;
k.data={d:t.Ut}}else if(x=="down")V.data={d:S.H.Ar,ip:"newproject"}}if(F.S(gp.VQ)){if($)V.data={d:S.H.Ar,ip:"storwindow",tj:0};
else{V.data={d:S.H.aS};F.reset()}}if(F.S(gp.CV)){V.data={d:S.H.aAi};F.reset()}if(F.S(gp.Kz)){V.data={d:S.H.DD,jL:iC.PH}}if(F.S(gp.nV)&&x=="down"){if(l){if($)V.data={d:S.H.Ar,ip:"saveforweb"};
else V.data={d:S.H.u3}}else V.data={d:S.H.rN}}if(F.S(gp.jT)){if(l){k.f=O.c9;k.data={d:t.Fu};this.T(k);
k.f=O.d9;k.data={d:"again"}}else V.data={d:S.H.Ac,f:O.d9}}if(F.S(gp.l8)){V.data={d:S.H.cd}}if(F.S(gp.u8)){this._F.Jz()}if(F.S(gp.v0)&&W&&W.vP()){V.data={d:S.H.P5}}if(F.S(gp.E3)||F.S(gp.si)){k.f=O.c9;
k.data={d:t.gM,k1:0};if(F.S(gp.E3))k.data.k1=l?3:2;else k.data.k1=l?0:1}if(F.S(gp.CE)&&W){k.f=O.c9;k.data={d:t._k}}if(F.S(gp.hI)&&W){var R=0;
if(l)R++;if($)R+=2;k.f=O.Yg;k.data={d:"frompath",U0:[null,0,R]}}if(F.S(gp.X7)){i.data=O.f7.nd(0)}if(F.S(gp.fF)){var h=this.iV.length,B=F.S(gp.ca)?-1:1;
if(h>1)this._F.yu((this._F.NK()+h+B)%h)}if(F.S(gp.EK)){V.data={d:S.H.DD,jL:iC.Zq}}if(F.S(gp.BI)){V.data={d:S.H.DD,jL:iC.C1}}O.Ov.ast(F,k);
if(this.Fg.pJ()!=null&&this.Fg.pJ().ek()){}else{if(k.data)this.T(k);if(i.data)this.T(i);if(V.data)this.T(V)}}if(!L&&$){var e;
if(F.S(gp.E3))e="Bckw";if(F.S(gp.si))e="Frwr";if(F.S(gp.CE))e="Back";if(F.S(gp.X7))e="Frnt";if(e){var i=new gT(S.E.BD);
i.data={Y3:"select",Xe:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:e}}]},MkVs:{t:"bool",v:!1}}};
this.T(i)}}if(W&&W.g.length!=0){var U=W.B[W.g[0]],o=U.sj;if(o==1||o==3||L){var k=new gT(S.E.v),b=o==3?U.DU(W).F:U.GH();
if(b){var u=b.NZ?W.U.O.join("")=="111"?1:2:0;k.f=O._6;if(b&&F.S(gp.oX)&&u!=0){k.data={d:"mskView",b:0}}if(b&&F.S(gp.a3g)){k.data={d:"mskView",b:u==1?0:1}}if(b&&F.S(gp.awO)){k.data={d:"mskView",b:u==2?0:2}}if(k.data)this.T(k)}}}var Z=F.de();
if(W&&L&&2<=Z&&Z<=5){var I=[1,1,1];if(Z>2){I=[0,0,0];I[Z-3]=1}var y=new gT(S.E.v,!0);y.f=O.CD;y.data={d:"setcls",O:I};
this.T(y)}if(!F.S(gp.Fr)&&!$&&x=="down"){var k=new gT(S.E.v),V=new gT(S.E.M),D=this.s.map[this.ke.Dj],N=-1;
for(var w=0;w<this.s.keys.length;w++)if(this.s.keys[w]&&this.j$(this.s.keys[w]))N=w;if(N!=-1){var j=null;
if(D.YU!=N)j=this.s.Fx[N];if(D.YU==N&&l)j=(D.aoY+1)%this.s.Tv[N].length;if(j!=null){var H=this.s.Tv[N][j].f.id,Q=this.ke.OV;
if((Q==null||Q.indexOf(parseInt(H))!=-1)&&!this.ND.Pz)V.data={d:S.H.Ac,f:H}}}if(F.S(gp.R7))V.data={d:S.H.Ac,f:O.CD};
if(F.S(gp.Kz))V.data={d:S.H.Ac,f:O.ZD};if(F.S(gp.v0))V.data={d:S.H.DD,jL:iC.N1,k1:2};if(F.S(gp.ql))V.data={d:S.H.DD,jL:iC.N1,k1:3};
if(V.data)this.T(V);if(F.S(gp.acw)&&W&&W.g.length==1){var U=W.B[W.g[0]];k.f=O.c9;var C=U._3(0)||U._3(1)||U._3(2)||U._3(31);
k.data={d:t.ku,k9:C?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.T(k)}var Z=F.de();if(n&&Z!=-1&&this.j$(gp.TT[Z])){var J=W.g[0],U=W.B[J],E=gp.kn(Math.round(100*U.opacity/255),Z);
k.f=O.c9;k.data={d:t.W2,k9:Math.round(255*E/100)};this.T(k)}var T=this.ke.uu;if(F.S(gp.fF)){V.data={d:S.H.L2,b:T==0?1:0};
this.T(V)}if(F.S(gp.eM)||F.S(gp.oX)&&T==2){var c=document.fullscreenElement!=null==(T==2);V.data={d:S.H.L2,b:T==0?2:0,aN:c};
this.T(V)}if(F.S(gp.cG)&&!this.ND.Pz){k.f=O.Yg;k.data={d:"qmask"};this.T(k)}}if(!F.S(gp.Fr)&&!$&&l){var k=new gT(S.E.v),V=new gT(S.E.M);
if(F.S(gp.CE))V.data={d:S.H.Ar,ip:"shortcuts"};if(F.S(gp.BO))V.data={d:S.H.Ar,ip:"fill"};if(F.S(gp.a4n))V.data={d:S.H.Ar,ip:"sel_feather"};
if(n&&(F.S(gp.Yu)||F.S(gp.VB))){var J=W.g[0],U=W.B[J],a=a2.BL,K=a.length,Y=a.indexOf(U.q_);k.f=O.c9;
k.data={d:t.rX,k9:(Y+K+(F.S(gp.Yu)?1:-1))%K};this.T(k)}if(V.data)this.T(V)}var k=new gT(S.E.v),p=x=="down"&&(this.j$(gp.bl)||this.j$(gp.F_));
if((L||$)&&p){k=new gT(S.E.BD);k.data=O.P1.fg(L?"BckC":"FrgC");this.T(k)}else if(this.Fg.pJ()==null&&W&&p&&!this.ND.Pz){if(W.u!=null){k=new gT(S.E.BD);
k.data={Y3:"delete"}}else if(W.g.length!=0){var U=W.B[W.g[0]];if(U.sj==1)k.data={d:t.LO};else if(U.sj==3)k.data={d:t.nv};
else k.data={d:t.AL};k.f=O.c9}this.T(k)}if(this.Fg.pJ()!=null){if(F.S(gp.oX)){this.Fg.pJ().agx()}else{this.Fg.pJ().lH(W,this,this.ke,F)}}if(this.ke.Dj==null)return;
var D=this.Pa();if(this.Fg.pJ()==null||this.s.rM)D.lH(W,this,this.ke,F)};hr.prototype.j$=function(x){var F=this.Q8,W=this.s.map[this.ke.Dj].f,top=this.Fg.pJ(),n=this.eo();
return F.S(x)&&!W.Us(x,n)&&(top==null||!top.Us(x,n))};hr.prototype.TF=function(x){var F=this.ats,W=this.g4;
this.ke.uu=x;var n=v.Ww,L=this.Lp.n;if(n(L))this.n8.removeChild(L);var $=this.zB.n;if(n($))this.n8.removeChild($);
var l=this.pg.n;if(n(l))F.removeChild(l);var k=this._F.n;if(n(k))F.removeChild(k);var V=this.vH.n;if(n(V))F.removeChild(V);
if(x==0){this.n8.appendChild(L);this.n8.appendChild($);W.appendChild(F);F.appendChild(l);F.appendChild(k);
F.appendChild(V)}if(x==1){this.n8.appendChild(L);F.appendChild(k)}if(x==2){F.appendChild(k)}this._F.TF(x==2?1:0);
this.Q_()};hr.prototype.ar0=function(x){if(this.$Z())return 1;if(v.aep()==0){this.ke={};this.z4=function(F,W){return Math.sqrt(F*W)}}return-1};
hr.afG=function(){var x=aH==0?[[{f:new O.fI,lq:j5},{f:new O.SR,lq:hb}],[{f:new O.II,lq:ig,KI:0},{f:new O.nK,lq:bB,KI:0}],[{f:new O.gi,lq:b7,KI:0},{f:new O.GP,lq:bj,KI:0},{f:new O.BM,lq:aO,KI:0}],[{f:new O.uw,lq:dF,KI:0},{f:new O.kW,lq:ge,KI:0},{f:new O.DZ,lq:fy,KI:0}],[{f:new O.abU,lq:bi},{f:new O.aqh,lq:cd},{f:new O.jH,lq:dP,KI:0},{f:new O.Bu,lq:kg,KI:0}],[{f:new O.c2,lq:dG},{f:new O.nf,lq:ca,KI:0},{f:new O.Kg,lq:af}],[{f:new O.GY,lq:eM,KI:0},{f:new O.h9,lq:ho,KI:0},{f:new O.gi(!0),lq:aQ,KI:0},{f:new O.x_,lq:bq,KI:0},{f:new O.axQ,lq:i7,KI:0},{f:new O.cc,lq:fu,KI:0}],[{f:new O.WA,lq:bz,KI:0},{f:new O.CJ,lq:a4,KI:0},{f:new O.aj,lq:ir,KI:0}],[{f:new O.dJ,lq:j9,KI:0}],[{f:new O.b0,lq:gk,KI:0},{f:new O.pK,lq:i2,KI:0},{f:new O.Zm(!0),lq:gr,KI:0}],[{f:new O.zE,lq:aP,KI:0},{f:new O.Zm,lq:gr,KI:0}],[{f:new O.JN,lq:ee,KI:0},{f:new O.b$,lq:jE,KI:0},{f:new O.Yc,lq:iw,KI:0}],[{f:new O.Gv,lq:dV,KI:0},{f:new O.jQ,lq:cP,KI:0},{f:new O.qd,lq:ky,KI:0}],[{f:new O.a6,lq:j$},{f:new O.Yi,lq:j$}],[{f:new O.o5(0),lq:cA},{f:new O.Eg,lq:gS},{f:new O.o5(1),lq:cA},{f:new O.o5(2),lq:cA},{f:new O.o5(3),lq:cA},{f:new O.o5(4),lq:cA}],[{f:new O.dn,lq:jF},{f:new O.Ax,lq:hv}],[{f:new O.Rect,lq:jl},{f:new O.Dd,lq:il},{f:new O.iu,lq:ke},{f:new O.D4,lq:ed},{f:new O.Y1,lq:d$}],[{f:new O.ga,lq:hE},{f:new O.RW,lq:eT}],[{f:new O.Ov,lq:iv}]]:[[{f:new O.fI,lq:j5}],[{f:new O.Ax,lq:hv}],[{f:new O.o5(0),lq:cA}],[{f:new O.Eg,lq:gS}],[{f:new O.a6,lq:j$},{f:new O.Yi,lq:j$}],[{f:new O.iu,lq:ke}],[{f:new O.Rect,lq:jl},{f:new O.Dd,lq:il},{f:new O.D4,lq:ed},{f:new O.Y1,lq:d$}],[{f:new O.aB3,lq:hE}],[{f:new O.ga,lq:hE},{f:new O.RW,lq:eT}],[{f:new O.Ov,lq:iv}]],F=aH==0?[gp.l8,gp.ze,gp.$_,gp.u8,gp.PA,gp.HF,gp.ry,gp.IO,gp.nV,gp.E,gp.mw,null,gp.VQ,gp.jT,gp.CV,gp.H,gp.w_,gp.R7,gp.s8]:[gp.l8,gp.H,gp.CV,null,gp.jT,null,gp.ze,gp.R7,gp.s8],W={a2n:[{f:O._6,SE:!1,$H:[gp.awA,gp.QM]},{f:O.CD,SE:!1,$H:[gp.QM]},{f:O.cY,SE:!0,$H:[gp.Fr],MY:[O.qo]},{f:O.qo,SE:!0,$H:[gp.Fr],MY:[O.cY]},{f:O.cp,SE:!0,$H:[gp.Fr],MY:[O.iM,O.XA,O.lC]},{f:O.iM,SE:!0,$H:[gp.Fr],MY:[O.cp,O.gX,O.fK,O.Zy,O.di,O.S4]},{f:O.iY,SE:!0,$H:[gp.Fr]}],Tv:x,Fx:[],keys:F,$q:[{f:new O.ahv,lq:gj},{f:new O.a3d,lq:iT},{f:new O.anW,lq:eA},{f:new O.c2(!0),lq:dG},{f:new O.dC,lq:iX}],j7:[{f:new O.RC},{f:new O.History},{f:new O.qb},{f:new O.Ci},{f:new O.dl},{f:new O.vS}],map:{},MK:null,rM:null,r3:null},n=W.Tv,l="",k="";
for(var w=0;w<n.length;w++){var L=n[w];if(hQ=="---")continue;for(var $=0;$<L.length;$++)if(L[$].KI!=null&&L[$].KI!=aH){L.splice($,1);
$--}if(L.length==0){n.splice(w,1);W.keys.splice(w,1);w--}}for(var w=0;w<W.Tv.length;w++){var V=W.Tv[w];
if(V=="---")continue;var i=W.keys[w];for(var $=0;$<V.length;$++){W.map[V[$].f.id]=V[$];V[$].YU=w;V[$].aoY=$;
var f=hz.get(V[$].f.name);k+="<li>"+V[$].f.id+": "+f+"</li>";l+="\t"+JSON.stringify(V[$].f.name)+", "+(i?"\""+i.xd+"\"":"null")+", "+V[$].f.id+", // "+f+"\n"}W.Fx[w]=0}for(var w=0;
w<W.$q.length;w++)W.map[W.$q[w].f.id]=W.$q[w];for(var w=0;w<W.j7.length;w++)W.map[W.j7[w].f.id]=W.j7[w];
return W};function en(x){bS.call(this);if(x==null)return;this.Xv=null;this.eD=null;this.n=v.t("div","sbar"+" "+x);
this.Sh=new v.t("div","top");this.Sh.innerHTML="> <";this.n.appendChild(this.Sh);this.iG=1;this.Sh.addEventListener("click",this.aay.bind(this),!1)}en.prototype=new bS;
en.prototype.aay=function(x){if(this.Xv!=null&&this.Xv<500&&this.iG==0)return;if(this.iG==0)this.DM(!0);
else this.collapse(!0)};en.prototype.afU=function(x){this.iG=x;this.Sh.innerHTML=this.iG==0?"< >":"> <"};
en.prototype.asx=function(){var x=new gT(S.E.M,!0);x.data={d:S.H.Jm};this.T(x)};en.prototype.DM=function(x){this.afU(1);
if(x)this.asx()};en.prototype.collapse=function(x){this.afU(0);if(x)this.asx()};en.prototype.Sp=function(){return this.iG==1};
function hp(x,F){en.call(this,"vcolumn");this.Wt=x;this.a38=F;this.or();this.JZ=v.t("div");this.JZ.setAttribute("style","cursor:default;");
this.ae2=this.ais.bind(this);this.ai8=this.a0A.bind(this);this.a4s=this.a7n.bind(this);v.p6(this.n,this.ae2);
this.n.appendChild(this.JZ);this.c3=v.t("div");this.JZ.appendChild(this.c3);this.W4=-1;this.a8T=v.t("div","float");
var W=this.Ig=v.t("canvas","gsicon"),n=Math.round(12*v.e1());W.width=W.height=n;var L=W.getContext("2d");
L.moveTo(2,2);L.lineTo(n-2,n-2);L.moveTo(2,7);L.lineTo(n-7,n-2);L.stroke();this.Ig.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
v.OC(this.Ig);v.p6(this.Ig,this.ae2);v.lf(W);this.TX=[];this.K1=[];this.a5V=null;this.m_=null;this.a7b=0}hp.prototype=new en;
hp.prototype.ais=function(x){var F=x.target==this.Ig;if(!F){if(x.target!=this.n)return;if(!this.Sp())return}else{var W=this.TX[this.W4].JU;
W.style.pointerEvents="none";var n=W.getBoundingClientRect();this.a5V=[n.width,n.height];this.K1[this.W4]=[n.width,n.height]}x.stopPropagation();
this.m_=v.iF(x,document.body);this.a7b=this.Wt;v.FJ(document,this.ai8);v.UJ(document,this.a4s)};hp.prototype.a0A=function(x){var F=v.iF(x,document.body);
if(this.Sp()){this.Wt=this.a7b+this.m_.x-F.x;this.or()}else{var W=this.K1[this.W4],n=this.a5V;W[0]=n[0]+this.m_.x-F.x;
W[1]=n[1]+F.y-this.m_.y}var L=new gT(S.E.M,!0);L.data={d:S.H.Jm};this.T(L)};hp.prototype.a7n=function(x){if(!this.Sp()){var F=this.TX[this.W4].JU;
F.style.pointerEvents="auto"}v.ac(document,this.ai8);v.bg(document,this.a4s)};hp.prototype.a09=function(x){x.k("showFloat",this.a9F,this);
x.k("hideFloat",this.NI,this);this.TX.push(x);x.parent=this;this.JZ.appendChild(x.n)};hp.prototype.az5=function(w){var x=this.TX[w];
x.removeEventListener("showFloat",this.a9F,this);x.removeEventListener("hideFloat",this.NI,this);this.TX.splice(w,1);
x.parent=null;this.JZ.removeChild(x.n)};hp.prototype.ayx=function(){return this.TX.length};hp.prototype.wQ=function(){for(var w=0;
w<this.TX.length;w++)this.TX[w].wQ()};hp.prototype.a9F=function(x){this.wQ();var F=this.a8T;this.c3.appendChild(F);
this.W4=this.TX.indexOf(x.currentTarget);var W=this.TX[this.W4].JU;v.Ri(F);F.appendChild(W);F.appendChild(this.Ig);
this.z4(this.Xv,this.eD)};hp.prototype.NI=function(x){this.wQ();if(this.W4!=-1){this.c3.removeChild(this.a8T);
this.W4=-1}};hp.prototype.or=function(){function x(F){return Math.round(F*v.e1())/v.e1()}this.n.setAttribute("style","width: "+this.Wt+"px; border-left-width:"+x(4)+"px; cursor:ew-resize;")};
hp.prototype.DM=function(x){this.or();this.NI();for(var w=0;w<this.TX.length;w++)this.TX[w].DM();en.prototype.DM.call(this,x)};
hp.prototype.collapse=function(x){this.n.removeAttribute("style");for(var w=0;w<this.TX.length;w++)this.TX[w].collapse();
en.prototype.collapse.call(this,x)};hp.abb=11;hp.prototype.z4=function(x,F){this.Xv=x;this.eD=F;F-=hp.abb;
var W=this.TX.length;if(W==0)return;if(!this.Sp()){var n=F<400?F:400+(F-400)*.5;for(var w=0;w<W;w++){var L=this.TX[w],$=this.K1[w];
L.z4($?$[0]:this.Wt,$?$[1]:n)}}else{var l=F;for(var w=0;w<W;w++){var L=this.TX[w],k=L.aoe();if(w==W-1){k=l;
L.n.style.borderBottom="none"}L.z4(this.Wt,k);l-=k+4}}};function i3(x){bS.call(this);this.n=v.t("div");
this.JZ=null;this.cl=0;this.vu=0;this.agy=x;this.aa7=this.uT.bind(this);this.a2A=this.Fj.bind(this);
this.a3j=this.ji.bind(this);this.Ki=null;this.oZ=null;this.EW=null;v.p6(this.n,this.aa7);var F=this.n,n="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
F.addEventListener("touchmove",v.MP,!1);this.abu=!0;this.hD=[];var W=this.a5N=v.t("div");W.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.n.appendChild(W);var L=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",n+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",n+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",n+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var w=0;w<L.length;w++){var $=new cX(L[w]);this.hD.push($);$.n.setAttribute("style","margin-left:"+(w<7?4:0)+"px;cursor:pointer;");
$.k("click",this.sy,this)}}i3.prototype=new bS;i3.prototype._=function(){var x=this.a5N;v.Ri(x);for(var w=0;
w<this.hD.length;w++){var F=this.hD[w];if(w<5)F._();x.appendChild(F.n)}};i3.prototype.sy=function(x){var w=this.hD.indexOf(x.currentTarget);
if(w==0){if(window.showCap)window.showCap();return}var F=" issues learn blog api twitter facebook".split(" "),W=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),n=window.ga;
if(n)n("send","event","Links",F[w]);var L=new gT(S.E.M,!0);L.data={d:S.H.Ih,link:W[w]};this.T(L)};i3.prototype.uT=function(x){if(x.a5i){x.preventDefault();
x.stopPropagation()}var F=window;v.FJ(F,this.a2A);v.UJ(F,this.a3j);F=this.JZ;this.Ki=new eX(parseInt(F.style.left),parseInt(F.style.top));
this.oZ=v.iF(x,this.n);this.EW=F.getBoundingClientRect()};i3.prototype.Fj=function(x){var F=v.iF(x,this.n),W=this.Ki.x+F.x-this.oZ.x,n=this.Ki.y+F.y-this.oZ.y,L=this.cl-this.EW.width,$=this.vu-this.EW.height;
if(this.agy)this.JZ.style.left=Math.min(0,Math.max(L,W))+"px";else this.JZ.style.top=Math.min(0,Math.max($,n))+"px";
if(W-10>0){this.oZ.x=F.x-10;this.Ki.x=0}if(W+10<L){this.oZ.x=F.x+10;this.Ki.x=L}};i3.prototype.ji=function(x){var F=window;
v.ac(F,this.a2A);v.bg(F,this.a3j)};i3.prototype.ayf=function(x){if(this.JZ){this.n.removeChild(this.JZ)}this.JZ=x;
this.n.appendChild(x);x.style.position="absolute";if(this.agy)x.style.left=0;else x.style.top=0};i3.prototype.z4=function(x,F){this.cl=x;
this.vu=F;this.n.setAttribute("style","position:relative; width: "+x+"px; height: "+F+"px; overflow:hidden; white-space: nowrap; ");
var W=this.JZ.firstChild,n=this.a5N,L=W?W.firstChild.getBoundingClientRect().width+80:1e9,$=170,l=this.abu&&x>L+$;
n[c$.Se][c$.a33]=l?"":c$._s;var k=this.hD;for(var w=0;w<k.length;w++){var V=w>4||x-L>500?"":c$._s,i=k[w];
i.n.style.display=V}};i3.prototype.azd=function(){this.JZ.style.left="0";this.JZ.style.top="0"};function ip(){bS.call(this);
this.Mh=null;this.cw=ip.CV;this.a8v="";this.n=v.t("div","rightbar");this.ZS=[new hp(300),new hp(268,!0)];
this.TX=[new jz,new jz,new jz,new jz,new jz,new jz,new jz];this.a8u=[]}ip.prototype=new bS;ip.prototype._=function(){var x=this.cw;
for(var w=0;w<x.length;w++)x[w].f_._()};ip.CV=[{f_:new eq,bh:3},{f_:new bN,bh:1},{f_:new dE,bh:4},{f_:new bR,bh:2},{f_:new eQ(!0),bh:5},{f_:new dN,bh:0},{f_:new jI,bh:5},{f_:new iI,bh:3},{f_:new je,bh:0},{f_:new j3,bh:3},{f_:new h8,bh:2},{f_:new iY,bh:4},{f_:new fI,bh:3},{f_:new he,bh:5},{f_:new eQ(!1),bh:5},{f_:new j0,bh:2},{f_:new ju,bh:3},{f_:new gt,bh:1},{f_:new bE,bh:0},{f_:new fT,bh:5},{f_:new gu,bh:6,rm:!0},{f_:new dm,bh:6,rm:!0},{f_:new da,bh:6,rm:!0},{f_:new aj,bh:6,rm:!0}];
(function(){var x=[{id:bs.Kz.an7,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var w=0;w<x.length;w++)ip.CV.push({f_:new cy(x[w],100+w),bh:6,rm:!0})}());ip.prototype.a2Q=function(x){for(var w=0;
w<x.length;w++){var F=x[w],W=new cy(F,"plg_"+F.name);this.cw.push({f_:W,bh:6});this.a8u.push(W.c0)}this.tW()};
ip.prototype.AW=function(x,F){this.Mh=x;var W=this.cw;for(var w=0;w<W.length;w++)W[w].f_.AW(x,F);if(F==iC.nI||F==iC.tB)this.tW()};
ip.prototype.ZZ=function(x){var F=this.cw;for(var w=0;w<F.length;w++)F[w].f_.ZZ(x)};ip.prototype.z4=function(x,F){this.Xv=x;
this.eD=F;this.tW();this.ZS[0].z4(x,F);this.ZS[1].z4(x,F)};ip.prototype.tW=function(){var x=this.Mh,F=this.Xv,W=this.eD;
if(x==null||F==0)return;var n=x.ES.concat(this.a8u),L=F<500||F<700&&F<W,$=JSON.stringify(n)+","+L;if($!=this.a8v){this.a8v=$;
v.Ri(this.n);var l=[];for(var w=0;w<this.ZS.length;w++){var k=this.ZS[w];l[w]=k.Sp();while(k.ayx()!=0)k.az5(0);
k.DM()}var V=[];for(var w=0;w<this.TX.length;w++){var i=this.TX[w];i.DM();while(i.agE()!=0)i.dZ(0);V.push(0)}for(var w=0;
w<n.length;w++){var f=this.aeB(n[w].toString());if(f==null)continue;this.TX[f.bh].nO(f.f_);this.TX[f.bh].yu(0);
V[f.bh]++}var X=[];for(var w=0;w<V.length;w++){if(V[w]==0)continue;var s=w<3||L?1:0,k=this.ZS[s];k.parent=this;
k.a09(this.TX[w]);X[s]=!0}for(var w=0;w<this.ZS.length;w++)if(X[w])this.n.appendChild(this.ZS[w].n);
this.ZS[0].collapse();if(F<700||this.Mh.compact||!l[1]){this.ZS[1].collapse()}var R=new gT(S.E.M,!0);
R.data={d:S.H.Jm};this.T(R)}};ip.prototype.aeB=function(x){for(var w=0;w<this.cw.length;w++)if(this.cw[w].f_.c0==x)return this.cw[w]};
ip.prototype.acL=function(x){var F=this.aeB(x);this.TX[F.bh].nO(F.f_)};ip.prototype.Lv=function(x,F,W){var n=this.cw;
for(var w=0;w<n.length;w++)n[w].f_.Lv(x,F,W)};ip.prototype.pI=function(x,F,W,n,L){var $=this.cw;for(var w=0;
w<$.length;w++)$[w].f_.pI(x,F,W,n,L)};ip.prototype.Lx=function(x,F,W,n,L){var $=this.cw;for(var w=0;
w<$.length;w++)$[w].f_.Lx(x,F,W,n,L)};ip.prototype.t8=function(x,F,W,n,L){var $=this.cw;for(var w=0;
w<$.length;w++)$[w].f_.t8(x,F,W,n,L)};function cI(x,F){en.call(this,"toolbar");this.n.removeChild(this.Sh);
this.Px=v.t("div","tools");this.n.appendChild(this.Px);this.OV=null;this.Dj=null;this.alI=F;this.ZT=null;
this.bn=null;this.ahu=-1;this.adE={};this.a2F=x;this.s=null;this.aY=null;this.A0=null;this.BT=null;this.ux=new bh;
this.ux.n.style.marginTop="5px";this.ux.n.style.marginBottom="3px";this.ux.parent=this;this.wm=new cX(v.ol("lrs/mask"),!1,[6,6,1]);
this.wm.k("click",function($){var l=new gT(S.E.v,!0);l.f=O.Yg;l.data={d:"qmask"};this.T(l)},this);var W=new gM(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
W.k(S.E.A,this.auC,this);var n=v.t("span","rangecontFloat form padded");n.appendChild(W.n);n.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var L=this.n;this.aBd=[!1,!1,!1,!1];this.wz=new cX(v.ol("kb"),!1,"Virtual Keys");this.wz.k("click",function($){var l=this.wz.n.getBoundingClientRect();
n.style.top=l.top-110+"px";n.style.left=l.left+l.width+8+"px";if(v.Ww(n)){v.Wq({n:n},L)}else{L.appendChild(n);
v.Rn({n:n})}},this)}cI.prototype=new en;cI.prototype.auC=function(x){var F=x.target.h();this.wz.c(F[0]||F[1]||F[2]||F[3]);
var W=new gT(S.E.M,!0);for(var w=0;w<4;w++){if(F[w]!=this.aBd[w]){W.data={d:S.H.a6G,Pz:F[w],a0L:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][w]};
this.T(W)}}this.aBd=F.slice(0)};cI.prototype.a29=function(x,F){this.ZT=F;this.bn=x;if(x==null||x.g.length==0||x.B[x.g[0]]==null)return;
var W=x.wm()!=null,n=x.U.O,L=x.B[x.g[0]].sj,$=L==1||L==3||W||n[0]+n[1]+n[2]==1;this.ux.adq($);this.wm.c(W)};
cI.prototype.afa=function(x,F){var W=x.length,n=[];for(var w=0;w<W;w++)n[w]=x[w].slice(0);x=n;var L=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],$=Math.min(L.length/2,W-F);
for(var w=0;w<$;w++){var l=L[2*w],k=L[2*w+1];x[l]=x[l].concat(x[k]);x[k]=null}for(var w=0;w<x.length;
w++)if(x[w]==null){x.splice(w,1);w--}return x};cI.prototype.amZ=function(x,F){for(var w=0;w<F.length;
w++)for(var W=0;W<F[w].length;W++)if(F[w][W].f.id==x)return w};cI.prototype.a6u=function(x){var F=this.a2F;
this.aY=[];this.A0=[];this.BT=[];this.s=[];var W=F.Tv;if(x!=null&&this.alI)W=this.afa(W,x);var n=this.OV;
if(n){var L=[];for(var w=0;w<W.length;w++){var $=[];for(var l=0;l<W[w].length;l++){var k=W[w][l];if(n==null||n.indexOf(parseInt(k.f.id))!=-1)$.push(k)}if($.length>0)L.push($)}W=L}for(var w=0;
w<W.length;w++){var V=[],i=this.aY.length,f=null,X=-1;for(var l=0;l<W[w].length;l++){var k=W[w][l].f,s=this.amZ(k.id,F.Tv),R=F.keys[s];
if(R==gp.R7&&l==1)R=gp.Kz;this.s.push(k);var h=new ha(k.name,R,k.CZ,this.aY.length,w,W[w].length>1);
this.aY.push(h);var B=this.adE[k.id];if(B==null)B=0;if(B>X){X=B;f=h}h.k(S.E.A,this.xc,this);h.k("mover",this.Nu,this);
V.push({name:k.name,pa:k.CZ,$H:R?R.xd:""})}this.A0.push(f);this.BT.push(V.length==1?null:[V,i])}};cI.prototype.z4=function(x,F){var W=this.eD=F,n=32;
if(1<v.e1()&&v.e1()<1.5)n=18+14*(1/v.e1());var L=39+23,$=Math.floor((W-L)/n);if($!=this.ahu){this.ahu=$;
this.a6u($);this.QO()}var l=this.A0.length*n+L,k=Math.min(1,W/l);if(.75<=k){this.Px.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+k+","+k+");");
this.n.setAttribute("style","height:"+(F-2)+"px;")}else{W-=4;this.Px.setAttribute("style","height: "+W+"px;  width:"+Math.ceil(l/W)*34+"px");
this.n.setAttribute("style","")}};cI.prototype._=function(){if(this.s==null)return;for(var w=0;w<this.aY.length;
w++)this.aY[w]._()};cI.prototype.xc=function(x){var F=new gT(S.E.M,!0);F.data={d:S.H.Ac,f:this.s[x.id].id};
this.T(F)};cI.prototype.af4=function(x){var F=x.target.a9T+x.target.wK()[0];this.aY[F].ji(null,!0)};
cI.prototype.Nu=function(x){var F=this.ZT,W=new gT(S.E.M,!0);W.data={d:S.H.Ei};this.T(W);var n=x.target,L=this.BT[n.YU];
if(L==null)return;var $=new g$(L[0],null,!0);$.a9T=L[1];$.YU=n.YU;$.k("select",this.af4,this);$.parent=this;
$._();var l=n.n.getBoundingClientRect(),W=new gT(S.E.M,!0);W.data={d:S.H.OO,f_:$,x:l.left+l.width+8,y:l.top};
if(F==null||!(F.S(gp.QM)||F.S(gp.Fr)))this.T(W)};cI.prototype.QO=function(x){if(x==null)x=this.Dj;this.Dj=x;
if(this.s==null)return;this.adE[x]=Date.now();var F=-1;for(var w=0;w<this.s.length;w++)if(this.s[w].id==x)F=w;
for(var w=0;w<this.aY.length;w++){var W=this.aY[w];W.a2t(F==w)}if(F==-1)return;this.A0[this.aY[F].YU]=this.aY[F];
v.Ri(this.Px);var n=this.A0;for(var w=0;w<n.length;w++){this.Px.appendChild(n[w].n)}if(!this.alI)return;
this.Px.appendChild(this.ux.n);if(this.eD>640)this.Px.appendChild(this.wm.n);this.Px.appendChild(this.wz.n)};
cI.prototype.AW=function(x,F){if(F==iC.tB&&x.OV){this.OV=x.OV;this.a6u();this.QO()}this.ux.ail(x.A_,x.G8);
if(aH==1&&F==iC.aW){this.ux.a1W(x,this.bn)}};function ha(x,F,W,n,L,$){bS.call(this);this.ea=0;this.lA=this.aAQ.bind(this);
this.YU=L;this.ru=n;this.gC=x;this.Hn=F;this.aCK=$;this.CZ=W;this.n=v.t("button","");this.n.innerHTML=v.ol(this.CZ);
if(this.aCK){var l=v.t("img","gsicon");l.setAttribute("src",PIMG["tools/corner"]);l.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.n.appendChild(l)}this.n.addEventListener("touchstart",v.MP,!1);this._();v.p6(this.n,this.uT.bind(this));
v.UJ(this.n,this.ji.bind(this));this.n.addEventListener("contextmenu",this.lA,!1);this.n.addEventListener("contextmenu",ha.Wa,!1)}ha.prototype=new bS;
ha.Wa=function(x){x.stopPropagation();x.preventDefault();return!1};ha.prototype._=function(){var x=this.Hn?" ("+this.Hn.xd+")":"";
this.n.setAttribute("title",hz.get(this.gC)+x)};ha.prototype.uT=function(x){ha.YB=this.ru;this.ea=setTimeout(this.lA,160)};
ha.prototype.ji=function(x,F){if(F==null&&ha.YB!=this.ru)return;clearTimeout(this.ea);var W=new gT(S.E.A,!1);
W.target=this;W.id=this.ru;this.T(W)};ha.prototype.aAQ=function(x){var F=new gT("mover",!1);F.target=this;
F.id=this.ru;this.T(F)};ha.prototype.a2t=function(x){this.n.className=x?"toolbtn active":"toolbtn"};
function ij(){bS.call(this);this.n=v.t("div","topbar");this.wx=v.t("span","");this.a5c=0;this.n.appendChild(this.wx);
this.yo=null;this.Q9=null;this.ed=[];this.ES=[];var x=this.uT.bind(this);for(var w=0;w<ij.data.length;
w++){var F=v.t("button");this.ed.push(F);var W=ij.data[w];F.addEventListener("mouseover",x,!1);v.p6(F,x)}this.mB=new cX([0,13,0],!1,null,!0);
this.mB.k("click",this.Ss,this);this.n.appendChild(this.mB.n);this.e0=new cX(v.ol("tools/zoom",null,"autoscale"),!1,[12,86]);
this.e0.k("click",this.Ss,this);this.n.appendChild(this.e0.n);this.NP=new cX("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.NP.k("click",this.Ss,this);this.n.appendChild(this.NP.n)}ij.prototype=new bS;ij.prototype.abI=function(){if(this.ES.length!=0)return;
for(var w=0;w<ij.data.length;w++){var x=ij.data[w],F=new g$(x.items,x.pd);F.parent=this;this.ES.push(F)}this._()};
ij.prototype._=function(){this.mB._();this.e0._();this.NP._();for(var w=0;w<this.ed.length;w++)this.ed[w].textContent=hz.get(ij.data[w].name);
this.aeq();for(var w=0;w<this.ES.length;w++)this.ES[w]._()};ij.prototype.Ss=function(x){var F=new gT(S.E.M,!0);
if(x.target==this.mB)F.data={d:S.H.Ar,ip:"account"};else if(x.target==this.e0)F.data={d:S.H.th};else F.data={d:S.H.L2,aN:!0};
this.T(F)};ij.prototype.azS=function(x,F){this.yo=x;this.Q9=F};ij.prototype.AW=function(x,F){this.Q9=x;
if(F==iC.tB){var W=x.a4Q;v.Ri(this.wx);for(var w=0;w<this.ed.length;w++){var n=ij.data[w];if(W==null||W[w]==1||W[w]instanceof Array)if(n.KI==null||n.KI==aH)this.wx.appendChild(this.ed[w]);
if(W!=null&&W[w]instanceof Array){this.abI();this.ES[w].aCU(W[w])}}this.n.removeChild(this.mB.n);this.n.removeChild(this.e0.n);
this.n.removeChild(this.NP.n);if(x.Kx)this.n.appendChild(this.mB.n);this.n.appendChild(this.e0.n);this.n.appendChild(this.NP.n)}this.aeq()};
ij.prototype.aeq=function(x,F){var W=this.mB,n=12255232;if(ii.KP())n=ii.vR()?43520:16755200;W.n.setAttribute("style","color:#ffffff; background-color:#"+r.mZ(n))};
ij.prototype.uT=function(x){this.abI();var w=this.ed.indexOf(x.currentTarget),F=this.ES[w];if(x.type=="mouseover"&&!v.Ww(this.ES[this.a5c].n))return;
if(v.Ww(F.n))return;x.a5i=!0;this.a5c=w;for(var w=0;w<ij.data.length;w++)this.ES[w].update(this.yo,this.Q9);
var W=x.target.getBoundingClientRect(),n=new gT(S.E.M,!0);n.data={d:S.H.OO,f_:F,x:W.left,y:W.top+W.height+2,auI:!0};
this.T(n)};ij.alB=function(x){var F=gp,W=F.Fr,n=F.ca,L=F.d8,$=function(i){return{w:i!=null}},l=function(i){return{w:i!=null&&i.u!=null}},k={name:[0,5],KI:0,items:[{name:[7,0],w:$,$H:[W,F.H]},{name:[7,1],$H:[W,F.ql],w:l},{name:[7,2],$H:[n,W,F.HF],w:l,sz:!0},{name:"Remove BG",w:function(i){return{w:i!=null&&i.g.length!=0&&!i.B[i.g[0]].rect.ak()}}},{name:[7,8],w:$,PT:!0},{name:[7,13],PT:!0,w:function(i){return{w:i!=null&&i.g.length!=0&&!i.B[i.g[0]].rect.ak()}},sz:!0},{name:[7,11],PT:!0,w:function(i){return{w:i!=null&&i.g.length!=0&&!i.B[i.g[0]].rect.ak()}}},{name:[7,3],w:$,sz:!0,sub:[{name:[7,9],PT:!0,w:l},{name:[19,3,0],PT:!0,w:l},{name:[7,4],PT:!0,w:l},{name:[7,5],PT:!0,w:l},{name:[7,6],PT:!0,w:l,$H:"Shift+F6"}]},{name:"Grow",w:l},{name:"Similar",w:l,sz:!0},{name:[7,10],w:l,sz:!0},{name:[6,6,1],w:function(i){return{w:i!=null,BV:i!=null&&i.wm()!=null}},$H:[F.cG],sz:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],w:l}],pd:[{K:S.E.BD,C:O.FA.YT(!0)},{K:S.E.BD,C:O.FA.YT()},{K:S.E.BD,C:{Y3:"inverse"}},{K:S.E.v,f:O.Yg,C:{d:"bgrm",b:1}},{K:S.E.M,C:{d:S.H.Ar,ip:"crange"}},{K:S.E.M,C:{d:S.H.Ar,ip:"magiccut"}},{K:S.E.M,C:{d:S.H.Ar,ip:"redge"}},{sub:[{K:S.E.M,C:{d:S.H.Ar,ip:"sel_border"}},{K:S.E.M,C:{d:S.H.Ar,ip:"sel_smoothness"}},{K:S.E.M,C:{d:S.H.Ar,ip:"sel_expand"}},{K:S.E.M,C:{d:S.H.Ar,ip:"sel_contract"}},{K:S.E.M,C:{d:S.H.Ar,ip:"sel_feather"}}]},{K:S.E.BD,C:{Y3:"grow",Xe:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:S.E.BD,C:{Y3:"similar",Xe:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:S.E.M,C:{d:S.H.Ac,f:O.Uj}},{K:S.E.v,f:O.Yg,C:{d:"qmask"}},{K:S.E.M,C:{d:S.H.Ar,ip:"loadsel"}},{K:S.E.M,C:{d:S.H.Ar,ip:"savesel"}}]};
if(x){var V=k.items.length-1;k.items.splice(V-2,0,{name:[6,49],$H:[W,F.ry],sz:!0});k.pd.splice(V-2,0,{K:S.E.BD,C:{Y3:"copyToLayer"}});
k.items.splice(V-1,0,{name:[10,16],$H:[L,W,F.jT]});k.pd.splice(V-1,0,{K:S.E.M,C:{d:S.H.Ac,f:O.d9}})}return k};
ij.W6=function(x,F){if(x==null||x.g.length==0)return!1;var W=x.B[x.g[0]];return W.add.TySh!=null&&F.Dj==O.w1};
ij.aCi=function(){var x=gp,F=x.Fr,W=x.ca,n=x.d8,L=function($){return{w:$!=null}};return[[{name:[5,0],$H:[F,x.v0],w:function($,l){return{w:$!=null&&($.vP()||ij.W6($,l))}}},{name:[5,1],$H:[F,x.PA],w:L},{name:[5,2],$H:[F,x.l8],w:function($,l){return{w:ij.W6()||v.bT()||l.v2!=null||l.l$!=null||l.ayH!=null}}},{name:[2,2],w:function($,l){return{w:$!=null&&($.u!=null||ij.W6($,l))}},$H:"Delete",sz:!0}],[{K:S.E.M,C:{d:S.H.P5}},{K:S.E.M,C:{d:S.H.Ti}},{K:S.E.M,C:{d:S.H.cd}},{K:S.E.BD,C:{Y3:"delete"}}]]};
ij.data=function(){var x=gp,F=x.Fr,W=x.ca,n=x.d8,L=function(R){return{w:R!=null&&R.g.length!=0}},$=function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.SoLd!=null}},l=function(R){return{w:R!=null}},k=function(R){return{w:R!=null&&R.SP(!1)}},V=[],i=[],f="none maxx avrg medn minn rang stdv summ vari".split(" "),X=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var w=0;w<f.length;w++){V.push({name:X[w],w:function(R,h){if(R==null||R.g.length!=1)return{w:!1};
var B=R.B[R.g[0]].add.SoLd;if(B==null)return{w:!1};return{w:!0,BV:B.Impr.v.classID==this.acg}}.bind({acg:f[w]})});
i.push({K:S.E.v,f:O.c9,C:{d:t.co,k9:f[w]}})}var s=ij.aCi(!0);return[{name:[0,0],items:[{name:[5,3],$H:[n,F,x.JQ],title:[11,7],PT:!0},{name:[1,0],$H:[F,x.VQ],PT:!0},{name:[1,11],PT:!0,w:l},{name:["VAR0 VAR1",[1,0],[0,14]],sz:!0,sub:[{name:"Storage",PT:!0,$H:[n,F,x.VQ]},{name:[1,5],PT:!0},{name:[11,0],PT:!0},{name:["PSD VAR0",[25,0]],PT:!0}]},{name:[1,18],sz:!0,w:l,sub:[{name:"PNG",$H:"Imgur.com",w:function(R,h){return{w:R!=null&&h.Gc}}},{name:"JPG",$H:"Imgur.com",w:function(R,h){return{w:R!=null&&h.Gc}}},{name:"PSD",$H:"Photopea.com",w:function(R,h){return{w:R!=null&&h.Gc&&!R.q0}}}]},{name:"Save ...",$H:[F,x.nV],w:function(R,h){var B=hz.get([1,2]),e=!0;
if(R){if(R.fN)B+=" ("+hz.get([6,7,1])+")";if(R.pb)B+=" (Google Drive)";if(R.G4)B+=" ("+Storage.list[R.G4[0]][0]+")";
e="psd jpg png gif webp svg bmp".split(" ").indexOf(R.Hk)!=-1}return{w:R!=null&&(R.G4!=null||R.rO!=null&&e||R.fN!=null||R.xE!=null&&R.xE.sO!=null||R.pb!=null||h.pO.save!=null),ye:B}}},{name:aH==0?[1,3]:"Save as AI",w:function(R,h){return{w:R!=null&&h.Gc}}},{name:["VAR0 VAR1",[1,2],[0,14]],w:l,sub:[{name:(aH==0?"PSD":"AI")+" to Storage",w:function(R,h){return{w:R!=null&&h.Gc}}},{name:["VAR0 PSD/PSB",[1,2]],PT:!0,w:function(R,h){return{w:R!=null&&h.Gc}}}]},{name:[1,8],w:l,sub:function(){var R=jW.cs(0),h=[];
for(var w=0;w<R.length;w++)h.push({name:R[w],$H:"."+R[w].toLowerCase()});h.push({name:[0,14],sub:function(){var R=jW.cs(1),h=[];
for(var w=0;w<R.length;w++)h.push({name:R[w],$H:"."+R[w].toLowerCase()});return h}()});return h}()},{name:[1,4],PT:!0,w:l,sz:!0},{name:[1,9],PT:!0,w:l},{name:"Export Color Lookup",PT:!0,w:l,sz:!0},{name:[1,14],PT:!0,w:l,sz:!0},{name:[1,17],sub:[{name:"Batch",PT:!0},{name:"PDF Presentation",PT:!0},{name:"Convert Formats",PT:!0},{name:"Generate Mockups",PT:!0,w:l}]},{name:[1,10],PT:!0}],pd:[{K:S.E.M,C:{d:S.H.Ar,ip:"newproject"}},{K:S.E.M,C:{d:S.H.aS}},{K:S.E.M,C:{d:S.H.aS,afD:!0}},{sub:[{K:S.E.M,C:{d:S.H.Ar,ip:"storwindow",tj:0}},{K:S.E.M,C:{d:S.H.Ar,ip:"open_from_url"}},{K:S.E.M,C:{d:S.H.Ar,ip:"camera"}},{K:S.E.M,C:{d:S.H.Ar,ip:"res0"}}]},{sub:[{K:S.E.M,C:{d:S.H.Li,BW:"png"}},{K:S.E.M,C:{d:S.H.Li,BW:"jpg"}},{K:S.E.M,C:{d:S.H.Li,BW:"psd"}}]},{K:S.E.M,C:{d:S.H.rN}},{K:S.E.M,C:{d:S.H.u3}},{sub:[{K:S.E.M,C:{d:S.H.Ar,ip:"storwindow",tj:1}},{K:S.E.M,C:{d:S.H.Ar,ip:"savepsb"}}]},{sub:function(){var R=jW.cs(0),h=[];
for(var w=0;w<R.length;w++)h.push({K:S.E.M,C:{d:S.H.Ar,ip:"saveforweb",BW:w}});h.push({sub:function(){var B=jW.cs(0).length,R=jW.cs(1),h=[];
for(var w=0;w<R.length;w++)h.push({K:S.E.M,C:{d:S.H.Ar,ip:"saveforweb",BW:B+w}});return h}()});return h}()},{K:S.E.M,C:{d:S.H.Ar,ip:"saveforweb",BW:5,asf:!0}},{K:S.E.M,C:{d:S.H.Ar,ip:"eassets"}},{K:S.E.M,C:{d:S.H.Ar,ip:"exlut"}},{K:S.E.M,C:{d:S.H.Ar,ip:"finfo"}},{sub:[{K:S.E.M,C:{d:S.H.Ar,ip:"batch"}},{K:S.E.M,C:{d:S.H.Ar,ip:"pdfpres"}},{K:S.E.M,C:{d:S.H.Ar,ip:"cformat"}},{K:S.E.M,C:{d:S.H.Ar,ip:"mockups"}}]},{K:S.E.M,C:{d:S.H.Ar,ip:"script"}}]},{name:[0,1],items:[{name:[2,8],w:l},{name:[2,0],w:l,$H:[W,F,x.s8]},{name:[2,1],w:l,$H:[F,x.s8],sz:!0},{name:[2,11],$H:[W,F,x.eM],sz:!0,PT:!0,w:function(R,h){return{w:aI.ads(R)&&h.Dj!=O.d9}}},s[0][0],s[0][1],{name:[5,7],$H:[W,F,x.PA],w:function(R){return{w:R!=null&&R.vP()}}},s[0][2],s[0][3],{name:[2,3],w:k,PT:!0,$H:[W,x.BO]},{name:[14,9],w:k,PT:!0,sz:!0},{name:[10,48],w:k},{name:[10,46],w:function(R){return{w:O.dC.Rt(R)}}},{name:[10,16],w:l,$H:[n,F,x.jT]},{name:[2,4],w:l,sub:dQ.atw()},{name:[2,10,1],w:l},{name:[2,10,0],w:l,sz:!0},{name:[12,87],w:l,sub:[{name:[12,62],w:l},{name:[9,3],w:l},{name:[10,31],w:function(R){return{w:R!=null&&R.x8()[1].length!=0}}}]},{name:[1,15],PT:!0},{name:[12,79],PT:!0,$H:[F,x.xl]},{name:[1,13],PT:!0}],pd:[{K:S.E.v,f:O.o7,C:{d:"h_undoredo"}},{K:S.E.v,f:O.o7,C:{d:"h_stepfwd"}},{K:S.E.v,f:O.o7,C:{d:"h_stepbck"}},{K:S.E.M,C:{d:S.H.Ar,ip:"afw_fade"}},s[1][0],s[1][1],{K:S.E.M,C:{d:S.H.Ti,va:!0}},s[1][2],s[1][3],{K:S.E.M,C:{d:S.H.Ar,ip:"fill"}},{K:S.E.M,C:{d:S.H.Ar,ip:"stroke"}},{K:S.E.M,C:{d:S.H.Ac,f:O.h2}},{K:S.E.v,f:O.T2,C:{d:"start",Rc:"rigidTransform"}},{K:S.E.M,C:{d:S.H.Ac,f:O.d9}},{sub:dQ.acT()},{K:S.E.BD,C:{Y3:"align",Xe:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:S.E.v,f:O.c9,C:{d:t.Dg}},{sub:[{K:S.E.M,C:{d:S.H.iI,jL:0}},{K:S.E.M,C:{d:S.H.iI,jL:1}},{K:S.E.M,C:{d:S.H.iI,jL:2}}]},{K:S.E.M,C:{d:S.H.Ar,ip:"pmanager"}},{K:S.E.M,C:{d:S.H.Ar,ip:"preferences"}},{K:S.E.M,C:{d:S.H.Ar,ip:"locstor"}}]},{name:[0,2],items:[{name:[12,36],w:l,sz:!0,sub:[{name:"RGB",w:function(R){if(R==null)return{w:!1};
return{BV:R.add.fcmy==null,w:!0}}},{name:"CMYK",w:function(R){if(R==null)return{w:!1};return{BV:R.add.fcmy!=null,w:!0}}}]},{name:[3],w:l,sz:!0,sub:function(){var R=[];
for(var h in a3.names){R.push({name:a3.names[h],PT:bn[h]!=null,$H:a3.keys[h],sz:a3.avN.indexOf(h)!=-1});
if(h=="selc"){R.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],PT:!0,sz:!0});R.push({name:[19,7,0],$H:[F,W,x.w_],w:k});
R.push({name:[4,18],PT:!0,w:k})}}return R}()},{name:[4,16,0],w:k},{name:[4,16,1],w:k},{name:[4,16,2],w:k,sz:!0},{name:[11,11,1],w:k,PT:!0},{name:[11,11,0],w:k,PT:!0,sz:!0},{name:[11,3],w:l,PT:!0,$H:[n,F,x.PA]},{name:[11,10],w:l,PT:!0,$H:[n,F,x.HF]},{name:[2,4],w:l,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],w:function(R){return{w:R!=null&&R.u!=null}}},{name:[11,12,0],w:l,$H:[F,x.X7],PT:!0},{name:[11,12,2],w:l,sz:!0},{name:[12,53],w:l},{name:[2,12],w:k,PT:!0,sz:!0},{name:[2,14],w:l,PT:!0}],pd:[{sub:[{K:S.E.v,f:O.iY,C:{d:"fcmy",b:0}},{K:S.E.v,f:O.iY,C:{d:"fcmy",b:1}}]},{sub:function(){var R=[];
for(var h in a3.names){R.push({K:S.E.v,f:O.t7,C:{d:"start",sv:h}});if(h=="selc"){R.push({K:S.E.v,f:O.T2,C:{d:"start",Rc:"adaptCorrect"}});
R.push({K:S.E.BD,C:{Y3:"desaturate"}});R.push({K:S.E.v,f:O.t7,C:{d:"start",sv:"matc"}})}}return R}()},{K:S.E.BD,C:{Y3:"levels",Xe:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:S.E.BD,C:{Y3:"levels",Xe:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:S.E.BD,C:{Y3:"levels",Xe:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:S.E.M,C:{d:S.H.Ar,ip:"rcolors"}},{K:S.E.M,C:{d:S.H.Ar,ip:"vbitmap"}},{K:S.E.M,C:{d:S.H.Ar,ip:"csize"}},{K:S.E.M,C:{d:S.H.Ar,ip:"isize"}},{sub:[{K:S.E.BD,C:O.Y.GV(!0,90)},{K:S.E.BD,C:O.Y.GV(!0,-90)},{K:S.E.BD,C:O.Y.GV(!0,-180)},{K:S.E.BD,C:O.Y.GV(!1,"Hrzn")},{K:S.E.BD,C:O.Y.GV(!1,"Vrtc")}]},{K:S.E.BD,C:{Y3:"crop",Xe:{__name:"Crop",classID:"Crop"}}},{K:S.E.M,C:{d:S.H.Ar,ip:"trim"}},{K:S.E.BD,C:{Y3:"revealAll",Xe:{classID:"RvlA"}}},{K:S.E.BD,C:{Y3:"duplicate",Xe:{classID:"Dplc",null:ga.oY("Dcmn",!0)}}},{K:S.E.v,f:O.t7,C:{d:"start",sv:"aply"}},{K:S.E.M,C:{d:S.H.Ar,ip:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],w:l,sub:[{name:[0,3],$H:[W,F,x.JQ]},{name:[0,4]},{name:[1,16,0],PT:!0},{name:[1,16,3],PT:!0,sz:!0},{name:[6,49,0],$H:[F,x.ry]},{name:[6,49,1],$H:[W,F,x.ry],w:function(R){return{w:R!=null&&R.u!=null&&R.SP(!1)}}}]},{name:[6,0],w:L,$H:[F,x.ry]},{name:[11,4],w:L},{name:[5,4],w:L,sz:!0},{name:[11,6],w:L,sz:!0,sub:ds.Jw(!0)},{name:[6,48,1],w:l,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],w:l,sz:!0,sub:ds.akj()},{name:[6,2],w:l,sub:[{name:[6,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].GH()==null}}},{name:[6,5,0],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].GH()==null}}},{name:[6,5,1],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].GH()==null&&R.u!=null}}},{name:[6,5,2],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].GH()==null&&R.u!=null}}},{name:[6,5,3],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].GH()==null}},sz:!0},{name:[5,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].GH()!=null}}},{name:[5,8],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].GH()!=null&&R.SP(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].GH()!=null}}}]},{name:[6,3],w:l,sub:[{name:[6,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk==null}}},{name:[6,5,0],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk==null}}},{name:[12,76,7],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk==null}},sz:!0},{name:[5,4],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(R){return{w:R!=null&&R.g.length!=0&&R.B[R.g[0]].add.vmsk!=null}}}]},h8.aiT(!0),{name:[6,7,1],w:l,sz:!0,sub:[{name:[6,7,0],sz:!0},{name:"Open (Edit Contents)",w:$,PT:!0},{name:"Replace Contents",w:$,PT:!0},{name:"Export Contents",w:$,PT:!0,sz:!0},{name:[6,36,4],w:$,sub:V},{name:"Turn into JPG",w:$}]},{name:[6,8],w:h8.aqH},{name:[6,34],sz:!0,w:function(R){if(R==null||R.g.length==0)return{w:!1};
var h=R.B[R.g[0]];return{w:h.add.lmfx!=null&&!h.vN()}}},{name:[6,9],w:l,sz:!0,$H:[F,x.mw]},{name:[6,55],w:l,sub:[{name:[6,56,0],$H:[W,F,x.si]},{name:[6,56,1],$H:[F,x.si]},{name:[6,56,2],$H:[F,x.E3]},{name:[6,56,3],$H:[W,F,x.E3]}]},{name:"Combine Shapes",w:l,sz:!0,sub:[{name:[18,1],pa:"set/union"},{name:[18,2],pa:"set/difference"},{name:[18,3],pa:"set/intersection"},{name:[18,4],pa:"set/xor"}]},{name:[6,58],w:l,sz:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],$H:[F,x.E],w:function(R){var h=R==null?0:R.g.length;
return{w:h!=0&&(h!=1||R.g[0]!=0),ye:hz.get(h>1||h==1&&R.B[R.g[0]].vN()?[6,12,0]:[6,10])}}},{name:[6,12,1],w:l},{name:[2,13],w:l}],pd:[{sub:[{K:S.E.v,f:O.c9,C:{d:t.Ut}},{K:S.E.v,f:O.c9,C:{d:t.Hg}},{K:S.E.M,C:{d:S.H.Ar,ip:"newartb",tj:0}},{K:S.E.M,C:{d:S.H.Ar,ip:"newartb",tj:1}},{K:S.E.BD,C:{Y3:"copyToLayer"}},{K:S.E.BD,C:{Y3:"cutToLayer"}}]},{K:S.E.v,f:O.c9,C:{d:t.Fu}},{K:S.E.M,C:{d:S.H.Ar,ip:"duplinto"}},{K:S.E.v,f:O.c9,C:{d:t.AL}},{sub:ds.zc(!0)},{sub:[{K:S.E.v,f:O.gX,C:{d:"newfill",d$:0}},{K:S.E.BD,C:O.bw.fg(1)},{K:S.E.BD,C:O.bw.fg(2)}]},{sub:ds.yn()},{sub:[{K:S.E.v,f:O.c9,C:{d:t.Tc,tj:"RvlA"}},{K:S.E.v,f:O.c9,C:{d:t.Tc,tj:"HdAl"}},{K:S.E.v,f:O.c9,C:{d:t.Tc,tj:"RvlS"}},{K:S.E.v,f:O.c9,C:{d:t.Tc,tj:"HdSl"}},{K:S.E.v,f:O.c9,C:{d:t.Tc,tj:"Trns"}},{K:S.E.v,f:O.c9,C:{d:t.LO}},{K:S.E.v,f:O.c9,C:{d:t.dN}},{K:S.E.v,f:O.c9,C:{d:t.Xt}}]},{sub:[{K:S.E.v,f:O.c9,C:{d:t.aH,ay5:!1}},{K:S.E.v,f:O.c9,C:{d:t.aH,ay5:!0}},{K:S.E.v,f:O.c9,C:{d:t.aH,atN:!0}},{K:S.E.v,f:O.c9,C:{d:t.s0}},{K:S.E.v,f:O.c9,C:{d:t.ha}}]},{K:S.E.v,f:O.c9,C:{d:t.rF}},{sub:[{K:S.E.BD,C:{Y3:"newPlacedLayer"}},{K:S.E.BD,C:{Y3:"placedLayerEditContents",Xe:{classID:"placedLayerEditContents"}}},{K:S.E.BD,C:{Y3:"placedLayerReplaceContents",Xe:{classID:"placedLayerReplaceContents"}}},{K:S.E.BD,C:{Y3:"placedLayerExportContents",Xe:{classID:"placedLayerExportContents"}}},{sub:i},{K:S.E.v,f:O.c9,C:{d:t.a63}}]},{K:S.E.BD,C:{Y3:"rasterizeLayer",Xe:{classID:"rasterizeLayer",null:ga.oY("Lyr",!0)}}},{K:S.E.v,f:O.c9,C:{d:t.J2}},{K:S.E.v,f:O.c9,C:{d:t.YV}},{sub:[{K:S.E.v,f:O.c9,C:{d:t.gM,k1:0}},{K:S.E.v,f:O.c9,C:{d:t.gM,k1:1}},{K:S.E.v,f:O.c9,C:{d:t.gM,k1:2}},{K:S.E.v,f:O.c9,C:{d:t.gM,k1:3}}]},{sub:[{K:S.E.v,f:O.c9,C:{d:t.df,KF:0}},{K:S.E.v,f:O.c9,C:{d:t.df,KF:1}},{K:S.E.v,f:O.c9,C:{d:t.df,KF:2}},{K:S.E.v,f:O.c9,C:{d:t.df,KF:3}}]},{sub:[{K:S.E.v,f:O.c9,C:{d:t.KE,k1:"makeframes"}},{K:S.E.v,f:O.c9,C:{d:t.KE,k1:"unmakeframes"}},{K:S.E.v,f:O.c9,C:{d:t.KE,k1:"merge"}}]},{K:S.E.BD,C:{Y3:"mergeLayersNew",Xe:{__name:"Merge Layers",classID:"Mrg2"}}},{K:S.E.BD,C:{Y3:"flattenImage"}},{K:S.E.v,f:O.T2,C:{d:"start",Rc:"defr"}}]},ij.alB(!1),function(){var R={name:[0,6],KI:0,items:[{name:[24,18,4],$H:[n,F,x.eM],w:l,sz:!0}],pd:[{K:S.E.v,f:O.T2,C:{d:"applylast"}}]};
for(var w=0;w<ew.nz.length;w++){var h=ew.nz[w];if(h.oa!=null){var B={name:ew.names[h.oa],PT:!0,sz:h.sz,w:l};
if(h.oa=="VaPo")B.w=k;R.items.push(B);R.pd.push({K:S.E.v,f:O.T2,C:{d:"start",Rc:h.oa}});continue}var e={name:h.v6,sub:[],w:l};
R.items.push(e);var U={sub:[]};R.pd.push(U);for(var o=0;o<h.bK.length;o++){var b={name:ew.names[h.bK[o]],PT:ew.Iz(h.bK[o])!=null};
e.sub.push(b);var u={K:S.E.v,f:O.T2,C:{d:"start",Rc:h.bK[o]}};U.sub.push(u)}}return R}(),{name:[0,7],items:[{name:[8,0],w:l,$H:[F,x.Yu]},{name:[8,1],w:l,$H:[F,x.VB]},{name:[20,3],w:l,$H:[F,x.t5]},{name:[20,2],w:l,$H:[F,x.K9]},{name:[8,14],w:function(R,h){return{w:R!=null,BV:R!=null&&R.da}},sz:!0},{name:[12,36],sz:!0,sub:[{name:"Fullscreen",w:function(R,h){return{BV:document.fullscreenElement!=null}},sz:!0},{name:"Standard",w:function(R,h){return{BV:h.uu==0}}},{name:"Menu Bar and Canvas",w:function(R,h){return{BV:h.uu==1}}}]},{name:[8,13],$H:[F,x.R7],w:function(R,h){return{BV:h.AU}}},{name:[8,12],sz:!0,sub:[{name:[17,2],w:function(R,h){return{w:h.AU,BV:h._X.H9}}},{name:[8,9],w:function(R,h){return{w:h.AU,BV:h._X.V2}}},{name:[8,2],w:function(R,h){return{w:h.AU,BV:h._X.Ul}},$H:[F,x.EK]},{name:[8,4],w:function(R,h){return{w:h.AU,BV:h._X.xg}},$H:[F,x.BI]},{name:[8,8],w:function(R,h){return{w:h.AU,BV:h._X.wa}}},{name:[8,11,0],w:function(R,h){return{w:h.AU,BV:h._X.EC}}}]},{name:[8,3],w:function(R,h){return{BV:h.TG}},$H:[F,x.Kz],sz:!0},{name:[8,5],w:function(R,h){return{BV:h.ya}}},{name:[8,6],sz:!0,sub:[{name:[8,2],w:function(R,h){return{BV:h.my[0]}}},{name:[8,4],w:function(R,h){return{BV:h.my[1]}}},{name:[9,1],w:function(R,h){return{BV:h.my[2]}}},{name:[8,11,0],w:function(R,h){return{BV:h.my[3]}}},{name:[8,7,0],w:function(R,h){return{BV:h.my[4]}}}]},{name:[11,15,2],w:function(R,h){return{w:R!=null,BV:R!=null&&R.Rz}}},{name:[11,15,0],w:l},{name:[11,14],w:l,PT:!0},{name:[11,15,1],w:function(R,h){return{w:R!=null&&R.g.length!=0}},sz:!0},{name:[8,11,2],w:function(R,h){return{w:R!=null&&R.EC.length!=0}}}],pd:[{K:S.E.v,f:O._6,C:{d:"zoom",sm:!0}},{K:S.E.v,f:O._6,C:{d:"zoom",sm:!1}},{K:S.E.v,f:O._6,C:{d:"adapt",b:"fitscr"}},{K:S.E.v,f:O._6,C:{d:"adapt",b:"pixel"}},{K:S.E.v,f:O.iY,C:{d:"pview"}},{sub:[{K:S.E.M,C:{d:S.H.L2,aN:!0}},{K:S.E.M,C:{d:S.H.L2,b:0}},{K:S.E.M,C:{d:S.H.L2,b:1}},{K:S.E.M,C:{d:S.H.L2,b:2}}]},{K:S.E.M,C:{d:S.H.DD,jL:iC.Yr}},{sub:[{K:S.E.M,C:{d:S.H.DD,jL:iC.oo}},{K:S.E.M,C:{d:S.H.DD,jL:iC.Lc}},{K:S.E.M,C:{d:S.H.DD,jL:iC.Zq}},{K:S.E.M,C:{d:S.H.DD,jL:iC.C1}},{K:S.E.M,C:{d:S.H.DD,jL:iC.IB}},{K:S.E.M,C:{d:S.H.DD,jL:iC.Eu}}]},{K:S.E.M,C:{d:S.H.DD,jL:iC.PH}},{K:S.E.M,C:{d:S.H.DD,jL:iC.a0w}},{sub:[{K:S.E.M,C:{d:S.H.DD,jL:iC.JS,Zw:0}},{K:S.E.M,C:{d:S.H.DD,jL:iC.JS,Zw:1}},{K:S.E.M,C:{d:S.H.DD,jL:iC.JS,Zw:2}},{K:S.E.M,C:{d:S.H.DD,jL:iC.JS,Zw:3}},{K:S.E.M,C:{d:S.H.DD,jL:iC.JS,Zw:4}}]},{K:S.E.v,f:O.iY,C:{d:"lockguides"}},{K:S.E.v,f:O.iY,C:{d:"gids",Lb:[[],[]]}},{K:S.E.M,C:{d:S.H.Ar,ip:"addguides"}},{K:S.E.v,f:O.iY,C:{d:"gidsFromLayer"}},{K:S.E.v,f:O.cY,C:{d:"deleteAll"}}]},function(){var R={name:[0,8],items:[{name:[0,14],sz:!0,sub:[]},{name:"Plugins",sz:!0}],pd:[{sub:[]},{K:S.E.M,C:{d:S.H.Ar,ip:"res1"}}]};
for(var w=0;w<ip.CV.length;w++){var h=ip.CV[w],B=function(){var e=h.f_.c0;return function(U,o){return{BV:o.ES.indexOf(parseInt(e))!=-1}}}();
(h.rm?R.items[0].sub:R.items).push({name:h.f_.name,w:B});(h.rm?R.pd[0].sub:R.pd).push({K:S.E.M,C:{d:S.H.Tl,ip:h.f_.c0}})}return R}(),function(){var R={name:[0,14],items:[],pd:[]},h={name:[0,9],sub:[]};
R.items.push(h);var B={sub:[]};R.pd.push(B);var e=hz.aCV();for(var w=0;w<e.length;w++){var U=e[w],o=U.code,b=hz.ant(o);
h.sub.push({name:U.name,$H:o,w:function(u,Z){return{BV:this.$H==hz.P_()}}});B.sub.push({K:S.E.M,C:{d:S.H.DD,jL:iC.N3,lang:b}})}h.sub.push({name:[0,12]});
B.sub.push({K:S.E.M,C:{d:S.H.Ih,link:"https://www.photopea.com/translate/"}});var h={name:[0,15],sub:[]};
R.items.push(h);var B={sub:[]};R.pd.push(B);for(var w=0;w<eI.m2.length;w++){h.sub.push({name:eI.m2[w].name,w:function(u,Z){return{BV:this.name==eI.m2[Z.wd].name}}});
B.sub.push({K:S.E.M,C:{d:S.H.DD,jL:iC.lB,wd:w}})}R.items.push({name:[0,17,6],w:function(u,Z){return{w:Z.MS!=null}}});
R.pd.push({K:S.E.M,C:{d:S.H.X4}});R.items.push({name:[11,13]});R.pd.push({K:S.E.M,C:{d:S.H.Ar,ip:"shortcuts"}});
R.items.push({name:[0,16],w:function(u){return{BV:hl.Cp,w:hl.GQ}},sz:!0});R.pd.push({K:S.E.M,C:{d:S.H.a89}});
R.items.push({name:"",w:function(u,Z){return Z.Kx?{ye:"About Photopea",w:!0}:{ye:"",w:!1}}});R.pd.push({K:S.E.M,C:{d:S.H.Ar,ip:"aboutpp"}});
return R}()]}();function hP(){bS.call(this);this.n=v.t("div","");this.cl=0;this.vu=0;this.Mh=null;this.bh=v.t("div","");
this.bh.setAttribute("style","width:200em; height:100em; position:absolute;");this.mN=[];this.sq=[];
this.ON={}}hP.prototype=new bS;hP.prototype.HE=function(x){var F=Date.now(),W=[];if(x=="-"){W=[new ja,new fE,new hG("pdfpres"),new hG("cformat"),new hG("batch"),new hG("mockups"),new gD,new fl,new aK,new e9,new cO,new ae,new iG,new b$,new dB,new aq,new dM,new a9,new bp,new ds,new kz("isize"),new kz("csize"),new c1,new gy,new cq,new et,new hI,new dh,new fb,new br,new jC(!1),new jC(!0),new ar(0),new ar(1),new c8,new hU,new dW,new jG,new aF,new b1,new kq(0),new kq(1),new kq(2),new kq(3),new kq(4),new kq(5),new kq(6),new kq(7),new kq(8),new dI,new dX,new i1,new cj,new bG,new eG,new jJ,new i5,new d7(0),new d7(1),new as("border",[7,9],"px"),new as("smoothness",[19,3,0],"px"),new as("expand",[7,4],"px"),new as("contract",[7,5],"px"),new as("feather",[7,6],"px"),new hW(0,"namewindow",[12,48]),new hW(2,"billto","Bill To"),new hW(1,"cornerradius",[12,94,0],"px",!0,!0),new hW(1,"scaleeffects",[6,30,1],"%",!0),new hW(1,"doczoom","Zoom","%",!0),new hW(1,"setFPS","Set FPS","fps,120",!1),new hW(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(aH==0){W.push(new b6)}}else W=[new aI(x.slice(4))];this.a5D(W);this.ON[x]=!0};hP.prototype.a5D=function(x){var F=this.Mh;
for(var w=0;w<x.length;w++){var W=x[w];W.parent=this;this.sq.push(W);this.VP(W);W._();if(F)W.AW(F,iC.tB);
W.k(S.E.Jo,this.tK,this);v.Wq(W)}};hP.prototype.z4=function(x,F){this.cl=x;this.vu=F;for(var w=0;w<this.sq.length;
w++)this.VP(this.sq[w])};hP.prototype._=function(){for(var w=0;w<this.sq.length;w++)this.sq[w]._()};
hP.prototype.pJ=function(){return this.mN.length==0?null:this.mN[this.mN.length-1]};hP.prototype.ek=function(){for(var w=0;
w<this.mN.length;w++)if(this.mN[w].ek())return!0;return!1};hP.prototype.aDW=function(x,F,W,n,L){var $=x.startsWith("afw_"),l=null;
if(!$&&!this.ON["-"])this.HE("-");if($&&!this.ON[x])this.HE(x);if(typeof x=="object"){l=x;if(!l.aci(S.E.Jo,this.tK))l.k(S.E.Jo,this.tK,this);
l.parent=this}else for(var w=0;w<this.sq.length;w++)if(this.sq[w].id==x)l=this.sq[w];if(this.ek()&&l.ek()){alert("Finish the current action first");
return}if(!l.gT(F))return;if(this.mN.indexOf(l)!=-1){if(x=="colorpicker")l.Lv(F,W,n,L);return}var k=this.mN.length-1;
if(k>=0)v.fX(this.mN[k].n,"wdisabled");this.n.appendChild(l.n);this.mN.push(l);this.VP(l);v.Rn(l);l.Lv(F,W,n,L)};
hP.prototype.VP=function(x){var F=this.cl,W=this.vu,n=x._$(F,W),L;if(n!=null){L=n}else{n=new eX(0,0);
L=x.aiu();if(L==null){var $=this.mN.indexOf(x)+1;if(F<450||W<450)L=new eX(0,0);else L=new eX($*150,$*150)}}x.n.style.left=L.x+"px";
x.n.style.top=this.n.offsetTop+L.y+"px";x.z4(this.cl-n.x*2,this.vu-n.y*2-34)};hP.prototype.AW=function(x,F){this.Mh=x;
for(var w=0;w<this.sq.length;w++)this.sq[w].AW(x,F)};hP.prototype.tK=function(x){var F=this.mN.pop();
v.Wq(F,this.n);var W=this.mN.length-1;if(W>=0)v.B$(this.mN[W].n,"wdisabled");if(this.bh.parentNode==this.n)this.n.removeChild(this.bh)};
window.onload=function(){document.body.appendChild(new hr().n)}}())